/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/mapbox-gl";
exports.ids = ["vendor-chunks/mapbox-gl"];
exports.modules = {

/***/ "(ssr)/./node_modules/mapbox-gl/dist/mapbox-gl.js":
/*!**************************************************!*\
  !*** ./node_modules/mapbox-gl/dist/mapbox-gl.js ***!
  \**************************************************/
/***/ (function(module) {

eval("/* Mapbox GL JS is Copyright Â© 2020 Mapbox and subject to the Mapbox Terms of Service ((https://www.mapbox.com/legal/tos/). */\n(function (global, factory) {\n true ? module.exports = factory() :\n0;\n})(this, (function () { 'use strict';\n\n/* eslint-disable */\n\nvar shared, worker, mapboxgl;\n// define gets called three times: one for each chunk. we rely on the order\n// they're imported to know which is which\nfunction define(_, chunk) {\nif (!shared) {\n    shared = chunk;\n} else if (!worker) {\n    worker = chunk;\n} else {\n    var workerBundleString = \"self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; (\" + shared + \")(sharedChunk); (\" + worker + \")(sharedChunk); self.onerror = null;\"\n\n    var sharedChunk = {};\n    shared(sharedChunk);\n    mapboxgl = chunk(sharedChunk);\n    if (typeof window !== 'undefined' && window && window.URL && window.URL.createObjectURL) {\n        mapboxgl.workerUrl = window.URL.createObjectURL(new Blob([workerBundleString], { type: 'text/javascript' }));\n    }\n}\n}\n\n\ndefine([\"exports\"],(function(e){\"use strict\";var t=\"undefined\"!=typeof self?self:{},i=\"3.1.2\";let r;const n={API_URL:\"https://api.mapbox.com\",get API_URL_REGEX(){if(null==r){const e=/^((https?:)?\\/\\/)?([^\\/]+\\.)?mapbox\\.c(n|om)(\\/|\\?|$)/i;try{r=null!=process.env.API_URL_REGEX?new RegExp(process.env.API_URL_REGEX):e;}catch(t){r=e;}}return r},get API_TILEJSON_REGEX(){return /^((https?:)?\\/\\/)?([^\\/]+\\.)?mapbox\\.c(n|om)(\\/v[0-9]*\\/.*\\.json.*$)/i},get API_SPRITE_REGEX(){return /^((https?:)?\\/\\/)?([^\\/]+\\.)?mapbox\\.c(n|om)(\\/styles\\/v[0-9]*\\/)(.*\\/sprite.*\\..*$)/i},get API_FONTS_REGEX(){return /^((https?:)?\\/\\/)?([^\\/]+\\.)?mapbox\\.c(n|om)(\\/fonts\\/v[0-9]*\\/)(.*\\.pbf.*$)/i},get API_STYLE_REGEX(){return /^((https?:)?\\/\\/)?([^\\/]+\\.)?mapbox\\.c(n|om)(\\/styles\\/v[0-9]*\\/)(.*$)/i},get API_CDN_URL_REGEX(){return /^((https?:)?\\/\\/)?api\\.mapbox\\.c(n|om)(\\/mapbox-gl-js\\/)(.*$)/i},get EVENTS_URL(){if(!n.API_URL)return null;try{const e=new URL(n.API_URL);return \"api.mapbox.cn\"===e.hostname?\"https://events.mapbox.cn/events/v2\":\"api.mapbox.com\"===e.hostname?\"https://events.mapbox.com/events/v2\":null}catch(e){return null}},SESSION_PATH:\"/map-sessions/v1\",FEEDBACK_URL:\"https://apps.mapbox.com/feedback\",TILE_URL_VERSION:\"v4\",RASTER_URL_PREFIX:\"raster/v1\",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,DEFAULT_STYLE:\"mapbox://styles/mapbox/standard\",MAX_PARALLEL_IMAGE_REQUESTS:16,DRACO_URL:\"https://api.mapbox.com/mapbox-gl-js/draco_decoder_gltf_v1.5.6.wasm\",GLYPHS_URL:\"mapbox://fonts/mapbox/{fontstack}/{range}.pbf\"},o={supported:!1,testSupport:function(e){!l&&a&&(c?h(e):s=e);}};let s,a,l=!1,c=!1;function h(e){const t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,a),e.isContextLost())return;o.supported=!0;}catch(e){}e.deleteTexture(t),l=!0;}t.document&&(a=t.document.createElement(\"img\"),a.onload=function(){s&&h(s),s=null,c=!0;},a.onerror=function(){l=!0,s=null;},a.src=\"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=\");const u=\"01\";function d(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}var p=f;function f(e,t,i,r){this.cx=3*e,this.bx=3*(i-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=i,this.p2y=r;}f.prototype={sampleCurveX:function(e){return ((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return ((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return (3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(void 0===t&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var i=e,r=0;r<8;r++){var n=this.sampleCurveX(i)-e;if(Math.abs(n)<t)return i;var o=this.sampleCurveDerivativeX(i);if(Math.abs(o)<1e-6)break;i-=n/o;}var s=0,a=1;for(i=e,r=0;r<20&&(n=this.sampleCurveX(i),!(Math.abs(n-e)<t));r++)e>n?s=i:a=i,i=.5*(a-s)+s;return i},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}};var m=d(p),_=g;function g(e,t){this.x=e,this.y=t;}g.prototype={clone:function(){return new g(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,i=e.y-this.y;return t*t+i*i},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),i=Math.sin(e),r=i*this.x+t*this.y;return this.x=t*this.x-i*this.y,this.y=r,this},_rotateAround:function(e,t){var i=Math.cos(e),r=Math.sin(e),n=t.y+r*(this.x-t.x)+i*(this.y-t.y);return this.x=t.x+i*(this.x-t.x)-r*(this.y-t.y),this.y=n,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},g.convert=function(e){return e instanceof g?e:Array.isArray(e)?new g(e[0],e[1]):e};var y=d(_);function x(e,t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return !1;for(let i=0;i<e.length;i++)if(!x(e[i],t[i]))return !1;return !0}if(\"object\"==typeof e&&null!==e&&null!==t){if(\"object\"!=typeof t)return !1;if(Object.keys(e).length!==Object.keys(t).length)return !1;for(const i in e)if(!x(e[i],t[i]))return !1;return !0}return e===t}const v=Math.PI/180,b=180/Math.PI;function w(e){return e*v}function T(e){return e*b}const E=[[0,0],[1,0],[1,1],[0,1]];function M(e){if(e<=0)return 0;if(e>=1)return 1;const t=e*e,i=t*e;return 4*(e<.5?i:3*(e-t)+i-.75)}function A(e){let t=1/0,i=1/0,r=-1/0,n=-1/0;for(const o of e)t=Math.min(t,o.x),i=Math.min(i,o.y),r=Math.max(r,o.x),n=Math.max(n,o.y);return {min:new y(t,i),max:new y(r,n)}}function S(e,t,i=0,r=!0){const n=new y(i,i),o=e.sub(n),s=t.add(n),a=[o,new y(s.x,o.y),s,new y(o.x,s.y)];return r&&a.push(o.clone()),a}function I(e,t,i,r){const n=new m(e,t,i,r);return function(e){return n.solve(e)}}const C=I(.25,.1,.25,1);function z(e,t,i){return Math.min(i,Math.max(t,e))}function P(e,t,i){return (i=z((i-e)/(t-e),0,1))*i*(3-2*i)}function D(e,t,i){const r=i-t,n=((e-t)%r+r)%r+t;return n===t?i:n}function R(e,t,i){if(!e.length)return i(null,[]);let r=e.length;const n=new Array(e.length);let o=null;e.forEach(((e,s)=>{t(e,((e,t)=>{e&&(o=e),n[s]=t,0==--r&&i(o,n);}));}));}function L(e){const t=[];for(const i in e)t.push(e[i]);return t}function k(e,...t){for(const i of t)for(const t in i)e[t]=i[t];return e}function O(e,t){const i={};for(let r=0;r<t.length;r++){const n=t[r];n in e&&(i[n]=e[n]);}return i}let B=1;function F(){return B++}function N(){return function e(t){return t?(t^Math.random()*(16>>t/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function U(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function V(e){return !!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function j(e,t){e.forEach((e=>{t[e]&&(t[e]=t[e].bind(t));}));}function G(e,t){return -1!==e.indexOf(t,e.length-t.length)}function q(e,t,i){const r={};for(const n in e)r[n]=t.call(i||this,e[n],n,e);return r}function Z(e,t,i){const r={};for(const n in e)t.call(i||this,e[n],n,e)&&(r[n]=e[n]);return r}function $(e){return Array.isArray(e)?e.map($):\"object\"==typeof e&&e?q(e,$):e}const W={};function H(e){W[e]||(\"undefined\"!=typeof console&&console.warn(e),W[e]=!0);}function X(e,t,i){return (i.y-e.y)*(t.x-e.x)>(t.y-e.y)*(i.x-e.x)}function Y(e){let t=0;for(let i,r,n=0,o=e.length,s=o-1;n<o;s=n++)i=e[n],r=e[s],t+=(r.x-i.x)*(i.y+r.y);return t}function K([e,t,i]){const r=w(t+90),n=w(i);return {x:e*Math.cos(r)*Math.sin(n),y:e*Math.sin(r)*Math.sin(n),z:e*Math.cos(n),azimuthal:t,polar:i}}function J(e,t,i){const r=Math.sqrt(e*e+t*t+i*i),n=r>0?Math.acos(i/r)*b:0;let o=0!==e||0!==t?Math.atan2(-t,-e)*b+90:0;return o<0&&(o+=360),[r,o,n]}function Q(){return \"undefined\"!=typeof WorkerGlobalScope&&\"undefined\"!=typeof self&&self instanceof WorkerGlobalScope}function ee(e){const t={};if(e.replace(/(?:^|(?:\\s*\\,\\s*))([^\\x00-\\x20\\(\\)<>@\\,;\\:\\\\\"\\/\\[\\]\\?\\=\\{\\}\\x7F]+)(?:\\=(?:([^\\x00-\\x20\\(\\)<>@\\,;\\:\\\\\"\\/\\[\\]\\?\\=\\{\\}\\x7F]+)|(?:\\\"((?:[^\"\\\\]|\\\\.)*)\\\")))?/g,((e,i,r,n)=>{const o=r||n;return t[i]=!o||o.toLowerCase(),\"\"})),t[\"max-age\"]){const e=parseInt(t[\"max-age\"],10);isNaN(e)?delete t[\"max-age\"]:t[\"max-age\"]=e;}return t}let te=null;function ie(){return !!t.document.fullscreenElement||!!t.document.webkitFullscreenElement}function re(e){try{const i=t[e];return i.setItem(\"_mapbox_test_\",1),i.removeItem(\"_mapbox_test_\"),!0}catch(e){return !1}}function ne(e,t){return [e[4*t],e[4*t+1],e[4*t+2],e[4*t+3]]}function oe(e,t,i){e[4*t+0]=i[0],e[4*t+1]=i[1],e[4*t+2]=i[2],e[4*t+3]=i[3];}function se(e,t){return [Math.pow(e[0],2.2)*t,Math.pow(e[1],2.2)*t,Math.pow(e[2],2.2)*t]}function ae(e){return [Math.pow(e[0],1/2.2),Math.pow(e[1],1/2.2),Math.pow(e[2],1/2.2)]}const le=\"mapbox-tiles\";let ce=500,he=50;let ue,de;function pe(){try{return t.caches}catch(e){}}function fe(){pe()&&!ue&&(ue=t.caches.open(le));}function me(e){const t=e.indexOf(\"?\");if(t<0)return e;const i=function(e){const t=e.indexOf(\"?\");return t>0?e.slice(t+1).split(\"&\"):[]}(e),r=i.filter((e=>{const t=e.split(\"=\");return \"language\"===t[0]||\"worldview\"===t[0]}));return r.length?`${e.slice(0,t)}?${r.join(\"&\")}`:e.slice(0,t)}let _e=1/0;function ge(e){_e++,_e>he&&(e.getActor().send(\"enforceCacheSizeLimit\",ce),_e=0);}const ye={Unknown:\"Unknown\",Style:\"Style\",Source:\"Source\",Tile:\"Tile\",Glyphs:\"Glyphs\",SpriteImage:\"SpriteImage\",SpriteJSON:\"SpriteJSON\",Image:\"Image\",Model:\"Model\"};\"function\"==typeof Object.freeze&&Object.freeze(ye);class xe extends Error{constructor(e,t,i){401===t&&De(i)&&(e+=\": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes\"),super(e),this.status=t,this.url=i;}toString(){return `${this.name}: ${this.message} (${this.status}): ${this.url}`}}const ve=Q()?()=>self.worker&&self.worker.referrer:()=>(\"blob:\"===t.location.protocol?t.parent:t).location.href;const be=function(e,i){if(!(/^file:/.test(r=e.url)||/^file:/.test(ve())&&!/^\\w+:/.test(r))){if(t.fetch&&t.Request&&t.AbortController&&t.Request.prototype.hasOwnProperty(\"signal\"))return function(e,i){const r=new t.AbortController,n=new t.Request(e.url,{method:e.method||\"GET\",body:e.body,credentials:e.credentials,headers:e.headers,referrer:ve(),referrerPolicy:e.referrerPolicy,signal:r.signal});let o=!1,s=!1;const a=(l=n.url).indexOf(\"sku=\")>0&&De(l);var l;\"json\"===e.type&&n.headers.set(\"Accept\",\"application/json\");const c=(r,o,l)=>{if(s)return;if(r&&\"SecurityError\"!==r.message&&H(r.toString()),o&&l)return h(o);const c=Date.now();t.fetch(n).then((t=>{if(t.ok){const e=a?t.clone():null;return h(t,e,c)}return i(new xe(t.statusText,t.status,e.url))})).catch((t=>{\"AbortError\"!==t.name&&i(new Error(`${t.message} ${e.url}`));}));},h=(r,a,l)=>{(\"arrayBuffer\"===e.type?r.arrayBuffer():\"json\"===e.type?r.json():r.text()).then((e=>{s||(a&&l&&function(e,i,r){if(fe(),!ue)return;const n={status:i.status,statusText:i.statusText,headers:new t.Headers};i.headers.forEach(((e,t)=>n.headers.set(t,e)));const o=ee(i.headers.get(\"Cache-Control\")||\"\");if(o[\"no-store\"])return;o[\"max-age\"]&&n.headers.set(\"Expires\",new Date(r+1e3*o[\"max-age\"]).toUTCString());const s=n.headers.get(\"Expires\");s&&(new Date(s).getTime()-r<42e4||function(e,t){if(void 0===de)try{new Response(new ReadableStream),de=!0;}catch(e){de=!1;}de?t(e.body):e.blob().then(t);}(i,(i=>{const r=new t.Response(i,n);fe(),ue&&ue.then((t=>t.put(me(e.url),r))).catch((e=>H(e.message)));})));}(n,a,l),o=!0,i(null,e,r.headers.get(\"Cache-Control\"),r.headers.get(\"Expires\")));})).catch((e=>{s||i(new Error(e.message));}));};return a?function(e,t){if(fe(),!ue)return t(null);const i=me(e.url);ue.then((e=>{e.match(i).then((r=>{const n=function(e){if(!e)return !1;const t=new Date(e.headers.get(\"Expires\")||0),i=ee(e.headers.get(\"Cache-Control\")||\"\");return t>Date.now()&&!i[\"no-cache\"]}(r);e.delete(i),n&&e.put(i,r.clone()),t(null,r,n);})).catch(t);})).catch(t);}(n,c):c(null,null),{cancel:()=>{s=!0,o||r.abort();}}}(e,i);if(Q()&&self.worker&&self.worker.actor)return self.worker.actor.send(\"getResource\",e,i,void 0,!0)}var r;return function(e,i){const r=new t.XMLHttpRequest;r.open(e.method||\"GET\",e.url,!0),\"arrayBuffer\"===e.type&&(r.responseType=\"arraybuffer\");for(const t in e.headers)r.setRequestHeader(t,e.headers[t]);return \"json\"===e.type&&(r.responseType=\"text\",r.setRequestHeader(\"Accept\",\"application/json\")),r.withCredentials=\"include\"===e.credentials,r.onerror=()=>{i(new Error(r.statusText));},r.onload=()=>{if((r.status>=200&&r.status<300||0===r.status)&&null!==r.response){let t=r.response;if(\"json\"===e.type)try{t=JSON.parse(r.response);}catch(e){return i(e)}i(null,t,r.getResponseHeader(\"Cache-Control\"),r.getResponseHeader(\"Expires\"));}else i(new xe(r.statusText,r.status,e.url));},r.send(e.body),{cancel:()=>r.abort()}}(e,i)},we=function(e,t){return be(k(e,{type:\"json\"}),t)},Te=function(e,t){return be(k(e,{type:\"arrayBuffer\"}),t)};function Ee(e){const i=t.document.createElement(\"a\");return i.href=e,i.protocol===t.document.location.protocol&&i.host===t.document.location.host}const Me=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=\";let Ae,Se;Ae=[],Se=0;const Ie=function(e,i){if(o.supported&&(e.headers||(e.headers={}),e.headers.accept=\"image/webp,*/*\"),Se>=n.MAX_PARALLEL_IMAGE_REQUESTS){const t={requestParameters:e,callback:i,cancelled:!1,cancel(){this.cancelled=!0;}};return Ae.push(t),t}Se++;let r=!1;const s=()=>{if(!r)for(r=!0,Se--;Ae.length&&Se<n.MAX_PARALLEL_IMAGE_REQUESTS;){const e=Ae.shift(),{requestParameters:t,callback:i,cancelled:r}=e;r||(e.cancel=Ie(t,i).cancel);}},a=Te(e,((e,r,n,o)=>{s(),e?i(e):r&&(t.createImageBitmap?function(e,i){const r=new t.Blob([new Uint8Array(e)],{type:\"image/png\"});t.createImageBitmap(r).then((e=>{i(null,e);})).catch((e=>{i(new Error(`Could not load image because of ${e.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`));}));}(r,((e,t)=>i(e,t,n,o))):function(e,i){const r=new t.Image,n=t.URL;r.onload=()=>{i(null,r),n.revokeObjectURL(r.src),r.onload=null,t.requestAnimationFrame((()=>{r.src=Me;}));},r.onerror=()=>i(new Error(\"Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.\"));const o=new t.Blob([new Uint8Array(e)],{type:\"image/png\"});r.src=e.byteLength?n.createObjectURL(o):Me;}(r,((e,t)=>i(e,t,n,o))));}));return {cancel:()=>{a.cancel(),s();}}},Ce=\"NO_ACCESS_TOKEN\";class ze{constructor(e,t,i){this._transformRequestFn=e,this._customAccessToken=t,this._silenceAuthErrors=!!i,this._createSkuToken();}_createSkuToken(){const e=function(){let e=\"\";for(let t=0;t<10;t++)e+=\"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\"[Math.floor(62*Math.random())];return {token:[\"1\",u,e].join(\"\"),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=e.token,this._skuTokenExpiresAt=e.tokenExpiresAt;}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}}normalizeStyleURL(e,t){if(!Pe(e))return e;const r=Be(e);return r.params.push(`sdk=js-${i}`),r.path=`/styles/v1${r.path}`,this._makeAPIURL(r,this._customAccessToken||t)}normalizeGlyphsURL(e,t){if(!Pe(e))return e;const i=Be(e);return i.path=`/fonts/v1${i.path}`,this._makeAPIURL(i,this._customAccessToken||t)}normalizeModelURL(e,t){if(!Pe(e))return e;const i=Be(e);return i.path=`/models/v1${i.path}`,this._makeAPIURL(i,this._customAccessToken||t)}normalizeSourceURL(e,t,i,r){if(!Pe(e))return e;const n=Be(e);return n.path=`/v4/${n.authority}.json`,n.params.push(\"secure\"),i&&n.params.push(`language=${i}`),r&&n.params.push(`worldview=${r}`),this._makeAPIURL(n,this._customAccessToken||t)}normalizeSpriteURL(e,t,i,r){const n=Be(e);return Pe(e)?(n.path=`/styles/v1${n.path}/sprite${t}${i}`,this._makeAPIURL(n,this._customAccessToken||r)):(n.path+=`${t}${i}`,Fe(n))}normalizeTileURL(e,t,i){if(this._isSkuTokenExpired()&&this._createSkuToken(),e&&!Pe(e))return e;const r=Be(e);r.path=r.path.replace(/(\\.(png|jpg)\\d*)(?=$)/,`${t||i&&\"raster\"!==r.authority&&512===i?\"@2x\":\"\"}${o.supported?\".webp\":\"$1\"}`),\"raster\"===r.authority?r.path=`/${n.RASTER_URL_PREFIX}${r.path}`:(r.path=r.path.replace(/^.+\\/v4\\//,\"/\"),r.path=`/${n.TILE_URL_VERSION}${r.path}`);const s=this._customAccessToken||function(e){for(const t of e){const e=t.match(/^access_token=(.*)$/);if(e)return e[1]}return null}(r.params)||n.ACCESS_TOKEN;return n.REQUIRE_ACCESS_TOKEN&&s&&this._skuToken&&r.params.push(`sku=${this._skuToken}`),this._makeAPIURL(r,s)}canonicalizeTileURL(e,t){const i=Be(e);if(!i.path.match(/^(\\/v4\\/|\\/raster\\/v1\\/)/)||!i.path.match(/\\.[\\w]+$/))return e;let r=\"mapbox://\";i.path.match(/^\\/raster\\/v1\\//)?r+=`raster/${i.path.replace(`/${n.RASTER_URL_PREFIX}/`,\"\")}`:r+=`tiles/${i.path.replace(`/${n.TILE_URL_VERSION}/`,\"\")}`;let o=i.params;return t&&(o=o.filter((e=>!e.match(/^access_token=/)))),o.length&&(r+=`?${o.join(\"&\")}`),r}canonicalizeTileset(e,t){const i=!!t&&Pe(t),r=[];for(const t of e.tiles||[])De(t)?r.push(this.canonicalizeTileURL(t,i)):r.push(t);return r}_makeAPIURL(e,t){const i=\"See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes\",r=Be(n.API_URL);if(e.protocol=r.protocol,e.authority=r.authority,\"http\"===e.protocol){const t=e.params.indexOf(\"secure\");t>=0&&e.params.splice(t,1);}if(\"/\"!==r.path&&(e.path=`${r.path}${e.path}`),!n.REQUIRE_ACCESS_TOKEN)return Fe(e);if(t=t||n.ACCESS_TOKEN,!this._silenceAuthErrors){if(!t)throw new Error(`An API access token is required to use Mapbox GL. ${i}`);if(\"s\"===t[0])throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${i}`)}return e.params=e.params.filter((e=>-1===e.indexOf(\"access_token\"))),e.params.push(`access_token=${t||\"\"}`),Fe(e)}}function Pe(e){return 0===e.indexOf(\"mapbox:\")}function De(e){return n.API_URL_REGEX.test(e)}function Re(e){return n.API_CDN_URL_REGEX.test(e)}function Le(e){return n.API_STYLE_REGEX.test(e)&&!ke(e)}function ke(e){return n.API_SPRITE_REGEX.test(e)}const Oe=/^(\\w+):\\/\\/([^/?]*)(\\/[^?]+)?\\??(.+)?/;function Be(e){const t=e.match(Oe);if(!t)throw new Error(\"Unable to parse URL object\");return {protocol:t[1],authority:t[2],path:t[3]||\"/\",params:t[4]?t[4].split(\"&\"):[]}}function Fe(e){const t=e.params.length?`?${e.params.join(\"&\")}`:\"\";return `${e.protocol}://${e.authority}${e.path}${t}`}const Ne=\"mapbox.eventData\";function Ue(e){if(!e)return null;const i=e.split(\".\");if(!i||3!==i.length)return null;try{return JSON.parse(decodeURIComponent(t.atob(i[1]).split(\"\").map((e=>\"%\"+(\"00\"+e.charCodeAt(0).toString(16)).slice(-2))).join(\"\")))}catch(e){return null}}class Ve{constructor(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null;}getStorageKey(e){const i=Ue(n.ACCESS_TOKEN);let r=\"\";return r=i&&i.u?t.btoa(encodeURIComponent(i.u).replace(/%([0-9A-F]{2})/g,((e,t)=>String.fromCharCode(Number(\"0x\"+t))))):n.ACCESS_TOKEN||\"\",e?`${Ne}.${e}:${r}`:`${Ne}:${r}`}fetchEventData(){const e=re(\"localStorage\"),i=this.getStorageKey(),r=this.getStorageKey(\"uuid\");if(e)try{const e=t.localStorage.getItem(i);e&&(this.eventData=JSON.parse(e));const n=t.localStorage.getItem(r);n&&(this.anonId=n);}catch(e){H(\"Unable to read from LocalStorage\");}}saveEventData(){const e=re(\"localStorage\"),i=this.getStorageKey(),r=this.getStorageKey(\"uuid\");if(e)try{t.localStorage.setItem(r,this.anonId),Object.keys(this.eventData).length>=1&&t.localStorage.setItem(i,JSON.stringify(this.eventData));}catch(e){H(\"Unable to write to LocalStorage\");}}processRequests(e){}postEvent(e,t,i,r){if(!n.EVENTS_URL)return;const o=Be(n.EVENTS_URL);o.params.push(`access_token=${r||n.ACCESS_TOKEN||\"\"}`);const s={event:this.type,created:new Date(e).toISOString()},a=t?k(s,t):s,l={url:Fe(o),headers:{\"Content-Type\":\"text/plain\"},body:JSON.stringify([a])};this.pendingRequest=function(e,t){return be(k(e,{method:\"POST\"}),t)}(l,(e=>{this.pendingRequest=null,i(e),this.saveEventData(),this.processRequests(r);}));}queueRequest(e,t){this.queue.push(e),this.processRequests(t);}}const je=new class extends Ve{constructor(e){super(\"appUserTurnstile\"),this._customAccessToken=e;}postTurnstileEvent(e,t){n.EVENTS_URL&&n.ACCESS_TOKEN&&Array.isArray(e)&&e.some((e=>Pe(e)||De(e)))&&this.queueRequest(Date.now(),t);}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const t=Ue(n.ACCESS_TOKEN),r=t?t.u:n.ACCESS_TOKEN;let o=r!==this.eventData.tokenU;V(this.anonId)||(this.anonId=N(),o=!0);const s=this.queue.shift();if(this.eventData.lastSuccess){const e=new Date(this.eventData.lastSuccess),t=new Date(s),i=(s-this.eventData.lastSuccess)/864e5;o=o||i>=1||i<-1||e.getDate()!==t.getDate();}else o=!0;o?this.postEvent(s,{sdkIdentifier:\"mapbox-gl-js\",sdkVersion:i,skuId:u,\"enabled.telemetry\":!1,userId:this.anonId},(e=>{e||(this.eventData.lastSuccess=s,this.eventData.tokenU=r);}),e):this.processRequests();}},Ge=je.postTurnstileEvent.bind(je),qe=new class extends Ve{constructor(){super(\"map.load\"),this.success={},this.skuToken=\"\";}postMapLoadEvent(e,t,i,r){this.skuToken=t,this.errorCb=r,n.EVENTS_URL&&(i||n.ACCESS_TOKEN?this.queueRequest({id:e,timestamp:Date.now()},i):this.errorCb(new Error(Ce)));}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;const{id:t,timestamp:r}=this.queue.shift();t&&this.success[t]||(this.anonId||this.fetchEventData(),V(this.anonId)||(this.anonId=N()),this.postEvent(r,{sdkIdentifier:\"mapbox-gl-js\",sdkVersion:i,skuId:u,skuToken:this.skuToken,userId:this.anonId},(e=>{e?this.errorCb(e):t&&(this.success[t]=!0);}),e));}},Ze=qe.postMapLoadEvent.bind(qe),$e=new class extends Ve{constructor(){super(\"gljs.performance\");}postPerformanceEvent(e,t){n.EVENTS_URL&&(e||n.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:t},e);}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;const{timestamp:r,performanceData:n}=this.queue.shift(),o=function(e){const r=t.performance.getEntriesByType(\"resource\"),n=t.performance.getEntriesByType(\"mark\"),o=function(e){const t={};if(e)for(const i in e)if(\"other\"!==i)for(const r of e[i]){const e=`${i}ResolveRangeMin`,n=`${i}ResolveRangeMax`,o=`${i}RequestCount`,s=`${i}RequestCachedCount`;t[e]=Math.min(t[e]||1/0,r.startTime),t[n]=Math.max(t[n]||-1/0,r.responseEnd);const a=e=>{void 0===t[e]&&(t[e]=0),++t[e];};void 0!==r.transferSize&&0===r.transferSize&&a(s),a(o);}return t}(function(e,t){const i={};if(e)for(const r of e){const e=t(r);void 0===i[e]&&(i[e]=[]),i[e].push(r);}return i}(r,et)),s=t.devicePixelRatio,a=t.navigator.connection||t.navigator.mozConnection||t.navigator.webkitConnection,l={counters:[],metadata:[],attributes:[]},c=(e,t,i)=>{null!=i&&e.push({name:t,value:i.toString()});};for(const e in o)c(l.counters,e,o[e]);if(e.interactionRange[0]!==1/0&&e.interactionRange[1]!==-1/0&&(c(l.counters,\"interactionRangeMin\",e.interactionRange[0]),c(l.counters,\"interactionRangeMax\",e.interactionRange[1])),n)for(const e of Object.keys(Je)){const t=Je[e],i=n.find((e=>e.name===t));i&&c(l.counters,t,i.startTime);}return c(l.counters,\"visibilityHidden\",e.visibilityHidden),c(l.attributes,\"style\",function(e){if(e)for(const t of e){const e=t.name.split(\"?\")[0];if(Le(e)){const t=e.split(\"/\").slice(-2);if(2===t.length)return `mapbox://styles/${t[0]}/${t[1]}`}}}(r)),c(l.attributes,\"terrainEnabled\",e.terrainEnabled?\"true\":\"false\"),c(l.attributes,\"fogEnabled\",e.fogEnabled?\"true\":\"false\"),c(l.attributes,\"projection\",e.projection),c(l.attributes,\"zoom\",e.zoom),c(l.metadata,\"devicePixelRatio\",s),c(l.metadata,\"connectionEffectiveType\",a?a.effectiveType:void 0),c(l.metadata,\"navigatorUserAgent\",t.navigator.userAgent),c(l.metadata,\"screenWidth\",t.screen.width),c(l.metadata,\"screenHeight\",t.screen.height),c(l.metadata,\"windowWidth\",t.innerWidth),c(l.metadata,\"windowHeight\",t.innerHeight),c(l.metadata,\"mapWidth\",e.width/s),c(l.metadata,\"mapHeight\",e.height/s),c(l.metadata,\"webglRenderer\",e.renderer),c(l.metadata,\"webglVendor\",e.vendor),c(l.metadata,\"sdkVersion\",i),c(l.metadata,\"sdkIdentifier\",\"mapbox-gl-js\"),l}(n);for(const e of o.metadata);for(const e of o.counters);for(const e of o.attributes);this.postEvent(r,o,(()=>{}),e);}},We=$e.postPerformanceEvent.bind($e),He=new class extends Ve{constructor(){super(\"map.auth\"),this.success={},this.skuToken=\"\";}getSession(e,t,i,r){if(!n.API_URL||!n.SESSION_PATH)return;const o=Be(n.API_URL+n.SESSION_PATH);o.params.push(`sku=${t||\"\"}`),o.params.push(`access_token=${r||n.ACCESS_TOKEN||\"\"}`);const s={url:Fe(o),headers:{\"Content-Type\":\"text/plain\"}};this.pendingRequest=function(e,t){return be(k(e,{method:\"GET\"}),t)}(s,(e=>{this.pendingRequest=null,i(e),this.saveEventData(),this.processRequests(r);}));}getSessionAPI(e,t,i,r){this.skuToken=t,this.errorCb=r,n.SESSION_PATH&&n.API_URL&&(i||n.ACCESS_TOKEN?this.queueRequest({id:e,timestamp:Date.now()},i):this.errorCb(new Error(Ce)));}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;const{id:t,timestamp:i}=this.queue.shift();t&&this.success[t]||this.getSession(i,this.skuToken,(e=>{e?this.errorCb(e):t&&(this.success[t]=!0);}),e);}},Xe=He.getSessionAPI.bind(He),Ye=new Set;function Ke(e,t){t?Ye.add(e):Ye.delete(e);}const Je={create:\"create\",load:\"load\",fullLoad:\"fullLoad\"},Qe={mark(e){t.performance.mark(e);},measure(e,i,r){t.performance.measure(e,i,r);}};function et(e){const t=e.name.split(\"?\")[0];return Re(t)&&t.includes(\"mapbox-gl.js\")?\"javascript\":Re(t)&&t.includes(\"mapbox-gl.css\")?\"css\":function(e){return n.API_FONTS_REGEX.test(e)}(t)?\"fontRange\":ke(t)?\"sprite\":Le(t)?\"style\":function(e){return n.API_TILEJSON_REGEX.test(e)}(t)?\"tilejson\":\"other\"}const tt=t.performance;function it(e){const t=e?e.url.toString():void 0;return tt.getEntriesByName(t)}var rt=nt;function nt(e){return !function(e){return \"undefined\"==typeof window||\"undefined\"==typeof document?\"not a browser\":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?\"JSON\"in window&&\"parse\"in JSON&&\"stringify\"in JSON?function(){if(!(\"Worker\"in window&&\"Blob\"in window&&\"URL\"in window))return !1;var e,t,i=new Blob([\"\"],{type:\"text/javascript\"}),r=URL.createObjectURL(i);try{t=new Worker(r),e=!0;}catch(t){e=!1;}return t&&t.terminate(),URL.revokeObjectURL(r),e}()?\"Uint8ClampedArray\"in window?ArrayBuffer.isView?function(){var e=document.createElement(\"canvas\");e.width=e.height=1;var t=e.getContext(\"2d\");if(!t)return !1;var i=t.getImageData(0,0,1,1);return i&&i.width===e.width}()?(void 0===ot[t=e&&e.failIfMajorPerformanceCaveat]&&(ot[t]=function(e){var t,i=function(e){var t=document.createElement(\"canvas\"),i=Object.create(nt.webGLContextAttributes);return i.failIfMajorPerformanceCaveat=e,t.getContext(\"webgl\",i)||t.getContext(\"experimental-webgl\",i)}(e);if(!i)return !1;try{t=i.createShader(i.VERTEX_SHADER);}catch(e){return !1}return !(!t||i.isContextLost())&&(i.shaderSource(t,\"void main() {}\"),i.compileShader(t),!0===i.getShaderParameter(t,i.COMPILE_STATUS))}(t)),ot[t]?document.documentMode?\"insufficient ECMAScript 6 support\":void 0:\"insufficient WebGL support\"):\"insufficient Canvas/getImageData support\":\"insufficient ArrayBuffer support\":\"insufficient Uint8ClampedArray support\":\"insufficient worker support\":\"insufficient JSON support\":\"insufficient Object support\":\"insufficient Function support\":\"insufficent Array support\";var t;}(e)}var ot={};let st,at,lt,ct,ht;function ut(){return null==st&&(st=t.OffscreenCanvas&&new t.OffscreenCanvas(1,1).getContext(\"2d\")&&\"function\"==typeof t.createImageBitmap),st}nt.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const dt={now:()=>void 0!==ct?ct:t.performance.now(),setNow(e){ct=e;},restoreNow(){ct=void 0;},frame(e){const i=t.requestAnimationFrame(e);return {cancel:()=>t.cancelAnimationFrame(i)}},getImageData(e,i=0){const{width:r,height:n}=e;ht||(ht=t.document.createElement(\"canvas\"));const o=ht.getContext(\"2d\",{willReadFrequently:!0});if(!o)throw new Error(\"failed to create canvas 2d context\");return (r>ht.width||n>ht.height)&&(ht.width=r,ht.height=n),o.clearRect(-i,-i,r+2*i,n+2*i),o.drawImage(e,0,0,r,n),o.getImageData(-i,-i,r+2*i,n+2*i)},resolveURL:e=>(at||(at=t.document.createElement(\"a\")),at.href=e,at.href),get devicePixelRatio(){return t.devicePixelRatio},get prefersReducedMotion(){return !!t.matchMedia&&(null==lt&&(lt=t.matchMedia(\"(prefers-reduced-motion: reduce)\")),lt.matches)},hasCanvasFingerprintNoise(){if(!ut())return !1;const e=new t.OffscreenCanvas(85,1),i=e.getContext(\"2d\",{willReadFrequently:!0});let r=0;for(let t=0;t<e.width;++t)i.fillStyle=`rgba(${r++},${r++},${r++}, 255)`,i.fillRect(t,0,1,1);const n=i.getImageData(0,0,e.width,e.height);r=0;for(let e=0;e<n.data.length;++e)if(e%4!=3&&r++!==n.data[e])return !0;return !1}};function pt(e,i,r){const n=t.document.createElement(e);return void 0!==i&&(n.className=i),r&&r.appendChild(n),n}function ft(e,i,r){const n=t.document.createElementNS(\"http://www.w3.org/2000/svg\",e);for(const e of Object.keys(i))n.setAttributeNS(null,e,i[e]);return r&&r.appendChild(n),n}const mt=t.document&&t.document.documentElement.style,_t=mt&&void 0!==mt.userSelect?\"userSelect\":\"WebkitUserSelect\";let gt;function yt(){mt&&_t&&(gt=mt[_t],mt[_t]=\"none\");}function xt(){mt&&_t&&(mt[_t]=gt);}function vt(e){e.preventDefault(),e.stopPropagation(),t.removeEventListener(\"click\",vt,!0);}function bt(){t.addEventListener(\"click\",vt,!0),t.setTimeout((()=>{t.removeEventListener(\"click\",vt,!0);}),0);}function wt(e,t){const i=e.getBoundingClientRect();return Mt(e,i,t)}function Tt(e,t){const i=e.getBoundingClientRect(),r=[];for(let n=0;n<t.length;n++)r.push(Mt(e,i,t[n]));return r}function Et(e){return void 0!==t.InstallTrigger&&2===e.button&&e.ctrlKey&&t.navigator.platform.toUpperCase().indexOf(\"MAC\")>=0?0:e.button}function Mt(e,t,i){const r=e.offsetWidth===t.width?1:e.offsetWidth/t.width;return new y((i.clientX-t.left)*r,(i.clientY-t.top)*r)}function At(e,t,i){i[e]&&-1!==i[e].indexOf(t)||(i[e]=i[e]||[],i[e].push(t));}function St(e,t,i){if(i&&i[e]){const r=i[e].indexOf(t);-1!==r&&i[e].splice(r,1);}}class It{constructor(e,t={}){k(this,t),this.type=e;}}class Ct extends It{constructor(e,t={}){super(\"error\",k({error:e},t));}}class zt{on(e,t){return this._listeners=this._listeners||{},At(e,t,this._listeners),this}off(e,t){return St(e,t,this._listeners),St(e,t,this._oneTimeListeners),this}once(e,t){return t?(this._oneTimeListeners=this._oneTimeListeners||{},At(e,t,this._oneTimeListeners),this):new Promise((t=>this.once(e,t)))}fire(e,t){\"string\"==typeof e&&(e=new It(e,t||{}));const i=e.type;if(this.listens(i)){e.target=this;const t=this._listeners&&this._listeners[i]?this._listeners[i].slice():[];for(const i of t)i.call(this,e);const r=this._oneTimeListeners&&this._oneTimeListeners[i]?this._oneTimeListeners[i].slice():[];for(const t of r)St(i,t,this._oneTimeListeners),t.call(this,e);const n=this._eventedParent;n&&(k(e,\"function\"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),n.fire(e));}else e instanceof Ct&&console.error(e.error);return this}listens(e){return !!(this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e))}setEventedParent(e,t){return this._eventedParent=e,this._eventedParentData=t,this}}var Pt=JSON.parse('{\"$version\":8,\"$root\":{\"version\":{\"required\":true,\"type\":\"enum\",\"values\":[8]},\"fragment\":{\"type\":\"boolean\"},\"name\":{\"type\":\"string\"},\"metadata\":{\"type\":\"*\"},\"center\":{\"type\":\"array\",\"value\":\"number\"},\"zoom\":{\"type\":\"number\"},\"bearing\":{\"type\":\"number\",\"default\":0,\"period\":360},\"pitch\":{\"type\":\"number\",\"default\":0},\"light\":{\"type\":\"light\"},\"lights\":{\"required\":false,\"type\":\"array\",\"value\":\"light-3d\"},\"terrain\":{\"type\":\"terrain\",\"optional\":true},\"fog\":{\"type\":\"fog\"},\"camera\":{\"type\":\"camera\"},\"imports\":{\"type\":\"array\",\"value\":\"import\"},\"schema\":{\"type\":\"schema\"},\"sources\":{\"required\":true,\"type\":\"sources\"},\"sprite\":{\"type\":\"string\"},\"glyphs\":{\"type\":\"string\",\"default\":\"mapbox://fonts/mapbox/{fontstack}/{range}.pbf\"},\"transition\":{\"type\":\"transition\"},\"projection\":{\"type\":\"projection\"},\"layers\":{\"required\":true,\"type\":\"array\",\"value\":\"layer\"},\"models\":{\"type\":\"models\"}},\"model\":{\"type\":\"string\",\"required\":true},\"import\":{\"id\":{\"type\":\"string\",\"required\":true},\"url\":{\"type\":\"string\",\"required\":true},\"config\":{\"type\":\"config\"},\"data\":{\"type\":\"$root\"}},\"config\":{\"*\":{\"type\":\"*\"}},\"schema\":{\"*\":{\"type\":\"option\"}},\"option\":{\"default\":{\"type\":\"*\",\"required\":true},\"type\":{\"type\":\"enum\",\"values\":{\"string\":1,\"number\":1,\"boolean\":1,\"color\":1}},\"array\":{\"type\":\"boolean\"},\"minValue\":{\"type\":\"number\"},\"maxValue\":{\"type\":\"number\"},\"stepValue\":{\"type\":\"number\"},\"values\":{\"type\":\"array\",\"value\":\"*\"},\"metadata\":{\"type\":\"*\"}},\"models\":{\"*\":{\"type\":\"model\"}},\"light-3d\":{\"id\":{\"type\":\"string\",\"required\":true},\"properties\":{\"type\":\"properties\"},\"type\":{\"type\":\"enum\",\"values\":{\"ambient\":{},\"directional\":{},\"flat\":{}}}},\"properties\":[\"properties_light_directional\",\"properties_light_ambient\",\"properties_light_flat\"],\"properties_light_directional\":{\"direction\":{\"type\":\"array\",\"default\":[210,30],\"minimum\":[0,0],\"maximum\":[360,90],\"length\":2,\"value\":\"number\",\"property-type\":\"data-constant\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]}},\"color\":{\"type\":\"color\",\"property-type\":\"data-constant\",\"default\":\"#ffffff\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"intensity\":{\"type\":\"number\",\"property-type\":\"data-constant\",\"default\":0.5,\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"cast-shadows\":{\"type\":\"boolean\",\"default\":false,\"expression\":{},\"property-type\":\"data-constant\"},\"shadow-intensity\":{\"type\":\"number\",\"property-type\":\"data-constant\",\"default\":1,\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true}},\"properties_light_ambient\":{\"color\":{\"type\":\"color\",\"property-type\":\"data-constant\",\"default\":\"#ffffff\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"intensity\":{\"type\":\"number\",\"property-type\":\"data-constant\",\"default\":0.5,\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true}},\"properties_light_flat\":{\"anchor\":{\"type\":\"enum\",\"default\":\"viewport\",\"values\":{\"map\":1,\"viewport\":1},\"property-type\":\"data-constant\",\"expression\":{\"parameters\":[\"zoom\"]}},\"position\":{\"type\":\"array\",\"default\":[1.15,210,30],\"length\":3,\"value\":\"number\",\"property-type\":\"data-constant\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]}},\"color\":{\"type\":\"color\",\"property-type\":\"data-constant\",\"default\":\"#ffffff\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"intensity\":{\"type\":\"number\",\"property-type\":\"data-constant\",\"default\":0.5,\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true}},\"sources\":{\"*\":{\"type\":\"source\"}},\"source\":[\"source_vector\",\"source_raster\",\"source_raster_dem\",\"source_raster_array\",\"source_geojson\",\"source_video\",\"source_image\",\"source_model\"],\"source_vector\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"vector\":1}},\"url\":{\"type\":\"string\"},\"tiles\":{\"type\":\"array\",\"value\":\"string\"},\"bounds\":{\"type\":\"array\",\"value\":\"number\",\"length\":4,\"default\":[-180,-85.051129,180,85.051129]},\"scheme\":{\"type\":\"enum\",\"values\":{\"xyz\":1,\"tms\":1},\"default\":\"xyz\"},\"minzoom\":{\"type\":\"number\",\"default\":0},\"maxzoom\":{\"type\":\"number\",\"default\":22},\"attribution\":{\"type\":\"string\"},\"promoteId\":{\"type\":\"promoteId\"},\"volatile\":{\"type\":\"boolean\",\"default\":false},\"*\":{\"type\":\"*\"}},\"source_raster\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"raster\":1}},\"url\":{\"type\":\"string\"},\"tiles\":{\"type\":\"array\",\"value\":\"string\"},\"bounds\":{\"type\":\"array\",\"value\":\"number\",\"length\":4,\"default\":[-180,-85.051129,180,85.051129]},\"minzoom\":{\"type\":\"number\",\"default\":0},\"maxzoom\":{\"type\":\"number\",\"default\":22},\"tileSize\":{\"type\":\"number\",\"default\":512},\"scheme\":{\"type\":\"enum\",\"values\":{\"xyz\":1,\"tms\":1},\"default\":\"xyz\"},\"attribution\":{\"type\":\"string\"},\"volatile\":{\"type\":\"boolean\",\"default\":false},\"*\":{\"type\":\"*\"}},\"source_raster_dem\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"raster-dem\":1}},\"url\":{\"type\":\"string\"},\"tiles\":{\"type\":\"array\",\"value\":\"string\"},\"bounds\":{\"type\":\"array\",\"value\":\"number\",\"length\":4,\"default\":[-180,-85.051129,180,85.051129]},\"minzoom\":{\"type\":\"number\",\"default\":0},\"maxzoom\":{\"type\":\"number\",\"default\":22},\"tileSize\":{\"type\":\"number\",\"default\":512},\"attribution\":{\"type\":\"string\"},\"encoding\":{\"type\":\"enum\",\"values\":{\"terrarium\":1,\"mapbox\":1},\"default\":\"mapbox\"},\"volatile\":{\"type\":\"boolean\",\"default\":false},\"*\":{\"type\":\"*\"}},\"source_raster_array\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"raster-array\":1}},\"url\":{\"type\":\"string\"},\"tiles\":{\"type\":\"array\",\"value\":\"string\"},\"bounds\":{\"type\":\"array\",\"value\":\"number\",\"length\":4,\"default\":[-180,-85.051129,180,85.051129]},\"minzoom\":{\"type\":\"number\",\"default\":0},\"maxzoom\":{\"type\":\"number\",\"default\":22},\"tileSize\":{\"type\":\"number\",\"default\":512},\"attribution\":{\"type\":\"string\"},\"rasterLayers\":{\"type\":\"*\"},\"*\":{\"type\":\"*\"}},\"source_geojson\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"geojson\":1}},\"data\":{\"type\":\"*\"},\"maxzoom\":{\"type\":\"number\",\"default\":18},\"attribution\":{\"type\":\"string\"},\"buffer\":{\"type\":\"number\",\"default\":128,\"maximum\":512,\"minimum\":0},\"filter\":{\"type\":\"*\"},\"tolerance\":{\"type\":\"number\",\"default\":0.375},\"cluster\":{\"type\":\"boolean\",\"default\":false},\"clusterRadius\":{\"type\":\"number\",\"default\":50,\"minimum\":0},\"clusterMaxZoom\":{\"type\":\"number\"},\"clusterMinPoints\":{\"type\":\"number\"},\"clusterProperties\":{\"type\":\"*\"},\"lineMetrics\":{\"type\":\"boolean\",\"default\":false},\"generateId\":{\"type\":\"boolean\",\"default\":false},\"promoteId\":{\"type\":\"promoteId\"}},\"source_video\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"video\":1}},\"urls\":{\"required\":true,\"type\":\"array\",\"value\":\"string\"},\"coordinates\":{\"required\":true,\"type\":\"array\",\"length\":4,\"value\":{\"type\":\"array\",\"length\":2,\"value\":\"number\"}}},\"source_image\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"image\":1}},\"url\":{\"required\":false,\"type\":\"string\"},\"coordinates\":{\"required\":true,\"type\":\"array\",\"length\":4,\"value\":{\"type\":\"array\",\"length\":2,\"value\":\"number\"}}},\"source_model\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"model\":1,\"batched-model\":1}},\"maxzoom\":{\"type\":\"number\",\"default\":18},\"minzoom\":{\"type\":\"number\",\"default\":0},\"tiles\":{\"type\":\"array\",\"value\":\"string\"}},\"layer\":{\"id\":{\"type\":\"string\",\"required\":true},\"type\":{\"type\":\"enum\",\"values\":{\"fill\":{},\"line\":{},\"symbol\":{},\"circle\":{},\"heatmap\":{},\"fill-extrusion\":{},\"raster\":{},\"hillshade\":{},\"model\":{},\"background\":{},\"sky\":{},\"slot\":{}},\"required\":true},\"metadata\":{\"type\":\"*\"},\"source\":{\"type\":\"string\"},\"source-layer\":{\"type\":\"string\"},\"slot\":{\"type\":\"string\"},\"minzoom\":{\"type\":\"number\",\"minimum\":0,\"maximum\":24},\"maxzoom\":{\"type\":\"number\",\"minimum\":0,\"maximum\":24},\"filter\":{\"type\":\"filter\"},\"layout\":{\"type\":\"layout\"},\"paint\":{\"type\":\"paint\"}},\"layout\":[\"layout_fill\",\"layout_line\",\"layout_circle\",\"layout_heatmap\",\"layout_fill-extrusion\",\"layout_symbol\",\"layout_raster\",\"layout_hillshade\",\"layout_background\",\"layout_sky\",\"layout_model\"],\"layout_background\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":1,\"none\":1},\"default\":\"visible\",\"expression\":{},\"property-type\":\"constant\"}},\"layout_sky\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":1,\"none\":1},\"default\":\"visible\",\"expression\":{},\"property-type\":\"constant\"}},\"layout_model\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":1,\"none\":1},\"default\":\"visible\",\"expression\":{},\"property-type\":\"constant\"},\"model-id\":{\"type\":\"string\",\"default\":\"\",\"property-type\":\"data-driven\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]}}},\"layout_fill\":{\"fill-sort-key\":{\"type\":\"number\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":1,\"none\":1},\"default\":\"visible\",\"expression\":{},\"property-type\":\"constant\"}},\"layout_circle\":{\"circle-sort-key\":{\"type\":\"number\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":1,\"none\":1},\"default\":\"visible\",\"expression\":{},\"property-type\":\"constant\"}},\"layout_heatmap\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":1,\"none\":1},\"default\":\"visible\",\"expression\":{},\"property-type\":\"constant\"}},\"layout_fill-extrusion\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":1,\"none\":1},\"default\":\"visible\",\"expression\":{},\"property-type\":\"constant\"},\"fill-extrusion-edge-radius\":{\"type\":\"number\",\"private\":true,\"default\":0,\"minimum\":0,\"maximum\":1,\"expression\":{},\"property-type\":\"constant\"}},\"layout_line\":{\"line-cap\":{\"type\":\"enum\",\"values\":{\"butt\":1,\"round\":1,\"square\":1},\"default\":\"butt\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"line-join\":{\"type\":\"enum\",\"values\":{\"bevel\":1,\"round\":1,\"miter\":1},\"default\":\"miter\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"line-miter-limit\":{\"type\":\"number\",\"default\":2,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"line-round-limit\":{\"type\":\"number\",\"default\":1.05,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"line-sort-key\":{\"type\":\"number\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":1,\"none\":1},\"default\":\"visible\",\"expression\":{},\"property-type\":\"constant\"}},\"layout_symbol\":{\"symbol-placement\":{\"type\":\"enum\",\"values\":{\"point\":1,\"line\":1,\"line-center\":1},\"default\":\"point\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"symbol-spacing\":{\"type\":\"number\",\"default\":250,\"minimum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"symbol-avoid-edges\":{\"type\":\"boolean\",\"default\":false,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"symbol-sort-key\":{\"type\":\"number\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"symbol-z-order\":{\"type\":\"enum\",\"values\":{\"auto\":1,\"viewport-y\":1,\"source\":1},\"default\":\"auto\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"symbol-z-elevate\":{\"type\":\"boolean\",\"default\":false,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-allow-overlap\":{\"type\":\"boolean\",\"default\":false,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-ignore-placement\":{\"type\":\"boolean\",\"default\":false,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-optional\":{\"type\":\"boolean\",\"default\":false,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-rotation-alignment\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1,\"auto\":1},\"default\":\"auto\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-size\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"icon-text-fit\":{\"type\":\"enum\",\"values\":{\"none\":1,\"width\":1,\"height\":1,\"both\":1},\"default\":\"none\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"icon-text-fit-padding\":{\"type\":\"array\",\"value\":\"number\",\"length\":4,\"default\":[0,0,0,0],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"icon-image\":{\"type\":\"resolvedImage\",\"tokens\":true,\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"icon-rotate\":{\"type\":\"number\",\"default\":0,\"period\":360,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"icon-padding\":{\"type\":\"number\",\"default\":2,\"minimum\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-keep-upright\":{\"type\":\"boolean\",\"default\":false,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-offset\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"icon-anchor\":{\"type\":\"enum\",\"values\":{\"center\":1,\"left\":1,\"right\":1,\"top\":1,\"bottom\":1,\"top-left\":1,\"top-right\":1,\"bottom-left\":1,\"bottom-right\":1},\"default\":\"center\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"icon-pitch-alignment\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1,\"auto\":1},\"default\":\"auto\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-pitch-alignment\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1,\"auto\":1},\"default\":\"auto\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-rotation-alignment\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1,\"auto\":1},\"default\":\"auto\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-field\":{\"type\":\"formatted\",\"default\":\"\",\"tokens\":true,\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-font\":{\"type\":\"array\",\"value\":\"string\",\"default\":[\"Open Sans Regular\",\"Arial Unicode MS Regular\"],\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-size\":{\"type\":\"number\",\"default\":16,\"minimum\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-max-width\":{\"type\":\"number\",\"default\":10,\"minimum\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-line-height\":{\"type\":\"number\",\"default\":1.2,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-letter-spacing\":{\"type\":\"number\",\"default\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-justify\":{\"type\":\"enum\",\"values\":{\"auto\":1,\"left\":1,\"center\":1,\"right\":1},\"default\":\"center\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-radial-offset\":{\"type\":\"number\",\"default\":0,\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]}},\"text-variable-anchor\":{\"type\":\"array\",\"value\":\"enum\",\"values\":{\"center\":1,\"left\":1,\"right\":1,\"top\":1,\"bottom\":1,\"top-left\":1,\"top-right\":1,\"bottom-left\":1,\"bottom-right\":1},\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-anchor\":{\"type\":\"enum\",\"values\":{\"center\":1,\"left\":1,\"right\":1,\"top\":1,\"bottom\":1,\"top-left\":1,\"top-right\":1,\"bottom-left\":1,\"bottom-right\":1},\"default\":\"center\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-max-angle\":{\"type\":\"number\",\"default\":45,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-writing-mode\":{\"type\":\"array\",\"value\":\"enum\",\"values\":{\"horizontal\":1,\"vertical\":1},\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-rotate\":{\"type\":\"number\",\"default\":0,\"period\":360,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-padding\":{\"type\":\"number\",\"default\":2,\"minimum\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-keep-upright\":{\"type\":\"boolean\",\"default\":true,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-transform\":{\"type\":\"enum\",\"values\":{\"none\":1,\"uppercase\":1,\"lowercase\":1},\"default\":\"none\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-offset\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-allow-overlap\":{\"type\":\"boolean\",\"default\":false,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-ignore-placement\":{\"type\":\"boolean\",\"default\":false,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-optional\":{\"type\":\"boolean\",\"default\":false,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":1,\"none\":1},\"default\":\"visible\",\"expression\":{},\"property-type\":\"constant\"}},\"layout_raster\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":1,\"none\":1},\"default\":\"visible\",\"expression\":{},\"property-type\":\"constant\"}},\"layout_hillshade\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":1,\"none\":1},\"default\":\"visible\",\"expression\":{},\"property-type\":\"constant\"}},\"filter\":{\"type\":\"array\",\"value\":\"*\"},\"filter_symbol\":{\"type\":\"boolean\",\"default\":false,\"property-type\":\"data-driven\",\"expression\":{\"parameters\":[\"zoom\",\"feature\",\"pitch\",\"distance-from-center\"]}},\"filter_fill\":{\"type\":\"boolean\",\"default\":false,\"property-type\":\"data-driven\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]}},\"filter_line\":{\"type\":\"boolean\",\"default\":false,\"property-type\":\"data-driven\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]}},\"filter_circle\":{\"type\":\"boolean\",\"default\":false,\"property-type\":\"data-driven\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]}},\"filter_fill-extrusion\":{\"type\":\"boolean\",\"default\":false,\"property-type\":\"data-driven\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]}},\"filter_heatmap\":{\"type\":\"boolean\",\"default\":false,\"property-type\":\"data-driven\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]}},\"filter_operator\":{\"type\":\"enum\",\"values\":{\"==\":1,\"!=\":1,\">\":1,\">=\":1,\"<\":1,\"<=\":1,\"in\":1,\"!in\":1,\"all\":1,\"any\":1,\"none\":1,\"has\":1,\"!has\":1}},\"geometry_type\":{\"type\":\"enum\",\"values\":{\"Point\":1,\"LineString\":1,\"Polygon\":1}},\"function\":{\"expression\":{\"type\":\"expression\"},\"stops\":{\"type\":\"array\",\"value\":\"function_stop\"},\"base\":{\"type\":\"number\",\"default\":1,\"minimum\":0},\"property\":{\"type\":\"string\",\"default\":\"$zoom\"},\"type\":{\"type\":\"enum\",\"values\":{\"identity\":1,\"exponential\":1,\"interval\":1,\"categorical\":1},\"default\":\"exponential\"},\"colorSpace\":{\"type\":\"enum\",\"values\":{\"rgb\":1,\"lab\":1,\"hcl\":1},\"default\":\"rgb\"},\"default\":{\"type\":\"*\",\"required\":false}},\"function_stop\":{\"type\":\"array\",\"minimum\":0,\"maximum\":24,\"value\":[\"number\",\"color\"],\"length\":2},\"expression\":{\"type\":\"array\",\"value\":\"*\",\"minimum\":1},\"fog\":{\"range\":{\"type\":\"array\",\"default\":[0.5,10],\"minimum\":-20,\"maximum\":20,\"length\":2,\"value\":\"number\",\"property-type\":\"data-constant\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"],\"relaxZoomRestriction\":true}},\"color\":{\"type\":\"color\",\"property-type\":\"data-constant\",\"default\":\"#ffffff\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"],\"relaxZoomRestriction\":true},\"transition\":true},\"high-color\":{\"type\":\"color\",\"property-type\":\"data-constant\",\"default\":\"#245cdf\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"],\"relaxZoomRestriction\":true},\"transition\":true},\"space-color\":{\"type\":\"color\",\"property-type\":\"data-constant\",\"default\":[\"interpolate\",[\"linear\"],[\"zoom\"],4,\"#010b19\",7,\"#367ab9\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"],\"relaxZoomRestriction\":true},\"transition\":true},\"horizon-blend\":{\"type\":\"number\",\"property-type\":\"data-constant\",\"default\":[\"interpolate\",[\"linear\"],[\"zoom\"],4,0.2,7,0.1],\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"],\"relaxZoomRestriction\":true},\"transition\":true},\"star-intensity\":{\"type\":\"number\",\"property-type\":\"data-constant\",\"default\":[\"interpolate\",[\"linear\"],[\"zoom\"],5,0.35,6,0],\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"],\"relaxZoomRestriction\":true},\"transition\":true},\"vertical-range\":{\"type\":\"array\",\"default\":[0,0],\"minimum\":0,\"length\":2,\"value\":\"number\",\"property-type\":\"data-constant\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"],\"relaxZoomRestriction\":true}}},\"camera\":{\"camera-projection\":{\"type\":\"enum\",\"values\":{\"perspective\":1,\"orthographic\":1},\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"default\":\"perspective\",\"property-type\":\"data-constant\"}},\"light\":{\"anchor\":{\"type\":\"enum\",\"default\":\"viewport\",\"values\":{\"map\":1,\"viewport\":1},\"property-type\":\"data-constant\",\"expression\":{\"parameters\":[\"zoom\"]}},\"position\":{\"type\":\"array\",\"default\":[1.15,210,30],\"length\":3,\"value\":\"number\",\"property-type\":\"data-constant\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]}},\"color\":{\"type\":\"color\",\"property-type\":\"data-constant\",\"default\":\"#ffffff\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"intensity\":{\"type\":\"number\",\"property-type\":\"data-constant\",\"default\":0.5,\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true}},\"projection\":{\"name\":{\"type\":\"enum\",\"values\":{\"albers\":1,\"equalEarth\":1,\"equirectangular\":1,\"lambertConformalConic\":1,\"mercator\":1,\"naturalEarth\":1,\"winkelTripel\":1,\"globe\":1},\"default\":\"mercator\",\"required\":true},\"center\":{\"type\":\"array\",\"length\":2,\"value\":\"number\",\"property-type\":\"data-constant\",\"minimum\":[-180,-90],\"maximum\":[180,90]},\"parallels\":{\"type\":\"array\",\"length\":2,\"value\":\"number\",\"property-type\":\"data-constant\",\"minimum\":[-90,-90],\"maximum\":[90,90]}},\"terrain\":{\"source\":{\"type\":\"string\",\"required\":true},\"exaggeration\":{\"type\":\"number\",\"property-type\":\"data-constant\",\"default\":1,\"minimum\":0,\"maximum\":1000,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true}},\"paint\":[\"paint_fill\",\"paint_line\",\"paint_circle\",\"paint_heatmap\",\"paint_fill-extrusion\",\"paint_symbol\",\"paint_raster\",\"paint_hillshade\",\"paint_background\",\"paint_sky\",\"paint_model\"],\"paint_fill\":{\"fill-antialias\":{\"type\":\"boolean\",\"default\":true,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"fill-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"fill-outline-color\":{\"type\":\"color\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"fill-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-translate-anchor\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1},\"default\":\"map\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-pattern\":{\"type\":\"resolvedImage\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"fill-emissive-strength\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]},\"property-type\":\"data-constant\"}},\"paint_fill-extrusion\":{\"fill-extrusion-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-extrusion-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"fill-extrusion-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-extrusion-translate-anchor\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1},\"default\":\"map\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-extrusion-pattern\":{\"type\":\"resolvedImage\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"fill-extrusion-height\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"fill-extrusion-base\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"fill-extrusion-vertical-gradient\":{\"type\":\"boolean\",\"default\":true,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-extrusion-ambient-occlusion-intensity\":{\"property-type\":\"data-constant\",\"type\":\"number\",\"private\":true,\"default\":0,\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"fill-extrusion-ambient-occlusion-radius\":{\"property-type\":\"data-constant\",\"type\":\"number\",\"private\":true,\"default\":3,\"minimum\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"fill-extrusion-ambient-occlusion-wall-radius\":{\"property-type\":\"data-constant\",\"type\":\"number\",\"default\":3,\"minimum\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"fill-extrusion-ambient-occlusion-ground-radius\":{\"property-type\":\"data-constant\",\"type\":\"number\",\"default\":3,\"minimum\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"fill-extrusion-ambient-occlusion-ground-attenuation\":{\"property-type\":\"data-constant\",\"type\":\"number\",\"default\":0.69,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]}},\"fill-extrusion-flood-light-color\":{\"property-type\":\"data-constant\",\"type\":\"color\",\"default\":\"#ffffff\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]}},\"fill-extrusion-flood-light-intensity\":{\"property-type\":\"data-constant\",\"type\":\"number\",\"default\":0,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]}},\"fill-extrusion-flood-light-wall-radius\":{\"property-type\":\"data-driven\",\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"feature\",\"feature-state\"]}},\"fill-extrusion-flood-light-ground-radius\":{\"property-type\":\"data-driven\",\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"feature\",\"feature-state\"]}},\"fill-extrusion-flood-light-ground-attenuation\":{\"property-type\":\"data-constant\",\"type\":\"number\",\"default\":0.69,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]}},\"fill-extrusion-vertical-scale\":{\"property-type\":\"data-constant\",\"type\":\"number\",\"default\":1,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]}},\"fill-extrusion-rounded-roof\":{\"property-type\":\"data-constant\",\"type\":\"boolean\",\"default\":true,\"expression\":{\"parameters\":[\"zoom\"]}},\"fill-extrusion-cutoff-fade-range\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"maximum\":1,\"expression\":{},\"property-type\":\"data-constant\"},\"fill-extrusion-emissive-strength\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]},\"property-type\":\"data-constant\"}},\"paint_line\":{\"line-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"line-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"line-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"line-translate-anchor\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1},\"default\":\"map\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"line-width\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"line-gap-width\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"line-offset\":{\"type\":\"number\",\"default\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"line-blur\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"line-dasharray\":{\"type\":\"array\",\"value\":\"number\",\"minimum\":0,\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"line-pattern\":{\"type\":\"resolvedImage\",\"expression\":{\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"line-gradient\":{\"type\":\"color\",\"expression\":{\"interpolated\":true,\"parameters\":[\"line-progress\"]},\"property-type\":\"color-ramp\"},\"line-trim-offset\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"minimum\":[0,0],\"maximum\":[1,1],\"property-type\":\"constant\"},\"line-emissive-strength\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]},\"property-type\":\"data-constant\"},\"line-border-width\":{\"type\":\"number\",\"private\":true,\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"line-border-color\":{\"type\":\"color\",\"private\":true,\"default\":\"rgba(0, 0, 0, 0)\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"}},\"paint_circle\":{\"circle-radius\":{\"type\":\"number\",\"default\":5,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"circle-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"circle-blur\":{\"type\":\"number\",\"default\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"circle-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"circle-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"circle-translate-anchor\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1},\"default\":\"map\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"circle-pitch-scale\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1},\"default\":\"map\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"circle-pitch-alignment\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1},\"default\":\"viewport\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"circle-stroke-width\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"circle-stroke-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"circle-stroke-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"circle-emissive-strength\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]},\"property-type\":\"data-constant\"}},\"paint_heatmap\":{\"heatmap-radius\":{\"type\":\"number\",\"default\":30,\"minimum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"heatmap-weight\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"heatmap-intensity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"heatmap-color\":{\"type\":\"color\",\"default\":[\"interpolate\",[\"linear\"],[\"heatmap-density\"],0,\"rgba(0, 0, 255, 0)\",0.1,\"royalblue\",0.3,\"cyan\",0.5,\"lime\",0.7,\"yellow\",1,\"red\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"heatmap-density\"]},\"property-type\":\"color-ramp\"},\"heatmap-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"}},\"paint_symbol\":{\"icon-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"icon-emissive-strength\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"text-emissive-strength\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"icon-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"icon-halo-color\":{\"type\":\"color\",\"default\":\"rgba(0, 0, 0, 0)\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"icon-halo-width\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"icon-halo-blur\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"icon-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-translate-anchor\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1},\"default\":\"map\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-image-cross-fade\":{\"type\":\"number\",\"property-type\":\"data-driven\",\"default\":0,\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"transition\":true},\"text-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"text-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"overridable\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"text-halo-color\":{\"type\":\"color\",\"default\":\"rgba(0, 0, 0, 0)\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"text-halo-width\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"text-halo-blur\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\",\"measure-light\"]},\"property-type\":\"data-driven\"},\"text-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-translate-anchor\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1},\"default\":\"map\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-color-saturation\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{},\"property-type\":\"data-constant\"}},\"paint_raster\":{\"raster-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-color\":{\"type\":\"color\",\"expression\":{\"interpolated\":true,\"parameters\":[\"raster-value\"]},\"property-type\":\"color-ramp\"},\"raster-color-mix\":{\"type\":\"array\",\"default\":[0.2126,0.7152,0.0722,0],\"length\":4,\"value\":\"number\",\"property-type\":\"data-constant\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]}},\"raster-color-range\":{\"type\":\"array\",\"default\":[0,1],\"length\":2,\"value\":\"number\",\"property-type\":\"data-constant\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]}},\"raster-hue-rotate\":{\"type\":\"number\",\"default\":0,\"period\":360,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-brightness-min\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-brightness-max\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-saturation\":{\"type\":\"number\",\"default\":0,\"minimum\":-1,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-contrast\":{\"type\":\"number\",\"default\":0,\"minimum\":-1,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-resampling\":{\"type\":\"enum\",\"values\":{\"linear\":1,\"nearest\":1},\"default\":\"linear\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-fade-duration\":{\"type\":\"number\",\"default\":300,\"minimum\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-emissive-strength\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]},\"property-type\":\"data-constant\"},\"raster-array-band\":{\"type\":\"string\",\"required\":false,\"property-type\":\"data-constant\"},\"raster-elevation\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"}},\"paint_hillshade\":{\"hillshade-illumination-direction\":{\"type\":\"number\",\"default\":335,\"minimum\":0,\"maximum\":359,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"hillshade-illumination-anchor\":{\"type\":\"enum\",\"values\":{\"map\":1,\"viewport\":1},\"default\":\"viewport\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"hillshade-exaggeration\":{\"type\":\"number\",\"default\":0.5,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"hillshade-shadow-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]},\"property-type\":\"data-constant\"},\"hillshade-highlight-color\":{\"type\":\"color\",\"default\":\"#FFFFFF\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]},\"property-type\":\"data-constant\"},\"hillshade-accent-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]},\"property-type\":\"data-constant\"},\"hillshade-emissive-strength\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]},\"property-type\":\"data-constant\"}},\"paint_background\":{\"background-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"background-pattern\":{\"type\":\"resolvedImage\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"background-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"background-emissive-strength\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"measure-light\"]},\"property-type\":\"data-constant\"}},\"paint_sky\":{\"sky-type\":{\"type\":\"enum\",\"values\":{\"gradient\":1,\"atmosphere\":1},\"default\":\"atmosphere\",\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"sky-atmosphere-sun\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"minimum\":[0,0],\"maximum\":[360,180],\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"sky-atmosphere-sun-intensity\":{\"type\":\"number\",\"default\":10,\"minimum\":0,\"maximum\":100,\"property-type\":\"data-constant\"},\"sky-gradient-center\":{\"type\":\"array\",\"value\":\"number\",\"default\":[0,0],\"length\":2,\"minimum\":[0,0],\"maximum\":[360,180],\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"sky-gradient-radius\":{\"type\":\"number\",\"default\":90,\"minimum\":0,\"maximum\":180,\"expression\":{\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"sky-gradient\":{\"type\":\"color\",\"default\":[\"interpolate\",[\"linear\"],[\"sky-radial-progress\"],0.8,\"#87ceeb\",1,\"white\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"sky-radial-progress\"]},\"property-type\":\"color-ramp\"},\"sky-atmosphere-halo-color\":{\"type\":\"color\",\"default\":\"white\",\"property-type\":\"data-constant\"},\"sky-atmosphere-color\":{\"type\":\"color\",\"default\":\"white\",\"property-type\":\"data-constant\"},\"sky-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"}},\"paint_model\":{\"model-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"model-rotation\":{\"type\":\"array\",\"value\":\"number\",\"length\":3,\"default\":[0,0,0],\"period\":360,\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":true,\"parameters\":[\"feature\",\"feature-state\",\"zoom\"]},\"transition\":true},\"model-scale\":{\"type\":\"array\",\"value\":\"number\",\"length\":3,\"default\":[1,1,1],\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":true,\"parameters\":[\"feature\",\"feature-state\",\"zoom\"]},\"transition\":true},\"model-translation\":{\"type\":\"array\",\"value\":\"number\",\"length\":3,\"default\":[0,0,0],\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":true,\"parameters\":[\"feature\",\"feature-state\",\"zoom\"]},\"transition\":true},\"model-color\":{\"type\":\"color\",\"default\":\"#ffffff\",\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":true,\"parameters\":[\"feature\",\"feature-state\",\"measure-light\",\"zoom\"]},\"transition\":true},\"model-color-mix-intensity\":{\"type\":\"number\",\"property-type\":\"data-driven\",\"default\":0,\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"feature\",\"feature-state\",\"measure-light\"]},\"transition\":true},\"model-type\":{\"type\":\"enum\",\"values\":{\"common-3d\":1,\"location-indicator\":1},\"default\":\"common-3d\",\"property-type\":\"data-constant\"},\"model-cast-shadows\":{\"type\":\"boolean\",\"default\":true,\"expression\":{},\"property-type\":\"data-constant\"},\"model-receive-shadows\":{\"type\":\"boolean\",\"default\":true,\"expression\":{},\"property-type\":\"data-constant\"},\"model-ambient-occlusion-intensity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\",\"transition\":true},\"model-emissive-strength\":{\"type\":\"number\",\"property-type\":\"data-driven\",\"default\":0,\"minimum\":0,\"maximum\":5,\"expression\":{\"interpolated\":true,\"parameters\":[\"feature\",\"feature-state\",\"measure-light\"]},\"transition\":true},\"model-roughness\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":true,\"parameters\":[\"feature\",\"feature-state\"]},\"transition\":true},\"model-height-based-emissive-strength-multiplier\":{\"type\":\"array\",\"default\":[1,1,1,1,0],\"length\":5,\"value\":\"number\",\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":true,\"parameters\":[\"feature\",\"feature-state\",\"measure-light\"]},\"transition\":true},\"model-cutoff-fade-range\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"maximum\":1,\"expression\":{},\"property-type\":\"data-constant\"}},\"transition\":{\"duration\":{\"type\":\"number\",\"default\":300,\"minimum\":0},\"delay\":{\"type\":\"number\",\"default\":0,\"minimum\":0}},\"property-type\":{\"data-driven\":{\"type\":\"property-type\"},\"color-ramp\":{\"type\":\"property-type\"},\"data-constant\":{\"type\":\"property-type\"},\"constant\":{\"type\":\"property-type\"}},\"promoteId\":{\"*\":{\"type\":\"string\"}}}');class Dt{constructor(e,t,i,r){this.message=(e?`${e}: `:\"\")+i,r&&(this.identifier=r),null!=t&&t.__line__&&(this.line=t.__line__);}}class Rt extends Dt{}function Lt(e,...t){for(const i of t)for(const t in i)e[t]=i[t];return e}function kt(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function Ot(e){if(Array.isArray(e))return e.map(Ot);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const t={};for(const i in e)t[i]=Ot(e[i]);return t}return kt(e)}class Bt extends Error{constructor(e,t){super(t),this.message=t,this.key=e;}}var Ft=Bt;class Nt{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[e,i]of t)this.bindings[e]=i;}concat(e){return new Nt(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return !!this.bindings[e]||!!this.parent&&this.parent.has(e)}}var Ut=Nt;const Vt={kind:\"null\"},jt={kind:\"number\"},Gt={kind:\"string\"},qt={kind:\"boolean\"},Zt={kind:\"color\"},$t={kind:\"object\"},Wt={kind:\"value\"},Ht={kind:\"collator\"},Xt={kind:\"formatted\"},Yt={kind:\"resolvedImage\"};function Kt(e,t){return {kind:\"array\",itemType:e,N:t}}function Jt(e){if(\"array\"===e.kind){const t=Jt(e.itemType);return \"number\"==typeof e.N?`array<${t}, ${e.N}>`:\"value\"===e.itemType.kind?\"array\":`array<${t}>`}return e.kind}const Qt=[Vt,jt,Gt,qt,Zt,Xt,$t,Kt(Wt),Yt];function ei(e,t){if(\"error\"===t.kind)return null;if(\"array\"===e.kind){if(\"array\"===t.kind&&(0===t.N&&\"value\"===t.itemType.kind||!ei(e.itemType,t.itemType))&&(\"number\"!=typeof e.N||e.N===t.N))return null}else {if(e.kind===t.kind)return null;if(\"value\"===e.kind)for(const e of Qt)if(!ei(e,t))return null}return `Expected ${Jt(e)} but found ${Jt(t)} instead.`}function ti(e,t){return t.some((t=>t.kind===e.kind))}function ii(e,t){return t.some((t=>\"null\"===t?null===e:\"array\"===t?Array.isArray(e):\"object\"===t?e&&!Array.isArray(e)&&\"object\"==typeof e:t===typeof e))}var ri,ni={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function oi(e){return (e=Math.round(e))<0?0:e>255?255:e}function si(e){return oi(\"%\"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function ai(e){return (t=\"%\"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))<0?0:t>1?1:t;var t;}function li(e,t,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}try{ri={}.parseCSSColor=function(e){var t,i=e.replace(/ /g,\"\").toLowerCase();if(i in ni)return ni[i].slice();if(\"#\"===i[0])return 4===i.length?(t=parseInt(i.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===i.length&&(t=parseInt(i.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var r=i.indexOf(\"(\"),n=i.indexOf(\")\");if(-1!==r&&n+1===i.length){var o=i.substr(0,r),s=i.substr(r+1,n-(r+1)).split(\",\"),a=1;switch(o){case\"rgba\":if(4!==s.length)return null;a=ai(s.pop());case\"rgb\":return 3!==s.length?null:[si(s[0]),si(s[1]),si(s[2]),a];case\"hsla\":if(4!==s.length)return null;a=ai(s.pop());case\"hsl\":if(3!==s.length)return null;var l=(parseFloat(s[0])%360+360)%360/360,c=ai(s[1]),h=ai(s[2]),u=h<=.5?h*(c+1):h+c-h*c,d=2*h-u;return [oi(255*li(d,u,l+1/3)),oi(255*li(d,u,l)),oi(255*li(d,u,l-1/3)),a];default:return null}}return null};}catch(e){}class ci{constructor(e,t,i,r=1){this.r=e,this.g=t,this.b=i,this.a=r;}static parse(e){if(!e)return;if(e instanceof ci)return e;if(\"string\"!=typeof e)return;const t=ri(e);return t?new ci(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3]):void 0}toString(){const[e,t,i,r]=this.toArray();return `rgba(${Math.round(e)},${Math.round(t)},${Math.round(i)},${r})`}toArray(){const{r:e,g:t,b:i,a:r}=this;return 0===r?[0,0,0,0]:[255*e/r,255*t/r,255*i/r,r]}toArray01(){const{r:e,g:t,b:i,a:r}=this;return 0===r?[0,0,0,0]:[e/r,t/r,i/r,r]}toArray01Scaled(e){const{r:t,g:i,b:r,a:n}=this;return 0===n?[0,0,0]:[t/n*e,i/n*e,r/n*e]}toArray01PremultipliedAlpha(){const{r:e,g:t,b:i,a:r}=this;return [e,t,i,r]}toArray01Linear(){const{r:e,g:t,b:i,a:r}=this;return 0===r?[0,0,0,0]:[Math.pow(e/r,2.2),Math.pow(t/r,2.2),Math.pow(i/r,2.2),r]}}ci.black=new ci(0,0,0,1),ci.white=new ci(1,1,1,1),ci.transparent=new ci(0,0,0,0),ci.red=new ci(1,0,0,1),ci.blue=new ci(0,0,1,1);var hi=ci;class ui{constructor(e,t,i){this.sensitivity=e?t?\"variant\":\"case\":t?\"accent\":\"base\",this.locale=i,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:\"search\"});}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class di{constructor(e,t,i,r,n){this.text=e.normalize?e.normalize():e,this.image=t,this.scale=i,this.fontStack=r,this.textColor=n;}}class pi{constructor(e){this.sections=e;}static fromString(e){return new pi([new di(e,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some((e=>0!==e.text.length||e.image&&0!==e.image.namePrimary.length))}static factory(e){return e instanceof pi?e:pi.fromString(e)}toString(){return 0===this.sections.length?\"\":this.sections.map((e=>e.text)).join(\"\")}serialize(){const e=[\"format\"];for(const t of this.sections){if(t.image){e.push([\"image\",t.image.namePrimary]);continue}e.push(t.text);const i={};t.fontStack&&(i[\"text-font\"]=[\"literal\",t.fontStack.split(\",\")]),t.scale&&(i[\"font-scale\"]=t.scale),t.textColor&&(i[\"text-color\"]=[\"rgba\"].concat(t.textColor.toArray())),e.push(i);}return e}}class fi{constructor(e){this.namePrimary=e.namePrimary,e.nameSecondary&&(this.nameSecondary=e.nameSecondary),this.available=e.available;}toString(){return this.nameSecondary?`[${this.namePrimary},${this.nameSecondary}]`:this.namePrimary}static fromString(e,t){return e?new fi({namePrimary:e,nameSecondary:t,available:!1}):null}serialize(){return this.nameSecondary?[\"image\",this.namePrimary,this.nameSecondary]:[\"image\",this.namePrimary]}}function mi(e,t,i,r){return \"number\"==typeof e&&e>=0&&e<=255&&\"number\"==typeof t&&t>=0&&t<=255&&\"number\"==typeof i&&i>=0&&i<=255?void 0===r||\"number\"==typeof r&&r>=0&&r<=1?null:`Invalid rgba value [${[e,t,i,r].join(\", \")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(\"number\"==typeof r?[e,t,i,r]:[e,t,i]).join(\", \")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function _i(e){if(null===e)return !0;if(\"string\"==typeof e)return !0;if(\"boolean\"==typeof e)return !0;if(\"number\"==typeof e)return !0;if(e instanceof hi)return !0;if(e instanceof ui)return !0;if(e instanceof pi)return !0;if(e instanceof fi)return !0;if(Array.isArray(e)){for(const t of e)if(!_i(t))return !1;return !0}if(\"object\"==typeof e){for(const t in e)if(!_i(e[t]))return !1;return !0}return !1}function gi(e){if(null===e)return Vt;if(\"string\"==typeof e)return Gt;if(\"boolean\"==typeof e)return qt;if(\"number\"==typeof e)return jt;if(e instanceof hi)return Zt;if(e instanceof ui)return Ht;if(e instanceof pi)return Xt;if(e instanceof fi)return Yt;if(Array.isArray(e)){const t=e.length;let i;for(const t of e){const e=gi(t);if(i){if(i===e)continue;i=Wt;break}i=e;}return Kt(i||Wt,t)}return $t}function yi(e){const t=typeof e;return null===e?\"\":\"string\"===t||\"number\"===t||\"boolean\"===t?String(e):e instanceof hi||e instanceof pi||e instanceof fi?e.toString():JSON.stringify(e)}class xi{constructor(e,t){this.type=e,this.value=t;}static parse(e,t){if(2!==e.length)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!_i(e[1]))return t.error(\"invalid value\");const i=e[1];let r=gi(i);const n=t.expectedType;return \"array\"!==r.kind||0!==r.N||!n||\"array\"!==n.kind||\"number\"==typeof n.N&&0!==n.N||(r=n),new xi(r,i)}evaluate(){return this.value}eachChild(){}outputDefined(){return !0}serialize(){return \"array\"===this.type.kind||\"object\"===this.type.kind?[\"literal\",this.value]:this.value instanceof hi?[\"rgba\"].concat(this.value.toArray()):this.value instanceof pi?this.value.serialize():this.value}}var vi=xi,bi=class{constructor(e){this.name=\"ExpressionEvaluationError\",this.message=e;}toJSON(){return this.message}};const wi={string:Gt,number:jt,boolean:qt,object:$t};class Ti{constructor(e,t){this.type=e,this.args=t;}static parse(e,t){if(e.length<2)return t.error(\"Expected at least one argument.\");let i,r=1;const n=e[0];if(\"array\"===n){let n,o;if(e.length>2){const i=e[1];if(\"string\"!=typeof i||!(i in wi)||\"object\"===i)return t.error('The item type argument of \"array\" must be one of string, number, boolean',1);n=wi[i],r++;}else n=Wt;if(e.length>3){if(null!==e[2]&&(\"number\"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to \"array\" must be a positive integer literal',2);o=e[2],r++;}i=Kt(n,o);}else i=wi[n];const o=[];for(;r<e.length;r++){const i=t.parse(e[r],r,Wt);if(!i)return null;o.push(i);}return new Ti(i,o)}evaluate(e){for(let t=0;t<this.args.length;t++){const i=this.args[t].evaluate(e);if(!ei(this.type,gi(i)))return i;if(t===this.args.length-1)throw new bi(`Expected value to be of type ${Jt(this.type)}, but found ${Jt(gi(i))} instead.`)}return null}eachChild(e){this.args.forEach(e);}outputDefined(){return this.args.every((e=>e.outputDefined()))}serialize(){const e=this.type,t=[e.kind];if(\"array\"===e.kind){const i=e.itemType;if(\"string\"===i.kind||\"number\"===i.kind||\"boolean\"===i.kind){t.push(i.kind);const r=e.N;(\"number\"==typeof r||this.args.length>1)&&t.push(r);}}return t.concat(this.args.map((e=>e.serialize())))}}var Ei=Ti;class Mi{constructor(e){this.type=Xt,this.sections=e;}static parse(e,t){if(e.length<2)return t.error(\"Expected at least one argument.\");const i=e[1];if(!Array.isArray(i)&&\"object\"==typeof i)return t.error(\"First argument must be an image or text section.\");const r=[];let n=!1;for(let i=1;i<=e.length-1;++i){const o=e[i];if(n&&\"object\"==typeof o&&!Array.isArray(o)){n=!1;let e=null;if(o[\"font-scale\"]&&(e=t.parse(o[\"font-scale\"],1,jt),!e))return null;let i=null;if(o[\"text-font\"]&&(i=t.parse(o[\"text-font\"],1,Kt(Gt)),!i))return null;let s=null;if(o[\"text-color\"]&&(s=t.parse(o[\"text-color\"],1,Zt),!s))return null;const a=r[r.length-1];a.scale=e,a.font=i,a.textColor=s;}else {const o=t.parse(e[i],1,Wt);if(!o)return null;const s=o.type.kind;if(\"string\"!==s&&\"value\"!==s&&\"null\"!==s&&\"resolvedImage\"!==s)return t.error(\"Formatted text type must be 'string', 'value', 'image' or 'null'.\");n=!0,r.push({content:o,scale:null,font:null,textColor:null});}}return new Mi(r)}evaluate(e){return new pi(this.sections.map((t=>{const i=t.content.evaluate(e);return gi(i)===Yt?new di(\"\",i,null,null,null):new di(yi(i),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(\",\"):null,t.textColor?t.textColor.evaluate(e):null)})))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor);}outputDefined(){return !1}serialize(){const e=[\"format\"];for(const t of this.sections){e.push(t.content.serialize());const i={};t.scale&&(i[\"font-scale\"]=t.scale.serialize()),t.font&&(i[\"text-font\"]=t.font.serialize()),t.textColor&&(i[\"text-color\"]=t.textColor.serialize()),e.push(i);}return e}}class Ai{constructor(e,t){this.type=Yt,this.inputPrimary=e,this.inputSecondary=t;}static parse(e,t){if(e.length<2)return t.error(\"Expected two or more arguments.\");const i=t.parse(e[1],1,Gt);if(!i)return t.error(\"No image name provided.\");if(2===e.length)return new Ai(i);const r=t.parse(e[2],1,Gt);return r?new Ai(i,r):t.error(\"Secondary image variant is not a string.\")}evaluate(e){const t=fi.fromString(this.inputPrimary.evaluate(e),this.inputSecondary?this.inputSecondary.evaluate(e):void 0);return t&&e.availableImages&&(t.available=e.availableImages.indexOf(t.namePrimary)>-1,t.nameSecondary&&t.available&&e.availableImages&&(t.available=e.availableImages.indexOf(t.nameSecondary)>-1)),t}eachChild(e){e(this.inputPrimary),this.inputSecondary&&e(this.inputSecondary);}outputDefined(){return !1}serialize(){return this.inputSecondary?[\"image\",this.inputPrimary.serialize(),this.inputSecondary.serialize()]:[\"image\",this.inputPrimary.serialize()]}}function Si(e){return e instanceof Number?\"number\":e instanceof String?\"string\":e instanceof Boolean?\"boolean\":Array.isArray(e)?\"array\":null===e?\"null\":typeof e}const Ii={\"to-boolean\":qt,\"to-color\":Zt,\"to-number\":jt,\"to-string\":Gt};class Ci{constructor(e,t){this.type=e,this.args=t;}static parse(e,t){if(e.length<2)return t.error(\"Expected at least one argument.\");const i=e[0],r=[];let n=Vt;if(\"to-array\"===i){if(!Array.isArray(e[1]))return null;const i=e[1].length;if(t.expectedType){if(\"array\"!==t.expectedType.kind)return t.error(`Expected ${t.expectedType.kind} but found array.`);n=Kt(t.expectedType.itemType,i);}else {if(!(i>0&&_i(e[1][0])))return null;n=Kt(gi(e[1][0]),i);}for(let o=0;o<i;o++){const i=e[1][o];let s;if(\"array\"===Si(i))s=t.parse(i,void 0,n.itemType);else {const e=Si(i);if(e!==n.itemType.kind)return t.error(`Expected ${n.itemType.kind} but found ${e}.`);s=t.registry.literal.parse([\"literal\",void 0===i?null:i],t);}if(!s)return null;r.push(s);}}else {if((\"to-boolean\"===i||\"to-string\"===i)&&2!==e.length)return t.error(\"Expected one argument.\");n=Ii[i];for(let i=1;i<e.length;i++){const n=t.parse(e[i],i,Wt);if(!n)return null;r.push(n);}}return new Ci(n,r)}evaluate(e){if(\"boolean\"===this.type.kind)return Boolean(this.args[0].evaluate(e));if(\"color\"===this.type.kind){let t,i;for(const r of this.args){if(t=r.evaluate(e),i=null,t instanceof hi)return t;if(\"string\"==typeof t){const i=e.parseColor(t);if(i)return i}else if(Array.isArray(t)&&(i=t.length<3||t.length>4?`Invalid rbga value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:mi(t[0],t[1],t[2],t[3]),!i))return new hi(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new bi(i||`Could not parse color from value '${\"string\"==typeof t?t:String(JSON.stringify(t))}'`)}if(\"number\"===this.type.kind){let t=null;for(const i of this.args){if(t=i.evaluate(e),null===t)return 0;const r=Number(t);if(!isNaN(r))return r}throw new bi(`Could not convert ${JSON.stringify(t)} to number.`)}return \"formatted\"===this.type.kind?pi.fromString(yi(this.args[0].evaluate(e))):\"resolvedImage\"===this.type.kind?fi.fromString(yi(this.args[0].evaluate(e))):\"array\"===this.type.kind?this.args.map((t=>t.evaluate(e))):yi(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e);}outputDefined(){return this.args.every((e=>e.outputDefined()))}serialize(){if(\"formatted\"===this.type.kind)return new Mi([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(\"resolvedImage\"===this.type.kind)return new Ai(this.args[0]).serialize();const e=\"array\"===this.type.kind?[]:[`to-${this.type.kind}`];return this.eachChild((t=>{e.push(t.serialize());})),e}}var zi=Ci;const Pi=[\"Unknown\",\"Point\",\"LineString\",\"Polygon\"];var Di=class{constructor(e){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null,this.options=e;}id(){return this.feature&&void 0!==this.feature.id?this.feature.id:null}geometryType(){return this.feature?\"number\"==typeof this.feature.type?Pi[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&\"geometry\"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}measureLight(e){return this.globals.brightness||0}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const e=this.featureDistanceData.center,t=this.featureDistanceData.scale,{x:i,y:r}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(i*t-e[0])+this.featureDistanceData.bearing[1]*(r*t-e[1])}return 0}parseColor(e){let t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=hi.parse(e)),t}getConfig(e){return this.options?this.options.get(e):null}};class Ri{constructor(e,t,i,r,n){this.name=e,this.type=t,this._evaluate=i,this.args=r,this._overloadIndex=n;}evaluate(e){if(!this._evaluate){const e=Ri.definitions[this.name];this._evaluate=Array.isArray(e)?e[2]:e.overloads[this._overloadIndex][1];}return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e);}outputDefined(){return !1}serialize(){return [this.name].concat(this.args.map((e=>e.serialize())))}static parse(e,t){const i=e[0],r=Ri.definitions[i];if(!r)return t.error(`Unknown expression \"${i}\". If you wanted a literal array, use [\"literal\", [...]].`,0);const n=Array.isArray(r)?r[0]:r.type,o=Array.isArray(r)?[[r[1],r[2]]]:r.overloads,s=[];let a=null,l=-1;for(const[r,c]of o){if(Array.isArray(r)&&r.length!==e.length-1)continue;s.push(r),l++,a=new $r(t.registry,t.path,null,t.scope,void 0,t.options);const o=[];let h=!1;for(let t=1;t<e.length;t++){const i=e[t],n=Array.isArray(r)?r[t-1]:r.type,s=a.parse(i,1+o.length,n);if(!s){h=!0;break}o.push(s);}if(!h)if(Array.isArray(r)&&r.length!==o.length)a.error(`Expected ${r.length} arguments, but found ${o.length} instead.`);else {for(let e=0;e<o.length;e++){const t=Array.isArray(r)?r[e]:r.type,i=o[e];a.concat(e+1).checkSubtype(t,i.type);}if(0===a.errors.length)return new Ri(i,n,c,o,l)}}if(1===s.length)t.errors.push(...a.errors);else {const i=(s.length?s:o.map((([e])=>e))).map(Li).join(\" | \"),r=[];for(let i=1;i<e.length;i++){const n=t.parse(e[i],1+r.length);if(!n)return null;r.push(Jt(n.type));}t.error(`Expected arguments of type ${i}, but found (${r.join(\", \")}) instead.`);}return null}static register(e,t){Ri.definitions=t;for(const i in t)e[i]=Ri;}}function Li(e){return Array.isArray(e)?`(${e.map(Jt).join(\", \")})`:`(${Jt(e.type)}...)`}var ki=Ri;class Oi{constructor(e,t,i){this.type=Ht,this.locale=i,this.caseSensitive=e,this.diacriticSensitive=t;}static parse(e,t){if(2!==e.length)return t.error(\"Expected one argument.\");const i=e[1];if(\"object\"!=typeof i||Array.isArray(i))return t.error(\"Collator options argument must be an object.\");const r=t.parse(void 0!==i[\"case-sensitive\"]&&i[\"case-sensitive\"],1,qt);if(!r)return null;const n=t.parse(void 0!==i[\"diacritic-sensitive\"]&&i[\"diacritic-sensitive\"],1,qt);if(!n)return null;let o=null;return i.locale&&(o=t.parse(i.locale,1,Gt),!o)?null:new Oi(r,n,o)}evaluate(e){return new ui(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale);}outputDefined(){return !1}serialize(){const e={};return e[\"case-sensitive\"]=this.caseSensitive.serialize(),e[\"diacritic-sensitive\"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),[\"collator\",e]}}var Bi={exports:{}};Bi.exports=function(){function e(i,r,n,o,s){for(;o>n;){if(o-n>600){var a=o-n+1,l=r-n+1,c=Math.log(a),h=.5*Math.exp(2*c/3),u=.5*Math.sqrt(c*h*(a-h)/a)*(l-a/2<0?-1:1);e(i,r,Math.max(n,Math.floor(r-l*h/a+u)),Math.min(o,Math.floor(r+(a-l)*h/a+u)),s);}var d=i[r],p=n,f=o;for(t(i,n,r),s(i[o],d)>0&&t(i,n,o);p<f;){for(t(i,p,f),p++,f--;s(i[p],d)<0;)p++;for(;s(i[f],d)>0;)f--;}0===s(i[n],d)?t(i,n,f):t(i,++f,o),f<=r&&(n=f+1),r<=f&&(o=f-1);}}function t(e,t,i){var r=e[t];e[t]=e[i],e[i]=r;}function i(e,t){return e<t?-1:e>t?1:0}return function(t,r,n,o,s){e(t,r,n||0,o||t.length-1,s||i);}}();var Fi=d(Bi.exports);function Ni(e){let t=0;for(let i,r,n=0,o=e.length,s=o-1;n<o;s=n++)i=e[n],r=e[s],t+=(r.x-i.x)*(i.y+r.y);return t}function Ui(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1]);}function Vi(e,t){return !(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function ji(e,t,i){const r=e[0]-t[0],n=e[1]-t[1],o=e[0]-i[0],s=e[1]-i[1];return r*s-o*n==0&&r*o<=0&&n*s<=0}function Gi(e,t,i=!1){let r=!1;for(let a=0,l=t.length;a<l;a++){const l=t[a];for(let t=0,a=l.length,c=a-1;t<a;c=t++){const a=l[c],h=l[t];if(ji(e,a,h))return i;(o=a)[1]>(n=e)[1]!=(s=h)[1]>n[1]&&n[0]<(s[0]-o[0])*(n[1]-o[1])/(s[1]-o[1])+o[0]&&(r=!r);}}var n,o,s;return r}function qi(e,t,i,r){const n=r[0]-i[0],o=r[1]-i[1],s=(e[0]-i[0])*o-n*(e[1]-i[1]),a=(t[0]-i[0])*o-n*(t[1]-i[1]);return s>0&&a<0||s<0&&a>0}function Zi(e,t,i,r){return 0!=(n=[r[0]-i[0],r[1]-i[1]])[0]*(o=[t[0]-e[0],t[1]-e[1]])[1]-n[1]*o[0]&&!(!qi(e,t,i,r)||!qi(i,r,e,t));var n,o;}const $i=8192;function Wi(e,t){const i=(180+e[0])/360,r=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,n=Math.pow(2,t.z);return [Math.round(i*n*$i),Math.round(r*n*$i)]}function Hi(e,t){for(let i=0;i<t.length;i++)if(Gi(e,t[i]))return !0;return !1}function Xi(e,t,i){for(const r of i)for(let i=0,n=r.length,o=n-1;i<n;o=i++)if(Zi(e,t,r[o],r[i]))return !0;return !1}function Yi(e,t){for(let i=0;i<e.length;++i)if(!Gi(e[i],t))return !1;for(let i=0;i<e.length-1;++i)if(Xi(e[i],e[i+1],t))return !1;return !0}function Ki(e,t){for(let i=0;i<t.length;i++)if(Yi(e,t[i]))return !0;return !1}function Ji(e,t,i){const r=[];for(let n=0;n<e.length;n++){const o=[];for(let r=0;r<e[n].length;r++){const s=Wi(e[n][r],i);Ui(t,s),o.push(s);}r.push(o);}return r}function Qi(e,t,i){const r=[];for(let n=0;n<e.length;n++){const o=Ji(e[n],t,i);r.push(o);}return r}function er(e,t,i,r){if(e[0]<i[0]||e[0]>i[2]){const t=.5*r;let n=e[0]-i[0]>t?-r:i[0]-e[0]>t?r:0;0===n&&(n=e[0]-i[2]>t?-r:i[2]-e[0]>t?r:0),e[0]+=n;}Ui(t,e);}function tr(e,t,i,r){const n=Math.pow(2,r.z)*$i,o=[r.x*$i,r.y*$i],s=[];if(!e)return s;for(const r of e)for(const e of r){const r=[e.x+o[0],e.y+o[1]];er(r,t,i,n),s.push(r);}return s}function ir(e,t,i,r){const n=Math.pow(2,r.z)*$i,o=[r.x*$i,r.y*$i],s=[];if(!e)return s;for(const i of e){const e=[];for(const r of i){const i=[r.x+o[0],r.y+o[1]];Ui(t,i),e.push(i);}s.push(e);}if(t[2]-t[0]<=n/2){(a=t)[0]=a[1]=1/0,a[2]=a[3]=-1/0;for(const e of s)for(const r of e)er(r,t,i,n);}var a;return s}class rr{constructor(e,t){this.type=qt,this.geojson=e,this.geometries=t;}static parse(e,t){if(2!==e.length)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(_i(e[1])){const t=e[1];if(\"FeatureCollection\"===t.type)for(let e=0;e<t.features.length;++e){const i=t.features[e].geometry.type;if(\"Polygon\"===i||\"MultiPolygon\"===i)return new rr(t,t.features[e].geometry)}else if(\"Feature\"===t.type){const e=t.geometry.type;if(\"Polygon\"===e||\"MultiPolygon\"===e)return new rr(t,t.geometry)}else if(\"Polygon\"===t.type||\"MultiPolygon\"===t.type)return new rr(t,t)}return t.error(\"'within' expression requires valid geojson object that contains polygon geometry type.\")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if(\"Point\"===e.geometryType())return function(e,t){const i=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],n=e.canonicalID();if(!n)return !1;if(\"Polygon\"===t.type){const o=Ji(t.coordinates,r,n),s=tr(e.geometry(),i,r,n);if(!Vi(i,r))return !1;for(const e of s)if(!Gi(e,o))return !1}if(\"MultiPolygon\"===t.type){const o=Qi(t.coordinates,r,n),s=tr(e.geometry(),i,r,n);if(!Vi(i,r))return !1;for(const e of s)if(!Hi(e,o))return !1}return !0}(e,this.geometries);if(\"LineString\"===e.geometryType())return function(e,t){const i=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],n=e.canonicalID();if(!n)return !1;if(\"Polygon\"===t.type){const o=Ji(t.coordinates,r,n),s=ir(e.geometry(),i,r,n);if(!Vi(i,r))return !1;for(const e of s)if(!Yi(e,o))return !1}if(\"MultiPolygon\"===t.type){const o=Qi(t.coordinates,r,n),s=ir(e.geometry(),i,r,n);if(!Vi(i,r))return !1;for(const e of s)if(!Ki(e,o))return !1}return !0}(e,this.geometries)}return !1}eachChild(){}outputDefined(){return !0}serialize(){return [\"within\",this.geojson]}}var nr=rr,or={exports:{}};or.exports=function(){var e={kilometers:1,miles:1e3/1609.344,nauticalmiles:1e3/1852,meters:1e3,metres:1e3,yards:1e3/.9144,feet:1e3/.3048,inches:1e3/.0254},t=1/298.257223563,i=t*(2-t),r=Math.PI/180,n=function(t,n){if(void 0===t)throw new Error(\"No latitude given.\");if(n&&!e[n])throw new Error(\"Unknown unit \"+n+\". Use one of: \"+Object.keys(e).join(\", \"));var o=6378.137*r*(n?e[n]:1),s=Math.cos(t*r),a=1/(1-i*(1-s*s)),l=Math.sqrt(a);this.kx=o*l*s,this.ky=o*l*a*(1-i);},o={units:{configurable:!0}};function s(e,t){return e[0]===t[0]&&e[1]===t[1]}function a(e,t,i){var r=l(t[0]-e[0]);return [e[0]+r*i,e[1]+(t[1]-e[1])*i]}function l(e){for(;e<-180;)e+=360;for(;e>180;)e-=360;return e}return n.fromTile=function(e,t,i){var o=Math.PI*(1-2*(e+.5)/Math.pow(2,t)),s=Math.atan(.5*(Math.exp(o)-Math.exp(-o)))/r;return new n(s,i)},o.units.get=function(){return e},n.prototype.distance=function(e,t){var i=l(e[0]-t[0])*this.kx,r=(e[1]-t[1])*this.ky;return Math.sqrt(i*i+r*r)},n.prototype.bearing=function(e,t){var i=l(t[0]-e[0])*this.kx;return Math.atan2(i,(t[1]-e[1])*this.ky)/r},n.prototype.destination=function(e,t,i){var n=i*r;return this.offset(e,Math.sin(n)*t,Math.cos(n)*t)},n.prototype.offset=function(e,t,i){return [e[0]+t/this.kx,e[1]+i/this.ky]},n.prototype.lineDistance=function(e){for(var t=0,i=0;i<e.length-1;i++)t+=this.distance(e[i],e[i+1]);return t},n.prototype.area=function(e){for(var t=0,i=0;i<e.length;i++)for(var r=e[i],n=0,o=r.length,s=o-1;n<o;s=n++)t+=l(r[n][0]-r[s][0])*(r[n][1]+r[s][1])*(i?-1:1);return Math.abs(t)/2*this.kx*this.ky},n.prototype.along=function(e,t){var i=0;if(t<=0)return e[0];for(var r=0;r<e.length-1;r++){var n=e[r],o=e[r+1],s=this.distance(n,o);if((i+=s)>t)return a(n,o,(t-(i-s))/s)}return e[e.length-1]},n.prototype.pointToSegmentDistance=function(e,t,i){var r=t[0],n=t[1],o=l(i[0]-r)*this.kx,s=(i[1]-n)*this.ky,a=0;return 0===o&&0===s||((a=(l(e[0]-r)*this.kx*o+(e[1]-n)*this.ky*s)/(o*o+s*s))>1?(r=i[0],n=i[1]):a>0&&(r+=o/this.kx*a,n+=s/this.ky*a)),o=l(e[0]-r)*this.kx,s=(e[1]-n)*this.ky,Math.sqrt(o*o+s*s)},n.prototype.pointOnLine=function(e,t){for(var i,r,n,o,s=1/0,a=0;a<e.length-1;a++){var c=e[a][0],h=e[a][1],u=l(e[a+1][0]-c)*this.kx,d=(e[a+1][1]-h)*this.ky,p=0;0===u&&0===d||((p=(l(t[0]-c)*this.kx*u+(t[1]-h)*this.ky*d)/(u*u+d*d))>1?(c=e[a+1][0],h=e[a+1][1]):p>0&&(c+=u/this.kx*p,h+=d/this.ky*p));var f=(u=l(t[0]-c)*this.kx)*u+(d=(t[1]-h)*this.ky)*d;f<s&&(s=f,i=c,r=h,n=a,o=p);}return {point:[i,r],index:n,t:Math.max(0,Math.min(1,o))}},n.prototype.lineSlice=function(e,t,i){var r=this.pointOnLine(i,e),n=this.pointOnLine(i,t);if(r.index>n.index||r.index===n.index&&r.t>n.t){var o=r;r=n,n=o;}var a=[r.point],l=r.index+1,c=n.index;!s(i[l],a[0])&&l<=c&&a.push(i[l]);for(var h=l+1;h<=c;h++)a.push(i[h]);return s(i[c],n.point)||a.push(n.point),a},n.prototype.lineSliceAlong=function(e,t,i){for(var r=0,n=[],o=0;o<i.length-1;o++){var s=i[o],l=i[o+1],c=this.distance(s,l);if((r+=c)>e&&0===n.length&&n.push(a(s,l,(e-(r-c))/c)),r>=t)return n.push(a(s,l,(t-(r-c))/c)),n;r>e&&n.push(l);}return n},n.prototype.bufferPoint=function(e,t){var i=t/this.ky,r=t/this.kx;return [e[0]-r,e[1]-i,e[0]+r,e[1]+i]},n.prototype.bufferBBox=function(e,t){var i=t/this.ky,r=t/this.kx;return [e[0]-r,e[1]-i,e[2]+r,e[3]+i]},n.prototype.insideBBox=function(e,t){return l(e[0]-t[0])>=0&&l(e[0]-t[2])<=0&&e[1]>=t[1]&&e[1]<=t[3]},Object.defineProperties(n,o),n}();var sr=d(or.exports),ar={exports:{}};ar.exports=function(){var e=function(e,i){if(void 0===e&&(e=[]),void 0===i&&(i=t),this.data=e,this.length=this.data.length,this.compare=i,this.length>0)for(var r=(this.length>>1)-1;r>=0;r--)this._down(r);};function t(e,t){return e<t?-1:e>t?1:0}return e.prototype.push=function(e){this.data.push(e),this.length++,this._up(this.length-1);},e.prototype.pop=function(){if(0!==this.length){var e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}},e.prototype.peek=function(){return this.data[0]},e.prototype._up=function(e){for(var t=this.data,i=this.compare,r=t[e];e>0;){var n=e-1>>1,o=t[n];if(i(r,o)>=0)break;t[e]=o,e=n;}t[e]=r;},e.prototype._down=function(e){for(var t=this.data,i=this.compare,r=this.length>>1,n=t[e];e<r;){var o=1+(e<<1),s=t[o],a=o+1;if(a<this.length&&i(t[a],s)<0&&(o=a,s=t[a]),i(s,n)>=0)break;t[e]=s,e=o;}t[e]=n;},e}();var lr=d(ar.exports),cr=8192;function hr(e,t){return t.dist-e.dist}const ur=100,dr=50;function pr(e){const t=[1/0,1/0,-1/0,-1/0];if(t.length!==e.length)return !1;for(let i=0;i<t.length;i++)if(t[i]!==e[i])return !1;return !0}function fr(e){return e[1]-e[0]+1}function mr(e,t){const i=e[1]>=e[0]&&e[1]<t;return i||console.warn(\"Distance Expression: Index is out of range\"),i}function _r(e,t){if(e[0]>e[1])return [null,null];const i=fr(e);if(t){if(2===i)return [e,null];const t=Math.floor(i/2);return [[e[0],e[0]+t],[e[0]+t,e[1]]]}{if(1===i)return [e,null];const t=Math.floor(i/2)-1;return [[e[0],e[0]+t],[e[0]+t+1,e[1]]]}}function gr(e,t){const i=[1/0,1/0,-1/0,-1/0];if(!mr(t,e.length))return i;for(let r=t[0];r<=t[1];++r)Ui(i,e[r]);return i}function yr(e){const t=[1/0,1/0,-1/0,-1/0];for(let i=0;i<e.length;++i)for(let r=0;r<e[i].length;++r)Ui(t,e[i][r]);return t}function xr(e,t,i){if(pr(e)||pr(t))return NaN;let r=0,n=0;return e[2]<t[0]&&(r=t[0]-e[2]),e[0]>t[2]&&(r=e[0]-t[2]),e[1]>t[3]&&(n=e[1]-t[3]),e[3]<t[1]&&(n=t[1]-e[3]),i.distance([0,0],[r,n])}function vr(e,t){const i=Math.pow(2,t.z);return [(n=(e.x/cr+t.x)/i,360*n-180),(r=(e.y/cr+t.y)/i,360/Math.PI*Math.atan(Math.exp((180-360*r)*Math.PI/180))-90)];var r,n;}function br(e,t){const i=[];for(let r=0;r<e.length;++r)i.push(vr(e[r],t));return i}function wr(e,t,i){const r=i.pointOnLine(t,e).point;return i.distance(e,r)}function Tr(e,t,i,r,n){const o=i.slice(r[0],r[1]+1);let s=1/0;for(let i=t[0];i<=t[1];++i)if(0===(s=Math.min(s,wr(e[i],o,n))))return 0;return s}function Er(e,t,i,r,n){const o=Math.min(n.pointToSegmentDistance(e,i,r),n.pointToSegmentDistance(t,i,r)),s=Math.min(n.pointToSegmentDistance(i,e,t),n.pointToSegmentDistance(r,e,t));return Math.min(o,s)}function Mr(e,t,i,r,n){if(!mr(t,e.length)||!mr(r,i.length))return NaN;let o=1/0;for(let s=t[0];s<t[1];++s)for(let t=r[0];t<r[1];++t){if(Zi(e[s],e[s+1],i[t],i[t+1]))return 0;o=Math.min(o,Er(e[s],e[s+1],i[t],i[t+1],n));}return o}function Ar(e,t,i,r,n){if(!mr(t,e.length)||!mr(r,i.length))return NaN;let o=1/0;for(let s=t[0];s<=t[1];++s)for(let t=r[0];t<=r[1];++t)if(0===(o=Math.min(o,n.distance(e[s],i[t]))))return o;return o}function Sr(e,t,i){if(Gi(e,t,!0))return 0;let r=1/0;for(const n of t){const t=n.length;if(t<2)return console.warn(\"Distance Expression: Invalid polygon!\"),NaN;if(n[0]!==n[t-1]&&0===(r=Math.min(r,i.pointToSegmentDistance(e,n[t-1],n[0]))))return r;if(0===(r=Math.min(r,wr(e,n,i))))return r}return r}function Ir(e,t,i,r){if(!mr(t,e.length))return NaN;for(let r=t[0];r<=t[1];++r)if(Gi(e[r],i,!0))return 0;let n=1/0;for(let o=t[0];o<t[1];++o)for(const t of i)for(let i=0,s=t.length,a=s-1;i<s;a=i++){if(Zi(e[o],e[o+1],t[a],t[i]))return 0;n=Math.min(n,Er(e[o],e[o+1],t[a],t[i],r));}return n}function Cr(e,t){for(const i of e)for(let e=0;e<=i.length-1;++e)if(Gi(i[e],t,!0))return !0;return !1}function zr(e,t,i,r=1/0){const n=yr(e),o=yr(t);if(r!==1/0&&xr(n,o,i)>=r)return r;if(Vi(n,o)){if(Cr(e,t))return 0}else if(Cr(t,e))return 0;let s=r;for(const r of e)for(let e=0,n=r.length,o=n-1;e<n;o=e++)for(const n of t)for(let t=0,a=n.length,l=a-1;t<a;l=t++){if(Zi(r[o],r[e],n[l],n[t]))return 0;s=Math.min(s,Er(r[o],r[e],n[l],n[t],i));}return s}function Pr(e,t,i,r,n,o,s){if(null===o||null===s)return;const a=xr(gr(r,o),gr(n,s),i);a<t&&e.push({dist:a,range1:o,range2:s});}function Dr(e,t,i,r,n=1/0){let o=Math.min(r.distance(e[0],i[0][0]),n);if(0===o)return o;const s=new lr([{dist:0,range1:[0,e.length-1],range2:[0,0]}],hr),a=t?dr:ur,l=yr(i);for(;s.length;){const n=s.pop();if(n.dist>=o)continue;const c=n.range1;if(fr(c)<=a){if(!mr(c,e.length))return NaN;if(t){const t=Ir(e,c,i,r);if(0===(o=Math.min(o,t)))return o}else for(let t=c[0];t<=c[1];++t){const n=Sr(e[t],i,r);if(0===(o=Math.min(o,n)))return o}}else {const i=_r(c,t);if(null!==i[0]){const t=xr(gr(e,i[0]),l,r);t<o&&s.push({dist:t,range1:i[0],range2:[0,0]});}if(null!==i[1]){const t=xr(gr(e,i[1]),l,r);t<o&&s.push({dist:t,range1:i[1],range2:[0,0]});}}}return o}function Rr(e,t,i,r,n,o=1/0){let s=Math.min(o,n.distance(e[0],i[0]));if(0===s)return s;const a=new lr([{dist:0,range1:[0,e.length-1],range2:[0,i.length-1]}],hr),l=t?dr:ur,c=r?dr:ur;for(;a.length;){const o=a.pop();if(o.dist>=s)continue;const h=o.range1,u=o.range2;if(fr(h)<=l&&fr(u)<=c){if(!mr(h,e.length)||!mr(u,i.length))return NaN;if(t&&r?s=Math.min(s,Mr(e,h,i,u,n)):t||r?t&&!r?s=Math.min(s,Tr(i,u,e,h,n)):!t&&r&&(s=Math.min(s,Tr(e,h,i,u,n))):s=Math.min(s,Ar(e,h,i,u,n)),0===s)return s}else {const o=_r(h,t),l=_r(u,r);Pr(a,s,n,e,i,o[0],l[0]),Pr(a,s,n,e,i,o[0],l[1]),Pr(a,s,n,e,i,o[1],l[0]),Pr(a,s,n,e,i,o[1],l[1]);}}return s}function Lr(e,t,i,r,n=1/0){let o=n;const s=gr(e,[0,e.length-1]);for(const n of i)if(!(o!==1/0&&xr(s,gr(n,[0,n.length-1]),r)>=o)&&(o=Math.min(o,Rr(e,t,n,!0,r,o)),0===o))return o;return o}function kr(e,t,i,r,n=1/0){let o=n;const s=gr(e,[0,e.length-1]);for(const n of i){if(o!==1/0&&xr(s,yr(n),r)>=o)continue;const i=Dr(e,t,n,r,o);if(isNaN(i))return i;if(0===(o=Math.min(o,i)))return o}return o}function Or(e){return \"Point\"===e||\"MultiPoint\"===e||\"LineString\"===e||\"MultiLineString\"===e||\"Polygon\"===e||\"MultiPolygon\"===e}class Br{constructor(e,t){this.type=jt,this.geojson=e,this.geometries=t;}static parse(e,t){if(2!==e.length)return t.error(`'distance' expression requires either one argument, but found ' ${e.length-1} instead.`);if(_i(e[1])){const t=e[1];if(\"FeatureCollection\"===t.type){for(let e=0;e<t.features.length;++e)if(Or(t.features[e].geometry.type))return new Br(t,t.features[e].geometry)}else if(\"Feature\"===t.type){if(Or(t.geometry.type))return new Br(t,t.geometry)}else if(Or(t.type))return new Br(t,t)}return t.error(\"'distance' expression needs to be an array with format ['Distance', GeoJSONObj].\")}evaluate(e){const t=e.geometry(),i=e.canonicalID();if(null!=t&&null!=i){if(\"Point\"===e.geometryType())return function(e,t,i){const r=[];for(const i of e)for(const e of i)r.push(vr(e,t));const n=new sr(r[0][1],\"meters\");return \"Point\"===i.type||\"MultiPoint\"===i.type||\"LineString\"===i.type?Rr(r,!1,\"Point\"===i.type?[i.coordinates]:i.coordinates,\"LineString\"===i.type,n):\"MultiLineString\"===i.type?Lr(r,!1,i.coordinates,n):\"Polygon\"===i.type||\"MultiPolygon\"===i.type?kr(r,!1,\"Polygon\"===i.type?[i.coordinates]:i.coordinates,n):null}(t,i,this.geometries);if(\"LineString\"===e.geometryType())return function(e,t,i){const r=[];for(const i of e){const e=[];for(const r of i)e.push(vr(r,t));r.push(e);}const n=new sr(r[0][0][1],\"meters\");if(\"Point\"===i.type||\"MultiPoint\"===i.type||\"LineString\"===i.type)return Lr(\"Point\"===i.type?[i.coordinates]:i.coordinates,\"LineString\"===i.type,r,n);if(\"MultiLineString\"===i.type){let e=1/0;for(let t=0;t<i.coordinates.length;t++){const o=Lr(i.coordinates[t],!0,r,n,e);if(isNaN(o))return o;if(0===(e=Math.min(e,o)))return e}return e}if(\"Polygon\"===i.type||\"MultiPolygon\"===i.type){let e=1/0;for(let t=0;t<r.length;t++){const o=kr(r[t],!0,\"Polygon\"===i.type?[i.coordinates]:i.coordinates,n,e);if(isNaN(o))return o;if(0===(e=Math.min(e,o)))return e}return e}return null}(t,i,this.geometries);if(\"Polygon\"===e.geometryType())return function(e,t,i){const r=[];for(const i of function(e,t){const i=e.length;if(i<=1)return [e];const r=[];let n,o;for(let t=0;t<i;t++){const i=Ni(e[t]);0!==i&&(e[t].area=Math.abs(i),void 0===o&&(o=i<0),o===i<0?(n&&r.push(n),n=[e[t]]):n.push(e[t]));}return n&&r.push(n),r}(e)){const e=[];for(let r=0;r<i.length;++r)e.push(br(i[r],t));r.push(e);}const n=new sr(r[0][0][0][1],\"meters\");if(\"Point\"===i.type||\"MultiPoint\"===i.type||\"LineString\"===i.type)return kr(\"Point\"===i.type?[i.coordinates]:i.coordinates,\"LineString\"===i.type,r,n);if(\"MultiLineString\"===i.type){let e=1/0;for(let t=0;t<i.coordinates.length;t++){const o=kr(i.coordinates[t],!0,r,n,e);if(isNaN(o))return o;if(0===(e=Math.min(e,o)))return e}return e}return \"Polygon\"===i.type||\"MultiPolygon\"===i.type?function(e,t,i){let r=1/0;for(const n of e)for(const e of t){const t=zr(n,e,i,r);if(isNaN(t))return t;if(0===(r=Math.min(r,t)))return r}return r}(\"Polygon\"===i.type?[i.coordinates]:i.coordinates,r,n):null}(t,i,this.geometries);console.warn(\"Distance Expression: currently only evaluates valid Point/LineString/Polygon geometries.\");}else console.warn(\"Distance Expression: requirs valid feature and canonical information.\");return null}eachChild(){}outputDefined(){return !0}serialize(){return [\"distance\",this.geojson]}}var Fr=Br;function Nr(e){if(e instanceof ki){if(\"get\"===e.name&&1===e.args.length)return !1;if(\"feature-state\"===e.name)return !1;if(\"has\"===e.name&&1===e.args.length)return !1;if(\"properties\"===e.name||\"geometry-type\"===e.name||\"id\"===e.name)return !1;if(/^filter-/.test(e.name))return !1}if(e instanceof nr)return !1;if(e instanceof Fr)return !1;let t=!0;return e.eachChild((e=>{t&&!Nr(e)&&(t=!1);})),t}function Ur(e){if(e instanceof ki&&\"feature-state\"===e.name)return !1;let t=!0;return e.eachChild((e=>{t&&!Ur(e)&&(t=!1);})),t}function Vr(e){if(e instanceof ki&&\"config\"===e.name)return !1;let t=!0;return e.eachChild((e=>{t&&!Vr(e)&&(t=!1);})),t}function jr(e,t){if(e instanceof ki&&t.indexOf(e.name)>=0)return !1;let i=!0;return e.eachChild((e=>{i&&!jr(e,t)&&(i=!1);})),i}class Gr{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t;}static parse(e,t){if(2!==e.length||\"string\"!=typeof e[1])return t.error(\"'var' expression requires exactly one string literal argument.\");const i=e[1];return t.scope.has(i)?new Gr(i,t.scope.get(i)):t.error(`Unknown variable \"${i}\". Make sure \"${i}\" has been bound in an enclosing \"let\" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return !1}serialize(){return [\"var\",this.name]}}var qr=Gr;class Zr{constructor(e,t=[],i,r=new Ut,n=[],o){this.registry=e,this.path=t,this.key=t.map((e=>`[${e}]`)).join(\"\"),this.scope=r,this.errors=n,this.expectedType=i,this.options=o;}parse(e,t,i,r,n={}){return t||i?this.concat(t,i,r)._parse(e,n):this._parse(e,n)}_parse(e,t){function i(e,t,i){return \"assert\"===i?new Ei(t,[e]):\"coerce\"===i?new zi(t,[e]):e}if(null!==e&&\"string\"!=typeof e&&\"boolean\"!=typeof e&&\"number\"!=typeof e||(e=[\"literal\",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use [\"literal\", []].');const r=\"string\"==typeof e[0]?this.registry[e[0]]:void 0;if(r){let n=r.parse(e,this);if(!n)return null;if(this.expectedType){const e=this.expectedType,r=n.type;if(\"string\"!==e.kind&&\"number\"!==e.kind&&\"boolean\"!==e.kind&&\"object\"!==e.kind&&\"array\"!==e.kind||\"value\"!==r.kind)if(\"color\"!==e.kind&&\"formatted\"!==e.kind&&\"resolvedImage\"!==e.kind||\"value\"!==r.kind&&\"string\"!==r.kind){if(this.checkSubtype(e,r))return null}else n=i(n,e,t.typeAnnotation||\"coerce\");else n=i(n,e,t.typeAnnotation||\"assert\");}if(!(n instanceof vi)&&\"resolvedImage\"!==n.type.kind&&Wr(n)){const e=new Di(this.options);try{n=new vi(n.type,n.evaluate(e));}catch(e){return this.error(e.message),null}}return n}return zi.parse([\"to-array\",e],this)}return this.error(void 0===e?\"'undefined' value invalid. Use null instead.\":\"object\"==typeof e?'Bare objects invalid. Use [\"literal\", {...}] instead.':`Expected an array, but found ${typeof e} instead.`)}concat(e,t,i){const r=\"number\"==typeof e?this.path.concat(e):this.path,n=i?this.scope.concat(i):this.scope;return new Zr(this.registry,r,t||null,n,this.errors,this.options)}error(e,...t){const i=`${this.key}${t.map((e=>`[${e}]`)).join(\"\")}`;this.errors.push(new Ft(i,e));}checkSubtype(e,t){const i=ei(e,t);return i&&this.error(i),i}}var $r=Zr;function Wr(e){if(e instanceof qr)return Wr(e.boundExpression);if(e instanceof ki&&\"error\"===e.name)return !1;if(e instanceof ki&&\"config\"===e.name)return !1;if(e instanceof Oi)return !1;if(e instanceof nr)return !1;if(e instanceof Fr)return !1;const t=e instanceof zi||e instanceof Ei;let i=!0;return e.eachChild((e=>{i=t?i&&Wr(e):i&&e instanceof vi;})),!!i&&Nr(e)&&jr(e,[\"zoom\",\"heatmap-density\",\"line-progress\",\"raster-value\",\"sky-radial-progress\",\"accumulated\",\"is-supported-script\",\"pitch\",\"distance-from-center\",\"measure-light\"])}function Hr(e,t){const i=e.length-1;let r,n,o=0,s=i,a=0;for(;o<=s;)if(a=Math.floor((o+s)/2),r=e[a],n=e[a+1],r<=t){if(a===i||t<n)return a;o=a+1;}else {if(!(r>t))throw new bi(\"Input is not a number.\");s=a-1;}return 0}class Xr{constructor(e,t,i){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[e,t]of i)this.labels.push(e),this.outputs.push(t);}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error(\"Expected an even number of arguments.\");const i=t.parse(e[1],1,jt);if(!i)return null;const r=[];let n=null;t.expectedType&&\"value\"!==t.expectedType.kind&&(n=t.expectedType);for(let i=1;i<e.length;i+=2){const o=1===i?-1/0:e[i],s=e[i+1],a=i,l=i+1;if(\"number\"!=typeof o)return t.error('Input/output pairs for \"step\" expressions must be defined using literal numeric values (not computed expressions) for the input values.',a);if(r.length&&r[r.length-1][0]>=o)return t.error('Input/output pairs for \"step\" expressions must be arranged with input values in strictly ascending order.',a);const c=t.parse(s,l,n);if(!c)return null;n=n||c.type,r.push([o,c]);}return new Xr(n,i,r)}evaluate(e){const t=this.labels,i=this.outputs;if(1===t.length)return i[0].evaluate(e);const r=this.input.evaluate(e);if(r<=t[0])return i[0].evaluate(e);const n=t.length;return r>=t[n-1]?i[n-1].evaluate(e):i[Hr(t,r)].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t);}outputDefined(){return this.outputs.every((e=>e.outputDefined()))}serialize(){const e=[\"step\",this.input.serialize()];for(let t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e}}var Yr=Xr;function Kr(e,t,i){return e*(1-i)+t*i}function Jr(e,t,i){return e.map(((e,r)=>Kr(e,t[r],i)))}var Qr=Object.freeze({__proto__:null,array:Jr,color:function(e,t,i){return new hi(Kr(e.r,t.r,i),Kr(e.g,t.g,i),Kr(e.b,t.b,i),Kr(e.a,t.a,i))},number:Kr});const en=.95047,tn=1.08883,rn=4/29,nn=6/29,on=3*nn*nn,sn=nn*nn*nn,an=Math.PI/180,ln=180/Math.PI;function cn(e){return e>sn?Math.pow(e,1/3):e/on+rn}function hn(e){return e>nn?e*e*e:on*(e-rn)}function un(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function dn(e){return (e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function pn(e){const t=dn(e.r),i=dn(e.g),r=dn(e.b),n=cn((.4124564*t+.3575761*i+.1804375*r)/en),o=cn((.2126729*t+.7151522*i+.072175*r)/1);return {l:116*o-16,a:500*(n-o),b:200*(o-cn((.0193339*t+.119192*i+.9503041*r)/tn)),alpha:e.a}}function fn(e){let t=(e.l+16)/116,i=isNaN(e.a)?t:t+e.a/500,r=isNaN(e.b)?t:t-e.b/200;return t=1*hn(t),i=en*hn(i),r=tn*hn(r),new hi(un(3.2404542*i-1.5371385*t-.4985314*r),un(-.969266*i+1.8760108*t+.041556*r),un(.0556434*i-.2040259*t+1.0572252*r),e.alpha)}function mn(e,t,i){const r=t-e;return e+i*(r>180||r<-180?r-360*Math.round(r/360):r)}const _n={forward:pn,reverse:fn,interpolate:function(e,t,i){return {l:Kr(e.l,t.l,i),a:Kr(e.a,t.a,i),b:Kr(e.b,t.b,i),alpha:Kr(e.alpha,t.alpha,i)}}},gn={forward:function(e){const{l:t,a:i,b:r}=pn(e),n=Math.atan2(r,i)*ln;return {h:n<0?n+360:n,c:Math.sqrt(i*i+r*r),l:t,alpha:e.a}},reverse:function(e){const t=e.h*an,i=e.c;return fn({l:e.l,a:Math.cos(t)*i,b:Math.sin(t)*i,alpha:e.alpha})},interpolate:function(e,t,i){return {h:mn(e.h,t.h,i),c:Kr(e.c,t.c,i),l:Kr(e.l,t.l,i),alpha:Kr(e.alpha,t.alpha,i)}}};var yn=Object.freeze({__proto__:null,hcl:gn,lab:_n});class xn{constructor(e,t,i,r,n){this.type=e,this.operator=t,this.interpolation=i,this.input=r,this.labels=[],this.outputs=[];for(const[e,t]of n)this.labels.push(e),this.outputs.push(t);}static interpolationFactor(e,t,i,r){let n=0;if(\"exponential\"===e.name)n=vn(t,e.base,i,r);else if(\"linear\"===e.name)n=vn(t,1,i,r);else if(\"cubic-bezier\"===e.name){const o=e.controlPoints;n=new m(o[0],o[1],o[2],o[3]).solve(vn(t,1,i,r));}return n}static parse(e,t){let[i,r,n,...o]=e;if(!Array.isArray(r)||0===r.length)return t.error(\"Expected an interpolation type expression.\",1);if(\"linear\"===r[0])r={name:\"linear\"};else if(\"exponential\"===r[0]){const e=r[1];if(\"number\"!=typeof e)return t.error(\"Exponential interpolation requires a numeric base.\",1,1);r={name:\"exponential\",base:e};}else {if(\"cubic-bezier\"!==r[0])return t.error(`Unknown interpolation type ${String(r[0])}`,1,0);{const e=r.slice(1);if(4!==e.length||e.some((e=>\"number\"!=typeof e||e<0||e>1)))return t.error(\"Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.\",1);r={name:\"cubic-bezier\",controlPoints:e};}}if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error(\"Expected an even number of arguments.\");if(n=t.parse(n,2,jt),!n)return null;const s=[];let a=null;\"interpolate-hcl\"===i||\"interpolate-lab\"===i?a=Zt:t.expectedType&&\"value\"!==t.expectedType.kind&&(a=t.expectedType);for(let e=0;e<o.length;e+=2){const i=o[e],r=o[e+1],n=e+3,l=e+4;if(\"number\"!=typeof i)return t.error('Input/output pairs for \"interpolate\" expressions must be defined using literal numeric values (not computed expressions) for the input values.',n);if(s.length&&s[s.length-1][0]>=i)return t.error('Input/output pairs for \"interpolate\" expressions must be arranged with input values in strictly ascending order.',n);const c=t.parse(r,l,a);if(!c)return null;a=a||c.type,s.push([i,c]);}return \"number\"===a.kind||\"color\"===a.kind||\"array\"===a.kind&&\"number\"===a.itemType.kind&&\"number\"==typeof a.N?new xn(a,i,r,n,s):t.error(`Type ${Jt(a)} is not interpolatable.`)}evaluate(e){const t=this.labels,i=this.outputs;if(1===t.length)return i[0].evaluate(e);const r=this.input.evaluate(e);if(r<=t[0])return i[0].evaluate(e);const n=t.length;if(r>=t[n-1])return i[n-1].evaluate(e);const o=Hr(t,r),s=xn.interpolationFactor(this.interpolation,r,t[o],t[o+1]),a=i[o].evaluate(e),l=i[o+1].evaluate(e);return \"interpolate\"===this.operator?Qr[this.type.kind.toLowerCase()](a,l,s):\"interpolate-hcl\"===this.operator?gn.reverse(gn.interpolate(gn.forward(a),gn.forward(l),s)):_n.reverse(_n.interpolate(_n.forward(a),_n.forward(l),s))}eachChild(e){e(this.input);for(const t of this.outputs)e(t);}outputDefined(){return this.outputs.every((e=>e.outputDefined()))}serialize(){let e;e=\"linear\"===this.interpolation.name?[\"linear\"]:\"exponential\"===this.interpolation.name?1===this.interpolation.base?[\"linear\"]:[\"exponential\",this.interpolation.base]:[\"cubic-bezier\"].concat(this.interpolation.controlPoints);const t=[this.operator,e,this.input.serialize()];for(let e=0;e<this.labels.length;e++)t.push(this.labels[e],this.outputs[e].serialize());return t}}function vn(e,t,i,r){const n=r-i,o=e-i;return 0===n?0:1===t?o/n:(Math.pow(t,o)-1)/(Math.pow(t,n)-1)}var bn=xn;class wn{constructor(e,t){this.type=e,this.args=t;}static parse(e,t){if(e.length<2)return t.error(\"Expectected at least one argument.\");let i=null;const r=t.expectedType;r&&\"value\"!==r.kind&&(i=r);const n=[];for(const r of e.slice(1)){const e=t.parse(r,1+n.length,i,void 0,{typeAnnotation:\"omit\"});if(!e)return null;i=i||e.type,n.push(e);}const o=r&&n.some((e=>ei(r,e.type)));return new wn(o?Wt:i,n)}evaluate(e){let t,i=null,r=0;for(const n of this.args){if(r++,i=n.evaluate(e),i&&i instanceof fi&&!i.available&&(t||(t=i),i=null,r===this.args.length))return t;if(null!==i)break}return i}eachChild(e){this.args.forEach(e);}outputDefined(){return this.args.every((e=>e.outputDefined()))}serialize(){const e=[\"coalesce\"];return this.eachChild((t=>{e.push(t.serialize());})),e}}var Tn=wn;class En{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t;}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result);}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const i=[];for(let r=1;r<e.length-1;r+=2){const n=e[r];if(\"string\"!=typeof n)return t.error(`Expected string, but found ${typeof n} instead.`,r);if(/[^a-zA-Z0-9_]/.test(n))return t.error(\"Variable names must contain only alphanumeric characters or '_'.\",r);const o=t.parse(e[r+1],r+1);if(!o)return null;i.push([n,o]);}const r=t.parse(e[e.length-1],e.length-1,t.expectedType,i);return r?new En(i,r):null}outputDefined(){return this.result.outputDefined()}serialize(){const e=[\"let\"];for(const[t,i]of this.bindings)e.push(t,i.serialize());return e.push(this.result.serialize()),e}}var Mn=En;class An{constructor(e,t,i){this.type=e,this.index=t,this.input=i;}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const i=t.parse(e[1],1,jt),r=t.parse(e[2],2,Kt(t.expectedType||Wt));return i&&r?new An(r.type.itemType,i,r):null}evaluate(e){const t=this.index.evaluate(e),i=this.input.evaluate(e);if(t<0)throw new bi(`Array index out of bounds: ${t} < 0.`);if(t>=i.length)throw new bi(`Array index out of bounds: ${t} > ${i.length-1}.`);if(t!==Math.floor(t))throw new bi(`Array index must be an integer, but found ${t} instead.`);return i[t]}eachChild(e){e(this.index),e(this.input);}outputDefined(){return !1}serialize(){return [\"at\",this.index.serialize(),this.input.serialize()]}}var Sn=An;class In{constructor(e,t){this.type=qt,this.needle=e,this.haystack=t;}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const i=t.parse(e[1],1,Wt),r=t.parse(e[2],2,Wt);return i&&r?ti(i.type,[qt,Gt,jt,Vt,Wt])?new In(i,r):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${Jt(i.type)} instead`):null}evaluate(e){const t=this.needle.evaluate(e),i=this.haystack.evaluate(e);if(null==i)return !1;if(!ii(t,[\"boolean\",\"string\",\"number\",\"null\"]))throw new bi(`Expected first argument to be of type boolean, string, number or null, but found ${Jt(gi(t))} instead.`);if(!ii(i,[\"string\",\"array\"]))throw new bi(`Expected second argument to be of type array or string, but found ${Jt(gi(i))} instead.`);return i.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack);}outputDefined(){return !0}serialize(){return [\"in\",this.needle.serialize(),this.haystack.serialize()]}}var Cn=In;class zn{constructor(e,t,i){this.type=jt,this.needle=e,this.haystack=t,this.fromIndex=i;}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const i=t.parse(e[1],1,Wt),r=t.parse(e[2],2,Wt);if(!i||!r)return null;if(!ti(i.type,[qt,Gt,jt,Vt,Wt]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${Jt(i.type)} instead`);if(4===e.length){const n=t.parse(e[3],3,jt);return n?new zn(i,r,n):null}return new zn(i,r)}evaluate(e){const t=this.needle.evaluate(e),i=this.haystack.evaluate(e);if(!ii(t,[\"boolean\",\"string\",\"number\",\"null\"]))throw new bi(`Expected first argument to be of type boolean, string, number or null, but found ${Jt(gi(t))} instead.`);if(!ii(i,[\"string\",\"array\"]))throw new bi(`Expected second argument to be of type array or string, but found ${Jt(gi(i))} instead.`);if(this.fromIndex){const r=this.fromIndex.evaluate(e);return i.indexOf(t,r)}return i.indexOf(t)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex);}outputDefined(){return !1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const e=this.fromIndex.serialize();return [\"index-of\",this.needle.serialize(),this.haystack.serialize(),e]}return [\"index-of\",this.needle.serialize(),this.haystack.serialize()]}}var Pn=zn;class Dn{constructor(e,t,i,r,n,o){this.inputType=e,this.type=t,this.input=i,this.cases=r,this.outputs=n,this.otherwise=o;}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return t.error(\"Expected an even number of arguments.\");let i,r;t.expectedType&&\"value\"!==t.expectedType.kind&&(r=t.expectedType);const n={},o=[];for(let s=2;s<e.length-1;s+=2){let a=e[s];const l=e[s+1];Array.isArray(a)||(a=[a]);const c=t.concat(s);if(0===a.length)return c.error(\"Expected at least one branch label.\");for(const e of a){if(\"number\"!=typeof e&&\"string\"!=typeof e)return c.error(\"Branch labels must be numbers or strings.\");if(\"number\"==typeof e&&Math.abs(e)>Number.MAX_SAFE_INTEGER)return c.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(\"number\"==typeof e&&Math.floor(e)!==e)return c.error(\"Numeric branch labels must be integer values.\");if(i){if(c.checkSubtype(i,gi(e)))return null}else i=gi(e);if(void 0!==n[String(e)])return c.error(\"Branch labels must be unique.\");n[String(e)]=o.length;}const h=t.parse(l,s,r);if(!h)return null;r=r||h.type,o.push(h);}const s=t.parse(e[1],1,Wt);if(!s)return null;const a=t.parse(e[e.length-1],e.length-1,r);return a?\"value\"!==s.type.kind&&t.concat(1).checkSubtype(i,s.type)?null:new Dn(i,r,s,n,o,a):null}evaluate(e){const t=this.input.evaluate(e);return (gi(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise);}outputDefined(){return this.outputs.every((e=>e.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const e=[\"match\",this.input.serialize()],t=Object.keys(this.cases).sort(),i=[],r={};for(const e of t){const t=r[this.cases[e]];void 0===t?(r[this.cases[e]]=i.length,i.push([this.cases[e],[e]])):i[t][1].push(e);}const n=e=>\"number\"===this.inputType.kind?Number(e):e;for(const[t,r]of i)e.push(1===r.length?n(r[0]):r.map(n)),e.push(this.outputs[t].serialize());return e.push(this.otherwise.serialize()),e}}var Rn=Dn;class Ln{constructor(e,t,i){this.type=e,this.branches=t,this.otherwise=i;}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return t.error(\"Expected an odd number of arguments.\");let i;t.expectedType&&\"value\"!==t.expectedType.kind&&(i=t.expectedType);const r=[];for(let n=1;n<e.length-1;n+=2){const o=t.parse(e[n],n,qt);if(!o)return null;const s=t.parse(e[n+1],n+1,i);if(!s)return null;r.push([o,s]),i=i||s.type;}const n=t.parse(e[e.length-1],e.length-1,i);return n?new Ln(i,r,n):null}evaluate(e){for(const[t,i]of this.branches)if(t.evaluate(e))return i.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,i]of this.branches)e(t),e(i);e(this.otherwise);}outputDefined(){return this.branches.every((([e,t])=>t.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const e=[\"case\"];return this.eachChild((t=>{e.push(t.serialize());})),e}}var kn=Ln;class On{constructor(e,t,i,r){this.type=e,this.input=t,this.beginIndex=i,this.endIndex=r;}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const i=t.parse(e[1],1,Wt),r=t.parse(e[2],2,jt);if(!i||!r)return null;if(!ti(i.type,[Kt(Wt),Gt,Wt]))return t.error(`Expected first argument to be of type array or string, but found ${Jt(i.type)} instead`);if(4===e.length){const n=t.parse(e[3],3,jt);return n?new On(i.type,i,r,n):null}return new On(i.type,i,r)}evaluate(e){const t=this.input.evaluate(e),i=this.beginIndex.evaluate(e);if(!ii(t,[\"string\",\"array\"]))throw new bi(`Expected first argument to be of type array or string, but found ${Jt(gi(t))} instead.`);if(this.endIndex){const r=this.endIndex.evaluate(e);return t.slice(i,r)}return t.slice(i)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex);}outputDefined(){return !1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const e=this.endIndex.serialize();return [\"slice\",this.input.serialize(),this.beginIndex.serialize(),e]}return [\"slice\",this.input.serialize(),this.beginIndex.serialize()]}}var Bn=On;function Fn(e,t){return \"==\"===e||\"!=\"===e?\"boolean\"===t.kind||\"string\"===t.kind||\"number\"===t.kind||\"null\"===t.kind||\"value\"===t.kind:\"string\"===t.kind||\"number\"===t.kind||\"value\"===t.kind}function Nn(e,t,i,r){return 0===r.compare(t,i)}function Un(e,t,i){const r=\"==\"!==e&&\"!=\"!==e;return class n{constructor(e,t,i){this.type=qt,this.lhs=e,this.rhs=t,this.collator=i,this.hasUntypedArgument=\"value\"===e.type.kind||\"value\"===t.type.kind;}static parse(e,t){if(3!==e.length&&4!==e.length)return t.error(\"Expected two or three arguments.\");const i=e[0];let o=t.parse(e[1],1,Wt);if(!o)return null;if(!Fn(i,o.type))return t.concat(1).error(`\"${i}\" comparisons are not supported for type '${Jt(o.type)}'.`);let s=t.parse(e[2],2,Wt);if(!s)return null;if(!Fn(i,s.type))return t.concat(2).error(`\"${i}\" comparisons are not supported for type '${Jt(s.type)}'.`);if(o.type.kind!==s.type.kind&&\"value\"!==o.type.kind&&\"value\"!==s.type.kind)return t.error(`Cannot compare types '${Jt(o.type)}' and '${Jt(s.type)}'.`);r&&(\"value\"===o.type.kind&&\"value\"!==s.type.kind?o=new Ei(s.type,[o]):\"value\"!==o.type.kind&&\"value\"===s.type.kind&&(s=new Ei(o.type,[s])));let a=null;if(4===e.length){if(\"string\"!==o.type.kind&&\"string\"!==s.type.kind&&\"value\"!==o.type.kind&&\"value\"!==s.type.kind)return t.error(\"Cannot use collator to compare non-string types.\");if(a=t.parse(e[3],3,Ht),!a)return null}return new n(o,s,a)}evaluate(n){const o=this.lhs.evaluate(n),s=this.rhs.evaluate(n);if(r&&this.hasUntypedArgument){const t=gi(o),i=gi(s);if(t.kind!==i.kind||\"string\"!==t.kind&&\"number\"!==t.kind)throw new bi(`Expected arguments for \"${e}\" to be (string, string) or (number, number), but found (${t.kind}, ${i.kind}) instead.`)}if(this.collator&&!r&&this.hasUntypedArgument){const e=gi(o),i=gi(s);if(\"string\"!==e.kind||\"string\"!==i.kind)return t(n,o,s)}return this.collator?i(n,o,s,this.collator.evaluate(n)):t(n,o,s)}eachChild(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator);}outputDefined(){return !0}serialize(){const t=[e];return this.eachChild((e=>{t.push(e.serialize());})),t}}}const Vn=Un(\"==\",(function(e,t,i){return t===i}),Nn),jn=Un(\"!=\",(function(e,t,i){return t!==i}),(function(e,t,i,r){return !Nn(0,t,i,r)})),Gn=Un(\"<\",(function(e,t,i){return t<i}),(function(e,t,i,r){return r.compare(t,i)<0})),qn=Un(\">\",(function(e,t,i){return t>i}),(function(e,t,i,r){return r.compare(t,i)>0})),Zn=Un(\"<=\",(function(e,t,i){return t<=i}),(function(e,t,i,r){return r.compare(t,i)<=0})),$n=Un(\">=\",(function(e,t,i){return t>=i}),(function(e,t,i,r){return r.compare(t,i)>=0}));class Wn{constructor(e,t,i,r,n,o){this.type=Gt,this.number=e,this.locale=t,this.currency=i,this.unit=r,this.minFractionDigits=n,this.maxFractionDigits=o;}static parse(e,t){if(3!==e.length)return t.error(\"Expected two arguments.\");const i=t.parse(e[1],1,jt);if(!i)return null;const r=e[2];if(\"object\"!=typeof r||Array.isArray(r))return t.error(\"NumberFormat options argument must be an object.\");let n=null;if(r.locale&&(n=t.parse(r.locale,1,Gt),!n))return null;let o=null;if(r.currency&&(o=t.parse(r.currency,1,Gt),!o))return null;let s=null;if(r.unit&&(s=t.parse(r.unit,1,Gt),!s))return null;let a=null;if(r[\"min-fraction-digits\"]&&(a=t.parse(r[\"min-fraction-digits\"],1,jt),!a))return null;let l=null;return r[\"max-fraction-digits\"]&&(l=t.parse(r[\"max-fraction-digits\"],1,jt),!l)?null:new Wn(i,n,o,s,a,l)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:(this.currency?\"currency\":this.unit&&\"unit\")||\"decimal\",currency:this.currency?this.currency.evaluate(e):void 0,unit:this.unit?this.unit.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.unit&&e(this.unit),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits);}outputDefined(){return !1}serialize(){const e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.unit&&(e.unit=this.unit.serialize()),this.minFractionDigits&&(e[\"min-fraction-digits\"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e[\"max-fraction-digits\"]=this.maxFractionDigits.serialize()),[\"number-format\",this.number.serialize(),e]}}class Hn{constructor(e){this.type=jt,this.input=e;}static parse(e,t){if(2!==e.length)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const i=t.parse(e[1],1);return i?\"array\"!==i.type.kind&&\"string\"!==i.type.kind&&\"value\"!==i.type.kind?t.error(`Expected argument of type string or array, but found ${Jt(i.type)} instead.`):new Hn(i):null}evaluate(e){const t=this.input.evaluate(e);if(\"string\"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new bi(`Expected value to be of type string or array, but found ${Jt(gi(t))} instead.`)}eachChild(e){e(this.input);}outputDefined(){return !1}serialize(){const e=[\"length\"];return this.eachChild((t=>{e.push(t.serialize());})),e}}function Xn(e){return function(){e=1831565813+(e|=0)|0;let t=Math.imul(e^e>>>15,1|e);return t=t+Math.imul(t^t>>>7,61|t)^t,((t^t>>>14)>>>0)/4294967296}}const Yn={\"==\":Vn,\"!=\":jn,\">\":qn,\"<\":Gn,\">=\":$n,\"<=\":Zn,array:Ei,at:Sn,boolean:Ei,case:kn,coalesce:Tn,collator:Oi,format:Mi,image:Ai,in:Cn,\"index-of\":Pn,interpolate:bn,\"interpolate-hcl\":bn,\"interpolate-lab\":bn,length:Hn,let:Mn,literal:vi,match:Rn,number:Ei,\"number-format\":Wn,object:Ei,slice:Bn,step:Yr,string:Ei,\"to-boolean\":zi,\"to-color\":zi,\"to-number\":zi,\"to-string\":zi,var:qr,within:nr,distance:Fr};function Kn(e,[t,i,r,n]){t=t.evaluate(e),i=i.evaluate(e),r=r.evaluate(e);const o=n?n.evaluate(e):1,s=mi(t,i,r,o);if(s)throw new bi(s);return new hi(t/255*o,i/255*o,r/255*o,o)}function Jn(e,[t,i,r,n]){t=t.evaluate(e),i=i.evaluate(e),r=r.evaluate(e);const o=n?n.evaluate(e):1,s=function(e,t,i,r){return \"number\"==typeof e&&e>=0&&e<=360?\"number\"==typeof t&&t>=0&&t<=100&&\"number\"==typeof i&&i>=0&&i<=100?void 0===r||\"number\"==typeof r&&r>=0&&r<=1?null:`Invalid hsla value [${[e,t,i,r].join(\", \")}]: 'a' must be between 0 and 1.`:`Invalid hsla value [${(\"number\"==typeof r?[e,t,i,r]:[e,t,i]).join(\", \")}]: 's', and 'l' must be between 0 and 100.`:`Invalid hsla value [${(\"number\"==typeof r?[e,t,i,r]:[e,t,i]).join(\", \")}]: 'h' must be between 0 and 360.`}(t,i,r,o);if(s)throw new bi(s);const a=`hsla(${t}, ${i}%, ${r}%, ${o})`,l=hi.parse(a);if(!l)throw new bi(`Failed to parse HSLA color: ${a}`);return l}function Qn(e,t){return e in t}function eo(e,t){const i=t[e];return void 0===i?null:i}function to(e,t){switch(e){case\"string\":return String(t);case\"number\":return +t;case\"boolean\":return !!t;case\"color\":return hi.parse(t)}return t}function io(e,t,i,r){return void 0!==r&&(e=r*Math.round(e/r)),void 0!==t&&e<t&&(e=t),void 0!==i&&e>i&&(e=i),e}function ro(e,t,i){i.length&&(t+=`\u001f${i}`);const r=e.getConfig(t);if(!r)return null;const{type:n,value:o,values:s,minValue:a,maxValue:l,stepValue:c}=r,h=r.default.evaluate(e);let u=o?o.evaluate(e):h;return n&&(u=to(n,u)),void 0!==o&&void 0!==u&&s&&!s.includes(u)&&(u=h,n&&(u=to(n,u))),void 0===u||void 0===a&&void 0===l&&void 0===c||(\"number\"==typeof u?u=io(u,a,l,c):Array.isArray(u)&&(u=u.map((e=>\"number\"==typeof e?io(e,a,l,c):e)))),u}function no(e){return {type:e}}ki.register(Yn,{error:[{kind:\"error\"},[Gt],(e,[t])=>{throw new bi(t.evaluate(e))}],typeof:[Gt,[Wt],(e,[t])=>Jt(gi(t.evaluate(e)))],\"to-rgba\":[Kt(jt,4),[Zt],(e,[t])=>t.evaluate(e).toArray()],rgb:[Zt,[jt,jt,jt],Kn],rgba:[Zt,[jt,jt,jt,jt],Kn],hsl:[Zt,[jt,jt,jt],Jn],hsla:[Zt,[jt,jt,jt,jt],Jn],has:{type:qt,overloads:[[[Gt],(e,[t])=>Qn(t.evaluate(e),e.properties())],[[Gt,$t],(e,[t,i])=>Qn(t.evaluate(e),i.evaluate(e))]]},get:{type:Wt,overloads:[[[Gt],(e,[t])=>eo(t.evaluate(e),e.properties())],[[Gt,$t],(e,[t,i])=>eo(t.evaluate(e),i.evaluate(e))]]},config:{type:Wt,overloads:[[[Gt],(e,[t])=>ro(e,t.evaluate(e),\"\")],[[Gt,Gt],(e,[t,i])=>ro(e,t.evaluate(e),i.evaluate(e))]]},\"feature-state\":[Wt,[Gt],(e,[t])=>eo(t.evaluate(e),e.featureState||{})],properties:[$t,[],e=>e.properties()],\"geometry-type\":[Gt,[],e=>e.geometryType()],id:[Wt,[],e=>e.id()],zoom:[jt,[],e=>e.globals.zoom],pitch:[jt,[],e=>e.globals.pitch||0],\"distance-from-center\":[jt,[],e=>e.distanceFromCenter()],\"measure-light\":[jt,[Gt],(e,[t])=>e.measureLight(t.evaluate(e))],\"heatmap-density\":[jt,[],e=>e.globals.heatmapDensity||0],\"line-progress\":[jt,[],e=>e.globals.lineProgress||0],\"raster-value\":[jt,[],e=>e.globals.rasterValue||0],\"sky-radial-progress\":[jt,[],e=>e.globals.skyRadialProgress||0],accumulated:[Wt,[],e=>void 0===e.globals.accumulated?null:e.globals.accumulated],\"+\":[jt,no(jt),(e,t)=>{let i=0;for(const r of t)i+=r.evaluate(e);return i}],\"*\":[jt,no(jt),(e,t)=>{let i=1;for(const r of t)i*=r.evaluate(e);return i}],\"-\":{type:jt,overloads:[[[jt,jt],(e,[t,i])=>t.evaluate(e)-i.evaluate(e)],[[jt],(e,[t])=>-t.evaluate(e)]]},\"/\":[jt,[jt,jt],(e,[t,i])=>t.evaluate(e)/i.evaluate(e)],\"%\":[jt,[jt,jt],(e,[t,i])=>t.evaluate(e)%i.evaluate(e)],ln2:[jt,[],()=>Math.LN2],pi:[jt,[],()=>Math.PI],e:[jt,[],()=>Math.E],\"^\":[jt,[jt,jt],(e,[t,i])=>Math.pow(t.evaluate(e),i.evaluate(e))],sqrt:[jt,[jt],(e,[t])=>Math.sqrt(t.evaluate(e))],log10:[jt,[jt],(e,[t])=>Math.log(t.evaluate(e))/Math.LN10],ln:[jt,[jt],(e,[t])=>Math.log(t.evaluate(e))],log2:[jt,[jt],(e,[t])=>Math.log(t.evaluate(e))/Math.LN2],sin:[jt,[jt],(e,[t])=>Math.sin(t.evaluate(e))],cos:[jt,[jt],(e,[t])=>Math.cos(t.evaluate(e))],tan:[jt,[jt],(e,[t])=>Math.tan(t.evaluate(e))],asin:[jt,[jt],(e,[t])=>Math.asin(t.evaluate(e))],acos:[jt,[jt],(e,[t])=>Math.acos(t.evaluate(e))],atan:[jt,[jt],(e,[t])=>Math.atan(t.evaluate(e))],min:[jt,no(jt),(e,t)=>Math.min(...t.map((t=>t.evaluate(e))))],max:[jt,no(jt),(e,t)=>Math.max(...t.map((t=>t.evaluate(e))))],abs:[jt,[jt],(e,[t])=>Math.abs(t.evaluate(e))],round:[jt,[jt],(e,[t])=>{const i=t.evaluate(e);return i<0?-Math.round(-i):Math.round(i)}],floor:[jt,[jt],(e,[t])=>Math.floor(t.evaluate(e))],ceil:[jt,[jt],(e,[t])=>Math.ceil(t.evaluate(e))],\"filter-==\":[qt,[Gt,Wt],(e,[t,i])=>e.properties()[t.value]===i.value],\"filter-id-==\":[qt,[Wt],(e,[t])=>e.id()===t.value],\"filter-type-==\":[qt,[Gt],(e,[t])=>e.geometryType()===t.value],\"filter-<\":[qt,[Gt,Wt],(e,[t,i])=>{const r=e.properties()[t.value],n=i.value;return typeof r==typeof n&&r<n}],\"filter-id-<\":[qt,[Wt],(e,[t])=>{const i=e.id(),r=t.value;return typeof i==typeof r&&i<r}],\"filter->\":[qt,[Gt,Wt],(e,[t,i])=>{const r=e.properties()[t.value],n=i.value;return typeof r==typeof n&&r>n}],\"filter-id->\":[qt,[Wt],(e,[t])=>{const i=e.id(),r=t.value;return typeof i==typeof r&&i>r}],\"filter-<=\":[qt,[Gt,Wt],(e,[t,i])=>{const r=e.properties()[t.value],n=i.value;return typeof r==typeof n&&r<=n}],\"filter-id-<=\":[qt,[Wt],(e,[t])=>{const i=e.id(),r=t.value;return typeof i==typeof r&&i<=r}],\"filter->=\":[qt,[Gt,Wt],(e,[t,i])=>{const r=e.properties()[t.value],n=i.value;return typeof r==typeof n&&r>=n}],\"filter-id->=\":[qt,[Wt],(e,[t])=>{const i=e.id(),r=t.value;return typeof i==typeof r&&i>=r}],\"filter-has\":[qt,[Wt],(e,[t])=>t.value in e.properties()],\"filter-has-id\":[qt,[],e=>null!==e.id()&&void 0!==e.id()],\"filter-type-in\":[qt,[Kt(Gt)],(e,[t])=>t.value.indexOf(e.geometryType())>=0],\"filter-id-in\":[qt,[Kt(Wt)],(e,[t])=>t.value.indexOf(e.id())>=0],\"filter-in-small\":[qt,[Gt,Kt(Wt)],(e,[t,i])=>i.value.indexOf(e.properties()[t.value])>=0],\"filter-in-large\":[qt,[Gt,Kt(Wt)],(e,[t,i])=>function(e,t,i,r){for(;i<=r;){const n=i+r>>1;if(t[n]===e)return !0;t[n]>e?r=n-1:i=n+1;}return !1}(e.properties()[t.value],i.value,0,i.value.length-1)],all:{type:qt,overloads:[[[qt,qt],(e,[t,i])=>t.evaluate(e)&&i.evaluate(e)],[no(qt),(e,t)=>{for(const i of t)if(!i.evaluate(e))return !1;return !0}]]},any:{type:qt,overloads:[[[qt,qt],(e,[t,i])=>t.evaluate(e)||i.evaluate(e)],[no(qt),(e,t)=>{for(const i of t)if(i.evaluate(e))return !0;return !1}]]},\"!\":[qt,[qt],(e,[t])=>!t.evaluate(e)],\"is-supported-script\":[qt,[Gt],(e,[t])=>{const i=e.globals&&e.globals.isSupportedScript;return !i||i(t.evaluate(e))}],upcase:[Gt,[Gt],(e,[t])=>t.evaluate(e).toUpperCase()],downcase:[Gt,[Gt],(e,[t])=>t.evaluate(e).toLowerCase()],concat:[Gt,no(Wt),(e,t)=>t.map((t=>yi(t.evaluate(e)))).join(\"\")],\"resolved-locale\":[Gt,[Ht],(e,[t])=>t.evaluate(e).resolvedLocale()],random:[jt,[jt,jt,Wt],(e,t)=>{const[i,r,n]=t.map((t=>t.evaluate(e)));if(i>r)return i;if(i===r)return i;let o;if(\"string\"==typeof n)o=function(e){let t=0;if(0===e.length)return t;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t&=t;return t}(n);else {if(\"number\"!=typeof n)throw new bi(`Invalid seed input: ${n}`);o=n;}return i+Xn(o)()*(r-i)}]});var oo=Yn;function so(e){return {result:\"success\",value:e}}function ao(e){return {result:\"error\",value:e}}function lo(e,t){return !!e&&!!e.parameters&&e.parameters.indexOf(t)>-1}function co(e){return \"data-driven\"===e[\"property-type\"]}function ho(e){return lo(e.expression,\"measure-light\")}function uo(e){return lo(e.expression,\"zoom\")}function po(e){return !!e.expression&&e.expression.interpolated}function fo(e){return \"object\"==typeof e&&null!==e&&!Array.isArray(e)}function mo(e){return e}function _o(e,t){const i=\"color\"===t.type,r=e.stops&&\"object\"==typeof e.stops[0][0],n=r||!(r||void 0!==e.property),o=e.type||(po(t)?\"exponential\":\"interval\");if(i&&((e=Lt({},e)).stops&&(e.stops=e.stops.map((e=>[e[0],hi.parse(e[1])]))),e.default=hi.parse(e.default?e.default:t.default)),e.colorSpace&&\"rgb\"!==e.colorSpace&&!yn[e.colorSpace])throw new Error(`Unknown color space: ${e.colorSpace}`);let s,a,l;if(\"exponential\"===o)s=vo;else if(\"interval\"===o)s=xo;else if(\"categorical\"===o){s=yo,a=Object.create(null);for(const t of e.stops)a[t[0]]=t[1];l=typeof e.stops[0][0];}else {if(\"identity\"!==o)throw new Error(`Unknown function type \"${o}\"`);s=bo;}if(r){const i={},r=[];for(let t=0;t<e.stops.length;t++){const n=e.stops[t],o=n[0].zoom;void 0===i[o]&&(i[o]={zoom:o,type:e.type,property:e.property,default:e.default,stops:[]},r.push(o)),i[o].stops.push([n[0].value,n[1]]);}const n=[];for(const e of r)n.push([i[e].zoom,_o(i[e],t)]);const o={name:\"linear\"};return {kind:\"composite\",interpolationType:o,interpolationFactor:bn.interpolationFactor.bind(void 0,o),zoomStops:n.map((e=>e[0])),evaluate:({zoom:i},r)=>vo({stops:n,base:e.base},t,i).evaluate(i,r)}}if(n){const i=\"exponential\"===o?{name:\"exponential\",base:void 0!==e.base?e.base:1}:null;return {kind:\"camera\",interpolationType:i,interpolationFactor:bn.interpolationFactor.bind(void 0,i),zoomStops:e.stops.map((e=>e[0])),evaluate:({zoom:i})=>s(e,t,i,a,l)}}return {kind:\"source\",evaluate(i,r){const n=r&&r.properties?r.properties[e.property]:void 0;return void 0===n?go(e.default,t.default):s(e,t,n,a,l)}}}function go(e,t,i){return void 0!==e?e:void 0!==t?t:void 0!==i?i:void 0}function yo(e,t,i,r,n){return go(typeof i===n?r[i]:void 0,e.default,t.default)}function xo(e,t,i){if(\"number\"!==Si(i))return go(e.default,t.default);const r=e.stops.length;if(1===r)return e.stops[0][1];if(i<=e.stops[0][0])return e.stops[0][1];if(i>=e.stops[r-1][0])return e.stops[r-1][1];const n=Hr(e.stops.map((e=>e[0])),i);return e.stops[n][1]}function vo(e,t,i){const r=void 0!==e.base?e.base:1;if(\"number\"!==Si(i))return go(e.default,t.default);const n=e.stops.length;if(1===n)return e.stops[0][1];if(i<=e.stops[0][0])return e.stops[0][1];if(i>=e.stops[n-1][0])return e.stops[n-1][1];const o=Hr(e.stops.map((e=>e[0])),i),s=function(e,t,i,r){const n=r-i,o=e-i;return 0===n?0:1===t?o/n:(Math.pow(t,o)-1)/(Math.pow(t,n)-1)}(i,r,e.stops[o][0],e.stops[o+1][0]),a=e.stops[o][1],l=e.stops[o+1][1];let c=Qr[t.type]||mo;if(e.colorSpace&&\"rgb\"!==e.colorSpace){const t=yn[e.colorSpace];c=(e,i)=>t.reverse(t.interpolate(t.forward(e),t.forward(i),s));}return \"function\"==typeof a.evaluate?{evaluate(...e){const t=a.evaluate.apply(void 0,e),i=l.evaluate.apply(void 0,e);if(void 0!==t&&void 0!==i)return c(t,i,s)}}:c(a,l,s)}function bo(e,t,i){return \"color\"===t.type?i=hi.parse(i):\"formatted\"===t.type?i=pi.fromString(i.toString()):\"resolvedImage\"===t.type?i=fi.fromString(i.toString()):Si(i)===t.type||\"enum\"===t.type&&t.values[i]||(i=void 0),go(i,e.default,t.default)}class wo{constructor(e,t,i){this.expression=e,this._warningHistory={},this._evaluator=new Di(i),this._defaultValue=t?function(e){return \"color\"===e.type&&(fo(e.default)||Array.isArray(e.default))?new hi(0,0,0,0):\"color\"===e.type?hi.parse(e.default)||null:void 0===e.default?null:e.default}(t):null,this._enumValues=t&&\"enum\"===t.type?t.values:null;}evaluateWithoutErrorHandling(e,t,i,r,n,o,s,a){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=i,this._evaluator.canonical=r||null,this._evaluator.availableImages=n||null,this._evaluator.formattedSection=o,this._evaluator.featureTileCoord=s||null,this._evaluator.featureDistanceData=a||null,this.expression.evaluate(this._evaluator)}evaluate(e,t,i,r,n,o,s,a){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=i||null,this._evaluator.canonical=r||null,this._evaluator.availableImages=n||null,this._evaluator.formattedSection=o||null,this._evaluator.featureTileCoord=s||null,this._evaluator.featureDistanceData=a||null;try{const e=this.expression.evaluate(this._evaluator);if(null==e||\"number\"==typeof e&&e!=e)return this._defaultValue;if(this._enumValues&&!(e in this._enumValues))throw new bi(`Expected value to be one of ${Object.keys(this._enumValues).map((e=>JSON.stringify(e))).join(\", \")}, but found ${JSON.stringify(e)} instead.`);return e}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,\"undefined\"!=typeof console&&console.warn(e.message)),this._defaultValue}}}function To(e){return Array.isArray(e)&&e.length>0&&\"string\"==typeof e[0]&&e[0]in oo}function Eo(e,t,i){const r=new $r(oo,[],t?function(e){const t={color:Zt,string:Gt,number:jt,enum:Gt,boolean:qt,formatted:Xt,resolvedImage:Yt};return \"array\"===e.type?Kt(t[e.value]||Wt,e.length):t[e.type]}(t):void 0,void 0,void 0,i),n=r.parse(e,void 0,void 0,void 0,t&&\"string\"===t.type?{typeAnnotation:\"coerce\"}:void 0);return n?so(new wo(n,t,i)):ao(r.errors)}class Mo{constructor(e,t,i){this.kind=e,this._styleExpression=t,this.isLightConstant=i,this.isStateDependent=\"constant\"!==e&&!Ur(t.expression),this.isConfigDependent=!Vr(t.expression);}evaluateWithoutErrorHandling(e,t,i,r,n,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,i,r,n,o)}evaluate(e,t,i,r,n,o){return this._styleExpression.evaluate(e,t,i,r,n,o)}}class Ao{constructor(e,t,i,r,n){this.kind=e,this.zoomStops=i,this._styleExpression=t,this.isStateDependent=\"camera\"!==e&&!Ur(t.expression),this.isLightConstant=n,this.isConfigDependent=!Vr(t.expression),this.interpolationType=r;}evaluateWithoutErrorHandling(e,t,i,r,n,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,i,r,n,o)}evaluate(e,t,i,r,n,o){return this._styleExpression.evaluate(e,t,i,r,n,o)}interpolationFactor(e,t,i){return this.interpolationType?bn.interpolationFactor(this.interpolationType,e,t,i):0}}function So(e,t,i){if(\"error\"===(e=Eo(e,t,i)).result)return e;const r=e.value.expression,n=Nr(r);if(!n&&!co(t))return ao([new Ft(\"\",\"data expressions not supported\")]);const o=jr(r,[\"zoom\",\"pitch\",\"distance-from-center\"]);if(!o&&!uo(t))return ao([new Ft(\"\",\"zoom expressions not supported\")]);const s=jr(r,[\"measure-light\"]);if(!s&&!ho(t))return ao([new Ft(\"\",\"measure-light expression not supported\")]);const a=t.expression&&t.expression.relaxZoomRestriction,l=Co(r);return l||o||a?l instanceof Ft?ao([l]):l instanceof bn&&!po(t)?ao([new Ft(\"\",'\"interpolate\" expressions cannot be used with this property')]):so(l?new Ao(n?\"camera\":\"composite\",e.value,l.labels,l instanceof bn?l.interpolation:void 0,s):new Mo(n?\"constant\":\"source\",e.value,s)):ao([new Ft(\"\",'\"zoom\" expression may only be used as input to a top-level \"step\" or \"interpolate\" expression, or in the properties of atmosphere.')])}class Io{constructor(e,t){this._parameters=e,this._specification=t,Lt(this,_o(this._parameters,this._specification));}static deserialize(e){return new Io(e._parameters,e._specification)}static serialize(e){return {_parameters:e._parameters,_specification:e._specification}}}function Co(e){let t=null;if(e instanceof Mn)t=Co(e.result);else if(e instanceof Tn){for(const i of e.args)if(t=Co(i),t)break}else (e instanceof Yr||e instanceof bn)&&e.input instanceof ki&&\"zoom\"===e.input.name&&(t=e);return t instanceof Ft||e.eachChild((e=>{const i=Co(e);i instanceof Ft?t=i:t&&i&&t!==i&&(t=new Ft(\"\",'Only one zoom-based \"step\" or \"interpolate\" subexpression may be used in an expression.'));})),t}function zo(e){const t=e.key,i=e.value,r=e.valueSpec||{},n=e.objectElementValidators||{},o=e.style,s=e.styleSpec;let a=[];const l=Si(i);if(\"object\"!==l)return [new Dt(t,i,`object expected, ${l} found`)];for(const e in i){const l=e.split(\".\")[0];let c;n[l]?c=n[l]:r[l]?c=ds:n[\"*\"]?c=n[\"*\"]:r[\"*\"]&&(c=ds),c?a=a.concat(c({key:(t?`${t}.`:t)+e,value:i[e],valueSpec:r[l]||r[\"*\"],style:o,styleSpec:s,object:i,objectKey:e},i)):a.push(new Rt(t,i[e],`unknown property \"${e}\"`));}for(const e in r)n[e]||r[e].required&&void 0===r[e].default&&void 0===i[e]&&a.push(new Dt(t,i,`missing required property \"${e}\"`));return a}function Po(e){const t=e.value,i=e.valueSpec,r=e.style,n=e.styleSpec,o=e.key,s=e.arrayElementValidator||ds;if(\"array\"!==Si(t))return [new Dt(o,t,`array expected, ${Si(t)} found`)];if(i.length&&t.length!==i.length)return [new Dt(o,t,`array length ${i.length} expected, length ${t.length} found`)];if(i[\"min-length\"]&&t.length<i[\"min-length\"])return [new Dt(o,t,`array length at least ${i[\"min-length\"]} expected, length ${t.length} found`)];let a={type:i.value,values:i.values,minimum:i.minimum,maximum:i.maximum,function:void 0};n.$version<7&&(a.function=i.function),\"object\"===Si(i.value)&&(a=i.value);let l=[];for(let e=0;e<t.length;e++)l=l.concat(s({array:t,arrayIndex:e,value:t[e],valueSpec:a,style:r,styleSpec:n,key:`${o}[${e}]`},!0));return l}function Do(e){const t=e.key,i=e.value,r=e.valueSpec;let n=Si(i);if(\"number\"===n&&i!=i&&(n=\"NaN\"),\"number\"!==n)return [new Dt(t,i,`number expected, ${n} found`)];if(\"minimum\"in r){let n=r.minimum;if(\"array\"===Si(r.minimum)&&(n=r.minimum[e.arrayIndex]),i<n)return [new Dt(t,i,`${i} is less than the minimum value ${n}`)]}if(\"maximum\"in r){let n=r.maximum;if(\"array\"===Si(r.maximum)&&(n=r.maximum[e.arrayIndex]),i>n)return [new Dt(t,i,`${i} is greater than the maximum value ${n}`)]}return []}function Ro(e){const t=e.valueSpec,i=kt(e.value.type);let r,n,o,s={};const a=\"categorical\"!==i&&void 0===e.value.property,l=!a,c=\"array\"===Si(e.value.stops)&&\"array\"===Si(e.value.stops[0])&&\"object\"===Si(e.value.stops[0][0]),h=zo({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if(\"identity\"===i)return [new Dt(e.key,e.value,'identity function may not have a \"stops\" property')];let t=[];const r=e.value;return t=t.concat(Po({key:e.key,value:r,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:u})),\"array\"===Si(r)&&0===r.length&&t.push(new Dt(e.key,r,\"array must have at least one stop\")),t},default:function(e){return ds({key:e.key,value:e.value,valueSpec:t,style:e.style,styleSpec:e.styleSpec})}}});return \"identity\"===i&&a&&h.push(new Dt(e.key,e.value,'missing required property \"property\"')),\"identity\"===i||e.value.stops||h.push(new Dt(e.key,e.value,'missing required property \"stops\"')),\"exponential\"===i&&e.valueSpec.expression&&!po(e.valueSpec)&&h.push(new Dt(e.key,e.value,\"exponential functions not supported\")),e.styleSpec.$version>=8&&(l&&!co(e.valueSpec)?h.push(new Dt(e.key,e.value,\"property functions not supported\")):a&&!uo(e.valueSpec)&&h.push(new Dt(e.key,e.value,\"zoom functions not supported\"))),\"categorical\"!==i&&!c||void 0!==e.value.property||h.push(new Dt(e.key,e.value,'\"property\" property is required')),h;function u(e){let i=[];const r=e.value,a=e.key;if(\"array\"!==Si(r))return [new Dt(a,r,`array expected, ${Si(r)} found`)];if(2!==r.length)return [new Dt(a,r,`array length 2 expected, length ${r.length} found`)];if(c){if(\"object\"!==Si(r[0]))return [new Dt(a,r,`object expected, ${Si(r[0])} found`)];if(void 0===r[0].zoom)return [new Dt(a,r,\"object stop key must have zoom\")];if(void 0===r[0].value)return [new Dt(a,r,\"object stop key must have value\")];const t=kt(r[0].zoom);if(\"number\"!=typeof t)return [new Dt(a,r[0].zoom,\"stop zoom values must be numbers\")];if(o&&o>t)return [new Dt(a,r[0].zoom,\"stop zoom values must appear in ascending order\")];t!==o&&(o=t,n=void 0,s={}),i=i.concat(zo({key:`${a}[0]`,value:r[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:Do,value:d}}));}else i=i.concat(d({key:`${a}[0]`,value:r[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},r));return To(Ot(r[1]))?i.concat([new Dt(`${a}[1]`,r[1],\"expressions are not allowed in function stops.\")]):i.concat(ds({key:`${a}[1]`,value:r[1],valueSpec:t,style:e.style,styleSpec:e.styleSpec}))}function d(e,o){const a=Si(e.value),l=kt(e.value),c=null!==e.value?e.value:o;if(r){if(a!==r)return [new Dt(e.key,c,`${a} stop domain type must match previous stop domain type ${r}`)]}else r=a;if(\"number\"!==a&&\"string\"!==a&&\"boolean\"!==a&&\"number\"!=typeof l&&\"string\"!=typeof l&&\"boolean\"!=typeof l)return [new Dt(e.key,c,\"stop domain value must be a number, string, or boolean\")];if(\"number\"!==a&&\"categorical\"!==i){let r=`number expected, ${a} found`;return co(t)&&void 0===i&&(r+='\\nIf you intended to use a categorical function, specify `\"type\": \"categorical\"`.'),[new Dt(e.key,c,r)]}return \"categorical\"!==i||\"number\"!==a||\"number\"==typeof l&&isFinite(l)&&Math.floor(l)===l?\"categorical\"!==i&&\"number\"===a&&\"number\"==typeof l&&\"number\"==typeof n&&void 0!==n&&l<n?[new Dt(e.key,c,\"stop domain values must appear in ascending order\")]:(n=l,\"categorical\"===i&&l in s?[new Dt(e.key,c,\"stop domain values must be unique\")]:(s[l]=!0,[])):[new Dt(e.key,c,`integer expected, found ${String(l)}`)]}}function Lo(e){const t=(\"property\"===e.expressionContext?So:Eo)(Ot(e.value),e.valueSpec);if(\"error\"===t.result)return t.value.map((t=>new Dt(`${e.key}${t.key}`,e.value,t.message)));const i=t.value.expression||t.value._styleExpression.expression;if(\"property\"===e.expressionContext&&\"text-font\"===e.propertyKey&&!i.outputDefined())return [new Dt(e.key,e.value,`Invalid data expression for \"${e.propertyKey}\". Output values must be contained as literals within the expression.`)];if(\"property\"===e.expressionContext&&\"layout\"===e.propertyType&&!Ur(i))return [new Dt(e.key,e.value,'\"feature-state\" data expressions are not supported with layout properties.')];if(\"filter\"===e.expressionContext)return ko(i,e);if(e.expressionContext&&0===e.expressionContext.indexOf(\"cluster\")){if(!jr(i,[\"zoom\",\"feature-state\"]))return [new Dt(e.key,e.value,'\"zoom\" and \"feature-state\" expressions are not supported with cluster properties.')];if(\"cluster-initial\"===e.expressionContext&&!Nr(i))return [new Dt(e.key,e.value,\"Feature data expressions are not supported with initial expression part of cluster properties.\")]}return []}function ko(e,t){const i=new Set([\"zoom\",\"feature-state\",\"pitch\",\"distance-from-center\"]);if(t.valueSpec&&t.valueSpec.expression)for(const e of t.valueSpec.expression.parameters)i.delete(e);if(0===i.size)return [];const r=[];return e instanceof ki&&i.has(e.name)?[new Dt(t.key,t.value,`[\"${e.name}\"] expression is not supported in a filter for a ${t.object.type} layer with id: ${t.object.id}`)]:(e.eachChild((e=>{r.push(...ko(e,t));})),r)}function Oo(e){const t=e.key,i=e.value,r=e.valueSpec,n=[];return Array.isArray(r.values)?-1===r.values.indexOf(kt(i))&&n.push(new Dt(t,i,`expected one of [${r.values.join(\", \")}], ${JSON.stringify(i)} found`)):-1===Object.keys(r.values).indexOf(kt(i))&&n.push(new Dt(t,i,`expected one of [${Object.keys(r.values).join(\", \")}], ${JSON.stringify(i)} found`)),n}function Bo(e){if(!0===e||!1===e)return !0;if(!Array.isArray(e)||0===e.length)return !1;switch(e[0]){case\"has\":return e.length>=2&&\"$id\"!==e[1]&&\"$type\"!==e[1];case\"in\":return e.length>=3&&(\"string\"!=typeof e[1]||Array.isArray(e[2]));case\"!in\":case\"!has\":case\"none\":return !1;case\"==\":case\"!=\":case\">\":case\">=\":case\"<\":case\"<=\":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case\"any\":case\"all\":for(const t of e.slice(1))if(!Bo(t)&&\"boolean\"!=typeof t)return !1;return !0;default:return !0}}function Fo(e,t=\"fill\"){if(null==e)return {filter:()=>!0,needGeometry:!1,needFeature:!1};Bo(e)||(e=Zo(e));const i=e;let r=!0;try{r=function(e){if(!Vo(e))return e;let t=Ot(e);return Uo(t),t=No(t),t}(i);}catch(e){console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\\nand paste the contents of this message in the report.\\nThank you!\\nFilter Expression:\\n${JSON.stringify(i,null,2)}\\n        `);}const n=Pt[`filter_${t}`],o=Eo(r,n);let s=null;if(\"error\"===o.result)throw new Error(o.value.map((e=>`${e.key}: ${e.message}`)).join(\", \"));s=(e,t,i)=>o.value.evaluate(e,t,{},i);let a=null,l=null;if(r!==i){const e=Eo(i,n);if(\"error\"===e.result)throw new Error(e.value.map((e=>`${e.key}: ${e.message}`)).join(\", \"));a=(t,i,r,n,o)=>e.value.evaluate(t,i,{},r,void 0,void 0,n,o),l=!Nr(e.value.expression);}return {filter:s,dynamicFilter:a||void 0,needGeometry:qo(r),needFeature:!!l}}function No(e){if(!Array.isArray(e))return e;const t=function(e){if(jo.has(e[0]))for(let t=1;t<e.length;t++)if(Vo(e[t]))return !0;return e}(e);return !0===t?t:t.map((e=>No(e)))}function Uo(e){let t=!1;const i=[];if(\"case\"===e[0]){for(let r=1;r<e.length-1;r+=2)t=t||Vo(e[r]),i.push(e[r+1]);i.push(e[e.length-1]);}else if(\"match\"===e[0]){t=t||Vo(e[1]);for(let t=2;t<e.length-1;t+=2)i.push(e[t+1]);i.push(e[e.length-1]);}else if(\"step\"===e[0]){t=t||Vo(e[1]);for(let t=1;t<e.length-1;t+=2)i.push(e[t+1]);}t&&(e.length=0,e.push(\"any\",...i));for(let t=1;t<e.length;t++)Uo(e[t]);}function Vo(e){if(!Array.isArray(e))return !1;if(\"pitch\"===(t=e[0])||\"distance-from-center\"===t)return !0;var t;for(let t=1;t<e.length;t++)if(Vo(e[t]))return !0;return !1}const jo=new Set([\"in\",\"==\",\"!=\",\">\",\">=\",\"<\",\"<=\",\"to-boolean\"]);function Go(e,t){return e<t?-1:e>t?1:0}function qo(e){if(!Array.isArray(e))return !1;if(\"within\"===e[0]||\"distance\"===e[0])return !0;for(let t=1;t<e.length;t++)if(qo(e[t]))return !0;return !1}function Zo(e){if(!e)return !0;const t=e[0];return e.length<=1?\"any\"!==t:\"==\"===t?$o(e[1],e[2],\"==\"):\"!=\"===t?Xo($o(e[1],e[2],\"==\")):\"<\"===t||\">\"===t||\"<=\"===t||\">=\"===t?$o(e[1],e[2],t):\"any\"===t?(i=e.slice(1),[\"any\"].concat(i.map(Zo))):\"all\"===t?[\"all\"].concat(e.slice(1).map(Zo)):\"none\"===t?[\"all\"].concat(e.slice(1).map(Zo).map(Xo)):\"in\"===t?Wo(e[1],e.slice(2)):\"!in\"===t?Xo(Wo(e[1],e.slice(2))):\"has\"===t?Ho(e[1]):\"!has\"!==t||Xo(Ho(e[1]));var i;}function $o(e,t,i){switch(e){case\"$type\":return [`filter-type-${i}`,t];case\"$id\":return [`filter-id-${i}`,t];default:return [`filter-${i}`,e,t]}}function Wo(e,t){if(0===t.length)return !1;switch(e){case\"$type\":return [\"filter-type-in\",[\"literal\",t]];case\"$id\":return [\"filter-id-in\",[\"literal\",t]];default:return t.length>200&&!t.some((e=>typeof e!=typeof t[0]))?[\"filter-in-large\",e,[\"literal\",t.sort(Go)]]:[\"filter-in-small\",e,[\"literal\",t]]}}function Ho(e){switch(e){case\"$type\":return !0;case\"$id\":return [\"filter-has-id\"];default:return [\"filter-has\",e]}}function Xo(e){return [\"!\",e]}function Yo(e){return Bo(Ot(e.value))?Lo(Lt({},e,{expressionContext:\"filter\",valueSpec:e.styleSpec[`filter_${e.layerType||\"fill\"}`]})):Ko(e)}function Ko(e){const t=e.value,i=e.key;if(\"array\"!==Si(t))return [new Dt(i,t,`array expected, ${Si(t)} found`)];const r=e.styleSpec;let n,o=[];if(t.length<1)return [new Dt(i,t,\"filter array must have at least 1 element\")];switch(o=o.concat(Oo({key:`${i}[0]`,value:t[0],valueSpec:r.filter_operator,style:e.style,styleSpec:e.styleSpec})),kt(t[0])){case\"<\":case\"<=\":case\">\":case\">=\":t.length>=2&&\"$type\"===kt(t[1])&&o.push(new Dt(i,t,`\"$type\" cannot be use with operator \"${t[0]}\"`));case\"==\":case\"!=\":3!==t.length&&o.push(new Dt(i,t,`filter array for operator \"${t[0]}\" must have 3 elements`));case\"in\":case\"!in\":t.length>=2&&(n=Si(t[1]),\"string\"!==n&&o.push(new Dt(`${i}[1]`,t[1],`string expected, ${n} found`)));for(let s=2;s<t.length;s++)n=Si(t[s]),\"$type\"===kt(t[1])?o=o.concat(Oo({key:`${i}[${s}]`,value:t[s],valueSpec:r.geometry_type,style:e.style,styleSpec:e.styleSpec})):\"string\"!==n&&\"number\"!==n&&\"boolean\"!==n&&o.push(new Dt(`${i}[${s}]`,t[s],`string, number, or boolean expected, ${n} found`));break;case\"any\":case\"all\":case\"none\":for(let r=1;r<t.length;r++)o=o.concat(Ko({key:`${i}[${r}]`,value:t[r],style:e.style,styleSpec:e.styleSpec}));break;case\"has\":case\"!has\":n=Si(t[1]),2!==t.length?o.push(new Dt(i,t,`filter array for \"${t[0]}\" operator must have 2 elements`)):\"string\"!==n&&o.push(new Dt(`${i}[1]`,t[1],`string expected, ${n} found`));}return o}function Jo(e,t){const i=e.key,r=e.style,n=e.layer,o=e.styleSpec,s=e.value,a=e.objectKey,l=o[`${t}_${e.layerType}`];if(!l)return [];const c=a.match(/^(.*)-transition$/);if(\"paint\"===t&&c&&l[c[1]]&&l[c[1]].transition)return ds({key:i,value:s,valueSpec:o.transition,style:r,styleSpec:o});const h=e.valueSpec||l[a];if(!h)return [new Rt(i,s,`unknown property \"${a}\"`)];let u;if(\"string\"===Si(s)&&co(h)&&!h.tokens&&(u=/^{([^}]+)}$/.exec(s))){const e=`\\`{ \"type\": \"identity\", \"property\": ${u?JSON.stringify(u[1]):'\"_\"'} }\\``;return [new Dt(i,s,`\"${a}\" does not support interpolation syntax\\nUse an identity property function instead: ${e}.`)]}const d=[];if(\"symbol\"===e.layerType)\"text-field\"!==a||!r||r.glyphs||r.imports||d.push(new Dt(i,s,'use of \"text-field\" requires a style \"glyphs\" property')),\"text-font\"===a&&fo(Ot(s))&&\"identity\"===kt(s.type)&&d.push(new Dt(i,s,'\"text-font\" does not support identity functions'));else if(\"model\"===e.layerType&&\"paint\"===t&&n&&n.layout&&n.layout.hasOwnProperty(\"model-id\")&&co(h)&&(ho(h)||uo(h))){const e=So(Ot(s),h),t=e.value.expression||e.value._styleExpression.expression;t&&!jr(t,[\"measure-light\"])&&(\"model-emissive-strength\"===a&&Nr(t)&&Ur(t)||d.push(new Dt(i,s,`${a} does not support measure-light expressions when the model layer source is vector tile or GeoJSON.`)));}return d.concat(ds({key:e.key,value:s,valueSpec:h,style:r,styleSpec:o,expressionContext:\"property\",propertyType:t,propertyKey:a}))}function Qo(e){return Jo(e,\"paint\")}function es(e){return Jo(e,\"layout\")}function ts(e){let t=[];const i=e.value,r=e.key,n=e.style,o=e.styleSpec;i.type||i.ref||t.push(new Dt(r,i,'either \"type\" or \"ref\" is required'));let s=kt(i.type);const a=kt(i.ref);if(i.id){const o=kt(i.id);for(let s=0;s<e.arrayIndex;s++){const e=n.layers[s];kt(e.id)===o&&t.push(new Dt(r,i.id,`duplicate layer id \"${i.id}\", previously used at line ${e.id.__line__}`));}}if(\"ref\"in i){let e;[\"type\",\"source\",\"source-layer\",\"filter\",\"layout\"].forEach((e=>{e in i&&t.push(new Dt(r,i[e],`\"${e}\" is prohibited for ref layers`));})),n.layers.forEach((t=>{kt(t.id)===a&&(e=t);})),e?e.ref?t.push(new Dt(r,i.ref,\"ref cannot reference another ref layer\")):s=kt(e.type):\"string\"==typeof a&&t.push(new Dt(r,i.ref,`ref layer \"${a}\" not found`));}else if(\"background\"!==s&&\"sky\"!==s&&\"slot\"!==s)if(i.source){const e=n.sources&&n.sources[i.source],o=e&&kt(e.type);e?\"vector\"===o&&\"raster\"===s?t.push(new Dt(r,i.source,`layer \"${i.id}\" requires a raster source`)):\"raster\"===o&&\"raster\"!==s?t.push(new Dt(r,i.source,`layer \"${i.id}\" requires a vector source`)):\"vector\"!==o||i[\"source-layer\"]?\"raster-dem\"===o&&\"hillshade\"!==s?t.push(new Dt(r,i.source,\"raster-dem source can only be used with layer type 'hillshade'.\")):\"line\"!==s||!i.paint||!i.paint[\"line-gradient\"]&&!i.paint[\"line-trim-offset\"]||\"geojson\"===o&&e.lineMetrics||t.push(new Dt(r,i,`layer \"${i.id}\" specifies a line-gradient, which requires a GeoJSON source with \\`lineMetrics\\` enabled.`)):t.push(new Dt(r,i,`layer \"${i.id}\" must specify a \"source-layer\"`)):t.push(new Dt(r,i.source,`source \"${i.source}\" not found`));}else t.push(new Dt(r,i,'missing required property \"source\"'));return t=t.concat(zo({key:r,value:i,valueSpec:o.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{\"*\":()=>[],type:()=>ds({key:`${r}.type`,value:i.type,valueSpec:o.layer.type,style:e.style,styleSpec:e.styleSpec,object:i,objectKey:\"type\"}),filter:e=>Yo(Lt({layerType:s},e)),layout:e=>zo({layer:i,key:e.key,value:e.value,valueSpec:{},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{\"*\":e=>es(Lt({layerType:s},e))}}),paint:e=>zo({layer:i,key:e.key,value:e.value,valueSpec:{},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{\"*\":e=>Qo(Lt({layerType:s,layer:i},e))}})}})),t}function is(e){const t=e.value,i=e.key,r=Si(t);return \"string\"!==r?[new Dt(i,t,`string expected, ${r} found`)]:[]}const rs={promoteId:function({key:e,value:t}){if(\"string\"===Si(t))return is({key:e,value:t});{const i=[];for(const r in t)i.push(...is({key:`${e}.${r}`,value:t[r]}));return i}}};function ns(e){const t=e.value,i=e.key,r=e.styleSpec,n=e.style;if(!t.type)return [new Dt(i,t,'\"type\" is required')];const o=kt(t.type);let s=[];switch([\"vector\",\"raster\",\"raster-dem\"].includes(o)&&(t.url||t.tiles||s.push(new Dt(i,t,'Either \"url\" or \"tiles\" is required.'))),o){case\"vector\":case\"raster\":case\"raster-dem\":return s=s.concat(zo({key:i,value:t,valueSpec:r[`source_${o.replace(\"-\",\"_\")}`],style:e.style,styleSpec:r,objectElementValidators:rs})),s;case\"geojson\":if(s=zo({key:i,value:t,valueSpec:r.source_geojson,style:n,styleSpec:r,objectElementValidators:rs}),t.cluster)for(const e in t.clusterProperties){const[r,n]=t.clusterProperties[e],o=\"string\"==typeof r?[r,[\"accumulated\"],[\"get\",e]]:r;s.push(...Lo({key:`${i}.${e}.map`,value:n,expressionContext:\"cluster-map\"})),s.push(...Lo({key:`${i}.${e}.reduce`,value:o,expressionContext:\"cluster-reduce\"}));}return s;case\"video\":return zo({key:i,value:t,valueSpec:r.source_video,style:n,styleSpec:r});case\"image\":return zo({key:i,value:t,valueSpec:r.source_image,style:n,styleSpec:r});case\"canvas\":return [new Dt(i,null,\"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.\",\"source.canvas\")];default:return Oo({key:`${i}.type`,value:t.type,valueSpec:{values:os(r)},style:n,styleSpec:r})}}function os(e){return e.source.reduce(((t,i)=>{const r=e[i];return \"enum\"===r.type.type&&(t=t.concat(Object.keys(r.type.values))),t}),[])}function ss(e){const t=e.value;let i=[];if(!t)return i;const r=Si(t);return \"string\"!==r?(i=i.concat([new Dt(e.key,t,`string expected, \"${r}\" found`)]),i):(function(e){const t=-1===e.indexOf(\"://\");try{return new URL(e,t?\"http://example.com\":void 0),!0}catch(e){return !1}}(t)||(i=i.concat([new Dt(e.key,t,`invalid url \"${t}\"`)])),i)}function as(e){const t=e.value,i=e.styleSpec,r=i.light,n=e.style;let o=[];const s=Si(t);if(void 0===t)return o;if(\"object\"!==s)return o=o.concat([new Dt(\"light\",t,`object expected, ${s} found`)]),o;for(const e in t){const s=e.match(/^(.*)-transition$/);o=o.concat(s&&r[s[1]]&&r[s[1]].transition?ds({key:e,value:t[e],valueSpec:i.transition,style:n,styleSpec:i}):r[e]?ds({key:e,value:t[e],valueSpec:r[e],style:n,styleSpec:i}):[new Dt(e,t[e],`unknown property \"${e}\"`)]);}return o}function ls(e){const t=e.value;let i=[];if(!t)return i;const r=Si(t);if(\"object\"!==r)return i=i.concat([new Dt(\"light-3d\",t,`object expected, ${r} found`)]),i;const n=e.styleSpec,o=n[\"light-3d\"],s=e.key,a=e.style,l=e.style.lights;for(const e of [\"type\",\"id\"])if(!(e in t))return i=i.concat([new Dt(\"light-3d\",t,`missing property ${e} on light`)]),i;if(t.type&&l)for(let r=0;r<e.arrayIndex;r++){const e=kt(t.type),n=l[r];kt(n.type)===e&&i.push(new Dt(s,t.id,`duplicate light type \"${t.type}\", previously defined at line ${n.id.__line__}`));}const c=`properties_light_${t.type}`;if(!(c in n))return i=i.concat([new Dt(\"light-3d\",t,`Invalid light type ${t.type}`)]),i;const h=n[c];for(const r in t)if(\"properties\"===r){const o=t[r],s=Si(o);if(\"object\"!==s)return i=i.concat([new Dt(\"properties\",o,`object expected, ${s} found`)]),i;for(const t in o)i=i.concat(h[t]?ds({key:t,value:o[t],valueSpec:h[t],style:a,styleSpec:n}):[new Rt(e.key,o[t],`unknown property \"${t}\"`)]);}else {const e=r.match(/^(.*)-transition$/);i=i.concat(e&&o[e[1]]&&o[e[1]].transition?ds({key:r,value:t[r],valueSpec:n.transition,style:a,styleSpec:n}):o[r]?ds({key:r,value:t[r],valueSpec:o[r],style:a,styleSpec:n}):[new Rt(r,t[r],`unknown property \"${r}\"`)]);}return i}function cs(e){const t=e.value,i=e.key,r=e.style,n=e.styleSpec,o=n.terrain;let s=[];const a=Si(t);if(void 0===t)return s;if(\"null\"===a)return s;if(\"object\"!==a)return s=s.concat([new Dt(\"terrain\",t,`object expected, ${a} found`)]),s;for(const e in t){const i=e.match(/^(.*)-transition$/);s=s.concat(i&&o[i[1]]&&o[i[1]].transition?ds({key:e,value:t[e],valueSpec:n.transition,style:r,styleSpec:n}):o[e]?ds({key:e,value:t[e],valueSpec:o[e],style:r,styleSpec:n}):[new Rt(e,t[e],`unknown property \"${e}\"`)]);}if(t.source){const e=r.sources&&r.sources[t.source],n=e&&kt(e.type);e?\"raster-dem\"!==n&&s.push(new Dt(i,t.source,`terrain cannot be used with a source of type ${String(n)}, it only be used with a \"raster-dem\" source type`)):s.push(new Dt(i,t.source,`source \"${t.source}\" not found`));}else s.push(new Dt(i,t,'terrain is missing required property \"source\"'));return s}function hs(e){const t=e.value,i=e.style,r=e.styleSpec,n=r.fog;let o=[];const s=Si(t);if(void 0===t)return o;if(\"object\"!==s)return o=o.concat([new Dt(\"fog\",t,`object expected, ${s} found`)]),o;for(const e in t){const s=e.match(/^(.*)-transition$/);o=o.concat(s&&n[s[1]]&&n[s[1]].transition?ds({key:e,value:t[e],valueSpec:r.transition,style:i,styleSpec:r}):n[e]?ds({key:e,value:t[e],valueSpec:n[e],style:i,styleSpec:r}):[new Rt(e,t[e],`unknown property \"${e}\"`)]);}return o}const us={\"*\":()=>[],array:Po,boolean:function(e){const t=e.value,i=e.key,r=Si(t);return \"boolean\"!==r?[new Dt(i,t,`boolean expected, ${r} found`)]:[]},number:Do,color:function(e){const t=e.key,i=e.value,r=Si(i);return \"string\"!==r?[new Dt(t,i,`color expected, ${r} found`)]:null===ri(i)?[new Dt(t,i,`color expected, \"${i}\" found`)]:[]},enum:Oo,filter:Yo,function:Ro,layer:ts,object:zo,source:ns,model:ss,light:as,\"light-3d\":ls,terrain:cs,fog:hs,string:is,formatted:function(e){return 0===is(e).length?[]:Lo(e)},resolvedImage:function(e){return 0===is(e).length?[]:Lo(e)},projection:function(e){const t=e.value,i=e.styleSpec,r=i.projection,n=e.style;let o=[];const s=Si(t);if(\"object\"===s)for(const e in t)o=o.concat(ds({key:e,value:t[e],valueSpec:r[e],style:n,styleSpec:i}));else \"string\"!==s&&(o=o.concat([new Dt(\"projection\",t,`object or string expected, ${s} found`)]));return o},import:function(e){const{value:t,styleSpec:i}=e,{data:r,...n}=t;Object.defineProperty(n,\"__line__\",{value:t.__line__,enumerable:!1});let o=zo(Lt({},e,{value:n,valueSpec:i.import}));return \"\"===kt(n.id)&&o.push(new Dt(`${e.key}.id`,n,\"import id can't be an empty string\")),r&&(o=o.concat(fs(r,i,{key:`${e.key}.data`}))),o}};function ds(e,t=!1){const i=e.value,r=e.valueSpec,n=e.styleSpec;if(r.expression&&fo(kt(i)))return Ro(e);if(r.expression&&To(Ot(i)))return Lo(e);if(r.type&&us[r.type]){const i=us[r.type](e);return !0===t&&i.length>0&&\"array\"===Si(e.value)?Lo(e):i}return zo(Lt({},e,{valueSpec:r.type?n[r.type]:r}))}function ps(e){const t=e.value,i=e.key,r=is(e);return r.length||(-1===t.indexOf(\"{fontstack}\")&&r.push(new Dt(i,t,'\"glyphs\" url must include a \"{fontstack}\" token')),-1===t.indexOf(\"{range}\")&&r.push(new Dt(i,t,'\"glyphs\" url must include a \"{range}\" token'))),r}function fs(e,t=Pt,i={}){return ds({key:i.key||\"\",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:ps,\"*\":()=>[]}})}function ms(e,t=Pt){return As(fs(e,t))}const _s=e=>As(ns(e)),gs=e=>As(as(e)),ys=e=>As(ls(e)),xs=e=>As(cs(e)),vs=e=>As(hs(e)),bs=e=>As(ts(e)),ws=e=>As(Yo(e)),Ts=e=>As(Qo(e)),Es=e=>As(es(e)),Ms=e=>As(ss(e));function As(e){return e.slice().sort(((e,t)=>e.line&&t.line?e.line-t.line:0))}function Ss(e,t){let i=!1;if(t&&t.length)for(const r of t)r instanceof Rt?H(r.message):(e.fire(new Ct(new Error(r.message))),i=!0);return i}var Is=zs,Cs=3;function zs(e,t,i){var r=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var n=new Int32Array(this.arrayBuffer);e=n[0],this.d=(t=n[1])+2*(i=n[2]);for(var o=0;o<this.d*this.d;o++){var s=n[Cs+o],a=n[Cs+o+1];r.push(s===a?null:n.subarray(s,a));}var l=n[Cs+r.length+1];this.keys=n.subarray(n[Cs+r.length],l),this.bboxes=n.subarray(l),this.insert=this._insertReadonly;}else {this.d=t+2*i;for(var c=0;c<this.d*this.d;c++)r.push([]);this.keys=[],this.bboxes=[];}this.n=t,this.extent=e,this.padding=i,this.scale=t/e,this.uid=0;var h=i/t*e;this.min=-h,this.max=e+h;}zs.prototype.insert=function(e,t,i,r,n){this._forEachCell(t,i,r,n,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(i),this.bboxes.push(r),this.bboxes.push(n);},zs.prototype._insertReadonly=function(){throw \"Cannot insert into a GridIndex created from an ArrayBuffer.\"},zs.prototype._insertCell=function(e,t,i,r,n,o){this.cells[n].push(o);},zs.prototype.query=function(e,t,i,r,n){var o=this.min,s=this.max;if(e<=o&&t<=o&&s<=i&&s<=r&&!n)return Array.prototype.slice.call(this.keys);var a=[];return this._forEachCell(e,t,i,r,this._queryCell,a,{},n),a},zs.prototype._queryCell=function(e,t,i,r,n,o,s,a){var l=this.cells[n];if(null!==l)for(var c=this.keys,h=this.bboxes,u=0;u<l.length;u++){var d=l[u];if(void 0===s[d]){var p=4*d;(a?a(h[p+0],h[p+1],h[p+2],h[p+3]):e<=h[p+2]&&t<=h[p+3]&&i>=h[p+0]&&r>=h[p+1])?(s[d]=!0,o.push(c[d])):s[d]=!1;}}},zs.prototype._forEachCell=function(e,t,i,r,n,o,s,a){for(var l=this._convertToCellCoord(e),c=this._convertToCellCoord(t),h=this._convertToCellCoord(i),u=this._convertToCellCoord(r),d=l;d<=h;d++)for(var p=c;p<=u;p++){var f=this.d*p+d;if((!a||a(this._convertFromCellCoord(d),this._convertFromCellCoord(p),this._convertFromCellCoord(d+1),this._convertFromCellCoord(p+1)))&&n.call(this,e,t,i,r,f,o,s,a))return}},zs.prototype._convertFromCellCoord=function(e){return (e-this.padding)/this.scale},zs.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},zs.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=Cs+this.cells.length+1+1,i=0,r=0;r<this.cells.length;r++)i+=this.cells[r].length;var n=new Int32Array(t+i+this.keys.length+this.bboxes.length);n[0]=this.extent,n[1]=this.n,n[2]=this.padding;for(var o=t,s=0;s<e.length;s++){var a=e[s];n[Cs+s]=o,n.set(a,o),o+=a.length;}return n[Cs+e.length]=o,n.set(this.keys,o),n[Cs+e.length+1]=o+=this.keys.length,n.set(this.bboxes,o),o+=this.bboxes.length,n.buffer};var Ps=d(Is);const Ds={};function Rs(e,t,i={}){Object.defineProperty(e,\"_classRegistryKey\",{value:t,writeable:!1}),Ds[t]={klass:e,omit:i.omit||[]};}Rs(Object,\"Object\"),Ps.serialize=function(e,t){const i=e.toArrayBuffer();return t&&t.add(i),{buffer:i}},Ps.deserialize=function(e){return new Ps(e.buffer)},Object.defineProperty(Ps,\"name\",{value:\"Grid\"}),Rs(Ps,\"Grid\"),Rs(hi,\"Color\"),Rs(Error,\"Error\"),Rs(xe,\"AJAXError\"),Rs(fi,\"ResolvedImage\"),Rs(Io,\"StylePropertyFunction\"),Rs(wo,\"StyleExpression\",{omit:[\"_evaluator\"]}),Rs(Ao,\"ZoomDependentExpression\"),Rs(Mo,\"ZoomConstantExpression\"),Rs(ki,\"CompoundExpression\",{omit:[\"_evaluate\"]});for(const e in oo)Ds[oo[e]._classRegistryKey]||Rs(oo[e],`Expression${e}`);function Ls(e){return e&&\"undefined\"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&\"ArrayBuffer\"===e.constructor.name)}function ks(e){return t.ImageBitmap&&e instanceof t.ImageBitmap}function Os(e,i){if(null==e||\"boolean\"==typeof e||\"number\"==typeof e||\"string\"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(Ls(e)||ks(e))return i&&i.add(e),e;if(ArrayBuffer.isView(e)){const t=e;return i&&i.add(t.buffer),t}if(e instanceof t.ImageData)return i&&i.add(e.data.buffer),e;if(Array.isArray(e)){const t=[];for(const r of e)t.push(Os(r,i));return t}if(e instanceof Map){const t={$name:\"Map\"};for(const[i,r]of e.entries())t[i]=Os(r);return t}if(\"object\"==typeof e){const t=e.constructor,r=t._classRegistryKey;if(!r)throw new Error(`can't serialize object of unregistered class ${r}`);const n=t.serialize?t.serialize(e,i):{};if(!t.serialize){for(const t in e)e.hasOwnProperty(t)&&(Ds[r].omit.indexOf(t)>=0||(n[t]=Os(e[t],i)));e instanceof Error&&(n.message=e.message);}if(n.$name)throw new Error(\"$name property is reserved for worker serialization logic.\");return \"Object\"!==r&&(n.$name=r),n}throw new Error(\"can't serialize object of type \"+typeof e)}function Bs(e){if(null==e||\"boolean\"==typeof e||\"number\"==typeof e||\"string\"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||Ls(e)||ks(e)||ArrayBuffer.isView(e)||e instanceof t.ImageData)return e;if(Array.isArray(e))return e.map(Bs);if(\"object\"==typeof e){const t=e.$name||\"Object\";if(\"Map\"===t){const t=new Map;for(const i of Object.keys(e))\"$name\"!==i&&t.set(i,Bs(e[i]));return t}const{klass:i}=Ds[t];if(!i)throw new Error(`can't deserialize unregistered class ${t}`);if(i.deserialize)return i.deserialize(e);const r=Object.create(i.prototype);for(const t of Object.keys(e))\"$name\"!==t&&(r[t]=Bs(e[t]));return r}throw new Error(\"can't deserialize object of type \"+typeof e)}const Fs={\"Latin-1 Supplement\":e=>e>=128&&e<=255,Arabic:e=>e>=1536&&e<=1791,\"Arabic Supplement\":e=>e>=1872&&e<=1919,\"Arabic Extended-A\":e=>e>=2208&&e<=2303,\"Hangul Jamo\":e=>e>=4352&&e<=4607,\"Unified Canadian Aboriginal Syllabics\":e=>e>=5120&&e<=5759,Khmer:e=>e>=6016&&e<=6143,\"Unified Canadian Aboriginal Syllabics Extended\":e=>e>=6320&&e<=6399,\"General Punctuation\":e=>e>=8192&&e<=8303,\"Letterlike Symbols\":e=>e>=8448&&e<=8527,\"Number Forms\":e=>e>=8528&&e<=8591,\"Miscellaneous Technical\":e=>e>=8960&&e<=9215,\"Control Pictures\":e=>e>=9216&&e<=9279,\"Optical Character Recognition\":e=>e>=9280&&e<=9311,\"Enclosed Alphanumerics\":e=>e>=9312&&e<=9471,\"Geometric Shapes\":e=>e>=9632&&e<=9727,\"Miscellaneous Symbols\":e=>e>=9728&&e<=9983,\"Miscellaneous Symbols and Arrows\":e=>e>=11008&&e<=11263,\"CJK Radicals Supplement\":e=>e>=11904&&e<=12031,\"Kangxi Radicals\":e=>e>=12032&&e<=12255,\"Ideographic Description Characters\":e=>e>=12272&&e<=12287,\"CJK Symbols and Punctuation\":e=>e>=12288&&e<=12351,Hiragana:e=>e>=12352&&e<=12447,Katakana:e=>e>=12448&&e<=12543,Bopomofo:e=>e>=12544&&e<=12591,\"Hangul Compatibility Jamo\":e=>e>=12592&&e<=12687,Kanbun:e=>e>=12688&&e<=12703,\"Bopomofo Extended\":e=>e>=12704&&e<=12735,\"CJK Strokes\":e=>e>=12736&&e<=12783,\"Katakana Phonetic Extensions\":e=>e>=12784&&e<=12799,\"Enclosed CJK Letters and Months\":e=>e>=12800&&e<=13055,\"CJK Compatibility\":e=>e>=13056&&e<=13311,\"CJK Unified Ideographs Extension A\":e=>e>=13312&&e<=19903,\"Yijing Hexagram Symbols\":e=>e>=19904&&e<=19967,\"CJK Unified Ideographs\":e=>e>=19968&&e<=40959,\"Yi Syllables\":e=>e>=40960&&e<=42127,\"Yi Radicals\":e=>e>=42128&&e<=42191,\"Hangul Jamo Extended-A\":e=>e>=43360&&e<=43391,\"Hangul Syllables\":e=>e>=44032&&e<=55215,\"Hangul Jamo Extended-B\":e=>e>=55216&&e<=55295,\"Private Use Area\":e=>e>=57344&&e<=63743,\"CJK Compatibility Ideographs\":e=>e>=63744&&e<=64255,\"Arabic Presentation Forms-A\":e=>e>=64336&&e<=65023,\"Vertical Forms\":e=>e>=65040&&e<=65055,\"CJK Compatibility Forms\":e=>e>=65072&&e<=65103,\"Small Form Variants\":e=>e>=65104&&e<=65135,\"Arabic Presentation Forms-B\":e=>e>=65136&&e<=65279,\"Halfwidth and Fullwidth Forms\":e=>e>=65280&&e<=65519,\"CJK Unified Ideographs Extension B\":e=>e>=131072&&e<=173791};function Ns(e){for(const t of e)if(js(t.charCodeAt(0)))return !0;return !1}function Us(e){for(const t of e)if(!Vs(t.charCodeAt(0)))return !1;return !0}function Vs(e){return !(Fs.Arabic(e)||Fs[\"Arabic Supplement\"](e)||Fs[\"Arabic Extended-A\"](e)||Fs[\"Arabic Presentation Forms-A\"](e)||Fs[\"Arabic Presentation Forms-B\"](e))}function js(e){return !(746!==e&&747!==e&&(e<4352||!(Fs[\"Bopomofo Extended\"](e)||Fs.Bopomofo(e)||Fs[\"CJK Compatibility Forms\"](e)&&!(e>=65097&&e<=65103)||Fs[\"CJK Compatibility Ideographs\"](e)||Fs[\"CJK Compatibility\"](e)||Fs[\"CJK Radicals Supplement\"](e)||Fs[\"CJK Strokes\"](e)||!(!Fs[\"CJK Symbols and Punctuation\"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||Fs[\"CJK Unified Ideographs Extension A\"](e)||Fs[\"CJK Unified Ideographs\"](e)||Fs[\"Enclosed CJK Letters and Months\"](e)||Fs[\"Hangul Compatibility Jamo\"](e)||Fs[\"Hangul Jamo Extended-A\"](e)||Fs[\"Hangul Jamo Extended-B\"](e)||Fs[\"Hangul Jamo\"](e)||Fs[\"Hangul Syllables\"](e)||Fs.Hiragana(e)||Fs[\"Ideographic Description Characters\"](e)||Fs.Kanbun(e)||Fs[\"Kangxi Radicals\"](e)||Fs[\"Katakana Phonetic Extensions\"](e)||Fs.Katakana(e)&&12540!==e||!(!Fs[\"Halfwidth and Fullwidth Forms\"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!Fs[\"Small Form Variants\"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||Fs[\"Unified Canadian Aboriginal Syllabics\"](e)||Fs[\"Unified Canadian Aboriginal Syllabics Extended\"](e)||Fs[\"Vertical Forms\"](e)||Fs[\"Yijing Hexagram Symbols\"](e)||Fs[\"Yi Syllables\"](e)||Fs[\"Yi Radicals\"](e))))}function Gs(e){return !(js(e)||function(e){return !!(Fs[\"Latin-1 Supplement\"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||Fs[\"General Punctuation\"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||Fs[\"Letterlike Symbols\"](e)||Fs[\"Number Forms\"](e)||Fs[\"Miscellaneous Technical\"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||Fs[\"Control Pictures\"](e)&&9251!==e||Fs[\"Optical Character Recognition\"](e)||Fs[\"Enclosed Alphanumerics\"](e)||Fs[\"Geometric Shapes\"](e)||Fs[\"Miscellaneous Symbols\"](e)&&!(e>=9754&&e<=9759)||Fs[\"Miscellaneous Symbols and Arrows\"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||Fs[\"CJK Symbols and Punctuation\"](e)||Fs.Katakana(e)||Fs[\"Private Use Area\"](e)||Fs[\"CJK Compatibility Forms\"](e)||Fs[\"Small Form Variants\"](e)||Fs[\"Halfwidth and Fullwidth Forms\"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function qs(e){return e>=1424&&e<=2303||Fs[\"Arabic Presentation Forms-A\"](e)||Fs[\"Arabic Presentation Forms-B\"](e)}function Zs(e,t){return !(!t&&qs(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||Fs.Khmer(e))}function $s(e){for(const t of e)if(qs(t.charCodeAt(0)))return !0;return !1}const Ws=\"deferred\",Hs=\"loading\",Xs=\"loaded\";let Ys=null,Ks=\"unavailable\",Js=null;const Qs=function(e){e&&\"string\"==typeof e&&e.indexOf(\"NetworkError\")>-1&&(Ks=\"error\"),Ys&&Ys(e);};function ea(){ta.fire(new It(\"pluginStateChange\",{pluginStatus:Ks,pluginURL:Js}));}const ta=new zt,ia=function(){return Ks},ra=function(){if(Ks!==Ws||!Js)throw new Error(\"rtl-text-plugin cannot be downloaded unless a pluginURL is specified\");Ks=Hs,ea(),Js&&Te({url:Js},(e=>{e?Qs(e):(Ks=Xs,ea());}));},na={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Ks===Xs||null!=na.applyArabicShaping,isLoading:()=>Ks===Hs,setState(e){Ks=e.pluginStatus,Js=e.pluginURL;},isParsed:()=>null!=na.applyArabicShaping&&null!=na.processBidirectionalText&&null!=na.processStyledBidirectionalText,getPluginURL:()=>Js};class oa{constructor(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.transition=t.transition,this.pitch=t.pitch,this.brightness=t.brightness):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0,this.brightness=0);}isSupportedScript(e){return function(e,t){for(const i of e)if(!Zs(i.charCodeAt(0),t))return !1;return !0}(e,na.isLoaded())}}class sa{constructor(e,t,i){this.property=e,this.value=t,this.expression=function(e,t,i){if(fo(e))return new Io(e,t);if(To(e)||Array.isArray(e)&&e.length>0){const r=So(e,t,i);if(\"error\"===r.result)throw new Error(r.value.map((e=>`${e.key}: ${e.message}`)).join(\", \"));return r.value}{let i=e;return \"string\"==typeof e&&\"color\"===t.type&&(i=hi.parse(e)),{kind:\"constant\",isConfigDependent:!1,evaluate:()=>i}}}(void 0===t?e.specification.default:t,e.specification,i);}isDataDriven(){return \"source\"===this.expression.kind||\"composite\"===this.expression.kind}possiblyEvaluate(e,t,i){return this.property.possiblyEvaluate(this,e,t,i)}}class aa{constructor(e,t){this.property=e,this.value=new sa(e,void 0,t);}transitioned(e,t){return new ca(this.property,this.value,t,k({},e.transition,this.transition),e.now)}untransitioned(){return new ca(this.property,this.value,null,{},0)}}class la{constructor(e,t){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues),this._options=t,this.isConfigDependent=!1;}getValue(e){return $(this._values[e].value.value)}setValue(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new aa(this._values[e].property,this._options)),this._values[e].value=new sa(this._values[e].property,null===t?void 0:$(t),this._options),this.isConfigDependent=this.isConfigDependent||this._values[e].value.expression.isConfigDependent;}setTransitionOrValue(e,t){t&&(this._options=t);const i=this._properties.properties;if(e)for(const t in e){const r=e[t];if(G(t,\"-transition\")){const e=t.slice(0,-11);i[e]&&this.setTransition(e,r);}else i[t]&&this.setValue(t,r);}}getTransition(e){return $(this._values[e].transition)}setTransition(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new aa(this._values[e].property)),this._values[e].transition=$(t)||void 0;}serialize(){const e={};for(const t of Object.keys(this._values)){const i=this.getValue(t);void 0!==i&&(e[t]=i);const r=this.getTransition(t);void 0!==r&&(e[`${t}-transition`]=r);}return e}transitioned(e,t){const i=new ha(this._properties);for(const r of Object.keys(this._values))i._values[r]=this._values[r].transitioned(e,t._values[r]);return i}untransitioned(){const e=new ha(this._properties);for(const t of Object.keys(this._values))e._values[t]=this._values[t].untransitioned();return e}}class ca{constructor(e,t,i,r,n){const o=r.delay||0,s=r.duration||0;n=n||0,this.property=e,this.value=t,this.begin=n+o,this.end=this.begin+s,e.specification.transition&&(r.delay||r.duration)&&(this.prior=i);}possiblyEvaluate(e,t,i){const r=e.now||0,n=this.value.possiblyEvaluate(e,t,i),o=this.prior;if(o){if(r>this.end)return this.prior=null,n;if(this.value.isDataDriven())return this.prior=null,n;if(r<this.begin)return o.possiblyEvaluate(e,t,i);{const s=(r-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(e,t,i),n,M(s))}}return n}}class ha{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues);}possiblyEvaluate(e,t,i){const r=new pa(this._properties);for(const n of Object.keys(this._values))r._values[n]=this._values[n].possiblyEvaluate(e,t,i);return r}hasTransition(){for(const e of Object.keys(this._values))if(this._values[e].prior)return !0;return !1}}class ua{constructor(e,t){this._properties=e,this._values=Object.create(e.defaultPropertyValues),this._options=t,this.isConfigDependent=!1;}getValue(e){return $(this._values[e].value)}setValue(e,t){this._values[e]=new sa(this._values[e].property,null===t?void 0:$(t),this._options),this.isConfigDependent=this.isConfigDependent||this._values[e].expression.isConfigDependent;}serialize(){const e={};for(const t of Object.keys(this._values)){const i=this.getValue(t);void 0!==i&&(e[t]=i);}return e}possiblyEvaluate(e,t,i){const r=new pa(this._properties);for(const n of Object.keys(this._values))r._values[n]=this._values[n].possiblyEvaluate(e,t,i);return r}}class da{constructor(e,t,i){this.property=e,this.value=t,this.parameters=i;}isConstant(){return \"constant\"===this.value.kind}constantOr(e){return \"constant\"===this.value.kind?this.value.value:e}evaluate(e,t,i,r){return this.property.evaluate(this.value,this.parameters,e,t,i,r)}}class pa{constructor(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues);}get(e){return this._values[e]}}class fa{constructor(e){this.specification=e;}possiblyEvaluate(e,t){return e.expression.evaluate(t)}interpolate(e,t,i){const r=Qr[this.specification.type];return r?r(e,t,i):e}}class ma{constructor(e,t){this.specification=e,this.overrides=t;}possiblyEvaluate(e,t,i,r){return new da(this,\"constant\"===e.expression.kind||\"camera\"===e.expression.kind?{kind:\"constant\",value:e.expression.evaluate(t,null,{},i,r)}:e.expression,t)}interpolate(e,t,i){if(\"constant\"!==e.value.kind||\"constant\"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new da(this,{kind:\"constant\",value:void 0},e.parameters);const r=Qr[this.specification.type];return r?new da(this,{kind:\"constant\",value:r(e.value.value,t.value.value,i)},e.parameters):e}evaluate(e,t,i,r,n,o){return \"constant\"===e.kind?e.value:e.evaluate(t,i,r,n,o)}}class _a{constructor(e){this.specification=e;}possiblyEvaluate(e,t,i,r){return !!e.expression.evaluate(t,null,{},i,r)}interpolate(){return !1}}class ga{constructor(e){this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const t=new oa(0,{});for(const i in e){const r=e[i];r.specification.overridable&&this.overridableProperties.push(i);const n=this.defaultPropertyValues[i]=new sa(r,void 0),o=this.defaultTransitionablePropertyValues[i]=new aa(r);this.defaultTransitioningPropertyValues[i]=o.untransitioned(),this.defaultPossiblyEvaluatedValues[i]=n.possiblyEvaluate(t);}}}Rs(ma,\"DataDrivenProperty\"),Rs(fa,\"DataConstantProperty\"),Rs(_a,\"ColorRampProperty\");const ya=\"\u001f\";function xa(e){return e.indexOf(ya)>=0}function va(e,t){return t?`${e}${ya}${t}`:e}function ba(e){const t=e.indexOf(ya);return t>=0?e.slice(0,t):e}const wa=\"-transition\";class Ta extends zt{constructor(e,t,i){if(super(),this.id=e.id,this.type=e.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,this.isConfigDependent=!1,\"custom\"!==e.type&&(this.metadata=e.metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,\"background\"!==e.type&&\"sky\"!==e.type&&\"slot\"!==e.type&&(this.source=e.source,this.sourceLayer=e[\"source-layer\"],this.filter=e.filter),this.options=i,e.slot&&(this.slot=e.slot),t.layout&&(this._unevaluatedLayout=new ua(t.layout,i),this.isConfigDependent=this.isConfigDependent||this._unevaluatedLayout.isConfigDependent),t.paint)){this._transitionablePaint=new la(t.paint,i);for(const t in e.paint)this.setPaintProperty(t,e.paint[t],{validate:!1});for(const t in e.layout)this.setLayoutProperty(t,e.layout[t],{validate:!1});this.isConfigDependent=this.isConfigDependent||this._transitionablePaint.isConfigDependent,this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new pa(t.paint);}}setScope(e){this.scope=e,this.fqid=va(this.id,e);}getLayoutProperty(e){return \"visibility\"===e?this.visibility:this._unevaluatedLayout.getValue(e)}setLayoutProperty(e,t,i={}){if(null!=t&&this._validate(Es,`layers.${this.id}.layout.${e}`,e,t,i))return;if(\"custom\"===this.type&&\"visibility\"===e)return void(this.visibility=t);const r=this._unevaluatedLayout;r._properties.properties[e]&&(r.setValue(e,t),this.isConfigDependent=this.isConfigDependent||r.isConfigDependent,\"visibility\"===e&&this.possiblyEvaluateVisibility());}possiblyEvaluateVisibility(){this.visibility=this._unevaluatedLayout._values.visibility.possiblyEvaluate({zoom:0});}getPaintProperty(e){return G(e,wa)?this._transitionablePaint.getTransition(e.slice(0,-11)):this._transitionablePaint.getValue(e)}setPaintProperty(e,t,i={}){if(null!=t&&this._validate(Ts,`layers.${this.id}.paint.${e}`,e,t,i))return !1;const r=this._transitionablePaint,n=r._properties.properties;if(G(e,wa)){const i=e.slice(0,-11);return n[i]&&r.setTransition(i,t||void 0),!1}if(!n[e])return !1;const o=r._values[e],s=o.value.isDataDriven(),a=o.value;r.setValue(e,t),this.isConfigDependent=this.isConfigDependent||r.isConfigDependent,this._handleSpecialPaintPropertyUpdate(e);const l=r._values[e].value,c=l.isDataDriven(),h=G(e,\"pattern\")||\"line-dasharray\"===e;return c||s||h||this._handleOverridablePaintPropertyUpdate(e,a,l)}_handleSpecialPaintPropertyUpdate(e){}getProgramIds(){return null}getDefaultProgramParams(e,t){return null}_handleOverridablePaintPropertyUpdate(e,t,i){return !1}isHidden(e){return !!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||\"none\"===this.visibility}updateTransitions(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint);}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(e,t){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t);}serialize(){return Z({id:this.id,type:this.type,slot:this.slot,source:this.source,\"source-layer\":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()},((e,t)=>!(void 0===e||\"layout\"===t&&!Object.keys(e).length||\"paint\"===t&&!Object.keys(e).length)))}_validate(e,t,i,r,n={}){return (!n||!1!==n.validate)&&Ss(this,e.call(ms,{key:t,layerType:this.type,objectKey:i,value:r,styleSpec:Pt,style:{glyphs:!0,sprite:!0}}))}is3D(){return !1}isSky(){return !1}isTileClipped(){return !1}hasOffscreenPass(){return !1}hasShadowPass(){return !1}canCastShadows(){return !1}hasLightBeamPass(){return !1}cutoffRange(){return 0}resize(){}isStateDependent(){for(const e in this.paint._values){const t=this.paint.get(e);if(t instanceof da&&co(t.property.specification)&&(\"source\"===t.value.kind||\"composite\"===t.value.kind)&&t.value.isStateDependent)return !0}return !1}compileFilter(){this._filterCompiled||(this._featureFilter=Fo(this.filter),this._filterCompiled=!0);}invalidateCompiledFilter(){this._filterCompiled=!1;}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}getLayerRenderingStats(){return this._stats}resetLayerRenderingStats(){this._stats&&(this._stats.numRenderedVerticesInShadowPass=0,this._stats.numRenderedVerticesInTransparentPass=0);}}class Ea{constructor(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSourceCaches={},this._updatedPaintProps=new Set,this._updatedImages=new Set;}isDirty(){return this._changed}setDirty(){this._changed=!0;}getUpdatedSourceCaches(){return this._updatedSourceCaches}updateSourceCache(e,t){this._updatedSourceCaches[e]=t,this.setDirty();}discardSourceCacheUpdate(e){delete this._updatedSourceCaches[e];}updateLayer(e){const t=e.scope;this._updatedLayers[t]=this._updatedLayers[t]||new Set,this._updatedLayers[t].add(e.id),this.setDirty();}removeLayer(e){const t=e.scope;this._removedLayers[t]=this._removedLayers[t]||{},this._updatedLayers[t]=this._updatedLayers[t]||new Set,this._removedLayers[t][e.id]=e,this._updatedLayers[t].delete(e.id),this._updatedPaintProps.delete(e.fqid),this.setDirty();}getRemovedLayer(e){return this._removedLayers[e.scope]?this._removedLayers[e.scope][e.id]:null}discardLayerRemoval(e){this._removedLayers[e.scope]&&delete this._removedLayers[e.scope][e.id];}getLayerUpdatesByScope(){const e={};for(const t in this._updatedLayers)e[t]=e[t]||{},e[t].updatedIds=Array.from(this._updatedLayers[t].values());for(const t in this._removedLayers)e[t]=e[t]||{},e[t].removedIds=Object.keys(this._removedLayers[t]);return e}getUpdatedPaintProperties(){return this._updatedPaintProps}updatePaintProperties(e){this._updatedPaintProps.add(e.fqid),this.setDirty();}getUpdatedImages(){return Array.from(this._updatedImages.values())}updateImage(e){this._updatedImages.add(e),this.setDirty();}resetUpdatedImages(){this._updatedImages.clear();}reset(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSourceCaches={},this._updatedPaintProps.clear(),this._updatedImages.clear();}}const Ma={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Aa{constructor(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8;}}class Sa{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0);}static serialize(e,t){return e._trim(),t&&(e.isTransferred=!0,t.add(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}static deserialize(e){const t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews());}clear(){this.length=0;}resize(e){this.reserve(e),this.length=e;}reserve(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const t=this.uint8;this._refreshViews(),t&&this.uint8.set(t);}}_refreshViews(){throw new Error(\"_refreshViews() must be implemented by each concrete StructArray layout\")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null;}}function Ia(e,t=1){let i=0,r=0;return {members:e.map((e=>{const n=Ma[e.type].BYTES_PER_ELEMENT,o=i=Ca(i,Math.max(t,n)),s=e.components||1;return r=Math.max(r,n),i+=n*s,{name:e.name,type:e.type,components:s,offset:o}})),size:Ca(i,Math.max(r,t)),alignment:t}}function Ca(e,t){return Math.ceil(e/t)*t}class za extends Sa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(e,t){const i=this.length;return this.resize(i+1),this.emplace(i,e,t)}emplace(e,t,i){const r=2*e;return this.int16[r+0]=t,this.int16[r+1]=i,e}}za.prototype.bytesPerElement=4,Rs(za,\"StructArrayLayout2i4\");class Pa extends Sa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(e,t,i){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,i)}emplace(e,t,i,r){const n=3*e;return this.int16[n+0]=t,this.int16[n+1]=i,this.int16[n+2]=r,e}}Pa.prototype.bytesPerElement=6,Rs(Pa,\"StructArrayLayout3i6\");class Da extends Sa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(e,t,i,r){const n=this.length;return this.resize(n+1),this.emplace(n,e,t,i,r)}emplace(e,t,i,r,n){const o=4*e;return this.int16[o+0]=t,this.int16[o+1]=i,this.int16[o+2]=r,this.int16[o+3]=n,e}}Da.prototype.bytesPerElement=8,Rs(Da,\"StructArrayLayout4i8\");class Ra extends Sa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(e,t,i,r,n){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,i,r,n)}emplace(e,t,i,r,n,o){const s=5*e;return this.int16[s+0]=t,this.int16[s+1]=i,this.int16[s+2]=r,this.int16[s+3]=n,this.int16[s+4]=o,e}}Ra.prototype.bytesPerElement=10,Rs(Ra,\"StructArrayLayout5i10\");class La extends Sa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(e,t,i,r,n,o,s){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,i,r,n,o,s)}emplace(e,t,i,r,n,o,s,a){const l=6*e,c=12*e,h=3*e;return this.int16[l+0]=t,this.int16[l+1]=i,this.uint8[c+4]=r,this.uint8[c+5]=n,this.uint8[c+6]=o,this.uint8[c+7]=s,this.float32[h+2]=a,e}}La.prototype.bytesPerElement=12,Rs(La,\"StructArrayLayout2i4ub1f12\");class ka extends Sa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(e,t,i,r){const n=this.length;return this.resize(n+1),this.emplace(n,e,t,i,r)}emplace(e,t,i,r,n){const o=4*e;return this.float32[o+0]=t,this.float32[o+1]=i,this.float32[o+2]=r,this.float32[o+3]=n,e}}ka.prototype.bytesPerElement=16,Rs(ka,\"StructArrayLayout4f16\");class Oa extends Sa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(e,t,i,r,n){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,i,r,n)}emplace(e,t,i,r,n,o){const s=6*e,a=3*e;return this.uint16[s+0]=t,this.uint16[s+1]=i,this.uint16[s+2]=r,this.uint16[s+3]=n,this.float32[a+2]=o,e}}Oa.prototype.bytesPerElement=12,Rs(Oa,\"StructArrayLayout4ui1f12\");class Ba extends Sa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(e,t,i,r){const n=this.length;return this.resize(n+1),this.emplace(n,e,t,i,r)}emplace(e,t,i,r,n){const o=4*e;return this.uint16[o+0]=t,this.uint16[o+1]=i,this.uint16[o+2]=r,this.uint16[o+3]=n,e}}Ba.prototype.bytesPerElement=8,Rs(Ba,\"StructArrayLayout4ui8\");class Fa extends Sa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(e,t,i,r,n,o){const s=this.length;return this.resize(s+1),this.emplace(s,e,t,i,r,n,o)}emplace(e,t,i,r,n,o,s){const a=6*e;return this.int16[a+0]=t,this.int16[a+1]=i,this.int16[a+2]=r,this.int16[a+3]=n,this.int16[a+4]=o,this.int16[a+5]=s,e}}Fa.prototype.bytesPerElement=12,Rs(Fa,\"StructArrayLayout6i12\");class Na extends Sa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(e,t,i,r,n,o,s,a,l,c,h,u){const d=this.length;return this.resize(d+1),this.emplace(d,e,t,i,r,n,o,s,a,l,c,h,u)}emplace(e,t,i,r,n,o,s,a,l,c,h,u,d){const p=12*e;return this.int16[p+0]=t,this.int16[p+1]=i,this.int16[p+2]=r,this.int16[p+3]=n,this.uint16[p+4]=o,this.uint16[p+5]=s,this.uint16[p+6]=a,this.uint16[p+7]=l,this.int16[p+8]=c,this.int16[p+9]=h,this.int16[p+10]=u,this.int16[p+11]=d,e}}Na.prototype.bytesPerElement=24,Rs(Na,\"StructArrayLayout4i4ui4i24\");class Ua extends Sa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(e,t,i,r,n,o){const s=this.length;return this.resize(s+1),this.emplace(s,e,t,i,r,n,o)}emplace(e,t,i,r,n,o,s){const a=10*e,l=5*e;return this.int16[a+0]=t,this.int16[a+1]=i,this.int16[a+2]=r,this.float32[l+2]=n,this.float32[l+3]=o,this.float32[l+4]=s,e}}Ua.prototype.bytesPerElement=20,Rs(Ua,\"StructArrayLayout3i3f20\");class Va extends Sa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer);}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint32[1*e+0]=t,e}}Va.prototype.bytesPerElement=4,Rs(Va,\"StructArrayLayout1ul4\");class ja extends Sa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(e,t){const i=this.length;return this.resize(i+1),this.emplace(i,e,t)}emplace(e,t,i){const r=2*e;return this.uint16[r+0]=t,this.uint16[r+1]=i,e}}ja.prototype.bytesPerElement=4,Rs(ja,\"StructArrayLayout2ui4\");class Ga extends Sa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(e,t,i,r,n,o,s,a,l,c,h,u,d){const p=this.length;return this.resize(p+1),this.emplace(p,e,t,i,r,n,o,s,a,l,c,h,u,d)}emplace(e,t,i,r,n,o,s,a,l,c,h,u,d,p){const f=20*e,m=10*e;return this.int16[f+0]=t,this.int16[f+1]=i,this.int16[f+2]=r,this.int16[f+3]=n,this.int16[f+4]=o,this.float32[m+3]=s,this.float32[m+4]=a,this.float32[m+5]=l,this.float32[m+6]=c,this.int16[f+14]=h,this.uint32[m+8]=u,this.uint16[f+18]=d,this.uint16[f+19]=p,e}}Ga.prototype.bytesPerElement=40,Rs(Ga,\"StructArrayLayout5i4f1i1ul2ui40\");class qa extends Sa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(e,t,i,r,n,o,s){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,i,r,n,o,s)}emplace(e,t,i,r,n,o,s,a){const l=8*e;return this.int16[l+0]=t,this.int16[l+1]=i,this.int16[l+2]=r,this.int16[l+4]=n,this.int16[l+5]=o,this.int16[l+6]=s,this.int16[l+7]=a,e}}qa.prototype.bytesPerElement=16,Rs(qa,\"StructArrayLayout3i2i2i16\");class Za extends Sa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(e,t,i,r,n){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,i,r,n)}emplace(e,t,i,r,n,o){const s=4*e,a=8*e;return this.float32[s+0]=t,this.float32[s+1]=i,this.float32[s+2]=r,this.int16[a+6]=n,this.int16[a+7]=o,e}}Za.prototype.bytesPerElement=16,Rs(Za,\"StructArrayLayout2f1f2i16\");class $a extends Sa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(e,t,i,r){const n=this.length;return this.resize(n+1),this.emplace(n,e,t,i,r)}emplace(e,t,i,r,n){const o=12*e,s=3*e;return this.uint8[o+0]=t,this.uint8[o+1]=i,this.float32[s+1]=r,this.float32[s+2]=n,e}}$a.prototype.bytesPerElement=12,Rs($a,\"StructArrayLayout2ub2f12\");class Wa extends Sa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(e,t,i){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,i)}emplace(e,t,i,r){const n=3*e;return this.uint16[n+0]=t,this.uint16[n+1]=i,this.uint16[n+2]=r,e}}Wa.prototype.bytesPerElement=6,Rs(Wa,\"StructArrayLayout3ui6\");class Ha extends Sa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer);}emplaceBack(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m,_,g,y,x,v){const b=this.length;return this.resize(b+1),this.emplace(b,e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m,_,g,y,x,v)}emplace(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m,_,g,y,x,v,b){const w=30*e,T=15*e,E=60*e;return this.int16[w+0]=t,this.int16[w+1]=i,this.int16[w+2]=r,this.float32[T+2]=n,this.float32[T+3]=o,this.uint16[w+8]=s,this.uint16[w+9]=a,this.uint32[T+5]=l,this.uint32[T+6]=c,this.uint32[T+7]=h,this.uint16[w+16]=u,this.uint16[w+17]=d,this.uint16[w+18]=p,this.float32[T+10]=f,this.float32[T+11]=m,this.uint8[E+48]=_,this.uint8[E+49]=g,this.uint8[E+50]=y,this.uint32[T+13]=x,this.int16[w+28]=v,this.uint8[E+58]=b,e}}Ha.prototype.bytesPerElement=60,Rs(Ha,\"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60\");class Xa extends Sa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer);}emplaceBack(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m,_,g,y,x,v,b,w,T,E,M,A,S,I,C,z,P){const D=this.length;return this.resize(D+1),this.emplace(D,e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m,_,g,y,x,v,b,w,T,E,M,A,S,I,C,z,P)}emplace(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m,_,g,y,x,v,b,w,T,E,M,A,S,I,C,z,P,D){const R=20*e,L=40*e,k=80*e;return this.float32[R+0]=t,this.float32[R+1]=i,this.int16[L+4]=r,this.int16[L+5]=n,this.int16[L+6]=o,this.int16[L+7]=s,this.int16[L+8]=a,this.int16[L+9]=l,this.int16[L+10]=c,this.int16[L+11]=h,this.int16[L+12]=u,this.uint16[L+13]=d,this.uint16[L+14]=p,this.uint16[L+15]=f,this.uint16[L+16]=m,this.uint16[L+17]=_,this.uint16[L+18]=g,this.uint16[L+19]=y,this.uint16[L+20]=x,this.uint16[L+21]=v,this.uint16[L+22]=b,this.uint16[L+23]=w,this.uint16[L+24]=T,this.uint16[L+25]=E,this.uint16[L+26]=M,this.uint16[L+27]=A,this.uint32[R+14]=S,this.float32[R+15]=I,this.float32[R+16]=C,this.float32[R+17]=z,this.float32[R+18]=P,this.uint8[k+76]=D,e}}Xa.prototype.bytesPerElement=80,Rs(Xa,\"StructArrayLayout2f9i15ui1ul4f1ub80\");class Ya extends Sa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.float32[1*e+0]=t,e}}Ya.prototype.bytesPerElement=4,Rs(Ya,\"StructArrayLayout1f4\");class Ka extends Sa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(e,t,i,r,n){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,i,r,n)}emplace(e,t,i,r,n,o){const s=5*e;return this.float32[s+0]=t,this.float32[s+1]=i,this.float32[s+2]=r,this.float32[s+3]=n,this.float32[s+4]=o,e}}Ka.prototype.bytesPerElement=20,Rs(Ka,\"StructArrayLayout5f20\");class Ja extends Sa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(e,t,i,r,n,o,s){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,i,r,n,o,s)}emplace(e,t,i,r,n,o,s,a){const l=7*e;return this.float32[l+0]=t,this.float32[l+1]=i,this.float32[l+2]=r,this.float32[l+3]=n,this.float32[l+4]=o,this.float32[l+5]=s,this.float32[l+6]=a,e}}Ja.prototype.bytesPerElement=28,Rs(Ja,\"StructArrayLayout7f28\");class Qa extends Sa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(e,t,i,r){const n=this.length;return this.resize(n+1),this.emplace(n,e,t,i,r)}emplace(e,t,i,r,n){const o=6*e;return this.uint32[3*e+0]=t,this.uint16[o+2]=i,this.uint16[o+3]=r,this.uint16[o+4]=n,e}}Qa.prototype.bytesPerElement=12,Rs(Qa,\"StructArrayLayout1ul3ui12\");class el extends Sa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint16[1*e+0]=t,e}}el.prototype.bytesPerElement=2,Rs(el,\"StructArrayLayout1ui2\");class tl extends Sa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(e,t,i){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,i)}emplace(e,t,i,r){const n=3*e;return this.float32[n+0]=t,this.float32[n+1]=i,this.float32[n+2]=r,e}}tl.prototype.bytesPerElement=12,Rs(tl,\"StructArrayLayout3f12\");class il extends Sa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(e,t){const i=this.length;return this.resize(i+1),this.emplace(i,e,t)}emplace(e,t,i){const r=2*e;return this.float32[r+0]=t,this.float32[r+1]=i,e}}il.prototype.bytesPerElement=8,Rs(il,\"StructArrayLayout2f8\");class rl extends Sa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m){const _=this.length;return this.resize(_+1),this.emplace(_,e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m)}emplace(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m,_){const g=16*e;return this.float32[g+0]=t,this.float32[g+1]=i,this.float32[g+2]=r,this.float32[g+3]=n,this.float32[g+4]=o,this.float32[g+5]=s,this.float32[g+6]=a,this.float32[g+7]=l,this.float32[g+8]=c,this.float32[g+9]=h,this.float32[g+10]=u,this.float32[g+11]=d,this.float32[g+12]=p,this.float32[g+13]=f,this.float32[g+14]=m,this.float32[g+15]=_,e}}rl.prototype.bytesPerElement=64,Rs(rl,\"StructArrayLayout16f64\");class nl extends Sa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(e,t,i,r,n,o,s){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,i,r,n,o,s)}emplace(e,t,i,r,n,o,s,a){const l=10*e,c=5*e;return this.uint16[l+0]=t,this.uint16[l+1]=i,this.uint16[l+2]=r,this.uint16[l+3]=n,this.float32[c+2]=o,this.float32[c+3]=s,this.float32[c+4]=a,e}}nl.prototype.bytesPerElement=20,Rs(nl,\"StructArrayLayout4ui3f20\");class ol extends Sa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer);}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint8[1*e+0]=t,e}}ol.prototype.bytesPerElement=1,Rs(ol,\"StructArrayLayout1ub1\");class sl extends Aa{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}sl.prototype.size=40;class al extends Ga{get(e){return new sl(this,e)}}Rs(al,\"CollisionBoxArray\");class ll extends Aa{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(e){this._structArray.uint8[this._pos1+49]=e;}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(e){this._structArray.uint8[this._pos1+50]=e;}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(e){this._structArray.uint32[this._pos4+13]=e;}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(e){this._structArray.uint8[this._pos1+58]=e;}}ll.prototype.size=60;class cl extends Ha{get(e){return new ll(this,e)}}Rs(cl,\"PlacedSymbolArray\");class hl extends Aa{get tileAnchorX(){return this._structArray.float32[this._pos4+0]}get tileAnchorY(){return this._structArray.float32[this._pos4+1]}get projectedAnchorX(){return this._structArray.int16[this._pos2+4]}get projectedAnchorY(){return this._structArray.int16[this._pos2+5]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+6]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+7]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+11]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get key(){return this._structArray.uint16[this._pos2+13]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+14]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+15]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+17]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+19]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+21]}get featureIndex(){return this._structArray.uint16[this._pos2+22]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+23]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numIconVertices(){return this._structArray.uint16[this._pos2+25]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+26]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+27]}get crossTileID(){return this._structArray.uint32[this._pos4+14]}set crossTileID(e){this._structArray.uint32[this._pos4+14]=e;}get textOffset0(){return this._structArray.float32[this._pos4+15]}get textOffset1(){return this._structArray.float32[this._pos4+16]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+17]}get zOffset(){return this._structArray.float32[this._pos4+18]}set zOffset(e){this._structArray.float32[this._pos4+18]=e;}get hasIconTextFit(){return this._structArray.uint8[this._pos1+76]}}hl.prototype.size=80;class ul extends Xa{get(e){return new hl(this,e)}}Rs(ul,\"SymbolInstanceArray\");class dl extends Ya{getoffsetX(e){return this.float32[1*e+0]}}Rs(dl,\"GlyphOffsetArray\");class pl extends za{getx(e){return this.int16[2*e+0]}gety(e){return this.int16[2*e+1]}}Rs(pl,\"SymbolLineVertexArray\");class fl extends Aa{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}fl.prototype.size=12;class ml extends Qa{get(e){return new fl(this,e)}}Rs(ml,\"FeatureIndexArray\");class _l extends ja{geta_centroid_pos0(e){return this.uint16[2*e+0]}geta_centroid_pos1(e){return this.uint16[2*e+1]}}Rs(_l,\"FillExtrusionCentroidArray\");const gl=Ia([{name:\"a_pos\",components:2,type:\"Int16\"}],4),yl=Ia([{name:\"a_pos_3\",components:3,type:\"Int16\"},{name:\"a_pos_normal_3\",components:3,type:\"Int16\"}]);class xl{constructor(e=[]){this.segments=e;}_prepareSegment(e,t,i,r){let n=this.segments[this.segments.length-1];return e>xl.MAX_VERTEX_ARRAY_LENGTH&&H(`Max vertices per segment is ${xl.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${e}`),(!n||n.vertexLength+e>xl.MAX_VERTEX_ARRAY_LENGTH||n.sortKey!==r)&&(n={vertexOffset:t,primitiveOffset:i,vertexLength:0,primitiveLength:0},void 0!==r&&(n.sortKey=r),this.segments.push(n)),n}prepareSegment(e,t,i,r){return this._prepareSegment(e,t.length,i.length,r)}get(){return this.segments}destroy(){for(const e of this.segments)for(const t in e.vaos)e.vaos[t].destroy();}static simpleSegment(e,t,i,r){return new xl([{vertexOffset:e,primitiveOffset:t,vertexLength:i,primitiveLength:r,vaos:{},sortKey:0}])}}function vl(e,t){return 256*(e=z(Math.floor(e),0,255))+z(Math.floor(t),0,255)}xl.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Rs(xl,\"SegmentVector\");const bl=Ia([{name:\"a_pattern\",components:4,type:\"Uint16\"},{name:\"a_pixel_ratio\",components:1,type:\"Float32\"}]),wl=Ia([{name:\"a_dash\",components:4,type:\"Uint16\"}]);var Tl={exports:{}},El={exports:{}};!function(e){e.exports=function(e,t){var i,r,n,o,s,a,l,c;for(r=e.length-(i=3&e.length),n=t,s=3432918353,a=461845907,c=0;c<r;)l=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,n=27492+(65535&(o=5*(65535&(n=(n^=l=(65535&(l=(l=(65535&l)*s+(((l>>>16)*s&65535)<<16)&4294967295)<<15|l>>>17))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<13|n>>>19))+((5*(n>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(l=0,i){case 3:l^=(255&e.charCodeAt(c+2))<<16;case 2:l^=(255&e.charCodeAt(c+1))<<8;case 1:n^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(c)))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<15|l>>>17))*a+(((l>>>16)*a&65535)<<16)&4294967295;}return n^=e.length,n=2246822507*(65535&(n^=n>>>16))+((2246822507*(n>>>16)&65535)<<16)&4294967295,n=3266489909*(65535&(n^=n>>>13))+((3266489909*(n>>>16)&65535)<<16)&4294967295,(n^=n>>>16)>>>0};}(El);var Ml=El.exports,Al={exports:{}};!function(e){e.exports=function(e,t){for(var i,r=e.length,n=t^r,o=0;r>=4;)i=1540483477*(65535&(i=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(i>>>16)&65535)<<16),n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16)^(i=1540483477*(65535&(i^=i>>>24))+((1540483477*(i>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:n^=(255&e.charCodeAt(o+2))<<16;case 2:n^=(255&e.charCodeAt(o+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(o)))+((1540483477*(n>>>16)&65535)<<16);}return n=1540483477*(65535&(n^=n>>>13))+((1540483477*(n>>>16)&65535)<<16),(n^=n>>>15)>>>0};}(Al);var Sl=Ml,Il=Al.exports;Tl.exports=Sl,Tl.exports.murmur3=Sl,Tl.exports.murmur2=Il;var Cl=d(Tl.exports);class zl{constructor(){this.ids=[],this.uniqueIds=[],this.positions=[],this.indexed=!1;}add(e,t,i,r){this.ids.push(Pl(e)),this.positions.push(t,i,r);}eachPosition(e,t){const i=Pl(e);let r=0,n=this.ids.length-1;for(;r<n;){const e=r+n>>1;this.ids[e]>=i?n=e:r=e+1;}for(;this.ids[r]===i;)t(this.positions[3*r],this.positions[3*r+1],this.positions[3*r+2]),r++;}static serialize(e,t){const i=new Float64Array(e.ids),r=new Uint32Array(e.positions);return Dl(i,r,0,i.length-1),t&&(t.add(i.buffer),t.add(r.buffer)),{ids:i,positions:r}}static deserialize(e){const t=new zl;let i;t.ids=e.ids,t.positions=e.positions;for(const e of t.ids)e!==i&&t.uniqueIds.push(e),i=e;return t.indexed=!0,t}}function Pl(e){const t=+e;return !isNaN(t)&&Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:Cl(String(e))}function Dl(e,t,i,r){for(;i<r;){const n=e[i+r>>1];let o=i-1,s=r+1;for(;;){do{o++;}while(e[o]<n);do{s--;}while(e[s]>n);if(o>=s)break;Rl(e,o,s),Rl(t,3*o,3*s),Rl(t,3*o+1,3*s+1),Rl(t,3*o+2,3*s+2);}s-i<r-s?(Dl(e,t,i,s),i=s+1):(Dl(e,t,s+1,r),r=s);}}function Rl(e,t,i){const r=e[t];e[t]=e[i],e[i]=r;}Rs(zl,\"FeaturePositionMap\");class Ll{constructor(e){this.gl=e.gl,this.initialized=!1;}fetchUniformLocation(e,t){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(e,t),this.initialized=!0),!!this.location}}class kl extends Ll{constructor(e){super(e),this.current=0;}set(e,t,i){this.fetchUniformLocation(e,t)&&this.current!==i&&(this.current=i,this.gl.uniform1i(this.location,i));}}class Ol extends Ll{constructor(e){super(e),this.current=0;}set(e,t,i){this.fetchUniformLocation(e,t)&&this.current!==i&&(this.current=i,this.gl.uniform1f(this.location,i));}}class Bl extends Ll{constructor(e){super(e),this.current=[0,0];}set(e,t,i){this.fetchUniformLocation(e,t)&&(i[0]===this.current[0]&&i[1]===this.current[1]||(this.current=i,this.gl.uniform2f(this.location,i[0],i[1])));}}class Fl extends Ll{constructor(e){super(e),this.current=[0,0,0];}set(e,t,i){this.fetchUniformLocation(e,t)&&(i[0]===this.current[0]&&i[1]===this.current[1]&&i[2]===this.current[2]||(this.current=i,this.gl.uniform3f(this.location,i[0],i[1],i[2])));}}class Nl extends Ll{constructor(e){super(e),this.current=[0,0,0,0];}set(e,t,i){this.fetchUniformLocation(e,t)&&(i[0]===this.current[0]&&i[1]===this.current[1]&&i[2]===this.current[2]&&i[3]===this.current[3]||(this.current=i,this.gl.uniform4f(this.location,i[0],i[1],i[2],i[3])));}}class Ul extends Ll{constructor(e){super(e),this.current=hi.transparent;}set(e,t,i){this.fetchUniformLocation(e,t)&&(i.r===this.current.r&&i.g===this.current.g&&i.b===this.current.b&&i.a===this.current.a||(this.current=i,this.gl.uniform4f(this.location,i.r,i.g,i.b,i.a)));}}const Vl=new Float32Array(16);class jl extends Ll{constructor(e){super(e),this.current=Vl;}set(e,t,i){if(this.fetchUniformLocation(e,t)){if(i[12]!==this.current[12]||i[0]!==this.current[0])return this.current=i,void this.gl.uniformMatrix4fv(this.location,!1,i);for(let e=1;e<16;e++)if(i[e]!==this.current[e]){this.current=i,this.gl.uniformMatrix4fv(this.location,!1,i);break}}}}const Gl=new Float32Array(9);class ql extends Ll{constructor(e){super(e),this.current=Gl;}set(e,t,i){if(this.fetchUniformLocation(e,t))for(let e=0;e<9;e++)if(i[e]!==this.current[e]){this.current=i,this.gl.uniformMatrix3fv(this.location,!1,i);break}}}const Zl=new Float32Array(4);class $l extends Ll{constructor(e){super(e),this.current=Zl;}set(e,t,i){if(this.fetchUniformLocation(e,t))for(let e=0;e<4;e++)if(i[e]!==this.current[e]){this.current=i,this.gl.uniformMatrix2fv(this.location,!1,i);break}}}function Wl(e){return [vl(255*e.r,255*e.g),vl(255*e.b,255*e.a)]}class Hl{constructor(e,t,i){this.value=e,this.uniformNames=t.map((e=>`u_${e}`)),this.type=i;}setUniform(e,t,i,r,n){t.set(e,n,r.constantOr(this.value));}getBinding(e,t){return \"color\"===this.type?new Ul(e):new Ol(e)}}class Xl{constructor(e,t){this.uniformNames=t.map((e=>`u_${e}`)),this.pattern=null,this.pixelRatio=1;}setConstantPatternPositions(e){this.pixelRatio=e.pixelRatio||1,this.pattern=e.tl.concat(e.br);}setUniform(e,t,i,r,n){const o=\"u_pattern\"===n||\"u_dash\"===n?this.pattern:\"u_pixel_ratio\"===n?this.pixelRatio:null;o&&t.set(e,n,o);}getBinding(e,t){return \"u_pattern\"===t||\"u_dash\"===t?new Nl(e):new Ol(e)}}class Yl{constructor(e,t,i,r){this.expression=e,this.type=i,this.maxValue=0,this.paintVertexAttributes=t.map((e=>({name:`a_${e}`,type:\"Float32\",components:\"color\"===i?2:1,offset:0}))),this.paintVertexArray=new r;}populatePaintArray(e,t,i,r,n,o,s){const a=this.paintVertexArray.length,l=this.expression.evaluate(new oa(0,{brightness:o}),t,{},n,r,s);this.paintVertexArray.resize(e),this._setPaintValue(a,e,l);}updatePaintArray(e,t,i,r,n,o,s){const a=this.expression.evaluate({zoom:0,brightness:s},i,r,void 0,n);this._setPaintValue(e,t,a);}_setPaintValue(e,t,i){if(\"color\"===this.type){const r=Wl(i);for(let i=e;i<t;i++)this.paintVertexArray.emplace(i,r[0],r[1]);}else {for(let r=e;r<t;r++)this.paintVertexArray.emplace(r,i);this.maxValue=Math.max(this.maxValue,Math.abs(i));}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant));}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy();}}class Kl{constructor(e,t,i,r,n,o){this.expression=e,this.uniformNames=t.map((e=>`u_${e}_t`)),this.type=i,this.useIntegerZoom=r,this.zoom=n,this.maxValue=0,this.paintVertexAttributes=t.map((e=>({name:`a_${e}`,type:\"Float32\",components:\"color\"===i?4:2,offset:0}))),this.paintVertexArray=new o;}populatePaintArray(e,t,i,r,n,o,s){const a=this.expression.evaluate(new oa(this.zoom,{brightness:o}),t,{},n,r,s),l=this.expression.evaluate(new oa(this.zoom+1,{brightness:o}),t,{},n,r,s),c=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(c,e,a,l);}updatePaintArray(e,t,i,r,n,o,s){const a=this.expression.evaluate({zoom:this.zoom,brightness:s},i,r,void 0,n),l=this.expression.evaluate({zoom:this.zoom+1,brightness:s},i,r,void 0,n);this._setPaintValue(e,t,a,l);}_setPaintValue(e,t,i,r){if(\"color\"===this.type){const n=Wl(i),o=Wl(r);for(let i=e;i<t;i++)this.paintVertexArray.emplace(i,n[0],n[1],o[0],o[1]);}else {for(let n=e;n<t;n++)this.paintVertexArray.emplace(n,i,r);this.maxValue=Math.max(this.maxValue,Math.abs(i),Math.abs(r));}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant));}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy();}setUniform(e,t,i,r,n){const o=this.useIntegerZoom?Math.floor(i.zoom):i.zoom,s=z(this.expression.interpolationFactor(o,this.zoom,this.zoom+1),0,1);t.set(e,n,s);}getBinding(e,t){return new Ol(e)}}class Jl{constructor(e,t,i,r,n){this.expression=e,this.layerId=n,this.paintVertexAttributes=(\"array\"===i?wl:bl).members;for(let e=0;e<t.length;++e);this.paintVertexArray=new r;}populatePaintArray(e,t,i){const r=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValues(r,e,t.patterns&&t.patterns[this.layerId],i);}updatePaintArray(e,t,i,r,n,o,s){this._setPaintValues(e,t,i.patterns&&i.patterns[this.layerId],o);}_setPaintValues(e,t,i,r){if(!r||!i)return;const n=r[i];if(!n)return;const{tl:o,br:s,pixelRatio:a}=n;for(let i=e;i<t;i++)this.paintVertexArray.emplace(i,o[0],o[1],s[0],s[1],a);}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant));}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy();}}class Ql{constructor(e,t,i=(()=>!0)){this.binders={},this._buffers=[];const r=[];for(const n in e.paint._values){const o=e.paint.get(n);if(!i(n))continue;if(!(o instanceof da&&co(o.property.specification)))continue;const s=ic(n,e.type),a=o.value,l=o.property.specification.type,c=!!o.property.useIntegerZoom,h=\"line-dasharray\"===n||n.endsWith(\"pattern\"),u=\"line-dasharray\"===n&&\"constant\"!==e.layout.get(\"line-cap\").value.kind;if(\"constant\"!==a.kind||u)if(\"source\"===a.kind||u||h){const t=oc(n,l,\"source\");this.binders[n]=h?new Jl(a,s,l,t,e.id):new Yl(a,s,l,t),r.push(`/a_${n}`);}else {const e=oc(n,l,\"composite\");this.binders[n]=new Kl(a,s,l,c,t,e),r.push(`/z_${n}`);}else this.binders[n]=h?new Xl(a.value,s):new Hl(a.value,s,l),r.push(`/u_${n}`);}this.cacheKey=r.sort().join(\"\");}getMaxValue(e){const t=this.binders[e];return t instanceof Yl||t instanceof Kl?t.maxValue:0}populatePaintArrays(e,t,i,r,n,o,s){for(const a in this.binders){const l=this.binders[a];(l instanceof Yl||l instanceof Kl||l instanceof Jl)&&l.populatePaintArray(e,t,i,r,n,o,s);}}setConstantPatternPositions(e){for(const t in this.binders){const i=this.binders[t];i instanceof Xl&&i.setConstantPatternPositions(e);}}updatePaintArrays(e,t,i,r,n,o,s,a){let l=!1;const c=Object.keys(e),h=0!==c.length,u=h?c:t.uniqueIds;for(const c in this.binders){const d=this.binders[c];if((d instanceof Yl||d instanceof Kl||d instanceof Jl)&&(!0===d.expression.isStateDependent||!1===d.expression.isLightConstant)){const p=n.paint.get(c);d.expression=p.value;for(const i of u){const n=e[i.toString()];t.eachPosition(i,((e,t,i)=>{const l=r.feature(e);d.updatePaintArray(t,i,l,n,o,s,a);}));}if(!h)for(const t of i.uniqueIds){const n=e[t.toString()];i.eachPosition(t,((e,t,i)=>{const l=r.feature(e);d.updatePaintArray(t,i,l,n,o,s,a);}));}l=!0;}}return l}defines(){const e=[];for(const t in this.binders){const i=this.binders[t];(i instanceof Hl||i instanceof Xl)&&e.push(...i.uniformNames.map((e=>`#define HAS_UNIFORM_${e}`)));}return e}getBinderAttributes(){const e=[];for(const t in this.binders){const i=this.binders[t];if(i instanceof Yl||i instanceof Kl||i instanceof Jl)for(let t=0;t<i.paintVertexAttributes.length;t++)e.push(i.paintVertexAttributes[t].name);}return e}getBinderUniforms(){const e=[];for(const t in this.binders){const i=this.binders[t];if(i instanceof Hl||i instanceof Xl||i instanceof Kl)for(const t of i.uniformNames)e.push(t);}return e}getPaintVertexBuffers(){return this._buffers}getUniforms(e){const t=[];for(const i in this.binders){const r=this.binders[i];if(r instanceof Hl||r instanceof Xl||r instanceof Kl)for(const n of r.uniformNames)t.push({name:n,property:i,binding:r.getBinding(e,n)});}return t}setUniforms(e,t,i,r,n){for(const{name:t,property:o,binding:s}of i)this.binders[o].setUniform(e,s,n,r.get(o),t);}updatePaintBuffers(){this._buffers=[];for(const e in this.binders){const t=this.binders[e];(t instanceof Yl||t instanceof Kl||t instanceof Jl)&&t.paintVertexBuffer&&this._buffers.push(t.paintVertexBuffer);}}upload(e){for(const t in this.binders){const i=this.binders[t];(i instanceof Yl||i instanceof Kl||i instanceof Jl)&&i.upload(e);}this.updatePaintBuffers();}destroy(){for(const e in this.binders){const t=this.binders[e];(t instanceof Yl||t instanceof Kl||t instanceof Jl)&&t.destroy();}}}class ec{constructor(e,t,i=(()=>!0)){this.programConfigurations={};for(const r of e)this.programConfigurations[r.id]=new Ql(r,t,i);this.needsUpload=!1,this._featureMap=new zl,this._featureMapWithoutIds=new zl,this._bufferOffset=0,this._idlessCounter=0;}populatePaintArrays(e,t,i,r,n,o,s,a){for(const i in this.programConfigurations)this.programConfigurations[i].populatePaintArrays(e,t,r,n,o,s,a);void 0!==t.id?this._featureMap.add(t.id,i,this._bufferOffset,e):(this._featureMapWithoutIds.add(this._idlessCounter,i,this._bufferOffset,e),this._idlessCounter+=1),this._bufferOffset=e,this.needsUpload=!0;}updatePaintArrays(e,t,i,r,n,o){for(const s of i)this.needsUpload=this.programConfigurations[s.id].updatePaintArrays(e,this._featureMap,this._featureMapWithoutIds,t,s,r,n,o||0)||this.needsUpload;}get(e){return this.programConfigurations[e]}upload(e){if(this.needsUpload){for(const t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1;}}destroy(){for(const e in this.programConfigurations)this.programConfigurations[e].destroy();}}const tc={\"text-opacity\":[\"opacity\"],\"icon-opacity\":[\"opacity\"],\"text-color\":[\"fill_color\"],\"icon-color\":[\"fill_color\"],\"text-emissive-strength\":[\"emissive_strength\"],\"icon-emissive-strength\":[\"emissive_strength\"],\"text-halo-color\":[\"halo_color\"],\"icon-halo-color\":[\"halo_color\"],\"text-halo-blur\":[\"halo_blur\"],\"icon-halo-blur\":[\"halo_blur\"],\"text-halo-width\":[\"halo_width\"],\"icon-halo-width\":[\"halo_width\"],\"line-gap-width\":[\"gapwidth\"],\"line-pattern\":[\"pattern\",\"pixel_ratio\"],\"fill-pattern\":[\"pattern\",\"pixel_ratio\"],\"fill-extrusion-pattern\":[\"pattern\",\"pixel_ratio\"],\"line-dasharray\":[\"dash\"]};function ic(e,t){return tc[e]||[e.replace(`${t}-`,\"\").replace(/-/g,\"_\")]}const rc={\"line-pattern\":{source:Oa,composite:Oa},\"fill-pattern\":{source:Oa,composite:Oa},\"fill-extrusion-pattern\":{source:Oa,composite:Oa},\"line-dasharray\":{source:Ba,composite:Ba}},nc={color:{source:il,composite:ka},number:{source:Ya,composite:il}};function oc(e,t,i){const r=rc[e];return r&&r[i]||nc[t][i]}Rs(Hl,\"ConstantBinder\"),Rs(Xl,\"PatternConstantBinder\"),Rs(Yl,\"SourceExpressionBinder\"),Rs(Jl,\"PatternCompositeBinder\"),Rs(Kl,\"CompositeExpressionBinder\"),Rs(Ql,\"ProgramConfiguration\",{omit:[\"_buffers\"]}),Rs(ec,\"ProgramConfigurationSet\");class sc{constructor(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]));}setNorthEast(e){return this._ne=e instanceof Wd?new Wd(e.lng,e.lat):Wd.convert(e),this}setSouthWest(e){return this._sw=e instanceof Wd?new Wd(e.lng,e.lat):Wd.convert(e),this}extend(e){const t=this._sw,i=this._ne;let r,n;if(e instanceof Wd)r=e,n=e;else {if(!(e instanceof sc))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(sc.convert(e)):this.extend(Wd.convert(e)):\"object\"==typeof e&&null!==e&&e.hasOwnProperty(\"lat\")&&(e.hasOwnProperty(\"lon\")||e.hasOwnProperty(\"lng\"))?this.extend(Wd.convert(e)):this;if(r=e._sw,n=e._ne,!r||!n)return this}return t||i?(t.lng=Math.min(r.lng,t.lng),t.lat=Math.min(r.lat,t.lat),i.lng=Math.max(n.lng,i.lng),i.lat=Math.max(n.lat,i.lat)):(this._sw=new Wd(r.lng,r.lat),this._ne=new Wd(n.lng,n.lat)),this}getCenter(){return new Wd((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Wd(this.getWest(),this.getNorth())}getSouthEast(){return new Wd(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return [this._sw.toArray(),this._ne.toArray()]}toString(){return `LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return !(this._sw&&this._ne)}contains(e){const{lng:t,lat:i}=Wd.convert(e);let r=this._sw.lng<=t&&t<=this._ne.lng;return this._sw.lng>this._ne.lng&&(r=this._sw.lng>=t&&t>=this._ne.lng),this._sw.lat<=i&&i<=this._ne.lat&&r}static convert(e){return !e||e instanceof sc?e:new sc(e)}}var ac={},lc={};Object.defineProperty(lc,\"__esModule\",{value:!0}),lc.setMatrixArrayType=function(e){lc.ARRAY_TYPE=hc=e;},lc.toRadian=function(e){return e*dc},lc.equals=function(e,t){return Math.abs(e-t)<=cc*Math.max(1,Math.abs(e),Math.abs(t))},lc.RANDOM=lc.ARRAY_TYPE=lc.EPSILON=void 0;var cc=1e-6;lc.EPSILON=cc;var hc=\"undefined\"!=typeof Float32Array?Float32Array:Array;lc.ARRAY_TYPE=hc;var uc=Math.random;lc.RANDOM=uc;var dc=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var pc={};function fc(e){return fc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},fc(e)}Object.defineProperty(pc,\"__esModule\",{value:!0}),pc.create=function(){var e=new mc.ARRAY_TYPE(4);return mc.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e},pc.clone=function(e){var t=new mc.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},pc.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},pc.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},pc.fromValues=function(e,t,i,r){var n=new mc.ARRAY_TYPE(4);return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n},pc.set=function(e,t,i,r,n){return e[0]=t,e[1]=i,e[2]=r,e[3]=n,e},pc.transpose=function(e,t){if(e===t){var i=t[1];e[1]=t[2],e[2]=i;}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e},pc.invert=function(e,t){var i=t[0],r=t[1],n=t[2],o=t[3],s=i*o-n*r;return s?(e[0]=o*(s=1/s),e[1]=-r*s,e[2]=-n*s,e[3]=i*s,e):null},pc.adjoint=function(e,t){var i=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=i,e},pc.determinant=function(e){return e[0]*e[3]-e[2]*e[1]},pc.multiply=gc,pc.rotate=function(e,t,i){var r=t[0],n=t[1],o=t[2],s=t[3],a=Math.sin(i),l=Math.cos(i);return e[0]=r*l+o*a,e[1]=n*l+s*a,e[2]=r*-a+o*l,e[3]=n*-a+s*l,e},pc.scale=function(e,t,i){var r=t[1],n=t[2],o=t[3],s=i[0],a=i[1];return e[0]=t[0]*s,e[1]=r*s,e[2]=n*a,e[3]=o*a,e},pc.fromRotation=function(e,t){var i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=i,e[2]=-i,e[3]=r,e},pc.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e},pc.str=function(e){return \"mat2(\"+e[0]+\", \"+e[1]+\", \"+e[2]+\", \"+e[3]+\")\"},pc.frob=function(e){return Math.hypot(e[0],e[1],e[2],e[3])},pc.LDU=function(e,t,i,r){return e[2]=r[2]/r[0],i[0]=r[0],i[1]=r[1],i[3]=r[3]-e[2]*i[1],[e,t,i]},pc.add=function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e},pc.subtract=yc,pc.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},pc.equals=function(e,t){var i=e[0],r=e[1],n=e[2],o=e[3],s=t[0],a=t[1],l=t[2],c=t[3];return Math.abs(i-s)<=mc.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(r-a)<=mc.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-l)<=mc.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(o-c)<=mc.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))},pc.multiplyScalar=function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e},pc.multiplyScalarAndAdd=function(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e},pc.sub=pc.mul=void 0;var mc=function(e,t){if(e&&e.__esModule)return e;if(null===e||\"object\"!==fc(e)&&\"function\"!=typeof e)return {default:e};var i=_c(void 0);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(\"default\"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o];}return r.default=e,i&&i.set(e,r),r}(lc);function _c(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return (_c=function(e){return e?i:t})(e)}function gc(e,t,i){var r=t[0],n=t[1],o=t[2],s=t[3],a=i[0],l=i[1],c=i[2],h=i[3];return e[0]=r*a+o*l,e[1]=n*a+s*l,e[2]=r*c+o*h,e[3]=n*c+s*h,e}function yc(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e}pc.mul=gc,pc.sub=yc;var xc={};function vc(e){return vc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},vc(e)}Object.defineProperty(xc,\"__esModule\",{value:!0}),xc.create=function(){var e=new bc.ARRAY_TYPE(6);return bc.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e},xc.clone=function(e){var t=new bc.ARRAY_TYPE(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},xc.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},xc.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},xc.fromValues=function(e,t,i,r,n,o){var s=new bc.ARRAY_TYPE(6);return s[0]=e,s[1]=t,s[2]=i,s[3]=r,s[4]=n,s[5]=o,s},xc.set=function(e,t,i,r,n,o,s){return e[0]=t,e[1]=i,e[2]=r,e[3]=n,e[4]=o,e[5]=s,e},xc.invert=function(e,t){var i=t[0],r=t[1],n=t[2],o=t[3],s=t[4],a=t[5],l=i*o-r*n;return l?(e[0]=o*(l=1/l),e[1]=-r*l,e[2]=-n*l,e[3]=i*l,e[4]=(n*a-o*s)*l,e[5]=(r*s-i*a)*l,e):null},xc.determinant=function(e){return e[0]*e[3]-e[1]*e[2]},xc.multiply=Tc,xc.rotate=function(e,t,i){var r=t[0],n=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=Math.sin(i),h=Math.cos(i);return e[0]=r*h+o*c,e[1]=n*h+s*c,e[2]=r*-c+o*h,e[3]=n*-c+s*h,e[4]=a,e[5]=l,e},xc.scale=function(e,t,i){var r=t[1],n=t[2],o=t[3],s=t[4],a=t[5],l=i[0],c=i[1];return e[0]=t[0]*l,e[1]=r*l,e[2]=n*c,e[3]=o*c,e[4]=s,e[5]=a,e},xc.translate=function(e,t,i){var r=t[0],n=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=i[0],h=i[1];return e[0]=r,e[1]=n,e[2]=o,e[3]=s,e[4]=r*c+o*h+a,e[5]=n*c+s*h+l,e},xc.fromRotation=function(e,t){var i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=i,e[2]=-i,e[3]=r,e[4]=0,e[5]=0,e},xc.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e},xc.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e},xc.str=function(e){return \"mat2d(\"+e[0]+\", \"+e[1]+\", \"+e[2]+\", \"+e[3]+\", \"+e[4]+\", \"+e[5]+\")\"},xc.frob=function(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],1)},xc.add=function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e},xc.subtract=Ec,xc.multiplyScalar=function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e},xc.multiplyScalarAndAdd=function(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e[4]=t[4]+i[4]*r,e[5]=t[5]+i[5]*r,e},xc.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]},xc.equals=function(e,t){var i=e[0],r=e[1],n=e[2],o=e[3],s=e[4],a=e[5],l=t[0],c=t[1],h=t[2],u=t[3],d=t[4],p=t[5];return Math.abs(i-l)<=bc.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(r-c)<=bc.EPSILON*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(n-h)<=bc.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(o-u)<=bc.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(s-d)<=bc.EPSILON*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(a-p)<=bc.EPSILON*Math.max(1,Math.abs(a),Math.abs(p))},xc.sub=xc.mul=void 0;var bc=function(e,t){if(e&&e.__esModule)return e;if(null===e||\"object\"!==vc(e)&&\"function\"!=typeof e)return {default:e};var i=wc(void 0);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(\"default\"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o];}return r.default=e,i&&i.set(e,r),r}(lc);function wc(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return (wc=function(e){return e?i:t})(e)}function Tc(e,t,i){var r=t[0],n=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=i[0],h=i[1],u=i[2],d=i[3],p=i[4],f=i[5];return e[0]=r*c+o*h,e[1]=n*c+s*h,e[2]=r*u+o*d,e[3]=n*u+s*d,e[4]=r*p+o*f+a,e[5]=n*p+s*f+l,e}function Ec(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e}xc.mul=Tc,xc.sub=Ec;var Mc={};function Ac(e){return Ac=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Ac(e)}Object.defineProperty(Mc,\"__esModule\",{value:!0}),Mc.create=function(){var e=new Sc.ARRAY_TYPE(9);return Sc.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e},Mc.fromMat4=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},Mc.clone=function(e){var t=new Sc.ARRAY_TYPE(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},Mc.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},Mc.fromValues=function(e,t,i,r,n,o,s,a,l){var c=new Sc.ARRAY_TYPE(9);return c[0]=e,c[1]=t,c[2]=i,c[3]=r,c[4]=n,c[5]=o,c[6]=s,c[7]=a,c[8]=l,c},Mc.set=function(e,t,i,r,n,o,s,a,l,c){return e[0]=t,e[1]=i,e[2]=r,e[3]=n,e[4]=o,e[5]=s,e[6]=a,e[7]=l,e[8]=c,e},Mc.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},Mc.transpose=function(e,t){if(e===t){var i=t[1],r=t[2],n=t[5];e[1]=t[3],e[2]=t[6],e[3]=i,e[5]=t[7],e[6]=r,e[7]=n;}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e},Mc.invert=function(e,t){var i=t[0],r=t[1],n=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],h=t[8],u=h*s-a*c,d=-h*o+a*l,p=c*o-s*l,f=i*u+r*d+n*p;return f?(e[0]=u*(f=1/f),e[1]=(-h*r+n*c)*f,e[2]=(a*r-n*s)*f,e[3]=d*f,e[4]=(h*i-n*l)*f,e[5]=(-a*i+n*o)*f,e[6]=p*f,e[7]=(-c*i+r*l)*f,e[8]=(s*i-r*o)*f,e):null},Mc.adjoint=function(e,t){var i=t[0],r=t[1],n=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],h=t[8];return e[0]=s*h-a*c,e[1]=n*c-r*h,e[2]=r*a-n*s,e[3]=a*l-o*h,e[4]=i*h-n*l,e[5]=n*o-i*a,e[6]=o*c-s*l,e[7]=r*l-i*c,e[8]=i*s-r*o,e},Mc.determinant=function(e){var t=e[3],i=e[4],r=e[5],n=e[6],o=e[7],s=e[8];return e[0]*(s*i-r*o)+e[1]*(-s*t+r*n)+e[2]*(o*t-i*n)},Mc.multiply=Cc,Mc.translate=function(e,t,i){var r=t[0],n=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=t[6],h=t[7],u=t[8],d=i[0],p=i[1];return e[0]=r,e[1]=n,e[2]=o,e[3]=s,e[4]=a,e[5]=l,e[6]=d*r+p*s+c,e[7]=d*n+p*a+h,e[8]=d*o+p*l+u,e},Mc.rotate=function(e,t,i){var r=t[0],n=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=t[6],h=t[7],u=t[8],d=Math.sin(i),p=Math.cos(i);return e[0]=p*r+d*s,e[1]=p*n+d*a,e[2]=p*o+d*l,e[3]=p*s-d*r,e[4]=p*a-d*n,e[5]=p*l-d*o,e[6]=c,e[7]=h,e[8]=u,e},Mc.scale=function(e,t,i){var r=i[0],n=i[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=n*t[3],e[4]=n*t[4],e[5]=n*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},Mc.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e},Mc.fromRotation=function(e,t){var i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=i,e[2]=0,e[3]=-i,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},Mc.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},Mc.fromMat2d=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e},Mc.fromQuat=function(e,t){var i=t[0],r=t[1],n=t[2],o=t[3],s=i+i,a=r+r,l=n+n,c=i*s,h=r*s,u=r*a,d=n*s,p=n*a,f=n*l,m=o*s,_=o*a,g=o*l;return e[0]=1-u-f,e[3]=h-g,e[6]=d+_,e[1]=h+g,e[4]=1-c-f,e[7]=p-m,e[2]=d-_,e[5]=p+m,e[8]=1-c-u,e},Mc.normalFromMat4=function(e,t){var i=t[0],r=t[1],n=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],h=t[8],u=t[9],d=t[10],p=t[11],f=t[12],m=t[13],_=t[14],g=t[15],y=i*a-r*s,x=i*l-n*s,v=i*c-o*s,b=r*l-n*a,w=r*c-o*a,T=n*c-o*l,E=h*m-u*f,M=h*_-d*f,A=h*g-p*f,S=u*_-d*m,I=u*g-p*m,C=d*g-p*_,z=y*C-x*I+v*S+b*A-w*M+T*E;return z?(e[0]=(a*C-l*I+c*S)*(z=1/z),e[1]=(l*A-s*C-c*M)*z,e[2]=(s*I-a*A+c*E)*z,e[3]=(n*I-r*C-o*S)*z,e[4]=(i*C-n*A+o*M)*z,e[5]=(r*A-i*I-o*E)*z,e[6]=(m*T-_*w+g*b)*z,e[7]=(_*v-f*T-g*x)*z,e[8]=(f*w-m*v+g*y)*z,e):null},Mc.projection=function(e,t,i){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/i,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e},Mc.str=function(e){return \"mat3(\"+e[0]+\", \"+e[1]+\", \"+e[2]+\", \"+e[3]+\", \"+e[4]+\", \"+e[5]+\", \"+e[6]+\", \"+e[7]+\", \"+e[8]+\")\"},Mc.frob=function(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},Mc.add=function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e[8]=t[8]+i[8],e},Mc.subtract=zc,Mc.multiplyScalar=function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*i,e},Mc.multiplyScalarAndAdd=function(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e[4]=t[4]+i[4]*r,e[5]=t[5]+i[5]*r,e[6]=t[6]+i[6]*r,e[7]=t[7]+i[7]*r,e[8]=t[8]+i[8]*r,e},Mc.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},Mc.equals=function(e,t){var i=e[0],r=e[1],n=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],h=e[8],u=t[0],d=t[1],p=t[2],f=t[3],m=t[4],_=t[5],g=t[6],y=t[7],x=t[8];return Math.abs(i-u)<=Sc.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(r-d)<=Sc.EPSILON*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(n-p)<=Sc.EPSILON*Math.max(1,Math.abs(n),Math.abs(p))&&Math.abs(o-f)<=Sc.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(s-m)<=Sc.EPSILON*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(a-_)<=Sc.EPSILON*Math.max(1,Math.abs(a),Math.abs(_))&&Math.abs(l-g)<=Sc.EPSILON*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(c-y)<=Sc.EPSILON*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(h-x)<=Sc.EPSILON*Math.max(1,Math.abs(h),Math.abs(x))},Mc.sub=Mc.mul=void 0;var Sc=function(e,t){if(e&&e.__esModule)return e;if(null===e||\"object\"!==Ac(e)&&\"function\"!=typeof e)return {default:e};var i=Ic(void 0);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(\"default\"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o];}return r.default=e,i&&i.set(e,r),r}(lc);function Ic(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return (Ic=function(e){return e?i:t})(e)}function Cc(e,t,i){var r=t[0],n=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=t[6],h=t[7],u=t[8],d=i[0],p=i[1],f=i[2],m=i[3],_=i[4],g=i[5],y=i[6],x=i[7],v=i[8];return e[0]=d*r+p*s+f*c,e[1]=d*n+p*a+f*h,e[2]=d*o+p*l+f*u,e[3]=m*r+_*s+g*c,e[4]=m*n+_*a+g*h,e[5]=m*o+_*l+g*u,e[6]=y*r+x*s+v*c,e[7]=y*n+x*a+v*h,e[8]=y*o+x*l+v*u,e}function zc(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e[6]=t[6]-i[6],e[7]=t[7]-i[7],e[8]=t[8]-i[8],e}Mc.mul=Cc,Mc.sub=zc;var Pc={};function Dc(e){return Dc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Dc(e)}Object.defineProperty(Pc,\"__esModule\",{value:!0}),Pc.create=function(){var e=new Rc.ARRAY_TYPE(16);return Rc.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},Pc.clone=function(e){var t=new Rc.ARRAY_TYPE(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},Pc.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},Pc.fromValues=function(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m){var _=new Rc.ARRAY_TYPE(16);return _[0]=e,_[1]=t,_[2]=i,_[3]=r,_[4]=n,_[5]=o,_[6]=s,_[7]=a,_[8]=l,_[9]=c,_[10]=h,_[11]=u,_[12]=d,_[13]=p,_[14]=f,_[15]=m,_},Pc.set=function(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m,_){return e[0]=t,e[1]=i,e[2]=r,e[3]=n,e[4]=o,e[5]=s,e[6]=a,e[7]=l,e[8]=c,e[9]=h,e[10]=u,e[11]=d,e[12]=p,e[13]=f,e[14]=m,e[15]=_,e},Pc.identity=kc,Pc.transpose=function(e,t){if(e===t){var i=t[1],r=t[2],n=t[3],o=t[6],s=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=i,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=n,e[13]=s,e[14]=a;}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e},Pc.invert=function(e,t){var i=t[0],r=t[1],n=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],h=t[8],u=t[9],d=t[10],p=t[11],f=t[12],m=t[13],_=t[14],g=t[15],y=i*a-r*s,x=i*l-n*s,v=i*c-o*s,b=r*l-n*a,w=r*c-o*a,T=n*c-o*l,E=h*m-u*f,M=h*_-d*f,A=h*g-p*f,S=u*_-d*m,I=u*g-p*m,C=d*g-p*_,z=y*C-x*I+v*S+b*A-w*M+T*E;return z?(e[0]=(a*C-l*I+c*S)*(z=1/z),e[1]=(n*I-r*C-o*S)*z,e[2]=(m*T-_*w+g*b)*z,e[3]=(d*w-u*T-p*b)*z,e[4]=(l*A-s*C-c*M)*z,e[5]=(i*C-n*A+o*M)*z,e[6]=(_*v-f*T-g*x)*z,e[7]=(h*T-d*v+p*x)*z,e[8]=(s*I-a*A+c*E)*z,e[9]=(r*A-i*I-o*E)*z,e[10]=(f*w-m*v+g*y)*z,e[11]=(u*v-h*w-p*y)*z,e[12]=(a*M-s*S-l*E)*z,e[13]=(i*S-r*M+n*E)*z,e[14]=(m*x-f*b-_*y)*z,e[15]=(h*b-u*x+d*y)*z,e):null},Pc.adjoint=function(e,t){var i=t[0],r=t[1],n=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],h=t[8],u=t[9],d=t[10],p=t[11],f=t[12],m=t[13],_=t[14],g=t[15];return e[0]=a*(d*g-p*_)-u*(l*g-c*_)+m*(l*p-c*d),e[1]=-(r*(d*g-p*_)-u*(n*g-o*_)+m*(n*p-o*d)),e[2]=r*(l*g-c*_)-a*(n*g-o*_)+m*(n*c-o*l),e[3]=-(r*(l*p-c*d)-a*(n*p-o*d)+u*(n*c-o*l)),e[4]=-(s*(d*g-p*_)-h*(l*g-c*_)+f*(l*p-c*d)),e[5]=i*(d*g-p*_)-h*(n*g-o*_)+f*(n*p-o*d),e[6]=-(i*(l*g-c*_)-s*(n*g-o*_)+f*(n*c-o*l)),e[7]=i*(l*p-c*d)-s*(n*p-o*d)+h*(n*c-o*l),e[8]=s*(u*g-p*m)-h*(a*g-c*m)+f*(a*p-c*u),e[9]=-(i*(u*g-p*m)-h*(r*g-o*m)+f*(r*p-o*u)),e[10]=i*(a*g-c*m)-s*(r*g-o*m)+f*(r*c-o*a),e[11]=-(i*(a*p-c*u)-s*(r*p-o*u)+h*(r*c-o*a)),e[12]=-(s*(u*_-d*m)-h*(a*_-l*m)+f*(a*d-l*u)),e[13]=i*(u*_-d*m)-h*(r*_-n*m)+f*(r*d-n*u),e[14]=-(i*(a*_-l*m)-s*(r*_-n*m)+f*(r*l-n*a)),e[15]=i*(a*d-l*u)-s*(r*d-n*u)+h*(r*l-n*a),e},Pc.determinant=function(e){var t=e[0],i=e[1],r=e[2],n=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8],h=e[9],u=e[10],d=e[11],p=e[12],f=e[13],m=e[14],_=e[15];return (t*s-i*o)*(u*_-d*m)-(t*a-r*o)*(h*_-d*f)+(t*l-n*o)*(h*m-u*f)+(i*a-r*s)*(c*_-d*p)-(i*l-n*s)*(c*m-u*p)+(r*l-n*a)*(c*f-h*p)},Pc.multiply=Oc,Pc.translate=function(e,t,i){var r,n,o,s,a,l,c,h,u,d,p,f,m=i[0],_=i[1],g=i[2];return t===e?(e[12]=t[0]*m+t[4]*_+t[8]*g+t[12],e[13]=t[1]*m+t[5]*_+t[9]*g+t[13],e[14]=t[2]*m+t[6]*_+t[10]*g+t[14],e[15]=t[3]*m+t[7]*_+t[11]*g+t[15]):(n=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=t[6],h=t[7],u=t[8],d=t[9],p=t[10],f=t[11],e[0]=r=t[0],e[1]=n,e[2]=o,e[3]=s,e[4]=a,e[5]=l,e[6]=c,e[7]=h,e[8]=u,e[9]=d,e[10]=p,e[11]=f,e[12]=r*m+a*_+u*g+t[12],e[13]=n*m+l*_+d*g+t[13],e[14]=o*m+c*_+p*g+t[14],e[15]=s*m+h*_+f*g+t[15]),e},Pc.scale=function(e,t,i){var r=i[0],n=i[1],o=i[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},Pc.rotate=function(e,t,i,r){var n,o,s,a,l,c,h,u,d,p,f,m,_,g,y,x,v,b,w,T,E,M,A,S,I=r[0],C=r[1],z=r[2],P=Math.hypot(I,C,z);return P<Rc.EPSILON?null:(I*=P=1/P,C*=P,z*=P,n=Math.sin(i),o=Math.cos(i),l=t[1],c=t[2],h=t[3],d=t[5],p=t[6],f=t[7],_=t[9],g=t[10],y=t[11],w=I*C*(s=1-o)-z*n,T=C*C*s+o,E=z*C*s+I*n,M=I*z*s+C*n,A=C*z*s-I*n,S=z*z*s+o,e[0]=(a=t[0])*(x=I*I*s+o)+(u=t[4])*(v=C*I*s+z*n)+(m=t[8])*(b=z*I*s-C*n),e[1]=l*x+d*v+_*b,e[2]=c*x+p*v+g*b,e[3]=h*x+f*v+y*b,e[4]=a*w+u*T+m*E,e[5]=l*w+d*T+_*E,e[6]=c*w+p*T+g*E,e[7]=h*w+f*T+y*E,e[8]=a*M+u*A+m*S,e[9]=l*M+d*A+_*S,e[10]=c*M+p*A+g*S,e[11]=h*M+f*A+y*S,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)},Pc.rotateX=function(e,t,i){var r=Math.sin(i),n=Math.cos(i),o=t[4],s=t[5],a=t[6],l=t[7],c=t[8],h=t[9],u=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*n+c*r,e[5]=s*n+h*r,e[6]=a*n+u*r,e[7]=l*n+d*r,e[8]=c*n-o*r,e[9]=h*n-s*r,e[10]=u*n-a*r,e[11]=d*n-l*r,e},Pc.rotateY=function(e,t,i){var r=Math.sin(i),n=Math.cos(i),o=t[0],s=t[1],a=t[2],l=t[3],c=t[8],h=t[9],u=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*n-c*r,e[1]=s*n-h*r,e[2]=a*n-u*r,e[3]=l*n-d*r,e[8]=o*r+c*n,e[9]=s*r+h*n,e[10]=a*r+u*n,e[11]=l*r+d*n,e},Pc.rotateZ=function(e,t,i){var r=Math.sin(i),n=Math.cos(i),o=t[0],s=t[1],a=t[2],l=t[3],c=t[4],h=t[5],u=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*n+c*r,e[1]=s*n+h*r,e[2]=a*n+u*r,e[3]=l*n+d*r,e[4]=c*n-o*r,e[5]=h*n-s*r,e[6]=u*n-a*r,e[7]=d*n-l*r,e},Pc.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e},Pc.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},Pc.fromRotation=function(e,t,i){var r,n,o,s=i[0],a=i[1],l=i[2],c=Math.hypot(s,a,l);return c<Rc.EPSILON?null:(s*=c=1/c,a*=c,l*=c,r=Math.sin(t),n=Math.cos(t),e[0]=s*s*(o=1-n)+n,e[1]=a*s*o+l*r,e[2]=l*s*o-a*r,e[3]=0,e[4]=s*a*o-l*r,e[5]=a*a*o+n,e[6]=l*a*o+s*r,e[7]=0,e[8]=s*l*o+a*r,e[9]=a*l*o-s*r,e[10]=l*l*o+n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)},Pc.fromXRotation=function(e,t){var i=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=i,e[7]=0,e[8]=0,e[9]=-i,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},Pc.fromYRotation=function(e,t){var i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-i,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=i,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},Pc.fromZRotation=function(e,t){var i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=i,e[2]=0,e[3]=0,e[4]=-i,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},Pc.fromRotationTranslation=Bc,Pc.fromQuat2=function(e,t){var i=new Rc.ARRAY_TYPE(3),r=-t[0],n=-t[1],o=-t[2],s=t[3],a=t[4],l=t[5],c=t[6],h=t[7],u=r*r+n*n+o*o+s*s;return u>0?(i[0]=2*(a*s+h*r+l*o-c*n)/u,i[1]=2*(l*s+h*n+c*r-a*o)/u,i[2]=2*(c*s+h*o+a*n-l*r)/u):(i[0]=2*(a*s+h*r+l*o-c*n),i[1]=2*(l*s+h*n+c*r-a*o),i[2]=2*(c*s+h*o+a*n-l*r)),Bc(e,t,i),e},Pc.getTranslation=function(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e},Pc.getScaling=Fc,Pc.getRotation=function(e,t){var i=new Rc.ARRAY_TYPE(3);Fc(i,t);var r=1/i[0],n=1/i[1],o=1/i[2],s=t[0]*r,a=t[1]*n,l=t[2]*o,c=t[4]*r,h=t[5]*n,u=t[6]*o,d=t[8]*r,p=t[9]*n,f=t[10]*o,m=s+h+f,_=0;return m>0?(_=2*Math.sqrt(m+1),e[3]=.25*_,e[0]=(u-p)/_,e[1]=(d-l)/_,e[2]=(a-c)/_):s>h&&s>f?(_=2*Math.sqrt(1+s-h-f),e[3]=(u-p)/_,e[0]=.25*_,e[1]=(a+c)/_,e[2]=(d+l)/_):h>f?(_=2*Math.sqrt(1+h-s-f),e[3]=(d-l)/_,e[0]=(a+c)/_,e[1]=.25*_,e[2]=(u+p)/_):(_=2*Math.sqrt(1+f-s-h),e[3]=(a-c)/_,e[0]=(d+l)/_,e[1]=(u+p)/_,e[2]=.25*_),e},Pc.fromRotationTranslationScale=function(e,t,i,r){var n=t[0],o=t[1],s=t[2],a=t[3],l=n+n,c=o+o,h=s+s,u=n*l,d=n*c,p=n*h,f=o*c,m=o*h,_=s*h,g=a*l,y=a*c,x=a*h,v=r[0],b=r[1],w=r[2];return e[0]=(1-(f+_))*v,e[1]=(d+x)*v,e[2]=(p-y)*v,e[3]=0,e[4]=(d-x)*b,e[5]=(1-(u+_))*b,e[6]=(m+g)*b,e[7]=0,e[8]=(p+y)*w,e[9]=(m-g)*w,e[10]=(1-(u+f))*w,e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e},Pc.fromRotationTranslationScaleOrigin=function(e,t,i,r,n){var o=t[0],s=t[1],a=t[2],l=t[3],c=o+o,h=s+s,u=a+a,d=o*c,p=o*h,f=o*u,m=s*h,_=s*u,g=a*u,y=l*c,x=l*h,v=l*u,b=r[0],w=r[1],T=r[2],E=n[0],M=n[1],A=n[2],S=(1-(m+g))*b,I=(p+v)*b,C=(f-x)*b,z=(p-v)*w,P=(1-(d+g))*w,D=(_+y)*w,R=(f+x)*T,L=(_-y)*T,k=(1-(d+m))*T;return e[0]=S,e[1]=I,e[2]=C,e[3]=0,e[4]=z,e[5]=P,e[6]=D,e[7]=0,e[8]=R,e[9]=L,e[10]=k,e[11]=0,e[12]=i[0]+E-(S*E+z*M+R*A),e[13]=i[1]+M-(I*E+P*M+L*A),e[14]=i[2]+A-(C*E+D*M+k*A),e[15]=1,e},Pc.fromQuat=function(e,t){var i=t[0],r=t[1],n=t[2],o=t[3],s=i+i,a=r+r,l=n+n,c=i*s,h=r*s,u=r*a,d=n*s,p=n*a,f=n*l,m=o*s,_=o*a,g=o*l;return e[0]=1-u-f,e[1]=h+g,e[2]=d-_,e[3]=0,e[4]=h-g,e[5]=1-c-f,e[6]=p+m,e[7]=0,e[8]=d+_,e[9]=p-m,e[10]=1-c-u,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},Pc.frustum=function(e,t,i,r,n,o,s){var a=1/(i-t),l=1/(n-r),c=1/(o-s);return e[0]=2*o*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*l,e[6]=0,e[7]=0,e[8]=(i+t)*a,e[9]=(n+r)*l,e[10]=(s+o)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=s*o*2*c,e[15]=0,e},Pc.perspectiveNO=Nc,Pc.perspectiveZO=function(e,t,i,r,n){var o,s=1/Math.tan(t/2);return e[0]=s/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=n&&n!==1/0?(e[10]=n*(o=1/(r-n)),e[14]=n*r*o):(e[10]=-1,e[14]=-r),e},Pc.perspectiveFromFieldOfView=function(e,t,i,r){var n=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),s=Math.tan(t.leftDegrees*Math.PI/180),a=Math.tan(t.rightDegrees*Math.PI/180),l=2/(s+a),c=2/(n+o);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(s-a)*l*.5,e[9]=(n-o)*c*.5,e[10]=r/(i-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*i/(i-r),e[15]=0,e},Pc.orthoNO=Uc,Pc.orthoZO=function(e,t,i,r,n,o,s){var a=1/(t-i),l=1/(r-n),c=1/(o-s);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=c,e[11]=0,e[12]=(t+i)*a,e[13]=(n+r)*l,e[14]=o*c,e[15]=1,e},Pc.lookAt=function(e,t,i,r){var n,o,s,a,l,c,h,u,d,p,f=t[0],m=t[1],_=t[2],g=r[0],y=r[1],x=r[2],v=i[0],b=i[1],w=i[2];return Math.abs(f-v)<Rc.EPSILON&&Math.abs(m-b)<Rc.EPSILON&&Math.abs(_-w)<Rc.EPSILON?kc(e):(h=f-v,u=m-b,d=_-w,n=y*(d*=p=1/Math.hypot(h,u,d))-x*(u*=p),o=x*(h*=p)-g*d,s=g*u-y*h,(p=Math.hypot(n,o,s))?(n*=p=1/p,o*=p,s*=p):(n=0,o=0,s=0),a=u*s-d*o,l=d*n-h*s,c=h*o-u*n,(p=Math.hypot(a,l,c))?(a*=p=1/p,l*=p,c*=p):(a=0,l=0,c=0),e[0]=n,e[1]=a,e[2]=h,e[3]=0,e[4]=o,e[5]=l,e[6]=u,e[7]=0,e[8]=s,e[9]=c,e[10]=d,e[11]=0,e[12]=-(n*f+o*m+s*_),e[13]=-(a*f+l*m+c*_),e[14]=-(h*f+u*m+d*_),e[15]=1,e)},Pc.targetTo=function(e,t,i,r){var n=t[0],o=t[1],s=t[2],a=r[0],l=r[1],c=r[2],h=n-i[0],u=o-i[1],d=s-i[2],p=h*h+u*u+d*d;p>0&&(h*=p=1/Math.sqrt(p),u*=p,d*=p);var f=l*d-c*u,m=c*h-a*d,_=a*u-l*h;return (p=f*f+m*m+_*_)>0&&(f*=p=1/Math.sqrt(p),m*=p,_*=p),e[0]=f,e[1]=m,e[2]=_,e[3]=0,e[4]=u*_-d*m,e[5]=d*f-h*_,e[6]=h*m-u*f,e[7]=0,e[8]=h,e[9]=u,e[10]=d,e[11]=0,e[12]=n,e[13]=o,e[14]=s,e[15]=1,e},Pc.str=function(e){return \"mat4(\"+e[0]+\", \"+e[1]+\", \"+e[2]+\", \"+e[3]+\", \"+e[4]+\", \"+e[5]+\", \"+e[6]+\", \"+e[7]+\", \"+e[8]+\", \"+e[9]+\", \"+e[10]+\", \"+e[11]+\", \"+e[12]+\", \"+e[13]+\", \"+e[14]+\", \"+e[15]+\")\"},Pc.frob=function(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},Pc.add=function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e[8]=t[8]+i[8],e[9]=t[9]+i[9],e[10]=t[10]+i[10],e[11]=t[11]+i[11],e[12]=t[12]+i[12],e[13]=t[13]+i[13],e[14]=t[14]+i[14],e[15]=t[15]+i[15],e},Pc.subtract=Vc,Pc.multiplyScalar=function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12]*i,e[13]=t[13]*i,e[14]=t[14]*i,e[15]=t[15]*i,e},Pc.multiplyScalarAndAdd=function(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e[4]=t[4]+i[4]*r,e[5]=t[5]+i[5]*r,e[6]=t[6]+i[6]*r,e[7]=t[7]+i[7]*r,e[8]=t[8]+i[8]*r,e[9]=t[9]+i[9]*r,e[10]=t[10]+i[10]*r,e[11]=t[11]+i[11]*r,e[12]=t[12]+i[12]*r,e[13]=t[13]+i[13]*r,e[14]=t[14]+i[14]*r,e[15]=t[15]+i[15]*r,e},Pc.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]},Pc.equals=function(e,t){var i=e[0],r=e[1],n=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],h=e[8],u=e[9],d=e[10],p=e[11],f=e[12],m=e[13],_=e[14],g=e[15],y=t[0],x=t[1],v=t[2],b=t[3],w=t[4],T=t[5],E=t[6],M=t[7],A=t[8],S=t[9],I=t[10],C=t[11],z=t[12],P=t[13],D=t[14],R=t[15];return Math.abs(i-y)<=Rc.EPSILON*Math.max(1,Math.abs(i),Math.abs(y))&&Math.abs(r-x)<=Rc.EPSILON*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(n-v)<=Rc.EPSILON*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(o-b)<=Rc.EPSILON*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(s-w)<=Rc.EPSILON*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(a-T)<=Rc.EPSILON*Math.max(1,Math.abs(a),Math.abs(T))&&Math.abs(l-E)<=Rc.EPSILON*Math.max(1,Math.abs(l),Math.abs(E))&&Math.abs(c-M)<=Rc.EPSILON*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(h-A)<=Rc.EPSILON*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(u-S)<=Rc.EPSILON*Math.max(1,Math.abs(u),Math.abs(S))&&Math.abs(d-I)<=Rc.EPSILON*Math.max(1,Math.abs(d),Math.abs(I))&&Math.abs(p-C)<=Rc.EPSILON*Math.max(1,Math.abs(p),Math.abs(C))&&Math.abs(f-z)<=Rc.EPSILON*Math.max(1,Math.abs(f),Math.abs(z))&&Math.abs(m-P)<=Rc.EPSILON*Math.max(1,Math.abs(m),Math.abs(P))&&Math.abs(_-D)<=Rc.EPSILON*Math.max(1,Math.abs(_),Math.abs(D))&&Math.abs(g-R)<=Rc.EPSILON*Math.max(1,Math.abs(g),Math.abs(R))},Pc.sub=Pc.mul=Pc.ortho=Pc.perspective=void 0;var Rc=function(e,t){if(e&&e.__esModule)return e;if(null===e||\"object\"!==Dc(e)&&\"function\"!=typeof e)return {default:e};var i=Lc(void 0);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(\"default\"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o];}return r.default=e,i&&i.set(e,r),r}(lc);function Lc(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return (Lc=function(e){return e?i:t})(e)}function kc(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Oc(e,t,i){var r=t[0],n=t[1],o=t[2],s=t[3],a=t[4],l=t[5],c=t[6],h=t[7],u=t[8],d=t[9],p=t[10],f=t[11],m=t[12],_=t[13],g=t[14],y=t[15],x=i[0],v=i[1],b=i[2],w=i[3];return e[0]=x*r+v*a+b*u+w*m,e[1]=x*n+v*l+b*d+w*_,e[2]=x*o+v*c+b*p+w*g,e[3]=x*s+v*h+b*f+w*y,e[4]=(x=i[4])*r+(v=i[5])*a+(b=i[6])*u+(w=i[7])*m,e[5]=x*n+v*l+b*d+w*_,e[6]=x*o+v*c+b*p+w*g,e[7]=x*s+v*h+b*f+w*y,e[8]=(x=i[8])*r+(v=i[9])*a+(b=i[10])*u+(w=i[11])*m,e[9]=x*n+v*l+b*d+w*_,e[10]=x*o+v*c+b*p+w*g,e[11]=x*s+v*h+b*f+w*y,e[12]=(x=i[12])*r+(v=i[13])*a+(b=i[14])*u+(w=i[15])*m,e[13]=x*n+v*l+b*d+w*_,e[14]=x*o+v*c+b*p+w*g,e[15]=x*s+v*h+b*f+w*y,e}function Bc(e,t,i){var r=t[0],n=t[1],o=t[2],s=t[3],a=r+r,l=n+n,c=o+o,h=r*a,u=r*l,d=r*c,p=n*l,f=n*c,m=o*c,_=s*a,g=s*l,y=s*c;return e[0]=1-(p+m),e[1]=u+y,e[2]=d-g,e[3]=0,e[4]=u-y,e[5]=1-(h+m),e[6]=f+_,e[7]=0,e[8]=d+g,e[9]=f-_,e[10]=1-(h+p),e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function Fc(e,t){var i=t[4],r=t[5],n=t[6],o=t[8],s=t[9],a=t[10];return e[0]=Math.hypot(t[0],t[1],t[2]),e[1]=Math.hypot(i,r,n),e[2]=Math.hypot(o,s,a),e}function Nc(e,t,i,r,n){var o,s=1/Math.tan(t/2);return e[0]=s/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=n&&n!==1/0?(e[10]=(n+r)*(o=1/(r-n)),e[14]=2*n*r*o):(e[10]=-1,e[14]=-2*r),e}function Uc(e,t,i,r,n,o,s){var a=1/(t-i),l=1/(r-n),c=1/(o-s);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+i)*a,e[13]=(n+r)*l,e[14]=(s+o)*c,e[15]=1,e}function Vc(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e[6]=t[6]-i[6],e[7]=t[7]-i[7],e[8]=t[8]-i[8],e[9]=t[9]-i[9],e[10]=t[10]-i[10],e[11]=t[11]-i[11],e[12]=t[12]-i[12],e[13]=t[13]-i[13],e[14]=t[14]-i[14],e[15]=t[15]-i[15],e}Pc.perspective=Nc,Pc.ortho=Uc,Pc.mul=Oc,Pc.sub=Vc;var jc={},Gc={};function qc(e){return qc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},qc(e)}Object.defineProperty(Gc,\"__esModule\",{value:!0}),Gc.create=Wc,Gc.clone=function(e){var t=new Zc.ARRAY_TYPE(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},Gc.length=Hc,Gc.fromValues=function(e,t,i){var r=new Zc.ARRAY_TYPE(3);return r[0]=e,r[1]=t,r[2]=i,r},Gc.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},Gc.set=function(e,t,i,r){return e[0]=t,e[1]=i,e[2]=r,e},Gc.add=function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e},Gc.subtract=Xc,Gc.multiply=Yc,Gc.divide=Kc,Gc.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e},Gc.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e},Gc.min=function(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e[2]=Math.min(t[2],i[2]),e},Gc.max=function(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e[2]=Math.max(t[2],i[2]),e},Gc.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e},Gc.scale=function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e},Gc.scaleAndAdd=function(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e},Gc.distance=Jc,Gc.squaredDistance=Qc,Gc.squaredLength=eh,Gc.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e},Gc.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},Gc.normalize=function(e,t){var i=t[0],r=t[1],n=t[2],o=i*i+r*r+n*n;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e},Gc.dot=th,Gc.cross=function(e,t,i){var r=t[0],n=t[1],o=t[2],s=i[0],a=i[1],l=i[2];return e[0]=n*l-o*a,e[1]=o*s-r*l,e[2]=r*a-n*s,e},Gc.lerp=function(e,t,i,r){var n=t[0],o=t[1],s=t[2];return e[0]=n+r*(i[0]-n),e[1]=o+r*(i[1]-o),e[2]=s+r*(i[2]-s),e},Gc.hermite=function(e,t,i,r,n,o){var s=o*o,a=s*(2*o-3)+1,l=s*(o-2)+o,c=s*(o-1),h=s*(3-2*o);return e[0]=t[0]*a+i[0]*l+r[0]*c+n[0]*h,e[1]=t[1]*a+i[1]*l+r[1]*c+n[1]*h,e[2]=t[2]*a+i[2]*l+r[2]*c+n[2]*h,e},Gc.bezier=function(e,t,i,r,n,o){var s=1-o,a=s*s,l=o*o,c=a*s,h=3*o*a,u=3*l*s,d=l*o;return e[0]=t[0]*c+i[0]*h+r[0]*u+n[0]*d,e[1]=t[1]*c+i[1]*h+r[1]*u+n[1]*d,e[2]=t[2]*c+i[2]*h+r[2]*u+n[2]*d,e},Gc.random=function(e,t){t=t||1;var i=2*Zc.RANDOM()*Math.PI,r=2*Zc.RANDOM()-1,n=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(i)*n,e[1]=Math.sin(i)*n,e[2]=r*t,e},Gc.transformMat4=function(e,t,i){var r=t[0],n=t[1],o=t[2],s=i[3]*r+i[7]*n+i[11]*o+i[15];return e[0]=(i[0]*r+i[4]*n+i[8]*o+i[12])/(s=s||1),e[1]=(i[1]*r+i[5]*n+i[9]*o+i[13])/s,e[2]=(i[2]*r+i[6]*n+i[10]*o+i[14])/s,e},Gc.transformMat3=function(e,t,i){var r=t[0],n=t[1],o=t[2];return e[0]=r*i[0]+n*i[3]+o*i[6],e[1]=r*i[1]+n*i[4]+o*i[7],e[2]=r*i[2]+n*i[5]+o*i[8],e},Gc.transformQuat=function(e,t,i){var r=i[0],n=i[1],o=i[2],s=t[0],a=t[1],l=t[2],c=n*l-o*a,h=o*s-r*l,u=r*a-n*s,d=n*u-o*h,p=o*c-r*u,f=r*h-n*c,m=2*i[3];return h*=m,u*=m,p*=2,f*=2,e[0]=s+(c*=m)+(d*=2),e[1]=a+h+p,e[2]=l+u+f,e},Gc.rotateX=function(e,t,i,r){var n=[],o=[];return n[0]=t[0]-i[0],n[1]=t[1]-i[1],n[2]=t[2]-i[2],o[0]=n[0],o[1]=n[1]*Math.cos(r)-n[2]*Math.sin(r),o[2]=n[1]*Math.sin(r)+n[2]*Math.cos(r),e[0]=o[0]+i[0],e[1]=o[1]+i[1],e[2]=o[2]+i[2],e},Gc.rotateY=function(e,t,i,r){var n=[],o=[];return n[0]=t[0]-i[0],n[1]=t[1]-i[1],n[2]=t[2]-i[2],o[0]=n[2]*Math.sin(r)+n[0]*Math.cos(r),o[1]=n[1],o[2]=n[2]*Math.cos(r)-n[0]*Math.sin(r),e[0]=o[0]+i[0],e[1]=o[1]+i[1],e[2]=o[2]+i[2],e},Gc.rotateZ=function(e,t,i,r){var n=[],o=[];return n[0]=t[0]-i[0],n[1]=t[1]-i[1],n[2]=t[2]-i[2],o[0]=n[0]*Math.cos(r)-n[1]*Math.sin(r),o[1]=n[0]*Math.sin(r)+n[1]*Math.cos(r),o[2]=n[2],e[0]=o[0]+i[0],e[1]=o[1]+i[1],e[2]=o[2]+i[2],e},Gc.angle=function(e,t){var i=e[0],r=e[1],n=e[2],o=t[0],s=t[1],a=t[2],l=Math.sqrt(i*i+r*r+n*n)*Math.sqrt(o*o+s*s+a*a),c=l&&th(e,t)/l;return Math.acos(Math.min(Math.max(c,-1),1))},Gc.zero=function(e){return e[0]=0,e[1]=0,e[2]=0,e},Gc.str=function(e){return \"vec3(\"+e[0]+\", \"+e[1]+\", \"+e[2]+\")\"},Gc.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},Gc.equals=function(e,t){var i=e[0],r=e[1],n=e[2],o=t[0],s=t[1],a=t[2];return Math.abs(i-o)<=Zc.EPSILON*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(r-s)<=Zc.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(n-a)<=Zc.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))},Gc.forEach=Gc.sqrLen=Gc.len=Gc.sqrDist=Gc.dist=Gc.div=Gc.mul=Gc.sub=void 0;var Zc=function(e,t){if(e&&e.__esModule)return e;if(null===e||\"object\"!==qc(e)&&\"function\"!=typeof e)return {default:e};var i=$c(void 0);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(\"default\"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o];}return r.default=e,i&&i.set(e,r),r}(lc);function $c(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return ($c=function(e){return e?i:t})(e)}function Wc(){var e=new Zc.ARRAY_TYPE(3);return Zc.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Hc(e){return Math.hypot(e[0],e[1],e[2])}function Xc(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e}function Yc(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e}function Kc(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],e}function Jc(e,t){return Math.hypot(t[0]-e[0],t[1]-e[1],t[2]-e[2])}function Qc(e,t){var i=t[0]-e[0],r=t[1]-e[1],n=t[2]-e[2];return i*i+r*r+n*n}function eh(e){var t=e[0],i=e[1],r=e[2];return t*t+i*i+r*r}function th(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}Gc.sub=Xc,Gc.mul=Yc,Gc.div=Kc,Gc.dist=Jc,Gc.sqrDist=Qc,Gc.len=Hc,Gc.sqrLen=eh;var ih,rh=(ih=Wc(),function(e,t,i,r,n,o){var s,a;for(t||(t=3),i||(i=0),a=r?Math.min(r*t+i,e.length):e.length,s=i;s<a;s+=t)ih[0]=e[s],ih[1]=e[s+1],ih[2]=e[s+2],n(ih,ih,o),e[s]=ih[0],e[s+1]=ih[1],e[s+2]=ih[2];return e});Gc.forEach=rh;var nh={};function oh(e){return oh=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},oh(e)}Object.defineProperty(nh,\"__esModule\",{value:!0}),nh.create=lh,nh.clone=function(e){var t=new sh.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},nh.fromValues=function(e,t,i,r){var n=new sh.ARRAY_TYPE(4);return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n},nh.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},nh.set=function(e,t,i,r,n){return e[0]=t,e[1]=i,e[2]=r,e[3]=n,e},nh.add=function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e},nh.subtract=ch,nh.multiply=hh,nh.divide=uh,nh.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},nh.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},nh.min=function(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e[2]=Math.min(t[2],i[2]),e[3]=Math.min(t[3],i[3]),e},nh.max=function(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e[2]=Math.max(t[2],i[2]),e[3]=Math.max(t[3],i[3]),e},nh.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},nh.scale=function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e},nh.scaleAndAdd=function(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e},nh.distance=dh,nh.squaredDistance=ph,nh.length=fh,nh.squaredLength=mh,nh.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},nh.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},nh.normalize=function(e,t){var i=t[0],r=t[1],n=t[2],o=t[3],s=i*i+r*r+n*n+o*o;return s>0&&(s=1/Math.sqrt(s)),e[0]=i*s,e[1]=r*s,e[2]=n*s,e[3]=o*s,e},nh.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},nh.cross=function(e,t,i,r){var n=i[0]*r[1]-i[1]*r[0],o=i[0]*r[2]-i[2]*r[0],s=i[0]*r[3]-i[3]*r[0],a=i[1]*r[2]-i[2]*r[1],l=i[1]*r[3]-i[3]*r[1],c=i[2]*r[3]-i[3]*r[2],h=t[0],u=t[1],d=t[2],p=t[3];return e[0]=u*c-d*l+p*a,e[1]=-h*c+d*s-p*o,e[2]=h*l-u*s+p*n,e[3]=-h*a+u*o-d*n,e},nh.lerp=function(e,t,i,r){var n=t[0],o=t[1],s=t[2],a=t[3];return e[0]=n+r*(i[0]-n),e[1]=o+r*(i[1]-o),e[2]=s+r*(i[2]-s),e[3]=a+r*(i[3]-a),e},nh.random=function(e,t){var i,r,n,o,s,a;t=t||1;do{s=(i=2*sh.RANDOM()-1)*i+(r=2*sh.RANDOM()-1)*r;}while(s>=1);do{a=(n=2*sh.RANDOM()-1)*n+(o=2*sh.RANDOM()-1)*o;}while(a>=1);var l=Math.sqrt((1-s)/a);return e[0]=t*i,e[1]=t*r,e[2]=t*n*l,e[3]=t*o*l,e},nh.transformMat4=function(e,t,i){var r=t[0],n=t[1],o=t[2],s=t[3];return e[0]=i[0]*r+i[4]*n+i[8]*o+i[12]*s,e[1]=i[1]*r+i[5]*n+i[9]*o+i[13]*s,e[2]=i[2]*r+i[6]*n+i[10]*o+i[14]*s,e[3]=i[3]*r+i[7]*n+i[11]*o+i[15]*s,e},nh.transformQuat=function(e,t,i){var r=t[0],n=t[1],o=t[2],s=i[0],a=i[1],l=i[2],c=i[3],h=c*r+a*o-l*n,u=c*n+l*r-s*o,d=c*o+s*n-a*r,p=-s*r-a*n-l*o;return e[0]=h*c+p*-s+u*-l-d*-a,e[1]=u*c+p*-a+d*-s-h*-l,e[2]=d*c+p*-l+h*-a-u*-s,e[3]=t[3],e},nh.zero=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e},nh.str=function(e){return \"vec4(\"+e[0]+\", \"+e[1]+\", \"+e[2]+\", \"+e[3]+\")\"},nh.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},nh.equals=function(e,t){var i=e[0],r=e[1],n=e[2],o=e[3],s=t[0],a=t[1],l=t[2],c=t[3];return Math.abs(i-s)<=sh.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(r-a)<=sh.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-l)<=sh.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(o-c)<=sh.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))},nh.forEach=nh.sqrLen=nh.len=nh.sqrDist=nh.dist=nh.div=nh.mul=nh.sub=void 0;var sh=function(e,t){if(e&&e.__esModule)return e;if(null===e||\"object\"!==oh(e)&&\"function\"!=typeof e)return {default:e};var i=ah(void 0);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(\"default\"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o];}return r.default=e,i&&i.set(e,r),r}(lc);function ah(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return (ah=function(e){return e?i:t})(e)}function lh(){var e=new sh.ARRAY_TYPE(4);return sh.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function ch(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e}function hh(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e[3]=t[3]*i[3],e}function uh(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],e[3]=t[3]/i[3],e}function dh(e,t){return Math.hypot(t[0]-e[0],t[1]-e[1],t[2]-e[2],t[3]-e[3])}function ph(e,t){var i=t[0]-e[0],r=t[1]-e[1],n=t[2]-e[2],o=t[3]-e[3];return i*i+r*r+n*n+o*o}function fh(e){return Math.hypot(e[0],e[1],e[2],e[3])}function mh(e){var t=e[0],i=e[1],r=e[2],n=e[3];return t*t+i*i+r*r+n*n}nh.sub=ch,nh.mul=hh,nh.div=uh,nh.dist=dh,nh.sqrDist=ph,nh.len=fh,nh.sqrLen=mh;var _h=function(){var e=lh();return function(t,i,r,n,o,s){var a,l;for(i||(i=4),r||(r=0),l=n?Math.min(n*i+r,t.length):t.length,a=r;a<l;a+=i)e[0]=t[a],e[1]=t[a+1],e[2]=t[a+2],e[3]=t[a+3],o(e,e,s),t[a]=e[0],t[a+1]=e[1],t[a+2]=e[2],t[a+3]=e[3];return t}}();function gh(e){return gh=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},gh(e)}nh.forEach=_h,Object.defineProperty(jc,\"__esModule\",{value:!0}),jc.create=Eh,jc.identity=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},jc.setAxisAngle=Mh,jc.getAxisAngle=function(e,t){var i=2*Math.acos(t[3]),r=Math.sin(i/2);return r>yh.EPSILON?(e[0]=t[0]/r,e[1]=t[1]/r,e[2]=t[2]/r):(e[0]=1,e[1]=0,e[2]=0),i},jc.getAngle=function(e,t){var i=Dh(e,t);return Math.acos(2*i*i-1)},jc.multiply=Ah,jc.rotateX=function(e,t,i){i*=.5;var r=t[0],n=t[1],o=t[2],s=t[3],a=Math.sin(i),l=Math.cos(i);return e[0]=r*l+s*a,e[1]=n*l+o*a,e[2]=o*l-n*a,e[3]=s*l-r*a,e},jc.rotateY=function(e,t,i){i*=.5;var r=t[0],n=t[1],o=t[2],s=t[3],a=Math.sin(i),l=Math.cos(i);return e[0]=r*l-o*a,e[1]=n*l+s*a,e[2]=o*l+r*a,e[3]=s*l-n*a,e},jc.rotateZ=function(e,t,i){i*=.5;var r=t[0],n=t[1],o=t[2],s=t[3],a=Math.sin(i),l=Math.cos(i);return e[0]=r*l+n*a,e[1]=n*l-r*a,e[2]=o*l+s*a,e[3]=s*l-o*a,e},jc.calculateW=function(e,t){var i=t[0],r=t[1],n=t[2];return e[0]=i,e[1]=r,e[2]=n,e[3]=Math.sqrt(Math.abs(1-i*i-r*r-n*n)),e},jc.exp=Sh,jc.ln=Ih,jc.pow=function(e,t,i){return Ih(e,t),Ph(e,e,i),Sh(e,e),e},jc.slerp=Ch,jc.random=function(e){var t=yh.RANDOM(),i=yh.RANDOM(),r=yh.RANDOM(),n=Math.sqrt(1-t),o=Math.sqrt(t);return e[0]=n*Math.sin(2*Math.PI*i),e[1]=n*Math.cos(2*Math.PI*i),e[2]=o*Math.sin(2*Math.PI*r),e[3]=o*Math.cos(2*Math.PI*r),e},jc.invert=function(e,t){var i=t[0],r=t[1],n=t[2],o=t[3],s=i*i+r*r+n*n+o*o,a=s?1/s:0;return e[0]=-i*a,e[1]=-r*a,e[2]=-n*a,e[3]=o*a,e},jc.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},jc.fromMat3=zh,jc.fromEuler=function(e,t,i,r){var n=.5*Math.PI/180;t*=n,i*=n,r*=n;var o=Math.sin(t),s=Math.cos(t),a=Math.sin(i),l=Math.cos(i),c=Math.sin(r),h=Math.cos(r);return e[0]=o*l*h-s*a*c,e[1]=s*a*h+o*l*c,e[2]=s*l*c-o*a*h,e[3]=s*l*h+o*a*c,e},jc.str=function(e){return \"quat(\"+e[0]+\", \"+e[1]+\", \"+e[2]+\", \"+e[3]+\")\"},jc.setAxes=jc.sqlerp=jc.rotationTo=jc.equals=jc.exactEquals=jc.normalize=jc.sqrLen=jc.squaredLength=jc.len=jc.length=jc.lerp=jc.dot=jc.scale=jc.mul=jc.add=jc.set=jc.copy=jc.fromValues=jc.clone=void 0;var yh=Th(lc),xh=Th(Mc),vh=Th(Gc),bh=Th(nh);function wh(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return (wh=function(e){return e?i:t})(e)}function Th(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!==gh(e)&&\"function\"!=typeof e)return {default:e};var i=wh(t);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(\"default\"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o];}return r.default=e,i&&i.set(e,r),r}function Eh(){var e=new yh.ARRAY_TYPE(4);return yh.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function Mh(e,t,i){i*=.5;var r=Math.sin(i);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(i),e}function Ah(e,t,i){var r=t[0],n=t[1],o=t[2],s=t[3],a=i[0],l=i[1],c=i[2],h=i[3];return e[0]=r*h+s*a+n*c-o*l,e[1]=n*h+s*l+o*a-r*c,e[2]=o*h+s*c+r*l-n*a,e[3]=s*h-r*a-n*l-o*c,e}function Sh(e,t){var i=t[0],r=t[1],n=t[2],o=t[3],s=Math.sqrt(i*i+r*r+n*n),a=Math.exp(o),l=s>0?a*Math.sin(s)/s:0;return e[0]=i*l,e[1]=r*l,e[2]=n*l,e[3]=a*Math.cos(s),e}function Ih(e,t){var i=t[0],r=t[1],n=t[2],o=t[3],s=Math.sqrt(i*i+r*r+n*n),a=s>0?Math.atan2(s,o)/s:0;return e[0]=i*a,e[1]=r*a,e[2]=n*a,e[3]=.5*Math.log(i*i+r*r+n*n+o*o),e}function Ch(e,t,i,r){var n,o,s,a,l,c=t[0],h=t[1],u=t[2],d=t[3],p=i[0],f=i[1],m=i[2],_=i[3];return (o=c*p+h*f+u*m+d*_)<0&&(o=-o,p=-p,f=-f,m=-m,_=-_),1-o>yh.EPSILON?(n=Math.acos(o),s=Math.sin(n),a=Math.sin((1-r)*n)/s,l=Math.sin(r*n)/s):(a=1-r,l=r),e[0]=a*c+l*p,e[1]=a*h+l*f,e[2]=a*u+l*m,e[3]=a*d+l*_,e}function zh(e,t){var i,r=t[0]+t[4]+t[8];if(r>0)i=Math.sqrt(r+1),e[3]=.5*i,e[0]=(t[5]-t[7])*(i=.5/i),e[1]=(t[6]-t[2])*i,e[2]=(t[1]-t[3])*i;else {var n=0;t[4]>t[0]&&(n=1),t[8]>t[3*n+n]&&(n=2);var o=(n+1)%3,s=(n+2)%3;i=Math.sqrt(t[3*n+n]-t[3*o+o]-t[3*s+s]+1),e[n]=.5*i,e[3]=(t[3*o+s]-t[3*s+o])*(i=.5/i),e[o]=(t[3*o+n]+t[3*n+o])*i,e[s]=(t[3*s+n]+t[3*n+s])*i;}return e}jc.clone=bh.clone,jc.fromValues=bh.fromValues,jc.copy=bh.copy,jc.set=bh.set,jc.add=bh.add,jc.mul=Ah;var Ph=bh.scale;jc.scale=Ph;var Dh=bh.dot;jc.dot=Dh,jc.lerp=bh.lerp;var Rh=bh.length;jc.length=Rh,jc.len=Rh;var Lh=bh.squaredLength;jc.squaredLength=Lh,jc.sqrLen=Lh;var kh=bh.normalize;jc.normalize=kh,jc.exactEquals=bh.exactEquals,jc.equals=bh.equals;var Oh,Bh,Fh,Nh=(Oh=vh.create(),Bh=vh.fromValues(1,0,0),Fh=vh.fromValues(0,1,0),function(e,t,i){var r=vh.dot(t,i);return r<-.999999?(vh.cross(Oh,Bh,t),vh.len(Oh)<1e-6&&vh.cross(Oh,Fh,t),vh.normalize(Oh,Oh),Mh(e,Oh,Math.PI),e):r>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(vh.cross(Oh,t,i),e[0]=Oh[0],e[1]=Oh[1],e[2]=Oh[2],e[3]=1+r,kh(e,e))});jc.rotationTo=Nh;var Uh,Vh,jh=(Uh=Eh(),Vh=Eh(),function(e,t,i,r,n,o){return Ch(Uh,t,n,o),Ch(Vh,i,r,o),Ch(e,Uh,Vh,2*o*(1-o)),e});jc.sqlerp=jh;var Gh,qh=(Gh=xh.create(),function(e,t,i,r){return Gh[0]=i[0],Gh[3]=i[1],Gh[6]=i[2],Gh[1]=r[0],Gh[4]=r[1],Gh[7]=r[2],Gh[2]=-t[0],Gh[5]=-t[1],Gh[8]=-t[2],kh(e,zh(e,Gh))});jc.setAxes=qh;var Zh={};function $h(e){return $h=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},$h(e)}Object.defineProperty(Zh,\"__esModule\",{value:!0}),Zh.create=function(){var e=new Wh.ARRAY_TYPE(8);return Wh.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0),e[3]=1,e},Zh.clone=function(e){var t=new Wh.ARRAY_TYPE(8);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t},Zh.fromValues=function(e,t,i,r,n,o,s,a){var l=new Wh.ARRAY_TYPE(8);return l[0]=e,l[1]=t,l[2]=i,l[3]=r,l[4]=n,l[5]=o,l[6]=s,l[7]=a,l},Zh.fromRotationTranslationValues=function(e,t,i,r,n,o,s){var a=new Wh.ARRAY_TYPE(8);a[0]=e,a[1]=t,a[2]=i,a[3]=r;var l=.5*n,c=.5*o,h=.5*s;return a[4]=l*r+c*i-h*t,a[5]=c*r+h*e-l*i,a[6]=h*r+l*t-c*e,a[7]=-l*e-c*t-h*i,a},Zh.fromRotationTranslation=Jh,Zh.fromTranslation=function(e,t){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=.5*t[0],e[5]=.5*t[1],e[6]=.5*t[2],e[7]=0,e},Zh.fromRotation=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=0,e[5]=0,e[6]=0,e[7]=0,e},Zh.fromMat4=function(e,t){var i=Hh.create();Xh.getRotation(i,t);var r=new Wh.ARRAY_TYPE(3);return Xh.getTranslation(r,t),Jh(e,i,r),e},Zh.copy=Qh,Zh.identity=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e},Zh.set=function(e,t,i,r,n,o,s,a,l){return e[0]=t,e[1]=i,e[2]=r,e[3]=n,e[4]=o,e[5]=s,e[6]=a,e[7]=l,e},Zh.getDual=function(e,t){return e[0]=t[4],e[1]=t[5],e[2]=t[6],e[3]=t[7],e},Zh.setDual=function(e,t){return e[4]=t[0],e[5]=t[1],e[6]=t[2],e[7]=t[3],e},Zh.getTranslation=function(e,t){var i=t[4],r=t[5],n=t[6],o=t[7],s=-t[0],a=-t[1],l=-t[2],c=t[3];return e[0]=2*(i*c+o*s+r*l-n*a),e[1]=2*(r*c+o*a+n*s-i*l),e[2]=2*(n*c+o*l+i*a-r*s),e},Zh.translate=function(e,t,i){var r=t[0],n=t[1],o=t[2],s=t[3],a=.5*i[0],l=.5*i[1],c=.5*i[2],h=t[4],u=t[5],d=t[6],p=t[7];return e[0]=r,e[1]=n,e[2]=o,e[3]=s,e[4]=s*a+n*c-o*l+h,e[5]=s*l+o*a-r*c+u,e[6]=s*c+r*l-n*a+d,e[7]=-r*a-n*l-o*c+p,e},Zh.rotateX=function(e,t,i){var r=-t[0],n=-t[1],o=-t[2],s=t[3],a=t[4],l=t[5],c=t[6],h=t[7],u=a*s+h*r+l*o-c*n,d=l*s+h*n+c*r-a*o,p=c*s+h*o+a*n-l*r,f=h*s-a*r-l*n-c*o;return Hh.rotateX(e,t,i),e[4]=u*(s=e[3])+f*(r=e[0])+d*(o=e[2])-p*(n=e[1]),e[5]=d*s+f*n+p*r-u*o,e[6]=p*s+f*o+u*n-d*r,e[7]=f*s-u*r-d*n-p*o,e},Zh.rotateY=function(e,t,i){var r=-t[0],n=-t[1],o=-t[2],s=t[3],a=t[4],l=t[5],c=t[6],h=t[7],u=a*s+h*r+l*o-c*n,d=l*s+h*n+c*r-a*o,p=c*s+h*o+a*n-l*r,f=h*s-a*r-l*n-c*o;return Hh.rotateY(e,t,i),e[4]=u*(s=e[3])+f*(r=e[0])+d*(o=e[2])-p*(n=e[1]),e[5]=d*s+f*n+p*r-u*o,e[6]=p*s+f*o+u*n-d*r,e[7]=f*s-u*r-d*n-p*o,e},Zh.rotateZ=function(e,t,i){var r=-t[0],n=-t[1],o=-t[2],s=t[3],a=t[4],l=t[5],c=t[6],h=t[7],u=a*s+h*r+l*o-c*n,d=l*s+h*n+c*r-a*o,p=c*s+h*o+a*n-l*r,f=h*s-a*r-l*n-c*o;return Hh.rotateZ(e,t,i),e[4]=u*(s=e[3])+f*(r=e[0])+d*(o=e[2])-p*(n=e[1]),e[5]=d*s+f*n+p*r-u*o,e[6]=p*s+f*o+u*n-d*r,e[7]=f*s-u*r-d*n-p*o,e},Zh.rotateByQuatAppend=function(e,t,i){var r=i[0],n=i[1],o=i[2],s=i[3],a=t[0],l=t[1],c=t[2],h=t[3];return e[0]=a*s+h*r+l*o-c*n,e[1]=l*s+h*n+c*r-a*o,e[2]=c*s+h*o+a*n-l*r,e[3]=h*s-a*r-l*n-c*o,e[4]=(a=t[4])*s+(h=t[7])*r+(l=t[5])*o-(c=t[6])*n,e[5]=l*s+h*n+c*r-a*o,e[6]=c*s+h*o+a*n-l*r,e[7]=h*s-a*r-l*n-c*o,e},Zh.rotateByQuatPrepend=function(e,t,i){var r=t[0],n=t[1],o=t[2],s=t[3],a=i[0],l=i[1],c=i[2],h=i[3];return e[0]=r*h+s*a+n*c-o*l,e[1]=n*h+s*l+o*a-r*c,e[2]=o*h+s*c+r*l-n*a,e[3]=s*h-r*a-n*l-o*c,e[4]=r*(h=i[7])+s*(a=i[4])+n*(c=i[6])-o*(l=i[5]),e[5]=n*h+s*l+o*a-r*c,e[6]=o*h+s*c+r*l-n*a,e[7]=s*h-r*a-n*l-o*c,e},Zh.rotateAroundAxis=function(e,t,i,r){if(Math.abs(r)<Wh.EPSILON)return Qh(e,t);var n=Math.hypot(i[0],i[1],i[2]);r*=.5;var o=Math.sin(r),s=o*i[0]/n,a=o*i[1]/n,l=o*i[2]/n,c=Math.cos(r),h=t[0],u=t[1],d=t[2],p=t[3];e[0]=h*c+p*s+u*l-d*a,e[1]=u*c+p*a+d*s-h*l,e[2]=d*c+p*l+h*a-u*s,e[3]=p*c-h*s-u*a-d*l;var f=t[4],m=t[5],_=t[6],g=t[7];return e[4]=f*c+g*s+m*l-_*a,e[5]=m*c+g*a+_*s-f*l,e[6]=_*c+g*l+f*a-m*s,e[7]=g*c-f*s-m*a-_*l,e},Zh.add=function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e},Zh.multiply=eu,Zh.scale=function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e},Zh.lerp=function(e,t,i,r){var n=1-r;return tu(t,i)<0&&(r=-r),e[0]=t[0]*n+i[0]*r,e[1]=t[1]*n+i[1]*r,e[2]=t[2]*n+i[2]*r,e[3]=t[3]*n+i[3]*r,e[4]=t[4]*n+i[4]*r,e[5]=t[5]*n+i[5]*r,e[6]=t[6]*n+i[6]*r,e[7]=t[7]*n+i[7]*r,e},Zh.invert=function(e,t){var i=ru(t);return e[0]=-t[0]/i,e[1]=-t[1]/i,e[2]=-t[2]/i,e[3]=t[3]/i,e[4]=-t[4]/i,e[5]=-t[5]/i,e[6]=-t[6]/i,e[7]=t[7]/i,e},Zh.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=t[7],e},Zh.normalize=function(e,t){var i=ru(t);if(i>0){i=Math.sqrt(i);var r=t[0]/i,n=t[1]/i,o=t[2]/i,s=t[3]/i,a=t[4],l=t[5],c=t[6],h=t[7],u=r*a+n*l+o*c+s*h;e[0]=r,e[1]=n,e[2]=o,e[3]=s,e[4]=(a-r*u)/i,e[5]=(l-n*u)/i,e[6]=(c-o*u)/i,e[7]=(h-s*u)/i;}return e},Zh.str=function(e){return \"quat2(\"+e[0]+\", \"+e[1]+\", \"+e[2]+\", \"+e[3]+\", \"+e[4]+\", \"+e[5]+\", \"+e[6]+\", \"+e[7]+\")\"},Zh.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]},Zh.equals=function(e,t){var i=e[0],r=e[1],n=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],h=t[0],u=t[1],d=t[2],p=t[3],f=t[4],m=t[5],_=t[6],g=t[7];return Math.abs(i-h)<=Wh.EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(r-u)<=Wh.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(n-d)<=Wh.EPSILON*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(o-p)<=Wh.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(s-f)<=Wh.EPSILON*Math.max(1,Math.abs(s),Math.abs(f))&&Math.abs(a-m)<=Wh.EPSILON*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(l-_)<=Wh.EPSILON*Math.max(1,Math.abs(l),Math.abs(_))&&Math.abs(c-g)<=Wh.EPSILON*Math.max(1,Math.abs(c),Math.abs(g))},Zh.sqrLen=Zh.squaredLength=Zh.len=Zh.length=Zh.dot=Zh.mul=Zh.setReal=Zh.getReal=void 0;var Wh=Kh(lc),Hh=Kh(jc),Xh=Kh(Pc);function Yh(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return (Yh=function(e){return e?i:t})(e)}function Kh(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!==$h(e)&&\"function\"!=typeof e)return {default:e};var i=Yh(t);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(\"default\"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o];}return r.default=e,i&&i.set(e,r),r}function Jh(e,t,i){var r=.5*i[0],n=.5*i[1],o=.5*i[2],s=t[0],a=t[1],l=t[2],c=t[3];return e[0]=s,e[1]=a,e[2]=l,e[3]=c,e[4]=r*c+n*l-o*a,e[5]=n*c+o*s-r*l,e[6]=o*c+r*a-n*s,e[7]=-r*s-n*a-o*l,e}function Qh(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function eu(e,t,i){var r=t[0],n=t[1],o=t[2],s=t[3],a=i[4],l=i[5],c=i[6],h=i[7],u=t[4],d=t[5],p=t[6],f=t[7],m=i[0],_=i[1],g=i[2],y=i[3];return e[0]=r*y+s*m+n*g-o*_,e[1]=n*y+s*_+o*m-r*g,e[2]=o*y+s*g+r*_-n*m,e[3]=s*y-r*m-n*_-o*g,e[4]=r*h+s*a+n*c-o*l+u*y+f*m+d*g-p*_,e[5]=n*h+s*l+o*a-r*c+d*y+f*_+p*m-u*g,e[6]=o*h+s*c+r*l-n*a+p*y+f*g+u*_-d*m,e[7]=s*h-r*a-n*l-o*c+f*y-u*m-d*_-p*g,e}Zh.getReal=Hh.copy,Zh.setReal=Hh.copy,Zh.mul=eu;var tu=Hh.dot;Zh.dot=tu;var iu=Hh.length;Zh.length=iu,Zh.len=iu;var ru=Hh.squaredLength;Zh.squaredLength=ru,Zh.sqrLen=ru;var nu={};function ou(e){return ou=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},ou(e)}Object.defineProperty(nu,\"__esModule\",{value:!0}),nu.create=lu,nu.clone=function(e){var t=new su.ARRAY_TYPE(2);return t[0]=e[0],t[1]=e[1],t},nu.fromValues=function(e,t){var i=new su.ARRAY_TYPE(2);return i[0]=e,i[1]=t,i},nu.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e},nu.set=function(e,t,i){return e[0]=t,e[1]=i,e},nu.add=function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e},nu.subtract=cu,nu.multiply=hu,nu.divide=uu,nu.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e},nu.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e},nu.min=function(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e},nu.max=function(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e},nu.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e},nu.scale=function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e},nu.scaleAndAdd=function(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e},nu.distance=du,nu.squaredDistance=pu,nu.length=fu,nu.squaredLength=mu,nu.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e},nu.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},nu.normalize=function(e,t){var i=t[0],r=t[1],n=i*i+r*r;return n>0&&(n=1/Math.sqrt(n)),e[0]=t[0]*n,e[1]=t[1]*n,e},nu.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},nu.cross=function(e,t,i){var r=t[0]*i[1]-t[1]*i[0];return e[0]=e[1]=0,e[2]=r,e},nu.lerp=function(e,t,i,r){var n=t[0],o=t[1];return e[0]=n+r*(i[0]-n),e[1]=o+r*(i[1]-o),e},nu.random=function(e,t){t=t||1;var i=2*su.RANDOM()*Math.PI;return e[0]=Math.cos(i)*t,e[1]=Math.sin(i)*t,e},nu.transformMat2=function(e,t,i){var r=t[0],n=t[1];return e[0]=i[0]*r+i[2]*n,e[1]=i[1]*r+i[3]*n,e},nu.transformMat2d=function(e,t,i){var r=t[0],n=t[1];return e[0]=i[0]*r+i[2]*n+i[4],e[1]=i[1]*r+i[3]*n+i[5],e},nu.transformMat3=function(e,t,i){var r=t[0],n=t[1];return e[0]=i[0]*r+i[3]*n+i[6],e[1]=i[1]*r+i[4]*n+i[7],e},nu.transformMat4=function(e,t,i){var r=t[0],n=t[1];return e[0]=i[0]*r+i[4]*n+i[12],e[1]=i[1]*r+i[5]*n+i[13],e},nu.rotate=function(e,t,i,r){var n=t[0]-i[0],o=t[1]-i[1],s=Math.sin(r),a=Math.cos(r);return e[0]=n*a-o*s+i[0],e[1]=n*s+o*a+i[1],e},nu.angle=function(e,t){var i=e[0],r=e[1],n=t[0],o=t[1],s=Math.sqrt(i*i+r*r)*Math.sqrt(n*n+o*o);return Math.acos(Math.min(Math.max(s&&(i*n+r*o)/s,-1),1))},nu.zero=function(e){return e[0]=0,e[1]=0,e},nu.str=function(e){return \"vec2(\"+e[0]+\", \"+e[1]+\")\"},nu.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]},nu.equals=function(e,t){var i=e[0],r=e[1],n=t[0],o=t[1];return Math.abs(i-n)<=su.EPSILON*Math.max(1,Math.abs(i),Math.abs(n))&&Math.abs(r-o)<=su.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))},nu.forEach=nu.sqrLen=nu.sqrDist=nu.dist=nu.div=nu.mul=nu.sub=nu.len=void 0;var su=function(e,t){if(e&&e.__esModule)return e;if(null===e||\"object\"!==ou(e)&&\"function\"!=typeof e)return {default:e};var i=au(void 0);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(\"default\"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o];}return r.default=e,i&&i.set(e,r),r}(lc);function au(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return (au=function(e){return e?i:t})(e)}function lu(){var e=new su.ARRAY_TYPE(2);return su.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0),e}function cu(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e}function hu(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e}function uu(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e}function du(e,t){return Math.hypot(t[0]-e[0],t[1]-e[1])}function pu(e,t){var i=t[0]-e[0],r=t[1]-e[1];return i*i+r*r}function fu(e){return Math.hypot(e[0],e[1])}function mu(e){var t=e[0],i=e[1];return t*t+i*i}nu.len=fu,nu.sub=cu,nu.mul=hu,nu.div=uu,nu.dist=du,nu.sqrDist=pu,nu.sqrLen=mu;var _u=function(){var e=lu();return function(t,i,r,n,o,s){var a,l;for(i||(i=2),r||(r=0),l=n?Math.min(n*i+r,t.length):t.length,a=r;a<l;a+=i)e[0]=t[a],e[1]=t[a+1],o(e,e,s),t[a]=e[0],t[a+1]=e[1];return t}}();function gu(e){return gu=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},gu(e)}nu.forEach=_u,Object.defineProperty(ac,\"__esModule\",{value:!0});var yu=ac.vec4=Du=ac.vec3=ac.vec2=ac.quat2=Iu=ac.quat=Au=ac.mat4=Eu=ac.mat3=ac.mat2d=bu=ac.mat2=ac.glMatrix=void 0,xu=ku(lc);ac.glMatrix=xu;var vu=ku(pc),bu=ac.mat2=vu,wu=ku(xc);ac.mat2d=wu;var Tu=ku(Mc),Eu=ac.mat3=Tu,Mu=ku(Pc),Au=ac.mat4=Mu,Su=ku(jc),Iu=ac.quat=Su,Cu=ku(Zh);ac.quat2=Cu;var zu=ku(nu);ac.vec2=zu;var Pu=ku(Gc),Du=ac.vec3=Pu,Ru=ku(nh);function Lu(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return (Lu=function(e){return e?i:t})(e)}function ku(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!==gu(e)&&\"function\"!=typeof e)return {default:e};var i=Lu(t);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(\"default\"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o];}return r.default=e,i&&i.set(e,r),r}yu=ac.vec4=Ru;const Ou=Ia([{type:\"Float32\",name:\"a_globe_pos\",components:3},{type:\"Float32\",name:\"a_uv\",components:2}]),{members:Bu}=Ou,Fu=Ia([{name:\"a_pos_3\",components:3,type:\"Int16\"}]);var Nu=Ia([{name:\"a_pos\",type:\"Int16\",components:2}]),Uu={};!function(e,t){!function(e){function t(e,t,r){var n=i(256*e,256*(t=Math.pow(2,r)-t-1),r),o=i(256*(e+1),256*(t+1),r);return n[0]+\",\"+n[1]+\",\"+o[0]+\",\"+o[1]}function i(e,t,i){var r=2*Math.PI*6378137/256/Math.pow(2,i);return [e*r-2*Math.PI*6378137/2,t*r-2*Math.PI*6378137/2]}e.getURL=function(e,i,r,n,o,s){return s=s||{},e+\"?\"+[\"bbox=\"+t(r,n,o),\"format=\"+(s.format||\"image/png\"),\"service=\"+(s.service||\"WMS\"),\"version=\"+(s.version||\"1.1.1\"),\"request=\"+(s.request||\"GetMap\"),\"srs=\"+(s.srs||\"EPSG:3857\"),\"width=\"+(s.width||256),\"height=\"+(s.height||256),\"layers=\"+i].join(\"&\")},e.getTileBBox=t,e.getMercCoords=i,Object.defineProperty(e,\"__esModule\",{value:!0});}(t);}(0,Uu);var Vu=Uu;class ju{constructor(e,t,i){this.z=e,this.x=t,this.y=i,this.key=Zu(0,e,e,t,i);}equals(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}url(e,t){const i=Vu.getTileBBox(this.x,this.y,this.z),r=function(e,t,i){let r,n=\"\";for(let o=e;o>0;o--)r=1<<o-1,n+=(t&r?1:0)+(i&r?2:0);return n}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace(\"{prefix}\",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(\"tms\"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace(\"{quadkey}\",r).replace(\"{bbox-epsg-3857}\",i)}toString(){return `${this.z}/${this.x}/${this.y}`}}class Gu{constructor(e,t){this.wrap=e,this.canonical=t,this.key=Zu(e,t.z,t.z,t.x,t.y);}}class qu{constructor(e,t,i,r,n){this.overscaledZ=e,this.wrap=t,this.canonical=new ju(i,+r,+n),this.key=0===t&&e===i?this.canonical.key:Zu(t,e,i,r,n);}equals(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}scaledTo(e){const t=this.canonical.z-e;return e>this.canonical.z?new qu(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new qu(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)}calculateScaledKey(e,t=!0){if(this.overscaledZ===e&&t)return this.key;if(e>this.canonical.z)return Zu(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y);{const i=this.canonical.z-e;return Zu(this.wrap*+t,e,e,this.canonical.x>>i,this.canonical.y>>i)}}isChildOf(e){if(e.wrap!==this.wrap)return !1;const t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.z<this.canonical.z&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t}children(e){if(this.overscaledZ>=e)return [new qu(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const t=this.canonical.z+1,i=2*this.canonical.x,r=2*this.canonical.y;return [new qu(t,this.wrap,t,i,r),new qu(t,this.wrap,t,i+1,r),new qu(t,this.wrap,t,i,r+1),new qu(t,this.wrap,t,i+1,r+1)]}isLessThan(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}wrapped(){return new qu(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(e){return new qu(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Gu(this.wrap,this.canonical)}toString(){return `${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function Zu(e,t,i,r,n){const o=1<<Math.min(i,22);let s=o*(n%o)+r%o;return e&&i<22&&(s+=o*o*((e<0?-2*e-1:2*e)%(1<<2*(22-i)))),16*(32*s+i)+(t-i)}const $u=[e=>{let t=e.canonical.x-1,i=e.wrap;return t<0&&(t=(1<<e.canonical.z)-1,i--),new qu(e.overscaledZ,i,e.canonical.z,t,e.canonical.y)},e=>{let t=e.canonical.x+1,i=e.wrap;return t===1<<e.canonical.z&&(t=0,i++),new qu(e.overscaledZ,i,e.canonical.z,t,e.canonical.y)},e=>new qu(e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,(0===e.canonical.y?1<<e.canonical.z:e.canonical.y)-1),e=>new qu(e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y===(1<<e.canonical.z)-1?0:e.canonical.y+1)];Rs(ju,\"CanonicalTileID\"),Rs(qu,\"OverscaledTileID\",{omit:[\"projMatrix\",\"expandedProjMatrix\"]});class Wu{constructor(e,t){this.pos=e,this.dir=t;}intersectsPlane(e,t,i){const r=Du.dot(t,this.dir);if(Math.abs(r)<1e-6)return !1;const n=((e[0]-this.pos[0])*t[0]+(e[1]-this.pos[1])*t[1]+(e[2]-this.pos[2])*t[2])/r;return i[0]=this.pos[0]+this.dir[0]*n,i[1]=this.pos[1]+this.dir[1]*n,i[2]=this.pos[2]+this.dir[2]*n,!0}closestPointOnSphere(e,t,i){if(Du.equals(this.pos,e)||0===t)return i[0]=i[1]=i[2]=0,!1;const[r,n,o]=this.dir,s=this.pos[0]-e[0],a=this.pos[1]-e[1],l=this.pos[2]-e[2],c=r*r+n*n+o*o,h=2*(s*r+a*n+l*o),u=h*h-4*c*(s*s+a*a+l*l-t*t);if(u<0){const e=Math.max(-h/2,0),c=s+r*e,u=a+n*e,d=l+o*e,p=Math.hypot(c,u,d);return i[0]=c*t/p,i[1]=u*t/p,i[2]=d*t/p,!1}{const e=(-h-Math.sqrt(u))/(2*c);if(e<0){const e=Math.hypot(s,a,l);return i[0]=s*t/e,i[1]=a*t/e,i[2]=l*t/e,!1}return i[0]=s+r*e,i[1]=a+n*e,i[2]=l+o*e,!0}}}class Hu{constructor(e,t,i,r,n){this.TL=e,this.TR=t,this.BR=i,this.BL=r,this.horizon=n;}static fromInvProjectionMatrix(e,t,i){const r=[-1,1,1],n=[1,1,1],o=[1,-1,1],s=[-1,-1,1],a=Du.transformMat4(r,r,e),l=Du.transformMat4(n,n,e),c=Du.transformMat4(o,o,e),h=Du.transformMat4(s,s,e);return new Hu(a,l,c,h,t/i)}}function Xu(e,t,i){let r=1/0,n=-1/0;const o=[];for(const s of e){Du.sub(o,s,t);const e=Du.dot(o,i);r=Math.min(r,e),n=Math.max(n,e);}return [r,n]}function Yu(e,t){let i=!0;for(let r=0;r<e.planes.length;r++){const n=e.planes[r];let o=0;for(let e=0;e<t.length;e++)o+=Du.dot(n,t[e])+n[3]>=0;if(0===o)return 0;o!==t.length&&(i=!1);}return i?2:1}function Ku(e,t){for(const i of e.projections){const r=Xu(t,e.points[0],i.axis);if(i.projection[1]<r[0]||i.projection[0]>r[1])return 0}return 1}function Ju(e,t){let i=0;const r=[0,0,0,0];for(let n=0;n<e.length;n++)r[0]=e[n][0],r[1]=e[n][1],r[2]=e[n][2],r[3]=1,yu.dot(r,t)>=0&&i++;return i}class Qu{constructor(e,t){this.points=e||new Array(8).fill([0,0,0]),this.planes=t||new Array(6).fill([0,0,0,0]),this.bounds=ed.fromPoints(this.points),this.projections=[],this.frustumEdges=[Du.sub([],this.points[2],this.points[3]),Du.sub([],this.points[0],this.points[3]),Du.sub([],this.points[4],this.points[0]),Du.sub([],this.points[5],this.points[1]),Du.sub([],this.points[6],this.points[2]),Du.sub([],this.points[7],this.points[3])];for(const e of this.frustumEdges){const t=[0,-e[2],e[1]],i=[e[2],0,-e[0]];this.projections.push({axis:t,projection:Xu(this.points,this.points[0],t)}),this.projections.push({axis:i,projection:Xu(this.points,this.points[0],i)});}}static fromInvProjectionMatrix(e,t,i,r){const n=Math.pow(2,i),o=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((i=>{const o=yu.transformMat4([],i,e),s=1/o[3]/t*n;return yu.mul(o,o,[s,s,r?1/o[3]:s,s])})),s=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((e=>{const t=Du.sub([],o[e[0]],o[e[1]]),i=Du.sub([],o[e[2]],o[e[1]]),r=Du.normalize([],Du.cross([],t,i)),n=-Du.dot(r,o[e[1]]);return r.concat(n)})),a=[];for(let e=0;e<o.length;e++)a.push([o[e][0],o[e][1],o[e][2]]);return new Qu(a,s)}intersectsPrecise(e,t,i){for(let i=0;i<t.length;i++)if(!Ju(e,t[i]))return 0;for(let t=0;t<this.planes.length;t++)if(!Ju(e,this.planes[t]))return 0;for(const t of i)for(const i of this.frustumEdges){const r=Du.cross([],t,i),n=Du.length(r);if(0===n)continue;Du.scale(r,r,1/n);const o=Xu(this.points,this.points[0],r),s=Xu(e,this.points[0],r);if(o[0]>s[1]||s[0]>o[1])return 0}return 1}}class ed{static fromPoints(e){const t=[1/0,1/0,1/0],i=[-1/0,-1/0,-1/0];for(const r of e)Du.min(t,t,r),Du.max(i,i,r);return new ed(t,i)}static fromTileIdAndHeight(e,t,i){const r=1<<e.canonical.z,n=e.canonical.x,o=e.canonical.y;return new ed([n/r,o/r,t],[(n+1)/r,(o+1)/r,i])}static applyTransform(e,t){const i=e.getCorners();for(let e=0;e<i.length;++e)Du.transformMat4(i[e],i[e],t);return ed.fromPoints(i)}static projectAabbCorners(e,t){const i=e.getCorners();for(let e=0;e<i.length;++e)Du.transformMat4(i[e],i[e],t);return i}constructor(e,t){this.min=e,this.max=t,this.center=Du.scale([],Du.add([],this.min,this.max),.5);}quadrant(e){const t=[e%2==0,e<2],i=Du.clone(this.min),r=Du.clone(this.max);for(let e=0;e<t.length;e++)i[e]=t[e]?this.min[e]:this.center[e],r[e]=t[e]?this.center[e]:this.max[e];return r[2]=this.max[2],new ed(i,r)}distanceX(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}distanceY(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}distanceZ(e){return Math.max(Math.min(this.max[2],e[2]),this.min[2])-e[2]}getCorners(){const e=this.min,t=this.max;return [[e[0],e[1],e[2]],[t[0],e[1],e[2]],[t[0],t[1],e[2]],[e[0],t[1],e[2]],[e[0],e[1],t[2]],[t[0],e[1],t[2]],[t[0],t[1],t[2]],[e[0],t[1],t[2]]]}intersects(e){return this.intersectsAabb(e.bounds)?Yu(e,this.getCorners()):0}intersectsFlat(e){return this.intersectsAabb(e.bounds)?Yu(e,[[this.min[0],this.min[1],0],[this.max[0],this.min[1],0],[this.max[0],this.max[1],0],[this.min[0],this.max[1],0]]):0}intersectsPrecise(e,t){return t||this.intersects(e)?Ku(e,this.getCorners()):0}intersectsPreciseFlat(e,t){return t||this.intersectsFlat(e)?Ku(e,[[this.min[0],this.min[1],0],[this.max[0],this.min[1],0],[this.max[0],this.max[1],0],[this.min[0],this.max[1],0]]):0}intersectsAabb(e){for(let t=0;t<3;++t)if(this.min[t]>e.max[t]||e.min[t]>this.max[t])return !1;return !0}intersectsAabbXY(e){return !(this.min[0]>e.max[0]||e.min[0]>this.max[0]||this.min[1]>e.max[1]||e.min[1]>this.max[1])}encapsulate(e){for(let t=0;t<3;t++)this.min[t]=Math.min(this.min[t],e.min[t]),this.max[t]=Math.max(this.max[t],e.max[t]);}encapsulatePoint(e){for(let t=0;t<3;t++)this.min[t]=Math.min(this.min[t],e[t]),this.max[t]=Math.max(this.max[t],e[t]);}closestPoint(e){return [Math.max(Math.min(this.max[0],e[0]),this.min[0]),Math.max(Math.min(this.max[1],e[1]),this.min[1]),Math.max(Math.min(this.max[2],e[2]),this.min[2])]}}Rs(ed,\"Aabb\");const td=5,id=6,rd=cr/Math.PI/2,nd=16383,od=64,sd=[od,32,16],ad=-rd,ld=rd,cd=[new ed([ad,ad,ad],[ld,ld,ld]),new ed([ad,ad,ad],[0,0,ld]),new ed([0,ad,ad],[ld,0,ld]),new ed([ad,0,ad],[0,ld,ld]),new ed([0,0,ad],[ld,ld,ld])];function hd(e){return e*rd/qd}function ud(e,t,i,r=!0){const n=Du.scale([],e._camera.position,e.worldSize),o=[t,i,1,1];yu.transformMat4(o,o,e.pixelMatrixInverse),yu.scale(o,o,1/o[3]);const s=Du.sub([],o,n),a=Du.normalize([],s),l=e.globeMatrix,c=[l[12],l[13],l[14]],h=Du.sub([],c,n),u=Du.length(h),d=Du.normalize([],h),p=e.worldSize/(2*Math.PI),f=Du.dot(d,a),m=Math.asin(p/u);if(m<Math.acos(f)){if(!r)return null;const e=[],t=[];Du.scale(e,a,u/f),Du.normalize(t,Du.sub(t,e,h)),Du.normalize(a,Du.add(a,h,Du.scale(a,t,Math.tan(m)*u)));}const _=[];new Wu(n,a).closestPointOnSphere(c,p,_);const g=Du.normalize([],ne(l,0)),y=Du.normalize([],ne(l,1)),x=Du.normalize([],ne(l,2)),v=Du.dot(g,_),b=Du.dot(y,_),w=Du.dot(x,_),E=T(Math.asin(-b/p));let M=T(Math.atan2(v,w));M=e.center.lng+function(e,t){const i=(t-e+180)%360-180;return i<-180?i+360:i}(e.center.lng,M);const A=Kd(M),S=z(Jd(E),0,1);return new lp(A,S)}class dd{constructor(e,t,i){this.a=Du.sub([],e,i),this.b=Du.sub([],t,i),this.center=i;const r=Du.normalize([],this.a),n=Du.normalize([],this.b);this.angle=Math.acos(Du.dot(r,n));}}function pd(e,t){if(0===e.angle)return null;let i;return i=0===e.a[t]?1/e.angle*.5*Math.PI:1/e.angle*Math.atan(e.b[t]/e.a[t]/Math.sin(e.angle)-1/Math.tan(e.angle)),i<0||i>1?null:function(e,t,i,r){const n=Math.sin(i);return e*(Math.sin((1-r)*i)/n)+t*(Math.sin(r*i)/n)}(e.a[t],e.b[t],e.angle,z(i,0,1))+e.center[t]}function fd(e){if(e.z<=1)return cd[e.z+2*e.y+e.x];const t=vd(xd(e));return ed.fromPoints(t)}function md(e,t,i){return Du.scale(e,e,1-i),Du.scaleAndAdd(e,e,t,i)}function _d(e,t){const i=Dd(t.zoom);if(0===i)return fd(e);const r=xd(e),n=vd(r),o=Kd(r.getWest())*t.worldSize,s=Kd(r.getEast())*t.worldSize,a=Jd(r.getNorth())*t.worldSize,l=Jd(r.getSouth())*t.worldSize,c=[o,a,0],h=[s,a,0],u=[o,l,0],d=[s,l,0],p=Au.invert([],t.globeMatrix);return Du.transformMat4(c,c,p),Du.transformMat4(h,h,p),Du.transformMat4(u,u,p),Du.transformMat4(d,d,p),n[0]=md(n[0],u,i),n[1]=md(n[1],d,i),n[2]=md(n[2],h,i),n[3]=md(n[3],c,i),ed.fromPoints(n)}function gd(e,t,i){for(const r of e)Du.transformMat4(r,r,t),Du.scale(r,r,i);}function yd(e,t,i,r){const n=t/e.worldSize,o=e.globeMatrix;if(i.z<=1){const e=fd(i).getCorners();return gd(e,o,n),ed.fromPoints(e)}const s=xd(i,r),a=vd(s);gd(a,o,n);const l=Number.MAX_VALUE,c=[-l,-l,-l],h=[l,l,l];if(s.contains(e.center)){for(const e of a)Du.min(h,h,e),Du.max(c,c,e);c[2]=0;const t=e.point,i=[t.x*n,t.y*n,0];return Du.min(h,h,i),Du.max(c,c,i),new ed(h,c)}const u=[o[12]*n,o[13]*n,o[14]*n],d=s.getCenter(),p=z(e.center.lat,-rp,rp),f=z(d.lat,-rp,rp),m=Kd(e.center.lng),_=Jd(p);let g=m-Kd(d.lng);const y=_-Jd(f);g>.5?g-=1:g<-.5&&(g+=1);let x=0;if(Math.abs(g)>Math.abs(y))x=g>=0?1:3;else {x=y>=0?0:2;const e=[o[4]*n,o[5]*n,o[6]*n],t=-Math.sin(w(y>=0?s.getSouth():s.getNorth()))*rd;Du.scaleAndAdd(u,u,e,t);}const v=a[x],b=a[(x+1)%4],T=new dd(v,b,u),E=[pd(T,0)||v[0],pd(T,1)||v[1],pd(T,2)||v[2]],M=Dd(e.zoom);if(M>0){const r=function({x:e,y:t,z:i},r,n,o,s){const a=1/(1<<i);let l=e*a,c=l+a,h=t*a,u=h+a,d=0;const p=(l+c)/2-o;return p>.5?d=-1:p<-.5&&(d=1),l=((l+d)*r-(o*=r))*n+o,c=((c+d)*r-o)*n+o,h=(h*r-(s*=r))*n+s,u=(u*r-s)*n+s,[[l,u,0],[c,u,0],[c,h,0],[l,h,0]]}(i,t,e._pixelsPerMercatorPixel,m,_);for(let e=0;e<a.length;e++)md(a[e],r[e],M);const n=Du.add([],r[x],r[(x+1)%4]);Du.scale(n,n,.5),md(E,n,M);}for(const e of a)Du.min(h,h,e),Du.max(c,c,e);return h[2]=Math.min(v[2],b[2]),Du.min(h,h,E),Du.max(c,c,E),new ed(h,c)}function xd({x:e,y:t,z:i},r=!1){const n=1/(1<<i),o=new Wd(ep(e*n),t===(1<<i)-1&&r?-90:tp((t+1)*n)),s=new Wd(ep((e+1)*n),0===t&&r?90:tp(t*n));return new sc(o,s)}function vd(e){const t=w(e.getNorth()),i=w(e.getSouth()),r=Math.cos(t),n=Math.cos(i),o=Math.sin(t),s=Math.sin(i),a=e.getWest(),l=e.getEast();return [bd(n,s,a),bd(n,s,l),bd(r,o,l),bd(r,o,a)]}function bd(e,t,i,r=rd){return i=w(i),[e*Math.sin(i)*r,-t*r,e*Math.cos(i)*r]}function wd(e,t,i){return bd(Math.cos(w(e)),Math.sin(w(e)),t,i)}function Td(e,t,i,r){const n=1<<i.z,o=(e/cr+i.x)/n;return wd(tp((t/cr+i.y)/n),ep(o),r)}function Ed({min:e,max:t}){return nd/Math.max(t[0]-e[0],t[1]-e[1],t[2]-e[2])}const Md=new Float64Array(16);function Ad(e){const t=Ed(e),i=Au.fromScaling(Md,[t,t,t]);return Au.translate(i,i,Du.negate([],e.min))}function Sd(e){const t=Au.fromTranslation(Md,e.min),i=1/Ed(e);return Au.scale(t,t,[i,i,i])}function Id(e){const t=cr/(2*Math.PI);return e/(2*Math.PI)/t}function Cd(e,t){return cr/(512*Math.pow(2,e))*Ed(fd(t))}function zd(e,t,i,r,n){const o=Id(i),s=[e,t,-i/(2*Math.PI)],a=Au.identity(new Float64Array(16));return Au.translate(a,a,s),Au.scale(a,a,[o,o,o]),Au.rotateX(a,a,w(-n)),Au.rotateY(a,a,w(-r)),a}function Pd(e){const t=e.pixelsPerMeter,i=t/Qd(1,e.center.lat),r=Au.identity(new Float64Array(16));return Au.translate(r,r,[e.point.x,e.point.y,0]),Au.scale(r,r,[i,i,t]),Float32Array.from(r)}function Dd(e){return P(td,id,e)}function Rd(e,t,i){const r=Au.identity(new Float64Array(16)),n=(t/(1<<e)-.5)*Math.PI*2;return Au.rotateY(r,i.globeMatrix,n),Float32Array.from(r)}function Ld(e,t,i){const r=Dd(i.zoom),n=e.style.map._antialias,o=t.options.extStandardDerivativesForceOff||e.terrain&&e.terrain.exaggeration()>0;return 0===r&&!n&&!o}function kd(e,t,i,r){const n=t.getNorth(),o=t.getSouth(),s=t.getWest(),a=t.getEast(),l=1<<e.z,c=a-s,h=n-o,u=c/od,d=-h/sd[i],p=[0,u,0,d,0,0,n,s,0];if(e.z>0){const e=180/r;Eu.multiply(p,p,[e/c+1,0,0,0,e/h+1,0,-.5*e/u,.5*e/d,1]);}return p[2]=l,p[5]=e.x,p[8]=e.y,p}function Od(e){const t=rp-5;e=z(e,-t,t)/t*90;const i=Math.pow(Math.abs(Math.sin(w(e))),3);return Math.round(i*(sd.length-1))}function Bd(e){const t=[0,0,0],i=Au.identity(new Float64Array(16));return Au.multiply(i,e.pixelMatrix,e.globeMatrix),Du.transformMat4(t,t,i),new y(t[0],t[1])}function Fd(e,t){const i=wd(t.lat,t.lng),r=function(e){const t=wd(e._center.lat,e._center.lng),i=Du.fromValues(0,1,0);let r=Du.cross([],i,t);const n=Au.fromRotation([],-e.angle,t);r=Du.transformMat4(r,r,n),Au.fromRotation(n,-e._pitch,r);const o=Du.normalize([],t);return Du.scale(o,o,hd(e.cameraToCenterDistance/e.pixelsPerMeter)),Du.transformMat4(o,o,n),Du.add([],t,o)}(e),n=Du.subtract([],r,i);return Du.angle(n,i)}function Nd(e,t){return Fd(e,t)>Math.PI/2*1.01}const Ud=w(85),Vd=Math.cos(Ud),jd=Math.sin(Ud);class Gd{constructor(e){this._createGrid(e),this._createPoles(e);}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const e of this._poleSegments)e.destroy();for(const e of this._gridSegments)e.withSkirts.destroy(),e.withoutSkirts.destroy();}_fillGridMeshWithLods(e,t){const i=new za,r=new Wa,n=[],o=e+1+2,s=t[0]+1,a=t[0]+1+(1+t.length),l=(e,t,i)=>{let r=e===o-1?e-2:0===e?e:e-1;return r+=i?24575:0,[r,t]};for(let e=0;e<o;++e)i.emplaceBack(...l(e,0,!0));for(let e=0;e<s;++e)for(let t=0;t<o;++t)i.emplaceBack(...l(t,e,(0===t||t===o-1)&&!0));for(let e=0;e<t.length;++e){const r=t[e];for(let e=0;e<o;++e)i.emplaceBack(...l(e,r,!0));}for(let e=0;e<t.length;++e){const s=r.length,l=t[e]+1+2,c=new Wa;for(let i=0;i<l-1;i++){const n=i===l-2,s=n?o*(a-t.length+e-i):o;for(let e=0;e<o-1;e++){const t=i*o+e;0===i||n||0===e||e===o-2?(c.emplaceBack(t+1,t,t+s),c.emplaceBack(t+s,t+s+1,t+1)):(r.emplaceBack(t+1,t,t+s),r.emplaceBack(t+s,t+s+1,t+1));}}const h=xl.simpleSegment(0,s,i.length,r.length-s);for(let e=0;e<c.uint16.length;e+=3)r.emplaceBack(c.uint16[e],c.uint16[e+1],c.uint16[e+2]);const u=xl.simpleSegment(0,s,i.length,r.length-s);n.push({withoutSkirts:h,withSkirts:u});}return {vertices:i,indices:r,segments:n}}_createGrid(e){const t=this._fillGridMeshWithLods(od,sd);this._gridSegments=t.segments,this._gridBuffer=e.createVertexBuffer(t.vertices,Nu.members),this._gridIndexBuffer=e.createIndexBuffer(t.indices,!0);}_createPoles(e){const t=new Wa;for(let e=0;e<=od;e++)t.emplaceBack(0,e+1,e+2);this._poleIndexBuffer=e.createIndexBuffer(t,!0);const i=new Ka,r=new Ka,n=new Ka,o=new Ka;this._poleSegments=[];for(let e=0,t=0;e<td;e++){const s=360/(1<<e);i.emplaceBack(0,-rd,0,.5,0),r.emplaceBack(0,-rd,0,.5,1),n.emplaceBack(0,-rd,0,.5,.5),o.emplaceBack(0,-rd,0,.5,.5);for(let e=0;e<=od;e++){let t=e/od,a=0;const l=Kr(0,s,t),[c,h,u]=bd(Vd,jd,l,rd);i.emplaceBack(c,h,u,t,a),r.emplaceBack(c,h,u,t,1-a);const d=w(l);t=.5+.5*Math.sin(d),a=.5+.5*Math.cos(d),n.emplaceBack(c,h,u,t,a),o.emplaceBack(c,h,u,t,1-a);}this._poleSegments.push(xl.simpleSegment(t,0,66,64)),t+=66;}this._poleNorthVertexBuffer=e.createVertexBuffer(i,Bu,!1),this._poleSouthVertexBuffer=e.createVertexBuffer(r,Bu,!1),this._texturedPoleNorthVertexBuffer=e.createVertexBuffer(n,Bu,!1),this._texturedPoleSouthVertexBuffer=e.createVertexBuffer(o,Bu,!1);}getGridBuffers(e,t){return [this._gridBuffer,this._gridIndexBuffer,t?this._gridSegments[e].withSkirts:this._gridSegments[e].withoutSkirts]}getPoleBuffers(e,t){return [t?this._texturedPoleNorthVertexBuffer:this._poleNorthVertexBuffer,t?this._texturedPoleSouthVertexBuffer:this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[e]]}}const qd=6371008.8,Zd=2*Math.PI*qd;class $d{constructor(e,t){if(isNaN(e)||isNaN(t))throw new Error(`Invalid LngLat object: (${e}, ${t})`);if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error(\"Invalid LngLat latitude value: must be between -90 and 90\")}wrap(){return new $d(D(this.lng,-180,180),this.lat)}toArray(){return [this.lng,this.lat]}toString(){return `LngLat(${this.lng}, ${this.lat})`}distanceTo(e){const t=Math.PI/180,i=this.lat*t,r=e.lat*t,n=Math.sin(i)*Math.sin(r)+Math.cos(i)*Math.cos(r)*Math.cos((e.lng-this.lng)*t);return qd*Math.acos(Math.min(n,1))}toBounds(e=0){const t=360*e/40075017,i=t/Math.cos(Math.PI/180*this.lat);return new sc(new $d(this.lng-i,this.lat-t),new $d(this.lng+i,this.lat+t))}toEcef(e){const t=hd(e);return wd(this.lat,this.lng,rd+t)}static convert(e){if(e instanceof $d)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new $d(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&\"object\"==typeof e&&null!==e)return new $d(Number(\"lng\"in e?e.lng:e.lon),Number(e.lat));throw new Error(\"`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]\")}}var Wd=$d;const Hd=0,Xd=25.5;function Yd(e){return Zd*Math.cos(e*Math.PI/180)}function Kd(e){return (180+e)/360}function Jd(e){return (180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function Qd(e,t){return e/Yd(t)}function ep(e){return 360*e-180}function tp(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}function ip(e,t){return e*Yd(tp(t))}const rp=85.051129;function np(e){return Math.cos(w(z(e,-rp,rp)))}function op(e,t){const i=z(t,Hd,Xd),r=Math.pow(2,i);return np(e)*Zd/(512*r)}function sp(e){return 1/Math.cos(e*Math.PI/180)}function ap(e,t=0){const i=Math.exp(Math.PI*(1-(e.y+t/cr)/(1<<e.z)*2));return 80150034*i/(i*i+1)/cr/(1<<e.z)}class lp{constructor(e,t,i=0){this.x=+e,this.y=+t,this.z=+i;}static fromLngLat(e,t=0){const i=Wd.convert(e);return new lp(Kd(i.lng),Jd(i.lat),Qd(t,i.lat))}toLngLat(){return new Wd(ep(this.x),tp(this.y))}toAltitude(){return ip(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Zd*sp(tp(this.y))}}function cp(e,t,i,r,n,o,s,a,l){const c=(t+r)/2,h=(i+n)/2,u=new y(c,h);a(u),function(e,t,i,r,n,o){const s=i-n,a=r-o;return Math.abs((r-t)*s-(i-e)*a)/Math.hypot(s,a)}(u.x,u.y,o.x,o.y,s.x,s.y)>=l?(cp(e,t,i,c,h,o,u,a,l),cp(e,c,h,r,n,u,s,a,l)):e.push(s);}function hp(e,t,i){let r=e[0],n=r.x,o=r.y;t(r);const s=[r];for(let a=1;a<e.length;a++){const l=e[a],{x:c,y:h}=l;t(l),cp(s,n,o,c,h,r,l,t,i),n=c,o=h,r=l;}return s}function up(e,t,i,r){if(r(t,i)){const n=t.add(i)._mult(.5);up(e,t,n,r),up(e,n,i,r);}else e.push(i);}function dp(e,t){let i=e[0];const r=[i];for(let n=1;n<e.length;n++){const o=e[n];up(r,i,o,t),i=o;}return r}const pp=Math.pow(2,14)-1,fp=-pp-1;function mp(e,t){const i=Math.round(e.x*t),r=Math.round(e.y*t);return e.x=z(i,fp,pp),e.y=z(r,fp,pp),(i<e.x||i>e.x+1||r<e.y||r>e.y+1)&&H(\"Geometry exceeds allowed extent, reduce your vector tile buffer size\"),e}function _p(e,t,i){const r=e.loadGeometry(),n=e.extent,o=cr/n;if(t&&i&&i.projection.isReprojectedInTileSpace){const o=1<<t.z,{scale:s,x:a,y:l,projection:c}=i,h=e=>{const i=ep((t.x+e.x/n)/o),r=tp((t.y+e.y/n)/o),h=c.project(i,r);e.x=(h.x*s-a)*n,e.y=(h.y*s-l)*n;};for(let t=0;t<r.length;t++)if(1!==e.type)r[t]=hp(r[t],h,1);else {const e=[];for(const i of r[t])i.x<0||i.x>=n||i.y<0||i.y>=n||(h(i),e.push(i));r[t]=e;}}for(const e of r)for(const t of e)mp(t,o);return r}function gp(e,t){return {type:e.type,id:e.id,properties:e.properties,geometry:t?_p(e):[]}}function yp(e,t,i,r,n){e.emplaceBack(2*t+(r+1)/2,2*i+(n+1)/2);}function xp(e,t,i){const r=16384;e.emplaceBack(t.x,t.y,t.z,i[0]*r,i[1]*r,i[2]*r);}class vp{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.fqid)),this.index=e.index,this.hasPattern=!1,this.projection=e.projection,this.layoutVertexArray=new za,this.indexArray=new Wa,this.segments=new xl,this.programConfigurations=new ec(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id));}populate(e,t,i,r){const n=this.layers[0],o=[];let s=null;\"circle\"===n.type&&(s=n.layout.get(\"circle-sort-key\"));for(const{feature:t,id:n,index:a,sourceLayerIndex:l}of e){const e=this.layers[0]._featureFilter.needGeometry,c=gp(t,e);if(!this.layers[0]._featureFilter.filter(new oa(this.zoom),c,i))continue;const h=s?s.evaluate(c,{},i):void 0,u={id:n,properties:t.properties,type:t.type,sourceLayerIndex:l,index:a,geometry:e?c.geometry:_p(t,i,r),patterns:{},sortKey:h};o.push(u);}s&&o.sort(((e,t)=>e.sortKey-t.sortKey));let a=null;\"globe\"===r.projection.name&&(this.globeExtVertexArray=new Fa,a=r.projection);for(const r of o){const{geometry:n,index:o,sourceLayerIndex:s}=r,l=e[o].feature;this.addFeature(r,n,o,t.availableImages,i,a,t.brightness),t.featureIndex.insert(l,n,o,s,this.index);}}update(e,t,i,r,n){const o=0!==Object.keys(e).length;o&&!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(e,t,o?this.stateDependentLayers:this.layers,i,r,n);}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return !this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,gl.members),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,yl.members))),this.programConfigurations.upload(e),this.uploaded=!0;}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy());}addFeature(e,t,i,r,n,o,s){for(const i of t)for(const t of i){const i=t.x,r=t.y;if(i<0||i>=cr||r<0||r>=cr)continue;if(o){const e=o.projectTilePoint(i,r,n),t=o.upVector(n,i,r),s=this.globeExtVertexArray;xp(s,e,t),xp(s,e,t),xp(s,e,t),xp(s,e,t);}const s=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),a=s.vertexLength;yp(this.layoutVertexArray,i,r,-1,-1),yp(this.layoutVertexArray,i,r,1,-1),yp(this.layoutVertexArray,i,r,1,1),yp(this.layoutVertexArray,i,r,-1,1),this.indexArray.emplaceBack(a,a+1,a+2),this.indexArray.emplaceBack(a,a+2,a+3),s.vertexLength+=4,s.primitiveLength+=2;}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,i,{},r,n,s);}}function bp(e,t){for(let i=0;i<e.length;i++)if(zp(t,e[i]))return !0;for(let i=0;i<t.length;i++)if(zp(e,t[i]))return !0;return !!Mp(e,t)}function wp(e,t,i){return !!zp(e,t)||!!Sp(t,e,i)}function Tp(e,t){if(1===e.length)return Cp(t,e[0]);for(let i=0;i<t.length;i++){const r=t[i];for(let t=0;t<r.length;t++)if(zp(e,r[t]))return !0}for(let i=0;i<e.length;i++)if(Cp(t,e[i]))return !0;for(let i=0;i<t.length;i++)if(Mp(e,t[i]))return !0;return !1}function Ep(e,t,i){if(e.length>1){if(Mp(e,t))return !0;for(let r=0;r<t.length;r++)if(Sp(t[r],e,i))return !0}for(let r=0;r<e.length;r++)if(Sp(e[r],t,i))return !0;return !1}function Mp(e,t){if(0===e.length||0===t.length)return !1;for(let i=0;i<e.length-1;i++){const r=e[i],n=e[i+1];for(let e=0;e<t.length-1;e++)if(Ap(r,n,t[e],t[e+1]))return !0}return !1}function Ap(e,t,i,r){return X(e,i,r)!==X(t,i,r)&&X(e,t,i)!==X(e,t,r)}function Sp(e,t,i){const r=i*i;if(1===t.length)return e.distSqr(t[0])<r;for(let i=1;i<t.length;i++)if(Ip(e,t[i-1],t[i])<r)return !0;return !1}function Ip(e,t,i){const r=t.distSqr(i);if(0===r)return e.distSqr(t);const n=((e.x-t.x)*(i.x-t.x)+(e.y-t.y)*(i.y-t.y))/r;return e.distSqr(n<0?t:n>1?i:i.sub(t)._mult(n)._add(t))}function Cp(e,t){let i,r,n,o=!1;for(let s=0;s<e.length;s++){i=e[s];for(let e=0,s=i.length-1;e<i.length;s=e++)r=i[e],n=i[s],r.y>t.y!=n.y>t.y&&t.x<(n.x-r.x)*(t.y-r.y)/(n.y-r.y)+r.x&&(o=!o);}return o}function zp(e,t){let i=!1;for(let r=0,n=e.length-1;r<e.length;n=r++){const o=e[r],s=e[n];o.y>t.y!=s.y>t.y&&t.x<(s.x-o.x)*(t.y-o.y)/(s.y-o.y)+o.x&&(i=!i);}return i}function Pp(e,t,i,r,n){for(const o of e)if(t<=o.x&&i<=o.y&&r>=o.x&&n>=o.y)return !0;const o=[new y(t,i),new y(t,n),new y(r,n),new y(r,i)];if(e.length>2)for(const t of o)if(zp(e,t))return !0;for(let t=0;t<e.length-1;t++)if(Dp(e[t],e[t+1],o))return !0;return !1}function Dp(e,t,i){const r=i[0],n=i[2];if(e.x<r.x&&t.x<r.x||e.x>n.x&&t.x>n.x||e.y<r.y&&t.y<r.y||e.y>n.y&&t.y>n.y)return !1;const o=X(e,t,i[0]);return o!==X(e,t,i[1])||o!==X(e,t,i[2])||o!==X(e,t,i[3])}function Rp(e,t,i,r,n,o){let s=t.y-e.y,a=e.x-t.x;if(o=o||0){const e=s*s+a*a;if(0===e)return !0;const t=Math.sqrt(e);s/=t,a/=t;}return !((i.x-e.x)*s+(i.y-e.y)*a-o<0||(r.x-e.x)*s+(r.y-e.y)*a-o<0||(n.x-e.x)*s+(n.y-e.y)*a-o<0)}function Lp(e,t,i,r,n,o,s){return !(Rp(e,t,r,n,o,s)||Rp(t,i,r,n,o,s)||Rp(i,e,r,n,o,s)||Rp(r,n,e,t,i,s)||Rp(n,o,e,t,i,s)||Rp(o,r,e,t,i,s))}function kp(e,t,i){const r=t.paint.get(e).value;return \"constant\"===r.kind?r.value:i.programConfigurations.get(t.id).getMaxValue(e)}function Op(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Bp(e,t,i,r,n){if(!t[0]&&!t[1])return e;const o=y.convert(t)._mult(n);\"viewport\"===i&&o._rotate(-r);const s=[];for(let t=0;t<e.length;t++)s.push(e[t].sub(o));return s}function Fp(e,t,i,r){const n=y.convert(e)._mult(r);return \"viewport\"===t&&n._rotate(-i),n}Rs(vp,\"CircleBucket\",{omit:[\"layers\"]});const Np=new ga({\"circle-sort-key\":new ma(Pt.layout_circle[\"circle-sort-key\"]),visibility:new fa(Pt.layout_circle.visibility)});var Up={paint:new ga({\"circle-radius\":new ma(Pt.paint_circle[\"circle-radius\"]),\"circle-color\":new ma(Pt.paint_circle[\"circle-color\"]),\"circle-blur\":new ma(Pt.paint_circle[\"circle-blur\"]),\"circle-opacity\":new ma(Pt.paint_circle[\"circle-opacity\"]),\"circle-translate\":new fa(Pt.paint_circle[\"circle-translate\"]),\"circle-translate-anchor\":new fa(Pt.paint_circle[\"circle-translate-anchor\"]),\"circle-pitch-scale\":new fa(Pt.paint_circle[\"circle-pitch-scale\"]),\"circle-pitch-alignment\":new fa(Pt.paint_circle[\"circle-pitch-alignment\"]),\"circle-stroke-width\":new ma(Pt.paint_circle[\"circle-stroke-width\"]),\"circle-stroke-color\":new ma(Pt.paint_circle[\"circle-stroke-color\"]),\"circle-stroke-opacity\":new ma(Pt.paint_circle[\"circle-stroke-opacity\"]),\"circle-emissive-strength\":new fa(Pt.paint_circle[\"circle-emissive-strength\"])}),layout:Np};const Vp=Au.create(),jp=(e,t,i,r,n,o)=>{const s=e.transform,a=\"globe\"===s.projection.name;let l;if(\"map\"===o.paint.get(\"circle-pitch-alignment\"))if(a){const e=Cd(s.zoom,t.canonical)*s._pixelsPerMercatorPixel;l=Float32Array.from([e,0,0,e]);}else l=s.calculatePixelsToTileUnitsMatrix(i);else l=new Float32Array([s.pixelsToGLUnits[0],0,0,s.pixelsToGLUnits[1]]);const c={u_camera_to_center_distance:e.transform.getCameraToCenterDistance(s.projection),u_matrix:e.translatePosMatrix(t.projMatrix,i,o.paint.get(\"circle-translate\"),o.paint.get(\"circle-translate-anchor\")),u_device_pixel_ratio:dt.devicePixelRatio,u_extrude_scale:l,u_inv_rot_matrix:Vp,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0],u_emissive_strength:o.paint.get(\"circle-emissive-strength\")};if(a){c.u_inv_rot_matrix=r,c.u_merc_center=n,c.u_tile_id=[t.canonical.x,t.canonical.y,1<<t.canonical.z],c.u_zoom_transition=Dd(s.zoom);const e=n[0]*cr,i=n[1]*cr;c.u_up_dir=s.projection.upVector(new ju(0,0,0),e,i);}return c},Gp=e=>{const t=[];return \"map\"===e.paint.get(\"circle-pitch-alignment\")&&t.push(\"PITCH_WITH_MAP\"),\"map\"===e.paint.get(\"circle-pitch-scale\")&&t.push(\"SCALE_WITH_MAP\"),t};function qp(e,t,i,r,n,o,s,a,l){if(o&&e.queryGeometry.isAboveHorizon)return !1;o&&(l*=e.pixelToTileUnitsFactor);const c=e.tileID.canonical,h=i.projection.upVectorScale(c,i.center.lat,i.worldSize).metersToTile;for(const u of t)for(const t of u){const u=t.add(a),d=n&&i.elevation?i.elevation.exaggeration()*n.getElevationAt(u.x,u.y,!0):0,p=i.projection.projectTilePoint(u.x,u.y,c);if(d>0){const e=i.projection.upVector(c,u.x,u.y);p.x+=e[0]*h*d,p.y+=e[1]*h*d,p.z+=e[2]*h*d;}const f=o?u:Zp(p.x,p.y,p.z,r),m=o?e.tilespaceRays.map((e=>Hp(e,d))):e.queryGeometry.screenGeometry,_=yu.transformMat4([],[p.x,p.y,p.z,1],r);if(!s&&o?l*=_[3]/i.cameraToCenterDistance:s&&!o&&(l*=i.cameraToCenterDistance/_[3]),o){const e=tp((t.y/cr+c.y)/(1<<c.z));l/=i.projection.pixelsPerMeter(e,1)/Qd(1,e);}if(wp(m,f,l))return !0}return !1}function Zp(e,t,i,r){const n=yu.transformMat4([],[e,t,i,1],r);return new y(n[0]/n[3],n[1]/n[3])}const $p=Du.fromValues(0,0,0),Wp=Du.fromValues(0,0,1);function Hp(e,t){const i=Du.create();return $p[2]=t,e.intersectsPlane($p,Wp,i),new y(i[0],i[1])}class Xp extends vp{}function Yp(e,{width:t,height:i},r,n){if(n){if(n instanceof Uint8ClampedArray)n=new Uint8Array(n.buffer);else if(n.length!==t*i*r)throw new RangeError(\"mismatched image size\")}else n=new Uint8Array(t*i*r);return e.width=t,e.height=i,e.data=n,e}function Kp(e,t,i){const{width:r,height:n}=t;r===e.width&&n===e.height||(Jp(e,t,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,r),height:Math.min(e.height,n)},i),e.width=r,e.height=n,e.data=t.data);}function Jp(e,t,i,r,n,o){if(0===n.width||0===n.height)return t;if(n.width>e.width||n.height>e.height||i.x>e.width-n.width||i.y>e.height-n.height)throw new RangeError(\"out of range source coordinates for image copy\");if(n.width>t.width||n.height>t.height||r.x>t.width-n.width||r.y>t.height-n.height)throw new RangeError(\"out of range destination coordinates for image copy\");const s=e.data,a=t.data;for(let l=0;l<n.height;l++){const c=((i.y+l)*e.width+i.x)*o,h=((r.y+l)*t.width+r.x)*o;for(let e=0;e<n.width*o;e++)a[h+e]=s[c+e];}return t}Rs(Xp,\"HeatmapBucket\",{omit:[\"layers\"]});class Qp{constructor(e,t){Yp(this,e,1,t);}resize(e){Kp(this,new Qp(e),1);}clone(){return new Qp({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,i,r,n){Jp(e,t,i,r,n,1);}}class ef{constructor(e,t){Yp(this,e,4,t);}resize(e){Kp(this,new ef(e),4);}replace(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e;}clone(){return new ef({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,i,r,n){Jp(e,t,i,r,n,4);}}class tf{constructor(e,t){this.width=e.width,this.height=e.height,this.data=t instanceof Uint8Array?new Float32Array(t.buffer):t;}}Rs(Qp,\"AlphaImage\"),Rs(ef,\"RGBAImage\");const rf=new ga({visibility:new fa(Pt.layout_heatmap.visibility)});var nf={paint:new ga({\"heatmap-radius\":new ma(Pt.paint_heatmap[\"heatmap-radius\"]),\"heatmap-weight\":new ma(Pt.paint_heatmap[\"heatmap-weight\"]),\"heatmap-intensity\":new fa(Pt.paint_heatmap[\"heatmap-intensity\"]),\"heatmap-color\":new _a(Pt.paint_heatmap[\"heatmap-color\"]),\"heatmap-opacity\":new fa(Pt.paint_heatmap[\"heatmap-opacity\"])}),layout:rf};function of(e){const t={},i=e.resolution||256,r=e.clips?e.clips.length:1,n=e.image||new ef({width:i,height:r}),o=(i,r,o)=>{t[e.evaluationKey]=o;const s=e.expression.evaluate(t);s&&(n.data[i+r+0]=Math.floor(255*s.r/s.a),n.data[i+r+1]=Math.floor(255*s.g/s.a),n.data[i+r+2]=Math.floor(255*s.b/s.a),n.data[i+r+3]=Math.floor(255*s.a));};if(e.clips)for(let t=0,n=0;t<r;++t,n+=4*i)for(let r=0,s=0;r<i;r++,s+=4){const a=r/(i-1),{start:l,end:c}=e.clips[t];o(n,s,l*(1-a)+c*a);}else for(let e=0,t=0;e<i;e++,t+=4)o(0,t,e/(i-1));return n}const sf=new ga({visibility:new fa(Pt.layout_hillshade.visibility)});var af={paint:new ga({\"hillshade-illumination-direction\":new fa(Pt.paint_hillshade[\"hillshade-illumination-direction\"]),\"hillshade-illumination-anchor\":new fa(Pt.paint_hillshade[\"hillshade-illumination-anchor\"]),\"hillshade-exaggeration\":new fa(Pt.paint_hillshade[\"hillshade-exaggeration\"]),\"hillshade-shadow-color\":new fa(Pt.paint_hillshade[\"hillshade-shadow-color\"]),\"hillshade-highlight-color\":new fa(Pt.paint_hillshade[\"hillshade-highlight-color\"]),\"hillshade-accent-color\":new fa(Pt.paint_hillshade[\"hillshade-accent-color\"]),\"hillshade-emissive-strength\":new fa(Pt.paint_hillshade[\"hillshade-emissive-strength\"])}),layout:sf};const lf=Ia([{name:\"a_pos\",components:2,type:\"Int16\"}],4),{members:cf}=lf;var hf={exports:{}};function uf(e,t,i){i=i||2;var r,n,o,s,a,l,c,h=t&&t.length,u=h?t[0]*i:e.length,d=df(e,0,u,i,!0),p=[];if(!d||d.next===d.prev)return p;if(h&&(d=function(e,t,i,r){var n,o,s,a=[];for(n=0,o=t.length;n<o;n++)(s=df(e,t[n]*r,n<o-1?t[n+1]*r:e.length,r,!1))===s.next&&(s.steiner=!0),a.push(Tf(s));for(a.sort(xf),n=0;n<a.length;n++)i=vf(a[n],i);return i}(e,t,d,i)),e.length>80*i){r=o=e[0],n=s=e[1];for(var f=i;f<u;f+=i)(a=e[f])<r&&(r=a),(l=e[f+1])<n&&(n=l),a>o&&(o=a),l>s&&(s=l);c=0!==(c=Math.max(o-r,s-n))?32767/c:0;}return ff(d,p,i,r,n,c,0),p}function df(e,t,i,r,n){var o,s;if(n===Of(e,t,i,r)>0)for(o=t;o<i;o+=r)s=Rf(o,e[o],e[o+1],s);else for(o=i-r;o>=t;o-=r)s=Rf(o,e[o],e[o+1],s);return s&&Sf(s,s.next)&&(Lf(s),s=s.next),s}function pf(e,t){if(!e)return e;t||(t=e);var i,r=e;do{if(i=!1,r.steiner||!Sf(r,r.next)&&0!==Af(r.prev,r,r.next))r=r.next;else {if(Lf(r),(r=t=r.prev)===r.next)break;i=!0;}}while(i||r!==t);return t}function ff(e,t,i,r,n,o,s){if(e){!s&&o&&function(e,t,i,r){var n=e;do{0===n.z&&(n.z=wf(n.x,n.y,t,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;}while(n!==e);n.prevZ.nextZ=null,n.prevZ=null,function(e){var t,i,r,n,o,s,a,l,c=1;do{for(i=e,e=null,o=null,s=0;i;){for(s++,r=i,a=0,t=0;t<c&&(a++,r=r.nextZ);t++);for(l=c;a>0||l>0&&r;)0!==a&&(0===l||!r||i.z<=r.z)?(n=i,i=i.nextZ,a--):(n=r,r=r.nextZ,l--),o?o.nextZ=n:e=n,n.prevZ=o,o=n;i=r;}o.nextZ=null,c*=2;}while(s>1)}(n);}(e,r,n,o);for(var a,l,c=e;e.prev!==e.next;)if(a=e.prev,l=e.next,o?_f(e,r,n,o):mf(e))t.push(a.i/i|0),t.push(e.i/i|0),t.push(l.i/i|0),Lf(e),e=l.next,c=l.next;else if((e=l)===c){s?1===s?ff(e=gf(pf(e),t,i),t,i,r,n,o,2):2===s&&yf(e,t,i,r,n,o):ff(pf(e),t,i,r,n,o,1);break}}}function mf(e){var t=e.prev,i=e,r=e.next;if(Af(t,i,r)>=0)return !1;for(var n=t.x,o=i.x,s=r.x,a=t.y,l=i.y,c=r.y,h=n<o?n<s?n:s:o<s?o:s,u=a<l?a<c?a:c:l<c?l:c,d=n>o?n>s?n:s:o>s?o:s,p=a>l?a>c?a:c:l>c?l:c,f=r.next;f!==t;){if(f.x>=h&&f.x<=d&&f.y>=u&&f.y<=p&&Ef(n,a,o,l,s,c,f.x,f.y)&&Af(f.prev,f,f.next)>=0)return !1;f=f.next;}return !0}function _f(e,t,i,r){var n=e.prev,o=e,s=e.next;if(Af(n,o,s)>=0)return !1;for(var a=n.x,l=o.x,c=s.x,h=n.y,u=o.y,d=s.y,p=a<l?a<c?a:c:l<c?l:c,f=h<u?h<d?h:d:u<d?u:d,m=a>l?a>c?a:c:l>c?l:c,_=h>u?h>d?h:d:u>d?u:d,g=wf(p,f,t,i,r),y=wf(m,_,t,i,r),x=e.prevZ,v=e.nextZ;x&&x.z>=g&&v&&v.z<=y;){if(x.x>=p&&x.x<=m&&x.y>=f&&x.y<=_&&x!==n&&x!==s&&Ef(a,h,l,u,c,d,x.x,x.y)&&Af(x.prev,x,x.next)>=0)return !1;if(x=x.prevZ,v.x>=p&&v.x<=m&&v.y>=f&&v.y<=_&&v!==n&&v!==s&&Ef(a,h,l,u,c,d,v.x,v.y)&&Af(v.prev,v,v.next)>=0)return !1;v=v.nextZ;}for(;x&&x.z>=g;){if(x.x>=p&&x.x<=m&&x.y>=f&&x.y<=_&&x!==n&&x!==s&&Ef(a,h,l,u,c,d,x.x,x.y)&&Af(x.prev,x,x.next)>=0)return !1;x=x.prevZ;}for(;v&&v.z<=y;){if(v.x>=p&&v.x<=m&&v.y>=f&&v.y<=_&&v!==n&&v!==s&&Ef(a,h,l,u,c,d,v.x,v.y)&&Af(v.prev,v,v.next)>=0)return !1;v=v.nextZ;}return !0}function gf(e,t,i){var r=e;do{var n=r.prev,o=r.next.next;!Sf(n,o)&&If(n,r,r.next,o)&&Pf(n,o)&&Pf(o,n)&&(t.push(n.i/i|0),t.push(r.i/i|0),t.push(o.i/i|0),Lf(r),Lf(r.next),r=e=o),r=r.next;}while(r!==e);return pf(r)}function yf(e,t,i,r,n,o){var s=e;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&Mf(s,a)){var l=Df(s,a);return s=pf(s,s.next),l=pf(l,l.next),ff(s,t,i,r,n,o,0),void ff(l,t,i,r,n,o,0)}a=a.next;}s=s.next;}while(s!==e)}function xf(e,t){return e.x-t.x}function vf(e,t){var i=function(e,t){var i,r=t,n=e.x,o=e.y,s=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var a=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s&&(s=a,i=r.x<r.next.x?r:r.next,a===n))return i}r=r.next;}while(r!==t);if(!i)return null;var l,c=i,h=i.x,u=i.y,d=1/0;r=i;do{n>=r.x&&r.x>=h&&n!==r.x&&Ef(o<u?n:s,o,h,u,o<u?s:n,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(n-r.x),Pf(r,e)&&(l<d||l===d&&(r.x>i.x||r.x===i.x&&bf(i,r)))&&(i=r,d=l)),r=r.next;}while(r!==c);return i}(e,t);if(!i)return t;var r=Df(i,e);return pf(r,r.next),pf(i,i.next)}function bf(e,t){return Af(e.prev,e,t.prev)<0&&Af(t.next,e,e.next)<0}function wf(e,t,i,r,n){return (e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-i)*n|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*n|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Tf(e){var t=e,i=e;do{(t.x<i.x||t.x===i.x&&t.y<i.y)&&(i=t),t=t.next;}while(t!==e);return i}function Ef(e,t,i,r,n,o,s,a){return (n-s)*(t-a)>=(e-s)*(o-a)&&(e-s)*(r-a)>=(i-s)*(t-a)&&(i-s)*(o-a)>=(n-s)*(r-a)}function Mf(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var i=e;do{if(i.i!==e.i&&i.next.i!==e.i&&i.i!==t.i&&i.next.i!==t.i&&If(i,i.next,e,t))return !0;i=i.next;}while(i!==e);return !1}(e,t)&&(Pf(e,t)&&Pf(t,e)&&function(e,t){var i=e,r=!1,n=(e.x+t.x)/2,o=(e.y+t.y)/2;do{i.y>o!=i.next.y>o&&i.next.y!==i.y&&n<(i.next.x-i.x)*(o-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next;}while(i!==e);return r}(e,t)&&(Af(e.prev,e,t.prev)||Af(e,t.prev,t))||Sf(e,t)&&Af(e.prev,e,e.next)>0&&Af(t.prev,t,t.next)>0)}function Af(e,t,i){return (t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y)}function Sf(e,t){return e.x===t.x&&e.y===t.y}function If(e,t,i,r){var n=zf(Af(e,t,i)),o=zf(Af(e,t,r)),s=zf(Af(i,r,e)),a=zf(Af(i,r,t));return n!==o&&s!==a||!(0!==n||!Cf(e,i,t))||!(0!==o||!Cf(e,r,t))||!(0!==s||!Cf(i,e,r))||!(0!==a||!Cf(i,t,r))}function Cf(e,t,i){return t.x<=Math.max(e.x,i.x)&&t.x>=Math.min(e.x,i.x)&&t.y<=Math.max(e.y,i.y)&&t.y>=Math.min(e.y,i.y)}function zf(e){return e>0?1:e<0?-1:0}function Pf(e,t){return Af(e.prev,e,e.next)<0?Af(e,t,e.next)>=0&&Af(e,e.prev,t)>=0:Af(e,t,e.prev)<0||Af(e,e.next,t)<0}function Df(e,t){var i=new kf(e.i,e.x,e.y),r=new kf(t.i,t.x,t.y),n=e.next,o=t.prev;return e.next=t,t.prev=e,i.next=n,n.prev=i,r.next=i,i.prev=r,o.next=r,r.prev=o,r}function Rf(e,t,i,r){var n=new kf(e,t,i);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function Lf(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ);}function kf(e,t,i){this.i=e,this.x=t,this.y=i,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1;}function Of(e,t,i,r){for(var n=0,o=t,s=i-r;o<i;o+=r)n+=(e[s]-e[o])*(e[o+1]+e[s+1]),s=o;return n}hf.exports=uf,hf.exports.default=uf,uf.deviation=function(e,t,i,r){var n=t&&t.length,o=Math.abs(Of(e,0,n?t[0]*i:e.length,i));if(n)for(var s=0,a=t.length;s<a;s++)o-=Math.abs(Of(e,t[s]*i,s<a-1?t[s+1]*i:e.length,i));var l=0;for(s=0;s<r.length;s+=3){var c=r[s]*i,h=r[s+1]*i,u=r[s+2]*i;l+=Math.abs((e[c]-e[u])*(e[h+1]-e[c+1])-(e[c]-e[h])*(e[u+1]-e[c+1]));}return 0===o&&0===l?0:Math.abs((l-o)/o)},uf.flatten=function(e){for(var t=e[0][0].length,i={vertices:[],holes:[],dimensions:t},r=0,n=0;n<e.length;n++){for(var o=0;o<e[n].length;o++)for(var s=0;s<t;s++)i.vertices.push(e[n][o][s]);n>0&&i.holes.push(r+=e[n-1].length);}return i};var Bf=d(hf.exports);function Ff(e,t){const i=e.length;if(i<=1)return [e];const r=[];let n,o;for(let t=0;t<i;t++){const i=Y(e[t]);0!==i&&(e[t].area=Math.abs(i),void 0===o&&(o=i<0),o===i<0?(n&&r.push(n),n=[e[t]]):n.push(e[t]));}if(n&&r.push(n),t>1)for(let e=0;e<r.length;e++)r[e].length<=t||(Fi(r[e],t,1,r[e].length-1,Nf),r[e]=r[e].slice(0,t));return r}function Nf(e,t){return t.area-e.area}function Uf(e,t,i){const r=i.patternDependencies;let n=!1;for(const i of t){const t=i.paint.get(`${e}-pattern`);t.isConstant()||(n=!0);const o=t.constantOr(null);o&&(n=!0,r[o]=!0);}return n}function Vf(e,t,i,r,n){const o=n.patternDependencies;for(const s of t){const t=s.paint.get(`${e}-pattern`).value;if(\"constant\"!==t.kind){let e=t.evaluate({zoom:r},i,{},n.availableImages);e=e&&e.name?e.name:e,o[e]=!0,i.patterns[s.id]=e;}}return i}class jf{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.fqid)),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new za,this.indexArray=new Wa,this.indexArray2=new ja,this.programConfigurations=new ec(e.layers,e.zoom),this.segments=new xl,this.segments2=new xl,this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id)),this.projection=e.projection;}populate(e,t,i,r){this.hasPattern=Uf(\"fill\",this.layers,t);const n=this.layers[0].layout.get(\"fill-sort-key\"),o=[];for(const{feature:s,id:a,index:l,sourceLayerIndex:c}of e){const e=this.layers[0]._featureFilter.needGeometry,h=gp(s,e);if(!this.layers[0]._featureFilter.filter(new oa(this.zoom),h,i))continue;const u=n?n.evaluate(h,{},i,t.availableImages):void 0,d={id:a,properties:s.properties,type:s.type,sourceLayerIndex:c,index:l,geometry:e?h.geometry:_p(s,i,r),patterns:{},sortKey:u};o.push(d);}n&&o.sort(((e,t)=>e.sortKey-t.sortKey));for(const r of o){const{geometry:n,index:o,sourceLayerIndex:s}=r;if(this.hasPattern){const e=Vf(\"fill\",this.layers,r,this.zoom,t);this.patternFeatures.push(e);}else this.addFeature(r,n,o,i,{},t.availableImages,t.brightness);t.featureIndex.insert(e[o].feature,n,o,s,this.index);}}update(e,t,i,r,n){const o=0!==Object.keys(e).length;o&&!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(e,t,o?this.stateDependentLayers:this.layers,i,r,n);}addFeatures(e,t,i,r,n,o){for(const e of this.patternFeatures)this.addFeature(e,e.geometry,e.index,t,i,r,o);}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return !this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,cf),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0;}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy());}addFeature(e,t,i,r,n,o=[],s){for(const e of Ff(t,500)){let t=0;for(const i of e)t+=i.length;const i=this.segments.prepareSegment(t,this.layoutVertexArray,this.indexArray),r=i.vertexLength,n=[],o=[];for(const t of e){if(0===t.length)continue;t!==e[0]&&o.push(n.length/2);const i=this.segments2.prepareSegment(t.length,this.layoutVertexArray,this.indexArray2),r=i.vertexLength;this.layoutVertexArray.emplaceBack(t[0].x,t[0].y),this.indexArray2.emplaceBack(r+t.length-1,r),n.push(t[0].x),n.push(t[0].y);for(let e=1;e<t.length;e++)this.layoutVertexArray.emplaceBack(t[e].x,t[e].y),this.indexArray2.emplaceBack(r+e-1,r+e),n.push(t[e].x),n.push(t[e].y);i.vertexLength+=t.length,i.primitiveLength+=t.length;}const s=Bf(n,o);for(let e=0;e<s.length;e+=3)this.indexArray.emplaceBack(r+s[e],r+s[e+1],r+s[e+2]);i.vertexLength+=t,i.primitiveLength+=s.length/3;}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,i,n,o,r,s);}}Rs(jf,\"FillBucket\",{omit:[\"layers\",\"patternFeatures\"]});const Gf=new ga({\"fill-sort-key\":new ma(Pt.layout_fill[\"fill-sort-key\"]),visibility:new fa(Pt.layout_fill.visibility)});var qf={paint:new ga({\"fill-antialias\":new fa(Pt.paint_fill[\"fill-antialias\"]),\"fill-opacity\":new ma(Pt.paint_fill[\"fill-opacity\"]),\"fill-color\":new ma(Pt.paint_fill[\"fill-color\"]),\"fill-outline-color\":new ma(Pt.paint_fill[\"fill-outline-color\"]),\"fill-translate\":new fa(Pt.paint_fill[\"fill-translate\"]),\"fill-translate-anchor\":new fa(Pt.paint_fill[\"fill-translate-anchor\"]),\"fill-pattern\":new ma(Pt.paint_fill[\"fill-pattern\"]),\"fill-emissive-strength\":new fa(Pt.paint_fill[\"fill-emissive-strength\"])}),layout:Gf};const Zf=Ia([{name:\"a_pos_normal_ed\",components:4,type:\"Int16\"}]),$f=Ia([{name:\"a_pos_end\",components:4,type:\"Int16\"},{name:\"a_angular_offset_factor\",components:1,type:\"Int16\"}]),Wf=Ia([{name:\"a_centroid_pos\",components:2,type:\"Uint16\"}]),Hf=Ia([{name:\"a_hidden_by_landmark\",components:1,type:\"Uint8\"}]),Xf=Ia([{name:\"a_pos_3\",components:3,type:\"Int16\"},{name:\"a_pos_normal_3\",components:3,type:\"Int16\"}]),{members:Yf}=Zf;var Kf={},Jf=_,Qf=em;function em(e,t,i,r,n){this.properties={},this.extent=i,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=n,e.readFields(tm,this,t);}function tm(e,t,i){1==e?t.id=i.readVarint():2==e?function(e,t){for(var i=e.readVarint()+e.pos;e.pos<i;){var r=t._keys[e.readVarint()],n=t._values[e.readVarint()];t.properties[r]=n;}}(i,t):3==e?t.type=i.readVarint():4==e&&(t._geometry=i.pos);}function im(e){for(var t,i,r=0,n=0,o=e.length,s=o-1;n<o;s=n++)r+=((i=e[s]).x-(t=e[n]).x)*(t.y+i.y);return r}em.types=[\"Unknown\",\"Point\",\"LineString\",\"Polygon\"],em.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,i=e.readVarint()+e.pos,r=1,n=0,o=0,s=0,a=[];e.pos<i;){if(n<=0){var l=e.readVarint();r=7&l,n=l>>3;}if(n--,1===r||2===r)o+=e.readSVarint(),s+=e.readSVarint(),1===r&&(t&&a.push(t),t=[]),t.push(new Jf(o,s));else {if(7!==r)throw new Error(\"unknown command \"+r);t&&t.push(t[0].clone());}}return t&&a.push(t),a},em.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,i=1,r=0,n=0,o=0,s=1/0,a=-1/0,l=1/0,c=-1/0;e.pos<t;){if(r<=0){var h=e.readVarint();i=7&h,r=h>>3;}if(r--,1===i||2===i)(n+=e.readSVarint())<s&&(s=n),n>a&&(a=n),(o+=e.readSVarint())<l&&(l=o),o>c&&(c=o);else if(7!==i)throw new Error(\"unknown command \"+i)}return [s,l,a,c]},em.prototype.toGeoJSON=function(e,t,i){var r,n,o=this.extent*Math.pow(2,i),s=this.extent*e,a=this.extent*t,l=this.loadGeometry(),c=em.types[this.type];function h(e){for(var t=0;t<e.length;t++){var i=e[t];e[t]=[360*(i.x+s)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(i.y+a)/o)*Math.PI/180))-90];}}switch(this.type){case 1:var u=[];for(r=0;r<l.length;r++)u[r]=l[r][0];h(l=u);break;case 2:for(r=0;r<l.length;r++)h(l[r]);break;case 3:for(l=function(e){var t=e.length;if(t<=1)return [e];for(var i,r,n=[],o=0;o<t;o++){var s=im(e[o]);0!==s&&(void 0===r&&(r=s<0),r===s<0?(i&&n.push(i),i=[e[o]]):i.push(e[o]));}return i&&n.push(i),n}(l),r=0;r<l.length;r++)for(n=0;n<l[r].length;n++)h(l[r][n]);}1===l.length?l=l[0]:c=\"Multi\"+c;var d={type:\"Feature\",geometry:{type:c,coordinates:l},properties:this.properties};return \"id\"in this&&(d.id=this.id),d};var rm=Qf,nm=om;function om(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(sm,this,t),this.length=this._features.length;}function sm(e,t,i){15===e?t.version=i.readVarint():1===e?t.name=i.readString():5===e?t.extent=i.readVarint():2===e?t._features.push(i.pos):3===e?t._keys.push(i.readString()):4===e&&t._values.push(function(e){for(var t=null,i=e.readVarint()+e.pos;e.pos<i;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null;}return t}(i));}om.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error(\"feature index out of bounds\");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new rm(this._pbf,t,this.extent,this._keys,this._values)};var am=nm;function lm(e,t,i){if(3===e){var r=new am(i,i.readVarint()+i.pos);r.length&&(t[r.name]=r);}}var cm=Kf.VectorTile=function(e,t){this.layers=e.readFields(lm,{},t);},hm=Kf.VectorTileFeature=Qf;function um(e,t,i,r){const n=[],o=0===r?(e,t,i,r,n,o)=>{e.push(new y(o,i+(o-t)/(r-t)*(n-i)));}:(e,t,i,r,n,o)=>{e.push(new y(t+(o-i)/(n-i)*(r-t),o));};for(const s of e){const e=[];for(const n of s){if(n.length<=2)continue;const s=[];for(let e=0;e<n.length-1;e++){const a=n[e].x,l=n[e].y,c=n[e+1].x,h=n[e+1].y,u=0===r?a:l,d=0===r?c:h;u<t?d>t&&o(s,a,l,c,h,t):u>i?d<i&&o(s,a,l,c,h,i):s.push(n[e]),d<t&&u>=t&&o(s,a,l,c,h,t),d>i&&u<=i&&o(s,a,l,c,h,i);}let a=n[n.length-1];const l=0===r?a.x:a.y;l>=t&&l<=i&&s.push(a),s.length&&(a=s[s.length-1],s[0].x===a.x&&s[0].y===a.y||s.push(s[0]),e.push(s));}e.length&&n.push(e);}return n}Kf.VectorTileLayer=nm;class dm{constructor(e){this._stringToNumber={},this._numberToString=[];for(let t=0;t<e.length;t++){const i=e[t];this._stringToNumber[i]=t,this._numberToString[t]=i;}}encode(e){return this._stringToNumber[e]}decode(e){return this._numberToString[e]}}var pm={\n/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nread:function(e,t,i,r,n){var o,s,a=8*n-r-1,l=(1<<a)-1,c=l>>1,h=-7,u=i?n-1:0,d=i?-1:1,p=e[t+u];for(u+=d,o=p&(1<<-h)-1,p>>=-h,h+=a;h>0;o=256*o+e[t+u],u+=d,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=r;h>0;s=256*s+e[t+u],u+=d,h-=8);if(0===o)o=1-c;else {if(o===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=c;}return (p?-1:1)*s*Math.pow(2,o-r)},write:function(e,t,i,r,n,o){var s,a,l,c=8*o-n-1,h=(1<<c)-1,u=h>>1,d=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=h):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+u>=1?d/l:d*Math.pow(2,1-u))*l>=2&&(s++,l/=2),s+u>=h?(a=0,s=h):s+u>=1?(a=(t*l-1)*Math.pow(2,n),s+=u):(a=t*Math.pow(2,u-1)*Math.pow(2,n),s=0));n>=8;e[i+p]=255&a,p+=f,a/=256,n-=8);for(s=s<<n|a,c+=n;c>0;e[i+p]=255&s,p+=f,s/=256,c-=8);e[i+p-f]|=128*m;}},fm=_m,mm=pm;function _m(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length;}_m.Varint=0,_m.Fixed64=1,_m.Bytes=2,_m.Fixed32=5;var gm=4294967296,ym=1/gm,xm=\"undefined\"==typeof TextDecoder?null:new TextDecoder(\"utf8\");function vm(e){return e.type===_m.Bytes?e.readVarint()+e.pos:e.pos+1}function bm(e,t,i){return i?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function wm(e,t,i){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));i.realloc(r);for(var n=i.pos-1;n>=e;n--)i.buf[n+r]=i.buf[n];}function Tm(e,t){for(var i=0;i<e.length;i++)t.writeVarint(e[i]);}function Em(e,t){for(var i=0;i<e.length;i++)t.writeSVarint(e[i]);}function Mm(e,t){for(var i=0;i<e.length;i++)t.writeFloat(e[i]);}function Am(e,t){for(var i=0;i<e.length;i++)t.writeDouble(e[i]);}function Sm(e,t){for(var i=0;i<e.length;i++)t.writeBoolean(e[i]);}function Im(e,t){for(var i=0;i<e.length;i++)t.writeFixed32(e[i]);}function Cm(e,t){for(var i=0;i<e.length;i++)t.writeSFixed32(e[i]);}function zm(e,t){for(var i=0;i<e.length;i++)t.writeFixed64(e[i]);}function Pm(e,t){for(var i=0;i<e.length;i++)t.writeSFixed64(e[i]);}function Dm(e,t){return (e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function Rm(e,t,i){e[i]=t,e[i+1]=t>>>8,e[i+2]=t>>>16,e[i+3]=t>>>24;}function Lm(e,t){return (e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}_m.prototype={destroy:function(){this.buf=null;},readFields:function(e,t,i){for(i=i||this.length;this.pos<i;){var r=this.readVarint(),n=r>>3,o=this.pos;this.type=7&r,e(n,t,this),this.pos===o&&this.skip(r);}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=Dm(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=Lm(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=Dm(this.buf,this.pos)+Dm(this.buf,this.pos+4)*gm;return this.pos+=8,e},readSFixed64:function(){var e=Dm(this.buf,this.pos)+Lm(this.buf,this.pos+4)*gm;return this.pos+=8,e},readFloat:function(){var e=mm.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=mm.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,i,r=this.buf;return t=127&(i=r[this.pos++]),i<128?t:(t|=(127&(i=r[this.pos++]))<<7,i<128?t:(t|=(127&(i=r[this.pos++]))<<14,i<128?t:(t|=(127&(i=r[this.pos++]))<<21,i<128?t:function(e,t,i){var r,n,o=i.buf;if(r=(112&(n=o[i.pos++]))>>4,n<128)return bm(e,r,t);if(r|=(127&(n=o[i.pos++]))<<3,n<128)return bm(e,r,t);if(r|=(127&(n=o[i.pos++]))<<10,n<128)return bm(e,r,t);if(r|=(127&(n=o[i.pos++]))<<17,n<128)return bm(e,r,t);if(r|=(127&(n=o[i.pos++]))<<24,n<128)return bm(e,r,t);if(r|=(1&(n=o[i.pos++]))<<31,n<128)return bm(e,r,t);throw new Error(\"Expected varint not more than 10 bytes\")}(t|=(15&(i=r[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&xm?function(e,t,i){return xm.decode(e.subarray(t,i))}(this.buf,t,e):function(e,t,i){for(var r=\"\",n=t;n<i;){var o,s,a,l=e[n],c=null,h=l>239?4:l>223?3:l>191?2:1;if(n+h>i)break;1===h?l<128&&(c=l):2===h?128==(192&(o=e[n+1]))&&(c=(31&l)<<6|63&o)<=127&&(c=null):3===h?(s=e[n+2],128==(192&(o=e[n+1]))&&128==(192&s)&&((c=(15&l)<<12|(63&o)<<6|63&s)<=2047||c>=55296&&c<=57343)&&(c=null)):4===h&&(s=e[n+2],a=e[n+3],128==(192&(o=e[n+1]))&&128==(192&s)&&128==(192&a)&&((c=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,h=1):c>65535&&(c-=65536,r+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),r+=String.fromCharCode(c),n+=h;}return r}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==_m.Bytes)return e.push(this.readVarint(t));var i=vm(this);for(e=e||[];this.pos<i;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==_m.Bytes)return e.push(this.readSVarint());var t=vm(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==_m.Bytes)return e.push(this.readBoolean());var t=vm(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==_m.Bytes)return e.push(this.readFloat());var t=vm(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==_m.Bytes)return e.push(this.readDouble());var t=vm(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==_m.Bytes)return e.push(this.readFixed32());var t=vm(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==_m.Bytes)return e.push(this.readSFixed32());var t=vm(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==_m.Bytes)return e.push(this.readFixed64());var t=vm(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==_m.Bytes)return e.push(this.readSFixed64());var t=vm(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===_m.Varint)for(;this.buf[this.pos++]>127;);else if(t===_m.Bytes)this.pos=this.readVarint()+this.pos;else if(t===_m.Fixed32)this.pos+=4;else {if(t!==_m.Fixed64)throw new Error(\"Unimplemented type: \"+t);this.pos+=8;}},writeTag:function(e,t){this.writeVarint(e<<3|t);},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var i=new Uint8Array(t);i.set(this.buf),this.buf=i,this.length=t;}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),Rm(this.buf,e,this.pos),this.pos+=4;},writeSFixed32:function(e){this.realloc(4),Rm(this.buf,e,this.pos),this.pos+=4;},writeFixed64:function(e){this.realloc(8),Rm(this.buf,-1&e,this.pos),Rm(this.buf,Math.floor(e*ym),this.pos+4),this.pos+=8;},writeSFixed64:function(e){this.realloc(8),Rm(this.buf,-1&e,this.pos),Rm(this.buf,Math.floor(e*ym),this.pos+4),this.pos+=8;},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var i,r;if(e>=0?(i=e%4294967296|0,r=e/4294967296|0):(r=~(-e/4294967296),4294967295^(i=~(-e%4294967296))?i=i+1|0:(i=0,r=r+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error(\"Given varint doesn't fit into 10 bytes\");t.realloc(10),function(e,t,i){i.buf[i.pos++]=127&e|128,e>>>=7,i.buf[i.pos++]=127&e|128,e>>>=7,i.buf[i.pos++]=127&e|128,e>>>=7,i.buf[i.pos++]=127&e|128,i.buf[i.pos]=127&(e>>>=7);}(i,0,t),function(e,t){var i=(7&e)<<4;t.buf[t.pos++]|=i|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))));}(r,t);}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))));},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e);},writeBoolean:function(e){this.writeVarint(Boolean(e));},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,i){for(var r,n,o=0;o<t.length;o++){if((r=t.charCodeAt(o))>55295&&r<57344){if(!n){r>56319||o+1===t.length?(e[i++]=239,e[i++]=191,e[i++]=189):n=r;continue}if(r<56320){e[i++]=239,e[i++]=191,e[i++]=189,n=r;continue}r=n-55296<<10|r-56320|65536,n=null;}else n&&(e[i++]=239,e[i++]=191,e[i++]=189,n=null);r<128?e[i++]=r:(r<2048?e[i++]=r>>6|192:(r<65536?e[i++]=r>>12|224:(e[i++]=r>>18|240,e[i++]=r>>12&63|128),e[i++]=r>>6&63|128),e[i++]=63&r|128);}return i}(this.buf,e,this.pos);var i=this.pos-t;i>=128&&wm(t,i,this),this.pos=t-1,this.writeVarint(i),this.pos+=i;},writeFloat:function(e){this.realloc(4),mm.write(this.buf,e,this.pos,!0,23,4),this.pos+=4;},writeDouble:function(e){this.realloc(8),mm.write(this.buf,e,this.pos,!0,52,8),this.pos+=8;},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var i=0;i<t;i++)this.buf[this.pos++]=e[i];},writeRawMessage:function(e,t){this.pos++;var i=this.pos;e(t,this);var r=this.pos-i;r>=128&&wm(i,r,this),this.pos=i-1,this.writeVarint(r),this.pos+=r;},writeMessage:function(e,t,i){this.writeTag(e,_m.Bytes),this.writeRawMessage(t,i);},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,Tm,t);},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,Em,t);},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,Sm,t);},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,Mm,t);},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,Am,t);},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,Im,t);},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,Cm,t);},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,zm,t);},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,Pm,t);},writeBytesField:function(e,t){this.writeTag(e,_m.Bytes),this.writeBytes(t);},writeFixed32Field:function(e,t){this.writeTag(e,_m.Fixed32),this.writeFixed32(t);},writeSFixed32Field:function(e,t){this.writeTag(e,_m.Fixed32),this.writeSFixed32(t);},writeFixed64Field:function(e,t){this.writeTag(e,_m.Fixed64),this.writeFixed64(t);},writeSFixed64Field:function(e,t){this.writeTag(e,_m.Fixed64),this.writeSFixed64(t);},writeVarintField:function(e,t){this.writeTag(e,_m.Varint),this.writeVarint(t);},writeSVarintField:function(e,t){this.writeTag(e,_m.Varint),this.writeSVarint(t);},writeStringField:function(e,t){this.writeTag(e,_m.Bytes),this.writeString(t);},writeFloatField:function(e,t){this.writeTag(e,_m.Fixed32),this.writeFloat(t);},writeDoubleField:function(e,t){this.writeTag(e,_m.Fixed64),this.writeDouble(t);},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t));}};var km=d(fm);const Om=[\"tile\",\"layer\",\"source\",\"sourceLayer\",\"state\"];class Bm{constructor(e,t,i,r,n){this.type=\"Feature\",this._vectorTileFeature=e,this._z=t,this._x=i,this._y=r,this.properties=e.properties,this.id=n;}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(e){this._geometry=e;}toJSON(){const e={type:\"Feature\",state:void 0,geometry:this.geometry,properties:this.properties};void 0!==this.id&&(e.id=this.id);for(const t of Om)void 0!==this[t]&&(e[t]=this[t]);return e}}class Fm{constructor(){this.state={},this.stateChanges={},this.deletedStates={};}updateState(e,t,i){const r=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][r]=this.stateChanges[e][r]||{},k(this.stateChanges[e][r],i),null===this.deletedStates[e]){this.deletedStates[e]={};for(const t in this.state[e])t!==r&&(this.deletedStates[e][t]=null);}else if(this.deletedStates[e]&&null===this.deletedStates[e][r]){this.deletedStates[e][r]={};for(const t in this.state[e][r])i[t]||(this.deletedStates[e][r][t]=null);}else for(const t in i)this.deletedStates[e]&&this.deletedStates[e][r]&&null===this.deletedStates[e][r][t]&&delete this.deletedStates[e][r][t];}removeFeatureState(e,t,i){if(null===this.deletedStates[e])return;const r=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},i&&void 0!==t)null!==this.deletedStates[e][r]&&(this.deletedStates[e][r]=this.deletedStates[e][r]||{},this.deletedStates[e][r][i]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][r])for(i in this.deletedStates[e][r]={},this.stateChanges[e][r])this.deletedStates[e][r][i]=null;else this.deletedStates[e][r]=null;else this.deletedStates[e]=null;}getState(e,t){const i=String(t),r=k({},(this.state[e]||{})[i],(this.stateChanges[e]||{})[i]);if(null===this.deletedStates[e])return {};if(this.deletedStates[e]){const i=this.deletedStates[e][t];if(null===i)return {};for(const e in i)delete r[e];}return r}initializeTileState(e,t){e.setFeatureState(this.state,t);}coalesceChanges(e,t){const i={};for(const e in this.stateChanges){this.state[e]=this.state[e]||{};const t={};for(const i in this.stateChanges[e])this.state[e][i]||(this.state[e][i]={}),k(this.state[e][i],this.stateChanges[e][i]),t[i]=this.state[e][i];i[e]=t;}for(const e in this.deletedStates){this.state[e]=this.state[e]||{};const t={};if(null===this.deletedStates[e])for(const i in this.state[e])t[i]={},this.state[e][i]={};else for(const i in this.deletedStates[e]){if(null===this.deletedStates[e][i])this.state[e][i]={};else if(this.state[e][i])for(const t of Object.keys(this.deletedStates[e][i]))delete this.state[e][i][t];t[i]=this.state[e][i];}i[e]=i[e]||{},k(i[e],t);}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(i).length)for(const r in e)e[r].setFeatureState(i,t);}}class Nm{constructor(e){this.size=e,this.minimums=[],this.maximums=[],this.leaves=[];}getElevation(e,t){const i=this.toIdx(e,t);return {min:this.minimums[i],max:this.maximums[i]}}isLeaf(e,t){return this.leaves[this.toIdx(e,t)]}toIdx(e,t){return t*this.size+e}}function Um(e,t,i,r){let n=0,o=Number.MAX_VALUE;for(let s=0;s<3;s++)if(Math.abs(r[s])<1e-15){if(i[s]<e[s]||i[s]>t[s])return null}else {const a=1/r[s];let l=(e[s]-i[s])*a,c=(t[s]-i[s])*a;if(l>c){const e=l;l=c,c=e;}if(l>n&&(n=l),c<o&&(o=c),n>o)return null}return n}function Vm(e,t,i,r,n,o,s,a,l,c,h){const u=r-e,d=n-t,p=o-i,f=s-e,m=a-t,_=l-i,g=h[1]*_-h[2]*m,y=h[2]*f-h[0]*_,x=h[0]*m-h[1]*f,v=u*g+d*y+p*x;if(Math.abs(v)<1e-15)return null;const b=1/v,w=c[0]-e,T=c[1]-t,E=c[2]-i,M=(w*g+T*y+E*x)*b;if(M<0||M>1)return null;const A=T*p-E*d,S=E*u-w*p,I=w*d-T*u,C=(h[0]*A+h[1]*S+h[2]*I)*b;return C<0||M+C>1?null:(f*A+m*S+_*I)*b}function jm(e,t,i){return (e-t)/(i-t)}function Gm(e,t,i,r,n,o,s,a,l){const c=1<<i,h=o-r,u=s-n,d=(e+1)/c*h+r,p=(t+0)/c*u+n,f=(t+1)/c*u+n;a[0]=(e+0)/c*h+r,a[1]=p,l[0]=d,l[1]=f;}class qm{constructor(e){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=e,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const t=function(e){const t=Math.ceil(Math.log2(e.dim/8)),i=[];let r=Math.ceil(Math.pow(2,t));const n=1/r,o=(e,t,i,r,n)=>{const o=r?1:0,s=(e+1)*i-o,a=t*i,l=(t+1)*i-o;n[0]=e*i,n[1]=a,n[2]=s,n[3]=l;};let s=new Nm(r);const a=[];for(let t=0;t<r*r;t++){o(t%r,Math.floor(t/r),n,!1,a);const i=$m(a[0],a[1],e),l=$m(a[2],a[1],e),c=$m(a[2],a[3],e),h=$m(a[0],a[3],e);s.minimums.push(Math.min(i,l,c,h)),s.maximums.push(Math.max(i,l,c,h)),s.leaves.push(1);}for(i.push(s),r/=2;r>=1;r/=2){const e=i[i.length-1];s=new Nm(r);for(let t=0;t<r*r;t++){o(t%r,Math.floor(t/r),2,!0,a);const i=e.getElevation(a[0],a[1]),n=e.getElevation(a[2],a[1]),l=e.getElevation(a[2],a[3]),c=e.getElevation(a[0],a[3]),h=e.isLeaf(a[0],a[1]),u=e.isLeaf(a[2],a[1]),d=e.isLeaf(a[2],a[3]),p=e.isLeaf(a[0],a[3]),f=Math.min(i.min,n.min,l.min,c.min),m=Math.max(i.max,n.max,l.max,c.max),_=h&&u&&d&&p;s.maximums.push(m),s.minimums.push(f),s.leaves.push(m-f<=5&&_?1:0);}i.push(s);}return i}(this.dem),i=t.length-1,r=t[i];this._addNode(r.minimums[0],r.maximums[0],r.leaves[0]),this._construct(t,0,0,i,0);}raycastRoot(e,t,i,r,n,o,s=1){return Um([e,t,-100],[i,r,this.maximums[0]*s],n,o)}raycast(e,t,i,r,n,o,s=1){if(!this.nodeCount)return null;const a=this.raycastRoot(e,t,i,r,n,o,s);if(null==a)return null;const l=[],c=[],h=[],u=[],d=[{idx:0,t:a,nodex:0,nodey:0,depth:0}];for(;d.length>0;){const{idx:a,t:p,nodex:f,nodey:m,depth:_}=d.pop();if(this.leaves[a]){Gm(f,m,_,e,t,i,r,h,u);const a=1<<_,l=(f+0)/a,c=(f+1)/a,d=(m+0)/a,g=(m+1)/a,y=$m(l,d,this.dem)*s,x=$m(c,d,this.dem)*s,v=$m(c,g,this.dem)*s,b=$m(l,g,this.dem)*s,w=Vm(h[0],h[1],y,u[0],h[1],x,u[0],u[1],v,n,o),T=Vm(u[0],u[1],v,h[0],u[1],b,h[0],h[1],y,n,o),E=Math.min(null!==w?w:Number.MAX_VALUE,null!==T?T:Number.MAX_VALUE);if(E!==Number.MAX_VALUE)return E;{const e=Du.scaleAndAdd([],n,o,p);if(Zm(y,x,b,v,jm(e[0],h[0],u[0]),jm(e[1],h[1],u[1]))>=e[2])return p}continue}let g=0;for(let d=0;d<this._siblingOffset.length;d++){Gm((f<<1)+this._siblingOffset[d][0],(m<<1)+this._siblingOffset[d][1],_+1,e,t,i,r,h,u),h[2]=-100,u[2]=this.maximums[this.childOffsets[a]+d]*s;const p=Um(h,u,n,o);if(null!=p){const e=p;l[d]=e;let t=!1;for(let i=0;i<g&&!t;i++)e>=l[c[i]]&&(c.splice(i,0,d),t=!0);t||(c[g]=d),g++;}}for(let e=0;e<g;e++){const t=c[e];d.push({idx:this.childOffsets[a]+t,t:l[t],nodex:(f<<1)+this._siblingOffset[t][0],nodey:(m<<1)+this._siblingOffset[t][1],depth:_+1});}}return null}_addNode(e,t,i){return this.minimums.push(e),this.maximums.push(t),this.leaves.push(i),this.childOffsets.push(0),this.nodeCount++}_construct(e,t,i,r,n){if(1===e[r].isLeaf(t,i))return;this.childOffsets[n]||(this.childOffsets[n]=this.nodeCount);const o=r-1,s=e[o];let a=0,l=0;for(let e=0;e<this._siblingOffset.length;e++){const r=2*t+this._siblingOffset[e][0],n=2*i+this._siblingOffset[e][1],o=s.getElevation(r,n),c=s.isLeaf(r,n),h=this._addNode(o.min,o.max,c);c&&(a|=1<<e),l||(l=h);}for(let r=0;r<this._siblingOffset.length;r++)a&1<<r||this._construct(e,2*t+this._siblingOffset[r][0],2*i+this._siblingOffset[r][1],o,l+r);}}function Zm(e,t,i,r,n,o){return Kr(Kr(e,i,o),Kr(t,r,o),n)}function $m(e,t,i){const r=i.dim,n=z(e*r-.5,0,r-1),o=z(t*r-.5,0,r-1),s=Math.floor(n),a=Math.floor(o),l=Math.min(s+1,r-1),c=Math.min(a+1,r-1);return Zm(i.get(s,a),i.get(l,a),i.get(s,c),i.get(l,c),n-s,o-a)}const Wm={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};function Hm(e,t,i){return (256*e*256+256*t+i)/10-1e4}function Xm(e,t,i){return 256*e+t+i/256-32768}class Ym{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(e,t,i,r=!1){if(this.uid=e,t.height!==t.width)throw new RangeError(\"DEM tiles must be square\");if(i&&\"mapbox\"!==i&&\"terrarium\"!==i)return H(`\"${i}\" is not a valid encoding type. Valid types include \"mapbox\" and \"terrarium\".`);this.stride=t.height;const n=this.dim=t.height-2,o=new Uint32Array(t.data.buffer);if(this.pixels=new Uint8Array(t.data.buffer),this.floatView=new Float32Array(t.data.buffer),this.borderReady=r,this._modifiedForSources={},!r){for(let e=0;e<n;e++)o[this._idx(-1,e)]=o[this._idx(0,e)],o[this._idx(n,e)]=o[this._idx(n-1,e)],o[this._idx(e,-1)]=o[this._idx(e,0)],o[this._idx(e,n)]=o[this._idx(e,n-1)];o[this._idx(-1,-1)]=o[this._idx(0,0)],o[this._idx(n,-1)]=o[this._idx(n-1,0)],o[this._idx(-1,n)]=o[this._idx(0,n-1)],o[this._idx(n,n)]=o[this._idx(n-1,n-1)];}const s=\"terrarium\"===i?Xm:Hm;for(let e=0;e<o.length;++e){const t=4*e;this.floatView[e]=s(this.pixels[t],this.pixels[t+1],this.pixels[t+2]);}this._timestamp=dt.now();}_buildQuadTree(){this._tree=new qm(this);}get(e,t,i=!1){i&&(e=z(e,-1,this.dim),t=z(t,-1,this.dim));const r=this._idx(e,t);return this.floatView[r]}set(e,t,i){const r=this._idx(e,t),n=this.floatView[r];return this.floatView[r]=i,i-n}static getUnpackVector(e){return Wm[e]}_idx(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError(\"out of range source coordinates for DEM data\");return (t+1)*this.stride+(e+1)}static pack(e,t){const i=[0,0,0,0],r=Ym.getUnpackVector(t);let n=Math.floor((e+r[3])/r[2]);return i[2]=n%256,n=Math.floor(n/256),i[1]=n%256,n=Math.floor(n/256),i[0]=n,i}getPixels(){return new tf({width:this.stride,height:this.stride},this.pixels)}backfillBorder(e,t,i){if(this.dim!==e.dim)throw new Error(\"dem dimension mismatch\");let r=t*this.dim,n=t*this.dim+this.dim,o=i*this.dim,s=i*this.dim+this.dim;switch(t){case-1:r=n-1;break;case 1:n=r+1;}switch(i){case-1:o=s-1;break;case 1:s=o+1;}const a=-t*this.dim,l=-i*this.dim;for(let t=o;t<s;t++)for(let i=r;i<n;i++){const r=4*this._idx(i,t),n=4*this._idx(i+a,t+l);this.pixels[r+0]=e.pixels[n+0],this.pixels[r+1]=e.pixels[n+1],this.pixels[r+2]=e.pixels[n+2],this.pixels[r+3]=e.pixels[n+3];}}onDeserialize(){this._tree&&(this._tree.dem=this);}}Rs(Ym,\"DEMData\"),Rs(qm,\"DemMinMaxQuadTree\",{omit:[\"dem\"]});class Km{isDataAvailableAtPoint(e){const t=this._source();if(this.isUsingMockSource()||!t||e.y<0||e.y>1)return !1;const i=t.getSource().maxzoom,r=1<<i,n=Math.floor(e.x),o=Math.floor((e.x-n)*r),s=Math.floor(e.y*r),a=this.findDEMTileFor(new qu(i,n,i,o,s));return !(!a||!a.dem)}getAtPointOrZero(e,t=0){return this.getAtPoint(e,t)||0}getAtPoint(e,t,i=!0){if(this.isUsingMockSource())return null;null==t&&(t=null);const r=this._source();if(!r)return t;if(e.y<0||e.y>1)return t;const n=r.getSource().maxzoom,o=1<<n,s=Math.floor(e.x),a=e.x-s,l=new qu(n,s,n,Math.floor(a*o),Math.floor(e.y*o)),c=this.findDEMTileFor(l);if(!c||!c.dem)return t;const h=c.dem,u=1<<c.tileID.canonical.z,d=(a*u-c.tileID.canonical.x)*h.dim,p=(e.y*u-c.tileID.canonical.y)*h.dim,f=Math.floor(d),m=Math.floor(p);return (i?this.exaggeration():1)*Kr(Kr(h.get(f,m),h.get(f,m+1),p-m),Kr(h.get(f+1,m),h.get(f+1,m+1),p-m),d-f)}getAtTileOffset(e,t,i){const r=1<<e.canonical.z;return this.getAtPointOrZero(new lp(e.wrap+(e.canonical.x+t/cr)/r,(e.canonical.y+i/cr)/r))}getAtTileOffsetFunc(e,t,i,r){return n=>{const o=this.getAtTileOffset(e,n.x,n.y),s=r.upVector(e.canonical,n.x,n.y),a=r.upVectorScale(e.canonical,t,i).metersToTile;return Du.scale(s,s,o*a),s}}getForTilePoints(e,t,i,r){if(this.isUsingMockSource())return !1;const n=Jm.create(this,e,r);return !!n&&(t.forEach((e=>{e[2]=this.exaggeration()*n.getElevationAt(e[0],e[1],i);})),!0)}getMinMaxForTile(e){if(this.isUsingMockSource())return null;const t=this.findDEMTileFor(e);if(!t||!t.dem)return null;const i=t.dem.tree,r=t.tileID,n=1<<e.canonical.z-r.canonical.z;let o=e.canonical.x/n-r.canonical.x,s=e.canonical.y/n-r.canonical.y,a=0;for(let t=0;t<e.canonical.z-r.canonical.z&&!i.leaves[a];t++){o*=2,s*=2;const e=2*Math.floor(s)+Math.floor(o);a=i.childOffsets[a]+e,o%=1,s%=1;}return {min:this.exaggeration()*i.minimums[a],max:this.exaggeration()*i.maximums[a]}}getMinElevationBelowMSL(){throw new Error(\"Pure virtual method called.\")}raycast(e,t,i){throw new Error(\"Pure virtual method called.\")}pointCoordinate(e){throw new Error(\"Pure virtual method called.\")}_source(){throw new Error(\"Pure virtual method called.\")}isUsingMockSource(){throw new Error(\"Pure virtual method called.\")}exaggeration(){throw new Error(\"Pure virtual method called.\")}findDEMTileFor(e){throw new Error(\"Pure virtual method called.\")}get visibleDemTiles(){throw new Error(\"Getter must be implemented in subclass.\")}getMinMaxForVisibleTiles(){const e=this.visibleDemTiles;if(0===e.length)return null;let t=!1,i=Number.MAX_VALUE,r=Number.MIN_VALUE;for(const n of e){const e=this.getMinMaxForTile(n.tileID);e&&(i=Math.min(i,e.min),r=Math.max(r,e.max),t=!0);}return t?{min:i,max:r}:null}}class Jm{constructor(e,t,i){this._demTile=e,this._dem=this._demTile.dem,this._scale=t,this._offset=i;}static create(e,t,i){const r=i||e.findDEMTileFor(t);if(!r||!r.dem)return;const n=r.dem,o=r.tileID,s=1<<t.canonical.z-o.canonical.z;return new Jm(r,n.dim/cr/s,[(t.canonical.x/s-o.canonical.x)*n.dim,(t.canonical.y/s-o.canonical.y)*n.dim])}tileCoordToPixel(e,t){const i=t*this._scale+this._offset[1],r=Math.floor(e*this._scale+this._offset[0]),n=Math.floor(i);return new y(r,n)}getElevationAt(e,t,i,r){const n=e*this._scale+this._offset[0],o=t*this._scale+this._offset[1],s=Math.floor(n),a=Math.floor(o),l=this._dem;return r=!!r,i?Kr(Kr(l.get(s,a,r),l.get(s,a+1,r),o-a),Kr(l.get(s+1,a,r),l.get(s+1,a+1,r),o-a),n-s):l.get(s,a,r)}getElevationAtPixel(e,t,i){return this._dem.get(e,t,!!i)}getMeterToDEM(e){return (1<<this._demTile.tileID.canonical.z)*Qd(1,e)*this._dem.stride}}class Qm{constructor(e,t){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new Ps(cr,16,0),this.featureIndexArray=new ml,this.promoteId=t;}insert(e,t,i,r,n,o=0){const s=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(i,r,n,o);const a=this.grid;for(let e=0;e<t.length;e++){const i=t[e],r=[1/0,1/0,-1/0,-1/0];for(let e=0;e<i.length;e++){const t=i[e];r[0]=Math.min(r[0],t.x),r[1]=Math.min(r[1],t.y),r[2]=Math.max(r[2],t.x),r[3]=Math.max(r[3],t.y);}r[0]<cr&&r[1]<cr&&r[2]>=0&&r[3]>=0&&a.insert(s,r[0],r[1],r[2],r[3]);}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new cm(new km(this.rawTileData)).layers,this.sourceLayerCoder=new dm(this.vtLayers?Object.keys(this.vtLayers).sort():[\"_geojsonTileLayer\"]),this.vtFeatures={};for(const e in this.vtLayers)this.vtFeatures[e]=[];}return this.vtLayers}query(e,t,i,r){this.loadVTLayers();const n=e.params||{},o=Fo(n.filter),s=e.tileResult,a=e.transform,l=s.bufferedTilespaceBounds,c=this.grid.query(l.min.x,l.min.y,l.max.x,l.max.y,((e,t,i,r)=>Pp(s.bufferedTilespaceGeometry,e,t,i,r)));c.sort(t_);let h=null;a.elevation&&c.length>0&&(h=Jm.create(a.elevation,this.tileID));const u={};let d;for(let a=0;a<c.length;a++){const l=c[a];if(l===d)continue;d=l;const p=this.featureIndexArray.get(l);let f=null;this.loadMatchingFeature(u,p,o,n.layers,n.availableImages,t,i,r,((t,i,r,n=0)=>(f||(f=_p(t,this.tileID.canonical,e.tileTransform)),i.queryIntersectsFeature(s,t,r,f,this.z,e.transform,e.pixelPosMatrix,h,n))));}return u}loadMatchingFeature(e,t,i,r,n,o,s,a,l){const{featureIndex:c,bucketIndex:h,sourceLayerIndex:u,layoutVertexArrayOffset:d}=t,p=this.bucketLayerIDs[h];if(r&&!function(e,t){for(let i=0;i<e.length;i++)if(t.indexOf(e[i])>=0)return !0;return !1}(r,p))return;const f=this.sourceLayerCoder.decode(u),m=this.vtLayers[f].feature(c);if(i.needGeometry){const e=gp(m,!0);if(!i.filter(new oa(this.tileID.overscaledZ),e,this.tileID.canonical))return}else if(!i.filter(new oa(this.tileID.overscaledZ),m))return;const _=this.getId(m,f);for(let t=0;t<p.length;t++){const i=p[t];if(r&&r.indexOf(i)<0)continue;const h=o[i];if(!h)continue;let u={};void 0!==_&&a&&(u=a.getState(h.sourceLayer||\"_geojsonTileLayer\",_));const f=k({},s[i]);f.paint=e_(f.paint,h.paint,m,u,n),f.layout=e_(f.layout,h.layout,m,u,n);const g=!l||l(m,h,u,d);if(!g)continue;const y=new Bm(m,this.z,this.x,this.y,_);y.layer=f;let x=e[i];void 0===x&&(x=e[i]=[]),x.push({featureIndex:c,feature:y,intersectionZ:g});}}lookupSymbolFeatures(e,t,i,r,n,o,s,a){const l={};this.loadVTLayers();const c=Fo(n);for(const n of e)this.loadMatchingFeature(l,{bucketIndex:i,sourceLayerIndex:r,featureIndex:n,layoutVertexArrayOffset:0},c,o,s,a,t);return l}loadFeature(e){const{featureIndex:t,sourceLayerIndex:i}=e;this.loadVTLayers();const r=this.sourceLayerCoder.decode(i),n=this.vtFeatures[r];if(n[t])return n[t];const o=this.vtLayers[r].feature(t);return n[t]=o,o}hasLayer(e){for(const t of this.bucketLayerIDs)for(const i of t)if(e===i)return !0;return !1}getId(e,t){let i=e.id;if(this.promoteId){const r=\"string\"==typeof this.promoteId?this.promoteId:this.promoteId[t];null!=r&&(i=e.properties[r]),\"boolean\"==typeof i&&(i=Number(i));}return i}}function e_(e,t,i,r,n){return q(e,((e,o)=>{const s=t instanceof pa?t.get(o):null;return s&&s.evaluate?s.evaluate(i,r,n):s}))}function t_(e,t){return t-e}Rs(Qm,\"FeatureIndex\",{omit:[\"rawTileData\",\"sourceLayerCoder\"]});const i_=Ia([{name:\"a_pos_offset\",components:4,type:\"Int16\"},{name:\"a_tex_size\",components:4,type:\"Uint16\"},{name:\"a_pixeloffset\",components:4,type:\"Int16\"}],4),r_=Ia([{name:\"a_globe_anchor\",components:3,type:\"Int16\"},{name:\"a_globe_normal\",components:3,type:\"Float32\"}],4),n_=Ia([{name:\"a_projected_pos\",components:4,type:\"Float32\"}],4);Ia([{name:\"a_fade_opacity\",components:1,type:\"Uint32\"}],4);const o_=Ia([{name:\"a_z_offset\",components:1,type:\"Float32\"}],4),s_=Ia([{name:\"a_texb\",components:2,type:\"Uint16\"}]),a_=Ia([{name:\"a_placed\",components:2,type:\"Uint8\"},{name:\"a_shift\",components:2,type:\"Float32\"}]),l_=Ia([{name:\"a_size_scale\",components:1,type:\"Float32\"},{name:\"a_padding\",components:2,type:\"Float32\"},{name:\"a_z_offset\",components:1,type:\"Float32\"}]);Ia([{type:\"Int16\",name:\"projectedAnchorX\"},{type:\"Int16\",name:\"projectedAnchorY\"},{type:\"Int16\",name:\"projectedAnchorZ\"},{type:\"Int16\",name:\"tileAnchorX\"},{type:\"Int16\",name:\"tileAnchorY\"},{type:\"Float32\",name:\"x1\"},{type:\"Float32\",name:\"y1\"},{type:\"Float32\",name:\"x2\"},{type:\"Float32\",name:\"y2\"},{type:\"Int16\",name:\"padding\"},{type:\"Uint32\",name:\"featureIndex\"},{type:\"Uint16\",name:\"sourceLayerIndex\"},{type:\"Uint16\",name:\"bucketIndex\"}]);const c_=Ia([{name:\"a_pos\",components:3,type:\"Int16\"},{name:\"a_anchor_pos\",components:2,type:\"Int16\"},{name:\"a_extrude\",components:2,type:\"Int16\"}],4),h_=Ia([{name:\"a_pos_2f\",components:2,type:\"Float32\"},{name:\"a_radius\",components:1,type:\"Float32\"},{name:\"a_flags\",components:2,type:\"Int16\"}],4);Ia([{name:\"triangle\",components:3,type:\"Uint16\"}]),Ia([{type:\"Int16\",name:\"projectedAnchorX\"},{type:\"Int16\",name:\"projectedAnchorY\"},{type:\"Int16\",name:\"projectedAnchorZ\"},{type:\"Float32\",name:\"tileAnchorX\"},{type:\"Float32\",name:\"tileAnchorY\"},{type:\"Uint16\",name:\"glyphStartIndex\"},{type:\"Uint16\",name:\"numGlyphs\"},{type:\"Uint32\",name:\"vertexStartIndex\"},{type:\"Uint32\",name:\"lineStartIndex\"},{type:\"Uint32\",name:\"lineLength\"},{type:\"Uint16\",name:\"segment\"},{type:\"Uint16\",name:\"lowerSize\"},{type:\"Uint16\",name:\"upperSize\"},{type:\"Float32\",name:\"lineOffsetX\"},{type:\"Float32\",name:\"lineOffsetY\"},{type:\"Uint8\",name:\"writingMode\"},{type:\"Uint8\",name:\"placedOrientation\"},{type:\"Uint8\",name:\"hidden\"},{type:\"Uint32\",name:\"crossTileID\"},{type:\"Int16\",name:\"associatedIconIndex\"},{type:\"Uint8\",name:\"flipState\"}]),Ia([{type:\"Float32\",name:\"tileAnchorX\"},{type:\"Float32\",name:\"tileAnchorY\"},{type:\"Int16\",name:\"projectedAnchorX\"},{type:\"Int16\",name:\"projectedAnchorY\"},{type:\"Int16\",name:\"projectedAnchorZ\"},{type:\"Int16\",name:\"rightJustifiedTextSymbolIndex\"},{type:\"Int16\",name:\"centerJustifiedTextSymbolIndex\"},{type:\"Int16\",name:\"leftJustifiedTextSymbolIndex\"},{type:\"Int16\",name:\"verticalPlacedTextSymbolIndex\"},{type:\"Int16\",name:\"placedIconSymbolIndex\"},{type:\"Int16\",name:\"verticalPlacedIconSymbolIndex\"},{type:\"Uint16\",name:\"key\"},{type:\"Uint16\",name:\"textBoxStartIndex\"},{type:\"Uint16\",name:\"textBoxEndIndex\"},{type:\"Uint16\",name:\"verticalTextBoxStartIndex\"},{type:\"Uint16\",name:\"verticalTextBoxEndIndex\"},{type:\"Uint16\",name:\"iconBoxStartIndex\"},{type:\"Uint16\",name:\"iconBoxEndIndex\"},{type:\"Uint16\",name:\"verticalIconBoxStartIndex\"},{type:\"Uint16\",name:\"verticalIconBoxEndIndex\"},{type:\"Uint16\",name:\"featureIndex\"},{type:\"Uint16\",name:\"numHorizontalGlyphVertices\"},{type:\"Uint16\",name:\"numVerticalGlyphVertices\"},{type:\"Uint16\",name:\"numIconVertices\"},{type:\"Uint16\",name:\"numVerticalIconVertices\"},{type:\"Uint16\",name:\"useRuntimeCollisionCircles\"},{type:\"Uint32\",name:\"crossTileID\"},{type:\"Float32\",components:2,name:\"textOffset\"},{type:\"Float32\",name:\"collisionCircleDiameter\"},{type:\"Float32\",name:\"zOffset\"},{type:\"Uint8\",name:\"hasIconTextFit\"}]),Ia([{type:\"Float32\",name:\"offsetX\"}]),Ia([{type:\"Int16\",name:\"x\"},{type:\"Int16\",name:\"y\"}]);var u_=24;const d_=128;function p_(e,t){const{expression:i}=t;if(\"constant\"===i.kind)return {kind:\"constant\",layoutSize:i.evaluate(new oa(e+1))};if(\"source\"===i.kind)return {kind:\"source\"};{const{zoomStops:t,interpolationType:r}=i;let n=0;for(;n<t.length&&t[n]<=e;)n++;n=Math.max(0,n-1);let o=n;for(;o<t.length&&t[o]<e+1;)o++;o=Math.min(t.length-1,o);const s=t[n],a=t[o];return \"composite\"===i.kind?{kind:\"composite\",minZoom:s,maxZoom:a,interpolationType:r}:{kind:\"camera\",minZoom:s,maxZoom:a,minSize:i.evaluate(new oa(s)),maxSize:i.evaluate(new oa(a)),interpolationType:r}}}function f_(e,{uSize:t,uSizeT:i},{lowerSize:r,upperSize:n}){return \"source\"===e.kind?r/d_:\"composite\"===e.kind?Kr(r/d_,n/d_,i):t}function m_(e,t){let i=0,r=0;if(\"constant\"===e.kind)r=e.layoutSize;else if(\"source\"!==e.kind){const{interpolationType:n,minZoom:o,maxZoom:s}=e,a=n?z(bn.interpolationFactor(n,t,o,s),0,1):0;\"camera\"===e.kind?r=Kr(e.minSize,e.maxSize,a):i=a;}return {uSizeT:i,uSize:r}}var __=Object.freeze({__proto__:null,SIZE_PACK_FACTOR:d_,evaluateSizeForFeature:f_,evaluateSizeForZoom:m_,getSizeData:p_});function g_(e,t,i){return e.sections.forEach((e=>{e.text=function(e,t,i){const r=t.layout.get(\"text-transform\").evaluate(i,{});return \"uppercase\"===r?e=e.toLocaleUpperCase():\"lowercase\"===r&&(e=e.toLocaleLowerCase()),na.applyArabicShaping&&(e=na.applyArabicShaping(e)),e}(e.text,t,i);})),e}const y_={\"!\":\"ï¸\",\"#\":\"ï¼\",$:\"ï¼\",\"%\":\"ï¼\",\"&\":\"ï¼\",\"(\":\"ï¸µ\",\")\":\"ï¸¶\",\"*\":\"ï¼\",\"+\":\"ï¼\",\",\":\"ï¸\",\"-\":\"ï¸²\",\".\":\"ã»\",\"/\":\"ï¼\",\":\":\"ï¸\",\";\":\"ï¸\",\"<\":\"ï¸¿\",\"=\":\"ï¼\",\">\":\"ï¹\",\"?\":\"ï¸\",\"@\":\"ï¼ \",\"[\":\"ï¹\",\"\\\\\":\"ï¼¼\",\"]\":\"ï¹\",\"^\":\"ï¼¾\",_:\"ï¸³\",\"`\":\"ï½\",\"{\":\"ï¸·\",\"|\":\"â\",\"}\":\"ï¸¸\",\"~\":\"ï½\",\"Â¢\":\"ï¿ \",\"Â£\":\"ï¿¡\",\"Â¥\":\"ï¿¥\",\"Â¦\":\"ï¿¤\",\"Â¬\":\"ï¿¢\",\"Â¯\":\"ï¿£\",\"â\":\"ï¸²\",\"â\":\"ï¸±\",\"â\":\"ï¹\",\"â\":\"ï¹\",\"â\":\"ï¹\",\"â\":\"ï¹\",\"â¦\":\"ï¸\",\"â§\":\"ã»\",\"â©\":\"ï¿¦\",\"ã\":\"ï¸\",\"ã\":\"ï¸\",\"ã\":\"ï¸¿\",\"ã\":\"ï¹\",\"ã\":\"ï¸½\",\"ã\":\"ï¸¾\",\"ã\":\"ï¹\",\"ã\":\"ï¹\",\"ã\":\"ï¹\",\"ã\":\"ï¹\",\"ã\":\"ï¸»\",\"ã\":\"ï¸¼\",\"ã\":\"ï¸¹\",\"ã\":\"ï¸º\",\"ã\":\"ï¸\",\"ã\":\"ï¸\",\"ï¼\":\"ï¸\",\"ï¼\":\"ï¸µ\",\"ï¼\":\"ï¸¶\",\"ï¼\":\"ï¸\",\"ï¼\":\"ï¸²\",\"ï¼\":\"ã»\",\"ï¼\":\"ï¸\",\"ï¼\":\"ï¸\",\"ï¼\":\"ï¸¿\",\"ï¼\":\"ï¹\",\"ï¼\":\"ï¸\",\"ï¼»\":\"ï¹\",\"ï¼½\":\"ï¹\",\"ï¼¿\":\"ï¸³\",\"ï½\":\"ï¸·\",\"ï½\":\"â\",\"ï½\":\"ï¸¸\",\"ï½\":\"ï¸µ\",\"ï½ \":\"ï¸¶\",\"ï½¡\":\"ï¸\",\"ï½¢\":\"ï¹\",\"ï½£\":\"ï¹\",\"â\":\"â\",\"â\":\"â\"};function x_(e){return \"ï¸¶\"===e||\"ï¹\"===e||\"ï¸¸\"===e||\"ï¹\"===e||\"ï¹\"===e||\"ï¸¾\"===e||\"ï¸¼\"===e||\"ï¸º\"===e||\"ï¸\"===e||\"ï¹\"===e||\"ï¸\"===e||\"ï¸\"===e||\"ï¸\"===e||\"ï½\"===e||\"ï¿£\"===e||\"ï¸\"===e||\"ï¸\"===e}function v_(e){return \"ï¸µ\"===e||\"ï¹\"===e||\"ï¸·\"===e||\"ï¹\"===e||\"ï¹\"===e||\"ï¸½\"===e||\"ï¸»\"===e||\"ï¸¹\"===e||\"ï¸\"===e||\"ï¸¿\"===e}const b_=3;function w_(e,t,i){t.glyphs=[],1===e&&i.readMessage(T_,t);}function T_(e,t,i){if(3===e){const{id:e,bitmap:r,width:n,height:o,left:s,top:a,advance:l}=i.readMessage(E_,{});t.glyphs.push({id:e,bitmap:new Qp({width:n+2*b_,height:o+2*b_},r),metrics:{width:n,height:o,left:s,top:a,advance:l}});}else 4===e?t.ascender=i.readSVarint():5===e&&(t.descender=i.readSVarint());}function E_(e,t,i){1===e?t.id=i.readVarint():2===e?t.bitmap=i.readBytes():3===e?t.width=i.readVarint():4===e?t.height=i.readVarint():5===e?t.left=i.readSVarint():6===e?t.top=i.readSVarint():7===e&&(t.advance=i.readVarint());}const M_=b_,A_={horizontal:1,vertical:2,horizontalOnly:3},S_=-17;class I_{constructor(){this.scale=1,this.fontStack=\"\",this.imageName=null;}static forText(e,t){const i=new I_;return i.scale=e||1,i.fontStack=t,i}static forImage(e){const t=new I_;return t.imageName=e,t}}class C_{constructor(){this.text=\"\",this.sectionIndex=[],this.sections=[],this.imageSectionID=null;}static fromFeature(e,t){const i=new C_;for(let r=0;r<e.sections.length;r++){const n=e.sections[r];n.image?i.addImageSection(n):i.addTextSection(n,t);}return i}length(){return this.text.length}getSection(e){return this.sections[this.sectionIndex[e]]}getSections(){return this.sections}getSectionIndex(e){return this.sectionIndex[e]}getCodePoint(e){return this.text.codePointAt(e)}verticalizePunctuation(e){this.text=function(e,t){let i=\"\";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r+1)||null,o=e.charCodeAt(r-1)||null;i+=!t&&(n&&Gs(n)&&!y_[e[r+1]]||o&&Gs(o)&&!y_[e[r-1]])||!y_[e[r]]?e[r]:y_[e[r]];}return i}(this.text,e);}trim(){let e=0;for(let t=0;t<this.text.length&&P_[this.text.charCodeAt(t)];t++)e++;let t=this.text.length;for(let i=this.text.length-1;i>=0&&i>=e&&P_[this.text.charCodeAt(i)];i--)t--;this.text=this.text.substring(e,t),this.sectionIndex=this.sectionIndex.slice(e,t);}substring(e,t){const i=new C_;return i.text=this.text.substring(e,t),i.sectionIndex=this.sectionIndex.slice(e,t),i.sections=this.sections,i}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce(((e,t)=>Math.max(e,this.sections[t].scale)),0)}addTextSection(e,t){this.text+=e.text,this.sections.push(I_.forText(e.scale,e.fontStack||t));const i=this.sections.length-1;for(let t=0;t<e.text.length;++t)this.sectionIndex.push(i);}addImageSection(e){const t=e.image?e.image.namePrimary:\"\";if(0===t.length)return void H(\"Can't add FormattedSection with an empty image.\");const i=this.getNextImageSectionCharCode();i?(this.text+=String.fromCodePoint(i),this.sections.push(I_.forImage(t)),this.sectionIndex.push(this.sections.length-1)):H(\"Reached maximum number of images 6401\");}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function z_(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f){const m=C_.fromFeature(e,n);u===A_.vertical&&m.verticalizePunctuation(d);let _=[];const g=function(e,t,i,r,n,o){if(!e)return [];const s=[],a=function(e,t,i,r,n,o){let s=0;for(let i=0;i<e.length();i++){const a=e.getSection(i);s+=R_(e.getCodePoint(i),a,r,n,t,o);}return s/Math.max(1,Math.ceil(s/i))}(e,t,i,r,n,o),l=e.text.indexOf(\"â\")>=0;let c=0;for(let i=0;i<e.length();i++){const u=e.getSection(i),d=e.getCodePoint(i);if(P_[d]||(c+=R_(d,u,r,n,t,o)),i<e.length()-1){const t=!((h=d)<11904||!(Fs[\"Bopomofo Extended\"](h)||Fs.Bopomofo(h)||Fs[\"CJK Compatibility Forms\"](h)||Fs[\"CJK Compatibility Ideographs\"](h)||Fs[\"CJK Compatibility\"](h)||Fs[\"CJK Radicals Supplement\"](h)||Fs[\"CJK Strokes\"](h)||Fs[\"CJK Symbols and Punctuation\"](h)||Fs[\"CJK Unified Ideographs Extension A\"](h)||Fs[\"CJK Unified Ideographs\"](h)||Fs[\"Enclosed CJK Letters and Months\"](h)||Fs[\"Halfwidth and Fullwidth Forms\"](h)||Fs.Hiragana(h)||Fs[\"Ideographic Description Characters\"](h)||Fs[\"Kangxi Radicals\"](h)||Fs[\"Katakana Phonetic Extensions\"](h)||Fs.Katakana(h)||Fs[\"Vertical Forms\"](h)||Fs[\"Yi Radicals\"](h)||Fs[\"Yi Syllables\"](h)));(D_[d]||t||u.imageName)&&s.push(O_(i+1,c,a,s,k_(d,e.getCodePoint(i+1),t&&l),!1));}}var h;return B_(O_(e.length(),c,a,s,0,!0))}(m,c,o,t,r,p),{processBidirectionalText:y,processStyledBidirectionalText:x}=na;if(y&&1===m.sections.length){const e=y(m.toString(),g);for(const t of e){const e=new C_;e.text=t,e.sections=m.sections;for(let i=0;i<t.length;i++)e.sectionIndex.push(0);_.push(e);}}else if(x){const e=x(m.text,m.sectionIndex,g);for(const t of e){const e=new C_;e.text=t[0],e.sectionIndex=t[1],e.sections=m.sections,_.push(e);}}else _=function(e,t){const i=[],r=e.text;let n=0;for(const r of t)i.push(e.substring(n,r)),n=r;return n<r.length&&i.push(e.substring(n,r.length)),i}(m,g);const v=[],b={positionedLines:v,text:m.toString(),top:h[1],bottom:h[1],left:h[0],right:h[0],writingMode:u,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(e,t,i,r,n,o,s,a,l,c,h,u){let d=0,p=0,f=0;const m=\"right\"===a?1:\"left\"===a?0:.5;let _=!1;for(const e of n){const i=e.getSections();for(const e of i){if(e.imageName)continue;const i=t[e.fontStack];if(i&&(_=void 0!==i.ascender&&void 0!==i.descender,!_))break}if(!_)break}let g=0;for(const s of n){s.trim();const n=s.getMaxScale(),a=(n-1)*u_,x={positionedGlyphs:[],lineOffset:0};e.positionedLines[g]=x;const v=x.positionedGlyphs;let b=0;if(!s.length()){p+=o,++g;continue}let w=0,T=0;for(let o=0;o<s.length();o++){const a=s.getSection(o),f=s.getSectionIndex(o),m=s.getCodePoint(o);let g=a.scale,x=null,E=null,M=null,A=u_,S=0;const I=!(l===A_.horizontal||!h&&!js(m)||h&&(P_[m]||(y=m,Fs.Arabic(y)||Fs[\"Arabic Supplement\"](y)||Fs[\"Arabic Extended-A\"](y)||Fs[\"Arabic Presentation Forms-A\"](y)||Fs[\"Arabic Presentation Forms-B\"](y))));if(a.imageName){const t=r[a.imageName];if(!t)continue;M=a.imageName,e.iconsInText=e.iconsInText||!0,E=t.paddedRect;const i=t.displaySize;g=g*u_/u,x={width:i[0],height:i[1],left:0,top:-M_,advance:I?i[1]:i[0],localGlyph:!1},S=_?-x.height*g:S_+n*u_-i[1]*g,A=x.advance;const o=(I?i[0]:i[1])*g-u_*n;o>0&&o>b&&(b=o);}else {const e=i[a.fontStack];if(!e)continue;e[m]&&(E=e[m]);const r=t[a.fontStack];if(!r)continue;const o=r.glyphs[m];if(!o)continue;if(x=o.metrics,A=8203!==m?u_:0,_){const e=void 0!==r.ascender?Math.abs(r.ascender):0,t=void 0!==r.descender?Math.abs(r.descender):0,i=(e+t)*g;w<i&&(w=i,T=(e-t)/2*g),S=-e*g;}else S=S_+(n-g)*u_;}I?(e.verticalizable=!0,v.push({glyph:m,imageName:M,x:d,y:p+S,vertical:I,scale:g,localGlyph:x.localGlyph,fontStack:a.fontStack,sectionIndex:f,metrics:x,rect:E}),d+=A*g+c):(v.push({glyph:m,imageName:M,x:d,y:p+S,vertical:I,scale:g,localGlyph:x.localGlyph,fontStack:a.fontStack,sectionIndex:f,metrics:x,rect:E}),d+=x.advance*g+c);}0!==v.length&&(f=Math.max(d-c,f),_?N_(v,m,b,T,o*n/2):N_(v,m,b,0,o/2)),d=0;const E=o*n+b;x.lineOffset=Math.max(b,a),p+=E,++g;}var y;const x=p,{horizontalAlign:v,verticalAlign:b}=F_(s);((function(e,t,i,r,n,o){const s=(t-i)*n,a=-o*r;for(const t of e)for(const e of t.positionedGlyphs)e.x+=s,e.y+=a;}))(e.positionedLines,m,v,b,f,x),e.top+=-b*x,e.bottom=e.top+x,e.left+=-v*f,e.right=e.left+f,e.hasBaseline=_;}(b,t,i,r,_,s,a,l,u,c,d,f),!function(e){for(const t of e)if(0!==t.positionedGlyphs.length)return !1;return !0}(v)&&b}const P_={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},D_={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function R_(e,t,i,r,n,o){if(t.imageName){const e=r[t.imageName];return e?e.displaySize[0]*t.scale*u_/o+n:0}{const r=i[t.fontStack],o=r&&r.glyphs[e];return o?o.metrics.advance*t.scale+n:0}}function L_(e,t,i,r){const n=Math.pow(e-t,2);return r?e<t?n/2:2*n:n+Math.abs(i)*i}function k_(e,t,i){let r=0;return 10===e&&(r-=1e4),i&&(r+=150),40!==e&&65288!==e||(r+=50),41!==t&&65289!==t||(r+=50),r}function O_(e,t,i,r,n,o){let s=null,a=L_(t,i,n,o);for(const e of r){const r=L_(t-e.x,i,n,o)+e.badness;r<=a&&(s=e,a=r);}return {index:e,x:t,priorBreak:s,badness:a}}function B_(e){return e?B_(e.priorBreak).concat(e.index):[]}function F_(e){let t=.5,i=.5;switch(e){case\"right\":case\"top-right\":case\"bottom-right\":t=1;break;case\"left\":case\"top-left\":case\"bottom-left\":t=0;}switch(e){case\"bottom\":case\"bottom-right\":case\"bottom-left\":i=1;break;case\"top\":case\"top-right\":case\"top-left\":i=0;}return {horizontalAlign:t,verticalAlign:i}}function N_(e,t,i,r,n){if(!(t||i||r||n))return;const o=e.length-1,s=e[o],a=(s.x+s.metrics.advance*s.scale)*t;for(let t=0;t<=o;t++)e[t].x-=a,e[t].y+=i+r+n;}function U_(e,t,i,r){const{horizontalAlign:n,verticalAlign:o}=F_(r),s=i[0]-e.displaySize[0]*n,a=i[1]-e.displaySize[1]*o;return {imagePrimary:e,imageSecondary:t,top:a,bottom:a+e.displaySize[1],left:s,right:s+e.displaySize[0]}}function V_(e,t,i,r,n,o){const s=e.imagePrimary;let a;if(s.content){const e=s.content,t=s.pixelRatio||1;a=[e[0]/t,e[1]/t,s.displaySize[0]-e[2]/t,s.displaySize[1]-e[3]/t];}const l=t.left*o,c=t.right*o;let h,u,d,p;\"width\"===i||\"both\"===i?(p=n[0]+l-r[3],u=n[0]+c+r[1]):(p=n[0]+(l+c-s.displaySize[0])/2,u=p+s.displaySize[0]);const f=t.top*o,m=t.bottom*o;return \"height\"===i||\"both\"===i?(h=n[1]+f-r[0],d=n[1]+m+r[2]):(h=n[1]+(f+m-s.displaySize[1])/2,d=h+s.displaySize[1]),{imagePrimary:s,imageSecondary:void 0,top:h,right:u,bottom:d,left:p,collisionPadding:a}}class j_ extends y{constructor(e,t,i,r,n){super(e,t),this.angle=r,this.z=i,void 0!==n&&(this.segment=n);}clone(){return new j_(this.x,this.y,this.z,this.angle,this.segment)}}function G_(e,t,i,r,n){if(void 0===t.segment)return !0;let o=t,s=t.segment+1,a=0;for(;a>-i/2;){if(s--,s<0)return !1;a-=e[s].dist(o),o=e[s];}a+=e[s].dist(e[s+1]),s++;const l=[];let c=0;for(;a<i/2;){const t=e[s],i=e[s+1];if(!i)return !1;let o=e[s-1].angleTo(t)-t.angleTo(i);for(o=Math.abs((o+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:a,angleDelta:o}),c+=o;a-l[0].distance>r;)c-=l.shift().angleDelta;if(c>n)return !1;s++,a+=t.dist(i);}return !0}function q_(e){let t=0;for(let i=0;i<e.length-1;i++)t+=e[i].dist(e[i+1]);return t}function Z_(e,t,i){return e?.6*t*i:0}function $_(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function W_(e,t,i,r,n,o){const s=Z_(i,n,o),a=$_(i,r)*o;let l=0;const c=q_(e)/2;for(let i=0;i<e.length-1;i++){const r=e[i],n=e[i+1],o=r.dist(n);if(l+o>c){const h=(c-l)/o,u=Kr(r.x,n.x,h),d=Kr(r.y,n.y,h),p=new j_(u,d,0,n.angleTo(r),i);return !s||G_(e,p,a,s,t)?p:void 0}l+=o;}}function H_(e,t,i,r,n,o,s,a,l){const c=Z_(r,o,s),h=$_(r,n),u=h*s,d=0===e[0].x||e[0].x===l||0===e[0].y||e[0].y===l;return t-u<t/4&&(t=u+t/4),X_(e,d?t/2*a%t:(h/2+2*o)*s*a%t,t,c,i,u,d,!1,l)}function X_(e,t,i,r,n,o,s,a,l){const c=o/2,h=q_(e);let u=0,d=t-i,p=[];for(let t=0;t<e.length-1;t++){const s=e[t],a=e[t+1],f=s.dist(a),m=a.angleTo(s);for(;d+i<u+f;){d+=i;const _=(d-u)/f,g=Kr(s.x,a.x,_),y=Kr(s.y,a.y,_);if(g>=0&&g<l&&y>=0&&y<l&&d-c>=0&&d+c<=h){const i=new j_(g,y,0,m,t);r&&!G_(e,i,o,r,n)||p.push(i);}}u+=f;}return a||p.length||s||(p=X_(e,u/2,i,r,n,o,s,!0,l)),p}function Y_(e,t,i,r,n){const o=[];for(let s=0;s<e.length;s++){const a=e[s];let l;for(let e=0;e<a.length-1;e++){let s=a[e],c=a[e+1];s.x<t&&c.x<t||(s.x<t?s=new y(t,s.y+(t-s.x)/(c.x-s.x)*(c.y-s.y))._round():c.x<t&&(c=new y(t,s.y+(t-s.x)/(c.x-s.x)*(c.y-s.y))._round()),s.y<i&&c.y<i||(s.y<i?s=new y(s.x+(i-s.y)/(c.y-s.y)*(c.x-s.x),i)._round():c.y<i&&(c=new y(s.x+(i-s.y)/(c.y-s.y)*(c.x-s.x),i)._round()),s.x>=r&&c.x>=r||(s.x>=r?s=new y(r,s.y+(r-s.x)/(c.x-s.x)*(c.y-s.y))._round():c.x>=r&&(c=new y(r,s.y+(r-s.x)/(c.x-s.x)*(c.y-s.y))._round()),s.y>=n&&c.y>=n||(s.y>=n?s=new y(s.x+(n-s.y)/(c.y-s.y)*(c.x-s.x),n)._round():c.y>=n&&(c=new y(s.x+(n-s.y)/(c.y-s.y)*(c.x-s.x),n)._round()),l&&s.equals(l[l.length-1])||(l=[s],o.push(l)),l.push(c)))));}}return o}function K_(e){let t=0,i=0;for(const r of e)t+=r.w*r.h,i=Math.max(i,r.w);e.sort(((e,t)=>t.h-e.h));const r=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),i),h:1/0}];let n=0,o=0;for(const t of e)for(let e=r.length-1;e>=0;e--){const i=r[e];if(!(t.w>i.w||t.h>i.h)){if(t.x=i.x,t.y=i.y,o=Math.max(o,t.y+t.h),n=Math.max(n,t.x+t.w),t.w===i.w&&t.h===i.h){const t=r.pop();e<r.length&&(r[e]=t);}else t.h===i.h?(i.x+=t.w,i.w-=t.w):t.w===i.w?(i.y+=t.h,i.h-=t.h):(r.push({x:i.x+t.w,y:i.y,w:i.w-t.w,h:t.h}),i.y+=t.h,i.h-=t.h);break}}return {w:n,h:o,fill:t/(n*o)||0}}Rs(j_,\"Anchor\");const J_=1;class Q_{constructor(e,{pixelRatio:t,version:i,stretchX:r,stretchY:n,content:o}){this.paddedRect=e,this.pixelRatio=t,this.stretchX=r,this.stretchY=n,this.content=o,this.version=i;}get tl(){return [this.paddedRect.x+J_,this.paddedRect.y+J_]}get br(){return [this.paddedRect.x+this.paddedRect.w-J_,this.paddedRect.y+this.paddedRect.h-J_]}get displaySize(){return [(this.paddedRect.w-2*J_)/this.pixelRatio,(this.paddedRect.h-2*J_)/this.pixelRatio]}}class eg{constructor(e,t){const i={},r={};this.haveRenderCallbacks=[];const n=[];this.addImages(e,i,n),this.addImages(t,r,n);const{w:o,h:s}=K_(n),a=new ef({width:o||1,height:s||1});for(const t in e){const r=e[t],n=i[t].paddedRect;ef.copy(r.data,a,{x:0,y:0},{x:n.x+J_,y:n.y+J_},r.data);}for(const e in t){const i=t[e],n=r[e].paddedRect,o=n.x+J_,s=n.y+J_,l=i.data.width,c=i.data.height;ef.copy(i.data,a,{x:0,y:0},{x:o,y:s},i.data),ef.copy(i.data,a,{x:0,y:c-1},{x:o,y:s-1},{width:l,height:1}),ef.copy(i.data,a,{x:0,y:0},{x:o,y:s+c},{width:l,height:1}),ef.copy(i.data,a,{x:l-1,y:0},{x:o-1,y:s},{width:1,height:c}),ef.copy(i.data,a,{x:0,y:0},{x:o+l,y:s},{width:1,height:c});}this.image=a,this.iconPositions=i,this.patternPositions=r;}addImages(e,t,i){for(const r in e){const n=e[r],o={x:0,y:0,w:n.data.width+2*J_,h:n.data.height+2*J_};i.push(o),t[r]=new Q_(o,n),n.hasRenderCallback&&this.haveRenderCallbacks.push(r);}}patchUpdatedImages(e,t,i){this.haveRenderCallbacks=this.haveRenderCallbacks.filter((t=>e.hasImage(t,i))),e.dispatchRenderCallbacks(this.haveRenderCallbacks,i);for(const r in e.getUpdatedImages(i))this.patchUpdatedImage(this.iconPositions[r],e.getImage(r,i),t),this.patchUpdatedImage(this.patternPositions[r],e.getImage(r,i),t);}patchUpdatedImage(e,t,i){if(!e||!t)return;if(e.version===t.version)return;e.version=t.version;const[r,n]=e.tl;i.update(t.data,void 0,{x:r,y:n});}}Rs(Q_,\"ImagePosition\"),Rs(eg,\"ImageAtlas\");const tg=1e20;function ig(e,t,i,r,n,o,s,a,l){for(let c=t;c<t+r;c++)rg(e,i*o+c,o,n,s,a,l);for(let c=i;c<i+n;c++)rg(e,c*o+t,1,r,s,a,l);}function rg(e,t,i,r,n,o,s){o[0]=0,s[0]=-tg,s[1]=tg,n[0]=e[t];for(let a=1,l=0,c=0;a<r;a++){n[a]=e[t+a*i];const r=a*a;do{const e=o[l];c=(n[a]-n[e]+r-e*e)/(a-e)/2;}while(c<=s[l]&&--l>-1);l++,o[l]=a,s[l]=c,s[l+1]=tg;}for(let a=0,l=0;a<r;a++){for(;s[l+1]<a;)l++;const r=o[l],c=a-r;e[t+a*i]=n[r]+c*c;}}const ng=2;class og{constructor(e,t,i){this.requestManager=e,this.localGlyphMode=t,this.localFontFamily=i,this.urls={},this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}};}setURL(e,t){this.urls[t]=e;}getGlyphs(e,t,i){const r=[],o=this.urls[t]||n.GLYPHS_URL;for(const t in e)for(const i of e[t])r.push({stack:t,id:i});R(r,(({stack:e,id:t},i)=>{let r=this.entries[e];r||(r=this.entries[e]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let n=r.glyphs[t];if(void 0!==n)return void i(null,{stack:e,id:t,glyph:n});if(n=this._tinySDF(r,e,t),n)return r.glyphs[t]=n,void i(null,{stack:e,id:t,glyph:n});const s=Math.floor(t/256);if(256*s>65535)return void i(new Error(\"glyphs > 65535 not supported\"));if(r.ranges[s])return void i(null,{stack:e,id:t,glyph:n});let a=r.requests[s];a||(a=r.requests[s]=[],og.loadGlyphRange(e,s,o,this.requestManager,((e,t)=>{if(t){r.ascender=t.ascender,r.descender=t.descender;for(const e in t.glyphs)this._doesCharSupportLocalGlyph(+e)||(r.glyphs[+e]=t.glyphs[+e]);r.ranges[s]=!0;}for(const i of a)i(e,t);delete r.requests[s];}))),a.push(((r,n)=>{r?i(r):n&&i(null,{stack:e,id:t,glyph:n.glyphs[t]||null});}));}),((e,t)=>{if(e)i(e);else if(t){const e={};for(const{stack:i,id:r,glyph:n}of t)void 0===e[i]&&(e[i]={}),void 0===e[i].glyphs&&(e[i].glyphs={}),e[i].glyphs[r]=n&&{id:n.id,bitmap:n.bitmap.clone(),metrics:n.metrics},e[i].ascender=this.entries[i].ascender,e[i].descender=this.entries[i].descender;i(null,e);}}));}_doesCharSupportLocalGlyph(e){return 0!==this.localGlyphMode&&(2===this.localGlyphMode?!!this.localFontFamily:!!this.localFontFamily&&(Fs[\"CJK Unified Ideographs\"](e)||Fs[\"Hangul Syllables\"](e)||Fs.Hiragana(e)||Fs.Katakana(e)||Fs[\"CJK Symbols and Punctuation\"](e)||Fs[\"CJK Unified Ideographs Extension A\"](e)||Fs[\"CJK Unified Ideographs Extension B\"](e)))}_tinySDF(e,t,i){const r=this.localFontFamily;if(!r||!this._doesCharSupportLocalGlyph(i))return;let n=e.tinySDF;if(!n){let i=\"400\";/bold/i.test(t)?i=\"900\":/medium/i.test(t)?i=\"500\":/light/i.test(t)&&(i=\"200\"),n=e.tinySDF=new og.TinySDF({fontFamily:r,fontWeight:i,fontSize:24*ng,buffer:3*ng,radius:8*ng}),n.fontWeight=i;}if(this.localGlyphs[n.fontWeight][i])return this.localGlyphs[n.fontWeight][i];const o=String.fromCodePoint(i),{data:s,width:a,height:l,glyphWidth:c,glyphHeight:h,glyphLeft:u,glyphTop:d,glyphAdvance:p}=n.draw(o);return this.localGlyphs[n.fontWeight][i]={id:i,bitmap:new Qp({width:a,height:l},s),metrics:{width:c/ng,height:h/ng,left:u/ng,top:d/ng-27,advance:p/ng,localGlyph:!0}}}}og.loadGlyphRange=function(e,t,i,r,n){const o=256*t,s=o+255,a=r.transformRequest(r.normalizeGlyphsURL(i).replace(\"{fontstack}\",e).replace(\"{range}\",`${o}-${s}`),ye.Glyphs);Te(a,((e,t)=>{if(e)n(e);else if(t){const e={},i=function(e){return new km(e).readFields(w_,{})}(t);for(const t of i.glyphs)e[t.id]=t;n(null,{glyphs:e,ascender:i.ascender,descender:i.descender});}}));},og.TinySDF=class{constructor({fontSize:e=24,buffer:t=3,radius:i=8,cutoff:r=.25,fontFamily:n=\"sans-serif\",fontWeight:o=\"normal\",fontStyle:s=\"normal\"}={}){this.buffer=t,this.cutoff=r,this.radius=i;const a=this.size=e+4*t,l=this._createCanvas(a),c=this.ctx=l.getContext(\"2d\",{willReadFrequently:!0});c.font=`${s} ${o} ${e}px ${n}`,c.textBaseline=\"alphabetic\",c.textAlign=\"left\",c.fillStyle=\"black\",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Uint16Array(a);}_createCanvas(e){const t=document.createElement(\"canvas\");return t.width=t.height=e,t}draw(e){const{width:t,actualBoundingBoxAscent:i,actualBoundingBoxDescent:r,actualBoundingBoxLeft:n,actualBoundingBoxRight:o}=this.ctx.measureText(e),s=Math.ceil(i),a=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(o-n))),l=Math.min(this.size-this.buffer,s+Math.ceil(r)),c=a+2*this.buffer,h=l+2*this.buffer,u=Math.max(c*h,0),d=new Uint8ClampedArray(u),p={data:d,width:c,height:h,glyphWidth:a,glyphHeight:l,glyphTop:s,glyphLeft:0,glyphAdvance:t};if(0===a||0===l)return p;const{ctx:f,buffer:m,gridInner:_,gridOuter:g}=this;f.clearRect(m,m,a,l),f.fillText(e,m,m+s);const y=f.getImageData(m,m,a,l);g.fill(tg,0,u),_.fill(0,0,u);for(let e=0;e<l;e++)for(let t=0;t<a;t++){const i=y.data[4*(e*a+t)+3]/255;if(0===i)continue;const r=(e+m)*c+t+m;if(1===i)g[r]=0,_[r]=tg;else {const e=.5-i;g[r]=e>0?e*e:0,_[r]=e<0?e*e:0;}}ig(g,0,0,c,h,c,this.f,this.v,this.z),ig(_,m,m,a,l,c,this.f,this.v,this.z);for(let e=0;e<u;e++){const t=Math.sqrt(g[e])-Math.sqrt(_[e]);d[e]=Math.round(255-255*(t/this.radius+this.cutoff));}return p}};const sg=J_;function ag(e,t,i,r){const n=[],o=e.imagePrimary,s=o.pixelRatio,a=o.paddedRect.w-2*sg,l=o.paddedRect.h-2*sg,c=e.right-e.left,h=e.bottom-e.top,u=o.stretchX||[[0,a]],d=o.stretchY||[[0,l]],p=(e,t)=>e+t[1]-t[0],f=u.reduce(p,0),m=d.reduce(p,0),_=a-f,g=l-m;let x=0,v=f,b=0,w=m,T=0,E=_,M=0,A=g;if(o.content&&r){const e=o.content;x=lg(u,0,e[0]),b=lg(d,0,e[1]),v=lg(u,e[0],e[2]),w=lg(d,e[1],e[3]),T=e[0]-x,M=e[1]-b,E=e[2]-e[0]-v,A=e[3]-e[1]-w;}const S=(r,n,a,l)=>{const u=hg(r.stretch-x,v,c,e.left),d=ug(r.fixed-T,E,r.stretch,f),p=hg(n.stretch-b,w,h,e.top),_=ug(n.fixed-M,A,n.stretch,m),g=hg(a.stretch-x,v,c,e.left),S=ug(a.fixed-T,E,a.stretch,f),I=hg(l.stretch-b,w,h,e.top),C=ug(l.fixed-M,A,l.stretch,m),z=new y(u,p),P=new y(g,p),D=new y(g,I),R=new y(u,I),L=new y(d/s,_/s),k=new y(S/s,C/s),O=t*Math.PI/180;if(O){const e=Math.sin(O),t=Math.cos(O),i=[t,-e,e,t];z._matMult(i),P._matMult(i),R._matMult(i),D._matMult(i);}const B=r.stretch+r.fixed,F=a.stretch+a.fixed,N=n.stretch+n.fixed,U=l.stretch+l.fixed,V=e.imageSecondary;return {tl:z,tr:P,bl:R,br:D,texPrimary:{x:o.paddedRect.x+sg+B,y:o.paddedRect.y+sg+N,w:F-B,h:U-N},texSecondary:V?{x:V.paddedRect.x+sg+B,y:V.paddedRect.y+sg+N,w:F-B,h:U-N}:void 0,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:L,pixelOffsetBR:k,minFontScaleX:E/s/c,minFontScaleY:A/s/h,isSDF:i}};if(r&&(o.stretchX||o.stretchY)){const e=cg(u,_,f),t=cg(d,g,m);for(let i=0;i<e.length-1;i++){const r=e[i],o=e[i+1];for(let e=0;e<t.length-1;e++)n.push(S(r,t[e],o,t[e+1]));}}else n.push(S({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:a+1},{fixed:0,stretch:l+1}));return n}function lg(e,t,i){let r=0;for(const n of e)r+=Math.max(t,Math.min(i,n[1]))-Math.max(t,Math.min(i,n[0]));return r}function cg(e,t,i){const r=[{fixed:-sg,stretch:0}];for(const[t,i]of e){const e=r[r.length-1];r.push({fixed:t-e.stretch,stretch:e.stretch}),r.push({fixed:t-e.stretch,stretch:e.stretch+(i-t)});}return r.push({fixed:t+sg,stretch:i}),r}function hg(e,t,i,r){return e/t*i+r}function ug(e,t,i,r){return e-t*i/r}function dg(e,t,i,r){const n=t+e.positionedLines[r].lineOffset;return 0===r?i+n/2:i+(n+(t+e.positionedLines[r-1].lineOffset))/2}function pg(e,t=1,i=!1){let r=1/0,n=1/0,o=-1/0,s=-1/0;const a=e[0];for(let e=0;e<a.length;e++){const t=a[e];(!e||t.x<r)&&(r=t.x),(!e||t.y<n)&&(n=t.y),(!e||t.x>o)&&(o=t.x),(!e||t.y>s)&&(s=t.y);}const l=Math.min(o-r,s-n);let c=l/2;const h=new lr([],fg);if(0===l)return new y(r,n);for(let t=r;t<o;t+=l)for(let i=n;i<s;i+=l)h.push(new mg(t+c,i+c,c,e));let u=function(e){let t=0,i=0,r=0;const n=e[0];for(let e=0,o=n.length,s=o-1;e<o;s=e++){const o=n[e],a=n[s],l=o.x*a.y-a.x*o.y;i+=(o.x+a.x)*l,r+=(o.y+a.y)*l,t+=3*l;}return new mg(i/t,r/t,0,e)}(e),d=h.length;for(;h.length;){const r=h.pop();(r.d>u.d||!u.d)&&(u=r,i&&console.log(\"found best %d after %d probes\",Math.round(1e4*r.d)/1e4,d)),r.max-u.d<=t||(c=r.h/2,h.push(new mg(r.p.x-c,r.p.y-c,c,e)),h.push(new mg(r.p.x+c,r.p.y-c,c,e)),h.push(new mg(r.p.x-c,r.p.y+c,c,e)),h.push(new mg(r.p.x+c,r.p.y+c,c,e)),d+=4);}return i&&(console.log(`num probes: ${d}`),console.log(`best distance: ${u.d}`)),u.p}function fg(e,t){return t.max-e.max}class mg{constructor(e,t,i,r){this.p=new y(e,t),this.h=i,this.d=function(e,t){let i=!1,r=1/0;for(let n=0;n<t.length;n++){const o=t[n];for(let t=0,n=o.length,s=n-1;t<n;s=t++){const n=o[t],a=o[s];n.y>e.y!=a.y>e.y&&e.x<(a.x-n.x)*(e.y-n.y)/(a.y-n.y)+n.x&&(i=!i),r=Math.min(r,Ip(e,n,a));}}return (i?1:-1)*Math.sqrt(r)}(this.p,r),this.max=this.d+this.h*Math.SQRT2;}}const _g=7,gg=Number.POSITIVE_INFINITY,yg=Math.sqrt(2);function xg(e,[t,i]){let r=0,n=0;if(i===gg){t<0&&(t=0);const i=t/yg;switch(e){case\"top-right\":case\"top-left\":n=i-_g;break;case\"bottom-right\":case\"bottom-left\":n=-i+_g;break;case\"bottom\":n=-t+_g;break;case\"top\":n=t-_g;}switch(e){case\"top-right\":case\"bottom-right\":r=-i;break;case\"top-left\":case\"bottom-left\":r=i;break;case\"left\":r=t;break;case\"right\":r=-t;}}else {switch(t=Math.abs(t),i=Math.abs(i),e){case\"top-right\":case\"top-left\":case\"top\":n=i-_g;break;case\"bottom-right\":case\"bottom-left\":case\"bottom\":n=-i+_g;}switch(e){case\"top-right\":case\"bottom-right\":case\"right\":r=-t;break;case\"top-left\":case\"bottom-left\":case\"left\":r=t;}}return [r,n]}function vg(e,t,i,r,n,o,s,a,l,c,h){e.createArrays(),e.tilePixelRatio=cr/(512*e.overscaling),e.compareText={},e.iconsNeedLinear=!1;const u=e.layers[0].layout,d=e.layers[0]._unevaluatedLayout._values,p={};if(\"composite\"===e.textSizeData.kind){const{minZoom:t,maxZoom:i}=e.textSizeData;p.compositeTextSizes=[d[\"text-size\"].possiblyEvaluate(new oa(t),a),d[\"text-size\"].possiblyEvaluate(new oa(i),a)];}if(\"composite\"===e.iconSizeData.kind){const{minZoom:t,maxZoom:i}=e.iconSizeData;p.compositeIconSizes=[d[\"icon-size\"].possiblyEvaluate(new oa(t),a),d[\"icon-size\"].possiblyEvaluate(new oa(i),a)];}p.layoutTextSize=d[\"text-size\"].possiblyEvaluate(new oa(l+1),a),p.layoutIconSize=d[\"icon-size\"].possiblyEvaluate(new oa(l+1),a),p.textMaxSize=d[\"text-size\"].possiblyEvaluate(new oa(18),a);const f=\"map\"===u.get(\"text-rotation-alignment\")&&\"point\"!==u.get(\"symbol-placement\"),m=u.get(\"text-size\");let _=!1;for(const t of e.features)if(t.icon&&t.icon.nameSecondary){_=!0;break}for(const o of e.features){const l=u.get(\"text-font\").evaluate(o,{},a).join(\",\"),d=m.evaluate(o,{},a),g=p.layoutTextSize.evaluate(o,{},a),y=(p.layoutIconSize.evaluate(o,{},a),{horizontal:{},vertical:void 0}),x=o.text;let v,b=[0,0];if(x){const r=x.toString(),s=u.get(\"text-letter-spacing\").evaluate(o,{},a)*u_,c=u.get(\"text-line-height\").evaluate(o,{},a)*u_,h=Us(r)?s:0,p=u.get(\"text-anchor\").evaluate(o,{},a),m=u.get(\"text-variable-anchor\");if(!m){const e=u.get(\"text-radial-offset\").evaluate(o,{},a);b=e?xg(p,[e*u_,gg]):u.get(\"text-offset\").evaluate(o,{},a).map((e=>e*u_));}let _=f?\"center\":u.get(\"text-justify\").evaluate(o,{},a);const v=\"point\"===u.get(\"symbol-placement\"),w=v?u.get(\"text-max-width\").evaluate(o,{},a)*u_:1/0,T=o=>{e.allowVerticalPlacement&&Ns(r)&&(y.vertical=z_(x,t,i,n,l,w,c,p,o,h,b,A_.vertical,!0,g,d));};if(!f&&m){const e=\"auto\"===_?m.map((e=>bg(e))):[_];let r=!1;for(let o=0;o<e.length;o++){const s=e[o];if(!y.horizontal[s])if(r)y.horizontal[s]=y.horizontal[0];else {const e=z_(x,t,i,n,l,w,c,\"center\",s,h,b,A_.horizontal,!1,g,d);e&&(y.horizontal[s]=e,r=1===e.positionedLines.length);}}T(\"left\");}else {if(\"auto\"===_&&(_=bg(p)),v||u.get(\"text-writing-mode\").indexOf(\"horizontal\")>=0||!Ns(r)){const e=z_(x,t,i,n,l,w,c,p,_,h,b,A_.horizontal,!1,g,d);e&&(y.horizontal[_]=e);}T(v?\"left\":_);}}let w=!1;if(o.icon&&o.icon.namePrimary){const t=r[o.icon.namePrimary];t&&(v=U_(n[o.icon.namePrimary],o.icon.nameSecondary?n[o.icon.nameSecondary]:void 0,u.get(\"icon-offset\").evaluate(o,{},a),u.get(\"icon-anchor\").evaluate(o,{},a)),w=t.sdf,void 0===e.sdfIcons?e.sdfIcons=t.sdf:e.sdfIcons!==t.sdf&&H(\"Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer\"),(t.pixelRatio!==e.pixelRatio||0!==u.get(\"icon-rotate\").constantOr(1))&&(e.iconsNeedLinear=!0));}const T=Ag(y.horizontal)||y.vertical;e.iconsInText||(e.iconsInText=!!T&&T.iconsInText),(T||v)&&wg(e,o,y,v,r,p,g,0,b,w,s,a,c,h,_);}o&&e.generateCollisionDebugBuffers(l,e.collisionBoxArray);}function bg(e){switch(e){case\"right\":case\"top-right\":case\"bottom-right\":return \"right\";case\"left\":case\"top-left\":case\"bottom-left\":return \"left\"}return \"center\"}function wg(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f){let m=o.textMaxSize.evaluate(t,{},u);void 0===m&&(m=s);const _=e.layers[0].layout,g=_.get(\"icon-offset\").evaluate(t,{},u),y=Ag(i.horizontal)||i.vertical,x=\"globe\"===d.name,v=u_,b=s/v,T=e.tilePixelRatio*m/v,E=(D=e.overscaling,e.zoom>18&&D>2&&(D>>=1),Math.max(cr/(512*D),1)*_.get(\"symbol-spacing\")),M=_.get(\"text-padding\")*e.tilePixelRatio,A=_.get(\"icon-padding\")*e.tilePixelRatio,S=w(_.get(\"text-max-angle\")),I=\"map\"===_.get(\"text-rotation-alignment\")&&\"point\"!==_.get(\"symbol-placement\"),C=\"map\"===_.get(\"icon-rotation-alignment\")&&\"point\"!==_.get(\"symbol-placement\"),z=_.get(\"symbol-placement\"),P=E/2;var D;const R=_.get(\"icon-text-fit\").evaluate(t,{},u),L=_.get(\"icon-text-fit-padding\").evaluate(t,{},u),k=\"none\"!==R;let O;!1===e.hasAnyIconTextFit&&k&&(e.hasAnyIconTextFit=!0),r&&k&&(e.allowVerticalPlacement&&i.vertical&&(O=V_(r,i.vertical,R,L,g,b)),y&&(r=V_(r,y,R,L,g,b)));const B=(s,a,m)=>{if(a.x<0||a.x>=cr||a.y<0||a.y>=cr)return;let _=null;if(x){const{x:e,y:t,z:i}=d.projectTilePoint(a.x,a.y,m);_={anchor:new j_(e,t,i,0,void 0),up:d.upVector(m,a.x,a.y)};}!function(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m,_,g,y,x,v,b,w,T,E,M,A){const S=e.addToLineVertexArray(t,r);let I,C,z,P,D,R,L,k=0,O=0,B=0,F=0,N=-1,U=-1;const V={};let j=Cl(\"\");const G=i?i.anchor:t,q=\"none\"!==l.layout.get(\"icon-text-fit\").evaluate(v,{},E);let Z=0,$=0;if(void 0===l._unevaluatedLayout.getValue(\"text-radial-offset\")?[Z,$]=l.layout.get(\"text-offset\").evaluate(v,{},E).map((e=>e*u_)):(Z=l.layout.get(\"text-radial-offset\").evaluate(v,{},E)*u_,$=gg),e.allowVerticalPlacement&&n.vertical){const e=n.vertical;if(f)R=Ig(e),a&&(L=Ig(a));else {const i=l.layout.get(\"text-rotate\").evaluate(v,{},E)+90;z=Sg(c,G,t,h,u,d,e,p,i,m),a&&(P=Sg(c,G,t,h,u,d,a,g,i));}}if(o){const r=l.layout.get(\"icon-rotate\").evaluate(v,{},E),n=ag(o,r,w,q),s=a?ag(a,r,w,q):void 0;C=Sg(c,G,t,h,u,d,o,g,r),k=4*n.length;const p=e.iconSizeData;let f=null;\"source\"===p.kind?(f=[d_*l.layout.get(\"icon-size\").evaluate(v,{},E)],f[0]>Eg&&H(`${e.layerIds[0]}: Value for \"icon-size\" is >= ${Tg}. Reduce your \"icon-size\".`)):\"composite\"===p.kind&&(f=[d_*b.compositeIconSizes[0].evaluate(v,{},E),d_*b.compositeIconSizes[1].evaluate(v,{},E)],(f[0]>Eg||f[1]>Eg)&&H(`${e.layerIds[0]}: Value for \"icon-size\" is >= ${Tg}. Reduce your \"icon-size\".`)),e.addSymbols(e.icon,n,f,x,y,v,!1,i,t,S.lineStartIndex,S.lineLength,-1,T,E,M,A),N=e.icon.placedSymbolArray.length-1,s&&(O=4*s.length,e.addSymbols(e.icon,s,f,x,y,v,A_.vertical,i,t,S.lineStartIndex,S.lineLength,-1,T,E,M,A),U=e.icon.placedSymbolArray.length-1);}for(const r in n.horizontal){const o=n.horizontal[r];I||(j=Cl(o.text),f?D=Ig(o):I=Sg(c,G,t,h,u,d,o,p,l.layout.get(\"text-rotate\").evaluate(v,{},E),m));const a=1===o.positionedLines.length;if(B+=Mg(e,i,t,o,s,l,f,v,m,S,n.vertical?A_.horizontal:A_.horizontalOnly,a?Object.keys(n.horizontal):[r],V,N,b,T,E,M),a)break}n.vertical&&(F+=Mg(e,i,t,n.vertical,s,l,f,v,m,S,A_.vertical,[\"vertical\"],V,U,b,T,E,M));let W=-1;const X=(e,t)=>e?Math.max(e,t):t;W=X(D,W),W=X(R,W),W=X(L,W);const Y=W>-1?1:0;e.glyphOffsetArray.length>=gy.MAX_GLYPHS&&H(\"Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907\"),void 0!==v.sortKey&&e.addToSortKeyRanges(e.symbolInstances.length,v.sortKey),e.symbolInstances.emplaceBack(t.x,t.y,G.x,G.y,G.z,V.right>=0?V.right:-1,V.center>=0?V.center:-1,V.left>=0?V.left:-1,V.vertical>=0?V.vertical:-1,N,U,j,void 0!==I?I:e.collisionBoxArray.length,void 0!==I?I+1:e.collisionBoxArray.length,void 0!==z?z:e.collisionBoxArray.length,void 0!==z?z+1:e.collisionBoxArray.length,void 0!==C?C:e.collisionBoxArray.length,void 0!==C?C+1:e.collisionBoxArray.length,P||e.collisionBoxArray.length,P?P+1:e.collisionBoxArray.length,h,B,F,k,O,Y,0,Z,$,W,0,q?1:0);}(e,a,_,s,i,r,n,O,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,M,I,l,0,A,C,g,t,o,c,h,u,p,f);};if(\"line\"===z)for(const n of Y_(t.geometry,0,0,cr,cr)){const t=H_(n,E,S,i.vertical||y,r,v,T,e.overscaling,cr);for(const i of t)y&&Cg(e,y.text,P,i)||B(n,i,u);}else if(\"line-center\"===z){for(const e of t.geometry)if(e.length>1){const t=W_(e,S,i.vertical||y,r,v,T);t&&B(e,t,u);}}else if(\"Polygon\"===t.type)for(const e of Ff(t.geometry,0)){const t=pg(e,16);B(e[0],new j_(t.x,t.y,0,0,void 0),u);}else if(\"LineString\"===t.type)for(const e of t.geometry)B(e,new j_(e[0].x,e[0].y,0,0,void 0),u);else if(\"Point\"===t.type)for(const e of t.geometry)for(const t of e)B([t],new j_(t.x,t.y,0,0,void 0),u);}const Tg=255,Eg=Tg*d_;function Mg(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m,_,g){const x=function(e,t,i,r,n,o,s,a){const l=[];if(0===t.positionedLines.length)return l;const c=r.layout.get(\"text-rotate\").evaluate(o,{})*Math.PI/180,h=function(e){const t=e[0],i=e[1],r=t*i;return r>0?[t,-i]:r<0?[-t,i]:0===t?[i,t]:[i,-t]}(i);let u=Math.abs(t.top-t.bottom);for(const e of t.positionedLines)u-=e.lineOffset;const d=t.positionedLines.length,p=u/d;let f=t.top-i[1];for(let e=0;e<d;++e){const r=t.positionedLines[e];f=dg(t,p,f,e);for(const e of r.positionedGlyphs){if(!e.rect)continue;const r=e.rect||{};let o=M_+1,u=!0,d=1,p=0;if(e.imageName){const t=s[e.imageName];if(!t)continue;if(t.sdf){H(\"SDF images are not supported in formatted text and will be ignored.\");continue}u=!1,d=t.pixelRatio,o=J_/d;}const m=(n||a)&&e.vertical,_=e.metrics.advance*e.scale/2,g=e.metrics,x=e.rect;if(null===x)continue;a&&t.verticalizable&&(p=e.imageName?_-e.metrics.width*e.scale/2:0);const v=n?[e.x+_,e.y]:[0,0];let b=[0,0],w=[0,0],T=!1;n||(m?(w=[e.x+_+h[0],e.y+h[1]-p],T=!0):b=[e.x+_+i[0],e.y+i[1]-p]);const E=x.w*e.scale/(d*(e.localGlyph?ng:1)),M=x.h*e.scale/(d*(e.localGlyph?ng:1));let A,S,I,C;if(m){const t=e.y-f,i=new y(-_,_-t),r=-Math.PI/2,n=new y(...w);A=new y(-_+b[0],b[1]),A._rotateAround(r,i)._add(n),A.x+=-t+_,A.y-=(g.left-o)*e.scale;const s=e.imageName?g.advance*e.scale:u_*e.scale,a=String.fromCodePoint(e.glyph);x_(a)?A.x+=(1-o)*e.scale:v_(a)?A.x+=s-g.height*e.scale+(-o-1)*e.scale:A.x+=e.imageName||g.width+2*o===x.w&&g.height+2*o===x.h?(s-M)/2:(s-(g.height+2*o)*e.scale)/2,S=new y(A.x,A.y-E),I=new y(A.x+M,A.y),C=new y(A.x+M,A.y-E);}else {const t=(g.left-o)*e.scale-_+b[0],i=(-g.top-o)*e.scale+b[1],r=t+E,n=i+M;A=new y(t,i),S=new y(r,i),I=new y(t,n),C=new y(r,n);}if(c){let e;e=n?new y(0,0):T?new y(h[0],h[1]):new y(i[0],i[1]),A._rotateAround(c,e),S._rotateAround(c,e),I._rotateAround(c,e),C._rotateAround(c,e);}const z=new y(0,0),P=new y(0,0);l.push({tl:A,tr:S,bl:I,br:C,texPrimary:r,texSecondary:void 0,writingMode:t.writingMode,glyphOffset:v,sectionIndex:e.sectionIndex,isSDF:u,pixelOffsetTL:z,pixelOffsetBR:P,minFontScaleX:0,minFontScaleY:0});}}return l}(0,r,l,o,s,a,n,e.allowVerticalPlacement),v=e.textSizeData;let b=null;\"source\"===v.kind?(b=[d_*o.layout.get(\"text-size\").evaluate(a,{},_)],b[0]>Eg&&H(`${e.layerIds[0]}: Value for \"text-size\" is >= ${Tg}. Reduce your \"text-size\".`)):\"composite\"===v.kind&&(b=[d_*f.compositeTextSizes[0].evaluate(a,{},_),d_*f.compositeTextSizes[1].evaluate(a,{},_)],(b[0]>Eg||b[1]>Eg)&&H(`${e.layerIds[0]}: Value for \"text-size\" is >= ${Tg}. Reduce your \"text-size\".`)),e.addSymbols(e.text,x,b,l,s,a,h,t,i,c.lineStartIndex,c.lineLength,p,m,_,g,!1);for(const t of u)d[t]=e.text.placedSymbolArray.length-1;return 4*x.length}function Ag(e){for(const t in e)return e[t];return null}function Sg(e,t,i,r,n,o,s,a,l,c){let h=s.top,u=s.bottom,d=s.left,p=s.right;const f=s.collisionPadding;if(f&&(d-=f[0],h-=f[1],p+=f[2],u+=f[3]),l){const e=new y(d,h),t=new y(p,h),i=new y(d,u),r=new y(p,u),n=w(l);let o=new y(0,0);c&&(o=new y(c[0],c[1])),e._rotateAround(n,o),t._rotateAround(n,o),i._rotateAround(n,o),r._rotateAround(n,o),d=Math.min(e.x,t.x,i.x,r.x),p=Math.max(e.x,t.x,i.x,r.x),h=Math.min(e.y,t.y,i.y,r.y),u=Math.max(e.y,t.y,i.y,r.y);}return e.emplaceBack(t.x,t.y,t.z,i.x,i.y,d,h,p,u,a,r,n,o),e.length-1}function Ig(e){e.collisionPadding&&(e.top-=e.collisionPadding[1],e.bottom+=e.collisionPadding[3]);const t=e.bottom-e.top;return t>0?Math.max(10,t):null}function Cg(e,t,i,r){const n=e.compareText;if(t in n){const e=n[t];for(let t=e.length-1;t>=0;t--)if(r.dist(e[t])<i)return !0}else n[t]=[];return n[t].push(r),!1}function zg(e,t){const i=e.fovAboveCenter,r=e.elevation?e.elevation.getMinElevationBelowMSL()*t:0,n=(e._camera.position[2]*e.worldSize-r)/Math.cos(e._pitch),o=Math.sin(i)*n/Math.sin(Math.max(Math.PI/2-e._pitch-i,.01)),s=Math.sin(e._pitch)*o+n;return Math.min(1.01*s,n*(1/e._horizonShift))}function Pg(e,t){if(!t.isReprojectedInTileSpace)return {scale:1<<e.z,x:e.x,y:e.y,x2:e.x+1,y2:e.y+1,projection:t};const i=Math.pow(2,-e.z),r=e.x*i,n=(e.x+1)*i,o=e.y*i,s=(e.y+1)*i,a=ep(r),l=ep(n),c=tp(o),h=tp(s),u=t.project(a,c),d=t.project(l,c),p=t.project(l,h),f=t.project(a,h);let m=Math.min(u.x,d.x,p.x,f.x),_=Math.min(u.y,d.y,p.y,f.y),g=Math.max(u.x,d.x,p.x,f.x),y=Math.max(u.y,d.y,p.y,f.y);const x=i/16;function v(e,i,r,n,o,s){const a=(r+o)/2,l=(n+s)/2,c=t.project(ep(a),tp(l)),h=Math.max(0,m-c.x,_-c.y,c.x-g,c.y-y);m=Math.min(m,c.x),g=Math.max(g,c.x),_=Math.min(_,c.y),y=Math.max(y,c.y),h>x&&(v(e,c,r,n,a,l),v(c,i,a,l,o,s));}v(u,d,r,o,n,o),v(d,p,n,o,n,s),v(p,f,n,s,r,s),v(f,u,r,s,r,o),m-=x,_-=x,g+=x,y+=x;const b=1/Math.max(g-m,y-_);return {scale:b,x:m*b,y:_*b,x2:g*b,y2:y*b,projection:t}}function Dg(e,t,i,r,n,o,s,a,l){if(\"globe\"===l.name)return yd(e,t,new ju(i,r,n),!1);const c=Pg({z:i,x:r,y:n},l);return new ed([(o+c.x/c.scale)*t,t*(c.y/c.scale),s],[(o+c.x2/c.scale)*t,t*(c.y2/c.scale),a])}function Rg(e,{x:t,y:i},r=0){return new y(((t-r)*e.scale-e.x)*cr,(i*e.scale-e.y)*cr)}function Lg(e,t,i=0){return Du.fromValues(((t.x-i)*e.scale-e.x)*cr,(t.y*e.scale-e.y)*cr,ip(t.z,t.y))}const kg=Au.identity(new Float32Array(16));class Og{constructor(e){this.spec=e,this.name=e.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit=\"meters\",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=[\"custom\"],this.center=[0,0],this.range=[3.5,7];}project(e,t){return {x:0,y:0,z:0}}unproject(e,t){return new Wd(0,0)}projectTilePoint(e,t,i){return {x:e,y:t,z:0}}locationPoint(e,t,i=!0){return e._coordinatePoint(e.locationCoordinate(t),i)}pixelsPerMeter(e,t){return Qd(1,e)*t}pixelSpaceConversion(e,t,i){return 1}farthestPixelDistance(e){return zg(e,e.pixelsPerMeter)}pointCoordinate(e,t,i,r){const n=e.horizonLineFromTop(!1),o=new y(t,Math.max(n,i));return e.rayIntersectionCoordinate(e.pointRayIntersection(o,r))}pointCoordinate3D(e,t,i){const r=new y(t,i);if(e.elevation)return e.elevation.pointCoordinate(r);{const t=this.pointCoordinate(e,r.x,r.y,0);return [t.x,t.y,t.z]}}isPointAboveHorizon(e,t){if(e.elevation)return !this.pointCoordinate3D(e,t.x,t.y);const i=e.horizonLineFromTop();return t.y<i}createInversionMatrix(e,t){return kg}createTileMatrix(e,t,i){let r,n,o;const s=i.canonical,a=Au.identity(new Float64Array(16));if(this.isReprojectedInTileSpace){const l=Pg(s,this);r=1,n=l.x+i.wrap*l.scale,o=l.y,Au.scale(a,a,[r/l.scale,r/l.scale,e.pixelsPerMeter/t]);}else r=t/e.zoomScale(s.z),n=(s.x+Math.pow(2,s.z)*i.wrap)*r,o=s.y*r;return Au.translate(a,a,[n,o,0]),Au.scale(a,a,[r/cr,r/cr,1]),a}upVector(e,t,i){return [0,0,1]}upVectorScale(e,t,i){return {metersToTile:1}}}class Bg extends Og{constructor(e){super(e),this.range=[4,7],this.center=e.center||[-96,37.5];const[t,i]=this.parallels=e.parallels||[29.5,45.5],r=Math.sin(w(t));this.n=(r+Math.sin(w(i)))/2,this.c=1+r*(2*this.n-r),this.r0=Math.sqrt(this.c)/this.n;}project(e,t){const{n:i,c:r,r0:n}=this,o=w(e-this.center[0]),s=w(t),a=Math.sqrt(r-2*i*Math.sin(s))/i;return {x:a*Math.sin(o*i),y:a*Math.cos(o*i)-n,z:0}}unproject(e,t){const{n:i,c:r,r0:n}=this,o=n+t;let s=Math.atan2(e,Math.abs(o))*Math.sign(o);o*i<0&&(s-=Math.PI*Math.sign(e)*Math.sign(o));const a=w(this.center[0])*i;s=D(s,-Math.PI-a,Math.PI-a);const l=z(T(s/i)+this.center[0],-180,180),c=Math.asin(z((r-(e*e+o*o)*i*i)/(2*i),-1,1)),h=z(T(c),-rp,rp);return new Wd(l,h)}}const Fg=1.340264,Ng=-.081106,Ug=893e-6,Vg=.003796,jg=Math.sqrt(3)/2;class Gg extends Og{project(e,t){t=t/180*Math.PI,e=e/180*Math.PI;const i=Math.asin(jg*Math.sin(t)),r=i*i,n=r*r*r;return {x:.5*(e*Math.cos(i)/(jg*(Fg+3*Ng*r+n*(7*Ug+9*Vg*r)))/Math.PI+.5),y:1-.5*(i*(Fg+Ng*r+n*(Ug+Vg*r))/Math.PI+1),z:0}}unproject(e,t){e=(2*e-.5)*Math.PI;let i=t=(2*(1-t)-1)*Math.PI,r=i*i,n=r*r*r;for(let e,o,s,a=0;a<12&&(o=i*(Fg+Ng*r+n*(Ug+Vg*r))-t,s=Fg+3*Ng*r+n*(7*Ug+9*Vg*r),e=o/s,i=z(i-e,-Math.PI/3,Math.PI/3),r=i*i,n=r*r*r,!(Math.abs(e)<1e-12));++a);const o=jg*e*(Fg+3*Ng*r+n*(7*Ug+9*Vg*r))/Math.cos(i),s=Math.asin(Math.sin(i)/jg),a=z(180*o/Math.PI,-180,180),l=z(180*s/Math.PI,-rp,rp);return new Wd(a,l)}}class qg extends Og{constructor(e){super(e),this.wrap=!0,this.supportsWorldCopies=!0;}project(e,t){return {x:.5+e/360,y:.5-t/360,z:0}}unproject(e,t){const i=360*(e-.5),r=z(360*(.5-t),-rp,rp);return new Wd(i,r)}}const Zg=Math.PI/2;function $g(e){return Math.tan((Zg+e)/2)}class Wg extends Og{constructor(e){super(e),this.center=e.center||[0,30];const[t,i]=this.parallels=e.parallels||[30,30];let r=w(t),n=w(i);this.southernCenter=r+n<0,this.southernCenter&&(r=-r,n=-n);const o=Math.cos(r),s=$g(r);this.n=r===n?Math.sin(r):Math.log(o/Math.cos(n))/Math.log($g(n)/s),this.f=o*Math.pow($g(r),this.n)/this.n;}project(e,t){t=w(t),this.southernCenter&&(t=-t),e=w(e-this.center[0]);const i=1e-6,{n:r,f:n}=this;n>0?t<-Zg+i&&(t=-Zg+i):t>Zg-i&&(t=Zg-i);const o=n/Math.pow($g(t),r);let s=o*Math.sin(r*e),a=n-o*Math.cos(r*e);return s=.5*(s/Math.PI+.5),a=.5*(a/Math.PI+.5),{x:s,y:this.southernCenter?a:1-a,z:0}}unproject(e,t){e=(2*e-.5)*Math.PI,this.southernCenter&&(t=1-t),t=(2*(1-t)-.5)*Math.PI;const{n:i,f:r}=this,n=r-t,o=Math.sign(n),s=Math.sign(i)*Math.sqrt(e*e+n*n);let a=Math.atan2(e,Math.abs(n))*o;n*i<0&&(a-=Math.PI*Math.sign(e)*o);const l=z(T(a/i)+this.center[0],-180,180),c=z(T(2*Math.atan(Math.pow(r/s,1/i))-Zg),-rp,rp);return new Wd(l,this.southernCenter?-c:c)}}class Hg extends Og{constructor(e){super(e),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null;}project(e,t){return {x:Kd(e),y:Jd(t),z:0}}unproject(e,t){const i=ep(e),r=tp(t);return new Wd(i,r)}}const Xg=w(rp);class Yg extends Og{project(e,t){const i=(t=w(t))*t,r=i*i;return {x:.5*((e=w(e))*(.8707-.131979*i+r*(r*(.003971*i-.001529*r)-.013791))/Math.PI+.5),y:1-.5*(t*(1.007226+i*(.015085+r*(.028874*i-.044475-.005916*r)))/Math.PI+1),z:0}}unproject(e,t){e=(2*e-.5)*Math.PI;let i=t=(2*(1-t)-1)*Math.PI,r=25,n=0,o=i*i;do{o=i*i;const e=o*o;n=(i*(1.007226+o*(.015085+e*(.028874*o-.044475-.005916*e)))-t)/(1.007226+o*(.045255+e*(.259866*o-.311325-.005916*11*e))),i=z(i-n,-Xg,Xg);}while(Math.abs(n)>1e-6&&--r>0);o=i*i;const s=z(T(e/(.8707+o*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979))),-180,180),a=T(i);return new Wd(s,a)}}const Kg=w(rp);class Jg extends Og{project(e,t){t=w(t),e=w(e);const i=Math.cos(t),r=2/Math.PI,n=Math.acos(i*Math.cos(e/2)),o=Math.sin(n)/n,s=.5*(e*r+2*i*Math.sin(e/2)/o)||0,a=.5*(t+Math.sin(t)/o)||0;return {x:.5*(s/Math.PI+.5),y:1-.5*(a/Math.PI+1),z:0}}unproject(e,t){let i=e=(2*e-.5)*Math.PI,r=t=(2*(1-t)-1)*Math.PI,n=25;const o=1e-6;let s=0,a=0;do{const n=Math.cos(r),o=Math.sin(r),l=2*o*n,c=o*o,h=n*n,u=Math.cos(i/2),d=Math.sin(i/2),p=2*u*d,f=d*d,m=1-h*u*u,_=m?1/m:0,g=m?Math.acos(n*u)*Math.sqrt(1/m):0,y=.5*(2*g*n*d+2*i/Math.PI)-e,x=.5*(g*o+r)-t,v=.5*_*(h*f+g*n*u*c)+1/Math.PI,b=_*(p*l/4-g*o*d),w=.125*_*(l*d-g*o*h*p),T=.5*_*(c*u+g*f*n)+.5,E=b*w-T*v;s=(x*b-y*T)/E,a=(y*w-x*v)/E,i=z(i-s,-Math.PI,Math.PI),r=z(r-a,-Kg,Kg);}while((Math.abs(s)>o||Math.abs(a)>o)&&--n>0);return new Wd(T(i),T(r))}}class Qg extends Og{constructor(e){super(e),this.center=e.center||[0,0],this.parallels=e.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(w(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0;}project(e,t){const{scale:i,cosPhi:r}=this;return {x:w(e)*r*i+.5,y:-Math.sin(w(t))/r*i+.5,z:0}}unproject(e,t){const{scale:i,cosPhi:r}=this,n=-(t-.5)/i,o=z(T((e-.5)/i)/r,-180,180),s=Math.asin(z(n*r,-1,1)),a=z(T(s),-rp,rp);return new Wd(o,a)}}class ey extends Hg{constructor(e){super(e),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit=\"pixels\",this.unsupportedLayers=[\"debug\"],this.range=[3,5];}projectTilePoint(e,t,i){const r=Td(e,t,i),n=Ad(fd(i));return Du.transformMat4(r,r,n),{x:r[0],y:r[1],z:r[2]}}locationPoint(e,t){const i=wd(t.lat,t.lng),r=Du.normalize([],i),n=e.elevation?e.elevation.getAtPointOrZero(e.locationCoordinate(t),e._centerAltitude):e._centerAltitude,o=Qd(1,0)*cr*n;Du.scaleAndAdd(i,i,r,o);const s=Au.identity(new Float64Array(16));return Au.multiply(s,e.pixelMatrix,e.globeMatrix),Du.transformMat4(i,i,s),new y(i[0],i[1])}pixelsPerMeter(e,t){return Qd(1,0)*t}pixelSpaceConversion(e,t,i){const r=Qd(1,e)*t,n=Kr(Qd(1,45)*t,r,i);return this.pixelsPerMeter(e,t)/n}createTileMatrix(e,t,i){const r=Sd(fd(i.canonical));return Au.multiply(new Float64Array(16),e.globeMatrix,r)}createInversionMatrix(e,t){const{center:i}=e,r=Ad(fd(t));return Au.rotateY(r,r,w(i.lng)),Au.rotateX(r,r,w(i.lat)),Au.scale(r,r,[e._pixelsPerMercatorPixel,e._pixelsPerMercatorPixel,1]),Float32Array.from(r)}pointCoordinate(e,t,i,r){return ud(e,t,i,!0)||new lp(0,0)}pointCoordinate3D(e,t,i){const r=this.pointCoordinate(e,t,i,0);return [r.x,r.y,r.z]}isPointAboveHorizon(e,t){return !ud(e,t.x,t.y,!1)}farthestPixelDistance(e){const t=function(e,t){const i=e.cameraToCenterDistance,r=e._centerAltitude*t,n=e._camera,o=e._camera.forward(),s=Du.add([],Du.scale([],o,-i),[0,0,r]),a=e.worldSize/(2*Math.PI),l=[0,0,-a],c=e.width/e.height,h=Math.tan(e.fovAboveCenter),u=Du.scale([],n.up(),h),d=Du.scale([],n.right(),h*c),p=Du.normalize([],Du.add([],Du.add([],o,u),d)),f=[];let m;if(new Wu(s,p).closestPointOnSphere(l,a,f)){const t=Du.add([],f,l),i=Du.sub([],t,s);m=Math.cos(e.fovAboveCenter)*Du.length(i);}else {const e=Du.sub([],s,l),t=Du.sub([],l,s);Du.normalize(t,t);const i=Du.length(e)-a;m=Math.sqrt(i*(i+2*a));const r=Math.acos(m/(a+i))-Math.acos(Du.dot(o,t));m*=Math.cos(r);}return 1.01*m}(e,this.pixelsPerMeter(e.center.lat,e.worldSize)),i=Dd(e.zoom);if(i>0){const r=zg(e,Qd(1,e.center.lat)*e.worldSize),n=e.worldSize/(2*Math.PI),o=Math.max(e.width,e.height)/e.worldSize*Math.PI;return Kr(t,r+n*(1-Math.cos(o)),Math.pow(i,10))}return t}upVector(e,t,i){return Td(t,i,e,1)}upVectorScale(e){return {metersToTile:hd(Ed(fd(e)))}}}function ty(e){const t=e.parallels,i=!!t&&Math.abs(t[0]+t[1])<.01;switch(e.name){case\"mercator\":return new Hg(e);case\"equirectangular\":return new qg(e);case\"naturalEarth\":return new Yg(e);case\"equalEarth\":return new Gg(e);case\"winkelTripel\":return new Jg(e);case\"albers\":return i?new Qg(e):new Bg(e);case\"lambertConformalConic\":return i?new Qg(e):new Wg(e);case\"globe\":return new ey(e)}throw new Error(`Invalid projection name: ${e.name}`)}const iy=new ga({\"symbol-placement\":new fa(Pt.layout_symbol[\"symbol-placement\"]),\"symbol-spacing\":new fa(Pt.layout_symbol[\"symbol-spacing\"]),\"symbol-avoid-edges\":new fa(Pt.layout_symbol[\"symbol-avoid-edges\"]),\"symbol-sort-key\":new ma(Pt.layout_symbol[\"symbol-sort-key\"]),\"symbol-z-order\":new fa(Pt.layout_symbol[\"symbol-z-order\"]),\"symbol-z-elevate\":new fa(Pt.layout_symbol[\"symbol-z-elevate\"]),\"icon-allow-overlap\":new fa(Pt.layout_symbol[\"icon-allow-overlap\"]),\"icon-ignore-placement\":new fa(Pt.layout_symbol[\"icon-ignore-placement\"]),\"icon-optional\":new fa(Pt.layout_symbol[\"icon-optional\"]),\"icon-rotation-alignment\":new fa(Pt.layout_symbol[\"icon-rotation-alignment\"]),\"icon-size\":new ma(Pt.layout_symbol[\"icon-size\"]),\"icon-text-fit\":new ma(Pt.layout_symbol[\"icon-text-fit\"]),\"icon-text-fit-padding\":new ma(Pt.layout_symbol[\"icon-text-fit-padding\"]),\"icon-image\":new ma(Pt.layout_symbol[\"icon-image\"]),\"icon-rotate\":new ma(Pt.layout_symbol[\"icon-rotate\"]),\"icon-padding\":new fa(Pt.layout_symbol[\"icon-padding\"]),\"icon-keep-upright\":new fa(Pt.layout_symbol[\"icon-keep-upright\"]),\"icon-offset\":new ma(Pt.layout_symbol[\"icon-offset\"]),\"icon-anchor\":new ma(Pt.layout_symbol[\"icon-anchor\"]),\"icon-pitch-alignment\":new fa(Pt.layout_symbol[\"icon-pitch-alignment\"]),\"text-pitch-alignment\":new fa(Pt.layout_symbol[\"text-pitch-alignment\"]),\"text-rotation-alignment\":new fa(Pt.layout_symbol[\"text-rotation-alignment\"]),\"text-field\":new ma(Pt.layout_symbol[\"text-field\"]),\"text-font\":new ma(Pt.layout_symbol[\"text-font\"]),\"text-size\":new ma(Pt.layout_symbol[\"text-size\"]),\"text-max-width\":new ma(Pt.layout_symbol[\"text-max-width\"]),\"text-line-height\":new ma(Pt.layout_symbol[\"text-line-height\"]),\"text-letter-spacing\":new ma(Pt.layout_symbol[\"text-letter-spacing\"]),\"text-justify\":new ma(Pt.layout_symbol[\"text-justify\"]),\"text-radial-offset\":new ma(Pt.layout_symbol[\"text-radial-offset\"]),\"text-variable-anchor\":new fa(Pt.layout_symbol[\"text-variable-anchor\"]),\"text-anchor\":new ma(Pt.layout_symbol[\"text-anchor\"]),\"text-max-angle\":new fa(Pt.layout_symbol[\"text-max-angle\"]),\"text-writing-mode\":new fa(Pt.layout_symbol[\"text-writing-mode\"]),\"text-rotate\":new ma(Pt.layout_symbol[\"text-rotate\"]),\"text-padding\":new fa(Pt.layout_symbol[\"text-padding\"]),\"text-keep-upright\":new fa(Pt.layout_symbol[\"text-keep-upright\"]),\"text-transform\":new ma(Pt.layout_symbol[\"text-transform\"]),\"text-offset\":new ma(Pt.layout_symbol[\"text-offset\"]),\"text-allow-overlap\":new fa(Pt.layout_symbol[\"text-allow-overlap\"]),\"text-ignore-placement\":new fa(Pt.layout_symbol[\"text-ignore-placement\"]),\"text-optional\":new fa(Pt.layout_symbol[\"text-optional\"]),visibility:new fa(Pt.layout_symbol.visibility)});var ry={paint:new ga({\"icon-opacity\":new ma(Pt.paint_symbol[\"icon-opacity\"]),\"icon-emissive-strength\":new ma(Pt.paint_symbol[\"icon-emissive-strength\"]),\"text-emissive-strength\":new ma(Pt.paint_symbol[\"text-emissive-strength\"]),\"icon-color\":new ma(Pt.paint_symbol[\"icon-color\"]),\"icon-halo-color\":new ma(Pt.paint_symbol[\"icon-halo-color\"]),\"icon-halo-width\":new ma(Pt.paint_symbol[\"icon-halo-width\"]),\"icon-halo-blur\":new ma(Pt.paint_symbol[\"icon-halo-blur\"]),\"icon-translate\":new fa(Pt.paint_symbol[\"icon-translate\"]),\"icon-translate-anchor\":new fa(Pt.paint_symbol[\"icon-translate-anchor\"]),\"icon-image-cross-fade\":new ma(Pt.paint_symbol[\"icon-image-cross-fade\"]),\"text-opacity\":new ma(Pt.paint_symbol[\"text-opacity\"]),\"text-color\":new ma(Pt.paint_symbol[\"text-color\"],{runtimeType:Zt,getOverride:e=>e.textColor,hasOverride:e=>!!e.textColor}),\"text-halo-color\":new ma(Pt.paint_symbol[\"text-halo-color\"]),\"text-halo-width\":new ma(Pt.paint_symbol[\"text-halo-width\"]),\"text-halo-blur\":new ma(Pt.paint_symbol[\"text-halo-blur\"]),\"text-translate\":new fa(Pt.paint_symbol[\"text-translate\"]),\"text-translate-anchor\":new fa(Pt.paint_symbol[\"text-translate-anchor\"]),\"icon-color-saturation\":new fa(Pt.paint_symbol[\"icon-color-saturation\"])}),layout:iy};class ny{constructor(e){this.type=e.property.overrides?e.property.overrides.runtimeType:Vt,this.defaultValue=e;}evaluate(e){if(e.formattedSection){const t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}eachChild(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression);}outputDefined(){return !1}serialize(){return null}}Rs(ny,\"FormatSectionOverride\",{omit:[\"defaultValue\"]});class oy extends Ta{constructor(e,t){super(e,ry,t);}recalculate(e,t){super.recalculate(e,t),\"auto\"===this.layout.get(\"icon-rotation-alignment\")&&(this.layout._values[\"icon-rotation-alignment\"]=\"point\"!==this.layout.get(\"symbol-placement\")?\"map\":\"viewport\"),\"auto\"===this.layout.get(\"text-rotation-alignment\")&&(this.layout._values[\"text-rotation-alignment\"]=\"point\"!==this.layout.get(\"symbol-placement\")?\"map\":\"viewport\"),\"auto\"===this.layout.get(\"text-pitch-alignment\")&&(this.layout._values[\"text-pitch-alignment\"]=this.layout.get(\"text-rotation-alignment\")),\"auto\"===this.layout.get(\"icon-pitch-alignment\")&&(this.layout._values[\"icon-pitch-alignment\"]=this.layout.get(\"icon-rotation-alignment\"));const i=this.layout.get(\"text-writing-mode\");if(i){const e=[];for(const t of i)e.indexOf(t)<0&&e.push(t);this.layout._values[\"text-writing-mode\"]=e;}else this.layout._values[\"text-writing-mode\"]=\"point\"===this.layout.get(\"symbol-placement\")?[\"horizontal\"]:[\"horizontal\",\"vertical\"];this._setPaintOverrides();}getValueAndResolveTokens(e,t,i,r){const n=this.layout.get(e).evaluate(t,{},i,r),o=this._unevaluatedLayout._values[e];return o.isDataDriven()||To(o.value)||!n?n:function(e,t){return t.replace(/{([^{}]+)}/g,((t,i)=>i in e?String(e[i]):\"\"))}(t.properties,n)}createBucket(e){return new gy(e)}queryRadius(){return 0}queryIntersectsFeature(){return !1}_setPaintOverrides(){for(const e of ry.paint.overridableProperties){if(!oy.hasPaintOverride(this.layout,e))continue;const t=this.paint.get(e),i=new ny(t),r=new wo(i,t.property.specification);let n=null;n=\"constant\"===t.value.kind||\"source\"===t.value.kind?new Mo(\"source\",r):new Ao(\"composite\",r,t.value.zoomStops,t.value._interpolationType),this.paint._values[e]=new da(t.property,n,t.parameters);}}_handleOverridablePaintPropertyUpdate(e,t,i){return !(!this.layout||t.isDataDriven()||i.isDataDriven())&&oy.hasPaintOverride(this.layout,e)}static hasPaintOverride(e,t){const i=e.get(\"text-field\"),r=ry.paint.properties[t];let n=!1;const o=e=>{for(const t of e)if(r.overrides&&r.overrides.hasOverride(t))return void(n=!0)};if(\"constant\"===i.value.kind&&i.value.value instanceof pi)o(i.value.value.sections);else if(\"source\"===i.value.kind){const e=t=>{n||(t instanceof vi&&gi(t.value)===Xt?o(t.value.sections):t instanceof Mi?o(t.sections):t.eachChild(e));},t=i.value;t._styleExpression&&e(t._styleExpression.expression);}return n}getProgramIds(){const e=0!==this.paint.get(\"icon-opacity\").constantOr(1),t=0!==this.paint.get(\"text-opacity\").constantOr(1),i=[];return e&&i.push(\"symbolIcon\"),t&&i.push(\"symbolSDF\"),i}getDefaultProgramParams(e,t){return {config:new Ql(this,t),overrideFog:!1}}}const sy=hm.types,ay=[{name:\"a_fade_opacity\",components:1,type:\"Uint8\",offset:0}];function ly(e,t,i,r,n,o,s,a,l,c,h,u,d){const p=a?Math.min(Eg,Math.round(a[0])):0,f=a?Math.min(Eg,Math.round(a[1])):0;e.emplaceBack(t,i,Math.round(32*r),Math.round(32*n),o,s,(p<<1)+(l?1:0),f,16*c,16*h,256*u,256*d);}function cy(e,t,i){e.emplaceBack(t,i);}function hy(e,t,i,r,n,o,s){e.emplaceBack(t,i,r,n,o,s);}function uy(e,t,i,r,n){const o=5*t+2;e.float32[o+0]=i,e.float32[o+1]=r,e.float32[o+2]=n;}function dy(e,t,i,r,n){e.emplaceBack(t,i,r,n),e.emplaceBack(t,i,r,n),e.emplaceBack(t,i,r,n),e.emplaceBack(t,i,r,n);}function py(e){for(const t of e.sections)if($s(t.text))return !0;return !1}class fy{constructor(e){this.layoutVertexArray=new Na,this.indexArray=new Wa,this.programConfigurations=e,this.segments=new xl,this.dynamicLayoutVertexArray=new ka,this.opacityVertexArray=new Va,this.placedSymbolArray=new cl,this.iconTransitioningVertexArray=new ja,this.globeExtVertexArray=new Ua,this.zOffsetVertexArray=new Ya;}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length&&0===this.iconTransitioningVertexArray.length}upload(e,t,i,r,n){this.isEmpty()||(i&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,i_.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,n_.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,ay,!0),this.iconTransitioningVertexArray.length>0&&(this.iconTransitioningVertexBuffer=e.createVertexBuffer(this.iconTransitioningVertexArray,s_.members,!0)),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,r_.members,!0)),!this.zOffsetVertexBuffer&&(this.zOffsetVertexArray.length>0||n)&&(this.zOffsetVertexBuffer=e.createVertexBuffer(this.zOffsetVertexArray,o_.members,!0)),this.opacityVertexBuffer.itemSize=1),(i||r)&&this.programConfigurations.upload(e));}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.iconTransitioningVertexBuffer&&this.iconTransitioningVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy(),this.zOffsetVertexBuffer&&this.zOffsetVertexBuffer.destroy());}}Rs(fy,\"SymbolBuffers\");class my{constructor(e,t,i){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new i,this.segments=new xl,this.collisionVertexArray=new $a,this.collisionVertexArrayExt=new ka;}upload(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,a_.members,!0),this.collisionVertexBufferExt=e.createVertexBuffer(this.collisionVertexArrayExt,l_.members,!0);}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy());}}Rs(my,\"CollisionBuffers\");class _y{constructor(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.fqid)),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.hasAnyIconTextFit=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Au.identity([]),this.placementViewportMatrix=Au.identity([]);const t=this.layers[0]._unevaluatedLayout._values;this.textSizeData=p_(this.zoom,t[\"text-size\"]),this.iconSizeData=p_(this.zoom,t[\"icon-size\"]);const i=this.layers[0].layout,r=i.get(\"symbol-sort-key\"),n=i.get(\"symbol-z-order\");this.canOverlap=i.get(\"text-allow-overlap\")||i.get(\"icon-allow-overlap\")||i.get(\"text-ignore-placement\")||i.get(\"icon-ignore-placement\"),this.sortFeaturesByKey=\"viewport-y\"!==n&&void 0!==r.constantOr(1),this.sortFeaturesByY=(\"viewport-y\"===n||\"auto\"===n&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=i.get(\"text-writing-mode\").map((e=>A_[e])),this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id)),this.sourceID=e.sourceID,this.projection=e.projection,this.hasAnyZOffset=!1,this.zOffsetSortDirty=!1,this.zOffsetBuffersNeedUpload=i.get(\"symbol-z-elevate\");}createArrays(){this.text=new fy(new ec(this.layers,this.zoom,(e=>/^text/.test(e)))),this.icon=new fy(new ec(this.layers,this.zoom,(e=>/^icon/.test(e)))),this.glyphOffsetArray=new dl,this.lineVertexArray=new pl,this.symbolInstances=new ul;}calculateGlyphDependencies(e,t,i,r,n){for(let i=0;i<e.length;i++){const o=e.codePointAt(i);if(void 0===o)break;if(t[o]=!0,r&&n&&o<=65535){const r=y_[e.charAt(i)];r&&(t[r.charCodeAt(0)]=!0);}}}populate(e,t,i,r){const n=this.layers[0],o=n.layout,s=\"globe\"===this.projection.name,a=o.get(\"text-font\"),l=o.get(\"text-field\"),c=o.get(\"icon-image\"),h=(\"constant\"!==l.value.kind||l.value.value instanceof pi&&!l.value.value.isEmpty()||l.value.value.toString().length>0)&&(\"constant\"!==a.value.kind||a.value.value.length>0),u=\"constant\"!==c.value.kind||!!c.value.value||Object.keys(c.parameters).length>0,d=o.get(\"symbol-sort-key\");if(this.features=[],!h&&!u)return;const p=t.iconDependencies,f=t.glyphDependencies,m=t.availableImages,_=new oa(this.zoom);for(const{feature:t,id:l,index:c,sourceLayerIndex:g}of e){const e=n._featureFilter.needGeometry,y=gp(t,e);if(!n._featureFilter.filter(_,y,i))continue;if(e||(y.geometry=_p(t,i,r)),s&&1!==t.type&&i.z<=5){const e=y.geometry,t=.98078528056,r=(e,r)=>{const n=Td(e.x,e.y,i,1),o=Td(r.x,r.y,i,1);return Du.dot(n,o)<t};for(let t=0;t<e.length;t++)e[t]=dp(e[t],r);}let x,v;if(h){const e=n.getValueAndResolveTokens(\"text-field\",y,i,m),t=pi.factory(e);py(t)&&(this.hasRTLText=!0),(!this.hasRTLText||\"unavailable\"===ia()||this.hasRTLText&&na.isParsed())&&(x=g_(t,n,y));}if(u){const e=n.getValueAndResolveTokens(\"icon-image\",y,i,m);v=e instanceof fi?e:fi.fromString(e);}if(!x&&!v)continue;const b=this.sortFeaturesByKey?d.evaluate(y,{},i):void 0;if(this.features.push({id:l,text:x,icon:v,index:c,sourceLayerIndex:g,geometry:y.geometry,properties:t.properties,type:sy[t.type],sortKey:b}),v&&(p[v.namePrimary]=!0,v.nameSecondary&&(p[v.nameSecondary]=!0)),x){const e=a.evaluate(y,{},i).join(\",\"),t=\"map\"===o.get(\"text-rotation-alignment\")&&\"point\"!==o.get(\"symbol-placement\");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(A_.vertical)>=0;for(const i of x.sections)if(i.image)p[i.image.namePrimary]=!0;else {const r=Ns(x.toString()),n=i.fontStack||e,o=f[n]=f[n]||{};this.calculateGlyphDependencies(i.text,o,t,this.allowVerticalPlacement,r);}}}\"line\"===o.get(\"symbol-placement\")&&(this.features=function(e){const t={},i={},r=[];let n=0;function o(t){r.push(e[t]),n++;}function s(e,t,n){const o=i[e];return delete i[e],i[t]=o,r[o].geometry[0].pop(),r[o].geometry[0]=r[o].geometry[0].concat(n[0]),o}function a(e,i,n){const o=t[i];return delete t[i],t[e]=o,r[o].geometry[0].shift(),r[o].geometry[0]=n[0].concat(r[o].geometry[0]),o}function l(e,t,i){const r=i?t[0][t[0].length-1]:t[0][0];return `${e}:${r.x}:${r.y}`}for(let c=0;c<e.length;c++){const h=e[c],u=h.geometry,d=h.text?h.text.toString():null;if(!d){o(c);continue}const p=l(d,u),f=l(d,u,!0);if(p in i&&f in t&&i[p]!==t[f]){const e=a(p,f,u),n=s(p,f,r[e].geometry);delete t[p],delete i[f],i[l(d,r[n].geometry,!0)]=n,r[e].geometry=null;}else p in i?s(p,f,u):f in t?a(p,f,u):(o(c),t[p]=n-1,i[f]=n-1);}return r.filter((e=>e.geometry))}(this.features)),this.sortFeaturesByKey&&this.features.sort(((e,t)=>e.sortKey-t.sortKey));}update(e,t,i,r,n){const o=0!==Object.keys(e).length;if(o&&!this.stateDependentLayers.length)return;const s=o?this.stateDependentLayers:this.layers;this.text.programConfigurations.updatePaintArrays(e,t,s,i,r,n),this.icon.programConfigurations.updatePaintArrays(e,t,s,i,r,n);}updateZOffset(){const e=(e,t,r)=>{i+=t,i>e.length&&e.resize(i);for(let n=-t;n<0;n++)e.emplace(n+i,r);},t=(e,t,i)=>{r+=t,r>e.length&&e.resize(r);for(let n=-t;n<0;n++)e.emplace(n+r,i);};if(!this.zOffsetBuffersNeedUpload)return;this.zOffsetBuffersNeedUpload=!1;let i=0,r=0;for(let i=0;i<this.symbolInstances.length;i++){const r=this.symbolInstances.get(i),{numHorizontalGlyphVertices:n,numVerticalGlyphVertices:o,numIconVertices:s}=r,a=r.zOffset,l=s>0;if((n>0||o>0)&&(e(this.text.zOffsetVertexArray,n,a),e(this.text.zOffsetVertexArray,o,a)),l){const{placedIconSymbolIndex:e,verticalPlacedIconSymbolIndex:i}=r;e>=0&&t(this.icon.zOffsetVertexArray,s,a),i>=0&&t(this.icon.zOffsetVertexArray,r.numVerticalIconVertices,a);}}this.text.zOffsetVertexBuffer&&this.text.zOffsetVertexBuffer.updateData(this.text.zOffsetVertexArray),this.icon.zOffsetVertexBuffer&&this.icon.zOffsetVertexBuffer.updateData(this.icon.zOffsetVertexArray);}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return !this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload,this.zOffsetBuffersNeedUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload,this.zOffsetBuffersNeedUpload),this.uploaded=!0;}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy();}getProjection(){return this.projectionInstance||(this.projectionInstance=ty(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData();}addToLineVertexArray(e,t){const i=this.lineVertexArray.length;if(void 0!==e.segment)for(const{x:e,y:i}of t)this.lineVertexArray.emplaceBack(e,i);return {lineStartIndex:i,lineLength:this.lineVertexArray.length-i}}addSymbols(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m){const _=e.indexArray,g=e.layoutVertexArray,y=e.globeExtVertexArray,x=e.segments.prepareSegment(4*t.length,g,_,this.canOverlap?o.sortKey:void 0),v=this.glyphOffsetArray.length,b=x.vertexLength,w=this.allowVerticalPlacement&&s===A_.vertical?Math.PI/2:0,T=o.text&&o.text.sections;for(let r=0;r<t.length;r++){const{tl:n,tr:s,bl:c,br:h,texPrimary:u,texSecondary:v,pixelOffsetTL:b,pixelOffsetBR:E,minFontScaleX:M,minFontScaleY:A,glyphOffset:S,isSDF:I,sectionIndex:C}=t[r],z=x.vertexLength,P=S[1];if(ly(g,l.x,l.y,n.x,P+n.y,u.x,u.y,i,I,b.x,b.y,M,A),ly(g,l.x,l.y,s.x,P+s.y,u.x+u.w,u.y,i,I,E.x,b.y,M,A),ly(g,l.x,l.y,c.x,P+c.y,u.x,u.y+u.h,i,I,b.x,E.y,M,A),ly(g,l.x,l.y,h.x,P+h.y,u.x+u.w,u.y+u.h,i,I,E.x,E.y,M,A),a){const{x:t,y:i,z:r}=a.anchor,[n,o,s]=a.up;hy(y,t,i,r,n,o,s),hy(y,t,i,r,n,o,s),hy(y,t,i,r,n,o,s),hy(y,t,i,r,n,o,s),dy(e.dynamicLayoutVertexArray,t,i,r,w);}else dy(e.dynamicLayoutVertexArray,l.x,l.y,l.z,w);if(m){const t=v||u;cy(e.iconTransitioningVertexArray,t.x,t.y),cy(e.iconTransitioningVertexArray,t.x+t.w,t.y),cy(e.iconTransitioningVertexArray,t.x,t.y+t.h),cy(e.iconTransitioningVertexArray,t.x+t.w,t.y+t.h);}_.emplaceBack(z,z+1,z+2),_.emplaceBack(z+1,z+2,z+3),x.vertexLength+=4,x.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(S[0]),r!==t.length-1&&C===t[r+1].sectionIndex||e.programConfigurations.populatePaintArrays(g.length,o,o.index,{},d,p,f,T&&T[C]);}const E=a?a.anchor:l;e.placedSymbolArray.emplaceBack(E.x,E.y,E.z,l.x,l.y,v,this.glyphOffsetArray.length-v,b,c,h,l.segment,i?i[0]:0,i?i[1]:0,r[0],r[1],s,0,!1,0,u,0);}_commitLayoutVertex(e,t,i,r,n,o,s){e.emplaceBack(t,i,r,n,o,Math.round(s.x),Math.round(s.y));}_addCollisionDebugVertices(e,t,i,r,n,o,s){const a=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray),l=a.vertexLength,c=s.tileAnchorX,h=s.tileAnchorY;for(let e=0;e<4;e++)i.collisionVertexArray.emplaceBack(0,0,0,0);this._commitDebugCollisionVertexUpdate(i.collisionVertexArrayExt,t,e.padding,s.zOffset),this._commitLayoutVertex(i.layoutVertexArray,r,n,o,c,h,new y(e.x1,e.y1)),this._commitLayoutVertex(i.layoutVertexArray,r,n,o,c,h,new y(e.x2,e.y1)),this._commitLayoutVertex(i.layoutVertexArray,r,n,o,c,h,new y(e.x2,e.y2)),this._commitLayoutVertex(i.layoutVertexArray,r,n,o,c,h,new y(e.x1,e.y2)),a.vertexLength+=4;const u=i.indexArray;u.emplaceBack(l,l+1),u.emplaceBack(l+1,l+2),u.emplaceBack(l+2,l+3),u.emplaceBack(l+3,l),a.primitiveLength+=4;}_addTextDebugCollisionBoxes(e,t,i,r,n,o){for(let s=r;s<n;s++){const r=i.get(s),n=this.getSymbolInstanceTextSize(e,o,t,s);this._addCollisionDebugVertices(r,n,this.textCollisionBox,r.projectedAnchorX,r.projectedAnchorY,r.projectedAnchorZ,o);}}_addIconDebugCollisionBoxes(e,t,i,r,n,o){for(let s=r;s<n;s++){const r=i.get(s),n=this.getSymbolInstanceIconSize(e,t,o.placedIconSymbolIndex);this._addCollisionDebugVertices(r,n,this.iconCollisionBox,r.projectedAnchorX,r.projectedAnchorY,r.projectedAnchorZ,o);}}generateCollisionDebugBuffers(e,t){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new my(qa,c_.members,ja),this.iconCollisionBox=new my(qa,c_.members,ja);const i=m_(this.iconSizeData,e),r=m_(this.textSizeData,e);for(let n=0;n<this.symbolInstances.length;n++){const o=this.symbolInstances.get(n);this._addTextDebugCollisionBoxes(r,e,t,o.textBoxStartIndex,o.textBoxEndIndex,o),this._addTextDebugCollisionBoxes(r,e,t,o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o),this._addIconDebugCollisionBoxes(i,e,t,o.iconBoxStartIndex,o.iconBoxEndIndex,o),this._addIconDebugCollisionBoxes(i,e,t,o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex,o);}}getSymbolInstanceTextSize(e,t,i,r){const n=this.text.placedSymbolArray.get(t.rightJustifiedTextSymbolIndex>=0?t.rightJustifiedTextSymbolIndex:t.centerJustifiedTextSymbolIndex>=0?t.centerJustifiedTextSymbolIndex:t.leftJustifiedTextSymbolIndex>=0?t.leftJustifiedTextSymbolIndex:t.verticalPlacedTextSymbolIndex>=0?t.verticalPlacedTextSymbolIndex:r),o=f_(this.textSizeData,e,n)/u_;return this.tilePixelRatio*o}getSymbolInstanceIconSize(e,t,i){const r=this.icon.placedSymbolArray.get(i),n=f_(this.iconSizeData,e,r);return this.tilePixelRatio*n}_commitDebugCollisionVertexUpdate(e,t,i,r){e.emplaceBack(t,-i,-i,r),e.emplaceBack(t,i,-i,r),e.emplaceBack(t,i,i,r),e.emplaceBack(t,-i,i,r);}_updateTextDebugCollisionBoxes(e,t,i,r,n,o){for(let s=r;s<n;s++){const r=i.get(s),n=this.getSymbolInstanceTextSize(e,o,t,s);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,n,r.padding,o.zOffset);}}_updateIconDebugCollisionBoxes(e,t,i,r,n,o){for(let s=r;s<n;s++){const r=i.get(s),n=this.getSymbolInstanceIconSize(e,t,o.placedIconSymbolIndex);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,n,r.padding,o.zOffset);}}updateCollisionDebugBuffers(e,t){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const i=m_(this.iconSizeData,e),r=m_(this.textSizeData,e);for(let n=0;n<this.symbolInstances.length;n++){const o=this.symbolInstances.get(n);this._updateTextDebugCollisionBoxes(r,e,t,o.textBoxStartIndex,o.textBoxEndIndex,o),this._updateTextDebugCollisionBoxes(r,e,t,o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o),this._updateIconDebugCollisionBoxes(i,e,t,o.iconBoxStartIndex,o.iconBoxEndIndex,o),this._updateIconDebugCollisionBoxes(i,e,t,o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex,o);}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt);}_deserializeCollisionBoxesForSymbol(e,t,i,r,n,o,s,a,l){const c={};if(t<i){const{x1:i,y1:r,x2:n,y2:o,padding:s,projectedAnchorX:a,projectedAnchorY:l,projectedAnchorZ:h,tileAnchorX:u,tileAnchorY:d,featureIndex:p}=e.get(t);c.textBox={x1:i,y1:r,x2:n,y2:o,padding:s,projectedAnchorX:a,projectedAnchorY:l,projectedAnchorZ:h,tileAnchorX:u,tileAnchorY:d},c.textFeatureIndex=p;}if(r<n){const{x1:t,y1:i,x2:n,y2:o,padding:s,projectedAnchorX:a,projectedAnchorY:l,projectedAnchorZ:h,tileAnchorX:u,tileAnchorY:d,featureIndex:p}=e.get(r);c.verticalTextBox={x1:t,y1:i,x2:n,y2:o,padding:s,projectedAnchorX:a,projectedAnchorY:l,projectedAnchorZ:h,tileAnchorX:u,tileAnchorY:d},c.verticalTextFeatureIndex=p;}if(o<s){const{x1:t,y1:i,x2:r,y2:n,padding:s,projectedAnchorX:a,projectedAnchorY:l,projectedAnchorZ:h,tileAnchorX:u,tileAnchorY:d,featureIndex:p}=e.get(o);c.iconBox={x1:t,y1:i,x2:r,y2:n,padding:s,projectedAnchorX:a,projectedAnchorY:l,projectedAnchorZ:h,tileAnchorX:u,tileAnchorY:d},c.iconFeatureIndex=p;}if(a<l){const{x1:t,y1:i,x2:r,y2:n,padding:o,projectedAnchorX:s,projectedAnchorY:l,projectedAnchorZ:h,tileAnchorX:u,tileAnchorY:d,featureIndex:p}=e.get(a);c.verticalIconBox={x1:t,y1:i,x2:r,y2:n,padding:o,projectedAnchorX:s,projectedAnchorY:l,projectedAnchorZ:h,tileAnchorX:u,tileAnchorY:d},c.verticalIconFeatureIndex=p;}return c}deserializeCollisionBoxes(e){this.collisionArrays=[];for(let t=0;t<this.symbolInstances.length;t++){const i=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,i.textBoxStartIndex,i.textBoxEndIndex,i.verticalTextBoxStartIndex,i.verticalTextBoxEndIndex,i.iconBoxStartIndex,i.iconBoxEndIndex,i.verticalIconBoxStartIndex,i.verticalIconBoxEndIndex));}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}hasIconTextFit(){return this.hasAnyIconTextFit}addIndicesForPlacedSymbol(e,t){const i=e.placedSymbolArray.get(t),r=i.vertexStartIndex+4*i.numGlyphs;for(let t=i.vertexStartIndex;t<r;t+=4)e.indexArray.emplaceBack(t,t+1,t+2),e.indexArray.emplaceBack(t+1,t+2,t+3);}getSortedSymbolIndexes(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const t=Math.sin(e),i=Math.cos(e),r=[],n=[],o=[];for(let e=0;e<this.symbolInstances.length;++e){o.push(e);const s=this.symbolInstances.get(e);r.push(0|Math.round(t*s.tileAnchorX+i*s.tileAnchorY)),n.push(s.featureIndex);}return o.sort(((e,t)=>r[e]-r[t]||n[t]-n[e])),o}getSortedIndexesByZOffset(){if(!this.zOffsetSortDirty)return this.symbolInstanceIndexesSortedZOffset;if(!this.symbolInstanceIndexesSortedZOffset){this.symbolInstanceIndexesSortedZOffset=[];for(let e=0;e<this.symbolInstances.length;++e)this.symbolInstanceIndexesSortedZOffset.push(e);}return this.zOffsetSortDirty=!1,this.symbolInstanceIndexesSortedZOffset.sort(((e,t)=>this.symbolInstances.get(t).zOffset-this.symbolInstances.get(e).zOffset))}addToSortKeyRanges(e,t){const i=this.sortKeyRanges[this.sortKeyRanges.length-1];i&&i.sortKey===t?i.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1});}sortFeatures(e){if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const e of this.symbolInstanceIndexes){const t=this.symbolInstances.get(e);this.featureSortOrder.push(t.featureIndex);const{rightJustifiedTextSymbolIndex:i,centerJustifiedTextSymbolIndex:r,leftJustifiedTextSymbolIndex:n,verticalPlacedTextSymbolIndex:o,placedIconSymbolIndex:s,verticalPlacedIconSymbolIndex:a}=t;i>=0&&this.addIndicesForPlacedSymbol(this.text,i),r>=0&&r!==i&&this.addIndicesForPlacedSymbol(this.text,r),n>=0&&n!==r&&n!==i&&this.addIndicesForPlacedSymbol(this.text,n),o>=0&&this.addIndicesForPlacedSymbol(this.text,o),s>=0&&this.addIndicesForPlacedSymbol(this.icon,s),a>=0&&this.addIndicesForPlacedSymbol(this.icon,a);}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray);}}}Rs(_y,\"SymbolBucket\",{omit:[\"layers\",\"collisionBoxArray\",\"features\",\"compareText\"]}),_y.MAX_GLYPHS=65535,_y.addDynamicAttributes=dy;var gy=_y;const yy=Ia([{name:\"a_pos_normal\",components:2,type:\"Int16\"},{name:\"a_data\",components:4,type:\"Uint8\"},{name:\"a_linesofar\",components:1,type:\"Float32\"}],4),{members:xy}=yy,vy=Ia([{name:\"a_packed\",components:4,type:\"Float32\"}]),{members:by}=vy,wy=hm.types,Ty=Math.cos(Math.PI/180*37.5);class Ey{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.fqid)),this.index=e.index,this.projection=e.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((e=>{this.gradients[e.id]={};})),this.layoutVertexArray=new La,this.layoutVertexArray2=new ka,this.indexArray=new Wa,this.programConfigurations=new ec(e.layers,e.zoom),this.segments=new xl,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id));}populate(e,t,i,r){this.hasPattern=Uf(\"line\",this.layers,t);const n=this.layers[0].layout.get(\"line-sort-key\"),o=[];for(const{feature:t,id:s,index:a,sourceLayerIndex:l}of e){const e=this.layers[0]._featureFilter.needGeometry,c=gp(t,e);if(!this.layers[0]._featureFilter.filter(new oa(this.zoom),c,i))continue;const h=n?n.evaluate(c,{},i):void 0,u={id:s,properties:t.properties,type:t.type,sourceLayerIndex:l,index:a,geometry:e?c.geometry:_p(t,i,r),patterns:{},sortKey:h};o.push(u);}n&&o.sort(((e,t)=>e.sortKey-t.sortKey));const{lineAtlas:s,featureIndex:a}=t,l=this.addConstantDashes(s);for(const r of o){const{geometry:n,index:o,sourceLayerIndex:c}=r;if(l&&this.addFeatureDashes(r,s),this.hasPattern){const e=Vf(\"line\",this.layers,r,this.zoom,t);this.patternFeatures.push(e);}else this.addFeature(r,n,o,i,s.positions,t.availableImages,t.brightness);a.insert(e[o].feature,n,o,c,this.index);}}addConstantDashes(e){let t=!1;for(const i of this.layers){const r=i.paint.get(\"line-dasharray\").value,n=i.layout.get(\"line-cap\").value;if(\"constant\"!==r.kind||\"constant\"!==n.kind)t=!0;else {const t=n.value,i=r.value;if(!i)continue;e.addDash(i,t);}}return t}addFeatureDashes(e,t){const i=this.zoom;for(const r of this.layers){const n=r.paint.get(\"line-dasharray\").value,o=r.layout.get(\"line-cap\").value;if(\"constant\"===n.kind&&\"constant\"===o.kind)continue;let s,a;if(\"constant\"===n.kind){if(s=n.value,!s)continue}else s=n.evaluate({zoom:i},e);a=\"constant\"===o.kind?o.value:o.evaluate({zoom:i},e),t.addDash(s,a),e.patterns[r.id]=t.getKey(s,a);}}update(e,t,i,r,n){const o=0!==Object.keys(e).length;o&&!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(e,t,o?this.stateDependentLayers:this.layers,i,r,n);}addFeatures(e,t,i,r,n,o){for(const e of this.patternFeatures)this.addFeature(e,e.geometry,e.index,t,i,r,o);}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return !this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,by)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,xy),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0;}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy());}lineFeatureClips(e){if(e.properties&&e.properties.hasOwnProperty(\"mapbox_clip_start\")&&e.properties.hasOwnProperty(\"mapbox_clip_end\"))return {start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}addFeature(e,t,i,r,n,o,s){const a=this.layers[0].layout,l=a.get(\"line-join\").evaluate(e,{}),c=a.get(\"line-cap\").evaluate(e,{}),h=a.get(\"line-miter-limit\"),u=a.get(\"line-round-limit\");this.lineClips=this.lineFeatureClips(e);for(const i of t)this.addLine(i,e,l,c,h,u);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,i,n,o,r,s);}addLine(e,t,i,r,n,o){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let t=0;t<e.length-1;t++)this.totalDistance+=e[t].dist(e[t+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance);}const s=\"Polygon\"===wy[t.type];let a=e.length;for(;a>=2&&e[a-1].equals(e[a-2]);)a--;let l=0;for(;l<a-1&&e[l].equals(e[l+1]);)l++;if(a<(s?3:2))return;\"bevel\"===i&&(n=1.05);const c=this.overscaling<=16?15*cr/(512*this.overscaling):0,h=this.segments.prepareSegment(10*a,this.layoutVertexArray,this.indexArray);let u,d,p,f,m;this.e1=this.e2=-1,s&&(u=e[a-2],m=e[l].sub(u)._unit()._perp());for(let t=l;t<a;t++){if(p=t===a-1?s?e[l+1]:void 0:e[t+1],p&&e[t].equals(p))continue;m&&(f=m),u&&(d=u),u=e[t],m=p?p.sub(u)._unit()._perp():f,f=f||m;let _=f.add(m);0===_.x&&0===_.y||_._unit();const g=f.x*m.x+f.y*m.y,y=_.x*m.x+_.y*m.y,x=0!==y?1/y:1/0,v=2*Math.sqrt(2-2*y),b=y<Ty&&d&&p,w=f.x*m.y-f.y*m.x>0;if(b&&t>l){const e=u.dist(d);if(e>2*c){const t=u.sub(u.sub(d)._mult(c/e)._round());this.updateDistance(d,t),this.addCurrentVertex(t,f,0,0,h),d=t;}}const T=d&&p;let E=T?i:s?\"butt\":r;if(T&&\"round\"===E&&(x<o?E=\"miter\":x<=2&&(E=\"fakeround\")),\"miter\"===E&&x>n&&(E=\"bevel\"),\"bevel\"===E&&(x>2&&(E=\"flipbevel\"),x<n&&(E=\"miter\")),d&&this.updateDistance(d,u),\"miter\"===E)_._mult(x),this.addCurrentVertex(u,_,0,0,h);else if(\"flipbevel\"===E){if(x>100)_=m.mult(-1);else {const e=x*f.add(m).mag()/f.sub(m).mag();_._perp()._mult(e*(w?-1:1));}this.addCurrentVertex(u,_,0,0,h),this.addCurrentVertex(u,_.mult(-1),0,0,h);}else if(\"bevel\"===E||\"fakeround\"===E){const e=-Math.sqrt(x*x-1),t=w?e:0,i=w?0:e;if(d&&this.addCurrentVertex(u,f,t,i,h),\"fakeround\"===E){const e=Math.round(180*v/Math.PI/20);for(let t=1;t<e;t++){let i=t/e;if(.5!==i){const e=i-.5;i+=i*e*(i-1)*((1.0904+g*(g*(3.55645-1.43519*g)-3.2452))*e*e+(.848013+g*(.215638*g-1.06021)));}const r=m.sub(f)._mult(i)._add(f)._unit()._mult(w?-1:1);this.addHalfVertex(u,r.x,r.y,!1,w,0,h);}}p&&this.addCurrentVertex(u,m,-t,-i,h);}else if(\"butt\"===E)this.addCurrentVertex(u,_,0,0,h);else if(\"square\"===E){const e=d?1:-1;d||this.addCurrentVertex(u,_,e,e,h),this.addCurrentVertex(u,_,0,0,h),d&&this.addCurrentVertex(u,_,e,e,h);}else \"round\"===E&&(d&&(this.addCurrentVertex(u,f,0,0,h),this.addCurrentVertex(u,f,1,1,h,!0)),p&&(this.addCurrentVertex(u,m,-1,-1,h,!0),this.addCurrentVertex(u,m,0,0,h)));if(b&&t<a-1){const e=u.dist(p);if(e>2*c){const t=u.add(p.sub(u)._mult(c/e)._round());this.updateDistance(u,t),this.addCurrentVertex(t,m,0,0,h),u=t;}}}}addCurrentVertex(e,t,i,r,n,o=!1){const s=t.y*r-t.x,a=-t.y-t.x*r;this.addHalfVertex(e,t.x+t.y*i,t.y-t.x*i,o,!1,i,n),this.addHalfVertex(e,s,a,o,!0,-r,n);}addHalfVertex({x:e,y:t},i,r,n,o,s,a){this.layoutVertexArray.emplaceBack((e<<1)+(n?1:0),(t<<1)+(o?1:0),Math.round(63*i)+128,Math.round(63*r)+128,1+(0===s?0:s<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const l=a.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,l),a.primitiveLength++),o?this.e2=l:this.e1=l;}updateScaledDistance(){if(this.lineClips){const e=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=e*this.lineClips.start+this.distance;}else this.lineSoFar=this.distance;}updateDistance(e,t){this.distance+=e.dist(t),this.updateScaledDistance();}}Rs(Ey,\"LineBucket\",{omit:[\"layers\",\"patternFeatures\"]});class My{constructor(e,t,i,r){this.context=e,this.format=i,this.texture=e.gl.createTexture(),this.update(t,r);}update(e,i,r){const{width:n,height:o}=e,{context:s}=this,{gl:a}=s,{HTMLImageElement:l,HTMLCanvasElement:c,HTMLVideoElement:h,ImageData:u,ImageBitmap:d}=t;if(a.bindTexture(a.TEXTURE_2D,this.texture),s.pixelStoreUnpackFlipY.set(!1),s.pixelStoreUnpack.set(1),s.pixelStoreUnpackPremultiplyAlpha.set(this.format===a.RGBA&&(!i||!1!==i.premultiply)),r||this.size&&this.size[0]===n&&this.size[1]===o){const{x:t,y:i}=r||{x:0,y:0};if(e instanceof l||e instanceof c||e instanceof h||e instanceof u||d&&e instanceof d)a.texSubImage2D(a.TEXTURE_2D,0,t,i,a.RGBA,a.UNSIGNED_BYTE,e);else {let r=this.format,s=a.UNSIGNED_BYTE;this.format===a.R32F&&(r=a.RED,s=a.FLOAT),a.texSubImage2D(a.TEXTURE_2D,0,t,i,n,o,r,s,e.data);}}else if(this.size=[n,o],e instanceof l||e instanceof c||e instanceof h||e instanceof u||d&&e instanceof d){let t=this.format;this.format===a.R8&&(t=a.RED),a.texImage2D(a.TEXTURE_2D,0,this.format,t,a.UNSIGNED_BYTE,e);}else {let t=this.format,i=this.format,r=a.UNSIGNED_BYTE;this.format===a.DEPTH_COMPONENT&&(t=a.DEPTH_COMPONENT16,r=a.UNSIGNED_SHORT),this.format===a.R32F&&(r=a.FLOAT,i=a.RED),a.texImage2D(a.TEXTURE_2D,0,t,n,o,0,i,r,e.data);}this.useMipmap=Boolean(i&&i.useMipmap),this.useMipmap&&a.generateMipmap(a.TEXTURE_2D);}bind(e,t){const{context:i}=this,{gl:r}=i;r.bindTexture(r.TEXTURE_2D,this.texture),e!==this.minFilter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.useMipmap?e===r.NEAREST?r.NEAREST_MIPMAP_NEAREST:r.LINEAR_MIPMAP_NEAREST:e),this.minFilter=e),t!==this.wrapS&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,t),this.wrapS=t);}bindExtraParam(e,t,i,r){const{context:n}=this,{gl:o}=n;o.bindTexture(o.TEXTURE_2D,this.texture),t!==this.magFilter&&(o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,t),this.magFilter=t),e!==this.minFilter&&(o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,this.useMipmap?e===o.NEAREST?o.NEAREST_MIPMAP_NEAREST:o.LINEAR_MIPMAP_NEAREST:e),this.minFilter=e),i!==this.wrapS&&(o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,i),this.wrapS=i),r!==this.wrapT&&(o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,r),this.wrapT=r);}destroy(){const{gl:e}=this.context;e.deleteTexture(this.texture),this.texture=null;}}class Ay{constructor(e,t){this.context=e,this.texture=t;}bind(e,t){const{context:i}=this,{gl:r}=i;r.bindTexture(r.TEXTURE_2D,this.texture),e!==this.minFilter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,e),this.minFilter=e),t!==this.wrapS&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,t),this.wrapS=t);}}const Sy=32,Iy=33,Cy=new Uint16Array(8184);for(let e=0;e<2046;e++){let t=e+2,i=0,r=0,n=0,o=0,s=0,a=0;for(1&t?n=o=s=Sy:i=r=a=Sy;(t>>=1)>1;){const e=i+n>>1,l=r+o>>1;1&t?(n=i,o=r,i=s,r=a):(i=n,r=o,n=s,o=a),s=e,a=l;}const l=4*e;Cy[l+0]=i,Cy[l+1]=r,Cy[l+2]=n,Cy[l+3]=o;}const zy=new Uint16Array(2178),Py=new Uint8Array(1089),Dy=new Uint16Array(1089);function Ry(e){return 0===e?-.03125:32===e?.03125:0}var Ly=Ia([{name:\"a_pos\",type:\"Int16\",components:2},{name:\"a_texture_pos\",type:\"Int16\",components:2}]);const ky={type:2,extent:cr,loadGeometry:()=>[[new y(0,0),new y(cr+1,0),new y(cr+1,cr+1),new y(0,cr+1),new y(0,0)]]};class Oy{constructor(e,t,i,r,n){this.tileID=e,this.uid=F(),this.uses=0,this.tileSize=t,this.tileZoom=i,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=n,r&&r.style&&(this._lastUpdatedBrightness=r.style.getBrightness()),this.expiredRequestCount=0,this.state=\"loading\",r&&r.transform&&(this.projection=r.transform.projection);}registerFadeDuration(e){const t=e+this.timeAdded;t<dt.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t);}wasRequested(){return \"errored\"===this.state||\"loaded\"===this.state||\"reloading\"===this.state}get tileTransform(){return this._tileTransform||(this._tileTransform=Pg(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(e,t,i){if(this.unloadVectorData(),this.state=\"loaded\",e){e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){const i={};if(!t)return i;for(const r of e){const e=r.layerIds.map((e=>t.getLayer(e))).filter(Boolean);if(0!==e.length){r.layers=e,r.stateDependentLayerIds&&(r.stateDependentLayers=r.stateDependentLayerIds.map((t=>e.filter((e=>e.id===t))[0])));for(const t of e)i[t.fqid]=r;}}return i}(e.buckets,t.style),this.hasSymbolBuckets=!1;for(const e in this.buckets){const t=this.buckets[e];if(t instanceof gy){if(this.hasSymbolBuckets=!0,!i)break;t.justReloaded=!0;}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const e in this.buckets){const t=this.buckets[e];if(t instanceof gy&&t.hasRTLText){this.hasRTLText=!0,na.isLoading()||na.isLoaded()||\"deferred\"!==ia()||ra();break}}this.queryPadding=0;for(const e in this.buckets){const i=this.buckets[e],r=t.style.getOwnLayer(e);if(!r)continue;const n=r.queryRadius(i);this.queryPadding=Math.max(this.queryPadding,n);}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage),e.lineAtlas&&(this.lineAtlas=e.lineAtlas),this._lastUpdatedBrightness=e.brightness;}else this.collisionBoxArray=new al;}unloadVectorData(){if(this.hasData()){for(const e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state=\"unloaded\";}}getBucket(e){return this.buckets[e.fqid]}upload(e){for(const t in this.buckets){const i=this.buckets[t];i.uploadPending()&&i.upload(e);}const t=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new My(e,this.imageAtlas.image,t.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new My(e,this.glyphAtlasImage,t.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new My(e,this.lineAtlas.image,t.ALPHA),this.lineAtlas.uploaded=!0);}prepare(e,t,i){if(this.imageAtlas&&this.imageAtlasTexture&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture,i),!t||!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData)return;const r=t.style.getBrightness();(this._lastUpdatedBrightness||r)&&(this._lastUpdatedBrightness&&r&&Math.abs(this._lastUpdatedBrightness-r)<.001||(this._lastUpdatedBrightness=r,this.updateBuckets(void 0,t)));}queryRenderedFeatures(e,t,i,r,n,o,s,a){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:r,pixelPosMatrix:s,transform:o,params:n,tileTransform:this.tileTransform},e,t,i):{}}querySourceFeatures(e,t){const i=this.latestFeatureIndex;if(!i||!i.rawTileData)return;const r=i.loadVTLayers(),n=t?t.sourceLayer:\"\",o=r._geojsonTileLayer||r[n];if(!o)return;const s=Fo(t&&t.filter),{z:a,x:l,y:c}=this.tileID.canonical,h={z:a,x:l,y:c};for(let t=0;t<o.length;t++){const r=o.feature(t);if(s.needGeometry){const e=gp(r,!0);if(!s.filter(new oa(this.tileID.overscaledZ),e,this.tileID.canonical))continue}else if(!s.filter(new oa(this.tileID.overscaledZ),r))continue;const u=i.getId(r,n),d=new Bm(r,a,l,c,u);d.tile=h,e.push(d);}}hasData(){return \"loaded\"===this.state||\"reloading\"===this.state||\"expired\"===this.state}bucketsLoaded(){for(const e in this.buckets)if(this.buckets[e].uploadPending())return !1;return !0}patternsLoaded(){return !!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(e){const t=this.expirationTime;if(e.cacheControl){const t=ee(e.cacheControl);t[\"max-age\"]&&(this.expirationTime=Date.now()+1e3*t[\"max-age\"]);}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){const e=Date.now();let i=!1;if(this.expirationTime>e)i=!1;else if(t)if(this.expirationTime<t)i=!0;else {const r=this.expirationTime-t;r?this.expirationTime=e+Math.max(r,3e4):i=!0;}else i=!0;i?(this.expiredRequestCount++,this.state=\"expired\"):this.expiredRequestCount=0;}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(e,t){this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(e).length&&t&&this.updateBuckets(e,t);}updateBuckets(e,t){if(!this.latestFeatureIndex)return;const i=this.latestFeatureIndex.loadVTLayers(),r=t.style.listImages(),n=t.style.getBrightness();for(const o in this.buckets){if(!t.style.hasLayer(o))continue;const s=this.buckets[o],a=s.layers[0].sourceLayer||\"_geojsonTileLayer\",l=i[a];let c={};if(e&&(c=e[a],!l||!c||0===Object.keys(c).length))continue;if(s.update(c,l,r,this.imageAtlas&&this.imageAtlas.patternPositions||{},n),s instanceof Ey||s instanceof jf){const e=t.style.getOwnSourceCache(s.layers[0].source);t._terrain&&t._terrain.enabled&&e&&s.programConfigurations.needsUpload&&t._terrain._clearRenderCacheForTile(e.id,this.tileID);}const h=t&&t.style&&t.style.getOwnLayer(o);h&&(this.queryPadding=Math.max(this.queryPadding,h.queryRadius(s)));}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return !this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<dt.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0;}setHoldDuration(e){this.symbolFadeHoldUntil=dt.now()+e;}setTexture(e,t){const i=t.context,r=i.gl;this.texture=this.texture||t.getTileTexture(e.width),this.texture&&this.texture instanceof My?this.texture.update(e,{useMipmap:!0}):(this.texture=new My(i,e,r.RGBA,{useMipmap:!0}),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE));}setDependencies(e,t){const i={};for(const e of t)i[e]=!0;this.dependencies[e]=i;}hasDependency(e,t){for(const i of e){const e=this.dependencies[i];if(e)for(const i of t)if(e[i])return !0}return !1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(e,t){if(!t||\"mercator\"===t.name||this._tileDebugBuffer)return;const i=_p(ky,this.tileID.canonical,this.tileTransform)[0],r=new za,n=new el;for(let e=0;e<i.length;e++){const{x:t,y:o}=i[e];r.emplaceBack(t,o),n.emplaceBack(e);}n.emplaceBack(0),this._tileDebugIndexBuffer=e.createIndexBuffer(n),this._tileDebugBuffer=e.createVertexBuffer(r,Nu.members),this._tileDebugSegments=xl.simpleSegment(0,0,r.length,n.length);}_makeTileBoundsBuffers(e,t){if(this._tileBoundsBuffer||!t||\"mercator\"===t.name)return;const i=_p(ky,this.tileID.canonical,this.tileTransform)[0];let r,n;if(this.isRaster){const e=function(e,t){const i=Pg(e,t),r=Math.pow(2,e.z);for(let n=0;n<Iy;n++)for(let o=0;o<Iy;o++){const s=ep((e.x+(o+Ry(o))/Sy)/r),a=tp((e.y+(n+Ry(n))/Sy)/r),l=t.project(s,a),c=n*Iy+o;zy[2*c+0]=Math.round((l.x*i.scale-i.x)*cr),zy[2*c+1]=Math.round((l.y*i.scale-i.y)*cr);}Py.fill(0),Dy.fill(0);for(let e=2045;e>=0;e--){const t=4*e,i=Cy[t+0],r=Cy[t+1],n=Cy[t+2],o=Cy[t+3],s=i+n>>1,a=r+o>>1,l=s+a-r,c=a+i-s,h=r*Iy+i,u=o*Iy+n,d=a*Iy+s,p=Math.hypot((zy[2*h+0]+zy[2*u+0])/2-zy[2*d+0],(zy[2*h+1]+zy[2*u+1])/2-zy[2*d+1])>=16;Py[d]=Py[d]||(p?1:0),e<1022&&(Py[d]=Py[d]||Py[(r+c>>1)*Iy+(i+l>>1)]||Py[(o+c>>1)*Iy+(n+l>>1)]);}const n=new Da,o=new Wa;let s=0;function a(e,t){const i=t*Iy+e;return 0===Dy[i]&&(n.emplaceBack(zy[2*i+0],zy[2*i+1],e*cr/Sy,t*cr/Sy),Dy[i]=++s),Dy[i]-1}function l(e,t,i,r,n,s){const c=e+i>>1,h=t+r>>1;if(Math.abs(e-n)+Math.abs(t-s)>1&&Py[h*Iy+c])l(n,s,e,t,c,h),l(i,r,n,s,c,h);else {const l=a(e,t),c=a(i,r),h=a(n,s);o.emplaceBack(l,c,h);}}return l(0,0,Sy,Sy,Sy,0),l(Sy,Sy,0,0,0,Sy),{vertices:n,indices:o}}(this.tileID.canonical,t);r=e.vertices,n=e.indices;}else {r=new Da,n=new Wa;for(const{x:e,y:t}of i)r.emplaceBack(e,t,0,0);const e=Bf(r.int16,void 0,4);for(let t=0;t<e.length;t+=3)n.emplaceBack(e[t],e[t+1],e[t+2]);}this._tileBoundsBuffer=e.createVertexBuffer(r,Ly.members),this._tileBoundsIndexBuffer=e.createIndexBuffer(n),this._tileBoundsSegments=xl.simpleSegment(0,0,r.length,n.length);}_makeGlobeTileDebugBuffers(e,t){const i=t.projection;if(!i||\"globe\"!==i.name||t.freezeTileCoverage)return;const r=this.tileID.canonical,n=Ad(_d(r,t)),o=Dd(t.zoom);let s;o>0&&(s=Au.invert(new Float64Array(16),t.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(e,r,t,n,s,o),this._makeGlobeTileDebugTextBuffer(e,r,t,n,s,o);}_globePoint(e,t,i,r,n,o,s){let a=Td(e,t,i);if(o){const n=1<<i.z,l=Kd(r.center.lng),c=Jd(r.center.lat),h=(i.x+.5)/n-l;let u=0;h>.5?u=-1:h<-.5&&(u=1);let d=(e/cr+i.x)/n+u,p=(t/cr+i.y)/n;d=(d-l)*r._pixelsPerMercatorPixel+l,p=(p-c)*r._pixelsPerMercatorPixel+c;const f=[d*r.worldSize,p*r.worldSize,0];Du.transformMat4(f,f,o),a=md(a,f,s);}return Du.transformMat4(a,a,n)}_makeGlobeTileDebugBorderBuffer(e,t,i,r,n,o){const s=new za,a=new el,l=new Pa,c=(e,c,h,u,d)=>{const p=(h-e)/(d-1),f=(u-c)/(d-1),m=s.length;for(let h=0;h<d;h++){const u=e+h*p,d=c+h*f;s.emplaceBack(u,d);const _=this._globePoint(u,d,t,i,r,n,o);l.emplaceBack(_[0],_[1],_[2]),a.emplaceBack(m+h);}},h=cr;c(0,0,h,0,16),c(h,0,h,h,16),c(h,h,0,h,16),c(0,h,0,0,16),this._tileDebugIndexBuffer=e.createIndexBuffer(a),this._tileDebugBuffer=e.createVertexBuffer(s,Nu.members),this._globeTileDebugBorderBuffer=e.createVertexBuffer(l,Fu.members),this._tileDebugSegments=xl.simpleSegment(0,0,s.length,a.length);}_makeGlobeTileDebugTextBuffer(e,t,i,r,n,o){const s=cr/4,a=new za,l=new Wa,c=new Pa,h=25;l.reserve(32),a.reserve(h),c.reserve(h);const u=(e,t)=>h*e+t;for(let e=0;e<h;e++){const l=e*s;for(let e=0;e<h;e++){const h=e*s;a.emplaceBack(h,l);const u=this._globePoint(h,l,t,i,r,n,o);c.emplaceBack(u[0],u[1],u[2]);}}for(let e=0;e<4;e++)for(let t=0;t<4;t++){const i=u(e,t),r=u(e,t+1),n=u(e+1,t),o=u(e+1,t+1);l.emplaceBack(i,r,n),l.emplaceBack(n,r,o);}this._tileDebugTextIndexBuffer=e.createIndexBuffer(l),this._tileDebugTextBuffer=e.createVertexBuffer(a,Nu.members),this._globeTileDebugTextBuffer=e.createVertexBuffer(c,Fu.members),this._tileDebugTextSegments=xl.simpleSegment(0,0,h,32);}destroy(e=!1){for(const e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&(this.imageAtlasTexture.destroy(),delete this.imageAtlasTexture),this.glyphAtlasTexture&&(this.glyphAtlasTexture.destroy(),delete this.glyphAtlasTexture),this.lineAtlasTexture&&(this.lineAtlasTexture.destroy(),delete this.lineAtlasTexture),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),!e&&this.texture&&this.texture instanceof My&&(this.texture.destroy(),delete this.texture),this.hillshadeFBO&&(this.hillshadeFBO.destroy(),delete this.hillshadeFBO),this.dem&&delete this.dem,this.neighboringTiles&&delete this.neighboringTiles,this.demTexture&&(this.demTexture.destroy(),delete this.demTexture),this.latestFeatureIndex=null,this.state=\"unloaded\";}}class By{constructor(e,t){this.max=e,this.onRemove=t,this.reset();}reset(){for(const e in this.data)for(const t of this.data[e])t.timeout&&clearTimeout(t.timeout),this.onRemove(t.value);return this.data={},this.order=[],this}add(e,t,i){const r=e.wrapped().key;void 0===this.data[r]&&(this.data[r]=[]);const n={value:t,timeout:void 0};if(void 0!==i&&(n.timeout=setTimeout((()=>{this.remove(e,n);}),i)),this.data[r].push(n),this.order.push(r),this.order.length>this.max){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e);}return this}has(e){return e.wrapped().key in this.data}getAndRemove(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}_getAndRemoveByKey(e){const t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value}getByKey(e){const t=this.data[e];return t?t[0].value:null}get(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}remove(e,t){if(!this.has(e))return this;const i=e.wrapped().key,r=void 0===t?0:this.data[i].indexOf(t),n=this.data[i][r];return this.data[i].splice(r,1),n.timeout&&clearTimeout(n.timeout),0===this.data[i].length&&delete this.data[i],this.onRemove(n.value),this.order.splice(this.order.indexOf(i),1),this}setMaxSize(e){for(this.max=e;this.order.length>this.max;){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e);}return this}filter(e){const t=[];for(const i in this.data)for(const r of this.data[i])e(r.value)||t.push(r);for(const e of t)this.remove(e.value.tileID,e);}}class Fy{constructor(e,t,i,r){this.id=Fy.uniqueIdxCounter,Fy.uniqueIdxCounter++,this.context=e;const n=e.gl;this.buffer=n.createBuffer(),this.dynamicDraw=Boolean(i),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?n.DYNAMIC_DRAW:n.STATIC_DRAW),this.dynamicDraw||r||t.destroy();}bind(){this.context.bindElementBuffer.set(this.buffer);}updateData(e){this.id=Fy.uniqueIdxCounter,Fy.uniqueIdxCounter++;const t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer);}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer);}}Fy.uniqueIdxCounter=0;const Ny={Int8:\"BYTE\",Uint8:\"UNSIGNED_BYTE\",Int16:\"SHORT\",Uint16:\"UNSIGNED_SHORT\",Int32:\"INT\",Uint32:\"UNSIGNED_INT\",Float32:\"FLOAT\"};class Uy{constructor(e,t,i,r,n,o){this.length=t.length,this.attributes=i,this.itemSize=t.bytesPerElement,this.dynamicDraw=r,this.instanceCount=o,this.context=e;const s=e.gl;this.buffer=s.createBuffer(),e.bindVertexBuffer.set(this.buffer),s.bufferData(s.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?s.DYNAMIC_DRAW:s.STATIC_DRAW),this.dynamicDraw||n||t.destroy();}bind(){this.context.bindVertexBuffer.set(this.buffer);}updateData(e){const t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer);}enableAttributes(e,t){for(let i=0;i<this.attributes.length;i++){const r=t.attributes[this.attributes[i].name];void 0!==r&&e.enableVertexAttribArray(r);}}setVertexAttribPointers(e,t,i){for(let r=0;r<this.attributes.length;r++){const n=this.attributes[r],o=t.attributes[n.name];void 0!==o&&e.vertexAttribPointer(o,n.components,e[Ny[n.type]],!1,this.itemSize,n.offset+this.itemSize*(i||0));}}setVertexAttribDivisor(e,t,i){for(let r=0;r<this.attributes.length;r++){const n=t.attributes[this.attributes[r].name];void 0!==n&&this.instanceCount&&this.instanceCount>0&&e.vertexAttribDivisor(n,i);}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer);}}class Vy{constructor(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1;}get(){return this.current}set(e){}getDefault(){return this.default}setDefault(){this.set(this.default);}}class jy extends Vy{getDefault(){return hi.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1);}}class Gy extends Vy{getDefault(){return 1}set(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1);}}class qy extends Vy{getDefault(){return 0}set(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1);}}class Zy extends Vy{getDefault(){return [!0,!0,!0,!0]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1);}}class $y extends Vy{getDefault(){return !0}set(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1);}}class Wy extends Vy{getDefault(){return 255}set(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1);}}class Hy extends Vy{getDefault(){return {func:this.gl.ALWAYS,ref:0,mask:255}}set(e){const t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1);}}class Xy extends Vy{getDefault(){const e=this.gl;return [e.KEEP,e.KEEP,e.KEEP]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1);}}class Yy extends Vy{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1;}}class Ky extends Vy{getDefault(){return [0,1]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1);}}class Jy extends Vy{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1;}}class Qy extends Vy{getDefault(){return this.gl.LESS}set(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1);}}class ex extends Vy{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1;}}class tx extends Vy{getDefault(){const e=this.gl;return [e.ONE,e.ZERO,e.ONE,e.ZERO]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1);}}class ix extends Vy{getDefault(){return hi.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1);}}class rx extends Vy{getDefault(){return this.gl.FUNC_ADD}set(e){(e!==this.current||this.dirty)&&(this.gl.blendEquationSeparate(e,e),this.current=e,this.dirty=!1);}}class nx extends Vy{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1;}}class ox extends Vy{getDefault(){return this.gl.BACK}set(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1);}}class sx extends Vy{getDefault(){return this.gl.CCW}set(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1);}}let ax=class extends Vy{getDefault(){return null}set(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1);}};class lx extends Vy{getDefault(){return this.gl.TEXTURE0}set(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1);}}class cx extends Vy{getDefault(){const e=this.gl;return [0,0,e.drawingBufferWidth,e.drawingBufferHeight]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1);}}class hx extends Vy{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1;}}class ux extends Vy{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1;}}class dx extends Vy{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1;}}class px extends Vy{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1;}}class fx extends Vy{getDefault(){return null}set(e){const t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1;}}class mx extends Vy{getDefault(){return null}set(e){this.gl&&(e!==this.current||this.dirty)&&(this.gl.bindVertexArray(e),this.current=e,this.dirty=!1);}}class _x extends Vy{getDefault(){return 4}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1;}}class gx extends Vy{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1;}}class yx extends Vy{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1;}}class xx extends Vy{constructor(e,t){super(e),this.context=e,this.parent=t;}getDefault(){return null}}class vx extends xx{setDirty(){this.dirty=!0;}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1;}}class bx extends xx{attachment(){return this.gl.DEPTH_ATTACHMENT}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,this.attachment(),t.RENDERBUFFER,e),this.current=e,this.dirty=!1;}}class wx extends xx{attachment(){return this.gl.DEPTH_ATTACHMENT}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,this.attachment(),t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1;}}class Tx extends bx{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class Ex{constructor(e,t,i,r,n){this.context=e,this.width=t,this.height=i;const o=this.framebuffer=e.gl.createFramebuffer();r&&(this.colorAttachment=new vx(e,o)),n&&(this.depthAttachmentType=n,this.depthAttachment=\"renderbuffer\"===n?new bx(e,o):new wx(e,o));}destroy(){const e=this.context.gl;if(this.colorAttachment){const t=this.colorAttachment.get();t&&e.deleteTexture(t);}if(this.depthAttachment&&this.depthAttachmentType)if(\"renderbuffer\"===this.depthAttachmentType){const t=this.depthAttachment.get();t&&e.deleteRenderbuffer(t);}else {const t=this.depthAttachment.get();t&&e.deleteTexture(t);}e.deleteFramebuffer(this.framebuffer);}}class Mx{constructor(e,t,i){this.func=e,this.mask=t,this.range=i;}}Mx.ReadOnly=!1,Mx.ReadWrite=!0,Mx.disabled=new Mx(519,Mx.ReadOnly,[0,1]);const Ax=7680;class Sx{constructor(e,t,i,r,n,o){this.test=e,this.ref=t,this.mask=i,this.fail=r,this.depthFail=n,this.pass=o;}}Sx.disabled=new Sx({func:519,mask:0},0,0,Ax,Ax,Ax);const Ix=771;class Cx{constructor(e,t,i,r){this.blendFunction=e,this.blendColor=t,this.mask=i,this.blendEquation=r;}}Cx.Replace=[1,0,1,0],Cx.disabled=new Cx(Cx.Replace,hi.transparent,[!1,!1,!1,!1]),Cx.unblended=new Cx(Cx.Replace,hi.transparent,[!0,!0,!0,!0]),Cx.alphaBlended=new Cx([1,Ix,1,Ix],hi.transparent,[!0,!0,!0,!0]),Cx.multiply=new Cx([774,0,774,0],hi.transparent,[!0,!0,!0,!0]);const zx=1029,Px=2305;class Dx{constructor(e,t,i){this.enable=e,this.mode=t,this.frontFace=i;}}Dx.disabled=new Dx(!1,zx,Px),Dx.backCCW=new Dx(!0,zx,Px),Dx.backCW=new Dx(!0,zx,2304),Dx.frontCW=new Dx(!0,1028,2304),Dx.frontCCW=new Dx(!0,1028,Px);class Rx{constructor(e,t){this.gl=e,this.clearColor=new jy(this),this.clearDepth=new Gy(this),this.clearStencil=new qy(this),this.colorMask=new Zy(this),this.depthMask=new $y(this),this.stencilMask=new Wy(this),this.stencilFunc=new Hy(this),this.stencilOp=new Xy(this),this.stencilTest=new Yy(this),this.depthRange=new Ky(this),this.depthTest=new Jy(this),this.depthFunc=new Qy(this),this.blend=new ex(this),this.blendFunc=new tx(this),this.blendColor=new ix(this),this.blendEquation=new rx(this),this.cullFace=new nx(this),this.cullFaceSide=new ox(this),this.frontFace=new sx(this),this.program=new ax(this),this.activeTexture=new lx(this),this.viewport=new cx(this),this.bindFramebuffer=new hx(this),this.bindRenderbuffer=new ux(this),this.bindTexture=new dx(this),this.bindVertexBuffer=new px(this),this.bindElementBuffer=new fx(this),this.bindVertexArrayOES=new mx(this),this.pixelStoreUnpack=new _x(this),this.pixelStoreUnpackPremultiplyAlpha=new gx(this),this.pixelStoreUnpackFlipY=new yx(this),this.options=t?{...t}:{},this.options.extTextureFilterAnisotropicForceOff||(this.extTextureFilterAnisotropic=e.getExtension(\"EXT_texture_filter_anisotropic\")||e.getExtension(\"MOZ_EXT_texture_filter_anisotropic\")||e.getExtension(\"WEBKIT_EXT_texture_filter_anisotropic\"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT))),this.extDebugRendererInfo=e.getExtension(\"WEBGL_debug_renderer_info\"),this.extDebugRendererInfo&&(this.renderer=e.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=e.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.options.extTextureFloatLinearForceOff||(this.extTextureFloatLinear=e.getExtension(\"OES_texture_float_linear\")),this.extRenderToTextureHalfFloat=e.getExtension(\"EXT_color_buffer_half_float\"),this.extTimerQuery=e.getExtension(\"EXT_disjoint_timer_query_webgl2\"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE);}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault();}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArrayOES.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0;}createIndexBuffer(e,t,i){return new Fy(this,e,t,i)}createVertexBuffer(e,t,i,r,n){return new Uy(this,e,t,i,r,n)}createRenderbuffer(e,t,i){const r=this.gl,n=r.createRenderbuffer();return this.bindRenderbuffer.set(n),r.renderbufferStorage(r.RENDERBUFFER,e,t,i),this.bindRenderbuffer.set(null),n}createFramebuffer(e,t,i,r){return new Ex(this,e,t,i,r)}clear({color:e,depth:t,stencil:i,colorMask:r}){const n=this.gl;let o=0;e&&(o|=n.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set(r||[!0,!0,!0,!0])),void 0!==t&&(o|=n.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(t),this.depthMask.set(!0)),void 0!==i&&(o|=n.STENCIL_BUFFER_BIT,this.clearStencil.set(i),this.stencilMask.set(255)),n.clear(o);}setCullFace(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace));}setDepthMode(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1);}setStencilMode(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1);}setColorMode(e){x(e.blendFunction,Cx.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor),e.blendEquation?this.blendEquation.set(e.blendEquation):this.blendEquation.setDefault()),this.colorMask.set(e.mask);}unbindVAO(){this.bindVertexArrayOES.set(null);}}class Lx extends zt{constructor(e,t,i){super(),this.id=e,this._onlySymbols=i,t.on(\"data\",(e=>{\"source\"===e.dataType&&\"metadata\"===e.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&\"source\"===e.dataType&&\"content\"===e.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform));})),t.on(\"error\",(()=>{this._sourceErrored=!0;})),this._source=t,this._tiles={},this._cache=new By(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=t.minTileCacheSize,this._maxTileCacheSize=t.maxTileCacheSize,this._loadedParentTiles={},this.castsShadows=!1,this._coveredTiles={},this._shadowCasterTiles={},this._state=new Fm,this._isRaster=\"raster\"===this._source.type||\"raster-dem\"===this._source.type||\"custom\"===this._source.type&&\"raster\"===this._source._dataType;}onAdd(e){this.map=e,this._minTileCacheSize=void 0===this._minTileCacheSize&&e?e._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=void 0===this._maxTileCacheSize&&e?e._maxTileCacheSize:this._maxTileCacheSize;}loaded(){if(this._sourceErrored)return !0;if(!this._sourceLoaded)return !1;if(!this._source.loaded())return !1;for(const e in this._tiles){const t=this._tiles[e];if(\"errored\"!==t.state&&(\"loaded\"!==t.state||!t.bucketsLoaded()))return !1}return !0}getSource(){return this._source}pause(){this._paused=!0;}resume(){if(!this._paused)return;const e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform);}_loadTile(e,t){return e.isSymbolTile=this._onlySymbols,e.isExtraShadowCaster=this._shadowCasterTiles[e.tileID.key],this._source.loadTile(e,t)}_unloadTile(e){if(this._source.unloadTile)return this._source.unloadTile(e,(()=>{}))}_abortTile(e){if(this._source.abortTile)return this._source.abortTile(e,(()=>{}))}serialize(){return this._source.serialize()}prepare(e){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const t in this._tiles){const i=this._tiles[t];i.upload(e),i.prepare(this.map.style.imageManager,this.map?this.map.painter:null,this._source.scope);}}getIds(){return L(this._tiles).map((e=>e.tileID)).sort(kx).map((e=>e.key))}getRenderableIds(e,t){const i=[];for(const r in this._tiles)this._isIdRenderable(+r,e,t)&&i.push(this._tiles[r]);return e?i.sort(((e,t)=>{const i=e.tileID,r=t.tileID,n=new y(i.canonical.x,i.canonical.y)._rotate(this.transform.angle),o=new y(r.canonical.x,r.canonical.y)._rotate(this.transform.angle);return i.overscaledZ-r.overscaledZ||o.y-n.y||o.x-n.x})).map((e=>e.tileID.key)):i.map((e=>e.tileID)).sort(kx).map((e=>e.key))}hasRenderableParent(e){const t=this.findLoadedParent(e,0);return !!t&&this._isIdRenderable(t.tileID.key)}_isIdRenderable(e,t,i){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())&&(i||!this._shadowCasterTiles[e])}reload(){if(this._paused)this._shouldReloadOnResume=!0;else {this._cache.reset();for(const e in this._tiles)\"errored\"!==this._tiles[e].state&&this._reloadTile(+e,\"reloading\");}}_reloadTile(e,t){const i=this._tiles[e];i&&(\"loading\"!==i.state&&(i.state=t),this._loadTile(i,this._tileLoaded.bind(this,i,e,t)));}_tileLoaded(e,t,i,r){if(r)if(e.state=\"errored\",404!==r.status)this._source.fire(new Ct(r,{tile:e}));else {if(!(e.tileID.key in this._loadedParentTiles))return void this._source.fire(new It(\"data\",{dataType:\"source\",sourceDataType:\"error\",sourceId:this._source.id}));if(\"raster-dem\"===this._source.type&&this.usedForTerrain&&this.map.painter.terrain){const e=this.map.painter.terrain;this.update(this.transform,e.getScaledDemTileSize(),!0),e.resetTileLookupCache(this.id);}else this.update(this.transform);}else e.timeAdded=dt.now(),\"expired\"===i&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(t,e),\"raster-dem\"===this._source.type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new It(\"data\",{dataType:\"source\",tile:e,coord:e.tileID,sourceCacheId:this.id}));}_backfillDEM(e){const t=this.getRenderableIds();for(let r=0;r<t.length;r++){const n=t[r];if(e.neighboringTiles&&e.neighboringTiles[n]){const t=this.getTileByID(n);i(e,t),i(t,e);}}function i(e,t){if(!e.dem||e.dem.borderReady)return;e.needsHillshadePrepare=!0,e.needsDEMTextureUpload=!0;let i=t.tileID.canonical.x-e.tileID.canonical.x;const r=t.tileID.canonical.y-e.tileID.canonical.y,n=Math.pow(2,e.tileID.canonical.z),o=t.tileID.key;0===i&&0===r||Math.abs(r)>1||(Math.abs(i)>1&&(1===Math.abs(i+n)?i+=n:1===Math.abs(i-n)&&(i-=n)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,i,r),e.neighboringTiles&&e.neighboringTiles[o]&&(e.neighboringTiles[o].backfilled=!0)));}}getTile(e){return this.getTileByID(e.key)}getTileByID(e){return this._tiles[e]}_retainLoadedChildren(e,t,i,r){for(const n in this._tiles){let o=this._tiles[n];if(r[n]||!o.hasData()||o.tileID.overscaledZ<=t||o.tileID.overscaledZ>i)continue;let s=o.tileID;for(;o&&o.tileID.overscaledZ>t+1;){const e=o.tileID.scaledTo(o.tileID.overscaledZ-1);o=this._tiles[e.key],o&&o.hasData()&&(s=e);}let a=s;for(;a.overscaledZ>t;)if(a=a.scaledTo(a.overscaledZ-1),e[a.key]){r[s.key]=s;break}}}findLoadedParent(e,t){if(e.key in this._loadedParentTiles){const i=this._loadedParentTiles[e.key];return i&&i.tileID.overscaledZ>=t?i:null}for(let i=e.overscaledZ-1;i>=t;i--){const t=e.scaledTo(i),r=this._getLoadedTile(t);if(r)return r}}_getLoadedTile(e){const t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(this._source.reparseOverscaled?e.wrapped().key:e.canonical.key)}updateCacheSize(e,t){t=t||this._source.tileSize;const i=Math.ceil(e.width/t)+1,r=Math.ceil(e.height/t)+1,n=Math.floor(i*r*5),o=\"number\"==typeof this._minTileCacheSize?Math.max(this._minTileCacheSize,n):n,s=\"number\"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,o):o;this._cache.setMaxSize(s);}handleWrapJump(e){const t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){const e={};for(const i in this._tiles){const r=this._tiles[i];r.tileID=r.tileID.unwrapTo(r.tileID.wrap+t),e[r.tileID.key]=r;}this._tiles=e;for(const e in this._timers)clearTimeout(this._timers[e]),delete this._timers[e];for(const e in this._tiles)this._setTileReloadTimer(+e,this._tiles[e]);}}update(e,t,i,r){if(this.transform=e,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage)return;if(this.usedForTerrain&&!i)return;let n;if(this.updateCacheSize(e,t),\"globe\"!==this.transform.projection.name&&this.handleWrapJump(this.transform.center.lng),this._shadowCasterTiles={},this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?n=e.getVisibleUnwrappedCoordinates(this._source.tileID).map((e=>new qu(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y))):(n=e.coveringTiles({tileSize:t||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!i,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(n=n.filter((e=>this._source.hasTile(e))))):n=[],n.length>0&&this.castsShadows&&r&&\"globe\"!==this.transform.projection.name&&!this.usedForTerrain&&!Ox(this._source.type)){const o=e.coveringZoomLevel({tileSize:t||this._source.tileSize,roundZoom:this._source.roundZoom&&!i}),s=Math.min(o,this._source.maxzoom),a=e.extendTileCoverForShadows(n,r,s);for(const e of a)this._shadowCasterTiles[e.key]=!0,n.push(e);}const o=this._updateRetainedTiles(n);if(Ox(this._source.type)&&0!==n.length){const e={},t={},i=Object.keys(o);for(const r of i){const i=o[r],n=this._tiles[r];if(!n||n.fadeEndTime&&n.fadeEndTime<=dt.now())continue;const s=this.findLoadedParent(i,Math.max(i.overscaledZ-Lx.maxOverzooming,this._source.minzoom));s&&(this._addTile(s.tileID),e[s.tileID.key]=s.tileID),t[r]=i;}const r=n[n.length-1].overscaledZ;for(const e in this._tiles){const i=this._tiles[e];if(o[e]||!i.hasData())continue;let n=i.tileID;for(;n.overscaledZ>r;){n=n.scaledTo(n.overscaledZ-1);const r=this._tiles[n.key];if(r&&r.hasData()&&t[n.key]){o[e]=i.tileID;break}}}for(const t in e)o[t]||(this._coveredTiles[t]=!0,o[t]=e[t]);}for(const e in o)this._tiles[e].clearFadeHold();const s=function(e,t){const i=[];for(const r in e)r in t||i.push(r);return i}(this._tiles,o);for(const e of s){const t=this._tiles[e];t.hasSymbolBuckets&&!t.holdingForFade()?t.setHoldDuration(this.map._fadeDuration):t.hasSymbolBuckets&&!t.symbolFadeFinished()||this._removeTile(+e);}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate();}releaseSymbolFadeTiles(){for(const e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(+e);}_updateRetainedTiles(e){const t={};if(0===e.length)return t;const i={},r=e.reduce(((e,t)=>Math.min(e,t.overscaledZ)),1/0),n=e[0].overscaledZ,o=Math.max(n-Lx.maxOverzooming,this._source.minzoom),s=Math.max(n+Lx.maxUnderzooming,this._source.minzoom),a={};for(const i of e){const e=this._addTile(i);t[i.key]=i,e.hasData()||r<this._source.maxzoom&&(a[i.key]=i);}this._retainLoadedChildren(a,r,s,t);for(const r of e){let e=this._tiles[r.key];if(e.hasData())continue;if(r.canonical.z>=this._source.maxzoom){const e=r.children(this._source.maxzoom)[0],i=this.getTile(e);if(i&&i.hasData()){t[e.key]=e;continue}}else {const e=r.children(this._source.maxzoom);if(t[e[0].key]&&t[e[1].key]&&t[e[2].key]&&t[e[3].key])continue}let n=e.wasRequested();for(let s=r.overscaledZ-1;s>=o;--s){const o=r.scaledTo(s);if(i[o.key])break;if(i[o.key]=!0,e=this.getTile(o),!e&&n&&(e=this._addTile(o)),e&&(t[o.key]=o,n=e.wasRequested(),e.hasData()))break}}return t}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const e in this._tiles){const t=[];let i,r=this._tiles[e].tileID;for(;r.overscaledZ>0;){if(r.key in this._loadedParentTiles){i=this._loadedParentTiles[r.key];break}t.push(r.key);const e=r.scaledTo(r.overscaledZ-1);if(i=this._getLoadedTile(e),i)break;r=e;}for(const e of t)this._loadedParentTiles[e]=i;}}_addTile(e){let t=this._tiles[e.key];if(t)return !0!==t.isExtraShadowCaster||!!this._shadowCasterTiles[e.key]||this._reloadTile(e.key,\"reloading\"),t;t=this._cache.getAndRemove(e),t&&(this._setTileReloadTimer(e.key,t),t.tileID=e,this._state.initializeTileState(t,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,t)));const i=Boolean(t);if(!i){const i=this.map?this.map.painter:null;t=new Oy(e,this._source.tileSize*e.overscaleFactor(),this.transform.tileZoom,i,this._isRaster),this._loadTile(t,this._tileLoaded.bind(this,t,e.key,t.state));}return t?(t.uses++,this._tiles[e.key]=t,i||this._source.fire(new It(\"dataloading\",{tile:t,coord:t.tileID,dataType:\"source\"})),t):null}_setTileReloadTimer(e,t){e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);const i=t.getExpiryTimeout();i&&(this._timers[e]=setTimeout((()=>{this._reloadTile(e,\"expired\"),delete this._timers[e];}),i));}_removeTile(e){const t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&\"reloading\"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))));}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const e in this._tiles)this._removeTile(+e);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id);}tilesIn(e,t,i){const r=[],n=this.transform;if(!n)return r;const o=\"globe\"===n.projection.name,s=Kd(n.center.lng);for(const a in this._tiles){const l=this._tiles[a];if(i&&l.clearQueryDebugViz(),l.holdingForFade())continue;let c;if(o){const e=l.tileID.canonical;if(0===e.z){const t=[Math.abs(z(s,...Bx(e,-1))-s),Math.abs(z(s,...Bx(e,1))-s)];c=[0,2*t.indexOf(Math.min(...t))-1];}else {const t=[Math.abs(z(s,...Bx(e,-1))-s),Math.abs(z(s,...Bx(e,0))-s),Math.abs(z(s,...Bx(e,1))-s)];c=[t.indexOf(Math.min(...t))-1];}}else c=[0];for(const i of c){const o=e.containsTile(l,n,t,i);o&&r.push(o);}}return r}getShadowCasterCoordinates(){return this._getRenderableCoordinates(!1,!0)}getVisibleCoordinates(e){return this._getRenderableCoordinates(e)}_getRenderableCoordinates(e,t){const i=this.getRenderableIds(e,t).map((e=>this._tiles[e].tileID)),r=\"globe\"===this.transform.projection.name;for(const e of i)e.projMatrix=this.transform.calculateProjMatrix(e.toUnwrapped()),e.expandedProjMatrix=r?this.transform.calculateProjMatrix(e.toUnwrapped(),!1,!0):e.projMatrix;return i}sortCoordinatesByDistance(e){const t=e.slice(),i=this.transform._camera.position,r=this.transform._camera.forward(),n={};for(const e of t){const t=1/(1<<e.canonical.z);n[e.key]=((e.canonical.x+.5)*t+e.wrap-i[0])*r[0]+((e.canonical.y+.5)*t-i[1])*r[1]-i[2]*r[2];}return t.sort(((e,t)=>n[e.key]-n[t.key])),t}hasTransition(){if(this._source.hasTransition())return !0;if(Ox(this._source.type))for(const e in this._tiles){const t=this._tiles[e];if(void 0!==t.fadeEndTime&&t.fadeEndTime>=dt.now())return !0}return !1}setFeatureState(e,t,i){this._state.updateState(e=e||\"_geojsonTileLayer\",t,i);}removeFeatureState(e,t,i){this._state.removeFeatureState(e=e||\"_geojsonTileLayer\",t,i);}getFeatureState(e,t){return this._state.getState(e=e||\"_geojsonTileLayer\",t)}setDependencies(e,t,i){const r=this._tiles[e];r&&r.setDependencies(t,i);}reloadTilesForDependencies(e,t){for(const i in this._tiles)this._tiles[i].hasDependency(e,t)&&this._reloadTile(+i,\"reloading\");this._cache.filter((i=>!i.hasDependency(e,t)));}_preloadTiles(e,t){if(!this._sourceLoaded){const i=()=>{this._sourceLoaded&&(this._source.off(\"data\",i),this._preloadTiles(e,t));};return void this._source.on(\"data\",i)}const i=new Map,r=Array.isArray(e)?e:[e],n=this.map.painter.terrain,o=this.usedForTerrain&&n?n.getScaledDemTileSize():this._source.tileSize;for(const e of r){const t=e.coveringTiles({tileSize:o,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const e of t)i.set(e.key,e);this.usedForTerrain&&e.updateElevation(!1);}R(Array.from(i.values()),((e,t)=>{const i=new Oy(e,this._source.tileSize*e.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(i,(e=>{\"raster-dem\"===this._source.type&&i.dem&&this._backfillDEM(i),t(e,i);}));}),t);}}function kx(e,t){const i=Math.abs(2*e.wrap)-+(e.wrap<0),r=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||r-i||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function Ox(e){return \"raster\"===e||\"image\"===e||\"video\"===e||\"custom\"===e}function Bx(e,t){const i=1<<e.z;return [e.x/i+t,(e.x+1)/i+t]}Lx.maxOverzooming=10,Lx.maxUnderzooming=3;const Fx=Ia([{name:\"a_pos_3f\",components:3,type:\"Float32\"}]),Nx=Ia([{name:\"a_color_3f\",components:3,type:\"Float32\"}]),Ux=Ia([{name:\"a_color_4f\",components:4,type:\"Float32\"}]),Vx=Ia([{name:\"a_uv_2f\",components:2,type:\"Float32\"}]),jx=Ia([{name:\"a_normal_3f\",components:3,type:\"Float32\"}]),Gx=Ia([{name:\"a_normal_matrix0\",components:4,type:\"Float32\"},{name:\"a_normal_matrix1\",components:4,type:\"Float32\"},{name:\"a_normal_matrix2\",components:4,type:\"Float32\"},{name:\"a_normal_matrix3\",components:4,type:\"Float32\"}]),qx=Ia([{name:\"a_pbr\",components:4,type:\"Uint16\"},{name:\"a_heightBasedEmissiveStrength\",components:3,type:\"Float32\"}]);class Zx{constructor(e=0,t=0,i=0,r=0){if(isNaN(e)||e<0||isNaN(t)||t<0||isNaN(i)||i<0||isNaN(r)||r<0)throw new Error(\"Invalid value for edge-insets, top, bottom, left and right must all be numbers\");this.top=e,this.bottom=t,this.left=i,this.right=r;}interpolate(e,t,i){return null!=t.top&&null!=e.top&&(this.top=Kr(e.top,t.top,i)),null!=t.bottom&&null!=e.bottom&&(this.bottom=Kr(e.bottom,t.bottom,i)),null!=t.left&&null!=e.left&&(this.left=Kr(e.left,t.left,i)),null!=t.right&&null!=e.right&&(this.right=Kr(e.right,t.right,i)),this}getCenter(e,t){const i=z((this.left+e-this.right)/2,0,e),r=z((this.top+t-this.bottom)/2,0,t);return new y(i,r)}equals(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}clone(){return new Zx(this.top,this.bottom,this.left,this.right)}toJSON(){return {top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function $x(e,t){const i=ne(e,3);Au.fromQuat(e,t),oe(e,3,i);}function Wx(e,t){const i=Iu.identity([]);return Iu.rotateZ(i,i,-t),Iu.rotateX(i,i,-e),i}function Hx(e,t){const i=[e[0],e[1],0],r=[t[0],t[1],0];if(Du.length(i)>=1e-15){const e=Du.normalize([],i);Du.scale(r,e,Du.dot(r,e)),t[0]=r[0],t[1]=r[1];}const n=Du.cross([],t,e);if(Du.len(n)<1e-15)return null;const o=Math.atan2(-n[1],n[0]);return Wx(Math.atan2(Math.sqrt(e[0]*e[0]+e[1]*e[1]),-e[2]),o)}class Xx{constructor(e,t){this.position=e,this.orientation=t;}get position(){return this._position}set position(e){if(e){const t=e instanceof lp?e:new lp(e[0],e[1],e[2]);this._renderWorldCopies&&(t.x=D(t.x,0,1)),this._position=t;}else this._position=null;}lookAtPoint(e,t){if(this.orientation=null,!this.position)return;const i=this.position,r=this._elevation?this._elevation.getAtPointOrZero(lp.fromLngLat(e)):0,n=lp.fromLngLat(e,r),o=[n.x-i.x,n.y-i.y,n.z-i.z];t||(t=[0,0,1]),t[2]=Math.abs(t[2]),this.orientation=Hx(o,t);}setPitchBearing(e,t){this.orientation=Wx(w(e),w(-t));}}class Yx{constructor(e,t){this._transform=Au.identity([]),this.orientation=t,this.position=e;}get mercatorPosition(){const e=this.position;return new lp(e[0],e[1],e[2])}get position(){const e=ne(this._transform,3);return [e[0],e[1],e[2]]}set position(e){var t;e&&oe(this._transform,3,[(t=e)[0],t[1],t[2],1]);}get orientation(){return this._orientation}set orientation(e){this._orientation=e||Iu.identity([]),e&&$x(this._transform,this._orientation);}getPitchBearing(){const e=this.forward(),t=this.right();return {bearing:Math.atan2(-t[1],t[0]),pitch:Math.atan2(Math.sqrt(e[0]*e[0]+e[1]*e[1]),-e[2])}}setPitchBearing(e,t){this._orientation=Wx(e,t),$x(this._transform,this._orientation);}forward(){const e=ne(this._transform,2);return [-e[0],-e[1],-e[2]]}up(){const e=ne(this._transform,1);return [-e[0],-e[1],-e[2]]}right(){const e=ne(this._transform,0);return [e[0],e[1],e[2]]}getCameraToWorld(e,t){const i=new Float64Array(16);return Au.invert(i,this.getWorldToCamera(e,t)),i}getCameraToWorldMercator(){return this._transform}getWorldToCameraPosition(e,t,i){const r=this.position;Du.scale(r,r,-e);const n=new Float64Array(16);return Au.fromScaling(n,[i,i,i]),Au.translate(n,n,r),n[10]*=t,n}getWorldToCamera(e,t){const i=new Float64Array(16),r=new Float64Array(4),n=this.position;return Iu.conjugate(r,this._orientation),Du.scale(n,n,-e),Au.fromQuat(i,r),Au.translate(i,i,n),i[1]*=-1,i[5]*=-1,i[9]*=-1,i[13]*=-1,i[8]*=t,i[9]*=t,i[10]*=t,i[11]*=t,i}getCameraToClipPerspective(e,t,i,r){const n=new Float64Array(16);return Au.perspective(n,e,t,i,r),n}getCameraToClipOrthographic(e,t,i,r,n,o){const s=new Float64Array(16);return Au.ortho(s,e,t,i,r,n,o),s}getDistanceToElevation(e,t=!1){const i=0===e?0:Qd(e,t?tp(this.position[1]):this.position[1]),r=this.forward();return (i-this.position[2])/r[2]}clone(){return new Yx([...this.position],[...this.orientation])}}function Kx(e,t){const i=Qx(e.projection,e.zoom,e.width,e.height),r=function(e,t,i,r,n){const o=new Wd(i.lng-180*ev,i.lat),s=new Wd(i.lng+180*ev,i.lat),a=e.project(o.lng,o.lat),l=e.project(s.lng,s.lat),c=-Math.atan2(l.y-a.y,l.x-a.x),h=lp.fromLngLat(i);h.y=z(h.y,-1+ev,1-ev);const u=h.toLngLat(),d=e.project(u.lng,u.lat),p=lp.fromLngLat(u);p.x+=ev;const f=p.toLngLat(),m=e.project(f.lng,f.lat),_=iv(m.x-d.x,m.y-d.y,c),g=lp.fromLngLat(u);g.y+=ev;const y=g.toLngLat(),x=e.project(y.lng,y.lat),v=iv(x.x-d.x,x.y-d.y,c),b=Math.abs(_.x)/Math.abs(v.y),w=Au.identity([]);Au.rotateZ(w,w,-c*(1-(n?0:r)));const T=Au.identity([]);return Au.scale(T,T,[1,1-(1-b)*r,1]),T[4]=-v.x/v.y*r,Au.rotateZ(T,T,c),Au.multiply(T,w,T),T}(e.projection,0,e.center,i,t),n=Jx(e);return Au.scale(r,r,[n,n,1]),r}function Jx(e){const t=e.projection,i=Qx(e.projection,e.zoom,e.width,e.height),r=tv(t,e.center),n=tv(t,Wd.convert(t.center));return Math.pow(2,r*i+(1-i)*n)}function Qx(e,t,i,r,n=1/0){const o=e.range;if(!o)return 0;const s=Math.min(n,Math.max(i,r)),a=Math.log(s/1024)/Math.LN2;return P(o[0]+a,o[1]+a,t)}const ev=1/4e4;function tv(e,t){const i=z(t.lat,-rp,rp),r=new Wd(t.lng-180*ev,i),n=new Wd(t.lng+180*ev,i),o=e.project(r.lng,i),s=e.project(n.lng,i),a=lp.fromLngLat(r),l=lp.fromLngLat(n),c=s.x-o.x,h=s.y-o.y,u=l.x-a.x,d=l.y-a.y,p=Math.sqrt((u*u+d*d)/(c*c+h*h));return Math.log(p)/Math.LN2}function iv(e,t,i){const r=Math.cos(i),n=Math.sin(i);return {x:e*r-t*n,y:e*n+t*r}}function rv(e,t,i){return t*(cr/(e.tileSize*Math.pow(2,i-e.tileID.overscaledZ)))}const nv={unknown:0,flipRequired:1,flipNotRequired:2},ov=Math.tan(85*Math.PI/180);function sv(e,t,i,r,n,o,s){const a=Au.create();if(i)if(\"globe\"===o.name){const e=function(e,t){const{x:i,y:r}=e.point,n=zd(i,r,e.worldSize/e._pixelsPerMercatorPixel,0,0);return Au.multiply(n,n,Sd(fd(t)))}(n,t);Au.multiply(a,a,e);}else {const e=bu.invert([],s);a[0]=e[0],a[1]=e[1],a[4]=e[2],a[5]=e[3],r||Au.rotateZ(a,a,n.angle);}else Au.multiply(a,n.labelPlaneMatrix,e);return a}function av(e,t,i,r,n,o,s){const a=sv(e,t,i,r,n,o,s);return \"globe\"===o.name&&i||(a[2]=a[6]=a[10]=a[14]=0),a}function lv(e,t,i,r,n,o,s){if(i){if(\"globe\"===o.name){const a=sv(e,t,i,r,n,o,s);return Au.invert(a,a),Au.multiply(a,e,a),a}{const t=Au.clone(e),i=Au.identity([]);return i[0]=s[0],i[1]=s[1],i[4]=s[2],i[5]=s[3],Au.multiply(t,t,i),r||Au.rotateZ(t,t,-n.angle),t}}return n.glCoordMatrix}function cv(e,t,i,r){const n=[e,t,i,1];i?yu.transformMat4(n,n,r):vv(n,n,r);const o=n[3];return n[0]/=o,n[1]/=o,n[2]/=o,n}function hv(e,t){return Math.min(.5+e/t*.5,1.5)}function uv(e,t){const i=e[0]/e[3],r=e[1]/e[3];return i>=-t[0]&&i<=t[0]&&r>=-t[1]&&r<=t[1]}function dv(e,t,i,r,n,o,s,a,l,c){const h=i.transform,u=r?e.textSizeData:e.iconSizeData,d=m_(u,i.transform.zoom),p=\"globe\"===h.projection.name,f=[256/i.width*2+1,256/i.height*2+1],m=r?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;m.clear();let _=null;p&&(_=r?e.text.globeExtVertexArray:e.icon.globeExtVertexArray);const g=e.lineVertexArray,x=r?e.text.placedSymbolArray:e.icon.placedSymbolArray,v=i.transform.width/i.transform.height;let b,w=!1;for(let r=0;r<x.length;r++){const p=x.get(r),{numGlyphs:T,writingMode:E}=p;if(E!==A_.vertical||w||b===A_.horizontal||(w=!0),b=E,(p.hidden||E===A_.vertical)&&!w){xv(T,m);continue}w=!1;const M=new y(p.tileAnchorX,p.tileAnchorY);let{x:A,y:S,z:I}=h.projection.projectTilePoint(M.x,M.y,c.canonical);if(l){const[e,t,i]=l(M);A+=e,S+=t,I+=i;}const C=[A,S,I,1];if(yu.transformMat4(C,C,t),!uv(C,f)){xv(T,m);continue}const z=C[3],P=hv(i.transform.getCameraToCenterDistance(h.projection),z),D=f_(u,d,p),R=s?D/P:D*P,L=cv(A,S,I,n);if(L[3]<=0){xv(T,m);continue}let k={};const O=s?null:l,B=mv(p,R,!1,a,t,n,o,e.glyphOffsetArray,g,m,_,L,M,k,v,O,h.projection,c,s);w=B.useVertical,O&&B.needsFlipping&&(k={}),(B.notEnoughRoom||w||B.needsFlipping&&mv(p,R,!0,a,t,n,o,e.glyphOffsetArray,g,m,_,L,M,k,v,O,h.projection,c,s).notEnoughRoom)&&xv(T,m);}r?(e.text.dynamicLayoutVertexBuffer.updateData(m),_&&e.text.globeExtVertexBuffer&&e.text.globeExtVertexBuffer.updateData(_)):(e.icon.dynamicLayoutVertexBuffer.updateData(m),_&&e.icon.globeExtVertexBuffer&&e.icon.globeExtVertexBuffer.updateData(_));}function pv(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m){const{lineStartIndex:_,glyphStartIndex:g,segment:y}=a,x=g+a.numGlyphs,v=_+a.lineLength,b=t.getoffsetX(g),w=t.getoffsetX(x-1),T=yv(e*b,i,r,n,o,s,y,_,v,l,c,h,u,d,!0,p,f,m);if(!T)return null;const E=yv(e*w,i,r,n,o,s,y,_,v,l,c,h,u,d,!0,p,f,m);return E?{first:T,last:E}:null}function fv(e,t,i,r){return e===A_.horizontal&&Math.abs(r)>Math.abs(i)?{useVertical:!0}:e===A_.vertical?r>0?{needsFlipping:!0}:null:t!==nv.unknown&&function(e,t){return 0===e||Math.abs(t/e)>ov}(i,r)?t===nv.flipRequired?{needsFlipping:!0}:null:i<0?{needsFlipping:!0}:null}function mv(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m,_,g,x){const v=t/24,b=e.lineOffsetX*v,w=e.lineOffsetY*v,{lineStartIndex:T,glyphStartIndex:E,numGlyphs:M,segment:A,writingMode:S,flipState:I}=e,C=T+e.lineLength,z=e=>{if(h){const[t,i,r]=e.up,n=c.length;uy(h,n+0,t,i,r),uy(h,n+1,t,i,r),uy(h,n+2,t,i,r),uy(h,n+3,t,i,r);}const[t,i,r]=e.point;dy(c,t,i,r,e.angle);};if(M>1){const t=pv(v,a,b,w,i,u,d,e,l,o,p,m,!1,_,g,x);if(!t)return {notEnoughRoom:!0};if(r&&!i){let[i,r,n]=t.first.point,[o,a,l]=t.last.point;[i,r]=cv(i,r,n,s),[o,a]=cv(o,a,l,s);const c=fv(S,I,(o-i)*f,a-r);if(e.flipState=c&&c.needsFlipping?nv.flipRequired:nv.flipNotRequired,c)return c}z(t.first);for(let e=E+1;e<E+M-1;e++){const t=yv(v*a.getoffsetX(e),b,w,i,u,d,A,T,C,l,o,p,m,!1,!1,_,g,x);if(!t)return c.length-=4*(e-E),{notEnoughRoom:!0};z(t);}z(t.last);}else {if(r&&!i){const t=cv(d.x,d.y,0,n),i=T+A+1,r=new y(l.getx(i),l.gety(i)),o=cv(r.x,r.y,0,n),s=o[3]>0?o:gv(d,r,t,1,n,void 0,_,g.canonical),a=fv(S,I,(s[0]-t[0])*f,s[1]-t[1]);if(e.flipState=a&&a.needsFlipping?nv.flipRequired:nv.flipNotRequired,a)return a}const t=yv(v*a.getoffsetX(E),b,w,i,u,d,A,T,C,l,o,p,m,!1,!1,_,g,x);if(!t)return {notEnoughRoom:!0};z(t);}return {}}function _v(e,t,i,r,n){const{x:o,y:s,z:a}=r.projectTilePoint(e.x,e.y,t);if(!n)return cv(o,s,a,i);const[l,c,h]=n(e);return cv(o+l,s+c,a+h,i)}function gv(e,t,i,r,n,o,s,a){const l=_v(e.sub(t)._unit()._add(e),a,n,s,o);return Du.sub(l,i,l),Du.normalize(l,l),Du.scaleAndAdd(l,i,l,r)}function yv(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m,_,g){const x=r?e-t:e+t;let v=x>0?1:-1,b=0;r&&(v*=-1,b=Math.PI),v<0&&(b+=Math.PI);let w=a+s+(v>0?0:1)|0,T=n,E=n,M=0,A=0;const S=Math.abs(x),I=[],C=[];let z=o,P=z;const D=()=>gv(P,z,E,S-M+1,h,d,m,_.canonical);for(;M+A<=S;){if(w+=v,w<a||w>=l)return null;if(E=T,P=z,I.push(E),p&&C.push(P),z=new y(c.getx(w),c.gety(w)),T=u[w],!T){const e=_v(z,_.canonical,h,m,d);T=e[3]>0?u[w]=e:D();}M+=A,A=Du.distance(E,T);}f&&d&&(u[w]&&(T=D(),A=Du.distance(E,T)),u[w]=T);const R=(S-M)/A,L=z.sub(P)._mult(R)._add(P),k=Du.sub([],T,E),O=Du.scaleAndAdd([],E,k,R);let B=[0,0,1],F=k[0],N=k[1];if(g&&(B=m.upVector(_.canonical,L.x,L.y),0!==B[0]||0!==B[1]||1!==B[2])){const e=[B[2],0,-B[0]],t=Du.cross([],B,e);Du.normalize(e,e),Du.normalize(t,t),F=Du.dot(k,e),N=Du.dot(k,t);}if(i){const e=Du.cross([],B,k);Du.normalize(e,e),Du.scaleAndAdd(O,O,e,i*v);}const U=b+Math.atan2(N,F);return I.push(O),p&&C.push(L),{point:O,angle:U,path:I,tilePath:C,up:B}}function xv(e,t){const i=t.length,r=i+4*e;t.resize(r),t.float32.fill(-1/0,4*i,4*r);}function vv(e,t,i){const r=t[0],n=t[1];return e[0]=i[0]*r+i[4]*n+i[12],e[1]=i[1]*r+i[5]*n+i[13],e[3]=i[3]*r+i[7]*n+i[15],e}const bv=(e,t,i)=>(1-i)*e+i*t,wv=e=>e*e*e*e*e;class Tv{constructor(e,t,i,r,n,o,s){this.tileSize=512,this._renderWorldCopies=void 0===n||n,this._minZoom=e||0,this._maxZoom=t||22,this._minPitch=null==i?0:i,this._maxPitch=null==r?60:r,this.setProjection(o),this.setMaxBounds(s),this.width=0,this.height=0,this._center=new Wd(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Zx,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._expandedProjMatrixCache={},this._distanceTileDataCache={},this._camera=new Yx,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference=\"ground\",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1,this._orthographicProjectionAtLowPitch=!1;}clone(){const e=new Tv(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return e._elevation=this._elevation,e._centerAltitude=this._centerAltitude,e._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,e.tileSize=this.tileSize,e.mercatorFromTransition=this.mercatorFromTransition,e.width=this.width,e.height=this.height,e.cameraElevationReference=this.cameraElevationReference,e._center=this._center,e._setZoom(this.zoom),e._seaLevelZoom=this._seaLevelZoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._nearZ=this._nearZ,e._farZ=this._farZ,e._averageElevation=this._averageElevation,e._orthographicProjectionAtLowPitch=this._orthographicProjectionAtLowPitch,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._camera=this._camera.clone(),e._calcMatrices(),e.freezeTileCoverage=this.freezeTileCoverage,e.frustumCorners=this.frustumCorners,e}get isOrthographic(){return \"globe\"!==this.projection.name&&this._orthographicProjectionAtLowPitch&&this.pitch<15}get elevation(){return this._elevation}set elevation(e){this._elevation!==e&&(this._elevation=e,this._updateCameraOnTerrain(),this._calcMatrices());}get depthOcclusionForSymbolsAndCircles(){return \"globe\"!==this.projection.name&&!this.isOrthographic}updateElevation(e,t=!1){const i=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(null==this._seaLevelZoom||i)&&this._updateCameraOnTerrain(),(e||i)&&this._constrainCamera(t),this._calcMatrices();}getProjection(){return O(this.projection,[\"name\",\"center\",\"parallels\"])}setProjection(e){this.projectionOptions=e||{name:\"mercator\"};const t=this.projection?this.getProjection():void 0;this.projection=ty(this.projectionOptions);const i=!x(t,this.getProjection());return i&&this._calcMatrices(),this.mercatorFromTransition=!1,i}setOrthographicProjectionAtLowPitch(e){return this._orthographicProjectionAtLowPitch!==e&&(this._orthographicProjectionAtLowPitch=e,this._calcMatrices(),!0)}setMercatorFromTransition(){const e=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:\"mercator\"},this.projection=ty({name:\"mercator\"});const t=e!==this.projection.name;return t&&this._calcMatrices(),t}get minZoom(){return this._minZoom}set minZoom(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e));}get maxZoom(){return this._maxZoom}set maxZoom(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e));}get minPitch(){return this._minPitch}set minPitch(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e));}get maxPitch(){return this._maxPitch}set maxPitch(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e));}get renderWorldCopies(){return this._renderWorldCopies&&!0===this.projection.supportsWorldCopies}set renderWorldCopies(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e;}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const e=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(e))}get cameraWorldSize(){const e=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(e))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return Qd(1,this.center.lat)*this.cameraWorldSizeForFog}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new y(this.width,this.height)}get bearing(){return D(this.rotation,-180,180)}set bearing(e){this.rotation=e;}get rotation(){return -this.angle/Math.PI*180}set rotation(e){const t=-e*Math.PI/180;this.angle!==t&&(this._unmodified=!1,this.angle=t,this._calcMatrices(),this.rotationMatrix=bu.create(),bu.rotate(this.rotationMatrix,this.rotationMatrix,this.angle));}get pitch(){return this._pitch/Math.PI*180}set pitch(e){const t=z(e,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==t&&(this._unmodified=!1,this._pitch=t,this._calcMatrices());}get aspect(){return this.width/this.height}get fov(){return this._fov/Math.PI*180}get fovX(){return this._fov}get fovY(){const e=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/e)}set fov(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=w(e),this._calcMatrices());}get averageElevation(){return this._averageElevation}set averageElevation(e){this._averageElevation=e,this._calcFogMatrices(),this._distanceTileDataCache={};}get zoom(){return this._zoom}set zoom(e){const t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._setZoom(t),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices());}_setZoom(e){this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom;}_updateCameraOnTerrain(){const e=this.elevation?this.elevation.getAtPoint(this.locationCoordinate(this.center),Number.NEGATIVE_INFINITY):Number.NEGATIVE_INFINITY,t=this.elevation&&e===Number.NEGATIVE_INFINITY&&this.elevation.visibleDemTiles.length>0&&this.elevation.exaggeration()>0&&this._centerAltitudeValidForExaggeration;if(!this._elevation||e===Number.NEGATIVE_INFINITY&&(!t||!this._centerAltitude))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const i=this._elevation;t||this._centerAltitude&&this._centerAltitudeValidForExaggeration&&i.exaggeration()&&this._centerAltitudeValidForExaggeration!==i.exaggeration()?(this._centerAltitude=this._centerAltitude/this._centerAltitudeValidForExaggeration*i.exaggeration(),this._centerAltitudeValidForExaggeration=i.exaggeration()):(this._centerAltitude=e||0,this._centerAltitudeValidForExaggeration=i.exaggeration()),this._updateSeaLevelZoom();}_updateSeaLevelZoom(){void 0!==this._centerAltitudeValidForExaggeration&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize));}sampleAverageElevation(){if(!this._elevation)return 0;const e=this._elevation,t=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],i=this.horizonLineFromTop();let r=0,n=0;for(let o=0;o<t.length;o++){const s=new y(t[o][0]*this.width,i+t[o][1]*(this.height-i)),a=e.pointCoordinate(s);if(!a)continue;const l=1/Math.hypot(a[0]-this._camera.position[0],a[1]-this._camera.position[1]);r+=a[3]*l,n+=l;}return 0===n?NaN:r/n}get center(){return this._center}set center(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._terrainEnabled()&&(\"ground\"===this.cameraElevationReference?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices());}_updateZoomFromElevation(){if(null==this._seaLevelZoom||!this._elevation)return;const e=this._seaLevelZoom,t=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),i=this.pixelsPerMeter/this.worldSize*t,r=this._mercatorZfromZoom(e),n=this._mercatorZfromZoom(this._maxZoom),o=Math.max(r-i,n);this._setZoom(this._zoomFromMercatorZ(o));}get padding(){return this._edgeInsets.toJSON()}set padding(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices());}computeZoomRelativeTo(e){const t=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,e.toAltitude()));let i;i=e.z<this._camera.position[2]?[t.x,t.y,t.z]:[e.x,e.y,e.z];const r=Du.length(Du.sub([],this._camera.position,i));return z(this._zoomFromMercatorZ(r),this._minZoom,this._maxZoom)}setFreeCameraOptions(e){if(!this.height)return;if(!e.position&&!e.orientation)return;this._updateCameraState();let t=!1;if(e.orientation&&!Iu.exactEquals(e.orientation,this._camera.orientation)&&(t=this._setCameraOrientation(e.orientation)),e.position){const i=[e.position.x,e.position.y,e.position.z];Du.exactEquals(i,this._camera.position)||(this._setCameraPosition(i),t=!0);}t&&(this._updateStateFromCamera(),this.recenterOnTerrain());}getFreeCameraOptions(){this._updateCameraState();const e=this._camera.position,t=new Xx;return t.position=new lp(e[0],e[1],e[2]),t.orientation=this._camera.orientation,t._elevation=this.elevation,t._renderWorldCopies=this.renderWorldCopies,t}_setCameraOrientation(e){if(!Iu.length(e))return !1;Iu.normalize(e,e);const t=Du.transformQuat([],[0,0,-1],e),i=Du.transformQuat([],[0,-1,0],e);if(i[2]<0)return !1;const r=Hx(t,i);return !!r&&(this._camera.orientation=r,!0)}_setCameraPosition(e){const t=this.zoomScale(this.minZoom)*this.tileSize,i=this.zoomScale(this.maxZoom)*this.tileSize,r=this.cameraToCenterDistance;e[2]=z(e[2],r/i,r/t),this._camera.position=e;}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(e){return this._edgeInsets.equals(e)}interpolatePadding(e,t,i){this._unmodified=!1,this._edgeInsets.interpolate(e,t,i),this._constrain(),this._calcMatrices();}coveringZoomLevel(e){const t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)}getVisibleUnwrappedCoordinates(e){const t=[new Gu(0,e)];if(this.renderWorldCopies){const i=this.pointCoordinate(new y(0,0)),r=this.pointCoordinate(new y(this.width,0)),n=this.pointCoordinate(new y(this.width,this.height)),o=this.pointCoordinate(new y(0,this.height)),s=Math.floor(Math.min(i.x,r.x,n.x,o.x)),a=Math.floor(Math.max(i.x,r.x,n.x,o.x)),l=1;for(let i=s-l;i<=a+l;i++)0!==i&&t.push(new Gu(i,e));}return t}isLODDisabled(e){return (!e||this.pitch<=60)&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace}extendTileCoverForShadows(e,t,i){let r=[];if(0===t[0]&&0===t[1])return r;for(const i of e){const e=i.canonical,n=i.overscaledZ,o=i.wrap,s=1<<e.z,a=e.x+1<s,l=e.x>0,c=e.y+1<s,h=e.y>0,u=i.wrap-(l?0:1),d=i.wrap+(a?0:1),p=l?e.x-1:s-1,f=a?e.x+1:0;t[0]<0?(r.push(new qu(n,d,e.z,f,e.y)),t[1]<0&&c&&(r.push(new qu(n,o,e.z,e.x,e.y+1)),r.push(new qu(n,d,e.z,f,e.y+1))),t[1]>0&&h&&(r.push(new qu(n,o,e.z,e.x,e.y-1)),r.push(new qu(n,d,e.z,f,e.y-1)))):t[0]>0?(r.push(new qu(n,u,e.z,p,e.y)),t[1]<0&&c&&(r.push(new qu(n,o,e.z,e.x,e.y+1)),r.push(new qu(n,u,e.z,p,e.y+1))),t[1]>0&&h&&(r.push(new qu(n,o,e.z,e.x,e.y-1)),r.push(new qu(n,u,e.z,p,e.y-1)))):t[1]<0&&c?r.push(new qu(n,o,e.z,e.x,e.y+1)):h&&r.push(new qu(n,o,e.z,e.x,e.y-1));}if(r.length>1){r.sort(((e,t)=>e.overscaledZ-t.overscaledZ||e.wrap-t.wrap||e.canonical.z-t.canonical.z||e.canonical.x-t.canonical.x||e.canonical.y-t.canonical.y));let e=0,t=0;for(;t<r.length;)r[t].equals(r[e])?++t:r[++e]=r[t++];r.length=e+1;}const n=[];for(const e of r)r.some((t=>e.isChildOf(t)))||n.push(e);return r=n.filter((t=>!e.some((e=>!!(t.overscaledZ<i&&e.isChildOf(t))||t.equals(e)||t.isChildOf(e))))),r}coveringTiles(e){let t=this.coveringZoomLevel(e);const i=t,r=this.elevation&&this.elevation.exaggeration(),n=r&&!e.isTerrainDEM,o=\"mercator\"===this.projection.name;if(void 0!==e.minzoom&&t<e.minzoom)return [];void 0!==e.maxzoom&&t>e.maxzoom&&(t=e.maxzoom);const s=this.locationCoordinate(this.center),a=this.center.lat,l=1<<t,c=[l*s.x,l*s.y,0],h=\"globe\"===this.projection.name,u=!h,d=Qu.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,t,u),p=h?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),f=l*Qd(1,this.center.lat),m=this._camera.position[2]/Qd(1,this.center.lat),_=[l*p.x,l*p.y,m*(u?1:f)],g=h||r,y=this.cameraToCenterDistance/e.tileSize*(e.roundZoom?1:.502),x=this.isLODDisabled(!0)?t:0;let v;if(this._elevation&&e.isTerrainDEM)v=1e4*this._elevation.exaggeration();else if(this._elevation){const e=this._elevation.getMinMaxForVisibleTiles();v=e?e.max:this._centerAltitude;}else v=this._centerAltitude;const b=e.isTerrainDEM?-v:this._elevation?this._elevation.getMinElevationBelowMSL():0,w=this.projection.isReprojectedInTileSpace?Jx(this):1,T=e=>{const t=1/4e4,i=new lp(e.x+t,e.y,e.z),r=new lp(e.x,e.y+t,e.z),n=e.toLngLat(),o=i.toLngLat(),s=r.toLngLat(),a=this.locationCoordinate(n),l=this.locationCoordinate(o),c=this.locationCoordinate(s),h=Math.hypot(l.x-a.x,l.y-a.y),u=Math.hypot(c.x-a.x,c.y-a.y);return Math.sqrt(h*u)*w/t},M=e=>{const t=v,i=b;return {aabb:Dg(this,l,0,0,0,e,i,t,this.projection),zoom:0,x:0,y:0,minZ:i,maxZ:t,wrap:e,fullyVisible:!1}},A=[];let S=[];const I=t,C=e.reparseOverscaled?i:t,z=e=>e*e,P=z((m-this._centerAltitude)*f),D=e=>{if(!this._elevation||!e.tileID||!o)return;const t=this._elevation.getMinMaxForTile(e.tileID),i=e.aabb;t?(i.min[2]=t.min,i.max[2]=t.max,i.center[2]=(i.min[2]+i.max[2])/2):(e.shouldSplit=R(e),e.shouldSplit||(i.min[2]=i.max[2]=i.center[2]=this._centerAltitude));},R=e=>{if(e.zoom<x)return !0;if(e.zoom===I)return !1;if(null!=e.shouldSplit)return e.shouldSplit;const t=e.aabb.distanceX(_),r=e.aabb.distanceY(_);let o=P,s=1;if(h){o=z(e.aabb.distanceZ(_));const t=Math.pow(2,e.zoom),i=tp((e.y+1)/t),r=tp(e.y/t),n=Math.min(Math.max(a,i),r),l=Yd(n)/Yd(a);if(s=n===a?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,l/this._mercatorScaleRatio),this.zoom<=td&&e.zoom===I-1&&l>=.9)return !0}else if(n&&(o=z(e.aabb.distanceZ(_)*f)),this.projection.isReprojectedInTileSpace&&i<=5){const t=Math.pow(2,e.zoom),i=T(new lp((e.x+.5)/t,(e.y+.5)/t));s=i>.85?1:i;}const l=t*t+r*r+o,c=z((1<<I-e.zoom)*y*s*((e,t)=>{if(t*z(.707)<e)return 1;const i=Math.sqrt(t/e);return i/(1.4144271570014144+(Math.pow(1.1,i-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(o,P),l));return l<c};if(this.renderWorldCopies)for(let e=1;e<=3;e++)A.push(M(-e)),A.push(M(e));for(A.push(M(0));A.length>0;){const i=A.pop(),r=i.x,s=i.y;let a=i.fullyVisible;const u=()=>\"globe\"===this.projection.name&&(0===i.y||i.y===(1<<i.zoom)-1);if(!a){let e=g?i.aabb.intersects(d):i.aabb.intersectsFlat(d);if(0===e&&u()){const t=new ju(i.zoom,r,s);e=yd(this,l,t,!0).intersects(d);}if(0===e)continue;a=2===e;}if(i.zoom!==I&&R(i))for(let e=0;e<4;e++){const t=(r<<1)+e%2,c=(s<<1)+(e>>1),u={aabb:o?i.aabb.quadrant(e):Dg(this,l,i.zoom+1,t,c,i.wrap,i.minZ,i.maxZ,this.projection),zoom:i.zoom+1,x:t,y:c,wrap:i.wrap,fullyVisible:a,tileID:void 0,shouldSplit:void 0,minZ:i.minZ,maxZ:i.maxZ};n&&!h&&(u.tileID=new qu(i.zoom+1===I?C:i.zoom+1,i.wrap,i.zoom+1,t,c),D(u)),A.push(u);}else {const n=i.zoom===I?C:i.zoom;if(e.minzoom&&e.minzoom>n)continue;if(!a){let e=g?i.aabb.intersectsPrecise(d):i.aabb.intersectsPreciseFlat(d);if(0===e&&u()){const t=new ju(i.zoom,r,s);e=yd(this,l,t,!0).intersectsPrecise(d);}if(0===e)continue}const o=c[0]-(.5+r+(i.wrap<<i.zoom))*(1<<t-i.zoom),h=c[1]-.5-s,p=i.tileID?i.tileID:new qu(n,i.wrap,i.zoom,r,s);S.push({tileID:p,distanceSq:o*o+h*h});}}if(this.fogCullDistSq){const t=this.fogCullDistSq,i=this.horizonLineFromTop();S=S.filter((r=>{const n=[0,0,0,1],o=[cr,cr,0,1],s=this.calculateFogTileMatrix(r.tileID.toUnwrapped());yu.transformMat4(n,n,s),yu.transformMat4(o,o,s);const a=function(e,t,i){let r=0;for(let i=0;i<2;++i){const n=0;e[i]>n&&(r+=(e[i]-n)*(e[i]-n)),t[i]<n&&(r+=(n-t[i])*(n-t[i]));}return r}(yu.min([],n,o),yu.max([],n,o));if(0===a)return !0;let l=!1;const c=this._elevation;if(c&&a>t&&0!==i){const t=this.calculateProjMatrix(r.tileID.toUnwrapped());let n;e.isTerrainDEM||(n=c.getMinMaxForTile(r.tileID)),n||(n={min:b,max:v});const o=function(e){const t=Math.round((e+45+360)%360/90)%4;return E[t]}(this.rotation),s=[o[0]*cr,o[1]*cr,n.max];Du.transformMat4(s,s,t),l=(1-s[1])*this.height*.5<i;}return a<t||l}));}return S.sort(((e,t)=>e.distanceSq-t.distanceSq)).map((e=>e.tileID))}resize(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices();}get unmodified(){return this._unmodified}zoomScale(e){return Math.pow(2,e)}scaleZoom(e){return Math.log(e)/Math.LN2}project(e){const t=z(e.lat,-rp,rp),i=this.projection.project(e.lng,t);return new y(i.x*this.worldSize,i.y*this.worldSize)}unproject(e){return this.projection.unproject(e.x/this.worldSize,e.y/this.worldSize)}get point(){return this.project(this.center)}get pointMerc(){return this.point._div(this.worldSize)}get pixelsPerMeterRatio(){return this.pixelsPerMeter/Qd(1,this.center.lat)/this.worldSize}setLocationAtPoint(e,t){let i,r;const n=this.centerPoint;if(\"globe\"===this.projection.name){const e=this.worldSize;i=(t.x-n.x)/e,r=(t.y-n.y)/e;}else {const e=this.pointCoordinate(t),o=this.pointCoordinate(n);i=e.x-o.x,r=e.y-o.y;}const o=this.locationCoordinate(e);this.setLocation(new lp(o.x-i,o.y-r));}setLocation(e){this.center=this.coordinateLocation(e),this.projection.wrap&&(this.center=this.center.wrap());}locationPoint(e){return this.projection.locationPoint(this,e)}locationPoint3D(e){return this.projection.locationPoint(this,e,!0)}pointLocation(e){return this.coordinateLocation(this.pointCoordinate(e))}pointLocation3D(e){return this.coordinateLocation(this.pointCoordinate3D(e))}locationCoordinate(e,t){const i=t?Qd(t,e.lat):void 0,r=this.projection.project(e.lng,e.lat);return new lp(r.x,r.y,i)}coordinateLocation(e){return this.projection.unproject(e.x,e.y)}pointRayIntersection(e,t){const i=null!=t?t:this._centerAltitude,r=[e.x,e.y,0,1],n=[e.x,e.y,1,1];yu.transformMat4(r,r,this.pixelMatrixInverse),yu.transformMat4(n,n,this.pixelMatrixInverse);const o=n[3];yu.scale(r,r,1/r[3]),yu.scale(n,n,1/o);const s=r[2],a=n[2];return {p0:r,p1:n,t:s===a?0:(i-s)/(a-s)}}screenPointToMercatorRay(e){const t=[e.x,e.y,0,1],i=[e.x,e.y,1,1];return yu.transformMat4(t,t,this.pixelMatrixInverse),yu.transformMat4(i,i,this.pixelMatrixInverse),yu.scale(t,t,1/t[3]),yu.scale(i,i,1/i[3]),t[2]=Qd(t[2],this._center.lat)*this.worldSize,i[2]=Qd(i[2],this._center.lat)*this.worldSize,yu.scale(t,t,1/this.worldSize),yu.scale(i,i,1/this.worldSize),new Wu([t[0],t[1],t[2]],Du.normalize([],Du.sub([],i,t)))}rayIntersectionCoordinate(e){const{p0:t,p1:i,t:r}=e,n=Qd(t[2],this._center.lat),o=Qd(i[2],this._center.lat);return new lp(Kr(t[0],i[0],r)/this.worldSize,Kr(t[1],i[1],r)/this.worldSize,Kr(n,o,r))}pointCoordinate(e,t=this._centerAltitude){return this.projection.pointCoordinate(this,e.x,e.y,t)}pointCoordinate3D(e){if(!this.elevation)return this.pointCoordinate(e);let t=this.projection.pointCoordinate3D(this,e.x,e.y);if(t)return new lp(t[0],t[1],t[2]);let i=0,r=this.horizonLineFromTop();if(e.y>r)return this.pointCoordinate(e);const n=.02*r,o=e.clone();for(let e=0;e<10&&r-i>n;e++){o.y=Kr(i,r,.66);const e=this.projection.pointCoordinate3D(this,o.x,o.y);e?(r=o.y,t=e):i=o.y;}return t?new lp(t[0],t[1],t[2]):this.pointCoordinate(e)}isPointAboveHorizon(e){return this.projection.isPointAboveHorizon(this,e)}isPointOnSurface(e){if(e.y<0||e.y>this.height||e.x<0||e.x>this.width)return !1;if(this.elevation||this.zoom>=id)return !this.isPointAboveHorizon(e);const t=this.pointCoordinate(e);return t.y>=0&&t.y<=1}_coordinatePoint(e,t){const i=t&&this.elevation?this.elevation.getAtPointOrZero(e,this._centerAltitude):this._centerAltitude,r=[e.x*this.worldSize,e.y*this.worldSize,i+e.toAltitude(),1];return yu.transformMat4(r,r,this.pixelMatrix),r[3]>0?new y(r[0]/r[3],r[1]/r[3]):new y(Number.MAX_VALUE,Number.MAX_VALUE)}_getBoundsNonRectangular(){const{top:e,left:t}=this._edgeInsets,i=this.height-this._edgeInsets.bottom,r=this.width-this._edgeInsets.right,n=this.pointLocation3D(new y(t,e)),o=this.pointLocation3D(new y(r,e)),s=this.pointLocation3D(new y(r,i)),a=this.pointLocation3D(new y(t,i));let l=Math.min(n.lng,o.lng,s.lng,a.lng),c=Math.max(n.lng,o.lng,s.lng,a.lng),h=Math.min(n.lat,o.lat,s.lat,a.lat),u=Math.max(n.lat,o.lat,s.lat,a.lat);const d=Math.pow(2,-this.zoom)/16*270,p=\"globe\"===this.projection.name?1:4,f=(e,t,i,r,n)=>{const o=(e+i)/2,s=(t+r)/2,a=new y(o,s),{lng:m,lat:_}=this.pointLocation3D(a),g=Math.max(0,l-m,h-_,m-c,_-u);l=Math.min(l,m),c=Math.max(c,m),h=Math.min(h,_),u=Math.max(u,_),(n<p||g>d)&&(f(e,t,o,s,n+1),f(o,s,i,r,n+1));};if(f(t,e,r,e,1),f(r,e,r,i,1),f(r,i,t,i,1),f(t,i,t,e,1),\"globe\"===this.projection.name){const[e,t]=function(e){const t=Au.identity(new Float64Array(16));Au.multiply(t,e.pixelMatrix,e.globeMatrix);const i=[0,ad,0],r=[0,ld,0];return Du.transformMat4(i,i,t),Du.transformMat4(r,r,t),[i[0]>0&&i[0]<=e.width&&i[1]>0&&i[1]<=e.height&&!Nd(e,new Wd(e.center.lat,90)),r[0]>0&&r[0]<=e.width&&r[1]>0&&r[1]<=e.height&&!Nd(e,new Wd(e.center.lat,-90))]}(this);e?(u=90,c=180,l=-180):t&&(h=-90,c=180,l=-180);}return new sc(new Wd(l,h),new Wd(c,u))}_getBoundsRectangular(e,t){const{top:i,left:r}=this._edgeInsets,n=this.height-this._edgeInsets.bottom,o=this.width-this._edgeInsets.right,s=new y(r,i),a=new y(o,i),l=new y(o,n),c=new y(r,n);let h=this.pointCoordinate(s,e),u=this.pointCoordinate(a,e);const d=this.pointCoordinate(l,t),p=this.pointCoordinate(c,t),f=(e,t)=>(t.y-e.y)/(t.x-e.x);return h.y>1&&u.y>=0?h=new lp((1-p.y)/f(p,h)+p.x,1):h.y<0&&u.y<=1&&(h=new lp(-p.y/f(p,h)+p.x,0)),u.y>1&&h.y>=0?u=new lp((1-d.y)/f(d,u)+d.x,1):u.y<0&&h.y<=1&&(u=new lp(-d.y/f(d,u)+d.x,0)),(new sc).extend(this.coordinateLocation(h)).extend(this.coordinateLocation(u)).extend(this.coordinateLocation(p)).extend(this.coordinateLocation(d))}_getBoundsRectangularTerrain(){const e=this.elevation;if(!e.visibleDemTiles.length||e.isUsingMockSource())return this._getBoundsRectangular(0,0);const t=e.visibleDemTiles.reduce(((e,t)=>{if(t.dem){const i=t.dem.tree;e.min=Math.min(e.min,i.minimums[0]),e.max=Math.max(e.max,i.maximums[0]);}return e}),{min:Number.MAX_VALUE,max:0});return this._getBoundsRectangular(t.min*e.exaggeration(),t.max*e.exaggeration())}getBounds(){return \"mercator\"===this.projection.name||\"equirectangular\"===this.projection.name?this._terrainEnabled()?this._getBoundsRectangularTerrain():this._getBoundsRectangular(0,0):this._getBoundsNonRectangular()}horizonLineFromTop(e=!0){const t=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))-this.centerOffset.y,i=this.height/2-t*(1-this._horizonShift);return e?Math.max(0,i):i}getMaxBounds(){return this.maxBounds}setMaxBounds(e){this.maxBounds=e,this.minLat=-rp,this.maxLat=rp,this.minLng=-180,this.maxLng=180,e&&(this.minLat=e.getSouth(),this.maxLat=e.getNorth(),this.minLng=e.getWest(),this.maxLng=e.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=Kd(this.minLng)*this.tileSize,this.worldMaxX=Kd(this.maxLng)*this.tileSize,this.worldMinY=Jd(this.maxLat)*this.tileSize,this.worldMaxY=Jd(this.minLat)*this.tileSize,this._constrain();}calculatePosMatrix(e,t){return this.projection.createTileMatrix(this,t,e)}calculateDistanceTileData(e){const t=e.key,i=this._distanceTileDataCache;if(i[t])return i[t];const r=e.canonical,n=1/this.height,o=this.cameraWorldSize,s=o/this.zoomScale(r.z),a=(r.x+Math.pow(2,r.z)*e.wrap)*s,l=r.y*s,c=this.point;c.x*=o/this.worldSize,c.y*=o/this.worldSize;const h=this.angle,u=Math.sin(-h),d=-Math.cos(-h);return i[t]={bearing:[u,d],center:[(c.x-a)*n,(c.y-l)*n],scale:s/cr*n},i[t]}calculateFogTileMatrix(e){const t=e.key,i=this._fogTileMatrixCache;if(i[t])return i[t];const r=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,e);return Au.multiply(r,this.worldToFogMatrix,r),i[t]=new Float32Array(r),i[t]}calculateProjMatrix(e,t=!1,i=!1){const r=e.key;let n;if(n=i?this._expandedProjMatrixCache:t?this._alignedProjMatrixCache:this._projMatrixCache,n[r])return n[r];const o=this.calculatePosMatrix(e,this.worldSize);let s;return s=this.projection.isReprojectedInTileSpace?this.mercatorMatrix:i?this.expandedFarZProjMatrix:t?this.alignedProjMatrix:this.projMatrix,Au.multiply(o,s,o),n[r]=new Float32Array(o),n[r]}calculatePixelsToTileUnitsMatrix(e){const t=e.tileID.key,i=this._pixelsToTileUnitsCache;if(i[t])return i[t];const r=function(e,t){const{scale:i}=e.tileTransform,r=i*cr/(e.tileSize*Math.pow(2,t.zoom-e.tileID.overscaledZ+e.tileID.canonical.z));return bu.scale(new Float32Array(4),t.inverseAdjustmentMatrix,[r,r])}(e,this);return i[t]=r,i[t]}customLayerMatrix(){return this.mercatorMatrix.slice()}globeToMercatorMatrix(){if(\"globe\"===this.projection.name){const e=1/this.worldSize,t=Au.fromScaling([],[e,e,e]);return Au.multiply(t,t,this.globeMatrix),t}}recenterOnTerrain(){if(!this._elevation||\"globe\"===this.projection.name)return;const e=this._elevation;this._updateCameraState();const t=Qd(1,this._center.lat)*this.worldSize,i=this._computeCameraPosition(t),r=this._camera.forward(),n=Qd(1,this._center.lat);i[2]/=n,r[2]/=n,Du.normalize(r,r);const o=e.raycast(i,r,e.exaggeration());if(o){const e=Du.scaleAndAdd([],i,r,o),t=new lp(e[0],e[1],Qd(e[2],tp(e[1]))),s=(t.z+Du.length([t.x-i[0],t.y-i[1],t.z-i[2]*n]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(s),this._centerAltitude=t.toAltitude(),this._center=this.coordinateLocation(t),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices();}}_constrainCamera(e=!1){if(!this._elevation)return;const t=this._elevation,i=Qd(1,this._center.lat)*this.worldSize,r=this._computeCameraPosition(i),n=t.getAtPointOrZero(new lp(...r)),o=this.pixelsPerMeter/this.worldSize*n,s=this._minimumHeightOverTerrain(),a=r[2]-o;if(a<=s)if(a<0||e){const e=this.locationCoordinate(this._center,this._centerAltitude),t=[r[0],r[1],e.z-r[2]],i=Du.length(t);t[2]-=(s-a)/this._pixelsPerMercatorPixel;const n=Du.length(t);if(0===n)return;Du.scale(t,t,i/n*this._pixelsPerMercatorPixel),this._camera.position=[r[0],r[1],e.z*this._pixelsPerMercatorPixel-t[2]],this._updateStateFromCamera();}else this._isCameraConstrained=!0;}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const e=\"globe\"===this.projection.name||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||e){const t=this.center;return t.lat=z(t.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!e)&&(t.lng=z(t.lng,this.minLng,this.maxLng)),this.center=t,void(this._constraining=!1)}const t=this._unmodified,{x:i,y:r}=this.point;let n=0,o=i,s=r;const a=this.width/2,l=this.height/2,c=this.worldMinY*this.scale,h=this.worldMaxY*this.scale;if(r-l<c&&(s=c+l),r+l>h&&(s=h-l),h-c<this.height&&(n=Math.max(n,this.height/(h-c)),s=(h+c)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const e=this.worldMinX*this.scale,t=this.worldMaxX*this.scale,r=this.worldSize/2-(e+t)/2;o=(i+r+this.worldSize)%this.worldSize-r,o-a<e&&(o=e+a),o+a>t&&(o=t-a),t-e<this.width&&(n=Math.max(n,this.width/(t-e)),o=(t+e)/2);}o===i&&s===r||(this.center=this.unproject(new y(o,s))),n&&(this.zoom+=this.scaleZoom(n)),this._constrainCamera(),this._unmodified=t,this._constraining=!1;}_minZoomForBounds(){let e=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(e=Math.max(e,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),e}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const e=this.centerOffset,t=\"globe\"===this.projection.name,i=this.pixelsPerMeter;\"globe\"===this.projection.name&&(this._mercatorScaleRatio=Qd(1,this.center.lat)/Qd(1,45));const r=Qx(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,r),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const n=\"meters\"===this.projection.zAxisUnit?i:1,o=this._camera.getWorldToCamera(this.worldSize,n);let s;const a=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);if(a[8]=2*-e.x/this.width,a[9]=2*e.y/this.height,this.isOrthographic){let t=.5*this.height/Math.tan(this._fov/2)*1*Math.tan(.5*this._fov),i=t*this.aspect,r=-i,n=-t;i-=e.x,r-=e.x,t+=e.y,n+=e.y,s=this._camera.getCameraToClipOrthographic(r,i,n,t,this._nearZ,this._farZ),((e,t,i,r)=>{for(let n=0;n<16;n++)e[n]=bv(t[n],i[n],r);})(s,s,a,wv(this.pitch>=15?1:this.pitch/15));}else s=a;const l=Au.mul([],a,o);let c=Au.mul([],s,o);if(this.projection.isReprojectedInTileSpace){const e=this.locationCoordinate(this.center),t=Au.identity([]);Au.translate(t,t,[e.x*this.worldSize,e.y*this.worldSize,0]),Au.multiply(t,t,Kx(this)),Au.translate(t,t,[-e.x*this.worldSize,-e.y*this.worldSize,0]),Au.multiply(c,c,t),Au.multiply(l,l,t),this.inverseAdjustmentMatrix=function(e){const t=Kx(e,!0);return bu.invert([],[t[0],t[1],t[4],t[5]])}(this);}else this.inverseAdjustmentMatrix=[1,0,0,1];if(this.mercatorMatrix=Au.scale([],c,[this.worldSize,this.worldSize,this.worldSize/n,1]),this.projMatrix=c,this.invProjMatrix=Au.invert(new Float64Array(16),this.projMatrix),t){const t=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,1/0);t[8]=2*-e.x/this.width,t[9]=2*e.y/this.height,this.expandedFarZProjMatrix=Au.mul([],t,o);}else this.expandedFarZProjMatrix=this.projMatrix;const h=Au.invert([],s);this.frustumCorners=Hu.fromInvProjectionMatrix(h,this.horizonLineFromTop(),this.height),this.cameraFrustum=Qu.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,0,!t);const u=new Float32Array(16);Au.identity(u),Au.scale(u,u,[1,-1,1]),Au.rotateX(u,u,this._pitch),Au.rotateZ(u,u,this.angle);const d=Au.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ);this.starsProjMatrix=Au.clone(d);const p=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;d[8]=2*-e.x/this.width,d[9]=2*(e.y+p)/this.height,this.skyboxMatrix=Au.multiply(u,d,u);const f=this.point,m=f.x,_=f.y,g=this.width%2/2,y=this.height%2/2,x=Math.cos(this.angle),v=Math.sin(this.angle),b=m-Math.round(m)+x*g+v*y,w=_-Math.round(_)+x*y+v*g,T=new Float64Array(c);if(Au.translate(T,T,[b>.5?b-1:b,w>.5?w-1:w,0]),this.alignedProjMatrix=T,c=Au.create(),Au.scale(c,c,[this.width/2,-this.height/2,1]),Au.translate(c,c,[1,-1,0]),this.labelPlaneMatrix=c,c=Au.create(),Au.scale(c,c,[1,-1,1]),Au.translate(c,c,[-1,-1,0]),Au.scale(c,c,[2/this.width,2/this.height,1]),this.glCoordMatrix=c,this.pixelMatrix=Au.multiply(new Float64Array(16),this.labelPlaneMatrix,l),this._calcFogMatrices(),this._distanceTileDataCache={},c=Au.invert(new Float64Array(16),this.pixelMatrix),!c)throw new Error(\"failed to invert matrix\");if(this.pixelMatrixInverse=c,\"globe\"===this.projection.name||this.mercatorFromTransition){this.globeMatrix=function(e){const{x:t,y:i}=e.point,{lng:r,lat:n}=e._center;return zd(t,i,e.worldSize,r,n)}(this);const e=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=Du.transformMat4(e,e,o),this.globeRadius=this.worldSize/2/Math.PI-1;}else this.globeMatrix=c;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={},this._expandedProjMatrixCache={};}_calcFogMatrices(){this._fogTileMatrixCache={};const e=this.cameraWorldSizeForFog,t=this.cameraPixelsPerMeter,i=this._camera.position,r=1/this.height/this._pixelsPerMercatorPixel,n=[e,e,t];Du.scale(n,n,r),Du.scale(i,i,-1),Du.multiply(i,i,n);const o=Au.create();Au.translate(o,o,i),Au.scale(o,o,n),this.mercatorFogMatrix=o,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(e,t,r);}_computeCameraPosition(e){const t=(e=e||this.pixelsPerMeter)/this.pixelsPerMeter,i=this._camera.forward(),r=this.point,n=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*t-e/this.worldSize*this._centerAltitude;return [r.x/this.worldSize-i[0]*n,r.y/this.worldSize-i[1]*n,e/this.worldSize*this._centerAltitude-i[2]*n]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition());}_translateCameraConstrained(e){const t=this._maxCameraBoundsDistance()*Math.cos(this._pitch),i=this._camera.position[2],r=e[2];let n=1;this.projection.wrap&&(this.center=this.center.wrap()),r>0&&(n=Math.min((t-i)/r,1)),this._camera.position=Du.scaleAndAdd([],this._camera.position,e,n),this._updateStateFromCamera();}_updateStateFromCamera(){const e=this._camera.position,t=this._camera.forward(),{pitch:i,bearing:r}=this._camera.getPitchBearing(),n=Qd(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,o=this._mercatorZfromZoom(this._maxZoom)*Math.cos(w(this._maxPitch)),s=Math.max((e[2]-n)/Math.cos(i),o),a=this._zoomFromMercatorZ(s);Du.scaleAndAdd(e,e,t,s),this._pitch=z(i,w(this.minPitch),w(this.maxPitch)),this.angle=D(r,-Math.PI,Math.PI),this._setZoom(z(a,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new lp(e[0],e[1],e[2])),this._unmodified=!1,this._constrain(),this._calcMatrices();}_worldSizeFromZoom(e){return Math.pow(2,e)*this.tileSize}_mercatorZfromZoom(e){return this.cameraToCenterDistance/this._worldSizeFromZoom(e)}_minimumHeightOverTerrain(){const e=Math.min((null!=this._seaLevelZoom?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(e)}_zoomFromMercatorZ(e){return this.scaleZoom(this.cameraToCenterDistance/(e*this.tileSize))}zoomFromMercatorZAdjusted(e){let t=0,i=id,r=0,n=1/0;for(;i-t>1e-6&&i>t;){const o=t+.5*(i-t),s=this.tileSize*Math.pow(2,o),a=this.getCameraToCenterDistance(this.projection,o,s),l=this.scaleZoom(a/(e*this.tileSize)),c=Math.abs(o-l);c<n&&(n=c,r=o),o<l?t=o:i=o;}return r}_terrainEnabled(){return !(!this._elevation||!this.projection.supportsTerrain&&(H(\"Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain.\"),1))}anyCornerOffEdge(e,t){const i=Math.min(e.x,t.x),r=Math.max(e.x,t.x),n=Math.min(e.y,t.y),o=Math.max(e.y,t.y);if(n<this.horizonLineFromTop(!1))return !0;if(\"mercator\"!==this.projection.name)return !1;const s=[new y(i,n),new y(r,o),new y(i,o),new y(r,n)],a=this.renderWorldCopies?-3:0,l=this.renderWorldCopies?4:1;for(const e of s){const t=this.pointRayIntersection(e);if(t.t<0)return !0;const i=this.rayIntersectionCoordinate(t);if(i.x<a||i.y<0||i.x>l||i.y>1)return !0}return !1}isHorizonVisible(){return this.pitch+T(this.fovAboveCenter)>88||this.anyCornerOffEdge(new y(0,0),new y(this.width,this.height))}zoomDeltaToMovement(e,t){const i=Du.length(Du.sub([],this._camera.position,e)),r=this._zoomFromMercatorZ(i)+t;return i-this._mercatorZfromZoom(r)}getCameraPoint(){if(\"globe\"===this.projection.name){const e=function([e,t,i],r){const n=[e,t,i,1];yu.transformMat4(n,n,r);const o=n[3]=Math.max(n[3],1e-6);return n[0]/=o,n[1]/=o,n[2]/=o,n}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new y(e[0],e[1])}{const e=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new y(0,e))}}getCameraToCenterDistance(e,t=this.zoom,i=this.worldSize){const r=Qx(e,t,this.width,this.height,1024),n=e.pixelSpaceConversion(this.center.lat,i,r);let o=.5/Math.tan(.5*this._fov)*this.height*n;return this.isOrthographic&&(o=bv(1,o,wv(this.pitch>=15?1:this.pitch/15))),o}getWorldToCameraMatrix(){const e=this._camera.getWorldToCamera(this.worldSize,\"meters\"===this.projection.zAxisUnit?this.pixelsPerMeter:1);return \"globe\"===this.projection.name&&Au.multiply(e,e,this.globeMatrix),e}getFrustum(e){return Qu.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,e,\"meters\"===this.projection.zAxisUnit)}}function Ev(e,t,i){Au.identity(e),Au.rotateZ(e,e,w(t[2])),Au.rotateX(e,e,w(t[0])),Au.rotateY(e,e,w(t[1])),Au.scale(e,e,i),Au.multiply(e,e,[1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1]);}function Mv(e,t,i,r,n,o,s,a){const l=[i[0]-t[0],i[1]-t[1],0],c=[r[0]-t[0],r[1]-t[1],0];if(Du.length(l)<1e-12||Du.length(c)<1e-12)return Iu.identity(e);const h=Du.cross([],l,c);Du.normalize(h,h),Du.subtract(c,r,t),l[2]=(o-n)*a,c[2]=(s-n)*a;const u=l;return Du.cross(u,l,c),Du.normalize(u,u),Iu.rotationTo(e,h,u)}function Av(e,t,i=!1){const r=Dd(t.zoom),n=function(e,t,i){const r=t.worldSize,n=[e[12],e[13],e[14]],o=tp(n[1]/r),s=ep(n[0]/r),a=Au.identity([]),l=Qd(1,o)*r,c=Qd(1,0)*r*op(o,t.zoom),h=1/Id(r);let u=c*h;if(i){const e=Qx(t.projection,t.zoom,t.width,t.height,1024);u=h*t.projection.pixelSpaceConversion(t.center.lat,r,e);}const d=wd(o,s);Du.add(d,d,Du.scale([],Du.normalize([],d),l*u*n[2]));const p=function(e){const t=[e[0],e[1],e[2]];let i=[0,1,0];const r=Du.cross([],i,t);return Du.cross(i,t,r),0===Du.squaredLength(i)&&(i=[0,1,0],Du.cross(r,t,i)),Du.normalize(r,r),Du.normalize(i,i),Du.normalize(t,t),[r[0],r[1],r[2],0,i[0],i[1],i[2],0,t[0],t[1],t[2],0,e[0],e[1],e[2],1]}(d);Au.scale(a,a,[u,u,u*l]),Au.translate(a,a,[-n[0],-n[1],-n[2]]);const f=Au.multiply([],t.globeMatrix,p);return Au.multiply(f,f,a),Au.multiply(f,f,e),f}(e,t,i);if(r>0){const i=function(e,t){const i=t.worldSize,r=Qd(1,0)*i*op(t.center.lat,t.zoom)/Id(i),n=Qd(1,t.center.lat)*i,o=Au.identity([]);return Au.rotateY(o,o,w(t.center.lng)),Au.rotateX(o,o,w(t.center.lat)),Au.translate(o,o,[0,0,rd]),Au.scale(o,o,[r,r,r*n]),Au.translate(o,o,[t.point.x-.5*i,t.point.y-.5*i,0]),Au.multiply(o,o,e),Au.multiply(o,t.globeMatrix,o)}(e,t);return function(e,t,i){const r=(e,t,i)=>{const r=Du.length(e),n=Du.length(t),o=md(e,t,i);return Du.scale(o,o,1/Du.length(o)*Kr(r,n,i))},n=r([e[0],e[1],e[2]],[t[0],t[1],t[2]],i),o=r([e[4],e[5],e[6]],[t[4],t[5],t[6]],i),s=r([e[8],e[9],e[10]],[t[8],t[9],t[10]],i),a=md([e[12],e[13],e[14]],[t[12],t[13],t[14]],i);return [n[0],n[1],n[2],0,o[0],o[1],o[2],0,s[0],s[1],s[2],0,a[0],a[1],a[2],1]}(n,i,r)}return n}const Sv=64,Iv=[1,1,1];class Cv{constructor(e,t,i,r){this.id=e,this.position=null!=t?new Wd(t[0],t[1]):new Wd(0,0),this.orientation=null!=i?i:[0,0,0],this.nodes=r,this.uploaded=!1,this.aabb=new ed([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),this.matrix=[];}_applyTransformations(e,t){if(Au.multiply(e.matrix,t,e.matrix),e.meshes)for(const t of e.meshes){const i=ed.applyTransform(t.aabb,e.matrix);this.aabb.encapsulate(i);}if(e.children)for(const t of e.children)this._applyTransformations(t,e.matrix);}computeBoundsAndApplyParent(){const e=Au.identity([]);for(const t of this.nodes)this._applyTransformations(t,e);}_positionModelOnTerrain(e,t){const i=e.elevation;if(!i)return 0;const r=ed.projectAabbCorners(this.aabb,this.matrix),n=Qd(1,this.position.lat)*e.worldSize,o=function(e,t){const i=[0,0,1],r=[{corners:[0,1,3,2],dotProductWithUp:0},{corners:[1,5,2,6],dotProductWithUp:0},{corners:[0,4,1,5],dotProductWithUp:0},{corners:[2,6,3,7],dotProductWithUp:0},{corners:[4,7,5,6],dotProductWithUp:0},{corners:[0,3,4,7],dotProductWithUp:0}];for(const n of r){const r=e[n.corners[0]],o=e[n.corners[1]],s=e[n.corners[2]],a=[o[0]-r[0],o[1]-r[1],t*(o[2]-r[2])],l=Du.cross(a,a,[s[0]-r[0],s[1]-r[1],t*(s[2]-r[2])]);Du.normalize(l,l),n.dotProductWithUp=Du.dot(l,i);}return r.sort(((e,t)=>e.dotProductWithUp-t.dotProductWithUp)),r[0].corners}(r,n),s=r[o[0]],a=r[o[1]],l=r[o[2]],c=r[o[3]],h=i.getAtPointOrZero(new lp(s[0]/e.worldSize,s[1]/e.worldSize),0),u=i.getAtPointOrZero(new lp(a[0]/e.worldSize,a[1]/e.worldSize),0),d=i.getAtPointOrZero(new lp(l[0]/e.worldSize,l[1]/e.worldSize),0),p=i.getAtPointOrZero(new lp(c[0]/e.worldSize,c[1]/e.worldSize),0),f=(h+p)/2,m=(u+d)/2;return f>m?u<d?Mv(t,a,c,s,u,p,h,n):Mv(t,l,s,c,d,h,p,n):h<p?Mv(t,s,a,l,h,u,d,n):Mv(t,c,l,a,p,d,u,n),Math.max(f,m)}computeModelMatrix(e,t,i,r,n,o,s=!1){const a=e.transform,l=a.zoom,c=a.project(this.position),h=op(this.position.lat,l),u=1/h;Au.identity(this.matrix),Au.translate(this.matrix,this.matrix,[c.x+r[0]*u,c.y+r[1]*u,r[2]]);let d=1,p=1;const f=a.worldSize;if(s){if(\"mercator\"===a.projection.name){let e=0;a.elevation&&(e=a.elevation.getAtPointOrZero(new lp(c.x/f,c.y/f),0));const t=yu.transformMat4([],[c.x,c.y,e,1],a.projMatrix)[3]/a.cameraToCenterDistance;d=t,p=t*op(a.center.lat,l);}else if(\"globe\"===a.projection.name){const e=Av(this.matrix,a),t=Au.multiply([],a.projMatrix,e),i=[0,0,0,1];yu.transformMat4(i,i,t);const r=i[3]/a.cameraToCenterDistance,n=Dd(l),o=a.projection.pixelsPerMeter(this.position.lat,f)*op(this.position.lat,l),s=a.projection.pixelsPerMeter(a.center.lat,f)*op(a.center.lat,l);d=r/Kr(o,np(a.center.lat),n),p=r*h/o,d*=s,p*=s;}}else d=u;Au.scale(this.matrix,this.matrix,[d,d,p]);const m=[...this.matrix],_=this.orientation,g=[];if(Ev(g,[_[0]+t[0],_[1]+t[1],_[2]+t[2]],i),Au.multiply(this.matrix,m,g),n&&a.elevation){let e=0;const t=[];if(o&&a.elevation){e=this._positionModelOnTerrain(a,t);const i=Au.fromQuat([],t),r=Au.multiply([],i,g);Au.multiply(this.matrix,m,r);}else e=a.elevation.getAtPointOrZero(new lp(c.x/f,c.y/f),0);0!==e&&(this.matrix[14]+=e);}}upload(e){if(!this.uploaded){for(const t of this.nodes)Dv(t,e);for(const e of this.nodes)Rv(e);this.uploaded=!0;}}destroy(){for(const e of this.nodes)Lv(e);}}function zv(e,t,i=!1){e.uploaded||(e.gfxTexture=new My(t,e.image,i?t.gl.R8:t.gl.RGBA,{useMipmap:e.sampler.minFilter>=t.gl.NEAREST_MIPMAP_NEAREST}),e.uploaded=!0,e.image=null);}function Pv(e,t,i){e.indexBuffer=t.createIndexBuffer(e.indexArray,!1,!0),e.vertexBuffer=t.createVertexBuffer(e.vertexArray,Fx.members,!1,!0),e.normalArray&&(e.normalBuffer=t.createVertexBuffer(e.normalArray,jx.members,!1,!0)),e.texcoordArray&&(e.texcoordBuffer=t.createVertexBuffer(e.texcoordArray,Vx.members,!1,!0)),e.colorArray&&(e.colorBuffer=t.createVertexBuffer(e.colorArray,(12===e.colorArray.bytesPerElement?Nx:Ux).members,!1,!0)),e.featureArray&&(e.pbrBuffer=t.createVertexBuffer(e.featureArray,qx.members,!0)),e.segments=xl.simpleSegment(0,0,e.vertexArray.length,e.indexArray.length);const r=e.material;r.pbrMetallicRoughness.baseColorTexture&&zv(r.pbrMetallicRoughness.baseColorTexture,t),r.pbrMetallicRoughness.metallicRoughnessTexture&&zv(r.pbrMetallicRoughness.metallicRoughnessTexture,t),r.normalTexture&&zv(r.normalTexture,t),r.occlusionTexture&&zv(r.occlusionTexture,t,i),r.emissionTexture&&zv(r.emissionTexture,t);}function Dv(e,t,i){if(e.meshes)for(const r of e.meshes)Pv(r,t,i);if(e.children)for(const r of e.children)Dv(r,t,i);}function Rv(e){if(e.meshes)for(const t of e.meshes)t.indexArray.destroy(),t.vertexArray.destroy(),t.colorArray&&t.colorArray.destroy(),t.normalArray&&t.normalArray.destroy(),t.texcoordArray&&t.texcoordArray.destroy(),t.featureArray&&t.featureArray.destroy();if(e.children)for(const t of e.children)Rv(t);}function Lv(e){if(e.meshes)for(const i of e.meshes)i.vertexBuffer&&(i.vertexBuffer.destroy(),i.indexBuffer.destroy(),i.normalBuffer&&i.normalBuffer.destroy(),i.texcoordBuffer&&i.texcoordBuffer.destroy(),i.colorBuffer&&i.colorBuffer.destroy(),i.pbrBuffer&&i.pbrBuffer.destroy(),i.segments.destroy(),i.material&&((t=i.material).pbrMetallicRoughness.baseColorTexture&&t.pbrMetallicRoughness.baseColorTexture.gfxTexture&&t.pbrMetallicRoughness.baseColorTexture.gfxTexture.destroy(),t.pbrMetallicRoughness.metallicRoughnessTexture&&t.pbrMetallicRoughness.metallicRoughnessTexture.gfxTexture&&t.pbrMetallicRoughness.metallicRoughnessTexture.gfxTexture.destroy(),t.normalTexture&&t.normalTexture.gfxTexture&&t.normalTexture.gfxTexture.destroy(),t.emissionTexture&&t.emissionTexture.gfxTexture&&t.emissionTexture.gfxTexture.destroy(),t.occlusionTexture&&t.occlusionTexture.gfxTexture&&t.occlusionTexture.gfxTexture.destroy()));var t;if(e.children)for(const t of e.children)Lv(t);}class kv{constructor(e,t){this.feature=e,this.instancedDataOffset=t,this.instancedDataCount=0,this.rotation=[0,0,0],this.scale=[1,1,1],this.translation=[0,0,0];}}class Ov{constructor(){this.instancedDataArray=new rl,this.instancesEvaluatedElevation=[],this.features=[],this.idToFeaturesIndex={};}}class Bv{constructor(e){this.zoom=e.zoom,this.canonical=e.canonical,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.fqid)),this.projection=e.projection,this.index=e.index,this.hasZoomDependentProperties=this.layers[0].isZoomDependent(),this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id)),this.hasPattern=!1,this.instancesPerModel={},this.validForExaggeration=0,this.maxVerticalOffset=0,this.maxScale=0,this.maxHeight=0,this.lookupDim=this.zoom>this.canonical.z?256:this.zoom>15?75:100,this.instanceCount=0,this.terrainElevationMin=0,this.terrainElevationMax=0,this.validForDEMTile={id:null,timestamp:0};}populate(e,t,i,r){this.tileToMeter=ap(i);const n=this.layers[0]._featureFilter.needGeometry;this.lookup=new Uint8Array(this.lookupDim*this.lookupDim);for(const{feature:o,id:s,index:a,sourceLayerIndex:l}of e){const e=gp(o,n);if(!this.layers[0]._featureFilter.filter(new oa(this.zoom),e,i))continue;const c={id:s,sourceLayerIndex:l,index:a,geometry:n?e.geometry:_p(o,i,r),properties:o.properties,type:o.type,patterns:{}},h=this.addFeature(c,c.geometry,e);h&&t.featureIndex.insert(o,c.geometry,a,l,this.index,this.instancesPerModel[h].instancedDataArray.length);}this.lookup=null;}update(e,t,i,r){for(const t in this.instancesPerModel){const i=this.instancesPerModel[t];for(const t in e)i.idToFeaturesIndex.hasOwnProperty(t)&&this.evaluate(i.features[i.idToFeaturesIndex[t]],e[t],i,!0);}this.maxHeight=0;}updateZoomBasedPaintProperties(){if(!this.hasZoomDependentProperties)return !1;let e=!1;for(const t in this.instancesPerModel){const i=this.instancesPerModel[t];for(const t of i.features){const r=this.layers[0],n=t.feature,o=this.canonical,s=r.paint.get(\"model-rotation\").evaluate(n,{},o),a=r.paint.get(\"model-scale\").evaluate(n,{},o),l=r.paint.get(\"model-translation\").evaluate(n,{},o);Du.exactEquals(t.rotation,s)&&Du.exactEquals(t.scale,a)&&Du.exactEquals(t.translation,l)||(this.evaluate(t,t.featureStates,i,!0),e=!0);}}return e}isEmpty(){for(const e in this.instancesPerModel)if(0!==this.instancesPerModel[e].instancedDataArray.length)return !1;return !0}uploadPending(){return !this.uploaded}upload(e){if(!this.uploaded)for(const t in this.instancesPerModel){const i=this.instancesPerModel[t];i.instancedDataArray.length<0||0===i.instancedDataArray.length||(i.instancedDataBuffer?i.instancedDataBuffer.updateData(i.instancedDataArray):i.instancedDataBuffer=e.createVertexBuffer(i.instancedDataArray,Gx.members,!0,void 0,this.instanceCount));}this.uploaded=!0;}destroy(){for(const e in this.instancesPerModel){const t=this.instancesPerModel[e];0!==t.instancedDataArray.length&&t.instancedDataBuffer&&t.instancedDataBuffer.destroy();}}addFeature(e,t,i){const r=this.layers[0],n=r.layout.get(\"model-id\").evaluate(i,{},this.canonical);if(!n)return H(`modelId is not evaluated for layer ${r.id} and it is not going to get rendered.`),n;this.instancesPerModel[n]||(this.instancesPerModel[n]=new Ov);const o=this.instancesPerModel[n],s=o.instancedDataArray,a=new kv(i,s.length);for(const e of t)for(const t of e){if(t.x<0||t.x>=cr||t.y<0||t.y>=cr)continue;const e=(this.lookupDim-1)/cr,i=this.lookupDim*(t.y*e|0)+t.x*e|0;if(this.lookup){if(0!==this.lookup[i])continue;this.lookup[i]=1;}this.instanceCount++;const r=s.length;s.resize(r+1),o.instancesEvaluatedElevation.push(0),s.float32[16*r]=t.x,s.float32[16*r+1]=t.y;}return a.instancedDataCount=o.instancedDataArray.length-a.instancedDataOffset,a.instancedDataCount>0&&(e.id&&(o.idToFeaturesIndex[e.id]=o.features.length),o.features.push(a),this.evaluate(a,{},o,!1)),n}evaluate(e,t,i,r){const n=this.layers[0],o=e.feature,s=this.canonical,a=e.rotation=n.paint.get(\"model-rotation\").evaluate(o,t,s),l=e.scale=n.paint.get(\"model-scale\").evaluate(o,t,s),c=e.translation=n.paint.get(\"model-translation\").evaluate(o,t,s),h=n.paint.get(\"model-color\").evaluate(o,t,s);h.a=n.paint.get(\"model-color-mix-intensity\").evaluate(o,t,s);const u=[];this.maxVerticalOffset<c[2]&&(this.maxVerticalOffset=c[2]),this.maxScale=Math.max(Math.max(this.maxScale,l[0]),Math.max(l[1],l[2])),Ev(u,a,l);const d=Math.round(100*h.a)+h.b/1.05;for(let t=0;t<e.instancedDataCount;++t){const n=e.instancedDataOffset+t,o=16*n,a=i.instancedDataArray.float32;let l=0;r&&(l=a[o+6]-i.instancesEvaluatedElevation[n]);const p=0|a[o+1];a[o]=(0|a[o])+h.r/1.05,a[o+1]=p+h.g/1.05,a[o+2]=d,a[o+3]=1/(s.z>10?this.tileToMeter:ap(s,p)),a[o+4]=c[0],a[o+5]=c[1],a[o+6]=c[2]+l,a[o+7]=u[0],a[o+8]=u[1],a[o+9]=u[2],a[o+10]=u[4],a[o+11]=u[5],a[o+12]=u[6],a[o+13]=u[8],a[o+14]=u[9],a[o+15]=u[10],i.instancesEvaluatedElevation[n]=c[2];}}}Rs(Bv,\"ModelBucket\",{omit:[\"layers\"]}),Rs(Ov,\"PerModelAttributes\"),Rs(kv,\"ModelFeature\");const Fv=new ga({visibility:new fa(Pt.layout_model.visibility),\"model-id\":new ma(Pt.layout_model[\"model-id\"])});var Nv={paint:new ga({\"model-opacity\":new fa(Pt.paint_model[\"model-opacity\"]),\"model-rotation\":new ma(Pt.paint_model[\"model-rotation\"]),\"model-scale\":new ma(Pt.paint_model[\"model-scale\"]),\"model-translation\":new ma(Pt.paint_model[\"model-translation\"]),\"model-color\":new ma(Pt.paint_model[\"model-color\"]),\"model-color-mix-intensity\":new ma(Pt.paint_model[\"model-color-mix-intensity\"]),\"model-type\":new fa(Pt.paint_model[\"model-type\"]),\"model-cast-shadows\":new fa(Pt.paint_model[\"model-cast-shadows\"]),\"model-receive-shadows\":new fa(Pt.paint_model[\"model-receive-shadows\"]),\"model-ambient-occlusion-intensity\":new fa(Pt.paint_model[\"model-ambient-occlusion-intensity\"]),\"model-emissive-strength\":new ma(Pt.paint_model[\"model-emissive-strength\"]),\"model-roughness\":new ma(Pt.paint_model[\"model-roughness\"]),\"model-height-based-emissive-strength-multiplier\":new ma(Pt.paint_model[\"model-height-based-emissive-strength-multiplier\"]),\"model-cutoff-fade-range\":new fa(Pt.paint_model[\"model-cutoff-fade-range\"])}),layout:Fv};const Uv=new Float32Array(262144),Vv=new Uint8Array(262144);function jv(e){let t=0;if(e.meshes)for(const i of e.meshes)t=Math.max(t,i.aabb.max[2]);if(e.children)for(const i of e.children)t=Math.max(t,jv(i));return t}const Gv=[\"\",\"wall\",\"door\",\"roof\",\"window\",\"lamp\",\"logo\"];class qv{constructor(e){this.node=e,this.evaluatedRMEA=[[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[.4,1,0,1],[1,0,0,1],[1,0,0,1]],this.hiddenByReplacement=!1,this.evaluatedScale=[1,1,1],this.evaluatedColor=[],this.emissionHeightBasedParams=[],this.feature={type:\"Point\",id:e.id,geometry:[],properties:{height:jv(e)}};}}class Zv{constructor(e,t,i,r){this.nodes=e,this.id=t,this.modelTraits|=1,this.uploaded=!1,this.hasPattern=!1,i&&(this.modelTraits|=4),this.zoom=-1,this.terrainExaggeration=1,this.projection={name:\"mercator\"},this.replacementUpdateTime=0,this.elevationReadFromZ=255,this.brightness=r,this.dirty=!0,this.needsUpload=!1;}update(){console.log(\"Update 3D model bucket\");}populate(){console.log(\"populate 3D model bucket\");}uploadPending(){return !this.uploaded||this.needsUpload}upload(e){if(!this.needsUpload)return;const t=this.getNodesInfo();for(const i of t){const t=i.node;this.uploaded?this.updatePbrBuffer(t):Dv(t,e,!0);}for(const e of t)Rv(e.node);this.uploaded=!0,this.needsUpload=!1;}updatePbrBuffer(e){let t=!1;if(!e.meshes)return t;for(const i of e.meshes)i.pbrBuffer&&(i.pbrBuffer.updateData(i.featureArray),t=!0);return t}needsReEvaluation(e,t,i){const r=e.transform.projectionOptions,n=e.style.getBrightness(),o=this.brightness!==n;return !!(!this.uploaded||this.dirty||r.name!==this.projection.name||$v(i.paint.get(\"model-color\").value,o)||$v(i.paint.get(\"model-color-mix-intensity\").value,o)||$v(i.paint.get(\"model-roughness\").value,o)||$v(i.paint.get(\"model-emissive-strength\").value,o)||$v(i.paint.get(\"model-height-based-emissive-strength-multiplier\").value,o))&&(this.projection=r,this.brightness=n,!0)}evaluateScale(e,t){if(e.transform.zoom===this.zoom)return;this.zoom=e.transform.zoom;const i=this.getNodesInfo(),r=this.id.canonical;for(const e of i){const i=e.feature;e.evaluatedScale=t.paint.get(\"model-scale\").evaluate(i,{},r);}}evaluate(e){const t=this.getNodesInfo();for(const i of t){if(!i.node.meshes)continue;const t=i.feature,r=i.node.meshes&&i.node.meshes[0].featureData,n=i.evaluatedColor[2],o=i.evaluatedRMEA[2],s=this.id.canonical;if(i.hasTranslucentParts=!1,r){for(let r=0;r<Gv.length;r++){const n=Gv[r];n.length&&(t.properties.part=n);const o=e.paint.get(\"model-color\").evaluate(t,{},s),a=e.paint.get(\"model-color-mix-intensity\").evaluate(t,{},s);i.evaluatedColor[r]=[o.r,o.g,o.b,a],i.evaluatedRMEA[r][0]=e.paint.get(\"model-roughness\").evaluate(t,{},s),i.evaluatedRMEA[r][2]=e.paint.get(\"model-emissive-strength\").evaluate(t,{},s),i.evaluatedRMEA[r][3]=o.a,i.emissionHeightBasedParams[r]=e.paint.get(\"model-height-based-emissive-strength-multiplier\").evaluate(t,{},s),!i.hasTranslucentParts&&o.a<1&&(i.hasTranslucentParts=!0);}delete t.properties.part,Hv(i,n!==i.evaluatedColor[2]||o!==i.evaluatedRMEA[2]);}i.evaluatedScale=e.paint.get(\"model-scale\").evaluate(t,{},s),this.updatePbrBuffer(i.node)||(this.needsUpload=!0);}this.dirty=!1;}elevationUpdate(e,t,i,r){const n=e.findDEMTileFor(i);if(n&&(n.tileID.canonical!==this.terrainTile||t!==this.terrainExaggeration)){if(n.dem&&n.tileID.overscaledZ!==this.elevationReadFromZ){this.elevationReadFromZ=n.tileID.overscaledZ;const t=Jm.create(e,i,n);if(!t)return;4&this.modelTraits&&this.updateDEM(e,t,i,r);for(const e of this.getNodesInfo()){const i=e.node;if(!i.footprint||!i.footprint.vertices||!i.footprint.vertices.length)continue;const r=i.footprint.vertices;let n=t.getElevationAt(r[0].x,r[0].y,!0,!0);for(let e=1;e<r.length;e++)n=Math.min(n,t.getElevationAt(r[e].x,r[e].y,!0,!0));i.elevation=n;}}this.terrainTile=n.tileID.canonical,this.terrainExaggeration=t;}}updateDEM(e,t,i,r){let n=t._dem._modifiedForSources[r];if(void 0===n&&(t._dem._modifiedForSources[r]=[],n=t._dem._modifiedForSources[r]),n.includes(i.canonical))return;const o=t._dem.dim;n.push(i.canonical);let s=!1;for(const e of this.getNodesInfo()){const i=e.node;if(!i.footprint||!i.footprint.grid)continue;const r=i.footprint.grid,n=t.tileCoordToPixel(r.min.x,r.min.y),a=t.tileCoordToPixel(r.max.x,r.max.y),l=Math.min(Math.min(o-a.y,n.x),Math.min(n.y,o-a.x));if(l<0)continue;const c=z(l,2,5);let h=Math.max(0,n.x-c),u=Math.max(0,n.y-c),d=Math.min(a.x+c,o-1),p=Math.min(a.y+c,o-1);for(let e=u;e<=p;++e)for(let t=h;t<=d;++t)Vv[e*o+t]=255;let f=0,m=0;for(let e=0;e<r.cellsY;++e)for(let i=0;i<r.cellsX;++i){if(!r.cells[e*r.cellsX+i])continue;const n=t.tileCoordToPixel(r.min.x+i/r.xScale,r.min.y+e/r.yScale),s=t.tileCoordToPixel(r.min.x+(i+1)/r.xScale,r.min.y+(e+1)/r.yScale);for(let e=n.y;e<=Math.min(s.y+1,o-1);++e)for(let i=n.x;i<=Math.min(s.x+1,o-1);++i)255===Vv[e*o+i]&&(Vv[e*o+i]=0,f+=t.getElevationAtPixel(i,e),m++);}const _=f/m;h=Math.max(1,n.x-c),u=Math.max(1,n.y-c),d=Math.min(a.x+c,o-2),p=Math.min(a.y+c,o-2),s=!0;for(let e=u;e<=p;++e)for(let i=h;i<=d;++i)0===Vv[e*o+i]&&(Uv[e*o+i]=t._dem.set(i,e,_));for(let e=1;e<c;++e){h=Math.max(1,n.x-e),u=Math.max(1,n.y-e),d=Math.min(a.x+e,o-2),p=Math.min(a.y+e,o-2);for(let i=u;i<=p;++i)for(let r=h;r<=d;++r){const n=i*o+r;if(255===Vv[n]){let s=0,a=0,l=-1,h=-1;for(let t=-1;t<=1;++t)for(let n=-1;n<=1;++n){const c=(i+t)*o+r+n;if(Vv[c]>=e)continue;const u=Uv[c],d=Math.abs(u);d>a&&(s=u,a=d,l=n,h=t);}if(a>.1){const o=1-(e+.5*Math.abs(l*h))/c;let a=t._dem.get(r,i)+s*o;const u=t._dem.get(r+l,i+h),d=t._dem.get(r-l,i-h,!0);(a-u)*(a-d)>0&&(a=(u+d)/2),Uv[n]=t._dem.set(r,i,a),Vv[n]=e;}}}}}s&&(t._demTile.needsDEMTextureUpload=!0,t._dem._timestamp=dt.now());}getNodesInfo(){if(!this.nodesInfo){this.nodesInfo=[];for(const e of this.nodes)this.nodesInfo.push(new qv(e));this.freeNodes();}return this.nodesInfo}freeNodes(){if(this.nodes){for(const e of this.nodes)Lv(e);this.nodes.splice(0,this.nodes.length);}}destroy(){this.freeNodes();const e=this.getNodesInfo();for(const t of e)Rv(t.node),Lv(t.node);}isEmpty(){return !this.nodes.length}updateReplacement(e,t){if(t.updateTime===this.replacementUpdateTime)return;this.replacementUpdateTime=t.updateTime;const i=t.getReplacementRegionsForTile(e.toUnwrapped()),r=this.getNodesInfo();for(let e=0;e<this.nodesInfo.length;e++){const t=r[e].node;r[e].hiddenByReplacement=!!t.footprint&&!i.find((e=>e.footprint===t.footprint));}}getHeightAtTileCoord(e,t){const i=this.getNodesInfo(),r=[];for(let n=0;n<this.nodesInfo.length;n++){const o=i[n],s=o.node.meshes[0];if(e<s.aabb.min[0]||t<s.aabb.min[1]||e>s.aabb.max[0]||t>s.aabb.max[1])continue;const a=(e-s.aabb.min[0])/(s.aabb.max[0]-s.aabb.min[0])*Sv|0,l=Math.min(63,(t-s.aabb.min[1])/(s.aabb.max[1]-s.aabb.min[1])*Sv|0)*Sv+Math.min(63,a);if(!(s.heightmap[l]<0&&o.node.footprint)){if(o.hiddenByReplacement)return;return {height:s.heightmap[l],maxHeight:o.feature.properties.height,hidden:!1,verticalScale:o.evaluatedScale[2]}}if(o.node.footprint.grid.query(new y(e,t),new y(e,t),r),r.length>0)return {height:void 0,maxHeight:o.feature.properties.height,hidden:o.hiddenByReplacement,verticalScale:o.evaluatedScale[2]}}}}function $v(e,t){return !e.isLightConstant&&t}function Wv(e,t,i,r,n,o,s,a){let l=(61440&t|(61440&t)>>4)>>8,c=(3840&t|(3840&t)>>4)>>4,h=240&t|(240&t)>>4;i[3]>0&&(l=Kr(l,255*i[0],i[3]),c=Kr(c,255*i[1],i[3]),h=Kr(h,255*i[2],i[3]));const u=l<<8|c,d=h<<8|Math.floor(255*r[3]),p=function(e){const t=z(e,0,2);return Math.min(Math.round(.5*t*255),255)}(r[2])<<8|15*r[0]<<4|15*r[1],f=z(n[0],0,1),m=z(n[1],0,1),_=z(n[2],0,1),g=z(n[3],0,1);let y,x,v,b;if(f!==m&&s!==o&&m!==f){const e=s-o;x=1/(e*(m-f)),v=-(o+e*f)/(e*(m-f));const t=z(n[4],-1,1);b=Math.pow(10,t),y=255*_<<8|255*g;}else y=65535,x=0,v=1,b=1;if(e.emplaceBack(u,d,p,y,x,v,b),a){const e=a.length;a.clear();for(let t=0;t<e;t++)a.emplaceBack(u,d,p,y,x,v,b);}}function Hv(e,t){const i=e.node;let r=0;for(const n of i.meshes){if(i.lights&&i.lightMeshIndex===r)continue;if(!n.featureData)continue;n.featureArray=new nl,n.featureArray.reserve(n.featureData.length);let o=t;for(const t of n.featureData){let r;const s=65535&t,a=(15&s)<8?15&s:0,l=t>>16&65535,c=e.evaluatedRMEA[a],h=e.evaluatedColor[a],u=e.emissionHeightBasedParams[a];if(o&&2===a&&i.lights&&(r=new nl,r.resize(10*i.lights.length)),Wv(n.featureArray,l,h,c,u,n.aabb.min[2],n.aabb.max[2],r),r&&o){o=!1;const e=i.meshes[i.lightMeshIndex];e.featureArray=r,e.featureArray._trim();}}n.featureArray._trim(),r++;}}Rs(Zv,\"Tiled3dModelBucket\",{omit:[\"layers\"]}),Rs(qv,\"Tiled3dModelFeature\");class Xv{constructor(){this._updateTime=0,this._sourceIds=[],this._activeRegions=[],this._prevRegions=[];}clear(){this._activeRegions.length>0&&++this._updateTime,this._activeRegions=[],this._prevRegions=[];}get updateTime(){return this._updateTime}getReplacementRegionsForTile(e){const t=Qv(new y(0,0),new y(cr,cr),e),i=[];for(const r of this._activeRegions){if(r.hiddenByOverlap)continue;if(!Jv(t,r))continue;const n=eb(r.min,r.max,e);i.push({min:n.min,max:n.max,sourceId:this._sourceIds[r.priority],footprint:r.footprint,footprintTileId:r.tileId});}return i}setSources(e){this._setSources(e.map((e=>({getSourceId:()=>e.cache.id,getFootprints:()=>{const t=[];for(const i of e.cache.getVisibleCoordinates()){const r=e.cache.getTile(i).buckets[e.layer];if(r)for(const e of r.getNodesInfo()){const r=e.node;r.footprint&&t.push({footprint:r.footprint,id:i.toUnwrapped()});}}return t}}))));}_addSource(e){const t=e.getFootprints();if(0!==t.length){for(const e of t){if(!e.footprint)continue;const t=Qv(e.footprint.min,e.footprint.max,e.id);this._activeRegions.push({min:t.min,max:t.max,hiddenByOverlap:!1,priority:this._sourceIds.length,tileId:e.id,footprint:e.footprint});}this._sourceIds.push(e.getSourceId());}}_computeReplacement(){this._activeRegions.sort(((e,t)=>e.priority-t.priority||Yv(e.min,t.min)||Yv(e.max,t.max)));let e=this._activeRegions.length!==this._prevRegions.length;if(!e){let t=0,i=0;for(;!e&&t!==this._activeRegions.length;){const r=this._activeRegions[t],n=this._prevRegions[i];e=r.priority!==n.priority||!Kv(r,n),++t,++i;}}if(e){++this._updateTime;const e=e=>{const t=this._activeRegions;if(e>=t.length)return e;const i=t[e].priority;for(;e<t.length&&t[e].priority===i;)++e;return e};if(this._sourceIds.length>1){let t=0,i=e(t);for(;t!==i;){let r=t;const n=t;for(;r!==i;){const e=this._activeRegions[r];e.hiddenByOverlap=!1;for(let t=0;t<n;t++){const i=this._activeRegions[t];if(!i.hiddenByOverlap&&Jv(e,i)&&(e.hiddenByOverlap=ib(e.footprint,e.tileId,i.footprint,i.tileId),e.hiddenByOverlap))break}++r;}t=i,i=e(t);}}}}_setSources(e){[this._prevRegions,this._activeRegions]=[this._activeRegions,[]],this._sourceIds=[];for(let t=e.length-1;t>=0;t--)this._addSource(e[t]);this._computeReplacement();}}function Yv(e,t){return e.x-t.x||e.y-t.y}function Kv(e,t){return 0===Yv(e.min,t.min)&&0===Yv(e.max,t.max)}function Jv(e,t){return !(e.min.x>t.max.x||e.max.x<t.min.x||e.min.y>t.max.y||e.max.y<t.min.y)}function Qv(e,t,i){const r=1/cr,n=1/(1<<i.canonical.z),o=(t.x*r+i.canonical.x)*n+i.wrap,s=(t.y*r+i.canonical.y)*n;return {min:new y((e.x*r+i.canonical.x)*n+i.wrap,(e.y*r+i.canonical.y)*n),max:new y(o,s)}}function eb(e,t,i){const r=1<<i.canonical.z,n=((t.x-i.wrap)*r-i.canonical.x)*cr,o=(t.y*r-i.canonical.y)*cr;return {min:new y(((e.x-i.wrap)*r-i.canonical.x)*cr,(e.y*r-i.canonical.y)*cr),max:new y(n,o)}}function tb(e,t,i,r,n,o,s){const a=e.indices,l=e.vertices,c=[];for(let h=r;h<r+n;h+=3){const r=t[i[h+0]+o],n=t[i[h+1]+o],u=t[i[h+2]+o],d=Math.min(r.x,n.x,u.x),p=Math.max(r.x,n.x,u.x),f=Math.min(r.y,n.y,u.y),m=Math.max(r.y,n.y,u.y);c.length=0,e.grid.query(new y(d,f),new y(p,m),c);for(let e=0;e<c.length;e++){const t=c[e];if(Lp(l[a[3*t+0]],l[a[3*t+1]],l[a[3*t+2]],r,n,u,s))return !0}}return !1}function ib(e,t,i,r){if(!e||!i)return !1;let n=e.vertices;if(!t.canonical.equals(r.canonical)||t.wrap!==r.wrap){if(i.vertices.length<e.vertices.length)return ib(i,r,e,t);const o=t.canonical,s=r.canonical,a=Math.pow(2,s.z-o.z);n=e.vertices.map((e=>new y(e.x*o.x*cr*a-s.x*cr,e.y*o.y*cr*a-s.y*cr)));}return tb(i,n,e.indices,0,e.indices.length,0,0)}const rb=hm.types,nb=[\"fill-extrusion-base\",\"fill-extrusion-height\",\"fill-extrusion-color\",\"fill-extrusion-pattern\",\"fill-extrusion-flood-light-wall-radius\"],ob=[\"fill-extrusion-flood-light-ground-radius\"],sb=Math.pow(2,13),ab=Math.pow(2,15)-1,lb=new y(0,1),cb=2147483648;function hb(e,t,i,r,n,o,s,a){e.emplaceBack((t<<1)+s,(i<<1)+o,(Math.floor(r*sb)<<1)+n,Math.round(a));}function ub(e,t,i,r,n,o){e.emplaceBack(t.x,t.y,(i.x<<1)+r,(i.y<<1)+n,o);}function db(e,t,i){const r=16384;e.emplaceBack(t.x,t.y,t.z,i[0]*r,i[1]*r,i[2]*r);}class pb{constructor(){this.vertexOffset=0,this.vertexCount=0,this.indexOffset=0,this.indexCount=0;}}class fb{constructor(){this.centroidXY=new y(0,0),this.vertexArrayOffset=0,this.vertexCount=0,this.groundVertexArrayOffset=0,this.groundVertexCount=0,this.flags=0,this.footprintSegIdx=-1,this.footprintSegLen=0,this.polygonSegIdx=-1,this.polygonSegLen=0,this.min=new y(Number.MAX_VALUE,Number.MAX_VALUE),this.max=new y(-Number.MAX_VALUE,-Number.MAX_VALUE),this.height=0;}span(){return new y(this.max.x-this.min.x,this.max.y-this.min.y)}}class mb{constructor(){this.acc=new y(0,0),this.accCount=0,this.centroidDataIndex=0;}startRing(e,t){e.min.x===Number.MAX_VALUE&&(e.min.x=e.max.x=t.x,e.min.y=e.max.y=t.y);}appendEdge(e,t,i){this.accCount++,this.acc._add(t);let r=!!this.borders;t.x<e.min.x?(e.min.x=t.x,r=!0):t.x>e.max.x&&(e.max.x=t.x,r=!0),t.y<e.min.y?(e.min.y=t.y,r=!0):t.y>e.max.y&&(e.max.y=t.y,r=!0),((0===t.x||t.x===cr)&&t.x===i.x)!=((0===t.y||t.y===cr)&&t.y===i.y)&&this.processBorderOverlap(t,i),r&&this.checkBorderIntersection(t,i);}checkBorderIntersection(e,t){t.x<0!=e.x<0&&this.addBorderIntersection(0,Kr(t.y,e.y,(0-t.x)/(e.x-t.x))),t.x>cr!=e.x>cr&&this.addBorderIntersection(1,Kr(t.y,e.y,(cr-t.x)/(e.x-t.x))),t.y<0!=e.y<0&&this.addBorderIntersection(2,Kr(t.x,e.x,(0-t.y)/(e.y-t.y))),t.y>cr!=e.y>cr&&this.addBorderIntersection(3,Kr(t.x,e.x,(cr-t.y)/(e.y-t.y)));}addBorderIntersection(e,t){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const i=this.borders[e];t<i[0]&&(i[0]=t),t>i[1]&&(i[1]=t);}processBorderOverlap(e,t){if(e.x===t.x){if(e.y===t.y)return;const i=0===e.x?0:1;this.addBorderIntersection(i,t.y),this.addBorderIntersection(i,e.y);}else {const i=0===e.y?2:3;this.addBorderIntersection(i,t.x),this.addBorderIntersection(i,e.x);}}centroid(){return 0===this.accCount?new y(0,0):new y(Math.floor(Math.max(0,this.acc.x)/this.accCount),Math.floor(Math.max(0,this.acc.y)/this.accCount))}intersectsCount(){return this.borders?this.borders.reduce(((e,t)=>e+ +(t[0]!==Number.MAX_VALUE)),0):0}}function _b(e,t){const i=e.add(t)._unit(),r=z(e.x*i.x+e.y*i.y,-1,1);var n,o,s;return n=Math.acos(r),Math.min(4,Math.max(-4,Math.tan(n)))/4*ab*((o=e).x*(s=t).y-o.y*s.x<0?-1:1)}const gb=[e=>e.x<0,e=>e.x>cr,e=>e.y<0,e=>e.y>cr];function yb(e,t,i,r){const n=[4];if(0===r)return n;i._mult(r);const o=e.sub(i),s=t.sub(i),a=[e,t,o,s];for(let e=0;e<4;e++)for(const t of a)if(gb[e](t)){n.push(e);break}return n}class xb{constructor(e){this.vertexArray=new Ra,this.indexArray=new Wa,this.programConfigurations=new ec(e.layers,e.zoom,(e=>ob.includes(e))),this._segments=new xl,this.hiddenByLandmarkVertexArray=new ol,this._segmentToGroundQuads={},this._segmentToGroundQuads[0]=[],this._segmentToRegionTriCounts={},this._segmentToRegionTriCounts[0]=[0,0,0,0,0],this.regionSegments={},this.regionSegments[4]=new xl;}getDefaultSegment(){return this.regionSegments[4]}hasData(){return 0!==this.vertexArray.length}addData(e,t,i,r=!1){const n=e.length;if(n>2){let o=Math.max(0,this._segments.get().length-1);const s=this._segments._prepareSegment(4*n,this.vertexArray.length,2*this._segmentToGroundQuads[o].length);let a;o!==this._segments.get().length-1&&(o++,this._segmentToGroundQuads[o]=[],this._segmentToRegionTriCounts[o]=[0,0,0,0,0]);{const t=e[0],i=e[1];a=_b(t.sub(e[n-1])._perp()._unit(),i.sub(t)._perp()._unit());}for(let l=0;l<n;l++){const c=l===n-1?0:l+1,h=e[l],u=e[c],d=e[c===n-1?0:c+1],p=u.sub(h)._perp()._unit(),f=_b(p,d.sub(u)._perp()._unit()),m=a,_=f;if(Eb(h,u,t)||r&&Mb(h,t)&&Mb(u,t)){a=f;continue}const g=s.vertexLength;ub(this.vertexArray,h,u,1,1,m),ub(this.vertexArray,h,u,1,0,m),ub(this.vertexArray,h,u,0,1,_),ub(this.vertexArray,h,u,0,0,_),s.vertexLength+=4;const y=yb(h,u,p,i);for(const e of y)this._segmentToGroundQuads[o].push({id:g,region:e}),this._segmentToRegionTriCounts[o][e]+=2,s.primitiveLength+=2;a=f;}}}prepareBorderSegments(){if(!this.hasData())return;const e=this._segments.get(),t=e.length;for(let e=0;e<t;e++)this._segmentToGroundQuads[e].sort(((e,t)=>e.region-t.region));for(let i=0;i<t;i++){const t=this._segmentToGroundQuads[i],r=e[i],n=this._segmentToRegionTriCounts[i];n.reduce(((e,t)=>e+t),0);let o=0;for(let e=0;e<=4;e++){const t=n[e];if(0!==t){let i=this.regionSegments[e];i||(i=this.regionSegments[e]=new xl);const n={vertexOffset:r.vertexOffset,primitiveOffset:r.primitiveOffset+o,vertexLength:r.vertexLength,primitiveLength:t};i.get().push(n);}o+=t;}for(let e=0;e<t.length;e++){const i=t[e].id;this.indexArray.emplaceBack(i,i+1,i+3),this.indexArray.emplaceBack(i,i+3,i+2);}}this._segmentToGroundQuads=null,this._segmentToRegionTriCounts=null,this._segments.destroy(),this._segments=null;}addPaintPropertiesData(e,t,i,r,n,o){this.hasData()&&this.programConfigurations.populatePaintArrays(this.vertexArray.length,e,t,i,r,n,o);}upload(e){this.hasData()&&(this.vertexBuffer=e.createVertexBuffer(this.vertexArray,$f.members),this.indexBuffer=e.createIndexBuffer(this.indexArray));}uploadPaintProperties(e){this.hasData()&&this.programConfigurations.upload(e);}update(e,t,i,r,n,o){this.hasData()&&this.programConfigurations.updatePaintArrays(e,t,i,r,n,o);}updateHiddenByLandmark(e){if(!this.hasData())return;const t=e.groundVertexCount+e.groundVertexArrayOffset;if(0===e.groundVertexCount)return;const i=e.flags&cb?1:0;for(let r=e.groundVertexArrayOffset;r<t;++r)this.hiddenByLandmarkVertexArray.emplace(r,i);this._needsHiddenByLandmarkUpdate=!0;}uploadHiddenByLandmark(e){this.hasData()&&this._needsHiddenByLandmarkUpdate&&(!this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexArray.length>0?this.hiddenByLandmarkVertexBuffer=e.createVertexBuffer(this.hiddenByLandmarkVertexArray,Hf.members,!0):this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexBuffer.updateData(this.hiddenByLandmarkVertexArray),this._needsHiddenByLandmarkUpdate=!1);}destroy(){if(this.vertexBuffer){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexBuffer.destroy(),this._segments&&this._segments.destroy(),this.programConfigurations.destroy();for(let e=0;e<=4;e++){const t=this.regionSegments[e];t&&t.destroy();}}}}class vb{constructor(e){this.zoom=e.zoom,this.canonical=e.canonical,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.fqid)),this.index=e.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=e.projection,this.activeReplacements=[],this.replacementUpdateTime=0,this.centroidData=[],this.footprintIndices=new Wa,this.footprintVertices=new za,this.footprintSegments=[],this.layoutVertexArray=new Da,this.centroidVertexArray=new _l,this.indexArray=new Wa,this.programConfigurations=new ec(e.layers,e.zoom,(e=>nb.includes(e))),this.segments=new xl,this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id)),this.groundEffect=new xb(e),this.maxHeight=0,this.partLookup={},this.triangleSubSegments=[],this.polygonSegments=[];}populate(e,t,i,r){this.features=[],this.hasPattern=Uf(\"fill-extrusion\",this.layers,t),this.featuresOnBorder=[],this.borderFeatureIndices=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=ap(i),this.edgeRadius=this.layers[0].layout.get(\"fill-extrusion-edge-radius\")/this.tileToMeter;for(const{feature:n,id:o,index:s,sourceLayerIndex:a}of e){const e=this.layers[0]._featureFilter.needGeometry,l=gp(n,e);if(!this.layers[0]._featureFilter.filter(new oa(this.zoom),l,i))continue;const c={id:o,sourceLayerIndex:a,index:s,geometry:e?l.geometry:_p(n,i,r),properties:n.properties,type:n.type,patterns:{}},h=this.layoutVertexArray.length;this.hasPattern?this.features.push(Vf(\"fill-extrusion\",this.layers,c,this.zoom,t)):this.addFeature(c,c.geometry,s,i,{},t.availableImages,r,t.brightness),t.featureIndex.insert(n,c.geometry,s,a,this.index,h);}this.sortBorders(),\"mercator\"===this.projection.name&&this.splitToSubtiles(),this.groundEffect.prepareBorderSegments(),this.polygonSegments.length=0;}addFeatures(e,t,i,r,n,o){for(const e of this.features){const{geometry:s}=e;this.addFeature(e,s,e.index,t,i,r,n,o);}this.sortBorders(),\"mercator\"===this.projection.name&&this.splitToSubtiles();}update(e,t,i,r,n){const o=0!==Object.keys(e).length;if(o&&!this.stateDependentLayers.length)return;const s=o?this.stateDependentLayers:this.layers;this.programConfigurations.updatePaintArrays(e,t,s,i,r,n),this.groundEffect.update(e,t,s,i,r,n);}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return !this.uploaded||this.programConfigurations.needsUpload||this.groundEffect.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Yf),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=e.createVertexBuffer(this.layoutVertexExtArray,Xf.members,!0)),this.groundEffect.upload(e)),this.groundEffect.uploadPaintProperties(e),this.programConfigurations.upload(e),this.uploaded=!0;}uploadCentroid(e){this.groundEffect.uploadHiddenByLandmark(e),this.needsCentroidUpdate&&(!this.centroidVertexBuffer&&this.centroidVertexArray.length>0?this.centroidVertexBuffer=e.createVertexBuffer(this.centroidVertexArray,Wf.members,!0):this.centroidVertexBuffer&&this.centroidVertexBuffer.updateData(this.centroidVertexArray),this.needsCentroidUpdate=!1);}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.groundEffect.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy());}addFeature(e,t,i,r,n,o,s,a){const l=this.layers[0].paint.get(\"fill-extrusion-flood-light-ground-radius\").evaluate(e,{})/this.tileToMeter,c=[new y(0,0),new y(cr,cr)],h=s.projection,u=\"globe\"===h.name,d=\"Polygon\"===rb[e.type],p=new mb;p.centroidDataIndex=this.centroidData.length;const f=new fb,m=this.layers[0].paint.get(\"fill-extrusion-base\").evaluate(e,{},r)<=0,_=this.layers[0].paint.get(\"fill-extrusion-height\").evaluate(e,{},r);f.height=_,f.vertexArrayOffset=this.layoutVertexArray.length,f.groundVertexArrayOffset=this.groundEffect.vertexArray.length,u&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new Fa);const g=Ff(t,500);for(let e=g.length-1;e>=0;e--){const t=g[e];(0===t.length||(x=t[0]).every((e=>e.x<=0))||x.every((e=>e.x>=cr))||x.every((e=>e.y<=0))||x.every((e=>e.y>=cr)))&&g.splice(e,1);}var x;let v;if(u)v=Cb(g,c,r);else {v=[];for(const e of g)v.push({polygon:e,bounds:c});}const b=d?this.edgeRadius:0,w=b>0&&this.zoom<17,T=(e,t)=>{if(0===e.length)return !1;const i=e[e.length-1];return t.x===i.x&&t.y===i.y};for(const{polygon:e,bounds:t}of v){let i=0,n=0;for(const t of e)d&&!t[0].equals(t[t.length-1])&&t.push(t[0]),n+=d?t.length-1:t.length;const o=this.segments.prepareSegment((d?5:4)*n,this.layoutVertexArray,this.indexArray);f.footprintSegIdx<0&&(f.footprintSegIdx=this.footprintSegments.length),f.polygonSegIdx<0&&(f.polygonSegIdx=this.polygonSegments.length);const s={triangleArrayOffset:this.indexArray.length,triangleCount:0,triangleSegIdx:this.segments.segments.length-1},a=new pb;if(a.vertexOffset=this.footprintVertices.length,a.indexOffset=3*this.footprintIndices.length,a.ringIndices=[],d){const n=[],s=[];i=o.vertexLength;for(let i=0;i<e.length;i++){const c=e[i];c.length&&0!==i&&s.push(n.length/2);const d=[];let p,f;p=c[1].sub(c[0])._perp()._unit(),a.ringIndices.push(c.length-1);for(let e=1;e<c.length;e++){const t=c[e],i=c[e===c.length-1?1:e+1],s=t.clone();if(b){f=i.sub(t)._perp()._unit();const e=p.add(f)._unit(),r=b*Math.min(4,1/(p.x*e.x+p.y*e.y));s.x+=r*e.x,s.y+=r*e.y,s.x=Math.round(s.x),s.y=Math.round(s.y),p=f;}!m||0!==b&&!w||T(d,s)||d.push(s),hb(this.layoutVertexArray,s.x,s.y,0,0,1,1,0),o.vertexLength++,this.footprintVertices.emplaceBack(t.x,t.y),n.push(t.x,t.y),u&&db(this.layoutVertexExtArray,h.projectTilePoint(s.x,s.y,r),h.upVector(r,s.x,s.y));}m&&(0===b||w)&&(0!==d.length&&T(d,d[0])&&d.pop(),this.groundEffect.addData(d,t,l));}const c=Bf(n,s);for(let e=0;e<c.length;e+=3)this.footprintIndices.emplaceBack(a.vertexOffset+c[e+0],a.vertexOffset+c[e+1],a.vertexOffset+c[e+2]),this.indexArray.emplaceBack(i+c[e],i+c[e+2],i+c[e+1]),o.primitiveLength++;a.indexCount+=c.length,a.vertexCount+=this.footprintVertices.length-a.vertexOffset;}for(let n=0;n<e.length;n++){const s=e[n];p.startRing(f,s[0]);let a=s.length>4&&Ab(s[s.length-2],s[0],s[1]),c=b?wb(s[s.length-2],s[0],s[1],b):0;const _=[];let g,y,x;y=s[1].sub(s[0])._perp()._unit();let v=!0;for(let e=1,n=0;e<s.length;e++){let l=s[e-1],d=s[e];const w=s[e===s.length-1?1:e+1];if(p.appendEdge(f,d,l),Eb(d,l,t)){b&&(y=w.sub(d)._perp()._unit(),v=!v);continue}const E=d.sub(l)._perp(),M=E.x/(Math.abs(E.x)+Math.abs(E.y)),A=E.y>0?1:0,S=l.dist(d);if(n+S>32768&&(n=0),b){x=w.sub(d)._perp()._unit();let e=Tb(l,d,w,bb(y,x),b);isNaN(e)&&(e=0);const t=d.sub(l)._unit();l=l.add(t.mult(c))._round(),d=d.add(t.mult(-e))._round(),c=e,y=x,m&&this.zoom>=17&&(T(_,l)||_.push(l),T(_,d)||_.push(d));}const I=o.vertexLength,C=s.length>4&&Ab(l,d,w);let z=Sb(n,a,v);if(hb(this.layoutVertexArray,l.x,l.y,M,A,0,0,z),hb(this.layoutVertexArray,l.x,l.y,M,A,0,1,z),n+=S,z=Sb(n,C,!v),a=C,hb(this.layoutVertexArray,d.x,d.y,M,A,0,0,z),hb(this.layoutVertexArray,d.x,d.y,M,A,0,1,z),o.vertexLength+=4,this.indexArray.emplaceBack(I+0,I+1,I+2),this.indexArray.emplaceBack(I+1,I+3,I+2),o.primitiveLength+=2,b){const r=i+(1===e?s.length-2:e-2),n=1===e?i:r+1;if(this.indexArray.emplaceBack(I+1,r,I+3),this.indexArray.emplaceBack(r,n,I+3),o.primitiveLength+=2,void 0===g&&(g=I),!Eb(w,s[e],t)){const t=e===s.length-1?g:o.vertexLength;this.indexArray.emplaceBack(I+2,I+3,t),this.indexArray.emplaceBack(I+3,t+1,t),this.indexArray.emplaceBack(I+3,n,t+1),o.primitiveLength+=3;}v=!v;}if(u){const e=this.layoutVertexExtArray,t=h.projectTilePoint(l.x,l.y,r),i=h.projectTilePoint(d.x,d.y,r),n=h.upVector(r,l.x,l.y),o=h.upVector(r,d.x,d.y);db(e,t,n),db(e,t,n),db(e,i,o),db(e,i,o);}}d&&(i+=s.length-1),m&&b&&this.zoom>=17&&(0!==_.length&&T(_,_[0])&&_.pop(),this.groundEffect.addData(_,t,l,b>0));}this.footprintSegments.push(a),s.triangleCount=this.indexArray.length-s.triangleArrayOffset,this.polygonSegments.push(s),++f.footprintSegLen,++f.polygonSegLen;}if(f.vertexCount=this.layoutVertexArray.length-f.vertexArrayOffset,f.groundVertexCount=this.groundEffect.vertexArray.length-f.groundVertexArrayOffset,0!==f.vertexCount){if(f.centroidXY=p.borders?lb:this.encodeCentroid(p,f),this.centroidData.push(f),p.borders){this.featuresOnBorder.push(p);const e=this.featuresOnBorder.length-1;for(let t=0;t<p.borders.length;t++)p.borders[t][0]!==Number.MAX_VALUE&&this.borderFeatureIndices[t].push(e);}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,i,n,o,r,a),this.groundEffect.addPaintPropertiesData(e,i,n,o,r,a),this.maxHeight=Math.max(this.maxHeight,_);}}sortBorders(){for(let e=0;e<this.borderFeatureIndices.length;e++)this.borderFeatureIndices[e].sort(((t,i)=>this.featuresOnBorder[t].borders[e][0]-this.featuresOnBorder[i].borders[e][0]));}splitToSubtiles(){const e=[];for(let t=0;t<this.centroidData.length;t++){const i=this.centroidData[t],r=+(i.min.y+i.max.y>cr),n=2*r+(+(i.min.x+i.max.x>cr)^r);for(let r=0;r<i.polygonSegLen;r++){const o=i.polygonSegIdx+r;e.push({centroidIdx:t,subtile:n,polygonSegmentIdx:o,triangleSegmentIdx:this.polygonSegments[o].triangleSegIdx});}}const t=new Wa;e.sort(((e,t)=>e.triangleSegmentIdx===t.triangleSegmentIdx?e.subtile-t.subtile:e.triangleSegmentIdx-t.triangleSegmentIdx));let i=0,r=0,n=0;for(const t of e){if(t.triangleSegmentIdx!==i)break;n++;}const o=e.length;for(;r!==e.length;){i=e[r].triangleSegmentIdx;let s=0,a=r,l=r;for(let t=a;t<n&&e[t].subtile===s;t++)l++;for(;a!==n;){const r=e[a];s=r.subtile;const o=this.centroidData[r.centroidIdx].min.clone(),c=this.centroidData[r.centroidIdx].max.clone(),h={vertexOffset:this.segments.segments[i].vertexOffset,primitiveOffset:t.length,vertexLength:this.segments.segments[i].vertexLength,primitiveLength:0,sortKey:void 0,vaos:{}};for(let i=a;i<l;i++){const r=e[i],n=this.polygonSegments[r.polygonSegmentIdx],s=this.centroidData[r.centroidIdx].min,a=this.centroidData[r.centroidIdx].max,l=this.indexArray.uint16;for(let e=n.triangleArrayOffset;e<n.triangleArrayOffset+n.triangleCount;e++)t.emplaceBack(l[3*e],l[3*e+1],l[3*e+2]);h.primitiveLength+=n.triangleCount,o.x=Math.min(o.x,s.x),o.y=Math.min(o.y,s.y),c.x=Math.max(c.x,a.x),c.y=Math.max(c.y,a.y);}h.primitiveLength>0&&this.triangleSubSegments.push({segment:h,min:o,max:c}),a=l;for(let t=a;t<n&&e[t].subtile===e[a].subtile;t++)l++;}r=n;for(let t=r;t<o&&e[t].triangleSegmentIdx===e[r].triangleSegmentIdx;t++)n++;}t._trim(),this.indexArray=t;}getVisibleSegments(e,t,i){let r=0,n=0;const o=1<<e.canonical.z;if(t){const i=t.getMinMaxForTile(e);i&&(r=i.min,n=i.max);}n+=this.maxHeight;const s=e.toUnwrapped();let a;const l=[s.canonical.x/o+s.wrap,s.canonical.y/o],c=[(s.canonical.x+1)/o+s.wrap,(s.canonical.y+1)/o],h=new xl,u=(e,t,i)=>[e[0]*(1-i[0])+t[0]*i[0],e[1]*(1-i[1])+t[1]*i[1]],d=[],p=[];for(const e of this.triangleSubSegments){d[0]=e.min.x/cr,d[1]=e.min.y/cr,p[0]=e.max.x/cr,p[1]=e.max.y/cr;const t=u(l,c,d),o=u(l,c,p);if(0===new ed([t[0],t[1],r],[o[0],o[1],n]).intersectsPrecise(i)){a&&(h.segments.push(a),a=void 0);continue}const s=e.segment;a&&a.vertexOffset!==s.vertexOffset&&(h.segments.push(a),a=void 0),a?(a.vertexLength+=s.vertexLength,a.primitiveLength+=s.primitiveLength):a={vertexOffset:s.vertexOffset,primitiveLength:s.primitiveLength,vertexLength:s.vertexLength,primitiveOffset:s.primitiveOffset,sortKey:void 0,vaos:{}};}return a&&h.segments.push(a),h}encodeCentroid(e,t){const i=e.centroid(),r=t.span(),n=Math.min(7,Math.round(r.x*this.tileToMeter/10)),o=Math.min(7,Math.round(r.y*this.tileToMeter/10));return new y(z(i.x,1,cr-1)<<3|n,z(i.y,1,cr-1)<<3|o)}showCentroid(e){const t=this.centroidData[e.centroidDataIndex];t.flags&=cb,t.centroidXY.x=0,t.centroidXY.y=0,this.writeCentroidToBuffer(t);}writeCentroidToBuffer(e){this.groundEffect.updateHiddenByLandmark(e);const t=e.vertexArrayOffset,i=e.vertexCount+e.vertexArrayOffset,r=e.flags&cb?lb:e.centroidXY,n=this.centroidVertexArray.geta_centroid_pos0(t);if(this.centroidVertexArray.geta_centroid_pos1(t)!==r.y||n!==r.x){for(let e=t;e<i;++e)this.centroidVertexArray.emplace(e,r.x,r.y);this.needsCentroidUpdate=!0;}}createCentroidsBuffer(){this.centroidVertexArray.resize(this.layoutVertexArray.length),this.groundEffect.hiddenByLandmarkVertexArray.resize(this.groundEffect.vertexArray.length);for(const e of this.centroidData)this.writeCentroidToBuffer(e);}updateReplacement(e,t){if(t.updateTime===this.replacementUpdateTime)return;this.replacementUpdateTime=t.updateTime;const i=t.getReplacementRegionsForTile(e.toUnwrapped());if(function(e,t){if(e.length!==t.length)return !1;for(let i=0;i<e.length;i++)if(e[i].sourceId!==t[i].sourceId||!Kv(e[i],t[i]))return !1;return !0}(this.activeReplacements,i))return;if(this.activeReplacements=i,0===this.centroidVertexArray.length)this.createCentroidsBuffer();else for(const e of this.centroidData)e.flags&=2147483647;const r=[];for(const t of this.activeReplacements){const i=Math.pow(2,t.footprintTileId.canonical.z-e.canonical.z);for(const n of this.centroidData)if(!(n.flags&cb||t.min.x>n.max.x||n.min.x>t.max.x||t.min.y>n.max.y||n.min.y>t.max.y))for(let o=0;o<n.footprintSegLen;o++){const s=this.footprintSegments[n.footprintSegIdx+o];if(r.length=0,zb(this.footprintVertices,s.vertexOffset,s.vertexCount,t.footprintTileId.canonical,e.canonical,r),tb(t.footprint,r,this.footprintIndices.uint16,s.indexOffset,s.indexCount,-s.vertexOffset,-i)){n.flags|=cb;break}}}for(const e of this.centroidData)this.writeCentroidToBuffer(e);this.borderDoneWithNeighborZ=[-1,-1,-1,-1];}footprintContainsPoint(e,t,i){let r=!1;for(let n=0;n<i.footprintSegLen;n++){const o=this.footprintSegments[i.footprintSegIdx+n];let s=0;for(const i of o.ringIndices){for(let n=s,a=i+s-1;n<i+s;a=n++){const i=this.footprintVertices.int16[2*(n+o.vertexOffset)+0],s=this.footprintVertices.int16[2*(n+o.vertexOffset)+1],l=this.footprintVertices.int16[2*(a+o.vertexOffset)+1];s>t!=l>t&&e<(this.footprintVertices.int16[2*(a+o.vertexOffset)+0]-i)*(t-s)/(l-s)+i&&(r=!r);}s=i;}}return r}getHeightAtTileCoord(e,t){let i=Number.NEGATIVE_INFINITY,r=!0;const n=4*(e+cr)*cr+(t+cr);if(this.partLookup.hasOwnProperty(n)){const e=this.partLookup[n];return e?{height:e.height,hidden:!!(e.flags&cb)}:void 0}for(const o of this.centroidData)e>o.max.x||o.min.x>e||t>o.max.y||o.min.y>t||this.footprintContainsPoint(e,t,o)&&o&&o.height>i&&(i=o.height,this.partLookup[n]=o,r=!!(o.flags&cb));if(i!==Number.NEGATIVE_INFINITY)return {height:i,hidden:r};this.partLookup[n]=void 0;}}function bb(e,t){const i=e.add(t)._unit();return e.x*i.x+e.y*i.y}function wb(e,t,i,r){const n=t.sub(e)._perp()._unit(),o=i.sub(t)._perp()._unit();return Tb(e,t,i,bb(n,o),r)}function Tb(e,t,i,r,n){const o=Math.sqrt(1-r*r);return Math.min(e.dist(t)/3,t.dist(i)/3,n*o/r)}function Eb(e,t,i){return e.x<i[0].x&&t.x<i[0].x||e.x>i[1].x&&t.x>i[1].x||e.y<i[0].y&&t.y<i[0].y||e.y>i[1].y&&t.y>i[1].y}function Mb(e,t){return e.x<t[0].x||e.x>t[1].x||e.y<t[0].y||e.y>t[1].y}function Ab(e,t,i){if(e.x<0||e.x>=cr||t.x<0||t.x>=cr||i.x<0||i.x>=cr)return !1;const r=i.sub(t),n=r.perp(),o=e.sub(t);return (r.x*o.x+r.y*o.y)/Math.sqrt((r.x*r.x+r.y*r.y)*(o.x*o.x+o.y*o.y))>-.866&&n.x*o.x+n.y*o.y<0}function Sb(e,t,i){const r=t?2|e:-3&e;return i?1|r:-2&r}function Ib(){const e=Math.PI/32,t=Math.tan(e),i=qd;return i*Math.sqrt(1+2*t*t)-i}function Cb(e,t,i){const r=1<<i.z,n=ep(i.x/r),o=ep((i.x+1)/r),s=tp(i.y/r),a=tp((i.y+1)/r);return function(e,t,i,r,n=0,o){const s=[];if(!e.length||!i||!r)return s;const a=(e,t)=>{for(const i of e)s.push({polygon:i,bounds:t});},l=Math.ceil(Math.log2(i)),c=Math.ceil(Math.log2(r)),h=l-c,u=[];for(let e=0;e<Math.abs(h);e++)u.push(h>0?0:1);for(let e=0;e<Math.min(l,c);e++)u.push(0),u.push(1);let d=e;if(d=um(d,t[0].y-n,t[1].y+n,1),d=um(d,t[0].x-n,t[1].x+n,0),!d.length)return s;const p=[];for(u.length?p.push({polygons:d,bounds:t,depth:0}):a(d,t);p.length;){const e=p.pop(),t=e.depth,i=u[t],r=e.bounds[0],s=e.bounds[1],l=0===i?r.x:r.y,c=0===i?s.x:s.y,h=o?o(i,l,c):.5*(l+c),d=um(e.polygons,l-n,h+n,i),f=um(e.polygons,h-n,c+n,i);if(d.length){const e=[r,new y(0===i?h:s.x,1===i?h:s.y)];u.length>t+1?p.push({polygons:d,bounds:e,depth:t+1}):a(d,e);}if(f.length){const e=[new y(0===i?h:r.x,1===i?h:r.y),s];u.length>t+1?p.push({polygons:f,bounds:e,depth:t+1}):a(f,e);}}return s}(e,t,Math.ceil((o-n)/11.25),Math.ceil((s-a)/11.25),1,((e,t,n)=>{if(0===e)return .5*(t+n);{const e=tp((i.y+t/cr)/r);return (Jd(.5*(tp((i.y+n/cr)/r)+e))*r-i.y)*cr}}))}function zb(e,t,i,r,n,o){const s=Math.pow(2,r.z-n.z);for(let a=0;a<i;a++){let i=e.int16[2*(a+t)+0],l=e.int16[2*(a+t)+1];i=(i+n.x*cr)*s-r.x*cr,l=(l+n.y*cr)*s-r.y*cr,o.push(new y(i,l));}}Rs(vb,\"FillExtrusionBucket\",{omit:[\"layers\",\"features\"]}),Rs(fb,\"PartData\"),Rs(pb,\"FootprintSegment\"),Rs(mb,\"BorderCentroidData\"),Rs(xb,\"GroundEffect\");const Pb=new ga({visibility:new fa(Pt[\"layout_fill-extrusion\"].visibility),\"fill-extrusion-edge-radius\":new fa(Pt[\"layout_fill-extrusion\"][\"fill-extrusion-edge-radius\"])});var Db={paint:new ga({\"fill-extrusion-opacity\":new fa(Pt[\"paint_fill-extrusion\"][\"fill-extrusion-opacity\"]),\"fill-extrusion-color\":new ma(Pt[\"paint_fill-extrusion\"][\"fill-extrusion-color\"]),\"fill-extrusion-translate\":new fa(Pt[\"paint_fill-extrusion\"][\"fill-extrusion-translate\"]),\"fill-extrusion-translate-anchor\":new fa(Pt[\"paint_fill-extrusion\"][\"fill-extrusion-translate-anchor\"]),\"fill-extrusion-pattern\":new ma(Pt[\"paint_fill-extrusion\"][\"fill-extrusion-pattern\"]),\"fill-extrusion-height\":new ma(Pt[\"paint_fill-extrusion\"][\"fill-extrusion-height\"]),\"fill-extrusion-base\":new ma(Pt[\"paint_fill-extrusion\"][\"fill-extrusion-base\"]),\"fill-extrusion-vertical-gradient\":new fa(Pt[\"paint_fill-extrusion\"][\"fill-extrusion-vertical-gradient\"]),\"fill-extrusion-ambient-occlusion-intensity\":new fa(Pt[\"paint_fill-extrusion\"][\"fill-extrusion-ambient-occlusion-intensity\"]),\"fill-extrusion-ambient-occlusion-radius\":new fa(Pt[\"paint_fill-extrusion\"][\"fill-extrusion-ambient-occlusion-radius\"]),\"fill-extrusion-ambient-occlusion-wall-radius\":new fa(Pt[\"paint_fill-extrusion\"][\"fill-extrusion-ambient-occlusion-wall-radius\"]),\"fill-extrusion-ambient-occlusion-ground-radius\":new fa(Pt[\"paint_fill-extrusion\"][\"fill-extrusion-ambient-occlusion-ground-radius\"]),\"fill-extrusion-ambient-occlusion-ground-attenuation\":new fa(Pt[\"paint_fill-extrusion\"][\"fill-extrusion-ambient-occlusion-ground-attenuation\"]),\"fill-extrusion-flood-light-color\":new fa(Pt[\"paint_fill-extrusion\"][\"fill-extrusion-flood-light-color\"]),\"fill-extrusion-flood-light-intensity\":new fa(Pt[\"paint_fill-extrusion\"][\"fill-extrusion-flood-light-intensity\"]),\"fill-extrusion-flood-light-wall-radius\":new ma(Pt[\"paint_fill-extrusion\"][\"fill-extrusion-flood-light-wall-radius\"]),\"fill-extrusion-flood-light-ground-radius\":new ma(Pt[\"paint_fill-extrusion\"][\"fill-extrusion-flood-light-ground-radius\"]),\"fill-extrusion-flood-light-ground-attenuation\":new fa(Pt[\"paint_fill-extrusion\"][\"fill-extrusion-flood-light-ground-attenuation\"]),\"fill-extrusion-vertical-scale\":new fa(Pt[\"paint_fill-extrusion\"][\"fill-extrusion-vertical-scale\"]),\"fill-extrusion-rounded-roof\":new fa(Pt[\"paint_fill-extrusion\"][\"fill-extrusion-rounded-roof\"]),\"fill-extrusion-cutoff-fade-range\":new fa(Pt[\"paint_fill-extrusion\"][\"fill-extrusion-cutoff-fade-range\"]),\"fill-extrusion-emissive-strength\":new fa(Pt[\"paint_fill-extrusion\"][\"fill-extrusion-emissive-strength\"])}),layout:Pb};class Rb extends y{constructor(e,t,i){super(e,t),this.z=i;}}function Lb(e,t){return e.x*t.x+e.y*t.y}function kb(e,t){if(1===e.length){let i=0;const r=t[i++];let n;for(;!n||r.equals(n);)if(n=t[i++],!n)return 1/0;for(;i<t.length;i++){const o=t[i],s=e[0],a=n.sub(r),l=o.sub(r),c=s.sub(r),h=Lb(a,a),u=Lb(a,l),d=Lb(l,l),p=Lb(c,a),f=Lb(c,l),m=h*d-u*u,_=(d*p-u*f)/m,g=(h*f-u*p)/m,y=r.z*(1-_-g)+n.z*_+o.z*g;if(isFinite(y))return y}return 1/0}{let e=1/0;for(const i of t)e=Math.min(e,i.z);return e}}function Ob(e,t,i,r,n,o,s,a){const l=s*n.getElevationAt(e,t,!0,!0),c=0!==o[0],h=c?0===o[1]?s*(o[0]/7-450):s*function(e,t,i){const r=Math.floor(t[0]/8),n=Math.floor(t[1]/8),o=10*(t[0]-8*r),s=10*(t[1]-8*n),a=e.getElevationAt(r,n,!0,!0),l=e.getMeterToDEM(i),c=Math.floor(.5*(o*l-1)),h=Math.floor(.5*(s*l-1)),u=e.tileCoordToPixel(r,n),d=2*c+1,p=2*h+1,f=function(e,t,i,r,n){return [e.getElevationAtPixel(t,i,!0),e.getElevationAtPixel(t+n,i,!0),e.getElevationAtPixel(t,i+n,!0),e.getElevationAtPixel(t+r,i+n,!0)]}(e,u.x-c,u.y-h,d,p),m=Math.abs(f[0]-f[1]),_=Math.abs(f[2]-f[3]),g=Math.abs(f[0]-f[2])+Math.abs(f[1]-f[3]),y=Math.min(.25,.5*l*(m+_)/d),x=Math.min(.25,.5*l*g/p);return a+Math.max(y*o,x*s)}(n,o,a):l;return {base:l+(0===i)?-1:i,top:c?Math.max(h+r,l+i+2):l+r}}const Bb=new ga({\"line-cap\":new ma(Pt.layout_line[\"line-cap\"]),\"line-join\":new ma(Pt.layout_line[\"line-join\"]),\"line-miter-limit\":new fa(Pt.layout_line[\"line-miter-limit\"]),\"line-round-limit\":new fa(Pt.layout_line[\"line-round-limit\"]),\"line-sort-key\":new ma(Pt.layout_line[\"line-sort-key\"]),visibility:new fa(Pt.layout_line.visibility)});var Fb={paint:new ga({\"line-opacity\":new ma(Pt.paint_line[\"line-opacity\"]),\"line-color\":new ma(Pt.paint_line[\"line-color\"]),\"line-translate\":new fa(Pt.paint_line[\"line-translate\"]),\"line-translate-anchor\":new fa(Pt.paint_line[\"line-translate-anchor\"]),\"line-width\":new ma(Pt.paint_line[\"line-width\"]),\"line-gap-width\":new ma(Pt.paint_line[\"line-gap-width\"]),\"line-offset\":new ma(Pt.paint_line[\"line-offset\"]),\"line-blur\":new ma(Pt.paint_line[\"line-blur\"]),\"line-dasharray\":new ma(Pt.paint_line[\"line-dasharray\"]),\"line-pattern\":new ma(Pt.paint_line[\"line-pattern\"]),\"line-gradient\":new _a(Pt.paint_line[\"line-gradient\"]),\"line-trim-offset\":new fa(Pt.paint_line[\"line-trim-offset\"]),\"line-emissive-strength\":new fa(Pt.paint_line[\"line-emissive-strength\"]),\"line-border-width\":new ma(Pt.paint_line[\"line-border-width\"]),\"line-border-color\":new ma(Pt.paint_line[\"line-border-color\"])}),layout:Bb};const Nb=(e,t,i,r,n,o,s)=>{const a=e.transform,l=a.calculatePixelsToTileUnitsMatrix(t);return {u_matrix:jb(e,t,i,r),u_pixels_to_tile_units:l,u_device_pixel_ratio:o,u_units_to_pixels:[1/a.pixelsToGLUnits[0],1/a.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:n,u_texsize:qb(i)&&t.lineAtlasTexture?t.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:Vb(t,e.transform),u_alpha_discard_threshold:0,u_trim_offset:s,u_emissive_strength:i.paint.get(\"line-emissive-strength\")}},Ub=(e,t,i,r,n)=>{const o=e.transform;return {u_matrix:jb(e,t,i,r),u_texsize:t.imageAtlasTexture?t.imageAtlasTexture.size:[0,0],u_pixels_to_tile_units:o.calculatePixelsToTileUnitsMatrix(t),u_device_pixel_ratio:n,u_image:0,u_tile_units_to_pixels:Vb(t,o),u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function Vb(e,t){return 1/rv(e,1,t.tileZoom)}function jb(e,t,i,r){return e.translatePosMatrix(r||t.tileID.projMatrix,t,i.paint.get(\"line-translate\"),i.paint.get(\"line-translate-anchor\"))}const Gb=e=>{const t=[];qb(e)&&t.push(\"RENDER_LINE_DASH\"),e.paint.get(\"line-gradient\")&&t.push(\"RENDER_LINE_GRADIENT\");const i=e.paint.get(\"line-trim-offset\");return 0===i[0]&&0===i[1]||t.push(\"RENDER_LINE_TRIM_OFFSET\"),0!==e.paint.get(\"line-border-width\").constantOr(1)&&t.push(\"RENDER_LINE_BORDER\"),t};function qb(e){const t=e.paint.get(\"line-dasharray\").value;return t.value||\"constant\"!==t.kind}const Zb=new class extends ma{possiblyEvaluate(e,t){return t=new oa(Math.floor(t.zoom),{now:t.now,fadeDuration:t.fadeDuration,transition:t.transition}),super.possiblyEvaluate(e,t)}evaluate(e,t,i,r){return t=k({},t,{zoom:Math.floor(t.zoom)}),super.evaluate(e,t,i,r)}}(Fb.paint.properties[\"line-width\"].specification);function $b(e,t){return t>0?t+2*e:e}Zb.useIntegerZoom=!0;const Wb=new ga({visibility:new fa(Pt.layout_background.visibility)});var Hb={paint:new ga({\"background-color\":new fa(Pt.paint_background[\"background-color\"]),\"background-pattern\":new fa(Pt.paint_background[\"background-pattern\"]),\"background-opacity\":new fa(Pt.paint_background[\"background-opacity\"]),\"background-emissive-strength\":new fa(Pt.paint_background[\"background-emissive-strength\"])}),layout:Wb};const Xb=new ga({visibility:new fa(Pt.layout_raster.visibility)});var Yb={paint:new ga({\"raster-opacity\":new fa(Pt.paint_raster[\"raster-opacity\"]),\"raster-color\":new _a(Pt.paint_raster[\"raster-color\"]),\"raster-color-mix\":new fa(Pt.paint_raster[\"raster-color-mix\"]),\"raster-color-range\":new fa(Pt.paint_raster[\"raster-color-range\"]),\"raster-hue-rotate\":new fa(Pt.paint_raster[\"raster-hue-rotate\"]),\"raster-brightness-min\":new fa(Pt.paint_raster[\"raster-brightness-min\"]),\"raster-brightness-max\":new fa(Pt.paint_raster[\"raster-brightness-max\"]),\"raster-saturation\":new fa(Pt.paint_raster[\"raster-saturation\"]),\"raster-contrast\":new fa(Pt.paint_raster[\"raster-contrast\"]),\"raster-resampling\":new fa(Pt.paint_raster[\"raster-resampling\"]),\"raster-fade-duration\":new fa(Pt.paint_raster[\"raster-fade-duration\"]),\"raster-emissive-strength\":new fa(Pt.paint_raster[\"raster-emissive-strength\"]),\"raster-array-band\":new fa(Pt.paint_raster[\"raster-array-band\"]),\"raster-elevation\":new fa(Pt.paint_raster[\"raster-elevation\"])}),layout:Xb};function Kb(e,t,i,r,n,o,s,a){const l=[e,i,n,t,r,o,1,1,1],c=[s,a,1],h=Eu.adjoint([],l),[u,d,p]=Du.transformMat3(c,c,Eu.transpose(h,h));return Eu.multiply(l,[u,0,0,0,d,0,0,0,p],l)}class Jb extends zt{constructor(e,t,i,r){super(),this.id=e,this.dispatcher=i,this.coordinates=t.coordinates,this.type=\"image\",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.onNorthPole=!1,this.onSouthPole=!1,this.setEventedParent(r),this.options=t,this._dirty=!1;}load(e,i){if(this._loaded=i||!1,this.fire(new It(\"dataloading\",{dataType:\"source\"})),this.url=this.options.url,!this.url)return e&&(this.coordinates=e),this._loaded=!0,void this._finishLoading();this._imageRequest=Ie(this.map._requestManager.transformRequest(this.url,ye.Image),((i,r)=>{if(this._imageRequest=null,this._loaded=!0,i)this.fire(new Ct(i));else if(r){const{HTMLImageElement:i}=t;this.image=r instanceof i?dt.getImageData(r):r,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,e&&(this.coordinates=e),this._finishLoading();}}));}loaded(){return this._loaded}updateImage(e){return e.url?(this._imageRequest&&e.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=e.url,this.load(e.coordinates,this._loaded),this):this}setTexture(e){if(!(e.handle instanceof WebGLTexture))throw new Error(\"The provided handle is not a WebGLTexture instance\");return this.texture=new Ay(this.map.painter.context,e.handle),this.width=e.dimensions[0],this.height=e.dimensions[1],this._dirty=!1,this._loaded=!0,this._finishLoading(),this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new It(\"data\",{dataType:\"source\",sourceDataType:\"metadata\"})));}onAdd(e){this.map=e,this.load();}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),!this.texture||this.texture instanceof Ay||this.texture.destroy();}setCoordinates(e){if(this.coordinates=e,this._boundsArray=void 0,!e.length)return this;this.onNorthPole=!1,this.onSouthPole=!1;let t=e[0][1],i=e[0][1];for(const r of e)r[1]>i&&(i=r[1]),r[1]<t&&(t=r[1]);const r=(i+t)/2;if(r>rp?this.onNorthPole=!0:r<-rp&&(this.onSouthPole=!0),!this.onNorthPole&&!this.onSouthPole){const t=e.map(lp.fromLngLat);this.tileID=function(e){let t=1/0,i=1/0,r=-1/0,n=-1/0;for(const o of e)t=Math.min(t,o.x),i=Math.min(i,o.y),r=Math.max(r,o.x),n=Math.max(n,o.y);const o=Math.max(r-t,n-i),s=Math.max(0,Math.floor(-Math.log(o)/Math.LN2)),a=Math.pow(2,s);return new ju(s,Math.floor((t+r)/2*a),Math.floor((i+n)/2*a))}(t),this.minzoom=this.maxzoom=this.tileID.z;}return this.fire(new It(\"data\",{dataType:\"source\",sourceDataType:\"content\"})),this}_clear(){this._boundsArray=void 0;}_prepareData(e){for(const e in this.tiles){const t=this.tiles[e];\"loaded\"!==t.state&&(t.state=\"loaded\",t.texture=this.texture);}if(this._boundsArray)return;const t=Pg(this.tileID,this.map.transform.projection),[i,r,n,o]=this.coordinates.map((e=>{const i=t.projection.project(e[0],e[1]);return Rg(t,i)._round()}));this.perspectiveTransform=function(e,t,i,r,n,o,s,a,l,c){const h=Kb(0,0,e,0,0,t,e,t),u=Kb(i,r,n,o,s,a,l,c);return Eu.multiply(u,Eu.adjoint(h,h),u),[u[6]/u[8]*e/cr,u[7]/u[8]*t/cr]}(this.width,this.height,i.x,i.y,r.x,r.y,o.x,o.y,n.x,n.y);const s=this._boundsArray=new Da;s.emplaceBack(i.x,i.y,0,0),s.emplaceBack(r.x,r.y,cr,0),s.emplaceBack(o.x,o.y,0,cr),s.emplaceBack(n.x,n.y,cr,cr),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=e.createVertexBuffer(s,Ly.members),this.boundsSegments=xl.simpleSegment(0,0,4,2);}prepare(){const e=0!==Object.keys(this.tiles).length;if(this.tileID&&!e)return;const t=this.map.painter.context,i=t.gl;!this._dirty||this.texture instanceof Ay||(this.texture?this.texture.update(this.image):(this.texture=new My(t,this.image,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE)),this._dirty=!1),e&&this._prepareData(t);}loadTile(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state=\"errored\",t(null));}serialize(){return {type:\"image\",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return !1}}class Qb extends Ta{constructor(e){super(e,{}),this.implementation=e,e.slot&&(this.slot=e.slot);}is3D(){return \"3d\"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}isLayerDraped(e){return void 0!==this.implementation.renderToTile}shouldRedrape(){return !!this.implementation.shouldRerenderTiles&&this.implementation.shouldRerenderTiles()}recalculate(){}updateTransitions(){}hasTransition(){return !1}serialize(){}onAdd(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl);}onRemove(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl);}}const ew=new ga({visibility:new fa(Pt.layout_sky.visibility)});var tw={paint:new ga({\"sky-type\":new fa(Pt.paint_sky[\"sky-type\"]),\"sky-atmosphere-sun\":new fa(Pt.paint_sky[\"sky-atmosphere-sun\"]),\"sky-atmosphere-sun-intensity\":new fa(Pt.paint_sky[\"sky-atmosphere-sun-intensity\"]),\"sky-gradient-center\":new fa(Pt.paint_sky[\"sky-gradient-center\"]),\"sky-gradient-radius\":new fa(Pt.paint_sky[\"sky-gradient-radius\"]),\"sky-gradient\":new _a(Pt.paint_sky[\"sky-gradient\"]),\"sky-atmosphere-halo-color\":new fa(Pt.paint_sky[\"sky-atmosphere-halo-color\"]),\"sky-atmosphere-color\":new fa(Pt.paint_sky[\"sky-atmosphere-color\"]),\"sky-opacity\":new fa(Pt.paint_sky[\"sky-opacity\"])}),layout:ew};function iw(e,t,i){const r=[0,0,1],n=Iu.identity([]);return Iu.rotateY(n,n,i?-w(e)+Math.PI:w(e)),Iu.rotateX(n,n,-w(t)),Du.transformQuat(r,r,n),Du.normalize(r,r)}var rw={paint:new ga({})};const nw={circle:class extends Ta{constructor(e,t){super(e,Up,t);}createBucket(e){return new vp(e)}queryRadius(e){const t=e;return kp(\"circle-radius\",this,t)+kp(\"circle-stroke-width\",this,t)+Op(this.paint.get(\"circle-translate\"))}queryIntersectsFeature(e,t,i,r,n,o,s,a){const l=Fp(this.paint.get(\"circle-translate\"),this.paint.get(\"circle-translate-anchor\"),o.angle,e.pixelToTileUnitsFactor),c=this.paint.get(\"circle-radius\").evaluate(t,i)+this.paint.get(\"circle-stroke-width\").evaluate(t,i);return qp(e,r,o,s,a,\"map\"===this.paint.get(\"circle-pitch-alignment\"),\"map\"===this.paint.get(\"circle-pitch-scale\"),l,c)}getProgramIds(){return [\"circle\"]}getDefaultProgramParams(e,t){const i=Gp(this);return {config:new Ql(this,t),defines:i,overrideFog:!1}}},heatmap:class extends Ta{createBucket(e){return new Xp(e)}constructor(e,t){super(e,nf,t),this._updateColorRamp();}_handleSpecialPaintPropertyUpdate(e){\"heatmap-color\"===e&&this._updateColorRamp();}_updateColorRamp(){this.colorRamp=of({expression:this._transitionablePaint._values[\"heatmap-color\"].value.expression,evaluationKey:\"heatmapDensity\",image:this.colorRamp}),this.colorRampTexture=null;}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null);}queryRadius(e){return kp(\"heatmap-radius\",this,e)}queryIntersectsFeature(e,t,i,r,n,o,s,a){const l=this.paint.get(\"heatmap-radius\").evaluate(t,i);return qp(e,r,o,s,a,!0,!0,new y(0,0),l)}hasOffscreenPass(){return 0!==this.paint.get(\"heatmap-opacity\")&&\"none\"!==this.visibility}getProgramIds(){return [\"heatmap\",\"heatmapTexture\"]}getDefaultProgramParams(e,t){return \"heatmap\"===e?{config:new Ql(this,t),overrideFog:!1}:{}}},hillshade:class extends Ta{constructor(e,t){super(e,af,t);}hasOffscreenPass(){return 0!==this.paint.get(\"hillshade-exaggeration\")&&\"none\"!==this.visibility}getProgramIds(){return [\"hillshade\",\"hillshadePrepare\"]}getDefaultProgramParams(e,t){return {overrideFog:!1}}},fill:class extends Ta{constructor(e,t){super(e,qf,t);}getProgramIds(){const e=this.paint.get(\"fill-pattern\"),t=e&&e.constantOr(1),i=[t?\"fillPattern\":\"fill\"];return this.paint.get(\"fill-antialias\")&&i.push(t&&!this.getPaintProperty(\"fill-outline-color\")?\"fillOutlinePattern\":\"fillOutline\"),i}getDefaultProgramParams(e,t){return {config:new Ql(this,t),overrideFog:!1}}recalculate(e,t){super.recalculate(e,t);const i=this.paint._values[\"fill-outline-color\"];\"constant\"===i.value.kind&&void 0===i.value.value&&(this.paint._values[\"fill-outline-color\"]=this.paint._values[\"fill-color\"]);}createBucket(e){return new jf(e)}queryRadius(){return Op(this.paint.get(\"fill-translate\"))}queryIntersectsFeature(e,t,i,r,n,o){return !e.queryGeometry.isAboveHorizon&&Tp(Bp(e.tilespaceGeometry,this.paint.get(\"fill-translate\"),this.paint.get(\"fill-translate-anchor\"),o.angle,e.pixelToTileUnitsFactor),r)}isTileClipped(){return !0}},\"fill-extrusion\":class extends Ta{constructor(e,t){super(e,Db,t),this._stats={numRenderedVerticesInShadowPass:0,numRenderedVerticesInTransparentPass:0};}createBucket(e){return new vb(e)}queryRadius(){return Op(this.paint.get(\"fill-extrusion-translate\"))}is3D(){return !0}hasShadowPass(){return !0}cutoffRange(){return this.paint.get(\"fill-extrusion-cutoff-fade-range\")}canCastShadows(){return !0}getProgramIds(){return [this.paint.get(\"fill-extrusion-pattern\").constantOr(1)?\"fillExtrusionPattern\":\"fillExtrusion\"]}queryIntersectsFeature(e,t,i,r,n,o,s,a,l){const c=Fp(this.paint.get(\"fill-extrusion-translate\"),this.paint.get(\"fill-extrusion-translate-anchor\"),o.angle,e.pixelToTileUnitsFactor),h=this.paint.get(\"fill-extrusion-height\").evaluate(t,i),u=this.paint.get(\"fill-extrusion-base\").evaluate(t,i),d=[0,0],p=a&&o.elevation,f=o.elevation?o.elevation.exaggeration():1,m=e.tile.getBucket(this);if(p&&m instanceof vb){const e=m.centroidVertexArray,t=l+1;t<e.length&&(d[0]=e.geta_centroid_pos0(t),d[1]=e.geta_centroid_pos1(t));}if(0===d[0]&&1===d[1])return !1;\"globe\"===o.projection.name&&(r=Cb([r],[new y(0,0),new y(cr,cr)],e.tileID.canonical).map((e=>e.polygon)).flat());const _=p?a:null,[g,x]=function(e,t,i,r,n,o,s,a,l,c,h){return \"globe\"===e.projection.name?function(e,t,i,r,n,o,s,a,l,c,h){const u=[],d=[],p=e.projection.upVectorScale(h,e.center.lat,e.worldSize).metersToTile,f=[0,0,0,1],m=[0,0,0,1],_=(e,t,i,r)=>{e[0]=t,e[1]=i,e[2]=r,e[3]=1;},g=Ib();i>0&&(i+=g),r+=g;for(const g of t){const t=[],y=[];for(const u of g){const d=u.x+n.x,g=u.y+n.y,x=e.projection.projectTilePoint(d,g,h),v=e.projection.upVector(h,u.x,u.y);let b=i,w=r;if(s){const e=Ob(d,g,i,r,s,a,l,c);b+=e.base,w+=e.top;}0!==i?_(f,x.x+v[0]*p*b,x.y+v[1]*p*b,x.z+v[2]*p*b):_(f,x.x,x.y,x.z),_(m,x.x+v[0]*p*w,x.y+v[1]*p*w,x.z+v[2]*p*w),Du.transformMat4(f,f,o),Du.transformMat4(m,m,o),t.push(new Rb(f[0],f[1],f[2])),y.push(new Rb(m[0],m[1],m[2]));}u.push(t),d.push(y);}return [u,d]}(e,t,i,r,n,o,s,a,l,c,h):s?function(e,t,i,r,n,o,s,a,l){const c=[],h=[],u=[0,0,0,1];for(const d of e){const e=[],p=[];for(const c of d){const h=c.x+r.x,d=c.y+r.y,f=Ob(h,d,t,i,o,s,a,l);u[0]=h,u[1]=d,u[2]=f.base,u[3]=1,yu.transformMat4(u,u,n),u[3]=Math.max(u[3],1e-5);const m=new Rb(u[0]/u[3],u[1]/u[3],u[2]/u[3]);u[0]=h,u[1]=d,u[2]=f.top,u[3]=1,yu.transformMat4(u,u,n),u[3]=Math.max(u[3],1e-5);const _=new Rb(u[0]/u[3],u[1]/u[3],u[2]/u[3]);e.push(m),p.push(_);}c.push(e),h.push(p);}return [c,h]}(t,i,r,n,o,s,a,l,c):function(e,t,i,r,n){const o=[],s=[],a=n[8]*t,l=n[9]*t,c=n[10]*t,h=n[11]*t,u=n[8]*i,d=n[9]*i,p=n[10]*i,f=n[11]*i;for(const t of e){const e=[],i=[];for(const o of t){const t=o.x+r.x,s=o.y+r.y,m=n[0]*t+n[4]*s+n[12],_=n[1]*t+n[5]*s+n[13],g=n[2]*t+n[6]*s+n[14],y=n[3]*t+n[7]*s+n[15],x=m+a,v=_+l,b=g+c,w=Math.max(y+h,1e-5),T=m+u,E=_+d,M=g+p,A=Math.max(y+f,1e-5);e.push(new Rb(x/w,v/w,b/w)),i.push(new Rb(T/A,E/A,M/A));}o.push(e),s.push(i);}return [o,s]}(t,i,r,n,o)}(o,r,u,h,c,s,_,d,f,o.center.lat,e.tileID.canonical),v=e.queryGeometry;return function(e,t,i){let r=1/0;Tp(i,t)&&(r=kb(i,t[0]));for(let n=0;n<t.length;n++){const o=t[n],s=e[n];for(let e=0;e<o.length-1;e++){const t=o[e],n=[t,o[e+1],s[e+1],s[e],t];bp(i,n)&&(r=Math.min(r,kb(i,n)));}}return r!==1/0&&r}(g,x,v.isPointQuery()?v.screenBounds:v.screenGeometry)}},line:class extends Ta{constructor(e,t){super(e,Fb,t),this.gradientVersion=0;}_handleSpecialPaintPropertyUpdate(e){if(\"line-gradient\"===e){const e=this._transitionablePaint._values[\"line-gradient\"].value.expression;this.stepInterpolant=e._styleExpression&&e._styleExpression.expression instanceof Yr,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER;}}gradientExpression(){return this._transitionablePaint._values[\"line-gradient\"].value.expression}widthExpression(){return this._transitionablePaint._values[\"line-width\"].value.expression}recalculate(e,t){super.recalculate(e,t),this.paint._values[\"line-floorwidth\"]=Zb.possiblyEvaluate(this._transitioningPaint._values[\"line-width\"].value,e);}createBucket(e){return new Ey(e)}getProgramIds(){return [this.paint.get(\"line-pattern\").constantOr(1)?\"linePattern\":\"line\"]}getDefaultProgramParams(e,t){const i=Gb(this);return {config:new Ql(this,t),defines:i,overrideFog:!1}}queryRadius(e){const t=e,i=$b(kp(\"line-width\",this,t),kp(\"line-gap-width\",this,t)),r=kp(\"line-offset\",this,t);return i/2+Math.abs(r)+Op(this.paint.get(\"line-translate\"))}queryIntersectsFeature(e,t,i,r,n,o){if(e.queryGeometry.isAboveHorizon)return !1;const s=Bp(e.tilespaceGeometry,this.paint.get(\"line-translate\"),this.paint.get(\"line-translate-anchor\"),o.angle,e.pixelToTileUnitsFactor),a=e.pixelToTileUnitsFactor/2*$b(this.paint.get(\"line-width\").evaluate(t,i),this.paint.get(\"line-gap-width\").evaluate(t,i)),l=this.paint.get(\"line-offset\").evaluate(t,i);return l&&(r=function(e,t){const i=[],r=new y(0,0);for(let n=0;n<e.length;n++){const o=e[n],s=[];for(let e=0;e<o.length;e++){const i=o[e],n=o[e+1],a=0===e?r:i.sub(o[e-1])._unit()._perp(),l=e===o.length-1?r:n.sub(i)._unit()._perp(),c=a._add(l)._unit();c._mult(1/(c.x*l.x+c.y*l.y)),s.push(c._mult(t)._add(i));}i.push(s);}return i}(r,l*e.pixelToTileUnitsFactor)),function(e,t,i){for(let r=0;r<t.length;r++){const n=t[r];if(e.length>=3)for(let t=0;t<n.length;t++)if(zp(e,n[t]))return !0;if(Ep(e,n,i))return !0}return !1}(s,r,a)}isTileClipped(){return !0}},symbol:oy,background:class extends Ta{constructor(e,t){super(e,Hb,t);}getProgramIds(){return [this.paint.get(\"background-pattern\")?\"backgroundPattern\":\"background\"]}getDefaultProgramParams(e,t){return {overrideFog:!1}}},raster:class extends Ta{constructor(e,t){super(e,Yb,t),this._updateColorRamp();}getProgramIds(){return [\"raster\"]}hasColorMap(){return !!this._transitionablePaint._values[\"raster-color\"].value.value}isLayerDraped(e){return !(e&&e._source instanceof Jb)||!e._source.onNorthPole&&!e._source.onSouthPole&&0===this.paint.get(\"raster-elevation\")}_handleSpecialPaintPropertyUpdate(e){\"raster-color\"!==e&&\"raster-color-range\"!==e||this._updateColorRamp();}_updateColorRamp(){if(!this.hasColorMap())return;const e=this._transitionablePaint._values[\"raster-color\"].value.expression,[t,i]=this._transitionablePaint._values[\"raster-color-range\"].value.expression.evaluate({zoom:0});this.colorRamp=of({expression:e,evaluationKey:\"rasterValue\",image:this.colorRamp,clips:[{start:t,end:i}],resolution:256}),this.colorRampTexture=null;}},sky:class extends Ta{constructor(e,t){super(e,tw,t),this._updateColorRamp();}_handleSpecialPaintPropertyUpdate(e){\"sky-gradient\"===e?this._updateColorRamp():\"sky-atmosphere-sun\"!==e&&\"sky-atmosphere-halo-color\"!==e&&\"sky-atmosphere-color\"!==e&&\"sky-atmosphere-sun-intensity\"!==e||(this._skyboxInvalidated=!0);}_updateColorRamp(){this.colorRamp=of({expression:this._transitionablePaint._values[\"sky-gradient\"].value.expression,evaluationKey:\"skyRadialProgress\"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null);}needsSkyboxCapture(e){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return !0;if(!this.paint.get(\"sky-atmosphere-sun\")){const t=e.style.light.properties.get(\"position\");return this._lightPosition.azimuthal!==t.azimuthal||this._lightPosition.polar!==t.polar}return !1}getCenter(e,t){if(\"atmosphere\"===this.paint.get(\"sky-type\")){const i=this.paint.get(\"sky-atmosphere-sun\"),r=!i,n=e.style.light,o=n.properties.get(\"position\");return r&&\"viewport\"===n.properties.get(\"anchor\")&&H(\"The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly.\"),r?iw(o.azimuthal,90-o.polar,t):iw(i[0],90-i[1],t)}const i=this.paint.get(\"sky-gradient-center\");return iw(i[0],90-i[1],t)}isSky(){return !0}markSkyboxValid(e){this._skyboxInvalidated=!1,this._lightPosition=e.style.light.properties.get(\"position\");}hasOffscreenPass(){return !0}getProgramIds(){const e=this.paint.get(\"sky-type\");return \"atmosphere\"===e?[\"skyboxCapture\",\"skybox\"]:\"gradient\"===e?[\"skyboxGradient\"]:null}},slot:class extends Ta{constructor(e,t){super(e,rw);}},model:class extends Ta{constructor(e,t){super(e,Nv,t);}createBucket(e){return new Bv(e)}getProgramIds(){return [\"model\"]}is3D(){return !0}hasShadowPass(){return !0}canCastShadows(){return !0}hasLightBeamPass(){return !0}cutoffRange(){return this.paint.get(\"model-cutoff-fade-range\")}queryRadius(){return 0}queryIntersectsFeature(){return !1}_handleOverridablePaintPropertyUpdate(e,t,i){return !(!this.layout||t.isDataDriven()||i.isDataDriven()||\"model-color\"!==e&&\"model-color-mix-intensity\"!==e&&\"model-rotation\"!==e&&\"model-scale\"!==e&&\"model-translation\"!==e&&\"model-emissive-strength\"!==e)}_isPropertyZoomDependent(e){const t=this._transitionablePaint._values[e];return null!=t&&null!=t.value&&null!=t.value.expression&&t.value.expression instanceof Ao}isZoomDependent(){return this._isPropertyZoomDependent(\"model-scale\")||this._isPropertyZoomDependent(\"model-rotation\")||this._isPropertyZoomDependent(\"model-translation\")}}};function ow(e,t){return \"custom\"===e.type?new Qb(e):new nw[e.type](e,t)}function sw(e){const{userImage:t}=e;return !!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}class aw extends zt{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded={},this.requestors=[],this.patterns={},this.atlasImage={},this.atlasTexture={},this.dirty=!0;}createScope(e){this.images[e]={},this.loaded[e]=!1,this.updatedImages[e]={},this.patterns[e]={},this.callbackDispatchedThisFrame[e]={},this.atlasImage[e]=new ef({width:1,height:1});}isLoaded(){for(const e in this.loaded)if(!this.loaded[e])return !1;return !0}setLoaded(e,t){if(this.loaded[t]!==e&&(this.loaded[t]=e,e)){for(const{ids:e,callback:i}of this.requestors)this._notify(e,t,i);this.requestors=[];}}hasImage(e,t){return !!this.getImage(e,t)}getImage(e,t){return this.images[t][e]}addImage(e,t,i){this._validate(e,i)&&(this.images[t][e]=i);}_validate(e,t){let i=!0;return this._validateStretch(t.stretchX,t.data&&t.data.width)||(this.fire(new Ct(new Error(`Image \"${e}\" has invalid \"stretchX\" value`))),i=!1),this._validateStretch(t.stretchY,t.data&&t.data.height)||(this.fire(new Ct(new Error(`Image \"${e}\" has invalid \"stretchY\" value`))),i=!1),this._validateContent(t.content,t)||(this.fire(new Ct(new Error(`Image \"${e}\" has invalid \"content\" value`))),i=!1),i}_validateStretch(e,t){if(!e)return !0;let i=0;for(const r of e){if(r[0]<i||r[1]<r[0]||t<r[1])return !1;i=r[1];}return !0}_validateContent(e,t){return !(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))}updateImage(e,t,i){i.version=this.images[t][e].version+1,this.images[t][e]=i,this.updatedImages[t][e]=!0;}removeImage(e,t){const i=this.images[t][e];delete this.images[t][e],delete this.patterns[t][e],i.userImage&&i.userImage.onRemove&&i.userImage.onRemove();}listImages(e){return Object.keys(this.images[e])}getImages(e,t,i){let r=!0;const n=!!this.loaded[t];if(!n)for(const i of e)this.images[t][i]||(r=!1);n||r?this._notify(e,t,i):this.requestors.push({ids:e,scope:t,callback:i});}getUpdatedImages(e){return this.updatedImages[e]}_notify(e,t,i){const r={};for(const i of e){this.images[t][i]||this.fire(new It(\"styleimagemissing\",{id:i}));const e=this.images[t][i];e?r[i]={data:e.data.clone(),pixelRatio:e.pixelRatio,sdf:e.sdf,version:e.version,stretchX:e.stretchX,stretchY:e.stretchY,content:e.content,hasRenderCallback:Boolean(e.userImage&&e.userImage.render)}:H(`Image \"${i}\" could not be loaded. Please make sure you have added the image with map.addImage() or a \"sprite\" property in your style. You can provide missing images by listening for the \"styleimagemissing\" map event.`);}i(null,r);}getPixelSize(e){const{width:t,height:i}=this.atlasImage[e];return {width:t,height:i}}getPattern(e,t){const i=this.patterns[t][e],r=this.getImage(e,t);if(!r)return null;if(i&&i.position.version===r.version)return i.position;if(i)i.position.version=r.version;else {const i={w:r.data.width+2,h:r.data.height+2,x:0,y:0},n=new Q_(i,r);this.patterns[t][e]={bin:i,position:n};}return this._updatePatternAtlas(t),this.patterns[t][e].position}bind(e,t){const i=e.gl;let r=this.atlasTexture[t];r?this.dirty&&(r.update(this.atlasImage[t]),this.dirty=!1):(r=new My(e,this.atlasImage[t],i.RGBA),this.atlasTexture[t]=r),r.bind(i.LINEAR,i.CLAMP_TO_EDGE);}_updatePatternAtlas(e){const t=[];for(const i in this.patterns[e])t.push(this.patterns[e][i].bin);const{w:i,h:r}=K_(t),n=this.atlasImage[e];n.resize({width:i||1,height:r||1});for(const t in this.patterns[e]){const{bin:i}=this.patterns[e][t],r=i.x+1,o=i.y+1,s=this.images[e][t].data,a=s.width,l=s.height;ef.copy(s,n,{x:0,y:0},{x:r,y:o},{width:a,height:l}),ef.copy(s,n,{x:0,y:l-1},{x:r,y:o-1},{width:a,height:1}),ef.copy(s,n,{x:0,y:0},{x:r,y:o+l},{width:a,height:1}),ef.copy(s,n,{x:a-1,y:0},{x:r-1,y:o},{width:1,height:l}),ef.copy(s,n,{x:0,y:0},{x:r+a,y:o},{width:1,height:l});}this.dirty=!0;}beginFrame(){for(const e in this.images)this.callbackDispatchedThisFrame[e]={};}dispatchRenderCallbacks(e,t){for(const i of e){if(this.callbackDispatchedThisFrame[t][i])continue;this.callbackDispatchedThisFrame[t][i]=!0;const e=this.images[t][i];sw(e)&&this.updateImage(i,t,e);}}}const lw=new ga({anchor:new fa(Pt.light.anchor),position:new class{constructor(e){this.specification=e;}possiblyEvaluate(e,t){return K(e.expression.evaluate(t))}interpolate(e,t,i){return {x:Kr(e.x,t.x,i),y:Kr(e.y,t.y,i),z:Kr(e.z,t.z,i),azimuthal:Kr(e.azimuthal,t.azimuthal,i),polar:Kr(e.polar,t.polar,i)}}}(Pt.light.position),color:new fa(Pt.light.color),intensity:new fa(Pt.light.intensity)});class cw extends zt{constructor(e,t=\"flat\"){super(),this._transitionable=new la(lw),this.setLight(e,t),this._transitioning=this._transitionable.untransitioned();}getLight(){return this._transitionable.serialize()}setLight(e,t,i={}){this._validate(gs,e,i)||(this._transitionable.setTransitionOrValue(e),this.id=t);}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning);}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e);}_validate(e,t,i){return (!i||!1!==i.validate)&&Ss(this,e.call(ms,k({value:t,style:{glyphs:!0,sprite:!0},styleSpec:Pt})))}}const hw=new ga({source:new fa(Pt.terrain.source),exaggeration:new fa(Pt.terrain.exaggeration)});let uw=class extends zt{constructor(e,t,i,r){super(),this.scope=i,this._transitionable=new la(hw,r),this._transitionable.setTransitionOrValue(e,r),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=t;}get(){return this._transitionable.serialize()}set(e,t){this._transitionable.setTransitionOrValue(e,t);}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning);}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e);}getExaggeration(e){return this._transitioning.possiblyEvaluate(new oa(e)).get(\"exaggeration\")}isZoomDependent(){const e=this._transitionable._values.exaggeration;return null!=e&&null!=e.value&&null!=e.value.expression&&e.value.expression instanceof Ao}};const dw=45,pw=65,fw=.05;function mw(e,t,i,r){const n=P(dw,pw,i),[o,s]=_w(e,r);let a=1-Math.min(1,Math.exp((t-o)/(s-o)*-6));return a*=a*a,a=Math.min(1,1.00747*a),a*n*e.alpha}function _w(e,t){const i=.5/Math.tan(.5*t);return [e.range[0]+i,e.range[1]+i]}function gw(e,t,i,r,n){const o=Du.transformMat4([],[t,i,r],n.mercatorFogMatrix);return mw(e,Du.length(o),n.pitch,n._fov)}function yw(e,t,i,r,n,o,s){const a=[[i,r,0],[n,r,0],[n,o,0],[i,o,0]];let l=Number.MAX_VALUE,c=-Number.MAX_VALUE;for(const e of a){const i=Du.transformMat4([],e,t),r=Du.length(i);l=Math.min(l,r),c=Math.max(c,r);}return [mw(e,l,s.pitch,s._fov),mw(e,c,s.pitch,s._fov)]}const xw=new ga({range:new fa(Pt.fog.range),color:new fa(Pt.fog.color),\"high-color\":new fa(Pt.fog[\"high-color\"]),\"space-color\":new fa(Pt.fog[\"space-color\"]),\"horizon-blend\":new fa(Pt.fog[\"horizon-blend\"]),\"star-intensity\":new fa(Pt.fog[\"star-intensity\"]),\"vertical-range\":new fa(Pt.fog[\"vertical-range\"])});class vw extends zt{constructor(e,t){super(),this._transitionable=new la(xw),this.set(e),this._transitioning=this._transitionable.untransitioned(),this._transform=t;}get state(){const e=this._transform,t=\"globe\"===e.projection.name,i=Dd(e.zoom),r=this.properties.get(\"range\"),n=[.5,3];return {range:t?[Kr(n[0],r[0],i),Kr(n[1],r[1],i)]:r,horizonBlend:this.properties.get(\"horizon-blend\"),alpha:this.properties.get(\"color\").a}}get(){return this._transitionable.serialize()}set(e,t={}){if(this._validate(vs,e,t))return;const i=k({},e);for(const e of Object.keys(Pt.fog))void 0===i[e]&&(i[e]=Pt.fog[e].default);this._transitionable.setTransitionOrValue(i);}getOpacity(e){if(!this._transform.projection.supportsFog)return 0;const t=this.properties&&this.properties.get(\"color\")||1;return (\"globe\"===this._transform.projection.name?1:P(dw,pw,e))*t.a}getOpacityAtLatLng(e,t){return this._transform.projection.supportsFog?function(e,t,i){const r=lp.fromLngLat(t),n=i.elevation?i.elevation.getAtPointOrZero(r):0;return gw(e,r.x,r.y,n,i)}(this.state,e,t):0}getOpacityForTile(e){if(!this._transform.projection.supportsFog)return [1,1];const t=this._transform.calculateFogTileMatrix(e.toUnwrapped());return yw(this.state,t,0,0,cr,cr,this._transform)}getOpacityForBounds(e,t,i,r,n){return this._transform.projection.supportsFog?yw(this.state,e,t,i,r,n,this._transform):[1,1]}getFovAdjustedRange(e){return this._transform.projection.supportsFog?_w(this.state,e):[0,1]}isVisibleOnFrustum(e){if(!this._transform.projection.supportsFog)return !1;const t=[4,5,6,7];for(const i of t){const t=e.points[i];let r;if(t[2]>=0)r=t;else {const n=e.points[i-4];r=Jr(n,t,n[2]/(n[2]-t[2]));}if(gw(this.state,r[0],r[1],0,this._transform)>=fw)return !0}return !1}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning);}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e);}_validate(e,t,i){return (!i||!1!==i.validate)&&Ss(this,e.call(ms,k({value:t,style:{glyphs:!0,sprite:!0},styleSpec:Pt})))}}class bw{constructor(e){this._callback=e,this._triggered=!1,\"undefined\"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback();});}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((()=>{this._triggered=!1,this._callback();}),0));}remove(){this._channel=void 0,this._callback=()=>{};}}class ww{constructor(){this.tasks={},this.taskQueue=[],j([\"process\"],this),this.invoker=new bw(this.process),this.nextId=0;}add(e,t){const i=this.nextId++,r=function({type:e,isSymbolTile:t,zoom:i}){return i=i||0,\"message\"===e?0:\"maybePrepare\"!==e||t?\"parseTile\"!==e||t?\"parseTile\"===e&&t?300-i:\"maybePrepare\"===e&&t?400-i:500:200-i:100-i}(t);if(0===r){Q();try{e();}finally{}return {cancel:()=>{}}}return this.tasks[i]={fn:e,metadata:t,priority:r,id:i},this.taskQueue.push(i),this.invoker.trigger(),{cancel:()=>{delete this.tasks[i];}}}process(){Q();try{if(this.taskQueue=this.taskQueue.filter((e=>!!this.tasks[e])),!this.taskQueue.length)return;const e=this.pick();if(null===e)return;const t=this.tasks[e];if(delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),!t)return;t.fn();}finally{}}pick(){let e=null,t=1/0;for(let i=0;i<this.taskQueue.length;i++){const r=this.tasks[this.taskQueue[i]];r.priority<t&&(t=r.priority,e=i);}if(null===e)return null;const i=this.taskQueue[e];return this.taskQueue.splice(e,1),i}remove(){this.invoker.remove();}}class Tw{constructor(e,t,i){this.target=e,this.parent=t,this.mapId=i,this.callbacks={},this.cancelCallbacks={},j([\"receive\"],this),this.target.addEventListener(\"message\",this.receive,!1),this.scheduler=new ww;}send(e,t,i,r,n=!1,o){const s=Math.round(1e18*Math.random()).toString(36).substring(0,10);i&&(i.metadata=o,this.callbacks[s]=i);const a=new Set;return this.target.postMessage({id:s,type:e,hasCallback:!!i,targetMapId:r,mustQueue:n,sourceMapId:this.mapId,data:Os(t,a)},a),{cancel:()=>{i&&delete this.callbacks[s],this.target.postMessage({id:s,type:\"<cancel>\",targetMapId:r,sourceMapId:this.mapId});}}}receive(e){const t=e.data,i=t.id;if(i&&(!t.targetMapId||this.mapId===t.targetMapId))if(\"<cancel>\"===t.type){const e=this.cancelCallbacks[i];delete this.cancelCallbacks[i],e&&e.cancel();}else if(t.mustQueue||Q()){const e=this.callbacks[i];this.cancelCallbacks[i]=this.scheduler.add((()=>this.processTask(i,t)),e&&e.metadata||{type:\"message\"});}else this.processTask(i,t);}processTask(e,t){if(\"<response>\"===t.type){const i=this.callbacks[e];delete this.callbacks[e],i&&(t.error?i(Bs(t.error)):i(null,Bs(t.data)));}else {const i=new Set,r=t.hasCallback?(t,r)=>{delete this.cancelCallbacks[e],this.target.postMessage({id:e,type:\"<response>\",sourceMapId:this.mapId,error:t?Os(t):null,data:Os(r,i)},i);}:e=>{},n=Bs(t.data);if(this.parent[t.type])this.parent[t.type](t.sourceMapId,n,r);else if(this.parent.getWorkerSource){const e=t.type.split(\".\");this.parent.getWorkerSource(t.sourceMapId,e[0],n.source,n.scope)[e[1]](n,r);}else r(new Error(`Could not find function ${t.type}`));}}remove(){this.scheduler.remove(),this.target.removeEventListener(\"message\",this.receive,!1);}}class Ew{constructor(e,t){this.workerPool=e,this.actors=[],this.currentActor=0,this.id=F();const i=this.workerPool.acquire(this.id);for(let e=0;e<i.length;e++){const r=new Ew.Actor(i[e],t,this.id);r.name=`Worker ${e}`,this.actors.push(r);}this.ready=!1,this.broadcast(\"checkIfReady\",null,(()=>{this.ready=!0;}));}broadcast(e,t,i){R(this.actors,((i,r)=>{i.send(e,t,r);}),i=i||function(){});}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach((e=>{e.remove();})),this.actors=[],this.workerPool.release(this.id);}}Ew.Actor=Tw;class Mw extends zt{constructor(e,t,i,r){super(),this.scope=i,this._options=e,this.properties=new pa(t),this._transitionable=new la(t,new Map(r)),this._transitionable.setTransitionOrValue(e.properties),this._transitioning=this._transitionable.untransitioned();}updateConfig(e){this._transitionable.setTransitionOrValue(this._options.properties,new Map(e));}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning);}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e);}get(){return this._options.properties=this._transitionable.serialize(),this._options}set(e,t){this._options=e,this._transitionable.setTransitionOrValue(e.properties,t);}shadowsEnabled(){return !!this.properties&&!0===this.properties.get(\"cast-shadows\")}}const Aw=new ga({color:new fa(Pt.properties_light_ambient.color),intensity:new fa(Pt.properties_light_ambient.intensity)}),Sw=new ga({direction:new class{constructor(e){this.specification=e;}possiblyEvaluate(e,t){return function([e,t]){const i=K([1,e,t]);return {x:i.x,y:i.y,z:i.z}}(e.expression.evaluate(t))}interpolate(e,t,i){return {x:Kr(e.x,t.x,i),y:Kr(e.y,t.y,i),z:Kr(e.z,t.z,i)}}}(Pt.properties_light_directional.direction),color:new fa(Pt.properties_light_directional.color),intensity:new fa(Pt.properties_light_directional.intensity),\"cast-shadows\":new fa(Pt.properties_light_directional[\"cast-shadows\"]),\"shadow-intensity\":new fa(Pt.properties_light_directional[\"shadow-intensity\"])});class Iw{constructor(e,t,i,r){this.screenBounds=e,this.cameraPoint=t,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=i,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,r);}static createFromScreenPoints(e,t){let i,r;if(e instanceof y||\"number\"==typeof e[0]){const n=y.convert(e);i=[n],r=t.isPointAboveHorizon(n);}else {const n=y.convert(e[0]),o=y.convert(e[1]);i=[n,o],r=S(n,o).every((e=>t.isPointAboveHorizon(e)));}return new Iw(i,t.getCameraPoint(),r,t)}isPointQuery(){return 1===this.screenBounds.length}bufferedScreenGeometry(e){return S(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],e)}bufferedCameraGeometry(e){const t=this.screenBounds[0],i=1===this.screenBounds.length?this.screenBounds[0].add(new y(1,1)):this.screenBounds[1],r=S(t,i,0,!1);return this.cameraPoint.y>i.y&&(this.cameraPoint.x>t.x&&this.cameraPoint.x<i.x?r.splice(3,0,this.cameraPoint):this.cameraPoint.x>=i.x?r[2]=this.cameraPoint:this.cameraPoint.x<=t.x&&(r[3]=this.cameraPoint)),function(e,t){const i=[];for(let r=0;r<e.length;r++){const n=D(r-1,-1,e.length-1),o=D(r+1,-1,e.length-1),s=e[r],a=e[o],l=e[n].sub(s).unit(),c=a.sub(s).unit(),h=c.angleWithSep(l.x,l.y),u=l.add(c).unit().mult(-1*t/Math.sin(h/2));i.push(s.add(u));}return i}(r,e)}bufferedCameraGeometryGlobe(e){const t=this.screenBounds[0],i=1===this.screenBounds.length?this.screenBounds[0].add(new y(1,1)):this.screenBounds[1],r=S(t,i,e),n=this.cameraPoint.clone();switch(3*((n.y>t.y)+(n.y>i.y))+((n.x>t.x)+(n.x>i.x))){case 0:r[0]=n,r[4]=n.clone();break;case 1:r.splice(1,0,n);break;case 2:r[1]=n;break;case 3:r.splice(4,0,n);break;case 5:r.splice(2,0,n);break;case 6:r[3]=n;break;case 7:r.splice(3,0,n);break;case 8:r[2]=n;}return r}containsTile(e,t,i,r=0){const n=e.queryPadding/t._pixelsPerMercatorPixel+1,o=i?this._bufferedCameraMercator(n,t):this._bufferedScreenMercator(n,t);let s=e.tileID.wrap+(o.unwrapped?r:0);const a=o.polygon.map((t=>Rg(e.tileTransform,t,s)));if(!Pp(a,0,0,cr,cr))return;s=e.tileID.wrap+(this.screenGeometryMercator.unwrapped?r:0);const l=this.screenGeometryMercator.polygon.map((t=>Lg(e.tileTransform,t,s))),c=l.map((e=>new y(e[0],e[1]))),h=t.getFreeCameraOptions().position||new lp(0,0,0),u=Lg(e.tileTransform,h,s),d=l.map((e=>{const t=Du.sub(e,e,u);return Du.normalize(t,t),new Wu(u,t)})),p=rv(e,1,t.zoom)*t._pixelsPerMercatorPixel;return {queryGeometry:this,tilespaceGeometry:c,tilespaceRays:d,bufferedTilespaceGeometry:a,bufferedTilespaceBounds:(f=A(a),f.min.x=z(f.min.x,0,cr),f.min.y=z(f.min.y,0,cr),f.max.x=z(f.max.x,0,cr),f.max.y=z(f.max.y,0,cr),f),tile:e,tileID:e.tileID,pixelToTileUnitsFactor:p};var f;}_bufferedScreenMercator(e,t){const i=Pw(e);if(this._screenRaycastCache[i])return this._screenRaycastCache[i];{let r;return r=\"globe\"===t.projection.name?this._projectAndResample(this.bufferedScreenGeometry(e),t):{polygon:this.bufferedScreenGeometry(e).map((e=>t.pointCoordinate3D(e))),unwrapped:!0},this._screenRaycastCache[i]=r,r}}_bufferedCameraMercator(e,t){const i=Pw(e);if(this._cameraRaycastCache[i])return this._cameraRaycastCache[i];{let r;return r=\"globe\"===t.projection.name?this._projectAndResample(this.bufferedCameraGeometryGlobe(e),t):{polygon:this.bufferedCameraGeometry(e).map((e=>t.pointCoordinate3D(e))),unwrapped:!0},this._cameraRaycastCache[i]=r,r}}_projectAndResample(e,t){const i=function(e,t){const i=Au.multiply([],t.pixelMatrix,t.globeMatrix),r=[0,-rd,0,1],n=[0,rd,0,1],o=[0,0,0,1];yu.transformMat4(r,r,i),yu.transformMat4(n,n,i),yu.transformMat4(o,o,i);const s=new y(r[0]/r[3],r[1]/r[3]),a=new y(n[0]/n[3],n[1]/n[3]),l=zp(e,s)&&r[3]<o[3],c=zp(e,a)&&n[3]<o[3];if(!l&&!c)return null;const h=function(e,t,i){for(let r=1;r<e.length;r++){const n=zw(t.pointCoordinate3D(e[r-1]).x),o=zw(t.pointCoordinate3D(e[r]).x);if(i<0){if(n<o)return {idx:r,t:-n/(o-1-n)}}else if(o<n)return {idx:r,t:(1-n)/(o+1-n)}}return null}(e,t,l?-1:1);if(!h)return null;const{idx:u,t:d}=h;let p=u>1?Cw(e.slice(0,u),t):[],f=u<e.length?Cw(e.slice(u),t):[];p=p.map((e=>new y(zw(e.x),e.y))),f=f.map((e=>new y(zw(e.x),e.y)));const m=[...p];0===m.length&&m.push(f[f.length-1]);const _=Kr(m[m.length-1].y,(0===f.length?p[0]:f[0]).y,d);let g;return g=l?[new y(0,_),new y(0,0),new y(1,0),new y(1,_)]:[new y(1,_),new y(1,1),new y(0,1),new y(0,_)],m.push(...g),0===f.length?m.push(p[0]):m.push(...f),{polygon:m.map((e=>new lp(e.x,e.y))),unwrapped:!1}}(e,t);if(i)return i;const r=function(e,t){let i=!1,r=-1/0,n=0;for(let t=0;t<e.length-1;t++)e[t].x>r&&(r=e[t].x,n=t);for(let t=0;t<e.length-1;t++){const r=(n+t)%(e.length-1),o=e[r],s=e[r+1];Math.abs(o.x-s.x)>.5&&(o.x<s.x?(o.x+=1,0===r&&(e[e.length-1].x+=1)):(s.x+=1,r+1===e.length-1&&(e[0].x+=1)),i=!0);}const o=Kd(t.center.lng);return i&&o<Math.abs(o-1)&&e.forEach((e=>{e.x-=1;})),{polygon:e,unwrapped:i}}(Cw(e,t).map((e=>new y(zw(e.x),e.y))),t);return {polygon:r.polygon.map((e=>new lp(e.x,e.y))),unwrapped:r.unwrapped}}}function Cw(e,t){return hp(e,(e=>{const i=t.pointCoordinate3D(e);e.x=i.x,e.y=i.y;}),1/256)}function zw(e){return e<0?1+e%1:e%1}function Pw(e){return 100*e|0}function Dw(e,t,i,r,n){const o=function(i,r){if(i)return n(i);if(r){e.url&&r.tiles&&e.tiles&&delete e.tiles;const i=O(k(r,e),[\"tiles\",\"minzoom\",\"maxzoom\",\"attribution\",\"mapbox_logo\",\"bounds\",\"scheme\",\"tileSize\",\"encoding\"]);r.vector_layers&&(i.vectorLayers=r.vector_layers,i.vectorLayerIds=i.vectorLayers.map((e=>e.id))),i.tiles=t.canonicalizeTileset(i,e.url),n(null,i);}};return e.url?we(t.transformRequest(t.normalizeSourceURL(e.url,null,i,r),ye.Source),o):dt.frame((()=>o(null,e)))}class Rw{constructor(e,t,i){this.bounds=sc.convert(this.validateBounds(e)),this.minzoom=t||0,this.maxzoom=i||24;}validateBounds(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}contains(e){const t=Math.pow(2,e.z),i=Math.floor(Kd(this.bounds.getWest())*t),r=Math.floor(Jd(this.bounds.getNorth())*t),n=Math.ceil(Kd(this.bounds.getEast())*t),o=Math.ceil(Jd(this.bounds.getSouth())*t);return e.x>=i&&e.x<n&&e.y>=r&&e.y<o}}class Lw{constructor(e,t){this.width=e,this.height=t,this.nextRow=0,this.image=new Qp({width:e,height:t}),this.positions={},this.uploaded=!1;}getDash(e,t){const i=this.getKey(e,t);return this.positions[i]}trim(){const e=this.width,t=this.height=U(this.nextRow);this.image.resize({width:e,height:t});}getKey(e,t){return e.join(\",\")+t}getDashRanges(e,t,i){const r=[];let n=e.length%2==1?-e[e.length-1]*i:0,o=e[0]*i,s=!0;r.push({left:n,right:o,isDash:s,zeroLength:0===e[0]});let a=e[0];for(let t=1;t<e.length;t++){s=!s;const l=e[t];n=a*i,a+=l,o=a*i,r.push({left:n,right:o,isDash:s,zeroLength:0===l});}return r}addRoundDash(e,t,i){const r=t/2;for(let t=-i;t<=i;t++){const n=this.width*(this.nextRow+i+t);let o=0,s=e[o];for(let a=0;a<this.width;a++){a/s.right>1&&(s=e[++o]);const l=Math.abs(a-s.left),c=Math.abs(a-s.right),h=Math.min(l,c);let u;const d=t/i*(r+1);if(s.isDash){const e=r-Math.abs(d);u=Math.sqrt(h*h+e*e);}else u=r-Math.sqrt(h*h+d*d);this.image.data[n+a]=Math.max(0,Math.min(255,u+128));}}}addRegularDash(e,t){for(let t=e.length-1;t>=0;--t){const i=e[t],r=e[t+1];i.zeroLength?e.splice(t,1):r&&r.isDash===i.isDash&&(r.left=i.left,e.splice(t,1));}const i=e[0],r=e[e.length-1];i.isDash===r.isDash&&(i.left=r.left-this.width,r.right=i.right+this.width);const n=this.width*this.nextRow;let o=0,s=e[o];for(let i=0;i<this.width;i++){i/s.right>1&&(s=e[++o]);const r=Math.abs(i-s.left),a=Math.abs(i-s.right),l=Math.min(r,a);this.image.data[n+i]=Math.max(0,Math.min(255,(s.isDash?l:-l)+t+128));}}addDash(e,t){const i=this.getKey(e,t);if(this.positions[i])return this.positions[i];const r=\"round\"===t,n=r?7:0,o=2*n+1;if(this.nextRow+o>this.height)return H(\"LineAtlas out of space\"),null;0===e.length&&e.push(1);let s=0;for(let t=0;t<e.length;t++)e[t]<0&&(H(\"Negative value is found in line dasharray, replacing values with 0\"),e[t]=0),s+=e[t];if(0!==s){const i=this.width/s,o=this.getDashRanges(e,this.width,i);r?this.addRoundDash(o,i,n):this.addRegularDash(o,\"square\"===t?.5*i:0);}const a=this.nextRow+n;this.nextRow+=o;const l={tl:[a,n],br:[s,0]};return this.positions[i]=l,l}}Rs(Lw,\"LineAtlas\");const kw=1*ng;class Ow{constructor(e){const t={},i=[];for(const r in e){const n=e[r],o=t[r]={};for(const e in n.glyphs){const t=n.glyphs[+e];if(!t||0===t.bitmap.width||0===t.bitmap.height)continue;const r=t.metrics.localGlyph?kw:1,s={x:0,y:0,w:t.bitmap.width+2*r,h:t.bitmap.height+2*r};i.push(s),o[e]=s;}}const{w:r,h:n}=K_(i),o=new Qp({width:r||1,height:n||1});for(const i in e){const r=e[i];for(const e in r.glyphs){const n=r.glyphs[+e];if(!n||0===n.bitmap.width||0===n.bitmap.height)continue;const s=t[i][e],a=n.metrics.localGlyph?kw:1;Qp.copy(n.bitmap,o,{x:0,y:0},{x:s.x+a,y:s.y+a},n.bitmap);}}this.image=o,this.positions=t;}}Rs(Ow,\"GlyphAtlas\");class Bw{constructor(e){this.tileID=new qu(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.tileZoom=e.tileZoom,this.uid=e.uid,this.zoom=e.zoom,this.canonical=e.tileID.canonical,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.scope=e.scope,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.promoteId=e.promoteId,this.isSymbolTile=e.isSymbolTile,this.tileTransform=Pg(e.tileID.canonical,e.projection),this.projection=e.projection,this.brightness=e.brightness,this.extraShadowCaster=!!e.extraShadowCaster;}parse(e,t,i,r,n){this.status=\"parsing\",this.data=e,this.collisionBoxArray=new al;const o=new dm(Object.keys(e.layers).sort()),s=new Qm(this.tileID,this.promoteId);s.bucketLayerIDs=[];const a={},l=new Lw(256,256),c={featureIndex:s,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:l,availableImages:i,brightness:this.brightness},h=t.familiesBySource[this.source];for(const t in h){const r=e.layers[t];if(!r)continue;let n=!1,l=!1,u=!1;for(const e of h[t])\"symbol\"===e[0].type?n=!0:l=!0,e[0].is3D()&&\"model\"!==e[0].type&&(u=!0);if(this.extraShadowCaster&&!u)continue;if(!0===this.isSymbolTile&&!n)continue;if(!1===this.isSymbolTile&&!l)continue;1===r.version&&H(`Vector tile source \"${this.source}\" layer \"${t}\" does not use vector tile spec v2 and therefore may have some rendering errors.`);const d=o.encode(t),p=[];for(let e=0;e<r.length;e++){const i=r.feature(e),n=s.getId(i,t);p.push({feature:i,id:n,index:e,sourceLayerIndex:d});}for(const e of h[t]){const t=e[0];(!this.extraShadowCaster||t.is3D()&&\"model\"!==t.type)&&(void 0!==this.isSymbolTile&&\"symbol\"===t.type!==this.isSymbolTile||t.minzoom&&this.zoom<Math.floor(t.minzoom)||t.maxzoom&&this.zoom>=t.maxzoom||\"none\"!==t.visibility&&(Fw(e,this.zoom,c.brightness,i),(a[t.id]=t.createBucket({index:s.bucketLayerIDs.length,layers:e,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:d,sourceID:this.source,projection:this.projection.spec})).populate(p,c,this.tileID.canonical,this.tileTransform),s.bucketLayerIDs.push(e.map((e=>e.id)))));}}let u,d,p,f;l.trim();const m={type:\"maybePrepare\",isSymbolTile:this.isSymbolTile,zoom:this.zoom},_=()=>{if(u)return this.status=\"done\",n(u);if(this.extraShadowCaster)this.status=\"done\",n(null,{buckets:L(a).filter((e=>!e.isEmpty())),featureIndex:s,collisionBoxArray:null,glyphAtlasImage:null,lineAtlas:null,imageAtlas:null,brightness:c.brightness,glyphMap:null,iconMap:null,glyphPositions:null});else if(d&&p&&f){const e=new Ow(d),t=new eg(p,f);for(const r in a){const n=a[r];n instanceof gy?(Fw(n.layers,this.zoom,c.brightness,i),vg(n,d,e.positions,p,t.iconPositions,this.showCollisionBoxes,i,this.tileID.canonical,this.tileZoom,this.projection,this.brightness)):n.hasPattern&&(n instanceof Ey||n instanceof jf||n instanceof vb)&&(Fw(n.layers,this.zoom,c.brightness,i),n.addFeatures(c,this.tileID.canonical,t.patternPositions,i,this.tileTransform,this.brightness));}this.status=\"done\",n(null,{buckets:L(a).filter((e=>!e.isEmpty())),featureIndex:s,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,lineAtlas:l,imageAtlas:t,brightness:c.brightness});}};if(!this.extraShadowCaster){const e=q(c.glyphDependencies,(e=>Object.keys(e).map(Number)));Object.keys(e).length?r.send(\"getGlyphs\",{uid:this.uid,stacks:e,scope:this.scope},((e,t)=>{u||(u=e,d=t,_());}),void 0,!1,m):d={};const t=Object.keys(c.iconDependencies);t.length?r.send(\"getImages\",{icons:t,source:this.source,scope:this.scope,tileID:this.tileID,type:\"icons\"},((e,t)=>{u||(u=e,p=t,_());}),void 0,!1,m):p={};const i=Object.keys(c.patternDependencies);i.length?r.send(\"getImages\",{icons:i,source:this.source,scope:this.scope,tileID:this.tileID,type:\"patterns\"},((e,t)=>{u||(u=e,f=t,_());}),void 0,!1,m):f={};}_();}}function Fw(e,t,i,r){const n=new oa(t,{brightness:i});for(const t of e)t.recalculate(n,r);}class Nw{constructor(e){this.entries={},this.scheduler=e;}request(e,t,i,r){const n=this.entries[e]=this.entries[e]||{callbacks:[]};if(n.result){const[e,i]=n.result;return this.scheduler?this.scheduler.add((()=>{r(e,i);}),t):r(e,i),()=>{}}return n.callbacks.push(r),n.cancel||(n.cancel=i(((i,r)=>{n.result=[i,r];for(const e of n.callbacks)this.scheduler?this.scheduler.add((()=>{e(i,r);}),t):e(i,r);setTimeout((()=>delete this.entries[e]),3e3);}))),()=>{n.result||(n.callbacks=n.callbacks.filter((e=>e!==r)),n.callbacks.length||(n.cancel(),delete this.entries[e]));}}}function Uw(e,t,i){const r=JSON.stringify(e.request);return e.data&&(this.deduped.entries[r]={result:[null,e.data]}),this.deduped.request(r,{type:\"parseTile\",isSymbolTile:e.isSymbolTile,zoom:e.tileZoom},(t=>{const r=Te(e.request,((e,r,n,o)=>{e?t(e):r&&t(null,{vectorTile:i?void 0:new cm(new km(r)),rawData:r,cacheControl:n,expires:o});}));return ()=>{r.cancel(),t();}}),t)}class Vw extends zt{constructor(e,t,i,r){if(super(),this.id=e,this.dispatcher=i,this.type=\"vector\",this.minzoom=0,this.maxzoom=22,this.scheme=\"xyz\",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,k(this,O(t,[\"url\",\"scheme\",\"tileSize\",\"promoteId\"])),this._options=k({type:\"vector\"},t),this._collectResourceTiming=!!t.collectResourceTiming,512!==this.tileSize)throw new Error(\"vector tile sources must have a tileSize of 512\");this.setEventedParent(r),this._tileWorkers={},this._deduped=new Nw;}load(e){this._loaded=!1,this.fire(new It(\"dataloading\",{dataType:\"source\"}));const t=Array.isArray(this.map._language)?this.map._language.join():this.map._language,i=this.map._worldview;this._tileJSONRequest=Dw(this._options,this.map._requestManager,t,i,((r,n)=>{this._tileJSONRequest=null,this._loaded=!0,r?(t&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${t}`),i&&2!==i.length&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${i}`),this.fire(new Ct(r))):n&&(k(this,n),n.bounds&&(this.tileBounds=new Rw(n.bounds,this.minzoom,this.maxzoom)),Ge(n.tiles,this.map._requestManager._customAccessToken),this.fire(new It(\"data\",{dataType:\"source\",sourceDataType:\"metadata\"})),this.fire(new It(\"data\",{dataType:\"source\",sourceDataType:\"content\"}))),e&&e(r);}));}loaded(){return this._loaded}hasTile(e){return !this.tileBounds||this.tileBounds.contains(e.canonical)}onAdd(e){this.map=e,this.load();}reload(){this.cancelTileJSONRequest();const e=va(this.id,this.scope);this.load((()=>this.map.style.clearSource(e)));}setTiles(e){return this._options.tiles=e,this.reload(),this}setUrl(e){return this.url=e,this._options.url=e,this.reload(),this}onRemove(){this.cancelTileJSONRequest();}serialize(){return k({},this._options)}loadTile(e,t){const i=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme)),r={request:this.map._requestManager.transformRequest(i,ye.Tile),data:void 0,uid:e.uid,tileID:e.tileID,tileZoom:e.tileZoom,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,scope:this.scope,pixelRatio:dt.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:e.isSymbolTile,brightness:this.map.style&&this.map.style.getBrightness()||0,extraShadowCaster:e.isExtraShadowCaster};if(r.request.collectResourceTiming=this._collectResourceTiming,e.actor&&\"expired\"!==e.state)\"loading\"===e.state?e.reloadCallback=t:e.request=e.actor.send(\"reloadTile\",r,n.bind(this));else if(e.actor=this._tileWorkers[i]=this._tileWorkers[i]||this.dispatcher.getActor(),this.dispatcher.ready)e.request=e.actor.send(\"loadTile\",r,n.bind(this),void 0,!0);else {const t=Uw.call({deduped:this._deduped},r,((t,i)=>{t||!i?n.call(this,t):(r.data={cacheControl:i.cacheControl,expires:i.expires,rawData:i.rawData.slice(0)},e.actor&&e.actor.send(\"loadTile\",r,n.bind(this),void 0,!0));}),!0);e.request={cancel:t};}function n(i,r){return delete e.request,e.aborted?t(null):i&&404!==i.status?t(i):(r&&r.resourceTiming&&(e.resourceTiming=r.resourceTiming),this.map._refreshExpiredTiles&&r&&e.setExpiryData(r),e.loadVectorData(r,this.map.painter),ge(this.dispatcher),t(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send(\"abortTile\",{uid:e.uid,type:this.type,source:this.id,scope:this.scope});}unloadTile(e){e.actor&&e.actor.send(\"removeTile\",{uid:e.uid,type:this.type,source:this.id,scope:this.scope}),e.destroy();}hasTransition(){return !1}afterUpdate(){this._tileWorkers={};}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null);}}class jw extends zt{constructor(e,t,i,r){super(),this.id=e,this.dispatcher=i,this.setEventedParent(r),this.type=\"raster\",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme=\"xyz\",this.tileSize=512,this._loaded=!1,this._options=k({type:\"raster\"},t),k(this,O(t,[\"url\",\"scheme\",\"tileSize\"]));}load(e){this._loaded=!1,this.fire(new It(\"dataloading\",{dataType:\"source\"})),this._tileJSONRequest=Dw(this._options,this.map._requestManager,null,null,((t,i)=>{this._tileJSONRequest=null,this._loaded=!0,t?this.fire(new Ct(t)):i&&(k(this,i),i.bounds&&(this.tileBounds=new Rw(i.bounds,this.minzoom,this.maxzoom)),Ge(i.tiles),this.fire(new It(\"data\",{dataType:\"source\",sourceDataType:\"metadata\"})),this.fire(new It(\"data\",{dataType:\"source\",sourceDataType:\"content\"}))),e&&e(t);}));}loaded(){return this._loaded}onAdd(e){this.map=e,this.load();}reload(){this.cancelTileJSONRequest();const e=va(this.id,this.scope);this.load((()=>this.map.style.clearSource(e)));}setTiles(e){return this._options.tiles=e,this.reload(),this}setUrl(e){return this.url=e,this._options.url=e,this.reload(),this}onRemove(){this.cancelTileJSONRequest();}serialize(){return k({},this._options)}hasTile(e){return !this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(e,t){const i=dt.devicePixelRatio>=2,r=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),i,this.tileSize);e.request=Ie(this.map._requestManager.transformRequest(r,ye.Tile),((i,r,n,o)=>(delete e.request,e.aborted?(e.state=\"unloaded\",t(null)):i?(e.state=\"errored\",t(i)):r?(this.map._refreshExpiredTiles&&e.setExpiryData({cacheControl:n,expires:o}),e.setTexture(r,this.map.painter),e.state=\"loaded\",ge(this.dispatcher),void t(null)):t(null))));}abortTile(e,t){e.request&&(e.request.cancel(),delete e.request),t();}unloadTile(e,t){e.texture&&e.texture instanceof My?(e.destroy(!0),e.texture&&e.texture instanceof My&&this.map.painter.saveTileTexture(e.texture)):e.destroy(),t();}hasTransition(){return !1}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null);}}function Gw(){return null!=xI.workerClass?new xI.workerClass:new t.Worker(xI.workerUrl)}const qw=\"mapboxgl_preloaded_worker_pool\";class Zw{constructor(){this.active={};}acquire(e){if(!this.workers)for(this.workers=[];this.workers.length<Zw.workerCount;)this.workers.push(new Gw);return this.active[e]=!0,this.workers.slice()}release(e){delete this.active[e],this.workers&&0===this.numActive()&&(this.workers.forEach((e=>{e.terminate();})),this.workers=null);}isPreloaded(){return !!this.active[qw]}numActive(){return Object.keys(this.active).length}}let $w;function Ww(){return $w||($w=new Zw),$w}Zw.workerCount=2;let Hw,Xw,Yw,Kw=null;function Jw(){return Q()&&self.worker&&self.worker.dracoUrl?self.worker.dracoUrl:Xw||n.DRACO_URL}const Qw=5123,eT=5126,tT={5120:Int8Array,5121:Uint8Array,5122:Int16Array,[Qw]:Uint16Array,5125:Uint32Array,[eT]:Float32Array},iT={5120:\"DT_INT8\",5121:\"DT_UINT8\",5122:\"DT_INT16\",[Qw]:\"DT_UINT16\",5125:\"DT_UINT32\",[eT]:\"DT_FLOAT32\"},rT={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16};function nT(e,t,i){const r=i.json.bufferViews.length,n=i.buffers.length;t.bufferView=r,i.json.bufferViews[r]={buffer:n,byteLength:e.byteLength},i.buffers[n]=e;}const oT=\"KHR_draco_mesh_compression\";function sT(e,t){const i=e.extensions&&e.extensions[oT];if(!i)return;const r=new Yw.Decoder,n=uT(t,i.bufferView),o=new Yw.Mesh;if(!r.DecodeArrayToMesh(n,n.byteLength,o))throw new Error(\"Failed to decode Draco mesh\");const s=t.json.accessors[e.indices],a=tT[s.componentType],l=s.count*a.BYTES_PER_ELEMENT,c=Yw._malloc(l);a===Uint16Array?r.GetTrianglesUInt16Array(o,l,c):r.GetTrianglesUInt32Array(o,l,c),nT(Yw.memory.buffer.slice(c,c+l),s,t),Yw._free(c);for(const n of Object.keys(i.attributes)){const s=r.GetAttributeByUniqueId(o,i.attributes[n]),a=t.json.accessors[e.attributes[n]],l=iT[a.componentType],c=a.count*rT[a.type]*tT[a.componentType].BYTES_PER_ELEMENT,h=Yw._malloc(c);r.GetAttributeDataArrayForAllPoints(o,s,Yw[l],c,h),nT(Yw.memory.buffer.slice(h,h+c),a,t),Yw._free(h);}r.destroy(),o.destroy(),delete e.extensions[oT];}const aT=1179937895,lT=new TextDecoder(\"utf8\");function cT(e,t){return new URL(e,t).href}function hT(e,t,i,r){return fetch(cT(e.uri,r)).then((e=>e.arrayBuffer())).then((e=>{t.buffers[i]=e;}))}function uT(e,t){const i=e.json.bufferViews[t];return new Uint8Array(e.buffers[i.buffer],i.byteOffset||0,i.byteLength)}function dT(e,i,r,n){if(e.uri){const o=cT(e.uri,n);return fetch(o).then((e=>e.blob())).then((e=>t.createImageBitmap(e))).then((e=>{i.images[r]=e;}))}if(void 0!==e.bufferView){const n=uT(i,e.bufferView),o=new t.Blob([n],{type:e.mimeType});return t.createImageBitmap(o).then((e=>{i.images[r]=e;}))}}function pT(e,t=0,i){const r={json:null,images:[],buffers:[]};if(new Uint32Array(e,t,1)[0]===aT){const i=new Uint32Array(e,t);let n=2;const o=(i[n++]>>2)-3,s=i[n++]>>2;if(n++,r.json=JSON.parse(lT.decode(i.subarray(n,n+s))),n+=s,n<o){const o=i[n++];n++;const s=t+(n<<2);r.buffers[0]=e.slice(s,s+o);}}else r.json=JSON.parse(lT.decode(new Uint8Array(e,t)));const{buffers:n,images:o,meshes:s,extensionsUsed:a}=r.json;let l=Promise.resolve();if(n){const e=[];for(let t=0;t<n.length;t++){const o=n[t];o.uri?e.push(hT(o,r,t,i)):r.buffers[t]||(r.buffers[t]=null);}l=Promise.all(e);}return l.then((()=>{const e=[],t=a&&a.includes(oT);if(t&&e.push(function(){if(!Yw)return Hw||(Hw=function(e){let t,i=null;function r(){t=new Uint8Array(i.buffer);}function n(){throw new Error(\"Unexpected Draco error.\")}const o={a:{a:n,d:function(e,i,r){return t.copyWithin(e,i,i+r)},c:function(e){const n=t.length,o=Math.max(e>>>0,Math.ceil(1.2*n)),s=Math.ceil((o-n)/65536);try{return i.grow(s),r(),!0}catch(e){return !1}},b:n}};return (WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(e,o):e.then((e=>e.arrayBuffer())).then((e=>WebAssembly.instantiate(e,o)))).then((e=>{const{Rb:n,Qb:o,P:s,T:a,X:l,Ja:c,La:h,Qa:u,Va:d,Wa:p,eb:f,jb:m,f:_,e:g,yb:y,zb:x,Ab:v,Bb:b,Db:w,Gb:T}=e.instance.exports;i=g;const E=(()=>{let e=0,i=0,r=0,s=0;return a=>{r&&(n(s),n(e),i+=r,r=e=0),e||(i+=128,e=o(i));const l=a.length+7&-8;let c=e;l>=i&&(r=l,c=s=o(l));for(let e=0;e<a.length;e++)t[c+e]=a[e];return c}})();return r(),_(),{memory:g,_free:n,_malloc:o,Mesh:class{constructor(){this.ptr=s();}destroy(){a(this.ptr);}},Decoder:class{constructor(){this.ptr=c();}destroy(){m(this.ptr);}DecodeArrayToMesh(e,t,i){const r=E(e),n=h(this.ptr,r,t,i.ptr);return !!l(n)}GetAttributeByUniqueId(e,t){return {ptr:u(this.ptr,e.ptr,t)}}GetTrianglesUInt16Array(e,t,i){d(this.ptr,e.ptr,t,i);}GetTrianglesUInt32Array(e,t,i){p(this.ptr,e.ptr,t,i);}GetAttributeDataArrayForAllPoints(e,t,i,r,n){f(this.ptr,e.ptr,t.ptr,i,r,n);}},DT_INT8:y(),DT_UINT8:x(),DT_INT16:v(),DT_UINT16:b(),DT_UINT32:w(),DT_FLOAT32:T()}}))}(fetch(Jw())),Hw.then((e=>{Yw=e,Hw=void 0;})))}()),o)for(let t=0;t<o.length;t++)e.push(dT(o[t],r,t,i));return (e.length?Promise.all(e):Promise.resolve()).then((()=>{if(t&&s)for(const{primitives:e}of s)for(const t of e)sT(t,r);return r}))}))}function fT(e){return fetch(e).then((e=>e.arrayBuffer())).then((t=>pT(t,0,e)))}class mT{constructor(e,t,i){if(this.triangleCount=t.length/3,this.min=new y(0,0),this.max=new y(0,0),this.xScale=0,this.yScale=0,this.cellsX=0,this.cellsY=0,this.cells=[],this.payload=[],0===this.triangleCount||0===e.length||0===i)return;const r=e.map((e=>e.x)),n=e.map((e=>e.y));this.min=new y(Math.min(...r),Math.min(...n)),this.max=new y(Math.max(...r),Math.max(...n));const o=this.max.sub(this.min);o.x=Math.max(o.x,1),o.y=Math.max(o.y,1);const s=Math.max(o.x,o.y)/i;this.cellsX=Math.max(1,Math.ceil(o.x/s)),this.cellsY=Math.max(1,Math.ceil(o.y/s)),this.xScale=1/s,this.yScale=1/s;const a=[];for(let i=0;i<this.triangleCount;i++){const r=e[t[3*i+0]].sub(this.min),n=e[t[3*i+1]].sub(this.min),o=e[t[3*i+2]].sub(this.min),l=_T(Math.floor(Math.min(r.x,n.x,o.x)),this.xScale,this.cellsX),c=_T(Math.floor(Math.max(r.x,n.x,o.x)),this.xScale,this.cellsX),h=_T(Math.floor(Math.min(r.y,n.y,o.y)),this.yScale,this.cellsY),u=_T(Math.floor(Math.max(r.y,n.y,o.y)),this.yScale,this.cellsY),d=new y(0,0),p=new y(0,0),f=new y(0,0),m=new y(0,0);for(let e=h;e<=u;++e){d.y=p.y=e*s,f.y=m.y=(e+1)*s;for(let t=l;t<=c;++t)d.x=f.x=t*s,p.x=m.x=(t+1)*s,(Lp(r,n,o,d,p,m)||Lp(r,n,o,d,m,f))&&a.push({cellIdx:e*this.cellsX+t,triIdx:i});}}if(0===a.length)return;a.sort(((e,t)=>e.cellIdx-t.cellIdx||e.triIdx-t.triIdx));let l=0;for(;l<a.length;){const e=a[l].cellIdx,t={start:this.payload.length,len:0};for(;l<a.length&&a[l].cellIdx===e;)++t.len,this.payload.push(a[l++].triIdx);this.cells[e]=t;}}query(e,t,i){if(0===this.triangleCount||0===this.cells.length)return;if(e.x>this.max.x||this.min.x>t.x)return;if(e.y>this.max.y||this.min.y>t.y)return;this.lookup||(this.lookup=new Uint8Array(Math.ceil(this.triangleCount/8)));for(let e=0;e<this.lookup.length;e++)this.lookup[e]=0;const r=_T(e.x-this.min.x,this.xScale,this.cellsX),n=_T(t.x-this.min.x,this.xScale,this.cellsX),o=_T(e.y-this.min.y,this.yScale,this.cellsY),s=_T(t.y-this.min.y,this.yScale,this.cellsY);for(let e=o;e<=s;e++)for(let t=r;t<=n;t++){const r=this.cells[e*this.cellsX+t];if(r)for(let e=0;e<r.len;e++){const t=this.payload[r.start+e],n=Math.floor(t/8),o=1<<t%8;if(!(this.lookup[n]&o)&&(this.lookup[n]|=o,i.push(t),i.length===this.triangleCount))return}}}}function _T(e,t,i){return Math.max(0,Math.min(i-1,Math.floor(e*t)))}function gT(e,t){const i=e.json.bufferViews[t.bufferView];return new(0,tT[t.componentType])(e.buffers[i.buffer],(t.byteOffset||0)+(i.byteOffset||0),t.count*rT[t.type])}function yT(e,t,i){const r=e.indices,n=e.attributes,o={};o.indexArray=new Wa;const s=t.json.accessors[r],a=s.count/3;o.indexArray.reserve(a);const l=gT(t,s);for(let e=0;e<a;e++)o.indexArray.emplaceBack(l[3*e],l[3*e+1],l[3*e+2]);o.indexArray._trim(),o.vertexArray=new tl;const c=t.json.accessors[n.POSITION];o.vertexArray.reserve(c.count);const h=gT(t,c);for(let e=0;e<c.count;e++)o.vertexArray.emplaceBack(h[3*e],h[3*e+1],h[3*e+2]);if(o.vertexArray._trim(),o.aabb=new ed(c.min,c.max),o.centroid=function(e,t){const i=[0,0,0],r=e.length;if(r>0){for(let n=0;n<r;n++){const r=3*e[n];i[0]+=t[r],i[1]+=t[r+1],i[2]+=t[r+2];}i[0]/=r,i[1]/=r,i[2]/=r;}return i}(l,h),void 0!==n.COLOR_0){const e=t.json.accessors[n.COLOR_0],i=rT[e.type];if(e.componentType===eT){o.colorArray=3===i?new tl:new ka,o.colorArray.reserve(e.count);const r=gT(t,e);if(3===i)for(let t=0;t<e.count;t++)o.colorArray.emplaceBack(r[3*t],r[3*t+1],r[3*t+2]);else for(let t=0;t<e.count;t++)o.colorArray.emplaceBack(r[4*t],r[4*t+1],r[4*t+2],r[4*t+3]);o.colorArray._trim();}else if(e.componentType===Qw&&4===i){o.colorArray=new ka,o.colorArray.resize(e.count);const i=gT(t,e),r=1/65535,n=o.colorArray.float32;for(let e=0;e<4*i.length;++e)n[e]=i[e]*r;}else H(`glTF color buffer parsing for accessor ${JSON.stringify(e)} is not supported`);}if(void 0!==n.NORMAL){o.normalArray=new tl;const e=t.json.accessors[n.NORMAL];o.normalArray.reserve(e.count);const i=gT(t,e);for(let t=0;t<e.count;t++)o.normalArray.emplaceBack(i[3*t],i[3*t+1],i[3*t+2]);o.normalArray._trim();}if(void 0!==n.TEXCOORD_0&&i.length>0){o.texcoordArray=new il;const e=t.json.accessors[n.TEXCOORD_0];o.texcoordArray.reserve(e.count);const i=gT(t,e);for(let t=0;t<e.count;t++)o.texcoordArray.emplaceBack(i[2*t],i[2*t+1]);o.texcoordArray._trim();}const u=e.material;return o.material=function(e,t){const{emissiveFactor:i=[0,0,0],alphaMode:r=\"OPAQUE\",alphaCutoff:n=.5,normalTexture:o,occlusionTexture:s,emissiveTexture:a,doubleSided:l}=e,{baseColorFactor:c=[1,1,1,1],metallicFactor:h=1,roughnessFactor:u=1,baseColorTexture:d,metallicRoughnessTexture:p}=e.pbrMetallicRoughness||{};return {pbrMetallicRoughness:{baseColorFactor:new hi(...c),metallicFactor:h,roughnessFactor:u,baseColorTexture:d?t[d.index]:void 0,metallicRoughnessTexture:p?t[p.index]:void 0},doubleSided:l,emissiveFactor:i,alphaMode:r,alphaCutoff:n,normalTexture:o?t[o.index]:void 0,occlusionTexture:s?t[s.index]:void 0,emissionTexture:a?t[a.index]:void 0,defined:void 0===e.defined}}(void 0!==u?t.json.materials[u]:{defined:!1},i),void 0!==n._FEATURE_RGBA4444&&(o.featureData=new Uint32Array(gT(t,t.json.accessors[n._FEATURE_RGBA4444]).buffer)),o}function xT(e,t,i){const{matrix:r,rotation:n,translation:o,scale:s,mesh:a,extras:l,children:c}=e,h={};if(h.matrix=r||Au.fromRotationTranslationScale([],n||[0,0,0,1],o||[0,0,0],s||[1,1,1]),void 0!==a){h.meshes=i[a];const e=h.anchor=[0,0];for(const t of h.meshes){const{min:i,max:r}=t.aabb;e[0]+=i[0]+r[0],e[1]+=i[1]+r[1];}e[0]=Math.floor(e[0]/h.meshes.length/2),e[1]=Math.floor(e[1]/h.meshes.length/2);}if(l&&(l.id&&(h.id=l.id),l.lights&&(h.lights=function(e){if(!e.length)return [];const t=function(e){const t=atob(e),i=new Uint8Array(t.length);for(let e=0;e<t.length;e++)i[e]=t.codePointAt(e);return i}(e),i=[],r=t.length/24,n=new Uint16Array(t.buffer),o=new Float32Array(t.buffer);for(let e=0;e<r;e++){const t=n[2*e*6]/30,r=n[2*e*6+1]/30,s=n[2*e*6+10]/100,a=o[6*e+1],l=o[6*e+2],c=o[6*e+3],h=o[6*e+4],u=c-a,d=h-l,p=Math.hypot(u,d);i.push({pos:[a+.5*u,l+.5*d,r],normal:[d/p,-u/p,0],width:p,height:t,depth:s,points:[a,l,c,h]});}return i}(l.lights))),c){const e=[];for(const r of c)e.push(xT(t.json.nodes[r],t,i));h.children=e;}return h}function vT(e){if(0===e.vertices.length||0===e.indices.length)return null;const[t,i]=[e.vertices[0].clone(),e.vertices[0].clone()];for(let r=1;r<e.vertices.length;++r){const n=e.vertices[r];t.x=Math.min(t.x,n.x),t.y=Math.min(t.y,n.y),i.x=Math.max(i.x,n.x),i.y=Math.max(i.y,n.y);}const r=Math.ceil(Math.max(i.x-t.x,i.y-t.y)/256),n=Math.max(8,r),o=new mT(e.vertices,e.indices,n);return {vertices:e.vertices,indices:e.indices,grid:o,min:t,max:i}}function bT(e){if(!e.extras||!e.extras.ground)return null;const t=e.extras.ground;if(!t||!Array.isArray(t)||0===t.length)return null;const i=t[0];if(!i||!Array.isArray(i)||0===i.length)return null;const r=[];for(const e of i){if(!Array.isArray(e)||2!==e.length)continue;const t=e[0],i=e[1];\"number\"==typeof t&&\"number\"==typeof i&&r.push(new y(t,i));}if(r.length<3)return null;r.length>1&&r[r.length-1].equals(r[0])&&r.pop();let n=0;for(let e=0;e<r.length;e++){const t=r[e],i=r[(e+1)%r.length],o=r[(e+2)%r.length];n+=(t.x-i.x)*(o.y-i.y)-(o.x-i.x)*(t.y-i.y);}n>0&&r.reverse();const o=Bf(r.flatMap((e=>[e.x,e.y])),[]);return 0===o.length?null:{vertices:r,indices:o}}function wT(e){const t=[],i=[];let r=0;for(const n of e){r=t.length;const e=n.vertexArray.float32,o=n.indexArray.uint16;for(let i=0;i<n.vertexArray.length;i++)t.push(new y(e[3*i+0],e[3*i+1]));for(let e=0;e<3*n.indexArray.length;e++)i.push(o[e]+r);}if(i.length%3!=0)return null;for(let e=0;e<i.length;e+=3){const r=t[i[e+0]],n=t[i[e+1]],o=t[i[e+2]];(r.x-n.x)*(o.y-n.y)-(o.x-n.x)*(r.y-n.y)>0&&([i[e+1],i[e+2]]=[i[e+2],i[e+1]]);}return {vertices:t,indices:i}}function TT(e){const i=function(e,i){const r=[],n=t.WebGL2RenderingContext;if(e.json.textures)for(const t of e.json.textures){const o={magFilter:n.LINEAR,minFilter:n.NEAREST,wrapS:n.REPEAT,wrapT:n.REPEAT};void 0!==t.sampler&&Object.assign(o,e.json.samplers[t.sampler]),r.push({image:i[t.source],sampler:o,uploaded:!1});}return r}(e,e.images),r=function(e,t){const i=[];for(const r of e.json.meshes){const n=[];for(const i of r.primitives)n.push(yT(i,e,t));i.push(n);}return i}(e,i),{scenes:n,scene:o,nodes:s}=e.json,a=n?n[o||0].nodes:s,l=[];for(const t of a)l.push(xT(s[t],e,r));return function(e,t,i){const r={},n=new Set;for(let o=0;o<e.length;o++){const e=i[t[o]];if(!e.extras)continue;const s=e.extras[\"mapbox:footprint:version\"],a=e.extras[\"mapbox:footprint:id\"];(s||a)&&n.add(o),\"1.0.0\"===s&&a&&(r[a]=o);}for(let o=0;o<e.length;o++){if(n.has(o))continue;const s=e[o],a=i[t[o]];if(!a.extras)continue;let l=null;s.id in r&&(l=wT(e[r[s.id]].meshes)),l||(l=bT(a)),l&&(s.footprint=vT(l));}if(n.size>0){const t=Array.from(n.values()).sort(((e,t)=>e-t));for(let i=t.length-1;i>=0;i--)e.splice(t[i],1);}}(l,a,e.json.nodes),l}function ET(e){e.heightmap=new Float32Array(4096),e.heightmap.fill(-1);const t=e.vertexArray.float32,i=e.aabb.min[0]-1,r=e.aabb.min[1]-1,n=Sv/(e.aabb.max[0]-i+2),o=Sv/(e.aabb.max[1]-r+2);for(let s=0;s<t.length;s+=3){const a=t[s+2],l=(t[s+0]-i)*n|0,c=(t[s+1]-r)*o|0;a>e.heightmap[c*Sv+l]&&(e.heightmap[c*Sv+l]=a);}}function MT(e,t){const i={};i.indexArray=new Wa,i.indexArray.reserve(4*e.length),i.vertexArray=new tl,i.vertexArray.reserve(10*e.length),i.colorArray=new ka,i.vertexArray.reserve(10*e.length);let r=0;for(const n of e){const e=Math.min(10,Math.max(4,1.3*n.height))*t,o=[-n.normal[1],n.normal[0],0],s=Math.min(.29,.1*n.width/n.depth),a=n.width-2*n.depth*t*(s+.01),l=Du.scaleAndAdd([],n.pos,o,a/2),c=Du.scaleAndAdd([],n.pos,o,-a/2),h=[l[0],l[1],l[2]+n.height],u=[c[0],c[1],c[2]+n.height],d=Du.scaleAndAdd([],n.normal,o,s);Du.scale(d,d,e);const p=Du.scaleAndAdd([],n.normal,o,-s);Du.scale(p,p,e),Du.add(d,l,d),Du.add(p,c,p),l[2]+=.1,c[2]+=.1,i.vertexArray.emplaceBack(d[0],d[1],d[2]),i.vertexArray.emplaceBack(p[0],p[1],p[2]),i.vertexArray.emplaceBack(l[0],l[1],l[2]),i.vertexArray.emplaceBack(c[0],c[1],c[2]),i.vertexArray.emplaceBack(h[0],h[1],h[2]),i.vertexArray.emplaceBack(u[0],u[1],u[2]),i.vertexArray.emplaceBack(l[0],l[1],l[2]),i.vertexArray.emplaceBack(c[0],c[1],c[2]),i.vertexArray.emplaceBack(d[0],d[1],d[2]),i.vertexArray.emplaceBack(p[0],p[1],p[2]);const f=a/e/2;i.colorArray.emplaceBack(-f-s,-1,f,.8),i.colorArray.emplaceBack(f+s,-1,f,.8),i.colorArray.emplaceBack(-f,0,f,1.3),i.colorArray.emplaceBack(f,0,f,1.3),i.colorArray.emplaceBack(f+s,-.8,f,.7),i.colorArray.emplaceBack(f+s,-.8,f,.7),i.colorArray.emplaceBack(0,0,f,1.3),i.colorArray.emplaceBack(0,0,f,1.3),i.colorArray.emplaceBack(f+s,-1.2,f,.8),i.colorArray.emplaceBack(f+s,-1.2,f,.8),i.indexArray.emplaceBack(6+r,4+r,8+r),i.indexArray.emplaceBack(7+r,9+r,5+r),i.indexArray.emplaceBack(0+r,1+r,2+r),i.indexArray.emplaceBack(1+r,3+r,2+r),r+=10;}const n={defined:!0,emissiveFactor:[0,0,0]},o={};return o.baseColorFactor=hi.white,n.pbrMetallicRoughness=o,i.material=n,i.aabb=new ed([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),i}Rs(mT,\"TriangleGridIndex\");const AT={vector:Vw,raster:jw,\"raster-dem\":class extends jw{constructor(e,t,i,r){super(e,t,i,r),this.type=\"raster-dem\",this.maxzoom=22,this._options=k({type:\"raster-dem\"},t),this.encoding=t.encoding||\"mapbox\";}loadTile(e,i){const r=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function n(t,r){t&&(e.state=\"errored\",i(t)),r&&(e.dem=r,e.dem.onDeserialize(),e.needsHillshadePrepare=!0,e.needsDEMTextureUpload=!0,e.state=\"loaded\",i(null));}e.request=Ie(this.map._requestManager.transformRequest(r,ye.Tile),function(r,o,s,a){if(delete e.request,e.aborted)e.state=\"unloaded\",i(null);else if(r)e.state=\"errored\",i(r);else if(o){this.map._refreshExpiredTiles&&e.setExpiryData({cacheControl:s,expires:a});const i=t.ImageBitmap&&o instanceof t.ImageBitmap&&ut(),r=1-(o.width-((l=o.width)<=1?1:Math.pow(2,Math.floor(Math.log(l)/Math.LN2))))/2;r<1||e.neighboringTiles||(e.neighboringTiles=this._getNeighboringTiles(e.tileID));const c=i?o:dt.getImageData(o,r),h={uid:e.uid,coord:e.tileID,source:this.id,scope:this.scope,rawImageData:c,encoding:this.encoding,padding:r};e.actor&&\"expired\"!==e.state||(e.actor=this.dispatcher.getActor(),e.actor.send(\"loadDEMTile\",h,n.bind(this),void 0,!0));}var l;}.bind(this));}_getNeighboringTiles(e){const t=e.canonical,i=Math.pow(2,t.z),r=(t.x-1+i)%i,n=0===t.x?e.wrap-1:e.wrap,o=(t.x+1+i)%i,s=t.x+1===i?e.wrap+1:e.wrap,a={};return a[new qu(e.overscaledZ,n,t.z,r,t.y).key]={backfilled:!1},a[new qu(e.overscaledZ,s,t.z,o,t.y).key]={backfilled:!1},t.y>0&&(a[new qu(e.overscaledZ,n,t.z,r,t.y-1).key]={backfilled:!1},a[new qu(e.overscaledZ,e.wrap,t.z,t.x,t.y-1).key]={backfilled:!1},a[new qu(e.overscaledZ,s,t.z,o,t.y-1).key]={backfilled:!1}),t.y+1<i&&(a[new qu(e.overscaledZ,n,t.z,r,t.y+1).key]={backfilled:!1},a[new qu(e.overscaledZ,e.wrap,t.z,t.x,t.y+1).key]={backfilled:!1},a[new qu(e.overscaledZ,s,t.z,o,t.y+1).key]={backfilled:!1}),a}},geojson:class extends zt{constructor(e,t,i,r){super(),this.id=e,this.type=\"geojson\",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=i.getActor(),this.setEventedParent(r),this._data=t.data,this._options=k({},t),this._collectResourceTiming=t.collectResourceTiming,void 0!==t.maxzoom&&(this.maxzoom=t.maxzoom),t.type&&(this.type=t.type),t.attribution&&(this.attribution=t.attribution),this.promoteId=t.promoteId;const n=cr/this.tileSize;this.workerOptions=k({source:this.id,scope:this.scope,cluster:t.cluster||!1,geojsonVtOptions:{buffer:(void 0!==t.buffer?t.buffer:128)*n,tolerance:(void 0!==t.tolerance?t.tolerance:.375)*n,extent:cr,maxZoom:this.maxzoom,lineMetrics:t.lineMetrics||!1,generateId:t.generateId||!1},superclusterOptions:{maxZoom:void 0!==t.clusterMaxZoom?t.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,t.clusterMinPoints||2),extent:cr,radius:(void 0!==t.clusterRadius?t.clusterRadius:50)*n,log:!1,generateId:t.generateId||!1},clusterProperties:t.clusterProperties,filter:t.filter},t.workerOptions);}onAdd(e){this.map=e,this.setData(this._data);}setData(e){return this._data=e,this._updateWorkerData(),this}getClusterExpansionZoom(e,t){return this.actor.send(\"geojson.getClusterExpansionZoom\",{clusterId:e,source:this.id,scope:this.scope},t),this}getClusterChildren(e,t){return this.actor.send(\"geojson.getClusterChildren\",{clusterId:e,source:this.id,scope:this.scope},t),this}getClusterLeaves(e,t,i,r){return this.actor.send(\"geojson.getClusterLeaves\",{source:this.id,scope:this.scope,clusterId:e,limit:t,offset:i},r),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new It(\"dataloading\",{dataType:\"source\"})),this._loaded=!1;const e=k({},this.workerOptions);e.scope=this.scope;const t=this._data;\"string\"==typeof t?(e.request=this.map._requestManager.transformRequest(dt.resolveURL(t),ye.Source),e.request.collectResourceTiming=this._collectResourceTiming):e.data=JSON.stringify(t),this._pendingLoad=this.actor.send(`${this.type}.loadData`,e,((e,t)=>{if(this._loaded=!0,this._pendingLoad=null,e)this.fire(new Ct(e));else {const e={dataType:\"source\",sourceDataType:this._metadataFired?\"content\":\"metadata\"};this._collectResourceTiming&&t&&t.resourceTiming&&t.resourceTiming[this.id]&&(e.resourceTiming=t.resourceTiming[this.id]),this.fire(new It(\"data\",e)),this._metadataFired=!0;}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1);}));}loaded(){return this._loaded}loadTile(e,t){const i=e.actor?\"reloadTile\":\"loadTile\";e.actor=this.actor;const r={type:this.type,uid:e.uid,tileID:e.tileID,tileZoom:e.tileZoom,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,scope:this.scope,pixelRatio:dt.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,brightness:this.map.style&&this.map.style.getBrightness()||0};e.request=this.actor.send(i,r,((r,n)=>(delete e.request,e.destroy(),e.aborted?t(null):r?t(r):(e.loadVectorData(n,this.map.painter,\"reloadTile\"===i),t(null)))),void 0,\"loadTile\"===i);}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0;}unloadTile(e){this.actor.send(\"removeTile\",{uid:e.uid,type:this.type,source:this.id,scope:this.scope}),e.destroy();}onRemove(){this._pendingLoad&&this._pendingLoad.cancel();}serialize(){return k({},this._options,{type:this.type,data:this._data})}hasTransition(){return !1}},video:class extends Jb{constructor(e,t,i,r){super(e,t,i,r),this.roundZoom=!0,this.type=\"video\",this.options=t;}load(){this._loaded=!1;const e=this.options;this.urls=[];for(const t of e.urls)this.urls.push(this.map._requestManager.transformRequest(t,ye.Source).url);!function(e,i){const r=t.document.createElement(\"video\");r.muted=!0,r.onloadstart=function(){i(null,r);};for(let i=0;i<e.length;i++){const n=t.document.createElement(\"source\");Ee(e[i])||(r.crossOrigin=\"Anonymous\"),n.src=e[i],r.appendChild(n);}}(this.urls,((e,t)=>{this._loaded=!0,e?this.fire(new Ct(e)):t&&(this.video=t,this.video.loop=!0,this.video.setAttribute(\"playsinline\",\"\"),this.video.addEventListener(\"playing\",(()=>{this.map.triggerRepaint();})),this.map&&this.video.play(),this._finishLoading());}));}pause(){this.video&&this.video.pause();}play(){this.video&&this.video.play();}seek(e){if(this.video){const t=this.video.seekable;e<t.start(0)||e>t.end(0)?this.fire(new Ct(new Dt(`sources.${this.id}`,null,`Playback for this video can be set only between the ${t.start(0)} and ${t.end(0)}-second mark.`))):this.video.currentTime=e;}}getVideo(){return this.video}onAdd(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)));}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const e=this.map.painter.context,t=e.gl;this.texture?this.video.paused||(this.texture.bind(t.LINEAR,t.CLAMP_TO_EDGE),t.texSubImage2D(t.TEXTURE_2D,0,0,0,t.RGBA,t.UNSIGNED_BYTE,this.video)):(this.texture=new My(e,this.video,t.RGBA),this.texture.bind(t.LINEAR,t.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(e);}serialize(){return {type:\"video\",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:Jb,model:class extends zt{constructor(e,t,i,r){super(),this.id=e,this.type=\"model\",this.models=[],this._loaded=!1,this._options=t;}load(){const e=[];for(const t in this._options.models){const i=this._options.models[t],r=fT(this.map._requestManager.transformRequest(i.uri,ye.Model).url).then((e=>{if(!e)return;const r=TT(e),n=new Cv(t,i.position,i.orientation,r);n.computeBoundsAndApplyParent(),this.models.push(n);})).catch((e=>{this.fire(new Ct(new Error(`Could not load model ${t} from ${i.uri}: ${e.message}`)));}));e.push(r);}return Promise.allSettled(e).then((()=>{this._loaded=!0,this.fire(new It(\"data\",{dataType:\"source\",sourceDataType:\"metadata\"}));})).catch((e=>{this.fire(new Ct(new Error(`Could not load models: ${e.message}`)));}))}onAdd(e){this.map=e,this.load();}hasTransition(){return !1}loaded(){return this._loaded}getModels(){return this.models}loadTile(e,t){}serialize(){return {type:\"model\"}}},\"batched-model\":class extends zt{constructor(e,t,i,r){super(),this.type=\"batched-model\",this.id=e,this.tileSize=512,this._options=t,this.tiles=this._options.tiles,this.maxzoom=t.maxzoom||19,this.minzoom=t.minzoom||0,this.roundZoom=!0,this.usedInConflation=!0,this.dispatcher=i,this.reparseOverscaled=!1,this.scheme=\"xyz\",this._loaded=!1,this.setEventedParent(r);}onAdd(e){this.map=e,this.load();}load(e){this._loaded=!1,this.fire(new It(\"dataloading\",{dataType:\"source\"}));const t=Array.isArray(this.map._language)?this.map._language.join():this.map._language,i=this.map._worldview;this._tileJSONRequest=Dw(this._options,this.map._requestManager,t,i,((r,n)=>{this._tileJSONRequest=null,this._loaded=!0,r?(t&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${t}`),i&&2!==i.length&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${i}`),this.fire(new Ct(r))):n&&(k(this,n),n.bounds&&(this.tileBounds=new Rw(n.bounds,this.minzoom,this.maxzoom)),Ge(n.tiles,this.map._requestManager._customAccessToken),this.fire(new It(\"data\",{dataType:\"source\",sourceDataType:\"metadata\"})),this.fire(new It(\"data\",{dataType:\"source\",sourceDataType:\"content\"}))),e&&e(r);}));}hasTransition(){return !1}hasTile(e){return !this.tileBounds||this.tileBounds.contains(e.canonical)}loaded(){return this._loaded}loadTile(e,t){const i=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme)),r={request:this.map._requestManager.transformRequest(i,ye.Tile),data:void 0,uid:e.uid,tileID:e.tileID,tileZoom:e.tileZoom,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,scope:this.scope,showCollisionBoxes:this.map.showCollisionBoxes,isSymbolTile:e.isSymbolTile,brightness:this.map.style&&this.map.style.getBrightness()||0};if(e.actor&&\"expired\"!==e.state)if(\"loading\"===e.state)e.reloadCallback=t;else {if(e.buckets){const t=Object.values(e.buckets);for(const e of t)e.dirty=!0;return void(e.state=\"loaded\")}e.request=e.actor.send(\"reloadTile\",r,n.bind(this));}else e.actor=this.dispatcher.getActor(),e.request=e.actor.send(\"loadTile\",r,n.bind(this),void 0,!0);function n(i,r){return e.aborted?t(null):i&&404!==i.status?t(i):(r&&(r.resourceTiming&&(e.resourceTiming=r.resourceTiming),this.map._refreshExpiredTiles&&e.setExpiryData(r),e.buckets={...e.buckets,...r.buckets}),e.state=\"loaded\",void t(null))}}serialize(){return k({},this._options)}},canvas:class extends Jb{constructor(e,i,r,n){super(e,i,r,n),i.coordinates?Array.isArray(i.coordinates)&&4===i.coordinates.length&&!i.coordinates.some((e=>!Array.isArray(e)||2!==e.length||e.some((e=>\"number\"!=typeof e))))||this.fire(new Ct(new Dt(`sources.${e}`,null,'\"coordinates\" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new Ct(new Dt(`sources.${e}`,null,'missing required property \"coordinates\"'))),i.animate&&\"boolean\"!=typeof i.animate&&this.fire(new Ct(new Dt(`sources.${e}`,null,'optional \"animate\" property must be a boolean value'))),i.canvas?\"string\"==typeof i.canvas||i.canvas instanceof t.HTMLCanvasElement||this.fire(new Ct(new Dt(`sources.${e}`,null,'\"canvas\" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new Ct(new Dt(`sources.${e}`,null,'missing required property \"canvas\"'))),this.options=i,this.animate=void 0===i.animate||i.animate;}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof t.HTMLCanvasElement?this.options.canvas:t.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new Ct(new Error(\"Canvas dimensions cannot be less than or equal to zero.\"))):(this.play=function(){this._playing=!0,this.map.triggerRepaint();},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1);},this._finishLoading());}getCanvas(){return this.canvas}onAdd(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play();}onRemove(){this.pause();}prepare(){let e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),this._hasInvalidDimensions())return;if(0===Object.keys(this.tiles).length)return;const t=this.map.painter.context;this.texture?!e&&!this._playing||this.texture instanceof Ay||this.texture.update(this.canvas,{premultiply:!0}):this.texture=new My(t,this.canvas,t.gl.RGBA,{premultiply:!0}),this._prepareData(t);}serialize(){return {type:\"canvas\",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const e of [this.canvas.width,this.canvas.height])if(isNaN(e)||e<=0)return !0;return !1}},custom:class extends zt{constructor(e,t,i,r){super(),this.id=e,this.type=\"custom\",this._dataType=\"raster\",this._dispatcher=i,this._implementation=t,this.setEventedParent(r),this.scheme=\"xyz\",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new Ct(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new Ct(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new Rw(this._implementation.bounds,this.minzoom,this.maxzoom)),t.update=this._update.bind(this),t.clearTiles=this._clearTiles.bind(this),t.coveringTiles=this._coveringTiles.bind(this),k(this,O(t,[\"dataType\",\"scheme\",\"minzoom\",\"maxzoom\",\"tileSize\",\"attribution\",\"minTileCacheSize\",\"maxTileCacheSize\"]));}serialize(){return O(this,[\"type\",\"scheme\",\"minzoom\",\"maxzoom\",\"tileSize\",\"attribution\"])}load(){this._loaded=!0,this.fire(new It(\"data\",{dataType:\"source\",sourceDataType:\"metadata\"})),this.fire(new It(\"data\",{dataType:\"source\",sourceDataType:\"content\"}));}loaded(){return this._loaded}onAdd(e){this._map=e,this._loaded=!1,this.fire(new It(\"dataloading\",{dataType:\"source\"})),this._implementation.onAdd&&this._implementation.onAdd(e),this.load();}onRemove(e){this._implementation.onRemove&&this._implementation.onRemove(e);}hasTile(e){if(this._implementation.hasTile){const{x:t,y:i,z:r}=e.canonical;return this._implementation.hasTile({x:t,y:i,z:r})}return !this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(e,i){const{x:r,y:n,z:o}=e.tileID.canonical,s=new t.AbortController;e.request=Promise.resolve(this._implementation.loadTile({x:r,y:n,z:o},{signal:s.signal})).then(function(r){return delete e.request,e.aborted?(e.state=\"unloaded\",i(null)):void 0===r?(e.state=\"errored\",i(null)):null===r?(this.loadTileData(e,{width:this.tileSize,height:this.tileSize,data:null}),e.state=\"loaded\",i(null)):function(e){return e instanceof t.ImageData||e instanceof t.HTMLCanvasElement||e instanceof t.ImageBitmap||e instanceof t.HTMLImageElement}(r)?(this.loadTileData(e,r),e.state=\"loaded\",void i(null)):(e.state=\"errored\",i(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}.bind(this)).catch((t=>{20!==t.code&&(e.state=\"errored\",i(t));})),e.request.cancel=()=>s.abort();}loadTileData(e,t){e.setTexture(t,this._map.painter);}unloadTile(e,t){if(e.texture&&e.texture instanceof My?(e.destroy(!0),e.texture&&e.texture instanceof My&&this._map.painter.saveTileTexture(e.texture)):e.destroy(),this._implementation.unloadTile){const{x:t,y:i,z:r}=e.tileID.canonical;this._implementation.unloadTile({x:t,y:i,z:r});}t();}abortTile(e,t){e.request&&e.request.cancel&&(e.request.cancel(),delete e.request),t();}hasTransition(){return !1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map((e=>({x:e.canonical.x,y:e.canonical.y,z:e.canonical.z})))}_clearTiles(){const e=va(this.id,this.scope);this._map.style.clearSource(e);}_update(){this.fire(new It(\"data\",{dataType:\"source\",sourceDataType:\"content\"}));}}},ST=function(e,t,i,r){const n=new AT[t.type](e,t,i,r);if(n.id!==e)throw new Error(`Expected Source id to be ${e} instead of ${n.id}`);return j([\"load\",\"abort\",\"unload\",\"serialize\",\"prepare\"],n),n};function IT(e,t){const i=Au.identity([]);return Au.scale(i,i,[.5*e.width,.5*-e.height,1]),Au.translate(i,i,[1,-1,0]),Au.multiply(i,i,e.calculateProjMatrix(t.toUnwrapped())),Float32Array.from(i)}function CT(e,t,i,r,n,o,s,a=!1){const l=e.tilesIn(r,s,a);l.sort(PT);const c=[];for(const r of l)c.push({wrappedTileID:r.tile.tileID.wrapped().key,queryResults:r.tile.queryRenderedFeatures(t,i,e._state,r,n,o,IT(e.transform,r.tile.tileID),a)});const h=function(e){const t={},i={};for(const r of e){const e=r.queryResults,n=r.wrappedTileID,o=i[n]=i[n]||{};for(const i in e){const r=e[i],n=o[i]=o[i]||{},s=t[i]=t[i]||[];for(const e of r)n[e.featureIndex]||(n[e.featureIndex]=!0,s.push(e));}}return t}(c);for(const t in h)h[t].forEach((t=>{const i=t.feature,r=i.layer;r&&\"background\"!==r.type&&\"sky\"!==r.type&&\"slot\"!==r.type&&(i.source=r.source,r[\"source-layer\"]&&(i.sourceLayer=r[\"source-layer\"]),i.state=void 0!==i.id?e.getFeatureState(r[\"source-layer\"],i.id):{});}));return h}function zT(e,t){const i=e.getRenderableIds().map((t=>e.getTileByID(t))),r=[],n={};for(let e=0;e<i.length;e++){const o=i[e],s=o.tileID.canonical.key;n[s]||(n[s]=!0,o.querySourceFeatures(r,t));}return r}function PT(e,t){const i=e.tileID,r=t.tileID;return i.overscaledZ-r.overscaledZ||i.canonical.y-r.canonical.y||i.wrap-r.wrap||i.canonical.x-r.canonical.x}class DT{constructor(e){this.style=e;}processLayersChanged(){this.layers=[];for(const e in this.style._mergedLayers){const t=this.style._mergedLayers[e];if(\"fill-extrusion\"===t.type)this.layers.push(t);else if(\"model\"===t.type){const e=this.style.getLayerSource(t);e&&\"batched-model\"===e.type&&this.layers.push(t);}}}updateZOffset(e,t){this.currentBuildingBuckets=[];for(let e=0;e<this.layers.length;++e){const i=this.layers[e],r=this.style.getLayerSourceCache(i);let n=1;\"fill-extrusion\"===i.type&&(n=i.paint.get(\"fill-extrusion-opacity\")>0?i.paint.get(\"fill-extrusion-vertical-scale\"):0);let o=r?r.getTile(t):null;if(!o&&r&&t.canonical.z>r.getSource().minzoom){let e=t.scaledTo(Math.min(r.getSource().maxzoom,t.overscaledZ-1));for(;e.overscaledZ>=r.getSource().minzoom&&(o=r.getTile(e),!o&&0!==e.overscaledZ);)e=e.scaledTo(e.overscaledZ-1);}this.currentBuildingBuckets.push({bucket:o?o.getBucket(i):null,tileID:o?o.tileID:t,verticalScale:n});}e.hasAnyZOffset=!1;let i=!1;for(let r=0;r<e.symbolInstances.length;r++){const n=e.symbolInstances.get(r),o=n.zOffset,s=this._getHeightAtTileOffset(t,n.tileAnchorX,n.tileAnchorY);n.zOffset=-1!==s?s:o,i||o===n.zOffset||(i=!0),e.hasAnyZOffset||0===n.zOffset||(e.hasAnyZOffset=!0);}i&&(e.zOffsetBuffersNeedUpload=!0,e.zOffsetSortDirty=!0);}_mapCoordToOverlappingTile(e,t,i,r){let n=t,o=i;if(e.canonical.z!==r.canonical.z){const s=r.canonical,a=1/(1<<e.canonical.z-s.z);n=(t+e.canonical.x*cr)*a-s.x*cr|0,o=(i+e.canonical.y*cr)*a-s.y*cr|0;}return {tileX:n,tileY:o}}_getHeightAtTileOffset(e,t,i){let r;for(let n=0;n<this.layers.length;++n){if(\"fill-extrusion\"!==this.layers[n].type)continue;const{bucket:o,tileID:s,verticalScale:a}=this.currentBuildingBuckets[n];if(!o)continue;const{tileX:l,tileY:c}=this._mapCoordToOverlappingTile(e,t,i,s),h=o.getHeightAtTileCoord(l,c);if(h&&void 0!==h.height){if(!h.hidden)return h.height*a;r=h.height;}}for(let n=0;n<this.layers.length;++n){if(\"model\"!==this.layers[n].type)continue;const{bucket:o,tileID:s}=this.currentBuildingBuckets[n];if(!o)continue;const{tileX:a,tileY:l}=this._mapCoordToOverlappingTile(e,t,i,s),c=o.getHeightAtTileCoord(a,l);if(c&&!c.hidden)return void 0===c.height&&void 0!==r?Math.min(c.maxHeight,r)*c.verticalScale:(c.height||0)*c.verticalScale}return -1}}var RT=[\"type\",\"source\",\"source-layer\",\"minzoom\",\"maxzoom\",\"filter\",\"layout\"];function LT(e,t){const i={};for(const t in e)\"ref\"!==t&&(i[t]=e[t]);return RT.forEach((e=>{e in t&&(i[e]=t[e]);})),i}function kT(e){e=e.slice();const t=Object.create(null);for(let i=0;i<e.length;i++)t[e[i].id]=e[i];for(let i=0;i<e.length;i++)\"ref\"in e[i]&&(e[i]=LT(e[i],t[e[i].ref]));return e}const OT={setStyle:\"setStyle\",addLayer:\"addLayer\",removeLayer:\"removeLayer\",setPaintProperty:\"setPaintProperty\",setLayoutProperty:\"setLayoutProperty\",setSlot:\"setSlot\",setFilter:\"setFilter\",addSource:\"addSource\",removeSource:\"removeSource\",setGeoJSONSourceData:\"setGeoJSONSourceData\",setLayerZoomRange:\"setLayerZoomRange\",setLayerProperty:\"setLayerProperty\",setCenter:\"setCenter\",setZoom:\"setZoom\",setBearing:\"setBearing\",setPitch:\"setPitch\",setSprite:\"setSprite\",setGlyphs:\"setGlyphs\",setTransition:\"setTransition\",setLight:\"setLight\",setTerrain:\"setTerrain\",setFog:\"setFog\",setCamera:\"setCamera\",setLights:\"setLights\",setProjection:\"setProjection\",addImport:\"addImport\",removeImport:\"removeImport\",setImportUrl:\"setImportUrl\",setImportData:\"setImportData\",setImportConfig:\"setImportConfig\"};function BT(e,t,i){i.push({command:OT.addSource,args:[e,t[e]]});}function FT(e,t,i){t.push({command:OT.removeSource,args:[e]}),i[e]=!0;}function NT(e,t,i,r){FT(e,i,r),BT(e,t,i);}function UT(e,t,i){let r;for(r in e[i])if(e[i].hasOwnProperty(r)&&\"data\"!==r&&!x(e[i][r],t[i][r]))return !1;for(r in t[i])if(t[i].hasOwnProperty(r)&&\"data\"!==r&&!x(e[i][r],t[i][r]))return !1;return !0}function VT(e,t,i,r,n,o){let s;for(s in t=t||{},e=e||{})e.hasOwnProperty(s)&&(x(e[s],t[s])||i.push({command:o,args:[r,s,t[s],n]}));for(s in t)t.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(x(e[s],t[s])||i.push({command:o,args:[r,s,t[s],n]}));}function jT(e){return e.id}function GT(e,t){return e[t.id]=t,e}class qT{constructor(e,t){this.reset(e,t);}reset(e,t){this.points=e||[],this._distances=[0];for(let e=1;e<this.points.length;e++)this._distances[e]=this._distances[e-1]+this.points[e].dist(this.points[e-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding;}lerp(e){if(1===this.points.length)return this.points[0];e=z(e,0,1);let t=1,i=this._distances[t];const r=e*this.paddedLength+this.padding;for(;i<r&&t<this._distances.length;)i=this._distances[++t];const n=t-1,o=this._distances[n],s=i-o,a=s>0?(r-o)/s:0;return this.points[n].mult(1-a).add(this.points[t].mult(a))}}class ZT{constructor(e,t,i){const r=this.boxCells=[],n=this.circleCells=[];this.xCellCount=Math.ceil(e/i),this.yCellCount=Math.ceil(t/i);for(let e=0;e<this.xCellCount*this.yCellCount;e++)r.push([]),n.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0;}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(e,t,i,r,n){this._forEachCell(t,i,r,n,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(i),this.bboxes.push(r),this.bboxes.push(n);}insertCircle(e,t,i,r){this._forEachCell(t-r,i-r,t+r,i+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(i),this.circles.push(r);}_insertBoxCell(e,t,i,r,n,o){this.boxCells[n].push(o);}_insertCircleCell(e,t,i,r,n,o){this.circleCells[n].push(o);}_query(e,t,i,r,n,o){if(i<0||e>this.width||r<0||t>this.height)return !n&&[];const s=[];if(e<=0&&t<=0&&this.width<=i&&this.height<=r){if(n)return !0;for(let e=0;e<this.boxKeys.length;e++)s.push({key:this.boxKeys[e],x1:this.bboxes[4*e],y1:this.bboxes[4*e+1],x2:this.bboxes[4*e+2],y2:this.bboxes[4*e+3]});for(let e=0;e<this.circleKeys.length;e++){const t=this.circles[3*e],i=this.circles[3*e+1],r=this.circles[3*e+2];s.push({key:this.circleKeys[e],x1:t-r,y1:i-r,x2:t+r,y2:i+r});}return o?s.filter(o):s}return this._forEachCell(e,t,i,r,this._queryCell,s,{hitTest:n,seenUids:{box:{},circle:{}}},o),n?s.length>0:s}_queryCircle(e,t,i,r,n){const o=e-i,s=e+i,a=t-i,l=t+i;if(s<0||o>this.width||l<0||a>this.height)return !r&&[];const c=[];return this._forEachCell(o,a,s,l,this._queryCellCircle,c,{hitTest:r,circle:{x:e,y:t,radius:i},seenUids:{box:{},circle:{}}},n),r?c.length>0:c}query(e,t,i,r,n){return this._query(e,t,i,r,!1,n)}hitTest(e,t,i,r,n){return this._query(e,t,i,r,!0,n)}hitTestCircle(e,t,i,r){return this._queryCircle(e,t,i,!0,r)}_queryCell(e,t,i,r,n,o,s,a){const l=s.seenUids,c=this.boxCells[n];if(null!==c){const n=this.bboxes;for(const h of c)if(!l.box[h]){l.box[h]=!0;const c=4*h;if(e<=n[c+2]&&t<=n[c+3]&&i>=n[c+0]&&r>=n[c+1]&&(!a||a(this.boxKeys[h]))){if(s.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[h],x1:n[c],y1:n[c+1],x2:n[c+2],y2:n[c+3]});}}}const h=this.circleCells[n];if(null!==h){const n=this.circles;for(const c of h)if(!l.circle[c]){l.circle[c]=!0;const h=3*c;if(this._circleAndRectCollide(n[h],n[h+1],n[h+2],e,t,i,r)&&(!a||a(this.circleKeys[c]))){if(s.hitTest)return o.push(!0),!0;{const e=n[h],t=n[h+1],i=n[h+2];o.push({key:this.circleKeys[c],x1:e-i,y1:t-i,x2:e+i,y2:t+i});}}}}}_queryCellCircle(e,t,i,r,n,o,s,a){const l=s.circle,c=s.seenUids,h=this.boxCells[n];if(null!==h){const e=this.bboxes;for(const t of h)if(!c.box[t]){c.box[t]=!0;const i=4*t;if(this._circleAndRectCollide(l.x,l.y,l.radius,e[i+0],e[i+1],e[i+2],e[i+3])&&(!a||a(this.boxKeys[t])))return o.push(!0),!0}}const u=this.circleCells[n];if(null!==u){const e=this.circles;for(const t of u)if(!c.circle[t]){c.circle[t]=!0;const i=3*t;if(this._circlesCollide(e[i],e[i+1],e[i+2],l.x,l.y,l.radius)&&(!a||a(this.circleKeys[t])))return o.push(!0),!0}}}_forEachCell(e,t,i,r,n,o,s,a){const l=this._convertToXCellCoord(e),c=this._convertToYCellCoord(t),h=this._convertToXCellCoord(i),u=this._convertToYCellCoord(r);for(let d=l;d<=h;d++)for(let l=c;l<=u;l++)if(n.call(this,e,t,i,r,this.xCellCount*l+d,o,s,a))return}_convertToXCellCoord(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}_convertToYCellCoord(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}_circlesCollide(e,t,i,r,n,o){const s=r-e,a=n-t,l=i+o;return l*l>s*s+a*a}_circleAndRectCollide(e,t,i,r,n,o,s){const a=(o-r)/2,l=Math.abs(e-(r+a));if(l>a+i)return !1;const c=(s-n)/2,h=Math.abs(t-(n+c));if(h>c+i)return !1;if(l<=a||h<=c)return !0;const u=l-a,d=h-c;return u*u+d*d<=i*i}}const $T=100;class WT{constructor(e,t,i=new ZT(e.width+200,e.height+200,25),r=new ZT(e.width+200,e.height+200,25)){this.transform=e,this.grid=i,this.ignoredGrid=r,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+$T,this.screenBottomBoundary=e.height+$T,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200,this.fogState=t;}placeCollisionBox(e,t,i,r,n,o,s,a){let l=i.projectedAnchorX,c=i.projectedAnchorY,h=i.projectedAnchorZ;const u=i.elevation,d=i.tileID,p=e.getProjection();if(u&&d){const[e,t,r]=p.upVector(d.canonical,i.tileAnchorX,i.tileAnchorY),n=p.upVectorScale(d.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;l+=e*u*n,c+=t*u*n,h+=r*u*n;}const f=this.projectAndGetPerspectiveRatio(s,l,c,h,i.tileID,\"globe\"===p.name||!!u||this.transform.pitch>0,p),m=o*f.perspectiveRatio,_=(i.x1*t+r.x-i.padding)*m+f.point.x,g=(i.y1*t+r.y-i.padding)*m+f.point.y,y=(i.x2*t+r.x+i.padding)*m+f.point.x,x=(i.y2*t+r.y+i.padding)*m+f.point.y,v=f.perspectiveRatio<=.55||f.occluded;return !this.isInsideGrid(_,g,y,x)||!n&&this.grid.hitTest(_,g,y,x,a)||v?{box:[],offscreen:!1,occluded:f.occluded}:{box:[_,g,y,x],offscreen:this.isOffscreen(_,g,y,x),occluded:!1}}placeCollisionCircles(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f){const m=[],_=this.transform.elevation,g=e.getProjection(),x=_?_.getAtTileOffsetFunc(f,this.transform.center.lat,this.transform.worldSize,g):null,v=new y(i.tileAnchorX,i.tileAnchorY);let{x:b,y:w,z:T}=g.projectTilePoint(v.x,v.y,f.canonical);if(x){const[e,t,i]=x(v);b+=e,w+=t,T+=i;}const E=\"globe\"===g.name,M=this.projectAndGetPerspectiveRatio(s,b,w,T,f,E||!!_||this.transform.pitch>0,g),{perspectiveRatio:A}=M,S=(h?o/A:o*A)/u_,I=cv(b,w,T,a),C=M.signedDistanceFromCamera>0?pv(S,n,i.lineOffsetX*S,i.lineOffsetY*S,!1,I,v,i,r,a,{},_&&!h?x:null,h&&!!_,g,f,h):null;let z=!1,P=!1,D=!0;if(C&&!M.occluded){const e=.5*d*A+p,i=new y(-100,-100),r=new y(this.screenRightBoundary,this.screenBottomBoundary),n=new qT,{first:o,last:s}=C,a=o.path.length;let h=[];for(let e=a-1;e>=1;e--)h.push(o.path[e]);for(let e=1;e<s.path.length;e++)h.push(s.path[e]);const f=2.5*e;l&&(h=h.map((([e,t,i],r)=>(x&&!E&&(i=x(r<a-1?o.tilePath[a-1-r]:s.tilePath[r-a+2])[2]),cv(e,t,i,l)))),h.some((e=>e[3]<=0))&&(h=[]));let _=[];if(h.length>0){let e=1/0,t=-1/0,n=1/0,o=-1/0;for(const i of h)e=Math.min(e,i[0]),n=Math.min(n,i[1]),t=Math.max(t,i[0]),o=Math.max(o,i[1]);t>=i.x&&e<=r.x&&o>=i.y&&n<=r.y&&(_=[h.map((e=>new y(e[0],e[1])))],(e<i.x||t>r.x||n<i.y||o>r.y)&&(_=Y_(_,i.x,i.y,r.x,r.y)));}for(const i of _){n.reset(i,.25*e);let r=0;r=n.length<=.5*e?1:Math.ceil(n.paddedLength/f)+1;for(let i=0;i<r;i++){const o=i/Math.max(r-1,1),s=n.lerp(o),a=s.x+$T,l=s.y+$T;m.push(a,l,e,0);const h=a-e,d=l-e,p=a+e,f=l+e;if(D=D&&this.isOffscreen(h,d,p,f),P=P||this.isInsideGrid(h,d,p,f),!t&&this.grid.hitTestCircle(a,l,e,u)&&(z=!0,!c))return {circles:[],offscreen:!1,collisionDetected:z,occluded:!1}}}}return {circles:!c&&z||!P?[]:m,offscreen:D,collisionDetected:z,occluded:M.occluded}}queryRenderedSymbols(e){if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return {};const t=[];let i=1/0,r=1/0,n=-1/0,o=-1/0;for(const s of e){const e=new y(s.x+$T,s.y+$T);i=Math.min(i,e.x),r=Math.min(r,e.y),n=Math.max(n,e.x),o=Math.max(o,e.y),t.push(e);}const s=this.grid.query(i,r,n,o).concat(this.ignoredGrid.query(i,r,n,o)),a={},l={};for(const e of s){const i=e.key;void 0===a[i.bucketInstanceId]&&(a[i.bucketInstanceId]={}),a[i.bucketInstanceId][i.featureIndex]||bp(t,[new y(e.x1,e.y1),new y(e.x2,e.y1),new y(e.x2,e.y2),new y(e.x1,e.y2)])&&(a[i.bucketInstanceId][i.featureIndex]=!0,void 0===l[i.bucketInstanceId]&&(l[i.bucketInstanceId]=[]),l[i.bucketInstanceId].push(i.featureIndex));}return l}insertCollisionBox(e,t,i,r,n){(t?this.ignoredGrid:this.grid).insert({bucketInstanceId:i,featureIndex:r,collisionGroupID:n},e[0],e[1],e[2],e[3]);}insertCollisionCircles(e,t,i,r,n){const o=t?this.ignoredGrid:this.grid,s={bucketInstanceId:i,featureIndex:r,collisionGroupID:n};for(let t=0;t<e.length;t+=4)o.insertCircle(s,e[t],e[t+1],e[t+2]);}projectAndGetPerspectiveRatio(e,t,i,r,n,o,s){const a=[t,i,r,1];let l=!1;if(r||this.transform.pitch>0){if(yu.transformMat4(a,a,e),this.fogState&&n&&\"globe\"!==s.name){const e=function(e,t,i,r,n,o){const s=o.calculateFogTileMatrix(n),a=[t,i,r];return Du.transformMat4(a,a,s),mw(e,Du.length(a),o.pitch,o._fov)}(this.fogState,t,i,r,n.toUnwrapped(),this.transform);l=e>.9;}}else vv(a,a,e);const c=a[3];return {point:new y((a[0]/c+1)/2*this.transform.width+$T,(-a[1]/c+1)/2*this.transform.height+$T),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(s)/c*.5,1.5),signedDistanceFromCamera:c,occluded:o&&a[2]>c||l}}isOffscreen(e,t,i,r){return i<$T||e>=this.screenRightBoundary||r<$T||t>this.screenBottomBoundary}isInsideGrid(e,t,i,r){return i>=0&&e<this.gridRightBoundary&&r>=0&&t<this.gridBottomBoundary}getViewportMatrix(){const e=Au.identity([]);return Au.translate(e,e,[-100,-100,0]),e}}function HT(e,t,i){const r=t.createTileMatrix(e,e.worldSize,i.toUnwrapped());return Au.multiply(new Float32Array(16),e.projMatrix,r)}function XT(e,t,i){if(t.projection.name===i.projection.name)return e.projMatrix;const r=i.clone();return r.setProjection(t.projection),HT(r,t.getProjection(),e)}function YT(e,t,i){return t.name===i.projection.name?e.projMatrix:HT(i,t,e)}class KT{constructor(e,t,i,r){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):r&&i?1:0,this.placed=i;}isHidden(){return 0===this.opacity&&!this.placed}}class JT{constructor(e,t,i,r,n,o=!1){this.text=new KT(e?e.text:null,t,i,n),this.icon=new KT(e?e.icon:null,t,r,n),this.clipped=o;}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class QT{constructor(e,t,i,r=!1){this.text=e,this.icon=t,this.skipFade=i,this.clipped=r;}}class eE{constructor(){this.invProjMatrix=Au.create(),this.viewportMatrix=Au.create(),this.circles=[];}}class tE{constructor(e,t,i,r,n){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=i,this.bucketIndex=r,this.tileID=n;}}class iE{constructor(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={};}get(e){if(this.crossSourceCollisions)return {ID:0,predicate:null};if(!this.collisionGroups[e]){const t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:e=>e.collisionGroupID===t};}return this.collisionGroups[e]}}function rE(e,t,i,r,n){const{horizontalAlign:o,verticalAlign:s}=F_(e),a=-(o-.5)*t,l=-(s-.5)*i,c=xg(e,r);return new y(a+c[0]*n,l+c[1]*n)}function nE(e,t,i,r,n){const o=new y(e,t);return i&&o._rotate(r?n:-n),o}class oE{constructor(e,t,i,r,n,o){this.transform=e.clone(),this.projection=e.projection.name,this.collisionIndex=new WT(this.transform,n),this.buildingIndex=o,this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new iE(i),this.collisionCircleArrays={},this.prevPlacement=r,r&&(r.prevPlacement=void 0),this.placedOrientations={};}getBucketParts(e,t,i,r){const n=i.getBucket(t),o=i.latestFeatureIndex;if(!n||!o||t.fqid!==n.layerIds[0])return;const s=n.layers[0].layout,a=i.collisionBoxArray,l=Math.pow(2,this.transform.zoom-i.tileID.overscaledZ),c=i.tileSize/cr,h=i.tileID.toUnwrapped();this.transform.setProjection(n.projection);const u=(d=i.tileID,p=n.getProjection(),f=this.transform,p.name===this.projection?f.calculateProjMatrix(d.toUnwrapped()):HT(f,p,d));var d,p,f;const m=\"map\"===s.get(\"text-pitch-alignment\"),_=\"map\"===s.get(\"text-rotation-alignment\");t.compileFilter();const g=t.dynamicFilter(),y=t.dynamicFilterNeedsFeature(),x=this.transform.calculatePixelsToTileUnitsMatrix(i),v=av(u,i.tileID.canonical,m,_,this.transform,n.getProjection(),x);let b=null;if(m){const e=lv(u,i.tileID.canonical,m,_,this.transform,n.getProjection(),x);b=Au.multiply([],this.transform.labelPlaneMatrix,e);}let w=null;g&&i.latestFeatureIndex&&(w={unwrappedTileID:h,dynamicFilter:g,dynamicFilterNeedsFeature:y,featureIndex:i.latestFeatureIndex}),this.retainedQueryData[n.bucketInstanceId]=new tE(n.bucketInstanceId,o,n.sourceLayerIndex,n.index,i.tileID);const T={bucket:n,layout:s,posMatrix:u,textLabelPlaneMatrix:v,labelToScreenMatrix:b,clippingData:w,scale:l,textPixelRatio:c,holdingForFade:i.holdingForFade(),collisionBoxArray:a,partiallyEvaluatedTextSize:m_(n.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:m_(n.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(n.sourceID)};if(r)for(const t of n.sortKeyRanges){const{sortKey:i,symbolInstanceStart:r,symbolInstanceEnd:n}=t;e.push({sortKey:i,symbolInstanceStart:r,symbolInstanceEnd:n,parameters:T});}else e.push({symbolInstanceStart:0,symbolInstanceEnd:n.symbolInstances.length,parameters:T});}attemptAnchorPlacement(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m,_,g){const{textOffset0:y,textOffset1:x,crossTileID:v}=u,b=[y,x],w=rE(e,i,r,b,n),T=this.collisionIndex.placeCollisionBox(p,n,t,nE(w.x,w.y,o,s,this.transform.angle),h,a,l,c.predicate);if(m){const e=p.getSymbolInstanceIconSize(g,this.transform.zoom,u.placedIconSymbolIndex);if(0===this.collisionIndex.placeCollisionBox(p,e,m,nE(w.x,w.y,o,s,this.transform.angle),h,a,l,c.predicate).box.length)return}if(T.box.length>0){let t;return this.prevPlacement&&this.prevPlacement.variableOffsets[v]&&this.prevPlacement.placements[v]&&this.prevPlacement.placements[v].text&&(t=this.prevPlacement.variableOffsets[v].anchor),this.variableOffsets[v]={textOffset:b,width:i,height:r,anchor:e,textScale:n,prevAnchor:t},this.markUsedJustification(p,e,u,f),p.allowVerticalPlacement&&(this.markUsedOrientation(p,f,u),this.placedOrientations[v]=f),{shift:w,placedGlyphBoxes:T}}}placeLayerBucketPart(e,t,i,r){const{bucket:n,layout:o,posMatrix:s,textLabelPlaneMatrix:a,labelToScreenMatrix:l,clippingData:c,textPixelRatio:h,holdingForFade:u,collisionBoxArray:d,partiallyEvaluatedTextSize:p,partiallyEvaluatedIconSize:f,collisionGroup:m}=e.parameters,_=o.get(\"text-optional\"),g=o.get(\"icon-optional\"),x=o.get(\"text-allow-overlap\"),v=o.get(\"icon-allow-overlap\"),b=\"map\"===o.get(\"text-rotation-alignment\"),w=\"map\"===o.get(\"text-pitch-alignment\"),T=\"viewport-y\"===o.get(\"symbol-z-order\"),E=o.get(\"symbol-z-elevate\");this.transform.setProjection(n.projection);let M=x&&(v||!n.hasIconData()||g),A=v&&(x||!n.hasTextData()||_);!n.collisionArrays&&d&&n.deserializeCollisionBoxes(d),i&&r&&n.updateCollisionDebugBuffers(this.transform.zoom,d);const S=(e,r,d)=>{const{crossTileID:T,numVerticalGlyphVertices:E}=e;if(c){const i={zoom:this.transform.zoom,pitch:this.transform.pitch};let r=null;if(c.dynamicFilterNeedsFeature){const t=this.retainedQueryData[n.bucketInstanceId];r=c.featureIndex.loadFeature({featureIndex:e.featureIndex,bucketIndex:t.bucketIndex,sourceLayerIndex:t.sourceLayerIndex,layoutVertexArrayOffset:0});}if(!(0,c.dynamicFilter)(i,r,this.retainedQueryData[n.bucketInstanceId].tileID.canonical,new y(e.tileAnchorX,e.tileAnchorY),this.transform.calculateDistanceTileData(c.unwrappedTileID)))return this.placements[T]=new QT(!1,!1,!1,!0),void t.add(T)}if(t.has(T))return;if(u)return void(this.placements[T]=new QT(!1,!1,!1));let S=!1,I=!1,C=!0,z=!1,P=!1,D=null,R={box:null,offscreen:null,occluded:null},L={box:null,offscreen:null,occluded:null},k=null,O=null,B=null,F=0,N=0,U=0;d.textFeatureIndex?F=d.textFeatureIndex:e.useRuntimeCollisionCircles&&(F=e.featureIndex),d.verticalTextFeatureIndex&&(N=d.verticalTextFeatureIndex);const V=t=>{t.tileID=this.retainedQueryData[n.bucketInstanceId].tileID;const i=this.transform.elevation;t.elevation=e.zOffset+(i?i.getAtTileOffset(t.tileID,t.tileAnchorX,t.tileAnchorY):0);},j=d.textBox;if(j){V(j);const t=t=>{let i=A_.horizontal;if(n.allowVerticalPlacement&&!t&&this.prevPlacement){const t=this.prevPlacement.placedOrientations[T];t&&(this.placedOrientations[T]=t,i=t,this.markUsedOrientation(n,i,e));}return i},i=(e,t)=>{if(n.allowVerticalPlacement&&E>0&&d.verticalTextBox){for(const i of n.writingModes)if(i===A_.vertical?(R=t(),L=R):R=e(),R&&R.box&&R.box.length)break}else R=e();};if(o.get(\"text-variable-anchor\")){let a=o.get(\"text-variable-anchor\");if(this.prevPlacement&&this.prevPlacement.variableOffsets[T]){const e=this.prevPlacement.variableOffsets[T];a.indexOf(e.anchor)>0&&(a=a.filter((t=>t!==e.anchor)),a.unshift(e.anchor));}const l=(t,i,o)=>{const l=n.getSymbolInstanceTextSize(p,e,this.transform.zoom,r),c=(t.x2-t.x1)*l+2*t.padding,u=(t.y2-t.y1)*l+2*t.padding,d=e.hasIconTextFit&&!v?i:null;d&&V(d);let _={box:[],offscreen:!1,occluded:!1};const g=x?2*a.length:a.length;for(let i=0;i<g;++i){const g=this.attemptAnchorPlacement(a[i%a.length],t,c,u,l,b,w,h,s,m,i>=a.length,e,r,n,o,d,p,f);if(g&&(_=g.placedGlyphBoxes,_&&_.box&&_.box.length)){S=!0,D=g.shift;break}}return _};i((()=>l(j,d.iconBox,A_.horizontal)),(()=>{const e=d.verticalTextBox;return e&&V(e),n.allowVerticalPlacement&&!(R&&R.box&&R.box.length)&&E>0&&e?l(e,d.verticalIconBox,A_.vertical):{box:null,offscreen:null,occluded:null}})),R&&(S=R.box,C=R.offscreen,z=R.occluded);const c=t(!(!R||!R.box));if(!S&&this.prevPlacement){const t=this.prevPlacement.variableOffsets[T];t&&(this.variableOffsets[T]=t,this.markUsedJustification(n,t.anchor,e,c));}}else {const o=(t,i)=>{const o=n.getSymbolInstanceTextSize(p,e,this.transform.zoom,r),a=this.collisionIndex.placeCollisionBox(n,o,t,new y(0,0),x,h,s,m.predicate);return a&&a.box&&a.box.length&&(this.markUsedOrientation(n,i,e),this.placedOrientations[T]=i),a};i((()=>o(j,A_.horizontal)),(()=>{const e=d.verticalTextBox;return n.allowVerticalPlacement&&E>0&&e?(V(e),o(e,A_.vertical)):{box:null,offscreen:null,occluded:null}})),t(!!(R&&R.box&&R.box.length));}}if(k=R,S=k&&k.box&&k.box.length>0,C=k&&k.offscreen,z=k&&k.occluded,e.useRuntimeCollisionCircles){const t=n.text.placedSymbolArray.get(e.centerJustifiedTextSymbolIndex>=0?e.centerJustifiedTextSymbolIndex:e.verticalPlacedTextSymbolIndex),r=f_(n.textSizeData,p,t),c=o.get(\"text-padding\");O=this.collisionIndex.placeCollisionCircles(n,x,t,n.lineVertexArray,n.glyphOffsetArray,r,s,a,l,i,w,m.predicate,e.collisionCircleDiameter*r/u_,c,this.retainedQueryData[n.bucketInstanceId].tileID),S=x||O.circles.length>0&&!O.collisionDetected,C=C&&O.offscreen,z=O.occluded;}if(d.iconFeatureIndex&&(U=d.iconFeatureIndex),d.iconBox){const t=t=>{V(t);const i=e.hasIconTextFit&&D?nE(D.x,D.y,b,w,this.transform.angle):new y(0,0),r=n.getSymbolInstanceIconSize(f,this.transform.zoom,e.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(n,r,t,i,v,h,s,m.predicate)};L&&L.box&&L.box.length&&d.verticalIconBox?(B=t(d.verticalIconBox),I=B.box.length>0):(B=t(d.iconBox),I=B.box.length>0),C=C&&B.offscreen,P=B.occluded;}const G=_||0===e.numHorizontalGlyphVertices&&0===E,q=g||0===e.numIconVertices;if(G||q?q?G||(I=I&&S):S=I&&S:I=S=I&&S,S&&k&&k.box&&this.collisionIndex.insertCollisionBox(k.box,o.get(\"text-ignore-placement\"),n.bucketInstanceId,L&&L.box&&N?N:F,m.ID),I&&B&&this.collisionIndex.insertCollisionBox(B.box,o.get(\"icon-ignore-placement\"),n.bucketInstanceId,U,m.ID),O&&(S&&this.collisionIndex.insertCollisionCircles(O.circles,o.get(\"text-ignore-placement\"),n.bucketInstanceId,F,m.ID),i)){const e=n.bucketInstanceId;let t=this.collisionCircleArrays[e];void 0===t&&(t=this.collisionCircleArrays[e]=new eE);for(let e=0;e<O.circles.length;e+=4)t.circles.push(O.circles[e+0]),t.circles.push(O.circles[e+1]),t.circles.push(O.circles[e+2]),t.circles.push(O.collisionDetected?1:0);}const Z=\"globe\"!==n.projection.name;M=M&&(Z||!z),A=A&&(Z||!P),this.placements[T]=new QT(S||M,I||A,C||n.justReloaded),t.add(T);};if(E&&this.buildingIndex&&(this.buildingIndex.updateZOffset(n,this.retainedQueryData[n.bucketInstanceId].tileID),n.updateZOffset()),T){const e=n.getSortedSymbolIndexes(this.transform.angle);for(let t=e.length-1;t>=0;--t){const i=e[t];S(n.symbolInstances.get(i),i,n.collisionArrays[i]);}n.hasAnyZOffset&&H(`${n.layerIds[0]} layer symbol-z-elevate: symbols are not sorted by elevation if symbol-z-order is evaluated to viewport-y`);}else if(n.hasAnyZOffset){const e=n.getSortedIndexesByZOffset();for(let t=0;t<e.length;++t){const i=e[t];S(n.symbolInstances.get(i),i,n.collisionArrays[i]);}}else for(let t=e.symbolInstanceStart;t<e.symbolInstanceEnd;t++)S(n.symbolInstances.get(t),t,n.collisionArrays[t]);if(i&&n.bucketInstanceId in this.collisionCircleArrays){const e=this.collisionCircleArrays[n.bucketInstanceId];Au.invert(e.invProjMatrix,s),e.viewportMatrix=this.collisionIndex.getViewportMatrix();}n.justReloaded=!1;}markUsedJustification(e,t,i,r){const{leftJustifiedTextSymbolIndex:n,centerJustifiedTextSymbolIndex:o,rightJustifiedTextSymbolIndex:s,verticalPlacedTextSymbolIndex:a,crossTileID:l}=i,c=bg(t),h=r===A_.vertical?a:\"left\"===c?n:\"center\"===c?o:\"right\"===c?s:-1;n>=0&&(e.text.placedSymbolArray.get(n).crossTileID=h>=0&&n!==h?0:l),o>=0&&(e.text.placedSymbolArray.get(o).crossTileID=h>=0&&o!==h?0:l),s>=0&&(e.text.placedSymbolArray.get(s).crossTileID=h>=0&&s!==h?0:l),a>=0&&(e.text.placedSymbolArray.get(a).crossTileID=h>=0&&a!==h?0:l);}markUsedOrientation(e,t,i){const r=t===A_.horizontal||t===A_.horizontalOnly?t:0,n=t===A_.vertical?t:0,{leftJustifiedTextSymbolIndex:o,centerJustifiedTextSymbolIndex:s,rightJustifiedTextSymbolIndex:a,verticalPlacedTextSymbolIndex:l}=i,c=e.text.placedSymbolArray;o>=0&&(c.get(o).placedOrientation=r),s>=0&&(c.get(s).placedOrientation=r),a>=0&&(c.get(a).placedOrientation=r),l>=0&&(c.get(l).placedOrientation=n);}commit(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;const t=this.prevPlacement;let i=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;const r=t?t.symbolFadeChange(e):1,n=t?t.opacities:{},o=t?t.variableOffsets:{},s=t?t.placedOrientations:{};for(const e in this.placements){const t=this.placements[e],o=n[e];o?(this.opacities[e]=new JT(o,r,t.text,t.icon,null,t.clipped),i=i||t.text!==o.text.placed||t.icon!==o.icon.placed):(this.opacities[e]=new JT(null,r,t.text,t.icon,t.skipFade,t.clipped),i=i||t.text||t.icon);}for(const e in n){const t=n[e];if(!this.opacities[e]){const n=new JT(t,r,!1,!1);n.isHidden()||(this.opacities[e]=n,i=i||t.text.placed||t.icon.placed);}}for(const e in o)this.variableOffsets[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.variableOffsets[e]=o[e]);for(const e in s)this.placedOrientations[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.placedOrientations[e]=s[e]);i?this.lastPlacementChangeTime=e:\"number\"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e);}updateLayerOpacities(e,t){const i=new Set;for(const r of t){const t=r.getBucket(e);t&&r.latestFeatureIndex&&e.fqid===t.layerIds[0]&&(this.updateBucketOpacities(t,i,r.collisionBoxArray),t.layers[0].layout.get(\"symbol-z-elevate\")&&this.buildingIndex&&(this.buildingIndex.updateZOffset(t,r.tileID),t.updateZOffset()));}}updateBucketOpacities(e,t,i){e.hasTextData()&&e.text.opacityVertexArray.clear(),e.hasIconData()&&e.icon.opacityVertexArray.clear(),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexArray.clear(),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexArray.clear();const r=e.layers[0].layout,n=!!e.layers[0].dynamicFilter(),o=new JT(null,0,!1,!1,!0),s=r.get(\"text-allow-overlap\"),a=r.get(\"icon-allow-overlap\"),l=r.get(\"text-variable-anchor\"),c=\"map\"===r.get(\"text-rotation-alignment\"),h=\"map\"===r.get(\"text-pitch-alignment\"),u=new JT(null,0,s&&(a||!e.hasIconData()||r.get(\"icon-optional\")),a&&(s||!e.hasTextData()||r.get(\"text-optional\")),!0);!e.collisionArrays&&i&&(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData())&&e.deserializeCollisionBoxes(i);const d=(e,t,i)=>{for(let r=0;r<t/4;r++)e.opacityVertexArray.emplaceBack(i);};let p=0;for(let i=0;i<e.symbolInstances.length;i++){const r=e.symbolInstances.get(i),{numHorizontalGlyphVertices:s,numVerticalGlyphVertices:a,crossTileID:f,numIconVertices:m}=r,_=t.has(f);let g=this.opacities[f];_?g=o:g||(g=u,this.opacities[f]=g),t.add(f);const x=s>0||a>0,v=m>0,b=this.placedOrientations[f],w=b===A_.vertical,T=b===A_.horizontal||b===A_.horizontalOnly;if(!x&&!v||g.isHidden()||p++,x){const t=fE(g.text);d(e.text,s,w?mE:t),d(e.text,a,T?mE:t);const i=g.text.isHidden(),{leftJustifiedTextSymbolIndex:n,centerJustifiedTextSymbolIndex:o,rightJustifiedTextSymbolIndex:l,verticalPlacedTextSymbolIndex:c}=r,h=e.text.placedSymbolArray,u=i||w?1:0;n>=0&&(h.get(n).hidden=u),o>=0&&(h.get(o).hidden=u),l>=0&&(h.get(l).hidden=u),c>=0&&(h.get(c).hidden=i||T?1:0);const p=this.variableOffsets[f];p&&this.markUsedJustification(e,p.anchor,r,b);const m=this.placedOrientations[f];m&&(this.markUsedJustification(e,\"left\",r,m),this.markUsedOrientation(e,m,r));}if(v){const t=fE(g.icon),{placedIconSymbolIndex:i,verticalPlacedIconSymbolIndex:n}=r,o=e.icon.placedSymbolArray,s=g.icon.isHidden()?1:0;i>=0&&(d(e.icon,m,w?mE:t),o.get(i).hidden=s),n>=0&&(d(e.icon,r.numVerticalIconVertices,T?mE:t),o.get(n).hidden=s);}if(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData()){const t=e.collisionArrays[i];if(t){let i=new y(0,0),o=!0;if(t.textBox||t.verticalTextBox){if(l){const e=this.variableOffsets[f];e?(i=rE(e.anchor,e.width,e.height,e.textOffset,e.textScale),c&&i._rotate(h?this.transform.angle:-this.transform.angle)):o=!1;}n&&(o=!g.clipped),t.textBox&&sE(e.textCollisionBox.collisionVertexArray,g.text.placed,!o||w,i.x,i.y),t.verticalTextBox&&sE(e.textCollisionBox.collisionVertexArray,g.text.placed,!o||T,i.x,i.y);}const s=o&&Boolean(!T&&t.verticalIconBox);t.iconBox&&sE(e.iconCollisionBox.collisionVertexArray,g.icon.placed,s,r.hasIconTextFit?i.x:0,r.hasIconTextFit?i.y:0),t.verticalIconBox&&sE(e.iconCollisionBox.collisionVertexArray,g.icon.placed,!s,r.hasIconTextFit?i.x:0,r.hasIconTextFit?i.y:0);}}}if(e.fullyClipped=0===p,e.sortFeatures(this.transform.angle),this.retainedQueryData[e.bucketInstanceId]&&(this.retainedQueryData[e.bucketInstanceId].featureSortOrder=e.featureSortOrder),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexBuffer&&e.iconCollisionBox.collisionVertexBuffer.updateData(e.iconCollisionBox.collisionVertexArray),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexBuffer&&e.textCollisionBox.collisionVertexBuffer.updateData(e.textCollisionBox.collisionVertexArray),e.bucketInstanceId in this.collisionCircleArrays){const t=this.collisionCircleArrays[e.bucketInstanceId];e.placementInvProjMatrix=t.invProjMatrix,e.placementViewportMatrix=t.viewportMatrix,e.collisionCircleArray=t.circles,delete this.collisionCircleArrays[e.bucketInstanceId];}}symbolFadeChange(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(e){return Math.max(0,(this.transform.zoom-e)/1.5)}hasTransitions(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(e,t){const i=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*i>e}setStale(){this.stale=!0;}}function sE(e,t,i,r,n){e.emplaceBack(t?1:0,i?1:0,r||0,n||0),e.emplaceBack(t?1:0,i?1:0,r||0,n||0),e.emplaceBack(t?1:0,i?1:0,r||0,n||0),e.emplaceBack(t?1:0,i?1:0,r||0,n||0);}const aE=Math.pow(2,25),lE=Math.pow(2,24),cE=Math.pow(2,17),hE=Math.pow(2,16),uE=Math.pow(2,9),dE=Math.pow(2,8),pE=Math.pow(2,1);function fE(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;const t=e.placed?1:0,i=Math.floor(127*e.opacity);return i*aE+t*lE+i*cE+t*hE+i*uE+t*dE+i*pE+t}const mE=0;class _E{constructor(e){this._sortAcrossTiles=\"viewport-y\"!==e.layout.get(\"symbol-z-order\")&&void 0!==e.layout.get(\"symbol-sort-key\").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs=new Set,this._bucketParts=[];}continuePlacement(e,t,i,r,n){const o=this._bucketParts;for(;this._currentTileIndex<e.length;)if(t.getBucketParts(o,r,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,n())return !0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,o.sort(((e,t)=>e.sortKey-t.sortKey)));this._currentPartIndex<o.length;){const e=o[this._currentPartIndex];if(t.placeLayerBucketPart(e,this._seenCrossTileIDs,i,0===e.symbolInstanceStart),this._currentPartIndex++,n())return !0}return !1}}class gE{constructor(e,t,i,r,n,o,s,a,l){this.placement=new oE(e,n,o,s,a,l),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=i,this._showCollisionBoxes=r,this._done=!1;}isDone(){return this._done}continuePlacement(e,t,i,r){const n=dt.now(),o=()=>{const e=dt.now()-n;return !this._forceFullPlacement&&e>2};for(;this._currentPlacementIndex>=0;){const n=t[e[this._currentPlacementIndex]],s=this.placement.collisionIndex.transform.zoom;if(\"symbol\"===n.type&&(!n.minzoom||n.minzoom<=s)&&(!n.maxzoom||n.maxzoom>s)){const e=n,t=e.layout.get(\"symbol-z-elevate\"),s=this._inProgressLayer=this._inProgressLayer||new _E(e),a=va(n.source,n.scope);if(s.continuePlacement(t?r[a]:i[a],this.placement,this._showCollisionBoxes,n,o))return;delete this._inProgressLayer;}this._currentPlacementIndex--;}this._done=!0;}commit(e){return this.placement.commit(e),this.placement}}const yE=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class xE{static from(e){if(!(e instanceof ArrayBuffer))throw new Error(\"Data must be an instance of ArrayBuffer.\");const[t,i]=new Uint8Array(e,0,2);if(219!==t)throw new Error(\"Data does not appear to be in a KDBush format.\");const r=i>>4;if(1!==r)throw new Error(`Got v${r} data when expected v1.`);const n=yE[15&i];if(!n)throw new Error(\"Unrecognized array type.\");const[o]=new Uint16Array(e,2,1),[s]=new Uint32Array(e,4,1);return new xE(s,o,n,e)}constructor(e,t=64,i=Float64Array,r){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=i,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const n=yE.indexOf(this.ArrayType),o=2*e*this.ArrayType.BYTES_PER_ELEMENT,s=e*this.IndexArrayType.BYTES_PER_ELEMENT,a=(8-s%8)%8;if(n<0)throw new Error(`Unexpected typed array class: ${i}.`);r&&r instanceof ArrayBuffer?(this.data=r,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+s+a,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+o+s+a),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+s+a,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+n]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e);}add(e,t){const i=this._pos>>1;return this.ids[i]=i,this.coords[this._pos++]=e,this.coords[this._pos++]=t,i}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return vE(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,i,r){if(!this._finished)throw new Error(\"Data not yet indexed - call index.finish().\");const{ids:n,coords:o,nodeSize:s}=this,a=[0,n.length-1,0],l=[];for(;a.length;){const c=a.pop()||0,h=a.pop()||0,u=a.pop()||0;if(h-u<=s){for(let s=u;s<=h;s++){const a=o[2*s],c=o[2*s+1];a>=e&&a<=i&&c>=t&&c<=r&&l.push(n[s]);}continue}const d=u+h>>1,p=o[2*d],f=o[2*d+1];p>=e&&p<=i&&f>=t&&f<=r&&l.push(n[d]),(0===c?e<=p:t<=f)&&(a.push(u),a.push(d-1),a.push(1-c)),(0===c?i>=p:r>=f)&&(a.push(d+1),a.push(h),a.push(1-c));}return l}within(e,t,i){if(!this._finished)throw new Error(\"Data not yet indexed - call index.finish().\");const{ids:r,coords:n,nodeSize:o}=this,s=[0,r.length-1,0],a=[],l=i*i;for(;s.length;){const c=s.pop()||0,h=s.pop()||0,u=s.pop()||0;if(h-u<=o){for(let i=u;i<=h;i++)EE(n[2*i],n[2*i+1],e,t)<=l&&a.push(r[i]);continue}const d=u+h>>1,p=n[2*d],f=n[2*d+1];EE(p,f,e,t)<=l&&a.push(r[d]),(0===c?e-i<=p:t-i<=f)&&(s.push(u),s.push(d-1),s.push(1-c)),(0===c?e+i>=p:t+i>=f)&&(s.push(d+1),s.push(h),s.push(1-c));}return a}}function vE(e,t,i,r,n,o){if(n-r<=i)return;const s=r+n>>1;bE(e,t,s,r,n,o),vE(e,t,i,r,s-1,1-o),vE(e,t,i,s+1,n,1-o);}function bE(e,t,i,r,n,o){for(;n>r;){if(n-r>600){const s=n-r+1,a=i-r+1,l=Math.log(s),c=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*c*(s-c)/s)*(a-s/2<0?-1:1);bE(e,t,i,Math.max(r,Math.floor(i-a*c/s+h)),Math.min(n,Math.floor(i+(s-a)*c/s+h)),o);}const s=t[2*i+o];let a=r,l=n;for(wE(e,t,r,i),t[2*n+o]>s&&wE(e,t,r,n);a<l;){for(wE(e,t,a,l),a++,l--;t[2*a+o]<s;)a++;for(;t[2*l+o]>s;)l--;}t[2*r+o]===s?wE(e,t,r,l):(l++,wE(e,t,l,n)),l<=i&&(r=l+1),i<=l&&(n=l-1);}}function wE(e,t,i,r){TE(e,i,r),TE(t,2*i,2*r),TE(t,2*i+1,2*r+1);}function TE(e,t,i){const r=e[t];e[t]=e[i],e[i]=r;}function EE(e,t,i,r){const n=e-i,o=t-r;return n*n+o*o}const ME=512/cr/2;class AE{constructor(e,t,i){this.tileID=e,this.bucketInstanceId=i,this.index=new xE(t.length,16,Int32Array),this.keys=[],this.crossTileIDs=[];const r=e.canonical.x*cr,n=e.canonical.y*cr;for(let e=0;e<t.length;e++){const{key:i,crossTileID:o,tileAnchorX:s,tileAnchorY:a}=t.get(e),l=Math.floor((r+s)*ME),c=Math.floor((n+a)*ME);this.index.add(l,c),this.keys.push(i),this.crossTileIDs.push(o);}this.index.finish();}findMatches(e,t,i){const r=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z),n=ME/Math.pow(2,t.canonical.z-this.tileID.canonical.z),o=t.canonical.x*cr,s=t.canonical.y*cr;for(let t=0;t<e.length;t++){const a=e.get(t);if(a.crossTileID)continue;const{key:l,tileAnchorX:c,tileAnchorY:h}=a,u=Math.floor((o+c)*n),d=Math.floor((s+h)*n),p=this.index.range(u-r,d-r,u+r,d+r);for(const e of p){const t=this.crossTileIDs[e];if(this.keys[e]===l&&!i.has(t)){i.add(t),a.crossTileID=t;break}}}}}class SE{constructor(){this.maxCrossTileID=0;}generate(){return ++this.maxCrossTileID}}class IE{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0;}handleWrapJump(e){const t=Math.round((e-this.lng)/360);if(0!==t)for(const e in this.indexes){const i=this.indexes[e],r={};for(const e in i){const n=i[e];n.tileID=n.tileID.unwrapTo(n.tileID.wrap+t),r[n.tileID.key]=n;}this.indexes[e]=r;}this.lng=e;}addBucket(e,t,i){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return !1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key]);}for(let e=0;e<t.symbolInstances.length;e++)t.symbolInstances.get(e).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]=new Set);const r=this.usedCrossTileIDs[e.overscaledZ];for(const i in this.indexes){const n=this.indexes[i];if(Number(i)>e.overscaledZ)for(const i in n){const o=n[i];o.tileID.isChildOf(e)&&o.findMatches(t.symbolInstances,e,r);}else {const o=n[e.scaledTo(Number(i)).key];o&&o.findMatches(t.symbolInstances,e,r);}}for(let e=0;e<t.symbolInstances.length;e++){const n=t.symbolInstances.get(e);n.crossTileID||(n.crossTileID=i.generate(),r.add(n.crossTileID));}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new AE(e,t.symbolInstances,t.bucketInstanceId),!0}removeBucketCrossTileIDs(e,t){for(const i of t.crossTileIDs)this.usedCrossTileIDs[e].delete(i);}removeStaleBuckets(e){let t=!1;for(const i in this.indexes){const r=this.indexes[i];for(const n in r)e[r[n].bucketInstanceId]||(this.removeBucketCrossTileIDs(i,r[n]),delete r[n],t=!0);}return t}}class CE{constructor(){this.layerIndexes={},this.crossTileIDs=new SE,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={};}addLayer(e,t,i,r){let n=this.layerIndexes[e.fqid];void 0===n&&(n=this.layerIndexes[e.fqid]=new IE);let o=!1;const s={};\"globe\"!==r.name&&n.handleWrapJump(i);for(const i of t){const t=i.getBucket(e);t&&e.fqid===t.layerIds[0]&&(t.bucketInstanceId||(t.bucketInstanceId=++this.maxBucketInstanceId),n.addBucket(i.tileID,t,this.crossTileIDs)&&(o=!0),s[t.bucketInstanceId]=!0);}return n.removeStaleBuckets(s)&&(o=!0),o}pruneUnusedLayers(e){const t={};e.forEach((e=>{t[e]=!0;}));for(const e in this.layerIndexes)t[e]||delete this.layerIndexes[e];}}var zE=\"\\n#define EPSILON 0.0000001\\n#define PI 3.141592653589793\\n#ifdef RENDER_CUTOFF\\nfloat cutoff_opacity(vec4 cutoff_params,float depth) {float near=cutoff_params.x;float far=cutoff_params.y;float cutoffStart=cutoff_params.z;float cutoffEnd=cutoff_params.w-0.0001;float linearDepth=(depth-near)/(far-near);return clamp((linearDepth-cutoffStart)/(cutoffEnd-cutoffStart),0.0,1.0);}\\n#endif\",PE=\"in highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;out highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}\",DE=\"\\n#define ELEVATION_SCALE 7.0\\n#define ELEVATION_OFFSET 450.0\\n#ifdef PROJECTION_GLOBE_VIEW\\nuniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(\\nmix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}\\n#else\\nvec3 elevationVector(vec2 pos) { return vec3(0,0,1); }\\n#endif\\n#ifdef TERRAIN\\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float currentElevation(vec2 apos) {\\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture(u_dem,pos).r;\\n#else\\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=texture(u_dem,pos).r;float tr=texture(u_dem,pos+vec2(dd,0)).r;float bl=texture(u_dem,pos+vec2(0,dd)).r;float br=texture(u_dem,pos+vec2(dd,dd)).r;return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\\n#endif\\n}float prevElevation(vec2 apos) {\\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture(u_dem_prev,pos).r;\\n#else\\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=texture(u_dem_prev,pos).r;float tr=texture(u_dem_prev,pos+vec2(dd,0)).r;float bl=texture(u_dem_prev,pos+vec2(0,dd)).r;float br=texture(u_dem_prev,pos+vec2(dd,dd)).r;return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\\n#endif\\n}\\n#ifdef TERRAIN_VERTEX_MORPHING\\nfloat elevation(vec2 apos) {\\n#ifdef ZERO_EXAGGERATION\\nreturn 0.0;\\n#endif\\nfloat nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\\n#else\\nfloat elevation(vec2 apos) {\\n#ifdef ZERO_EXAGGERATION\\nreturn 0.0;\\n#endif\\nreturn currentElevation(apos);}\\n#endif\\nhighp float unpack_depth(highp vec4 rgba_depth)\\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\\nunpack_depth(texture(u_depth,uv-df.xz)),unpack_depth(texture(u_depth,uv+df.xz)),unpack_depth(texture(u_depth,uv-df.zy)),unpack_depth(texture(u_depth,uv+df.zy))\\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {float tl=texture(u_dem,pos).r;float tr=texture(u_dem,pos+vec2(off.x,0.0)).r;float bl=texture(u_dem,pos+vec2(0.0,off.y)).r;float br=texture(u_dem,pos+off).r;return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}\\n#else\\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\\n#endif\",RE=\"#ifdef FOG\\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;out vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}\\n#endif\",LE=\"highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}\\n#ifdef FOG\\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump vec2 u_fog_vertical_limit;uniform mediump float u_fog_temporal_offset;in vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos,float opacity_limit) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,min(opacity,opacity_limit));}vec3 fog_apply(vec3 color,vec3 pos) {return fog_apply(color,pos,1.0);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec4 fog_apply_premultiplied(vec4 color,vec3 pos,float heightMeters) {float verticalProgress=(u_fog_vertical_limit.x > 0.0 || u_fog_vertical_limit.y > 0.0) ? smoothstep(u_fog_vertical_limit.x,u_fog_vertical_limit.y,heightMeters) : 0.0;float opacityLimit=1.0-smoothstep(0.9,1.0,fog_opacity(pos));return mix(fog_apply_premultiplied(color,pos),color,min(verticalProgress,opacityLimit));}vec3 fog_dither(vec3 color) {\\n#ifdef FOG_DITHERING\\nvec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);\\n#else\\nreturn color;\\n#endif\\n}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}\\n#endif\",kE=\"#ifdef RASTER_ARRAY\\nuniform sampler2D u_image0;uniform sampler2D u_image1;const vec4 NODATA=vec4(1);vec4 _raTexLinearCoord(vec2 texCoord,vec2 texResolution,out vec2 fxy) {texCoord=texCoord*texResolution-0.5;fxy=fract(texCoord);texCoord-=fxy;return (texCoord.xxyy+vec2(1.5,0.5).xyxy)/texResolution.xxyy;}vec2 _raTexLinearMix(vec2 fxy,vec4 colorMix,float colorOffset,vec4 t00,vec4 t10,vec4 t01,vec4 t11) {vec2 c00=t00==NODATA ? vec2(0) : vec2(colorOffset+dot(t00,colorMix),1);vec2 c10=t10==NODATA ? vec2(0) : vec2(colorOffset+dot(t10,colorMix),1);vec2 c01=t01==NODATA ? vec2(0) : vec2(colorOffset+dot(t01,colorMix),1);vec2 c11=t11==NODATA ? vec2(0) : vec2(colorOffset+dot(t11,colorMix),1);return mix(mix(c01,c11,fxy.x),mix(c00,c10,fxy.x),fxy.y);}vec2 raTexture2D_image0_linear(vec2 texCoord,vec2 texResolution,vec4 colorMix,float colorOffset) {vec2 fxy;vec4 c=_raTexLinearCoord(texCoord,texResolution,fxy);return _raTexLinearMix(fxy,colorMix,colorOffset,texture(u_image0,c.yz),texture(u_image0,c.xz),texture(u_image0,c.yw),texture(u_image0,c.xw)\\n);}vec2 raTexture2D_image1_linear(vec2 texCoord,vec2 texResolution,vec4 colorMix,float colorOffset) {vec2 fxy;vec4 c=_raTexLinearCoord(texCoord,texResolution,fxy);return _raTexLinearMix(fxy,colorMix,colorOffset,texture(u_image1,c.yz),texture(u_image1,c.xz),texture(u_image1,c.yw),texture(u_image1,c.xw)\\n);}vec2 raTexture2D_image0_nearest(vec2 texCoord,vec2 texResolution,vec4 colorMix,float colorOffset) {vec4 t=texture(u_image0,texCoord);return t==NODATA ? vec2(0) : vec2(colorOffset+dot(t,colorMix),1);}vec2 raTexture2D_image1_nearest(vec2 texCoord,vec2 texResolution,vec4 colorMix,float colorOffset) {vec4 t=texture(u_image1,texCoord);return t==NODATA ? vec2(0) : vec2(colorOffset+dot(t,colorMix),1);}\\n#endif\",OE=\"#ifdef RENDER_SHADOWS\\nuniform mediump vec3 u_shadow_direction;uniform highp vec3 u_shadow_normal_offset;vec3 shadow_normal_offset(vec3 normal) {float tileInMeters=u_shadow_normal_offset[0];vec3 n=vec3(-normal.xy,tileInMeters*normal.z);float dotScale=min(1.0-dot(normal,u_shadow_direction),1.0)*0.5+0.5;return n*dotScale;}vec3 shadow_normal_offset_model(vec3 normal) {float dotScale=min(1.0-dot(normal,u_shadow_direction),1.0)*0.5+0.5;return normal*dotScale;}float shadow_normal_offset_multiplier0() {return u_shadow_normal_offset[1];}float shadow_normal_offset_multiplier1() {return u_shadow_normal_offset[2];}\\n#endif//RENDER_SHADOWS\",BE=\"#ifdef RENDER_SHADOWS\\n#ifdef DEPTH_TEXTURE\\nuniform highp sampler2D u_shadowmap_0;uniform highp sampler2D u_shadowmap_1;\\n#else\\nuniform sampler2D u_shadowmap_0;uniform sampler2D u_shadowmap_1;\\n#endif\\nuniform float u_shadow_intensity;uniform float u_shadow_map_resolution;uniform float u_shadow_texel_size;uniform highp vec3 u_shadow_normal_offset;uniform vec2 u_fade_range;uniform mediump vec3 u_shadow_direction;uniform highp vec3 u_shadow_bias;highp float shadow_sample_1(highp vec2 uv,highp float compare) {highp float shadow_depth;\\n#ifdef DEPTH_TEXTURE\\nshadow_depth=texture(u_shadowmap_1,uv).r;\\n#else\\nshadow_depth=unpack_depth(texture(u_shadowmap_1,uv))*0.5+0.5;\\n#endif\\nreturn step(shadow_depth,compare);}highp float shadow_sample_0(highp vec2 uv,highp float compare) {highp float shadow_depth;\\n#ifdef DEPTH_TEXTURE\\nshadow_depth=texture(u_shadowmap_0,uv).r;\\n#else\\nshadow_depth=unpack_depth(texture(u_shadowmap_0,uv))*0.5+0.5;\\n#endif\\nreturn step(shadow_depth,compare);}float shadow_occlusion_1(highp vec4 pos,highp float bias) {highp vec2 uv=pos.xy;return shadow_sample_1(uv,pos.z-bias);}float shadow_occlusion_0(highp vec4 pos,highp float bias) {highp float compare0=pos.z-bias;\\n#ifdef NATIVE\\nhighp vec2 uv=pos.xy;highp vec4 samples=textureGather(u_shadowmap_0,uv,0);lowp vec4 stepSamples=step(samples,vec4(compare0));\\n#else\\nhighp vec2 uv00=pos.xy-vec2(0.5*u_shadow_texel_size);highp vec2 uv10=uv00+vec2(u_shadow_texel_size,0.0);highp vec2 uv01=uv00+vec2(0.0,u_shadow_texel_size);highp vec2 uv11=uv01+vec2(u_shadow_texel_size,0.0);lowp vec4 stepSamples=vec4(\\nshadow_sample_0(uv01,compare0),shadow_sample_0(uv11,compare0),shadow_sample_0(uv10,compare0),shadow_sample_0(uv00,compare0)\\n);\\n#endif\\nvec2 f=fract(pos.xy*u_shadow_map_resolution-vec2(0.5));lowp vec2 lerpx=mix(stepSamples.wx,stepSamples.zy,f.xx);return mix(lerpx.x,lerpx.y,f.y);}float shadow_occlusion(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth,highp float bias) {\\n#ifdef SHADOWS_SINGLE_CASCADE\\nlight_view_pos0.xyz=light_view_pos0.xyz/light_view_pos0.w*0.5+0.5;return shadow_occlusion_0(light_view_pos0,bias);\\n#else\\nlight_view_pos0.xyz/=light_view_pos0.w;light_view_pos1.xyz/=light_view_pos1.w;vec4 uv=vec4(light_view_pos0.xy,light_view_pos1.xy);vec4 abs_bounds=abs(uv);if (abs_bounds.x < 1.0 && abs_bounds.y < 1.0) {light_view_pos0.xyz=light_view_pos0.xyz*0.5+0.5;return shadow_occlusion_0(light_view_pos0,bias);}if (abs_bounds.z >=1.0 || abs_bounds.w >=1.0) {return 0.0;}light_view_pos1.xyz=light_view_pos1.xyz*0.5+0.5;float occlusion1=shadow_occlusion_1(light_view_pos1,bias);return mix(occlusion1,0.0,smoothstep(u_fade_range.x,u_fade_range.y,view_depth));\\n#endif\\n}highp float calculate_shadow_bias(float NDotL) {\\n#ifdef NORMAL_OFFSET\\nreturn 0.5*u_shadow_bias.x;\\n#else\\nreturn 0.5*(u_shadow_bias.x+clamp(u_shadow_bias.y*tan(acos(NDotL)),0.0,u_shadow_bias.z));\\n#endif\\n}float shadowed_light_factor_normal(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float NDotL=dot(N,u_shadow_direction);float bias=calculate_shadow_bias(NDotL);float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}float shadowed_light_factor_normal_unbiased(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float NDotL=dot(N,u_shadow_direction);float bias=0.0;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}float shadowed_light_factor(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float bias=0.0;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return 1.0-(u_shadow_intensity*occlusion);}float shadow_occlusion(float ndotl,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float bias=calculate_shadow_bias(ndotl);return shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);}\\n#endif\";const FE=[];qE(zE,FE);const NE={\"_prelude_fog.vertex.glsl\":RE,\"_prelude_terrain.vertex.glsl\":DE,\"_prelude_shadow.vertex.glsl\":OE,\"_prelude_fog.fragment.glsl\":LE,\"_prelude_shadow.fragment.glsl\":BE,\"_prelude_lighting.glsl\":\"\\n#ifdef LIGHTING_3D_MODE\\nuniform mediump vec3 u_lighting_ambient_color;uniform mediump vec3 u_lighting_directional_dir;uniform mediump vec3 u_lighting_directional_color;uniform mediump vec3 u_ground_radiance;float calculate_ambient_directional_factor(vec3 normal) {float NdotL=dot(normal,u_lighting_directional_dir);const float factor_reduction_max=0.3;float dir_luminance=dot(u_lighting_directional_color,vec3(0.2126,0.7152,0.0722));float directional_factor_min=1.0-factor_reduction_max*min(dir_luminance,1.0);float ambient_directional_factor=mix(directional_factor_min,1.0,min((NdotL+1.0),1.0));const float vertical_factor_min=0.92;float vertical_factor=mix(vertical_factor_min,1.0,normal.z*0.5+0.5);return vertical_factor*ambient_directional_factor;}vec3 linearProduct(vec3 srgbIn,vec3 k) {return srgbIn*pow(k,vec3(1./2.2));}vec3 apply_lighting(vec3 color,vec3 normal,float dir_factor) {float ambient_directional_factor=calculate_ambient_directional_factor(normal);vec3 ambient_contrib=ambient_directional_factor*u_lighting_ambient_color;vec3 directional_contrib=u_lighting_directional_color*dir_factor;return linearProduct(color,ambient_contrib+directional_contrib);}vec4 apply_lighting(vec4 color,vec3 normal,float dir_factor) {return vec4(apply_lighting(color.rgb,normal,dir_factor),color.a);}vec3 apply_lighting(vec3 color,vec3 normal) {float dir_factor=max(dot(normal,u_lighting_directional_dir),0.0);return apply_lighting(color.rgb,normal,dir_factor);}vec4 apply_lighting(vec4 color,vec3 normal) {float dir_factor=max(dot(normal,u_lighting_directional_dir),0.0);return vec4(apply_lighting(color.rgb,normal,dir_factor),color.a);}vec3 apply_lighting_ground(vec3 color) {return color*u_ground_radiance;}vec4 apply_lighting_ground(vec4 color) {return vec4(apply_lighting_ground(color.rgb),color.a);}float calculate_NdotL(vec3 normal) {const float ext=0.70710678118;return (clamp(dot(normal,u_lighting_directional_dir),-ext,1.0)+ext)/(1.0+ext);}vec4 apply_lighting_with_emission_ground(vec4 color,float emissive_strength) {return mix(apply_lighting_ground(color),color,emissive_strength);}vec3 compute_flood_lighting(vec3 flood_light_color,float fully_occluded_factor,float occlusion,vec3 ground_shadow_factor) {vec3 fully_occluded_color=flood_light_color*mix(ground_shadow_factor,vec3(1.0),fully_occluded_factor);float occlusion_ramp=smoothstep(0.0,0.2,1.0-occlusion);return mix(fully_occluded_color,flood_light_color,occlusion_ramp);}vec3 compute_emissive_draped(vec3 unlit_color,float fully_occluded_factor,float occlusion,vec3 ground_shadow_factor) {vec3 fully_occluded_color=unlit_color*mix(ground_shadow_factor,vec3(1.0),fully_occluded_factor);return mix(fully_occluded_color,unlit_color,1.0-occlusion);}\\n#endif//LIGHTING_3D_MODE\",\"_prelude_raster_array.glsl\":kE},UE={};ZE(\"\",DE),ZE(LE,RE),ZE(BE,OE),ZE(kE,\"\");const VE=ZE(\"\\nout vec4 glFragColor;highp float unpack_depth(highp vec4 rgba_depth)\\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}\\n#ifdef INDICATOR_CUTOUT\\nuniform vec2 u_indicator_cutout_centers;uniform vec4 u_indicator_cutout_params;\\n#endif\\nvec4 applyCutout(vec4 color) {\\n#ifdef INDICATOR_CUTOUT\\nfloat holeMinOpacity=u_indicator_cutout_params.x;float holeRadius=max(u_indicator_cutout_params.y,0.0);float holeAspectRatio=u_indicator_cutout_params.z;float fadeStart=u_indicator_cutout_params.w;float distA=distance(vec2(gl_FragCoord.x,gl_FragCoord.y*holeAspectRatio),vec2(u_indicator_cutout_centers[0],u_indicator_cutout_centers[1]*holeAspectRatio));return color*min(smoothstep(fadeStart,holeRadius,distA)+holeMinOpacity,1.0);\\n#else\\nreturn color;\\n#endif\\n}\\n#ifdef DEBUG_WIREFRAME\\n#define HANDLE_WIREFRAME_DEBUG \\\\\\nglFragColor=vec4(0.7,0.0,0.0,0.7); \\\\\\ngl_FragDepth=gl_FragCoord.z-0.0001;\\n#else\\n#define HANDLE_WIREFRAME_DEBUG\\n#endif\\n#ifdef RENDER_CUTOFF\\nuniform highp vec4 u_cutoff_params;in float v_cutoff_opacity;\\n#endif\",\"\\n#define EXTENT 8192.0\\n#define RAD_TO_DEG 180.0/PI\\n#define DEG_TO_RAD PI/180.0\\n#define GLOBE_RADIUS EXTENT/PI/2.0\\nfloat wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {\\n#ifndef PROJECTED_POS_ON_VIEWPORT\\nfloat tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;\\n#else\\nreturn vec3(0.0);\\n#endif\\n}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}\\n#endif\\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(PI/4.0+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}\\n#ifdef RENDER_CUTOFF\\nuniform vec4 u_cutoff_params;out float v_cutoff_opacity;\\n#endif\\nconst vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);const float skirtOffset=24575.0;vec3 decomposeToPosAndSkirt(vec2 posWithComposedSkirt)\\n{float skirt=float(posWithComposedSkirt.x >=skirtOffset);vec2 pos=posWithComposedSkirt-vec2(skirt*skirtOffset,0.0);return vec3(pos,skirt);}\"),jE=zE;var GE={background:ZE('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform vec4 u_color;uniform float u_opacity;\\n#ifdef LIGHTING_3D_MODE\\nin vec4 v_color;\\n#endif\\nvoid main() {vec4 out_color;\\n#ifdef LIGHTING_3D_MODE\\nout_color=v_color;\\n#else\\nout_color=u_color;\\n#endif\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\nglFragColor=out_color*u_opacity;\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nin vec2 a_pos;uniform mat4 u_matrix;\\n#ifdef LIGHTING_3D_MODE\\nuniform mediump vec4 u_color;out vec4 v_color;uniform float u_emissive_strength;\\n#endif\\nvoid main() {gl_Position=u_matrix*vec4(a_pos,0,1);\\n#ifdef LIGHTING_3D_MODE\\nv_color=apply_lighting_with_emission_ground(u_color,u_emissive_strength);\\n#endif\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}'),backgroundPattern:ZE('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform float u_emissive_strength;uniform sampler2D u_image;in vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture(u_image,pos);\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);\\n#endif\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\nglFragColor=out_color*u_opacity;\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\nuniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}'),circle:ZE('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nin vec3 v_data;in float v_visibility;\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define mediump float radius\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define highp vec4 stroke_color\\n#pragma mapbox: define mediump float stroke_width\\n#pragma mapbox: define lowp float stroke_opacity\\nuniform float u_emissive_strength;void main() {\\n#pragma mapbox: initialize highp vec4 color\\n#pragma mapbox: initialize mediump float radius\\n#pragma mapbox: initialize lowp float blur\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize highp vec4 stroke_color\\n#pragma mapbox: initialize mediump float stroke_width\\n#pragma mapbox: initialize lowp float stroke_opacity\\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\\n);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);\\n#endif\\n#ifdef FOG\\nout_color=fog_apply_premultiplied(out_color,v_fog_pos);\\n#endif\\nglFragColor=out_color*(v_visibility*opacity_t);\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\n}','#include \"_prelude_fog.vertex.glsl\"\\n#include \"_prelude_terrain.vertex.glsl\"\\n#define NUM_VISIBILITY_RINGS 2\\n#define INV_SQRT2 0.70710678\\n#define ELEVATION_BIAS 0.0001\\n#define NUM_SAMPLES_PER_RING 16\\nuniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;in vec2 a_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nin vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\\n#endif\\nout vec3 v_data;out float v_visibility;\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define mediump float radius\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define highp vec4 stroke_color\\n#pragma mapbox: define mediump float stroke_width\\n#pragma mapbox: define lowp float stroke_opacity\\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\\n#if defined(TERRAIN)\\nreturn elevation(pos)+ELEVATION_BIAS;\\n#else\\nreturn 0.0;\\n#endif\\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\\n#ifdef PITCH_WITH_MAP\\n#ifdef PROJECTION_GLOBE_VIEW\\nreturn u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );\\n#else\\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\\n#endif\\n#else\\nreturn projected_center+vec4(sample_offset,0,0);\\n#endif\\n}float get_sample_step() {\\n#ifdef PITCH_WITH_MAP\\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\\n#else\\nreturn PI/float(NUM_SAMPLES_PER_RING);\\n#endif\\n}void main(void) {\\n#pragma mapbox: initialize highp vec4 color\\n#pragma mapbox: initialize mediump float radius\\n#pragma mapbox: initialize lowp float blur\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize highp vec4 stroke_color\\n#pragma mapbox: initialize mediump float stroke_width\\n#pragma mapbox: initialize lowp float stroke_opacity\\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);\\n#else \\nsurface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);\\n#endif\\nvec4 projected_center=u_matrix*world_center;float view_scale=0.0;\\n#ifdef PITCH_WITH_MAP\\n#ifdef SCALE_WITH_MAP\\nview_scale=1.0;\\n#else\\nview_scale=projected_center.w/u_camera_to_center_distance;\\n#endif\\n#else\\n#ifdef SCALE_WITH_MAP\\nview_scale=u_camera_to_center_distance;\\n#else\\nview_scale=projected_center.w;\\n#endif\\n#endif\\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;\\n#ifdef TERRAIN\\nfloat step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;\\n#ifdef PITCH_WITH_MAP\\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;\\n#else\\nocclusion_world_center=world_center;occlusion_projected_center=projected_center;\\n#endif\\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\\n#else\\nvisibility=1.0;\\n#endif\\n#ifdef PROJECTION_GLOBE_VIEW\\nvisibility=1.0;\\n#endif\\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);\\n#ifdef FOG\\nv_fog_pos=fog_position(world_center.xyz);\\n#endif\\n}'),clippingMask:ZE(\"void main() {glFragColor=vec4(1.0);}\",\"in vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}\"),heatmap:ZE('#include \"_prelude_fog.fragment.glsl\"\\nuniform highp float u_intensity;in vec2 v_extrude;\\n#pragma mapbox: define highp float weight\\n#define GAUSS_COEF 0.3989422804014327\\nvoid main() {\\n#pragma mapbox: initialize highp float weight\\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);glFragColor=vec4(val,1.0,1.0,1.0);\\n#ifdef FOG\\nif (u_is_globe==0) {glFragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}\\n#endif\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_terrain.vertex.glsl\"\\n#include \"_prelude_fog.vertex.glsl\"\\nuniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;in vec2 a_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nin vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\\n#endif\\nout vec2 v_extrude;\\n#pragma mapbox: define highp float weight\\n#pragma mapbox: define mediump float radius\\nconst highp float ZERO=1.0/255.0/16.0;\\n#define GAUSS_COEF 0.3989422804014327\\nvoid main(void) {\\n#pragma mapbox: initialize highp float weight\\n#pragma mapbox: initialize mediump float radius\\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\\n#else\\npos=vec3(tilePos+extrude,elevation(tilePos));\\n#endif\\ngl_Position=u_matrix*vec4(pos,1);\\n#ifdef FOG\\nv_fog_pos=fog_position(pos);\\n#endif\\n}'),heatmapTexture:ZE(\"uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));glFragColor=color*u_opacity;\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(0.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}\",\"in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}\"),collisionBox:ZE(\"in float v_placed;in float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);glFragColor =mix(red,blue,step(0.5,v_placed))*0.5;glFragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}\",'#include \"_prelude_terrain.vertex.glsl\"\\nin vec3 a_pos;in vec2 a_anchor_pos;in vec2 a_extrude;in vec2 a_placed;in vec2 a_shift;in float a_size_scale;in vec2 a_padding;in float a_z_offset;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;out float v_placed;out float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*(a_z_offset+elevation(a_anchor_pos)),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}'),collisionCircle:ZE(\"in float v_radius;in vec2 v_extrude;in float v_perspective_ratio;in float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);glFragColor=color*alpha*opacity_t;}\",\"in vec2 a_pos_2f;in float a_radius;in vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;out float v_radius;out vec2 v_extrude;out float v_perspective_ratio;out float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}\"),debug:ZE(\"uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);glFragColor=mix(u_color,overlay_color,overlay_color.a);}\",'#include \"_prelude_terrain.vertex.glsl\"\\nin vec2 a_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nin vec3 a_pos_3;\\n#endif\\nout vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;\\n#ifdef PROJECTION_GLOBE_VIEW\\ngl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);\\n#else\\ngl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);\\n#endif\\n}'),fill:ZE('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define lowp float opacity\\nuniform float u_emissive_strength;void main() {\\n#pragma mapbox: initialize highp vec4 color\\n#pragma mapbox: initialize lowp float opacity\\nvec4 out_color=color;\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);\\n#endif\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\nglFragColor=out_color*opacity;\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\nin vec2 a_pos;uniform mat4 u_matrix;\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define lowp float opacity\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 color\\n#pragma mapbox: initialize lowp float opacity\\ngl_Position=u_matrix*vec4(a_pos,0,1);\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}'),fillOutline:ZE('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nin vec2 v_pos;uniform float u_emissive_strength;\\n#pragma mapbox: define highp vec4 outline_color\\n#pragma mapbox: define lowp float opacity\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 outline_color\\n#pragma mapbox: initialize lowp float opacity\\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);\\n#endif\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\nglFragColor=out_color*(alpha*opacity);\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\nin vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;out vec2 v_pos;\\n#pragma mapbox: define highp vec4 outline_color\\n#pragma mapbox: define lowp float opacity\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 outline_color\\n#pragma mapbox: initialize lowp float opacity\\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}'),fillOutlinePattern:ZE('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_emissive_strength;in vec2 v_pos;in vec2 v_pos_world;\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp vec4 pattern\\nvoid main() {\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize mediump vec4 pattern\\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture(u_image,pos);\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);\\n#endif\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\nglFragColor=out_color*(alpha*opacity);\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\nuniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos;out vec2 v_pos_world;\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp vec4 pattern\\n#pragma mapbox: define lowp float pixel_ratio\\nvoid main() {\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize mediump vec4 pattern\\n#pragma mapbox: initialize lowp float pixel_ratio\\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}'),fillPattern:ZE('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform vec2 u_texsize;uniform sampler2D u_image;in vec2 v_pos;uniform float u_emissive_strength;\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp vec4 pattern\\nvoid main() {\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize mediump vec4 pattern\\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture(u_image,pos);\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);\\n#endif\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\nglFragColor=out_color*opacity;\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\nuniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos;\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp vec4 pattern\\n#pragma mapbox: define lowp float pixel_ratio\\nvoid main() {\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize mediump vec4 pattern\\n#pragma mapbox: initialize lowp float pixel_ratio\\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}'),fillExtrusion:ZE('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_shadow.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nin vec4 v_color;in vec4 v_flat;\\n#ifdef RENDER_SHADOWS\\nin highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in float v_depth;\\n#endif\\nuniform lowp float u_opacity;\\n#ifdef FAUX_AO\\nuniform lowp vec2 u_ao;in vec2 v_ao;\\n#endif\\n#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)\\nin vec4 v_roof_color;\\n#endif\\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)\\nin highp vec3 v_normal;\\n#endif\\nuniform vec3 u_flood_light_color;uniform highp float u_vertical_scale;uniform float u_flood_light_intensity;uniform vec3 u_ground_shadow_factor;\\n#if defined(LIGHTING_3D_MODE) && defined(FLOOD_LIGHT)\\nin float v_flood_radius;in float v_has_floodlight;\\n#endif\\nuniform float u_emissive_strength;in float v_height;void main() {\\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)\\nvec3 normal=normalize(v_normal);\\n#endif\\nfloat z;vec4 color=v_color;\\n#ifdef ZERO_ROOF_RADIUS\\nz=float(normal.z > 0.00001);\\n#ifdef LIGHTING_3D_MODE\\nnormal=mix(normal,vec3(0.0,0.0,1.0),z);\\n#else\\ncolor=mix(v_color,v_roof_color,z);\\n#endif\\n#endif\\nfloat h=max(0.0,v_height);float ao_shade=1.0;\\n#ifdef FAUX_AO\\nfloat intensity=u_ao[0];float h_floors=h/(u_ao[1]*u_vertical_scale);float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);ao_shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;\\n#ifdef ZERO_ROOF_RADIUS\\nconcave*=(1.0-z);\\n#endif\\nfloat x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);ao_shade*=mix(1.0,x_shade*x_shade*x_shade,concave);\\n#ifdef LIGHTING_3D_MODE\\n#ifdef FLOOD_LIGHT\\ncolor.rgb*=mix(ao_shade,1.0,v_has_floodlight);\\n#else\\ncolor.rgb*=ao_shade;\\n#endif\\n#else\\ncolor.rgb*=ao_shade;\\n#endif\\n#endif\\n#ifdef LIGHTING_3D_MODE\\nfloat flood_radiance=0.0;\\n#ifdef FLOOD_LIGHT\\nflood_radiance=(1.0-min(h/v_flood_radius,1.0))*u_flood_light_intensity*v_has_floodlight;\\n#endif\\n#ifdef RENDER_SHADOWS\\n#ifdef FLOOD_LIGHT\\nfloat ndotl_unclamped=dot(normal,u_shadow_direction);float ndotl=max(0.0,ndotl_unclamped);float occlusion=ndotl_unclamped < 0.0 ? 1.0 : shadow_occlusion(ndotl,v_pos_light_view_0,v_pos_light_view_1,v_depth);vec3 litColor=apply_lighting(color.rgb,normal,(1.0-u_shadow_intensity*occlusion)*ndotl);vec3 floodLitColor=compute_flood_lighting(u_flood_light_color*u_opacity,1.0-u_shadow_intensity,occlusion,u_ground_shadow_factor);color.rgb=mix(litColor,floodLitColor,flood_radiance);\\n#else\\nfloat shadowed_lighting_factor=shadowed_light_factor_normal(normal,v_pos_light_view_0,v_pos_light_view_1,v_depth);color.rgb=apply_lighting(color.rgb,normal,shadowed_lighting_factor);\\n#endif\\n#else\\ncolor.rgb=apply_lighting(color.rgb,normal);\\n#ifdef FLOOD_LIGHT\\ncolor.rgb=mix(color.rgb,u_flood_light_color*u_opacity,flood_radiance);\\n#endif\\n#endif\\ncolor.rgb=mix(color.rgb,v_flat.rgb,u_emissive_strength);color*=u_opacity;\\n#endif\\n#ifdef FOG\\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos,h));\\n#endif\\n#ifdef RENDER_CUTOFF\\ncolor*=v_cutoff_opacity;\\n#endif\\n#ifdef INDICATOR_CUTOUT\\ncolor=applyCutout(color);\\n#endif\\nglFragColor=color;\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\n#include \"_prelude_terrain.vertex.glsl\"\\n#include \"_prelude_shadow.vertex.glsl\"\\n#include \"_prelude_lighting.glsl\"\\n#ifdef RENDER_CUTOFF\\ninvariant gl_Position;\\n#endif\\nuniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nin vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\\n#endif\\nuniform highp float u_vertical_scale;out vec4 v_color;out vec4 v_flat;\\n#ifdef RENDER_SHADOWS\\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out float v_depth;\\n#endif\\n#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)\\nout vec4 v_roof_color;\\n#endif\\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)\\nout highp vec3 v_normal;\\n#endif\\n#ifdef FAUX_AO\\nuniform lowp vec2 u_ao;out vec2 v_ao;\\n#endif\\n#if defined(LIGHTING_3D_MODE) && defined(FLOOD_LIGHT)\\nout float v_flood_radius;out float v_has_floodlight;\\n#endif\\nout float v_height;\\n#pragma mapbox: define highp float base\\n#pragma mapbox: define highp float height\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define highp float flood_light_wall_radius\\nvoid main() {\\n#pragma mapbox: initialize highp float base\\n#pragma mapbox: initialize highp float height\\n#pragma mapbox: initialize highp vec4 color\\n#pragma mapbox: initialize highp float flood_light_wall_radius\\nbase*=u_vertical_scale;height*=u_vertical_scale;vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));\\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)\\nv_normal=normal;\\n#endif\\nbase=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);\\n#if defined(HAS_CENTROID) || defined(TERRAIN)\\ncentroid_pos=a_centroid_pos;\\n#endif\\nfloat ele=0.0;float h=0.0;float c_ele;vec3 pos;\\n#ifdef TERRAIN\\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);\\n#else\\nh=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);\\n#endif\\n#ifdef PROJECTION_GLOBE_VIEW\\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\\n#endif\\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);h=h-ele;v_height=h;\\n#ifdef RENDER_SHADOWS\\nvec3 shd_pos0=pos;vec3 shd_pos1=pos;\\n#ifdef NORMAL_OFFSET\\nvec3 offset=shadow_normal_offset(normal);shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();\\n#endif\\nv_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;\\n#endif\\nfloat NdotL=0.0;float colorvalue=0.0;\\n#ifndef LIGHTING_3D_MODE\\ncolorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);if (normal.y !=0.0) {float r=0.84;r=mix(0.7,0.98,1.0-u_lightintensity);NdotL*=(\\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}\\n#endif\\n#ifdef FAUX_AO\\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\\n#ifdef TERRAIN\\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\\n#endif\\nv_ao=vec2(mix(concave,-concave,start),y_ground);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\\n#ifdef PROJECTION_GLOBE_VIEW\\ntop_height+=u_height_lift;\\n#endif\\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\\n#endif\\n#ifdef LIGHTING_3D_MODE\\n#ifdef FLOOD_LIGHT\\nfloat is_wall=1.0-float(t > 0.0 && top_up_ny.y > 0.0);v_has_floodlight=float(flood_light_wall_radius > 0.0 && is_wall > 0.0);v_flood_radius=flood_light_wall_radius*u_vertical_scale;\\n#endif\\nv_color=vec4(color.rgb,1.0);v_flat=vec4(linearProduct(color.rgb,vec3(calculate_NdotL(normal))),1.0);\\n#else\\nv_color=vec4(0.0,0.0,0.0,1.0);v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;\\n#endif\\n#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)\\nfloat roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color=vec4(0.0,0.0,0.0,1.0);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_roof_color*=u_opacity;\\n#endif\\n#ifdef FOG\\nv_fog_pos=fog_position(pos);\\n#endif\\n#ifdef RENDER_CUTOFF\\nv_cutoff_opacity=cutoff_opacity(u_cutoff_params,gl_Position.z);\\n#endif\\n}'),fillExtrusionDepth:ZE(\"in highp float v_depth;void main() {\\n#ifndef DEPTH_TEXTURE\\nglFragColor=pack_depth(v_depth);\\n#endif\\n}\",'#include \"_prelude_terrain.vertex.glsl\"\\nuniform mat4 u_matrix;uniform float u_edge_radius;uniform float u_vertical_scale;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;\\n#pragma mapbox: define highp float base\\n#pragma mapbox: define highp float height\\nout highp float v_depth;void main() {\\n#pragma mapbox: initialize highp float base\\n#pragma mapbox: initialize highp float height\\nbase*=u_vertical_scale;height*=u_vertical_scale;vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);\\n#if defined(HAS_CENTROID) || defined(TERRAIN)\\ncentroid_pos=a_centroid_pos;\\n#endif\\nvec3 pos;\\n#ifdef TERRAIN\\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;float ele=elevation(pos_nx.xy);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base);pos=vec3(pos_nx.xy,h);\\n#else\\npos=vec3(pos_nx.xy,t > 0.0 ? height : base);\\n#endif\\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);v_depth=gl_Position.z/gl_Position.w;}'),fillExtrusionPattern:ZE('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform vec2 u_texsize;uniform sampler2D u_image;\\n#ifdef FAUX_AO\\nuniform lowp vec2 u_ao;in vec3 v_ao;\\n#endif\\n#ifdef LIGHTING_3D_MODE\\nin vec3 v_normal;\\n#endif\\nin vec2 v_pos;in vec4 v_lighting;uniform lowp float u_opacity;\\n#pragma mapbox: define highp float base\\n#pragma mapbox: define highp float height\\n#pragma mapbox: define mediump vec4 pattern\\n#pragma mapbox: define highp float pixel_ratio\\nvoid main() {\\n#pragma mapbox: initialize highp float base\\n#pragma mapbox: initialize highp float height\\n#pragma mapbox: initialize mediump vec4 pattern\\n#pragma mapbox: initialize highp float pixel_ratio\\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture(u_image,pos);\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting(out_color,normalize(v_normal))*u_opacity;\\n#else\\nout_color=out_color*v_lighting;\\n#endif\\n#ifdef FAUX_AO\\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;\\n#endif\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\n#ifdef INDICATOR_CUTOUT\\nout_color=applyCutout(out_color);\\n#endif\\nglFragColor=out_color;\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\n#include \"_prelude_terrain.vertex.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nin vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\\n#endif\\nout vec2 v_pos;out vec4 v_lighting;\\n#ifdef FAUX_AO\\nuniform lowp vec2 u_ao;out vec3 v_ao;\\n#endif\\n#ifdef LIGHTING_3D_MODE\\nout vec3 v_normal;\\n#endif\\n#pragma mapbox: define highp float base\\n#pragma mapbox: define highp float height\\n#pragma mapbox: define mediump vec4 pattern\\n#pragma mapbox: define highp float pixel_ratio\\nvoid main() {\\n#pragma mapbox: initialize highp float base\\n#pragma mapbox: initialize highp float height\\n#pragma mapbox: initialize mediump vec4 pattern\\n#pragma mapbox: initialize highp float pixel_ratio\\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);\\n#if defined(HAS_CENTROID) || defined(TERRAIN)\\ncentroid_pos=a_centroid_pos;\\n#endif\\nfloat ele=0.0;float h=z;vec3 p;float c_ele;\\n#ifdef TERRAIN\\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);\\n#else\\np=vec3(pos_nx.xy,z);\\n#endif\\n#ifdef PROJECTION_GLOBE_VIEW\\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\\n#endif\\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0\\n? pos_nx.xy\\n: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;\\n#ifdef LIGHTING_3D_MODE\\nNdotL=calculate_NdotL(normal);\\n#else\\nNdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);\\n#endif\\nif (normal.y !=0.0) {float r=0.84;\\n#ifndef LIGHTING_3D_MODE\\nr=mix(0.7,0.98,1.0-u_lightintensity);\\n#endif\\nNdotL*=(\\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}\\n#ifdef FAUX_AO\\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\\n#ifdef TERRAIN\\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\\n#endif\\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\\n#ifdef PROJECTION_GLOBE_VIEW\\ntop_height+=u_height_lift;\\n#endif\\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\\n#endif\\n#ifdef LIGHTING_3D_MODE\\nv_normal=normal;\\n#else\\nv_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;\\n#endif \\n#ifdef FOG\\nv_fog_pos=fog_position(p);\\n#endif\\n}'),groundShadow:ZE('#include \"_prelude_shadow.fragment.glsl\"\\nprecision highp float;uniform vec3 u_ground_shadow_factor;in vec4 v_pos_light_view_0;in vec4 v_pos_light_view_1;in float v_depth;\\n#ifdef FOG\\nin float v_fog_opacity;\\n#endif\\nvoid main() {float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);vec3 shadow=mix(u_ground_shadow_factor,vec3(1.0),light);\\n#ifdef RENDER_CUTOFF\\nshadow=mix(vec3(1.0),shadow,cutoff_opacity(u_cutoff_params,v_depth));\\n#endif\\n#ifdef FOG\\nshadow=mix(shadow,vec3(1.0),v_fog_opacity);\\n#endif\\n#ifdef INDICATOR_CUTOUT\\nshadow=mix(shadow,vec3(1.0),1.0-applyCutout(vec4(1.0)).r);\\n#endif\\nglFragColor=vec4(shadow,1.0);}','#include \"_prelude_fog.vertex.glsl\"\\nuniform mat4 u_matrix;uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;in vec2 a_pos;out vec4 v_pos_light_view_0;out vec4 v_pos_light_view_1;out float v_depth;\\n#ifdef FOG\\nout float v_fog_opacity;\\n#endif\\nvoid main() {gl_Position=u_matrix*vec4(a_pos,0.0,1.0);v_pos_light_view_0=u_light_matrix_0*vec4(a_pos,0.0,1.0);v_pos_light_view_1=u_light_matrix_1*vec4(a_pos,0.0,1.0);v_depth=gl_Position.w;\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);v_fog_opacity=fog(v_fog_pos);\\n#endif\\n}'),fillExtrusionGroundEffect:ZE(\"uniform highp float u_ao_pass;uniform highp float u_opacity;uniform highp float u_flood_light_intensity;uniform highp vec3 u_flood_light_color;uniform highp float u_attenuation;uniform sampler2D u_fb;uniform float u_fb_size;\\n#ifdef SDF_SUBPASS\\nin highp vec2 v_pos;in highp vec4 v_line_segment;in highp float v_flood_light_radius_tile;in highp vec2 v_ao;float line_df(highp vec2 a,highp vec2 b,highp vec2 p) {highp vec2 ba=b-a;highp vec2 pa=p-a;highp float r=clamp(dot(pa,ba)/dot(ba,ba),0.0,1.0);return length(pa-r*ba);}\\n#ifdef FOG\\nin highp float v_fog;\\n#endif\\n#endif\\nvoid main() {\\n#ifdef CLEAR_SUBPASS\\nvec4 color=vec4(1.0);\\n#ifdef CLEAR_FROM_TEXTURE\\ncolor=texture(u_fb,gl_FragCoord.xy/vec2(u_fb_size));\\n#endif\\nglFragColor=color;\\n#else\\n#ifdef SDF_SUBPASS\\nhighp float d=line_df(v_line_segment.xy,v_line_segment.zw,v_pos);highp float effect_radius=mix(v_flood_light_radius_tile,v_ao.y,u_ao_pass);d/=effect_radius;d=min(d,1.0);d=1.0-pow(1.0-d,u_attenuation);highp float effect_intensity=mix(u_flood_light_intensity,v_ao.x,u_ao_pass);highp float fog=1.0;\\n#ifdef FOG\\nfog=v_fog;\\n#endif\\n#ifdef RENDER_CUTOFF\\nfog*=v_cutoff_opacity;\\n#endif\\nglFragColor=vec4(vec3(0.0),mix(1.0,d,effect_intensity*u_opacity*fog));\\n#else\\nvec4 color=mix(vec4(u_flood_light_color,1.0),vec4(vec3(0.0),1.0),u_ao_pass);\\n#ifdef OVERDRAW_INSPECTOR\\ncolor=vec4(1.0);\\n#endif\\nglFragColor=color;HANDLE_WIREFRAME_DEBUG;\\n#endif\\n#endif\\n}\",'#include \"_prelude_fog.vertex.glsl\"\\nin highp vec4 a_pos_end;in highp float a_angular_offset_factor;in highp float a_hidden_by_landmark;\\n#ifdef SDF_SUBPASS\\nout highp vec2 v_pos;out highp vec4 v_line_segment;out highp float v_flood_light_radius_tile;out highp vec2 v_ao;\\n#ifdef FOG\\nout highp float v_fog;\\n#endif\\n#endif\\nuniform highp float u_flood_light_intensity;uniform highp mat4 u_matrix;uniform highp float u_ao_pass;uniform highp float u_meter_to_tile;uniform highp float u_edge_radius;uniform highp vec2 u_ao;\\n#pragma mapbox: define highp float flood_light_ground_radius\\nconst float TANGENT_CUTOFF=4.0;const float NORM=32767.0;void main() {\\n#pragma mapbox: initialize highp float flood_light_ground_radius\\nvec2 p=a_pos_end.xy;vec2 q=floor(a_pos_end.zw*0.5);vec2 start_bottom=a_pos_end.zw-q*2.0;float fl_ground_radius=flood_light_ground_radius;\\n#ifdef FORCE_ABS_FL_GROUND_RADIUS\\nfl_ground_radius=abs(flood_light_ground_radius);\\n#endif\\nfloat flood_radius_tile=fl_ground_radius*u_meter_to_tile;vec2 v=normalize(q-p);float ao_radius=u_ao.y/3.5;float effect_radius=mix(flood_radius_tile,ao_radius,u_ao_pass)+u_edge_radius;float angular_offset_factor=a_angular_offset_factor/NORM*TANGENT_CUTOFF;float angular_offset=angular_offset_factor*effect_radius;float top=1.0-start_bottom.y;float side=(0.5-start_bottom.x)*2.0;vec2 extrusion_parallel=v*side*mix(1.0,angular_offset,top);vec2 perp=vec2(v.y,-v.x);vec2 extrusion_perp=perp*effect_radius*top;vec3 pos=vec3(mix(q,p,start_bottom.x),0.0);pos.xy+=extrusion_parallel+extrusion_perp;\\n#ifdef SDF_SUBPASS\\nv_pos=pos.xy;v_line_segment=vec4(p,q)+perp.xyxy*u_edge_radius;v_flood_light_radius_tile=flood_radius_tile;v_ao=vec2(u_ao.x,ao_radius);\\n#ifdef FOG\\nv_fog_pos=fog_position(pos);v_fog=1.0-fog(v_fog_pos);\\n#endif\\n#endif\\nfloat hidden_by_landmark=0.0;\\n#ifdef HAS_CENTROID\\nhidden_by_landmark=a_hidden_by_landmark;\\n#endif\\nfloat isFloodlit=float(fl_ground_radius > 0.0 && u_flood_light_intensity > 0.0);float hidden=mix(1.0-isFloodlit,isFloodlit,u_ao_pass);hidden+=hidden_by_landmark;gl_Position=mix(u_matrix*vec4(pos,1.0),AWAY,float(hidden > 0.0));\\n#ifdef RENDER_CUTOFF\\nv_cutoff_opacity=cutoff_opacity(u_cutoff_params,gl_Position.z);\\n#endif\\n}'),hillshadePrepare:ZE(\"precision highp float;uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;float getElevation(vec2 coord) {return texture(u_image,coord).r/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\\n(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)\\n)/pow(2.0,exaggeration+(19.2562-u_zoom));glFragColor=clamp(vec4(\\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);}\",\"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}\"),hillshade:ZE('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;uniform float u_emissive_strength;void main() {vec4 pixel=texture(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);glFragColor=accent_color*(1.0-shade_color.a)+shade_color;\\n#ifdef LIGHTING_3D_MODE\\nglFragColor=apply_lighting_with_emission_ground(glFragColor,u_emissive_strength);\\n#endif\\n#ifdef FOG\\nglFragColor=fog_dither(fog_apply_premultiplied(glFragColor,v_fog_pos));\\n#endif\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\nuniform mat4 u_matrix;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}'),line:ZE('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec4 v_uv;\\n#ifdef RENDER_LINE_DASH\\nuniform sampler2D u_dash_image;in vec2 v_tex;\\n#endif\\n#ifdef RENDER_LINE_GRADIENT\\nuniform sampler2D u_gradient_image;\\n#endif\\nfloat luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}uniform float u_emissive_strength;\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define lowp float floorwidth\\n#pragma mapbox: define lowp vec4 dash\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float border_width\\n#pragma mapbox: define lowp vec4 border_color\\nfloat linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {\\n#pragma mapbox: initialize highp vec4 color\\n#pragma mapbox: initialize lowp float floorwidth\\n#pragma mapbox: initialize lowp vec4 dash\\n#pragma mapbox: initialize lowp float blur\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize lowp float border_width\\n#pragma mapbox: initialize lowp vec4 border_color\\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);\\n#ifdef RENDER_LINE_DASH\\nfloat sdfdist=texture(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);\\n#endif\\nhighp vec4 out_color;\\n#ifdef RENDER_LINE_GRADIENT\\nout_color=texture(u_gradient_image,v_uv.xy);\\n#else\\nout_color=color;\\n#endif\\nfloat trimmed=1.0;\\n#ifdef RENDER_LINE_TRIM_OFFSET\\nhighp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);trimmed=0.0;}}\\n#endif\\nif (u_alpha_discard_threshold !=0.0) {if (alpha < u_alpha_discard_threshold) {discard;}}\\n#ifdef RENDER_LINE_BORDER\\nfloat edgeBlur=(border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);if (border_color.a==0.0) {    \\nfloat Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}} else {out_color.rgb=mix(border_color.rgb*border_color.a*trimmed,out_color.rgb,smoothAlpha);}}\\n#endif\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);\\n#endif\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\nout_color*=(alpha*opacity);\\n#ifdef INDICATOR_CUTOUT\\nout_color=applyCutout(out_color);\\n#endif\\nglFragColor=out_color;\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\n#define EXTRUDE_SCALE 0.015873016\\nin vec2 a_pos_normal;in vec4 a_data;\\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\\nin highp vec4 a_packed;\\n#endif\\n#ifdef RENDER_LINE_DASH\\nin float a_linesofar;\\n#endif\\nuniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec4 v_uv;\\n#ifdef RENDER_LINE_DASH\\nuniform vec2 u_texsize;uniform float u_tile_units_to_pixels;out vec2 v_tex;\\n#endif\\n#ifdef RENDER_LINE_GRADIENT\\nuniform float u_image_height;\\n#endif\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define lowp float floorwidth\\n#pragma mapbox: define lowp vec4 dash\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define mediump float gapwidth\\n#pragma mapbox: define lowp float offset\\n#pragma mapbox: define mediump float width\\n#pragma mapbox: define lowp float border_width\\n#pragma mapbox: define lowp vec4 border_color\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 color\\n#pragma mapbox: initialize lowp float floorwidth\\n#pragma mapbox: initialize lowp vec4 dash\\n#pragma mapbox: initialize lowp float blur\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize mediump float gapwidth\\n#pragma mapbox: initialize lowp float offset\\n#pragma mapbox: initialize mediump float width\\n#pragma mapbox: initialize lowp float border_width\\n#pragma mapbox: initialize lowp vec4 border_color\\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\\n#ifndef RENDER_TO_TEXTURE\\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\\n#else\\nv_gamma_scale=1.0;\\n#endif\\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\\nfloat a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];\\n#ifdef RENDER_LINE_GRADIENT\\nhighp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);\\n#else\\nv_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);\\n#endif\\n#endif\\n#ifdef RENDER_LINE_DASH\\nfloat scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);\\n#endif\\nv_width2=vec2(outset,inset);\\n#ifdef FOG\\nv_fog_pos=fog_position(pos);\\n#endif\\n}'),linePattern:ZE('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;\\n#pragma mapbox: define lowp vec4 pattern\\n#pragma mapbox: define lowp float pixel_ratio\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\nvoid main() {\\n#pragma mapbox: initialize mediump vec4 pattern\\n#pragma mapbox: initialize lowp float pixel_ratio\\n#pragma mapbox: initialize lowp float blur\\n#pragma mapbox: initialize lowp float opacity\\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture(u_image,pos);\\n#ifdef LIGHTING_3D_MODE\\ncolor=apply_lighting_ground(color);\\n#endif\\n#ifdef FOG\\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\\n#endif\\ncolor*=(alpha*opacity);\\n#ifdef INDICATOR_CUTOUT\\ncolor=applyCutout(color);\\n#endif\\nglFragColor=color;\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\n#define scale 0.015873016\\nin vec2 a_pos_normal;in vec4 a_data;in float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float offset\\n#pragma mapbox: define mediump float gapwidth\\n#pragma mapbox: define mediump float width\\n#pragma mapbox: define lowp float floorwidth\\n#pragma mapbox: define lowp vec4 pattern\\n#pragma mapbox: define lowp float pixel_ratio\\nvoid main() {\\n#pragma mapbox: initialize lowp float blur\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize lowp float offset\\n#pragma mapbox: initialize mediump float gapwidth\\n#pragma mapbox: initialize mediump float width\\n#pragma mapbox: initialize lowp float floorwidth\\n#pragma mapbox: initialize mediump vec4 pattern\\n#pragma mapbox: initialize lowp float pixel_ratio\\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\\n#ifndef RENDER_TO_TEXTURE\\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\\n#else\\nv_gamma_scale=1.0;\\n#endif\\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;\\n#ifdef FOG\\nv_fog_pos=fog_position(pos);\\n#endif\\n}'),raster:ZE('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\n#include \"_prelude_raster_array.glsl\"\\nuniform float u_fade_t;uniform float u_opacity;uniform highp float u_raster_elevation;in vec2 v_pos0;in vec2 v_pos1;in float v_depth;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;uniform float u_emissive_strength;\\n#ifndef RASTER_ARRAY\\nuniform sampler2D u_image0;uniform sampler2D u_image1;\\n#endif\\n#ifdef RASTER_COLOR\\nuniform sampler2D u_color_ramp;uniform highp vec4 u_colorization_mix;uniform highp float u_colorization_offset;uniform vec2 u_texture_res;\\n#endif\\nvoid main() {vec4 color0,color1,color;vec2 value;\\n#ifdef RASTER_COLOR\\n#ifdef RASTER_ARRAY\\n#ifdef RASTER_ARRAY_LINEAR\\nvalue=mix(\\nraTexture2D_image0_linear(v_pos0,u_texture_res,u_colorization_mix,u_colorization_offset),raTexture2D_image1_linear(v_pos1,u_texture_res,u_colorization_mix,u_colorization_offset),u_fade_t\\n);\\n#else\\nvalue=mix(\\nraTexture2D_image0_nearest(v_pos0,u_texture_res,u_colorization_mix,u_colorization_offset),raTexture2D_image1_nearest(v_pos1,u_texture_res,u_colorization_mix,u_colorization_offset),u_fade_t\\n);\\n#endif\\nif (value.y > 0.0) value.x/=value.y;\\n#else\\ncolor=mix(texture(u_image0,v_pos0),texture(u_image1,v_pos1),u_fade_t);value=vec2(u_colorization_offset+dot(color.rgb,u_colorization_mix.rgb),color.a);\\n#endif\\ncolor=texture(u_color_ramp,vec2(value.x,0.5));if (color.a > 0.0) color.rgb/=color.a;color.a*=value.y;\\n#else\\ncolor0=texture(u_image0,v_pos0);color1=texture(u_image1,v_pos1);if (color0.a > 0.0) color0.rgb/=color0.a;if (color1.a > 0.0) color1.rgb/=color1.a;color=mix(color0,color1,u_fade_t);\\n#endif\\ncolor.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting_with_emission_ground(vec4(out_color,1.0),u_emissive_strength).rgb;\\n#endif\\n#ifdef FOG\\nhighp float fog_limit_high_meters=1000000.0;highp float fog_limit_low_meters=600000.0;float fog_limit=1.0-smoothstep(fog_limit_low_meters,fog_limit_high_meters,u_raster_elevation);out_color=fog_dither(fog_apply(out_color,v_fog_pos,fog_limit));\\n#endif\\nglFragColor=vec4(out_color*color.a,color.a);\\n#ifdef RENDER_CUTOFF\\nglFragColor=glFragColor*cutoff_opacity(u_cutoff_params,v_depth);\\n#endif\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\nuniform mat4 u_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform mat3 u_grid_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;uniform vec2 u_texture_offset;uniform float u_raster_elevation;uniform vec4 u_tl_br;uniform float u_zoom_transition;uniform vec2 u_merc_center;\\n#define GLOBE_UPSCALE GLOBE_RADIUS/6371008.8;\\n#ifdef GLOBE_POLES\\nin vec3 a_globe_pos;in vec2 a_uv;\\n#elif defined(PROJECTION_GLOBE_VIEW)\\nin vec2 a_pos;\\n#else\\nin vec2 a_pos;in vec2 a_texture_pos;\\n#endif\\nout vec2 v_pos0;out vec2 v_pos1;out float v_depth;void main() {vec2 uv;\\n#ifdef GLOBE_POLES\\nvec3 globe_pos=a_globe_pos;globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;gl_Position=u_matrix*u_globe_matrix*vec4(globe_pos   ,1.0);uv=a_uv;\\n#ifdef FOG\\nv_fog_pos=fog_position((u_normalize_matrix*vec4(a_globe_pos,1.0)).xyz);\\n#endif\\n#else\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);vec2 globe_tl=vec2(u_tl_br.x,u_tl_br.y);vec2 globe_br=vec2(u_tl_br.z,u_tl_br.w);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=1.0-((mercatorY-globe_br.y)/(globe_tl.y-globe_br.y));float mercatorX=mercatorXfromLng(latLng[1]);float uvX=(mercatorX-globe_br.x)/(globe_tl.x-globe_br.x);vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);uv=vec2(uvX,uvY);globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,u_raster_elevation,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);gl_Position=u_matrix*interpolated_pos;\\n#ifdef FOG\\nv_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);\\n#endif\\n#else\\nfloat w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,u_raster_elevation,w);\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\nuv=a_texture_pos/8192.0;\\n#endif\\n#endif\\nv_pos0=uv;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;v_pos0=u_texture_offset.x+u_texture_offset.y*v_pos0;v_pos1=u_texture_offset.x+u_texture_offset.y*v_pos1;\\n#ifdef RENDER_CUTOFF\\nv_depth=gl_Position.z;\\n#endif\\n}'),symbolIcon:ZE('#include \"_prelude_lighting.glsl\"\\nuniform sampler2D u_texture;\\n#ifdef ICON_TRANSITION\\nuniform float u_icon_transition;\\n#endif\\nin float v_fade_opacity;in vec2 v_tex_a;\\n#ifdef ICON_TRANSITION\\nin vec2 v_tex_b;\\n#endif\\nuniform mediump float u_icon_saturation;\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float emissive_strength\\nvoid main() {\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize lowp float emissive_strength\\nlowp float alpha=opacity*v_fade_opacity;vec4 out_color;\\n#ifdef ICON_TRANSITION\\nvec4 a=texture(u_texture,v_tex_a)*(1.0-u_icon_transition);vec4 b=texture(u_texture,v_tex_b)*u_icon_transition;out_color=(a+b)*alpha;\\n#else\\nout_color=texture(u_texture,v_tex_a)*alpha;\\n#endif\\n#ifdef SATURATION\\nvec3 luma=vec3(dot(out_color.rgb,vec3(0.2126,0.7152,0.0722)));out_color.rgb=mix(luma,out_color.rgb,u_icon_saturation);\\n#endif\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting_with_emission_ground(out_color,emissive_strength);\\n#endif\\nglFragColor=out_color;\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_terrain.vertex.glsl\"\\nin vec4 a_pos_offset;in vec4 a_tex_size;in vec4 a_pixeloffset;in vec4 a_projected_pos;in float a_fade_opacity;\\n#ifdef Z_OFFSET\\nin float a_z_offset;\\n#endif\\n#ifdef PROJECTION_GLOBE_VIEW\\nin vec3 a_globe_anchor;in vec3 a_globe_normal;\\n#endif\\n#ifdef ICON_TRANSITION\\nin vec2 a_texb;\\n#endif\\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;\\n#ifdef PROJECTION_GLOBE_VIEW\\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\\n#endif\\nout vec2 v_tex_a;\\n#ifdef ICON_TRANSITION\\nout vec2 v_tex_b;\\n#endif\\nout float v_fade_opacity;\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float emissive_strength\\nvoid main() {\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize lowp float emissive_strength\\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;float e=elevation(tile_anchor);\\n#ifdef Z_OFFSET\\ne+=a_z_offset;\\n#endif\\nvec3 h=elevationVector(tile_anchor)*e;float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\\n#else\\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\\n#endif\\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\\ncamera_to_anchor_distance/u_camera_to_center_distance :\\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\\n#else\\noffsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\\n#endif\\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\\n#else\\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\\n#endif\\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);\\n#ifdef TERRAIN\\n#ifdef PITCH_WITH_MAP_TERRAIN\\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\\n#endif\\n#endif\\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;float projection_transition_fade=1.0;\\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\\n#endif\\nvec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float out_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;float alpha=opacity*out_fade_opacity;float hidden=float(alpha==0.0 || projected_point.w <=0.0 || occlusion_fade==0.0);\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,hidden);\\n#else\\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,hidden);\\n#endif\\nv_tex_a=a_tex/u_texsize;\\n#ifdef ICON_TRANSITION\\nv_tex_b=a_texb/u_texsize;\\n#endif\\nv_fade_opacity=out_fade_opacity;}'),symbolSDF:ZE('#include \"_prelude_lighting.glsl\"\\n#define SDF_PX 8.0\\nuniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;uniform bool u_is_halo;in float v_draw_halo;in vec2 v_data0;in vec3 v_data1;\\n#pragma mapbox: define highp vec4 fill_color\\n#pragma mapbox: define highp vec4 halo_color\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float halo_width\\n#pragma mapbox: define lowp float halo_blur\\n#pragma mapbox: define lowp float emissive_strength\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 fill_color\\n#pragma mapbox: initialize highp vec4 halo_color\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize lowp float halo_width\\n#pragma mapbox: initialize lowp float halo_blur\\n#pragma mapbox: initialize lowp float emissive_strength\\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;bool draw_halo=v_draw_halo > 0.0;if (draw_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);vec4 out_color=color*(alpha*opacity*fade_opacity);\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting_with_emission_ground(out_color,emissive_strength);\\n#endif\\nglFragColor=out_color;\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_terrain.vertex.glsl\"\\nin vec4 a_pos_offset;in vec4 a_tex_size;in vec4 a_pixeloffset;in vec4 a_projected_pos;in float a_fade_opacity;\\n#ifdef Z_OFFSET\\nin float a_z_offset;\\n#endif\\n#ifdef PROJECTION_GLOBE_VIEW\\nin vec3 a_globe_anchor;in vec3 a_globe_normal;\\n#endif\\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform bool u_is_halo;\\n#ifdef PROJECTION_GLOBE_VIEW\\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\\n#endif\\nout float v_draw_halo;out vec2 v_data0;out vec3 v_data1;\\n#pragma mapbox: define highp vec4 fill_color\\n#pragma mapbox: define highp vec4 halo_color\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float halo_width\\n#pragma mapbox: define lowp float halo_blur\\n#pragma mapbox: define lowp float emissive_strength\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 fill_color\\n#pragma mapbox: initialize highp vec4 halo_color\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize lowp float halo_width\\n#pragma mapbox: initialize lowp float halo_blur\\n#pragma mapbox: initialize lowp float emissive_strength\\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;float e=elevation(tile_anchor);\\n#ifdef Z_OFFSET\\ne+=a_z_offset;\\n#endif\\nvec3 h=elevationVector(tile_anchor)*e;float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\\n#else\\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\\n#endif\\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\\ncamera_to_anchor_distance/u_camera_to_center_distance :\\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\\n#else\\noffsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\\n#endif\\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\\n#else\\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\\n#endif\\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\\n#ifdef TERRAIN\\n#ifdef PITCH_WITH_MAP_TERRAIN\\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\\n#endif\\n#endif\\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;float projection_transition_fade=1.0;\\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\\n#endif\\nvec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float out_fade_opacity=interpolated_fade_opacity*projection_transition_fade;float alpha=opacity*out_fade_opacity;float hidden=float(alpha==0.0 || projected_point.w <=0.0 || occlusion_fade==0.0);\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,hidden);\\n#else\\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,hidden);\\n#endif\\nfloat gamma_scale=gl_Position.w;v_draw_halo=(u_is_halo && float(gl_InstanceID)==0.0) ? 1.0 : 0.0;v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,out_fade_opacity);}'),symbolTextAndIcon:ZE('#include \"_prelude_lighting.glsl\"\\n#define SDF_PX 8.0\\n#define SDF 1.0\\n#define ICON 0.0\\nuniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_halo;in float v_draw_halo;in vec4 v_data0;in vec4 v_data1;\\n#pragma mapbox: define highp vec4 fill_color\\n#pragma mapbox: define highp vec4 halo_color\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float halo_width\\n#pragma mapbox: define lowp float halo_blur\\n#pragma mapbox: define lowp float emissive_strength\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 fill_color\\n#pragma mapbox: initialize highp vec4 halo_color\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize lowp float halo_width\\n#pragma mapbox: initialize lowp float halo_blur\\n#pragma mapbox: initialize lowp float emissive_strength\\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;glFragColor=texture(u_texture_icon,tex_icon)*alpha;\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;bool draw_halo=v_draw_halo > 0.0;if (draw_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);vec4 out_color=color*(alpha*opacity*fade_opacity);\\n#ifdef LIGHTING_3D_MODE\\nout_color=apply_lighting_with_emission_ground(out_color,emissive_strength);\\n#endif\\nglFragColor=out_color;\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_terrain.vertex.glsl\"\\nin vec4 a_pos_offset;in vec4 a_tex_size;in vec4 a_projected_pos;in float a_fade_opacity;\\n#ifdef Z_OFFSET\\nin float a_z_offset;\\n#endif\\n#ifdef PROJECTION_GLOBE_VIEW\\nin vec3 a_globe_anchor;in vec3 a_globe_normal;\\n#endif\\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;uniform bool u_is_halo;\\n#ifdef PROJECTION_GLOBE_VIEW\\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\\n#endif\\nout float v_draw_halo;out vec4 v_data0;out vec4 v_data1;\\n#pragma mapbox: define highp vec4 fill_color\\n#pragma mapbox: define highp vec4 halo_color\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float halo_width\\n#pragma mapbox: define lowp float halo_blur\\n#pragma mapbox: define lowp float emissive_strength\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 fill_color\\n#pragma mapbox: initialize highp vec4 halo_color\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize lowp float halo_width\\n#pragma mapbox: initialize lowp float halo_blur\\n#pragma mapbox: initialize lowp float emissive_strength\\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;float e=elevation(tile_anchor);\\n#ifdef Z_OFFSET\\ne+=a_z_offset;\\n#endif\\nvec3 h=elevationVector(tile_anchor)*e;float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\\n#else\\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\\n#endif\\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\\ncamera_to_anchor_distance/u_camera_to_center_distance :\\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\\n#else\\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\\n#endif\\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);\\n#ifdef TERRAIN\\n#ifdef PITCH_WITH_MAP_TERRAIN\\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\\n#endif\\n#endif\\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;\\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\\n#endif\\nfloat out_fade_opacity=interpolated_fade_opacity*projection_transition_fade;float alpha=opacity*out_fade_opacity;float hidden=float(alpha==0.0 || projected_point.w <=0.0 || occlusion_fade==0.0);\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,hidden);\\n#else\\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,hidden);\\n#endif\\nfloat gamma_scale=gl_Position.w;v_draw_halo=(u_is_halo && float(gl_InstanceID)==0.0) ? 1.0 : 0.0;v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,out_fade_opacity,is_sdf);}'),terrainRaster:ZE('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_shadow.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform sampler2D u_image0;in vec2 v_pos0;\\n#ifdef FOG\\nin float v_fog_opacity;\\n#endif\\n#ifdef RENDER_SHADOWS\\nin vec4 v_pos_light_view_0;in vec4 v_pos_light_view_1;in float v_depth;\\n#endif\\nuniform vec3 u_ground_shadow_factor;void main() {vec4 image_color=texture(u_image0,v_pos0);vec4 color;\\n#ifdef LIGHTING_3D_MODE\\nconst vec3 normal=vec3(0.0,0.0,1.0);\\n#ifdef RENDER_SHADOWS\\nfloat cutoffOpacity=1.0;\\n#ifdef RENDER_CUTOFF\\ncutoffOpacity=cutoff_opacity(u_cutoff_params,v_depth);\\n#endif\\n#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS\\nvec3 unlit_base=image_color.rgb*(1.0-image_color.a);vec3 emissive_base=image_color.rgb*image_color.a;float ndotl=u_shadow_direction.z;float occlusion=ndotl < 0.0 ? 1.0 : shadow_occlusion(v_pos_light_view_0,v_pos_light_view_1,v_depth,0.0);ndotl=max(0.0,ndotl);vec3 lit=apply_lighting(unlit_base,normal,mix(1.0,(1.0-(u_shadow_intensity*occlusion))*ndotl,cutoffOpacity));vec3 emissive=compute_emissive_draped(emissive_base,1.0-u_shadow_intensity,occlusion,u_ground_shadow_factor);color.rgb=lit+emissive;color.a=1.0;\\n#else\\nfloat lighting_factor=shadowed_light_factor_normal_unbiased(normal,v_pos_light_view_0,v_pos_light_view_1,v_depth);color=apply_lighting(image_color,normal,mix(1.0,lighting_factor,cutoffOpacity));\\n#endif\\n#else\\nfloat lighting_factor=u_lighting_directional_dir.z;color=apply_lighting(image_color,normal,lighting_factor);\\n#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS\\ncolor.rgb=mix(color.rgb,image_color.rgb,image_color.a);color.a=1.0;\\n#endif\\n#endif\\n#else\\ncolor=image_color;\\n#endif\\n#ifdef FOG\\n#ifdef ZERO_EXAGGERATION\\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\\n#else\\ncolor=fog_dither(fog_apply_from_vert(color,v_fog_opacity));\\n#endif\\n#endif\\nglFragColor=color;\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\n#include \"_prelude_terrain.vertex.glsl\"\\nuniform mat4 u_matrix;uniform float u_skirt_height;in vec2 a_pos;out vec2 v_pos0;\\n#ifdef FOG\\nout float v_fog_opacity;\\n#endif\\n#ifdef RENDER_SHADOWS\\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out vec4 v_pos_light_view_0;out vec4 v_pos_light_view_1;out float v_depth;\\n#endif\\nvoid main() {vec3 decomposedPosAndSkirt=decomposeToPosAndSkirt(a_pos);float skirt=decomposedPosAndSkirt.z;vec2 decodedPos=decomposedPosAndSkirt.xy;float elevation=elevation(decodedPos)-skirt*u_skirt_height;v_pos0=decodedPos/8192.0;gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);\\n#ifdef FOG\\n#ifdef ZERO_EXAGGERATION\\nv_fog_pos=fog_position(decodedPos);\\n#else\\nv_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));\\n#endif\\n#endif\\n#ifdef RENDER_SHADOWS\\nvec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;\\n#endif\\n}'),terrainDepth:ZE(\"precision highp float;in float v_depth;void main() {glFragColor=pack_depth(v_depth);}\",'#include \"_prelude_terrain.vertex.glsl\"\\nuniform mat4 u_matrix;in vec2 a_pos;out float v_depth;void main() {float elevation=elevation(a_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}'),skybox:ZE('#include \"_prelude_fog.fragment.glsl\"\\nin lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=texture(u_cubemap,uv).rgb;\\n#ifdef FOG\\nsky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);\\n#endif\\nsky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);glFragColor=vec4(sky_color*u_opacity,u_opacity);\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\n}',PE),skyboxGradient:ZE('#include \"_prelude_fog.fragment.glsl\"\\nin highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture(u_color_ramp,vec2(progress,0.5));\\n#ifdef FOG\\ncolor.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;\\n#endif\\ncolor*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);glFragColor=color;\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\n}',PE),skyboxCapture:ZE(\"\\nin highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;precision highp float;\\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\\n#define MIE_G                   0.76\\n#define DENSITY_HEIGHT_SCALE_R  8000.0\\n#define DENSITY_HEIGHT_SCALE_M  1200.0\\n#define PLANET_RADIUS           6360e3\\n#define ATMOSPHERE_RADIUS       6420e3\\n#define SAMPLE_STEPS            10\\n#define DENSITY_STEPS           4\\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;glFragColor=vec4(color,1.0);}\",\"in highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;out highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}\"),globeRaster:ZE('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform sampler2D u_image0;in vec2 v_pos0;\\n#ifndef FOG\\nuniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;\\n#endif\\nvoid main() {vec4 color;\\n#ifdef CUSTOM_ANTIALIASING\\nvec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture(u_image0,v_pos0);\\n#ifdef LIGHTING_3D_MODE\\n#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS\\nraster=apply_lighting_with_emission_ground(raster,raster.a);color=vec4(raster.rgb*antialias,antialias);\\n#else\\nraster=apply_lighting_ground(raster);color=vec4(raster.rgb*antialias,raster.a*antialias);\\n#endif\\n#else\\ncolor=vec4(raster.rgb*antialias,raster.a*antialias);\\n#endif\\n#else\\ncolor=texture(u_image0,v_pos0);\\n#ifdef LIGHTING_3D_MODE\\n#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS\\ncolor=apply_lighting_with_emission_ground(color,color.a);color.a=1.0;\\n#else\\ncolor=apply_lighting_ground(color);\\n#endif\\n#endif\\n#endif\\n#ifdef FOG\\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\\n#endif\\nglFragColor=color;\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\n#include \"_prelude_terrain.vertex.glsl\"\\nuniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;uniform float u_skirt_height;\\n#ifdef GLOBE_POLES\\nin vec3 a_globe_pos;in vec2 a_uv;\\n#else\\nin vec2 a_pos;\\n#endif\\nout vec2 v_pos0;void main() {\\n#ifdef GLOBE_POLES\\nvec3 globe_pos=a_globe_pos;vec2 uv=a_uv;\\n#else\\nfloat tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);\\n#endif\\nv_pos0=uv;vec2 tile_pos=uv*EXTENT;vec3 globe_derived_up_vector=normalize(globe_pos)*u_tile_up_scale;\\n#ifdef GLOBE_POLES\\nvec3 up_vector=globe_derived_up_vector;\\n#else\\nvec3 up_vector=elevationVector(tile_pos);\\n#endif\\nfloat height=elevation(tile_pos);globe_pos+=up_vector*height;\\n#ifndef GLOBE_POLES\\nglobe_pos-=globe_derived_up_vector*u_skirt_height*decomposed_pos_and_skirt.z;\\n#endif\\n#ifdef GLOBE_POLES\\nvec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);\\n#else\\nvec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height-u_skirt_height*decomposed_pos_and_skirt.z,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);\\n#endif\\ngl_Position=u_proj_matrix*interpolated_pos;\\n#ifdef FOG\\nv_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);\\n#endif\\n}'),globeAtmosphere:ZE('#include \"_prelude_fog.fragment.glsl\"\\nuniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec4 u_color;uniform vec4 u_high_color;uniform vec4 u_space_color;uniform float u_horizon_angle;in highp vec3 v_ray_dir;in highp vec3 v_horizon_dir;void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;\\n#ifdef PROJECTION_GLOBE_VIEW\\nglobe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {\\n#ifdef ALPHA_PASS\\nglFragColor=vec4(0,0,0,0);return;\\n#else\\n#ifdef NATIVE\\nglFragColor=vec4(1,1,1,1);\\n#else\\nglFragColor=vec4(0,0,0,1);\\n#endif\\nreturn;\\n#endif\\n}\\n#endif\\nhighp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?\\n0.0 : max(acos(clamp(dot(dir,horizon_dir),-1.0,1.0)),0.0);float horizon_angle;\\n#ifdef PROJECTION_GLOBE_VIEW\\nhighp vec3 closest_point=globe_pos_dot_dir*dir;highp float closest_point_to_center=length(closest_point-u_globe_pos);highp float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?\\nPI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);\\n#else\\nhorizon_angle=horizon_angle_mercator;\\n#endif\\nhorizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;\\n#ifdef ALPHA_PASS\\nfloat a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);glFragColor=vec4(1.0,1.0,1.0,a);\\n#else\\nvec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c=c2;\\n#ifndef NATIVE\\nc=dither(c,gl_FragCoord.xy+u_temporal_offset);\\n#endif\\nglFragColor=vec4(c*t,t);\\n#endif\\n}',\"in vec3 a_pos;in vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;out highp vec3 v_ray_dir;out highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(\\nmix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(\\nmix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}\"),model:ZE('#include \"_prelude_fog.fragment.glsl\"\\n#include \"_prelude_shadow.fragment.glsl\"\\n#include \"_prelude_lighting.glsl\"\\nuniform float u_opacity;uniform vec3 u_lightcolor;uniform vec3 u_lightpos;uniform float u_lightintensity;uniform vec4 u_baseColorFactor;uniform vec4 u_emissiveFactor;uniform float u_metallicFactor;uniform float u_roughnessFactor;uniform float u_emissive_strength;in highp vec4 v_position_height;in lowp vec4 v_color_mix;\\n#ifdef RENDER_SHADOWS\\nin vec4 v_pos_light_view_0;in vec4 v_pos_light_view_1;in float v_depth_shadows;\\n#endif\\n#pragma mapbox: define-attribute highp vec3 normal_3f\\n#pragma mapbox: define-attribute highp vec3 color_3f\\n#pragma mapbox: define-attribute highp vec4 color_4f\\n#pragma mapbox: define-attribute highp vec2 uv_2f\\n#pragma mapbox: initialize-attribute highp vec3 normal_3f\\n#pragma mapbox: initialize-attribute highp vec3 color_3f\\n#pragma mapbox: initialize-attribute highp vec4 color_4f\\n#pragma mapbox: initialize-attribute highp vec2 uv_2f\\n#ifdef HAS_ATTRIBUTE_a_pbr\\nin lowp vec4 v_roughness_metallic_emissive_alpha;in mediump vec4 v_height_based_emission_params;\\n#endif\\n#ifdef HAS_TEXTURE_u_baseColorTexture\\nuniform sampler2D u_baseColorTexture;uniform bool u_baseTextureIsAlpha;uniform bool u_alphaMask;uniform float u_alphaCutoff;\\n#endif\\n#ifdef HAS_TEXTURE_u_metallicRoughnessTexture\\nuniform sampler2D u_metallicRoughnessTexture;\\n#endif\\n#ifdef HAS_TEXTURE_u_occlusionTexture\\nuniform sampler2D u_occlusionTexture;uniform float u_aoIntensity;\\n#endif\\n#ifdef HAS_TEXTURE_u_normalTexture\\nuniform sampler2D u_normalTexture;\\n#endif\\n#ifdef HAS_TEXTURE_u_emissionTexture\\nuniform sampler2D u_emissionTexture;\\n#endif\\n#ifdef TERRAIN_FRAGMENT_OCCLUSION\\nin highp float v_depth;uniform sampler2D u_depthTexture;uniform vec2 u_inv_depth_size;bool isOccluded() {vec2 coord=gl_FragCoord.xy*u_inv_depth_size;highp float depth=unpack_depth(texture(u_depthTexture,coord));return v_depth > depth+0.0005;}\\n#endif\\n#define saturate(_x) clamp(_x,0.,1.)\\nvec3 linearTosRGB(vec3 color) {return pow(color,vec3(1./2.2));}vec3 sRGBToLinear(vec3 srgbIn) {return pow(srgbIn,vec3(2.2));}float calculate_NdotL(vec3 normal,vec3 lightDir) {const float ext=0.70710678118;return (clamp(dot(normal,lightDir),-ext,1.0)+ext)/(1.0+ext);}vec3 getDiffuseShadedColor(vec3 albedo,vec3 normal,vec3 lightDir,vec3 lightColor)\\n{\\n#ifdef LIGHTING_3D_MODE\\nvec3 transformed_normal=vec3(-normal.xy,normal.z);float lighting_factor;\\n#ifdef RENDER_SHADOWS\\nlighting_factor=shadowed_light_factor_normal(transformed_normal,v_pos_light_view_0,v_pos_light_view_1,v_depth_shadows);\\n#else\\nlighting_factor=saturate(dot(transformed_normal,u_lighting_directional_dir));\\n#endif\\nreturn apply_lighting(albedo,transformed_normal,lighting_factor);\\n#else\\nvec3 n=normal;float colorvalue=((albedo.x*0.2126)+(albedo.y*0.7152))+(albedo.z*0.0722);vec3 c=vec3(0.03,0.03,0.03);float directional=clamp(dot(n,vec3(lightDir)),0.0,1.0);directional=mix(1.0-u_lightintensity,max((1.0-colorvalue)+u_lightintensity,1.0),directional);vec3 c3=c+clamp((albedo*directional)*lightColor,mix(vec3(0.0),vec3(0.3),vec3(1.0)-lightColor),vec3(1.0));return c3;\\n#endif\\n}vec4 getBaseColor() {vec4 albedo=u_baseColorFactor;\\n#ifdef HAS_ATTRIBUTE_a_color_3f\\nalbedo*=vec4(color_3f,1.0);\\n#endif\\n#ifdef HAS_ATTRIBUTE_a_pbr\\n#else\\n#ifdef HAS_ATTRIBUTE_a_color_4f\\nalbedo*=color_4f;\\n#endif\\n#endif\\n#if defined (HAS_TEXTURE_u_baseColorTexture) && defined (HAS_ATTRIBUTE_a_uv_2f)\\nvec4 texColor=texture(u_baseColorTexture,uv_2f);if(u_alphaMask) {if (texColor.w < u_alphaCutoff) {discard;}}\\n#ifdef UNPREMULT_TEXTURE_IN_SHADER\\nif(texColor.w > 0.0) {texColor.rgb/=texColor.w;}texColor.w=1.0;\\n#endif\\ntexColor.rgb=sRGBToLinear(texColor.rgb);if(u_baseTextureIsAlpha) {if (texColor.w < 0.5) {discard;}albedo*=mix(vec4(texColor.rgb,texColor.a),vec4(texColor.a),float(u_baseTextureIsAlpha));} else {albedo*=texColor;}\\n#endif\\nreturn vec4(mix(albedo.rgb,v_color_mix.rgb,v_color_mix.a),albedo.a);}highp mat3 cotangentFrame(highp vec3 N,highp vec3 p,highp vec2 uv ) {\\n#ifdef HAS_TEXTURE_u_normalTexture\\nhighp vec3 dp1=vec3(dFdx(p.x),dFdx(p.y),dFdx(p.z));highp vec3 dp2=vec3(dFdy(p.x),dFdy(p.y),dFdy(p.z));highp vec2 duv1=vec2(dFdx(uv.x),dFdx(uv.y));highp vec2 duv2=vec2(dFdy(uv.x),dFdy(uv.y));highp vec3 dp2perp=cross( dp2,N );highp vec3 dp1perp=cross( N,dp1 );highp vec3 T=dp2perp*duv1.x+dp1perp*duv2.x;highp vec3 B=dp2perp*duv1.y+dp1perp*duv2.y;highp float lengthT=dot(T,T);highp float lengthB=dot(B,B);highp float maxLength=max(lengthT,lengthB);highp float invmax=inversesqrt( maxLength );highp mat3 res=mat3( T*invmax,B*invmax,N );return res;\\n#else\\nreturn mat3(1.0);\\n#endif\\n}highp vec3 getNormal(){highp vec3 n;\\n#ifdef HAS_ATTRIBUTE_a_normal_3f\\nn=normalize(normal_3f);\\n#else\\nhighp vec3 fdx=vec3(dFdx(v_position_height.x),dFdx(v_position_height.y),dFdx(v_position_height.z));highp vec3 fdy=vec3(dFdy(v_position_height.x),dFdy(v_position_height.y),dFdy(v_position_height.z));n=normalize(cross(fdx,fdy))*-1.0;\\n#endif\\n#if defined(HAS_TEXTURE_u_normalTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)\\nvec3 nMap=texture( u_normalTexture,uv_2f).xyz;nMap=normalize(2.0*nMap-vec3(1.0));highp vec3 v=normalize(-v_position_height.xyz);highp mat3 TBN=cotangentFrame(n,v,uv_2f);n=normalize(TBN*nMap);\\n#endif\\nreturn n;}struct Material {float perceptualRoughness;float alphaRoughness;float metallic;vec3 f90;vec4 baseColor;vec3 diffuseColor;vec3 specularColor;highp vec3 normal;};Material getPBRMaterial() {Material mat;mat.baseColor=getBaseColor();mat.perceptualRoughness=u_roughnessFactor;mat.metallic=u_metallicFactor;\\n#ifdef HAS_ATTRIBUTE_a_pbr\\nmat.perceptualRoughness=v_roughness_metallic_emissive_alpha.x;mat.metallic=v_roughness_metallic_emissive_alpha.y;mat.baseColor.w*=v_roughness_metallic_emissive_alpha.w;\\n#endif\\n#if defined(HAS_TEXTURE_u_metallicRoughnessTexture) && defined(HAS_ATTRIBUTE_a_uv_2f) \\nvec4 mrSample=texture(u_metallicRoughnessTexture,uv_2f);mat.perceptualRoughness*=mrSample.g;mat.metallic*=mrSample.b;\\n#endif\\nconst float c_minRoughness=0.04;mat.perceptualRoughness=clamp(mat.perceptualRoughness,c_minRoughness,1.0);mat.metallic=saturate(mat.metallic);mat.alphaRoughness=mat.perceptualRoughness*mat.perceptualRoughness;const vec3 f0=vec3(0.04);mat.diffuseColor=mat.baseColor.rgb*(vec3(1.0)-f0);mat.diffuseColor*=1.0-mat.metallic;mat.specularColor=mix(f0,mat.baseColor.rgb,mat.metallic);highp float reflectance=max(max(mat.specularColor.r,mat.specularColor.g),mat.specularColor.b);highp float reflectance90=saturate(reflectance*25.0);mat.f90=vec3(reflectance90);mat.normal=getNormal();return mat;}float V_GGX(float NdotL,float NdotV,float roughness)\\n{float a2=roughness*roughness;float GGXV=NdotL*sqrt(NdotV*NdotV*(1.0-a2)+a2);float GGXL=NdotV*sqrt(NdotL*NdotL*(1.0-a2)+a2);return 0.5/(GGXV+GGXL);}float V_GGXFast(float NdotL,float NdotV,float roughness) {float a=roughness;float GGXV=NdotL*(NdotV*(1.0-a)+a);float GGXL=NdotV*(NdotL*(1.0-a)+a);return 0.5/(GGXV+GGXL);}vec3 F_Schlick(vec3 specularColor,vec3 f90,float VdotH)\\n{return specularColor+(f90-specularColor)*pow(clamp(1.0-VdotH,0.0,1.0),5.0);}vec3 F_SchlickFast(vec3 specularColor,float VdotH)\\n{float x=1.0-VdotH;float x4=x*x*x*x;return specularColor+(1.0-specularColor)*x4*x;}float D_GGX(highp float NdotH,float alphaRoughness)\\n{highp float a4=alphaRoughness*alphaRoughness;highp float f=(NdotH*a4-NdotH)*NdotH+1.0;return a4/(PI*f*f);}vec3 diffuseBurley(Material mat,float LdotH,float NdotL,float NdotV)\\n{float f90=2.0*LdotH*LdotH*mat.alphaRoughness-0.5;return (mat.diffuseColor/PI)*(1.0+f90*pow((1.0-NdotL),5.0))*(1.0+f90*pow((1.0-NdotV),5.0));}vec3 diffuseLambertian(Material mat)\\n{\\n#ifdef LIGHTING_3D_MODE\\nreturn mat.diffuseColor;\\n#else\\nreturn mat.diffuseColor/PI;\\n#endif\\n}vec3 EnvBRDFApprox(vec3 specularColor,float roughness,highp float NdotV)\\n{vec4 c0=vec4(-1,-0.0275,-0.572,0.022);vec4 c1=vec4(1,0.0425,1.04,-0.04);highp vec4 r=roughness*c0+c1;highp float a004=min(r.x*r.x,exp2(-9.28*NdotV))*r.x+r.y;vec2 AB=vec2(-1.04,1.04)*a004+r.zw;return specularColor*AB.x+AB.y;}vec3 computeIndirectLightContribution(Material mat,float NdotV,vec3 normal)\\n{vec3 env_light=vec3(0.65,0.65,0.65);\\n#ifdef LIGHTING_3D_MODE\\nfloat ambient_factor=calculate_ambient_directional_factor(normal);env_light=u_lighting_ambient_color*ambient_factor;\\n#endif\\nvec3 envBRDF=EnvBRDFApprox(mat.specularColor,mat.perceptualRoughness,NdotV);vec3 indirectSpecular= envBRDF*env_light;vec3 indirectDiffuse=mat.diffuseColor*env_light;return indirectSpecular+indirectDiffuse;}vec3 computeLightContribution(Material mat,vec3 lightPosition,vec3 lightColor)\\n{highp vec3 n=mat.normal;highp vec3 v=normalize(-v_position_height.xyz);highp vec3 l=normalize(lightPosition);highp vec3 h=normalize(v+l);float NdotV=clamp(abs(dot(n,v)),0.001,1.0);float NdotL=saturate(dot(n,l));highp float NdotH=saturate(dot(n,h));float VdotH=saturate(dot(v,h));vec3 f=F_SchlickFast(mat.specularColor,VdotH);float g=V_GGXFast(NdotL,NdotV,mat.alphaRoughness);float d=D_GGX(NdotH,mat.alphaRoughness);vec3 diffuseTerm=(1.0-f)*diffuseLambertian(mat);vec3 specularTerm=f*g*d;vec3 transformed_normal=vec3(-n.xy,n.z);float lighting_factor;\\n#ifdef RENDER_SHADOWS\\nlighting_factor=shadowed_light_factor_normal(transformed_normal,v_pos_light_view_0,v_pos_light_view_1,v_depth_shadows);\\n#else\\nlighting_factor=NdotL;\\n#endif\\nvec3 directLightColor=(specularTerm+diffuseTerm)*lighting_factor*lightColor;vec3 indirectLightColor=computeIndirectLightContribution(mat,NdotV,transformed_normal);vec3 color=(saturate(directLightColor)+indirectLightColor);float intensityFactor=1.0;\\n#if !defined(LIGHTING_3D_MODE)\\nconst vec3 luminosityFactor=vec3(0.2126,0.7152,0.0722);float luminance=dot(diffuseTerm,luminosityFactor);intensityFactor=mix((1.0-u_lightintensity),max((1.0-luminance+u_lightintensity),1.0),NdotL);\\n#endif\\ncolor*=intensityFactor;return color;}void main() {\\n#ifdef TERRAIN_FRAGMENT_OCCLUSION\\nif (isOccluded()) {discard;}\\n#endif\\nvec3 lightDir=u_lightpos;vec3 lightColor=u_lightcolor;\\n#ifdef LIGHTING_3D_MODE\\nlightDir=u_lighting_directional_dir;lightDir.xy=-lightDir.xy;lightColor=u_lighting_directional_color;\\n#endif\\nvec4 finalColor;\\n#ifdef DIFFUSE_SHADED\\nvec3 N=getNormal();vec3 diffuse=getDiffuseShadedColor(getBaseColor().rgb,N,lightDir,lightColor);\\n#ifdef HAS_TEXTURE_u_occlusionTexture\\nfloat ao=(texture(u_occlusionTexture,uv_2f).r-1.0)*u_aoIntensity+1.0;diffuse*=ao;\\n#endif\\nfinalColor=vec4(diffuse,1.0)*u_opacity;\\n#else\\nMaterial mat=getPBRMaterial();vec3 color=computeLightContribution(mat,lightDir,lightColor);float ao=1.0;\\n#if defined (HAS_TEXTURE_u_occlusionTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)\\nao=(texture(u_occlusionTexture,uv_2f).x-1.0)*u_aoIntensity+1.0;color*=ao;\\n#endif\\nvec4 emissive=u_emissiveFactor;\\n#if defined(HAS_TEXTURE_u_emissionTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)\\nemissive.rgb*=sRGBToLinear(texture(u_emissionTexture,uv_2f).rgb);\\n#endif\\ncolor+=emissive.rgb;float opacity=mat.baseColor.w*u_opacity;\\n#ifdef HAS_ATTRIBUTE_a_pbr\\nfloat resEmission=v_roughness_metallic_emissive_alpha.z;resEmission*=v_height_based_emission_params.z+v_height_based_emission_params.w*pow(clamp(v_height_based_emission_params.x,0.0,1.0),v_height_based_emission_params.y);color=mix(color,v_color_mix.rgb,min(1.0,resEmission));\\n#ifdef HAS_ATTRIBUTE_a_color_4f\\nfloat distance=length(vec2(1.3*max(0.0,abs(color_4f.x)-color_4f.z),color_4f.y));distance+= mix(0.5,0.0,clamp(resEmission-1.0,0.0,1.0));opacity*=v_roughness_metallic_emissive_alpha.w*saturate(1.0-distance*distance);\\n#endif\\n#endif\\nvec3 unlitColor=mat.baseColor.rgb*ao+emissive.rgb;color=mix(color,unlitColor,u_emissive_strength);color=linearTosRGB(color);color*=opacity;finalColor=vec4(color,opacity);\\n#endif\\n#ifdef FOG\\nfinalColor=fog_dither(fog_apply_premultiplied(finalColor,v_fog_pos,v_position_height.w));\\n#endif\\n#ifdef RENDER_CUTOFF\\nfinalColor*=v_cutoff_opacity;\\n#endif\\n#ifdef INDICATOR_CUTOUT\\nfinalColor=applyCutout(finalColor);\\n#endif\\nglFragColor=finalColor;\\n#ifdef OVERDRAW_INSPECTOR\\nglFragColor=vec4(1.0);\\n#endif\\nHANDLE_WIREFRAME_DEBUG;}','#include \"_prelude_fog.vertex.glsl\"\\n#include \"_prelude_shadow.vertex.glsl\"\\nin vec3 a_pos_3f;\\n#pragma mapbox: define-attribute highp vec3 normal_3f\\n#pragma mapbox: define-attribute highp vec2 uv_2f\\n#pragma mapbox: define-attribute highp vec3 color_3f\\n#pragma mapbox: define-attribute highp vec4 color_4f\\n#pragma mapbox: define-attribute-vertex-shader-only highp vec4 pbr\\n#pragma mapbox: define-attribute-vertex-shader-only highp vec3 heightBasedEmissiveStrength\\nuniform mat4 u_matrix;uniform mat4 u_lighting_matrix;uniform vec3 u_camera_pos;uniform vec4 u_color_mix;\\n#ifdef INSTANCED_ARRAYS\\nin vec4 a_normal_matrix0;in vec4 a_normal_matrix1;in vec4 a_normal_matrix2;in vec4 a_normal_matrix3;\\n#else\\nuniform highp mat4 u_normal_matrix;\\n#endif\\n#ifdef RENDER_SHADOWS\\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out vec4 v_pos_light_view_0;out vec4 v_pos_light_view_1;out float v_depth_shadows;\\n#endif\\nout vec4 v_position_height;out lowp vec4 v_color_mix;\\n#ifdef TERRAIN_FRAGMENT_OCCLUSION\\nout highp float v_depth;\\n#endif\\n#ifdef HAS_ATTRIBUTE_a_pbr\\nout lowp vec4 v_roughness_metallic_emissive_alpha;out mediump vec4 v_height_based_emission_params;\\n#endif\\nvec3 sRGBToLinear(vec3 srgbIn) {return pow(srgbIn,vec3(2.2));}void main() {\\n#pragma mapbox: initialize-attribute highp vec3 normal_3f\\n#pragma mapbox: initialize-attribute highp vec2 uv_2f\\n#pragma mapbox: initialize-attribute highp vec3 color_3f\\n#pragma mapbox: initialize-attribute highp vec4 color_4f\\n#pragma mapbox: initialize-attribute-custom highp vec4 pbr\\n#pragma mapbox: initialize-attribute-custom highp vec3 heightBasedEmissiveStrength\\nhighp mat4 normal_matrix;\\n#ifdef INSTANCED_ARRAYS\\nnormal_matrix=mat4(a_normal_matrix0,a_normal_matrix1,a_normal_matrix2,a_normal_matrix3);\\n#else\\nnormal_matrix=u_normal_matrix;\\n#endif\\nvec3 local_pos;mat3 rs;\\n#ifdef MODEL_POSITION_ON_GPU\\nvec3 pos_color=normal_matrix[0].xyz;vec4 translate=normal_matrix[1];vec3 pos_a=floor(pos_color);vec3 rgb=1.05*(pos_color-pos_a);float color_mix=pos_a.z/100.0;v_color_mix=vec4(sRGBToLinear(rgb),color_mix);float meter_to_tile=normal_matrix[0].w;vec4 pos=vec4(pos_a.xy,translate.z,1.0);rs[0].x=normal_matrix[1].w;rs[0].yz=normal_matrix[2].xy;rs[1].xy=normal_matrix[2].zw;rs[1].z=normal_matrix[3].x;rs[2].xyz=normal_matrix[3].yzw;vec4 pos_node=u_lighting_matrix*vec4(a_pos_3f,1.0);vec3 rotated_pos_node=rs*pos_node.xyz;vec3 pos_model_tile=(rotated_pos_node+vec3(translate.xy,0.0))*vec3(meter_to_tile,meter_to_tile,1.0);pos.xyz+=pos_model_tile;local_pos=pos.xyz;gl_Position=u_matrix*pos;pos.z*=meter_to_tile;v_position_height.xyz=pos.xyz-u_camera_pos;\\n#else\\nlocal_pos=a_pos_3f;gl_Position=u_matrix*vec4(a_pos_3f,1);v_position_height.xyz=vec3(u_lighting_matrix*vec4(a_pos_3f,1));v_color_mix=vec4(sRGBToLinear(u_color_mix.rgb),u_color_mix.a);\\n#endif\\nv_position_height.w=a_pos_3f.z;\\n#ifdef HAS_ATTRIBUTE_a_pbr\\nvec4 albedo_c=decode_color(pbr.xy);vec2 e_r_m=unpack_float(pbr.z);vec2 r_m= unpack_float(e_r_m.y*16.0);r_m.r=r_m.r*16.0;v_color_mix=vec4(albedo_c.rgb,1.0);v_roughness_metallic_emissive_alpha=vec4(vec3(r_m,e_r_m.x)/255.0,albedo_c.a);v_roughness_metallic_emissive_alpha.z*=2.0;float heightBasedRelativeIntepolation=a_pos_3f.z*heightBasedEmissiveStrength.x+heightBasedEmissiveStrength.y;v_height_based_emission_params.x=heightBasedRelativeIntepolation;v_height_based_emission_params.y=heightBasedEmissiveStrength.z;vec2 emissionMultiplierValues=unpack_float(pbr.w)/256.0;v_height_based_emission_params.z=emissionMultiplierValues.x;v_height_based_emission_params.w=emissionMultiplierValues.y-emissionMultiplierValues.x;\\n#endif\\n#ifdef FOG\\nv_fog_pos=fog_position(local_pos);\\n#endif\\n#ifdef RENDER_CUTOFF\\nv_cutoff_opacity=cutoff_opacity(u_cutoff_params,gl_Position.z);\\n#endif\\n#ifdef TERRAIN_FRAGMENT_OCCLUSION\\nv_depth=gl_Position.z/gl_Position.w;\\n#endif\\n#ifdef HAS_ATTRIBUTE_a_normal_3f\\n#ifdef MODEL_POSITION_ON_GPU\\nfloat x_squared_scale=dot(rs[0],rs[0]);float y_squared_scale=dot(rs[1],rs[1]);float z_squared_scale=dot(rs[2],rs[2]);vec3 squared_scale=vec3(x_squared_scale,y_squared_scale,z_squared_scale);normal_3f=rs*((u_lighting_matrix*vec4(normal_3f,0.0)).xyz/squared_scale);normal_3f=normalize(normal_3f);\\n#else\\nnormal_3f=vec3(normal_matrix*vec4(normal_3f,0));\\n#endif\\n#endif\\n#ifdef HAS_ATTRIBUTE_a_pbr\\n#ifdef HAS_ATTRIBUTE_a_color_4f\\nv_roughness_metallic_emissive_alpha.w=clamp(color_4f.a*v_roughness_metallic_emissive_alpha.w*(v_roughness_metallic_emissive_alpha.z-1.0),0.0,1.0);\\n#endif\\n#endif\\n#ifdef RENDER_SHADOWS\\nvec3 shadow_pos=local_pos;\\n#ifdef NORMAL_OFFSET\\n#ifdef HAS_ATTRIBUTE_a_normal_3f\\n#ifdef MODEL_POSITION_ON_GPU\\nvec3 offset=shadow_normal_offset(vec3(-normal_3f.xy,normal_3f.z));shadow_pos+=offset*shadow_normal_offset_multiplier0();\\n#else\\nvec3 offset=shadow_normal_offset_model(normalize(normal_3f));shadow_pos+=offset*shadow_normal_offset_multiplier0();\\n#endif\\n#endif\\n#endif\\nv_pos_light_view_0=u_light_matrix_0*vec4(shadow_pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(shadow_pos,1);v_depth_shadows=gl_Position.w;\\n#endif\\n}'),modelDepth:ZE(\"in highp float v_depth;void main() {\\n#ifndef DEPTH_TEXTURE\\nglFragColor=pack_depth(v_depth);\\n#endif\\n}\",\"in vec3 a_pos_3f;uniform mat4 u_matrix;out highp float v_depth;\\n#ifdef MODEL_POSITION_ON_GPU\\n#ifdef INSTANCED_ARRAYS\\nin vec4 a_normal_matrix0;in vec4 a_normal_matrix1;in vec4 a_normal_matrix2;in vec4 a_normal_matrix3;\\n#else\\nuniform highp mat4 u_instance;\\n#endif\\nuniform highp mat4 u_node_matrix;\\n#endif\\nvoid main() {\\n#ifdef MODEL_POSITION_ON_GPU\\nhighp mat4 instance;\\n#ifdef INSTANCED_ARRAYS\\ninstance=mat4(a_normal_matrix0,a_normal_matrix1,a_normal_matrix2,a_normal_matrix3);\\n#else\\ninstance=u_instance;\\n#endif\\nvec3 pos_color=instance[0].xyz;vec4 translate=instance[1];vec3 pos_a=floor(pos_color);float meter_to_tile=instance[0].w;vec4 pos=vec4(pos_a.xy,translate.z,1.0);mat3 rs;rs[0].x=instance[1].w;rs[0].yz=instance[2].xy;rs[1].xy=instance[2].zw;rs[1].z=instance[3].x;rs[2].xyz=instance[3].yzw;vec4 pos_node=u_node_matrix*vec4(a_pos_3f,1.0);vec3 rotated_pos_node=rs*pos_node.xyz;vec3 pos_model_tile=(rotated_pos_node+vec3(translate.xy,0.0))*vec3(meter_to_tile,meter_to_tile,1.0);pos.xyz+=pos_model_tile;gl_Position=u_matrix*pos;\\n#else\\ngl_Position=u_matrix*vec4(a_pos_3f,1);\\n#endif\\nv_depth=gl_Position.z/gl_Position.w;}\"),stars:ZE(\"in highp vec2 v_uv;in mediump float v_intensity;float shapeCircle(in vec2 uv)\\n{float beginFade=0.6;float lengthFromCenter=length(v_uv);return 1.0-clamp((lengthFromCenter-beginFade)/(1.0-beginFade),0.0,1.0);}void main() {float alpha=shapeCircle(v_uv);vec3 color=vec3(1.0,1.0,1.0);alpha*=v_intensity;glFragColor=vec4(color*alpha,alpha);HANDLE_WIREFRAME_DEBUG;}\",\"\\nin vec3 a_pos_3f;in vec2 a_uv;in float a_size_scale;in float a_fade_opacity;uniform mat4 u_matrix;uniform vec3 u_up;uniform vec3 u_right;uniform float u_intensity_multiplier;out highp vec2 v_uv;out mediump float v_intensity;void main() {v_uv=a_uv;v_intensity=a_fade_opacity*u_intensity_multiplier;vec3 pos=a_pos_3f;pos+=a_uv.x*u_right*a_size_scale;pos+=a_uv.y*u_up*a_size_scale;gl_Position=u_matrix*vec4(pos,1.0);}\")};function qE(e,t){const i=e.replace(/\\s*\\/\\/[^\\n]*\\n/g,\"\\n\").split(\"\\n\");for(let e of i)if(e=e.trim(),\"#\"===e[0]&&e.includes(\"if\")&&!e.includes(\"endif\")){e=e.replace(\"#\",\"\").replace(/ifdef|ifndef|elif|if/g,\"\").replace(/!|defined|\\(|\\)|\\|\\||&&/g,\"\").replace(/\\s+/g,\" \").trim();const i=e.split(\" \");for(const e of i)t.includes(e)||t.push(e);}}function ZE(e,t){const i=/#include\\s+\"([^\"]+)\"/g,r=/#pragma mapbox: ([\\w\\-]+) ([\\w]+) ([\\w]+) ([\\w]+)/g;let n=t.match(/(attribute(\\S*)|(^\\s*|;)in) (highp |mediump |lowp )?([\\w]+) ([\\w]+)/gm);n&&(n=n.map((e=>{const t=e.split(\" \");return t[t.length-1]})),n=[...new Set(n)]);const o={},s=[],a=[];e=e.replace(i,((e,t)=>(a.push(t),\"\"))),t=t.replace(i,((e,t)=>(s.push(t),\"\")));let l=[...FE];qE(e,l),qE(t,l);for(const e of [...s,...a])NE[e]||console.error(`Undefined include: ${e}`),UE[e]||(UE[e]=[],qE(NE[e],UE[e])),l=[...l,...UE[e]];return {fragmentSource:e=e.replace(r,((e,t,i,r,n)=>(o[n]=!0,\"define\"===t?`\\n#ifndef HAS_UNIFORM_u_${n}\\nin ${i} ${r} ${n};\\n#else\\nuniform ${i} ${r} u_${n};\\n#endif\\n`:\"initialize\"===t?`\\n#ifdef HAS_UNIFORM_u_${n}\\n    ${i} ${r} ${n} = u_${n};\\n#endif\\n`:\"define-attribute\"===t?`\\n#ifdef HAS_ATTRIBUTE_a_${n}\\n    in ${i} ${r} ${n};\\n#endif\\n`:\"initialize-attribute\"===t?\"\":void 0))),vertexSource:t=t.replace(r,((e,t,i,r,n)=>{const s=\"float\"===r?\"vec2\":r,a=n.match(/color/)?\"color\":s;return \"define-attribute-vertex-shader-only\"===t?`\\n#ifdef HAS_ATTRIBUTE_a_${n}\\nin ${i} ${r} a_${n};\\n#endif\\n`:o[n]?\"define\"===t?`\\n#ifndef HAS_UNIFORM_u_${n}\\nuniform lowp float u_${n}_t;\\nin ${i} ${s} a_${n};\\nout ${i} ${r} ${n};\\n#else\\nuniform ${i} ${r} u_${n};\\n#endif\\n`:\"initialize\"===t?\"vec4\"===a?`\\n#ifndef HAS_UNIFORM_u_${n}\\n    ${n} = a_${n};\\n#else\\n    ${i} ${r} ${n} = u_${n};\\n#endif\\n`:`\\n#ifndef HAS_UNIFORM_u_${n}\\n    ${n} = unpack_mix_${a}(a_${n}, u_${n}_t);\\n#else\\n    ${i} ${r} ${n} = u_${n};\\n#endif\\n`:\"define-attribute\"===t?`\\n#ifdef HAS_ATTRIBUTE_a_${n}\\n    in ${i} ${r} a_${n};\\n    out ${i} ${r} ${n};\\n#endif\\n`:\"initialize-attribute\"===t?`\\n#ifdef HAS_ATTRIBUTE_a_${n}\\n    ${n} = a_${n};\\n#endif\\n`:void 0:\"define\"===t?`\\n#ifndef HAS_UNIFORM_u_${n}\\nuniform lowp float u_${n}_t;\\nin ${i} ${s} a_${n};\\n#else\\nuniform ${i} ${r} u_${n};\\n#endif\\n`:\"define-instanced\"===t?\"mat4\"===a?`\\n#ifdef INSTANCED_ARRAYS\\nin vec4 a_${n}0;\\nin vec4 a_${n}1;\\nin vec4 a_${n}2;\\nin vec4 a_${n}3;\\n#else\\nuniform ${i} ${r} u_${n};\\n#endif\\n`:`\\n#ifdef INSTANCED_ARRAYS\\nin ${i} ${s} a_${n};\\n#else\\nuniform ${i} ${r} u_${n};\\n#endif\\n`:\"initialize-attribute-custom\"===t?`\\n#ifdef HAS_ATTRIBUTE_a_${n}\\n    ${i} ${r} ${n} = a_${n};\\n#endif\\n`:\"vec4\"===a?`\\n#ifndef HAS_UNIFORM_u_${n}\\n    ${i} ${r} ${n} = a_${n};\\n#else\\n    ${i} ${r} ${n} = u_${n};\\n#endif\\n`:`\\n#ifndef HAS_UNIFORM_u_${n}\\n    ${i} ${r} ${n} = unpack_mix_${a}(a_${n}, u_${n}_t);\\n#else\\n    ${i} ${r} ${n} = u_${n};\\n#endif\\n`})),staticAttributes:n,usedDefines:l,vertexIncludes:s,fragmentIncludes:a}}class $E{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null;}bind(e,t,i,r,n,o,s,a){this.context=e;let l=this.boundPaintVertexBuffers.length!==r.length;for(let e=0;!l&&e<r.length;e++)this.boundPaintVertexBuffers[e]!==r[e]&&(l=!0);let c=this.boundDynamicVertexBuffers.length!==s.length;for(let e=0;!c&&e<s.length;e++)this.boundDynamicVertexBuffers[e]!==s[e]&&(c=!0);if(!this.vao||this.boundProgram!==t||this.boundLayoutVertexBuffer!==i||l||c||this.boundIndexBuffer!==n||this.boundVertexOffset!==o)this.freshBind(t,i,r,n,o,s,a);else {e.bindVertexArrayOES.set(this.vao);for(const i of s)i&&(i.bind(),a&&i.instanceCount&&i.setVertexAttribDivisor(e.gl,t,a));n&&n.dynamicDraw&&n.bind();}}freshBind(e,t,i,r,n,o,s){const a=e.numAttributes,l=this.context,c=l.gl;this.vao&&this.destroy(),this.vao=l.gl.createVertexArray(),l.bindVertexArrayOES.set(this.vao),this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=i,this.boundIndexBuffer=r,this.boundVertexOffset=n,this.boundDynamicVertexBuffers=o,t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,n);for(const t of i)t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,n);for(const t of o)t&&(t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,n),s&&t.instanceCount&&t.setVertexAttribDivisor(c,e,s));r&&r.bind(),l.currentNumAttributes=a;}destroy(){this.vao&&(this.context.gl.deleteVertexArray(this.vao),this.vao=null);}}function WE(e,t){const i=Math.pow(2,t.canonical.z),r=t.canonical.y;return [new lp(0,r/i).toLngLat().lat,new lp(0,(r+1)/i).toLngLat().lat]}function HE(e,t,i,r,n,o,s){const a=e.context,l=a.gl,c=i.hillshadeFBO;if(!c)return;e.prepareDrawTile();const h=e.isTileAffectedByFog(t),u=e.getOrCreateProgram(\"hillshade\",{overrideFog:h});a.activeTexture.set(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,c.colorAttachment.get());const d=((e,t,i,r)=>{const n=i.paint.get(\"hillshade-shadow-color\"),o=i.paint.get(\"hillshade-highlight-color\"),s=i.paint.get(\"hillshade-accent-color\"),a=i.paint.get(\"hillshade-emissive-strength\");let l=w(i.paint.get(\"hillshade-illumination-direction\"));if(\"viewport\"===i.paint.get(\"hillshade-illumination-anchor\"))l-=e.transform.angle;else if(e.style&&e.style.enable3dLights()&&e.style.directionalLight){const t=e.style.directionalLight.properties.get(\"direction\");l=w(J(t.x,t.y,t.z)[1]);}const c=!e.options.moving;return {u_matrix:r||e.transform.calculateProjMatrix(t.tileID.toUnwrapped(),c),u_image:0,u_latrange:WE(0,t.tileID),u_light:[i.paint.get(\"hillshade-exaggeration\"),l],u_shadow:n,u_highlight:o,u_emissive_strength:a,u_accent:s}})(e,i,r,e.terrain?t.projMatrix:null);e.uploadCommonUniforms(a,u,t.toUnwrapped());const{tileBoundsBuffer:p,tileBoundsIndexBuffer:f,tileBoundsSegments:m}=e.getTileBoundsBuffers(i);u.draw(e,l.TRIANGLES,n,o,s,Dx.disabled,d,r.id,p,f,m);}function XE(e,t,i){if(!t.needsDEMTextureUpload)return;const r=e.context,n=r.gl;r.pixelStoreUnpackPremultiplyAlpha.set(!1),t.demTexture=t.demTexture||e.getTileTexture(i.stride);const o=i.getPixels();t.demTexture?t.demTexture.update(o,{premultiply:!1}):t.demTexture=new My(r,o,n.R32F,{premultiply:!1}),t.needsDEMTextureUpload=!1;}function YE(e,t,i){const r=e.context,n=r.gl;if(!t.dem)return;const o=t.dem;if(r.activeTexture.set(n.TEXTURE1),XE(e,t,o),!t.demTexture)return;t.demTexture.bind(n.NEAREST,n.CLAMP_TO_EDGE);const s=o.dim;r.activeTexture.set(n.TEXTURE0);let a=t.hillshadeFBO;if(!a){const e=new My(r,{width:s,height:s,data:null},n.RGBA);e.bind(n.LINEAR,n.CLAMP_TO_EDGE),a=t.hillshadeFBO=r.createFramebuffer(s,s,!0,\"renderbuffer\"),a.colorAttachment.set(e.texture);}r.bindFramebuffer.set(a.framebuffer),r.viewport.set([0,0,s,s]);const{tileBoundsBuffer:l,tileBoundsIndexBuffer:c,tileBoundsSegments:h}=e.getMercatorTileBoundsBuffers(),u=[];e.linearFloatFilteringSupported()&&u.push(\"TERRAIN_DEM_FLOAT_FORMAT\"),e.getOrCreateProgram(\"hillshadePrepare\",{defines:u}).draw(e,n.TRIANGLES,Mx.disabled,Sx.disabled,Cx.unblended,Dx.disabled,((e,t)=>{const i=t.stride,r=Au.create();return Au.ortho(r,0,cr,-cr,0,0,1),Au.translate(r,r,[0,-cr,0]),{u_matrix:r,u_image:1,u_dimension:[i,i],u_zoom:e.overscaledZ}})(t.tileID,o),i.id,l,c,h),t.needsHillshadePrepare=!1;}const KE=e=>({u_matrix:new jl(e),u_image0:new kl(e),u_skirt_height:new Ol(e),u_ground_shadow_factor:new Fl(e)}),JE=(e,t,i)=>({u_matrix:e,u_image0:0,u_skirt_height:t,u_ground_shadow_factor:i}),QE=(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f)=>({u_proj_matrix:Float32Array.from(e),u_globe_matrix:t,u_normalize_matrix:Float32Array.from(r),u_merc_matrix:i,u_zoom_transition:n,u_merc_center:o,u_image0:0,u_frustum_tl:s,u_frustum_tr:a,u_frustum_br:l,u_frustum_bl:c,u_globe_pos:h,u_globe_radius:u,u_viewport:d,u_grid_matrix:f?Float32Array.from(f):new Float32Array(9),u_skirt_height:p}),eM=(e,t)=>{if(t>0&&e.terrain&&H(\"Cutoff is currently disabled on terrain\"),t<=0||e.terrain)return {shouldRenderCutoff:!1,uniformValues:{u_cutoff_params:[0,0,0,0]}};const i=e.transform,r=Math.max(Math.abs(i._zoom-(e.minCutoffZoom-1)),1),n=i.isLODDisabled(!1)?P(60,45,i.pitch):P(30,15,i.pitch),o=i._farZ-i._nearZ,s=t*i.height,a=((1-(l=n))*(.75*i.cameraToCenterDistance)+l*(i._farZ+s))*r;var l;return {shouldRenderCutoff:n<1,uniformValues:{u_cutoff_params:[i._nearZ,i._farZ,(a-i._nearZ)/o,(a-s-i._nearZ)/o]}}};function tM(e,t){return null!=e&&null!=t&&!(!e.hasData()||!t.hasData())&&null!=e.demTexture&&null!=t.demTexture&&e.tileID.key!==t.tileID.key}const iM=new class{constructor(){this.operations={};}newMorphing(e,t,i,r,n){if(e in this.operations){const t=this.operations[e];t.to.tileID.key!==i.tileID.key&&(t.queued=i);}else this.operations[e]={startTime:r,phase:0,duration:n,from:t,to:i,queued:null};}getMorphValuesForProxy(e){if(!(e in this.operations))return null;const t=this.operations[e];return {from:t.from,to:t.to,phase:t.phase}}update(e){for(const t in this.operations){const i=this.operations[t];for(i.phase=(e-i.startTime)/i.duration;i.phase>=1||!this._validOp(i);)if(!this._nextOp(i,e)){delete this.operations[t];break}}}_nextOp(e,t){return !!e.queued&&(e.from=e.to,e.to=e.queued,e.queued=null,e.phase=0,e.startTime=t,!0)}_validOp(e){return e.from.hasData()&&e.to.hasData()}},rM={0:null,1:\"TERRAIN_VERTEX_MORPHING\"};function nM(e,t,i){if(0===t)return 0;const r=t<1&&514===i?.25/t:1;return 6*Math.pow(1.5,22-e)*Math.max(t,1)*r}function oM(e,t){const i=1<<e.z;return !t&&(0===e.x||e.x===i-1)||0===e.y||e.y===i-1}const sM=e=>({u_matrix:e});function aM(e,t,i,r,n){if(n>0){const o=dt.now(),s=(o-e.timeAdded)/n,a=t?(o-t.timeAdded)/n:-1,l=i.getSource(),c=r.coveringZoomLevel({tileSize:l.tileSize,roundZoom:l.roundZoom}),h=!t||Math.abs(t.tileID.overscaledZ-c)>Math.abs(e.tileID.overscaledZ-c),u=h&&e.refreshedUponExpiration?1:z(h?s:1-a,0,1);return e.refreshedUponExpiration&&s>=1&&(e.refreshedUponExpiration=!1),t?{opacity:1,mix:1-u}:{opacity:u,mix:0}}return {opacity:1,mix:0}}class lM extends Lx{constructor(e){const t={type:\"raster-dem\",maxzoom:e.transform.maxZoom},i=new Ew(Ww(),null),r=ST(\"mock-dem\",t,i,e.style);super(\"mock-dem\",r,!1),r.setEventedParent(this),this._sourceLoaded=!0;}_loadTile(e,t){e.state=\"loaded\",t(null);}}class cM extends Lx{constructor(e){const t=ST(\"proxy\",{type:\"geojson\",maxzoom:e.transform.maxZoom},new Ew(Ww(),null),e.style);super(\"proxy\",t,!1),t.setEventedParent(this),this.map=this.getSource().map=e,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={};}update(e,t,i){if(e.freezeTileCoverage)return;this.transform=e;const r=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce(((t,i)=>{if(t[i.key]=\"\",!this._tiles[i.key]){const t=new Oy(i,this._source.tileSize*i.overscaleFactor(),e.tileZoom);t.state=\"loaded\",this._tiles[i.key]=t;}return t}),{});for(const e in this._tiles)e in r||(this.freeFBO(e),this._tiles[e].unloadVectorData(),delete this._tiles[e]);}freeFBO(e){const t=this.proxyCachedFBO[e];if(void 0!==t){const i=Object.values(t);this.renderCachePool.push(...i),delete this.proxyCachedFBO[e];}}deallocRenderCache(){this.renderCache.forEach((e=>e.fb.destroy())),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={};}}class hM extends qu{constructor(e,t,i){super(e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y),this.proxyTileKey=t,this.projMatrix=i;}}class uM extends Km{constructor(e,t){super(),this.painter=e,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[i,r,n]=function(e){const t=new za,i=new Wa,r=131;t.reserve(17161),i.reserve(33800);const n=cr/128,o=cr+n/2,s=o+n;for(let e=-n;e<s;e+=n)for(let i=-n;i<s;i+=n){const r=i<0||i>o||e<0||e>o?24575:0,n=z(Math.round(i),0,cr),s=z(Math.round(e),0,cr);t.emplaceBack(n+r,s);}const a=(e,t)=>{const n=t*r+e;i.emplaceBack(n+1,n,n+r),i.emplaceBack(n+r,n+r+1,n+1);};for(let e=1;e<129;e++)for(let t=1;t<129;t++)a(t,e);return [0,129].forEach((e=>{for(let t=0;t<130;t++)a(t,e),a(e,t);})),[t,i,32768]}(),o=e.context;this.gridBuffer=o.createVertexBuffer(i,Nu.members),this.gridIndexBuffer=o.createIndexBuffer(r),this.gridSegments=xl.simpleSegment(0,0,i.length,r.length),this.gridNoSkirtSegments=xl.simpleSegment(0,0,i.length,n),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new cM(t.map),this.orthoMatrix=Au.create(),Au.ortho(this.orthoMatrix,\"globe\"===this.painter.transform.projection.name?.015:0,cr,0,cr,0,1);const s=o.gl;this._overlapStencilMode=new Sx({func:s.GEQUAL,mask:255},0,255,s.KEEP,s.KEEP,s.REPLACE),this._previousZoom=e.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=t,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new lM(t.map),this._pendingGroundEffectLayers=[];}set style(e){e.on(\"data\",this._onStyleDataEvent.bind(this)),this._style=e,this._style.map.on(\"moveend\",(()=>{this._clearLineLayersFromRenderCache();}));}update(e,t,i){if(e&&e.terrain){this._style!==e&&(this.style=e,this._evaluationZoom=void 0);const r=e.terrain.properties,n=0===e.terrain.drapeRenderMode,o=e.terrain.isZoomDependent();this._previousUpdateTimestamp=this.enabled?this._updateTimestamp:void 0,this._updateTimestamp=dt.now();const s=e.terrain&&e.terrain.scope,a=r.get(\"source\"),l=n?this._mockSourceCache:e.getSourceCache(a,s);if(!l)return void H(`Couldn't find terrain source \"${a}\".`);if(this.sourceCache=l,this._exaggeration=o?this.calculateExaggeration(t):r.get(\"exaggeration\"),!t.projection.requiresDraping&&o&&0===this._exaggeration)return void this._disable();this.enabled=!0;const c=()=>{this.sourceCache.used&&H(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.\\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const e=this.getScaledDemTileSize();this.sourceCache.update(t,e,!0),this.resetTileLookupCache(this.sourceCache.id);};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,c(),this._initializing=!0),c(),t.updateElevation(!0,i),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(t),this._emptyDEMTextureDirty=!0,this._previousZoom=t.zoom;}else this._disable();}calculateExaggeration(e){const t=this._previousCameraAltitude,i=e.getFreeCameraOptions().position.z/e.pixelsPerMeter*e.worldSize;this._previousCameraAltitude=i;const r=null!=t?i-t:Number.MAX_VALUE;if(Math.abs(r)<2)return this._exaggeration;const n=e.zoom,o=this._style.terrain;if(!this._previousUpdateTimestamp)return o.getExaggeration(n);let s=n-this._previousZoom;const a=this._previousUpdateTimestamp;let l=n;null!=this._evaluationZoom&&(l=this._evaluationZoom,Math.abs(n-l)>.5&&(s=.5*(n-l+s)),s*r<0&&(l+=s)),this._evaluationZoom=l;const c=o.getExaggeration(l),h=c===o.getExaggeration(Math.max(0,l-.1));if(h&&Math.abs(c-this._exaggeration)<.01)return c;let u=Math.min(.1,.00375*(this._updateTimestamp-a));return (h||c<.1||Math.abs(s)<1e-4)&&(u=Math.min(.2,4*u)),Kr(this._exaggeration,c,u)}resetTileLookupCache(e){this._findCoveringTileCache[e]={};}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_onStyleDataEvent(e){e.coord&&\"source\"===e.dataType?this._clearRenderCacheForTile(e.sourceCacheId,e.coord):\"style\"===e.dataType&&(this.invalidateRenderCache=!0,this._evaluationZoom=void 0,this._previousUpdateTimestamp=void 0,this._previousCameraAltitude=void 0);}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this._evaluationZoom=void 0,this._previousUpdateTimestamp=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const e in this._style._mergedSourceCaches)this._style._mergedSourceCaches[e].usedForTerrain=!1;}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach((e=>e.fb.destroy())),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),this.framebufferCopyTexture&&this.framebufferCopyTexture.destroy();}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const e=2*this.proxySourceCache.getSource().tileSize;return [e,e]}set useVertexMorphing(e){this._useVertexMorphing=e;}updateTileBinding(e){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const t=this.proxySourceCache,i=this.painter.transform;this._initializing&&(this._initializing=0===i._centerAltitude&&-1===this.getAtPointOrZero(lp.fromLngLat(i.center),-1),this._emptyDEMTextureDirty=!this._initializing);const r=this.proxyCoords=t.getIds().map((e=>{const r=t.getTileByID(e).tileID;return r.projMatrix=i.calculateProjMatrix(r.toUnwrapped()),r}));!function(e,t){const i=t.transform.pointCoordinate(t.transform.getCameraPoint()),r=new y(i.x,i.y);e.sort(((e,t)=>{if(t.overscaledZ-e.overscaledZ)return t.overscaledZ-e.overscaledZ;const i=new y(e.canonical.x+(1<<e.canonical.z)*e.wrap,e.canonical.y),n=new y(t.canonical.x+(1<<t.canonical.z)*t.wrap,t.canonical.y),o=r.mult(1<<e.canonical.z);return o.x-=.5,o.y-=.5,o.distSqr(i)-o.distSqr(n)}));}(r,this.painter);const n=this.proxyToSource||{};this.proxyToSource={},r.forEach((e=>{this.proxyToSource[e.key]={};})),this.terrainTileForTile={};const o=this._style._mergedSourceCaches;for(const t in o){const i=o[t];if(!i.used)continue;if(i!==this.sourceCache&&this.resetTileLookupCache(i.id),this._setupProxiedCoordsForOrtho(i,e[t],n),i.usedForTerrain)continue;const r=e[t];i.getSource().reparseOverscaled&&this._assignTerrainTiles(r);}this.proxiedCoords[t.id]=r.map((e=>new hM(e,e.key,this.orthoMatrix))),this._assignTerrainTiles(r),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(n),this.renderingToTexture=!1;const s={};this._visibleDemTiles=[];for(const e of this.proxyCoords){const t=this.terrainTileForTile[e.key];if(!t)continue;const i=t.tileID.key;i in s||(this._visibleDemTiles.push(t),s[i]=i);}}_assignTerrainTiles(e){this._initializing||e.forEach((e=>{if(this.terrainTileForTile[e.key])return;const t=this._findTileCoveringTileID(e,this.sourceCache);t&&(this.terrainTileForTile[e.key]=t);}));}_prepareDEMTextures(){const e=this.painter.context,t=e.gl;for(const i in this.terrainTileForTile){const r=this.terrainTileForTile[i],n=r.dem;!n||r.demTexture&&!r.needsDEMTextureUpload||(e.activeTexture.set(t.TEXTURE1),XE(this.painter,r,n));}}_prepareDemTileUniforms(e,t,i,r){if(!t||null==t.demTexture)return !1;const n=e.tileID.canonical,o=Math.pow(2,t.tileID.canonical.z-n.z),s=r||\"\";return i[`u_dem_tl${s}`]=[n.x*o%1,n.y*o%1],i[`u_dem_scale${s}`]=o,!0}get emptyDEMTexture(){return !this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const e=this.painter.context,t=e.gl;if(!this._emptyDepthBufferTexture){const i=new ef({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new My(e,i,t.RGBA,{premultiply:!1});}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let e=0;const t=this._visibleDemTiles.reduce(((t,i)=>{if(!i.dem)return t;const r=i.dem.tree.minimums[0];return r>0&&e++,t+r}),0);return e?t/e:0}_updateEmptyDEMTexture(){const e=this.painter.context,t=e.gl;e.activeTexture.set(t.TEXTURE2);const i=this._getLoadedAreaMinimum(),[r,n]=(()=>{const e=new tf({width:1,height:1},new Float32Array([i]));return [t.R32F,e]})();this._emptyDEMTextureDirty=!1;let o=this._emptyDEMTexture;return o?o.update(n,{premultiply:!1}):o=this._emptyDEMTexture=new My(e,n,r,{premultiply:!1}),o}setupElevationDraw(e,t,i){const r=this.painter.context,n=r.gl,o={u_dem:2,u_dem_prev:4,u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0};o.u_exaggeration=this.exaggeration();let s=null,a=null,l=1;if(i&&i.morphing&&this._useVertexMorphing){const t=i.morphing.srcDemTile,r=i.morphing.dstDemTile;l=i.morphing.phase,t&&r&&(this._prepareDemTileUniforms(e,t,o,\"_prev\")&&(a=t),this._prepareDemTileUniforms(e,r,o)&&(s=r));}const c=e=>e&&e.demTexture&&this.painter.linearFloatFilteringSupported()?n.LINEAR:n.NEAREST,h=e=>{o.u_dem_size=1===e.size[0]?1:e.size[0]-2;};if(a&&s)r.activeTexture.set(n.TEXTURE2),s.demTexture.bind(c(s),n.CLAMP_TO_EDGE),r.activeTexture.set(n.TEXTURE4),a.demTexture.bind(c(a),n.CLAMP_TO_EDGE),s.demTexture&&h(s.demTexture),o.u_dem_lerp=l;else {s=this.terrainTileForTile[e.tileID.key],r.activeTexture.set(n.TEXTURE2);const t=this._prepareDemTileUniforms(e,s,o)?s.demTexture:this.emptyDEMTexture;t.bind(c(s),n.CLAMP_TO_EDGE),h(t);}if(r.activeTexture.set(n.TEXTURE3),i&&i.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(n.NEAREST,n.CLAMP_TO_EDGE),this._depthFBO&&(o.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(n.NEAREST,n.CLAMP_TO_EDGE),o.u_depth_size_inv=[1,1]),i&&i.useMeterToDem&&s){const e=(1<<s.tileID.canonical.z)*Qd(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;o.u_meter_to_dem=e;}if(i&&i.labelPlaneMatrixInv&&(o.u_label_plane_matrix_inv=i.labelPlaneMatrixInv),t.setTerrainUniformValues(r,o),\"globe\"===this.painter.transform.projection.name){const n=this.globeUniformValues(this.painter.transform,e.tileID.canonical,i&&i.useDenormalizedUpVectorScale);t.setGlobeUniformValues(r,n);}}globeUniformValues(e,t,i){const r=e.projection;return {u_tile_tl_up:r.upVector(t,0,0),u_tile_tr_up:r.upVector(t,cr,0),u_tile_br_up:r.upVector(t,cr,cr),u_tile_bl_up:r.upVector(t,0,cr),u_tile_up_scale:i?hd(1):r.upVectorScale(t,e.center.lat,e.worldSize).metersToTile}}renderToBackBuffer(e){const t=this.painter,i=this.painter.context;0!==e.length&&(i.bindFramebuffer.set(null),i.viewport.set([0,0,t.width,t.height]),t.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(e,t,i,r,n){if(\"globe\"===e.transform.projection.name)!function(e,t,i,r,n){const o=e.context,s=o.gl;let a,l;const c=e.transform,h=Ld(e,o,c),u=(t,i)=>{if(l===i)return;const r=[rM[i],\"PROJECTION_GLOBE_VIEW\"];h&&r.push(\"CUSTOM_ANTIALIASING\");const n=e.isTileAffectedByFog(t);a=e.getOrCreateProgram(\"globeRaster\",{defines:r,overrideFog:n}),l=i;},d=e.colorModeForRenderPass(),p=new Mx(s.LEQUAL,Mx.ReadWrite,e.depthRangeFor3D);iM.update(n);const f=Pd(c),m=[Kd(c.center.lng),Jd(c.center.lat)],_=e.globeSharedBuffers,g=[c.width*dt.devicePixelRatio,c.height*dt.devicePixelRatio],y=Float32Array.from(c.globeMatrix),x={useDenormalizedUpVectorScale:!0};{const c=e.transform,h=nM(c.zoom,t.exaggeration(),t.sourceCache._source.tileSize);l=-1;const v=s.TRIANGLES;for(const l of r){const r=i.getTile(l),b=Sx.disabled,w=t.prevTerrainTileForTile[l.key],T=t.terrainTileForTile[l.key];tM(w,T)&&iM.newMorphing(l.key,w,T,n,250),o.activeTexture.set(s.TEXTURE0),r.texture&&r.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE);const E=iM.getMorphValuesForProxy(l.key),A=E?1:0;E&&Lt(x,{morphing:{srcDemTile:E.from,dstDemTile:E.to,phase:M(E.phase)}});const S=xd(l.canonical),I=Od(S.getCenter().lat),C=kd(l.canonical,S,I,c.worldSize/c._pixelsPerMercatorPixel),z=Ad(fd(l.canonical)),P=QE(c.expandedFarZProjMatrix,y,f,z,Dd(c.zoom),m,c.frustumCorners.TL,c.frustumCorners.TR,c.frustumCorners.BR,c.frustumCorners.BL,c.globeCenterInViewSpace,c.globeRadius,g,h,C);if(u(l,A),a&&(t.setupElevationDraw(r,a,x),e.uploadCommonUniforms(o,a,l.toUnwrapped()),_)){const[t,i,r]=_.getGridBuffers(I,0!==h);a.draw(e,v,p,b,d,Dx.backCCW,P,\"globe_raster\",t,i,r);}}}if(_&&(e.renderDefaultNorthPole||e.renderDefaultSouthPole)){const n=[\"GLOBE_POLES\",\"PROJECTION_GLOBE_VIEW\"];h&&n.push(\"CUSTOM_ANTIALIASING\"),a=e.getOrCreateProgram(\"globeRaster\",{defines:n});for(const n of r){const{x:r,y:l,z:h}=n.canonical,u=0===l,f=l===(1<<h)-1,[y,v,b,w]=_.getPoleBuffers(h,!1);if(w&&(u||f)){const l=i.getTile(n);o.activeTexture.set(s.TEXTURE0),l.texture&&l.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE);let _=Rd(h,r,c);const T=Ad(fd(n.canonical)),E=(t,i)=>t.draw(e,s.TRIANGLES,p,Sx.disabled,d,Dx.disabled,QE(c.expandedFarZProjMatrix,_,_,T,0,m,c.frustumCorners.TL,c.frustumCorners.TR,c.frustumCorners.BR,c.frustumCorners.BL,c.globeCenterInViewSpace,c.globeRadius,g,0),\"globe_pole_raster\",i,b,w);t.setupElevationDraw(l,a,x),e.uploadCommonUniforms(o,a,n.toUnwrapped()),u&&e.renderDefaultNorthPole&&E(a,y),f&&e.renderDefaultSouthPole&&(_=Au.scale(Au.create(),_,[1,-1,1]),E(a,v));}}}}(e,t,i,r,n);else {const o=e.context,s=o.gl;let a,l;const c=e.shadowRenderer,h=eM(e,e.longestCutoffRange),u=t=>{if(l===t)return;const i=[];i.push(rM[t]),h.shouldRenderCutoff&&i.push(\"RENDER_CUTOFF\"),a=e.getOrCreateProgram(\"terrainRaster\",{defines:i}),l=t;},d=e.colorModeForRenderPass(),p=new Mx(s.LEQUAL,Mx.ReadWrite,e.depthRangeFor3D);iM.update(n);const f=e.transform,m=nM(f.zoom,t.exaggeration(),t.sourceCache._source.tileSize);let _=[0,0,0];if(c){const t=e.style.directionalLight,i=e.style.ambientLight;t&&i&&(_=WA(t,i));}{l=-1;const g=s.TRIANGLES,[y,x]=[t.gridIndexBuffer,t.gridSegments];for(const l of r){const r=i.getTile(l),v=Sx.disabled,b=t.prevTerrainTileForTile[l.key],w=t.terrainTileForTile[l.key];tM(b,w)&&iM.newMorphing(l.key,b,w,n,250),o.activeTexture.set(s.TEXTURE0),r.texture&&r.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE);const T=iM.getMorphValuesForProxy(l.key),E=T?1:0;let A;T&&(A={morphing:{srcDemTile:T.from,dstDemTile:T.to,phase:M(T.phase)}});const S=JE(l.projMatrix,oM(l.canonical,f.renderWorldCopies)?m/10:m,_);if(u(E),!a)continue;t.setupElevationDraw(r,a,A);const I=l.toUnwrapped();c&&c.setupShadows(I,a),e.uploadCommonUniforms(o,a,I,null,h),a.draw(e,g,p,v,d,Dx.backCCW,S,\"terrain_raster\",t.gridBuffer,y,x);}}}}(t,this,this.proxySourceCache,e,this._updateTimestamp),this.renderingToTexture=!0,t.gpuTimingDeferredRenderEnd(),e.splice(0,e.length));}renderBatch(e){if(0===this._drapedRenderBatches.length)return e+1;this.renderingToTexture=!0;const t=this.painter,i=this.painter.context,r=this.proxySourceCache,n=this.proxiedCoords[r.id],o=this._drapedRenderBatches.shift(),s=t.style.order,a=[];let l=0;for(const c of n){const n=r.getTileByID(c.proxyTileKey),h=r.proxyCachedFBO[c.key]?r.proxyCachedFBO[c.key][e]:void 0,u=void 0!==h?r.renderCache[h]:this.pool[l++],d=void 0!==h;if(n.texture=u.tex,d&&!u.dirty){a.push(n.tileID);continue}let p;i.bindFramebuffer.set(u.fb.framebuffer),this.renderedToTile=!1,u.dirty&&(i.clear({color:hi.transparent,stencil:0}),u.dirty=!1);for(let e=o.start;e<=o.end;++e){const r=t.style._mergedLayers[s[e]];if(r.isHidden(t.transform.zoom))continue;const n=t.style.getLayerSourceCache(r),o=n?this.proxyToSource[c.key][n.id]:[c];if(!o)continue;const a=o;i.viewport.set([0,0,u.fb.width,u.fb.height]),p!==(n?n.id:null)&&(this._setupStencil(u,o,r,n),p=n?n.id:null),t.renderLayer(t,n,r,a);}if(0===this._drapedRenderBatches.length)for(const e of this._pendingGroundEffectLayers){const r=t.style._mergedLayers[s[e]];if(r.isHidden(t.transform.zoom))continue;const n=t.style.getLayerSourceCache(r),o=n?this.proxyToSource[c.key][n.id]:[c];if(!o)continue;const a=o;i.viewport.set([0,0,u.fb.width,u.fb.height]),p!==(n?n.id:null)&&(this._setupStencil(u,o,r,n),p=n?n.id:null),t.renderLayer(t,n,r,a);}this.renderedToTile?(u.dirty=!0,a.push(n.tileID)):d||--l,5===l&&(l=0,this.renderToBackBuffer(a));}return this.renderToBackBuffer(a),this.renderingToTexture=!1,i.bindFramebuffer.set(null),i.viewport.set([0,0,t.width,t.height]),o.end+1}postRender(){}isLayerOrderingCorrect(e){const t=e.order.length;let i=-1,r=t;for(let n=0;n<t;++n)this._style.isLayerDraped(e._mergedLayers[e.order[n]])?i=Math.max(i,n):r=Math.min(r,n);return r>i}getMinElevationBelowMSL(){let e=0;return this._visibleDemTiles.filter((e=>e.dem)).forEach((t=>{e=Math.min(e,t.dem.tree.minimums[0]);})),0===e?e:(e-30)*this._exaggeration}raycast(e,t,i){if(!this._visibleDemTiles)return null;const r=this._visibleDemTiles.filter((e=>e.dem)).map((r=>{const n=r.tileID,o=1<<n.overscaledZ,{x:s,y:a}=n.canonical,l=s/o,c=(s+1)/o,h=a/o,u=(a+1)/o;return {minx:l,miny:h,maxx:c,maxy:u,t:r.dem.tree.raycastRoot(l,h,c,u,e,t,i),tile:r}}));r.sort(((e,t)=>(null!==e.t?e.t:Number.MAX_VALUE)-(null!==t.t?t.t:Number.MAX_VALUE)));for(const n of r){if(null==n.t)return null;const r=n.tile.dem.tree.raycast(n.minx,n.miny,n.maxx,n.maxy,e,t,i);if(null!=r)return r}return null}_createFBO(){const e=this.painter.context,t=e.gl,i=this.drapeBufferSize;e.activeTexture.set(t.TEXTURE0);const r=new My(e,{width:i[0],height:i[1],data:null},t.RGBA);r.bind(t.LINEAR,t.CLAMP_TO_EDGE);const n=e.createFramebuffer(i[0],i[1],!0,null);return n.colorAttachment.set(r.texture),n.depthAttachment=new Tx(e,n.framebuffer),void 0===this._sharedDepthStencil?(this._sharedDepthStencil=e.createRenderbuffer(e.gl.DEPTH_STENCIL,i[0],i[1]),this._stencilRef=0,n.depthAttachment.set(this._sharedDepthStencil),e.clear({stencil:0})):n.depthAttachment.set(this._sharedDepthStencil),e.extTextureFilterAnisotropic&&t.texParameterf(t.TEXTURE_2D,e.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,e.extTextureFilterAnisotropicMax),{fb:n,tex:r,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO());}_shouldDisableRenderCache(){if(this._style.hasLightTransitions())return !0;for(const e in this._style._mergedSourceCaches)if(this._style._mergedSourceCaches[e].hasTransition())return !0;return this._style.order.some((e=>{const t=this._style._mergedLayers[e],i=t.isHidden(this.painter.transform.zoom);return \"custom\"===t.type?!i&&t.shouldRedrape():!i&&t.hasTransition()}))}_clearLineLayersFromRenderCache(){let e=!1;for(const t of this._style.getSources())if(t instanceof Vw){e=!0;break}if(!e)return;const t={};for(let e=0;e<this._style.order.length;++e){const i=this._style._mergedLayers[this._style.order[e]],r=this._style.getLayerSourceCache(i);if(r&&!t[r.id]&&!i.isHidden(this.painter.transform.zoom)&&\"line\"===i.type&&i.widthExpression()instanceof Ao){t[r.id]=!0;for(const e of this.proxyCoords){const t=this.proxyToSource[e.key][r.id];if(t)for(const e of t)this._clearRenderCacheForTile(r.id,e);}}}}_clearRasterLayersFromRenderCache(){let e=!1;for(const t in this._style._mergedSourceCaches)if(this._style._mergedSourceCaches[t]._source instanceof jw){e=!0;break}if(!e)return;const t={};for(let e=0;e<this._style.order.length;++e){const i=this._style._mergedLayers[this._style.order[e]],r=this._style.getLayerSourceCache(i);if(!r||t[r.id])continue;if(i.isHidden(this.painter.transform.zoom)||\"raster\"!==i.type)continue;const n=i.paint.get(\"raster-fade-duration\");for(const e of this.proxyCoords){const t=this.proxyToSource[e.key][r.id];if(t)for(const e of t){const t=aM(r.getTile(e),r.findLoadedParent(e,0),r,this.painter.transform,n);(1!==t.opacity||0!==t.mix)&&this._clearRenderCacheForTile(r.id,e);}}}}_setupDrapedRenderBatches(){const e=this._style.order,t=e.length;if(0===t)return;const i=[];this._pendingGroundEffectLayers=[];let r,n=0,o=this._style._mergedLayers[e[n]];for(;!this._style.isLayerDraped(o)&&o.isHidden(this.painter.transform.zoom)&&++n<t;)o=this._style._mergedLayers[e[n]];for(;n<t;++n){const t=this._style._mergedLayers[e[n]];t.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(t)?void 0===r&&(r=n):(\"fill-extrusion\"===t.type&&this._pendingGroundEffectLayers.push(n),void 0!==r&&(i.push({start:r,end:n-1}),r=void 0)));}if(void 0!==r&&i.push({start:r,end:n-1}),0!==i.length){const e=i[i.length-1],t=this._pendingGroundEffectLayers.every((t=>t>e.end));t||H(\"fill-extrusion with flood lighting and/or ground ambient occlusion should be moved to be on top of all draped layers.\");}this._drapedRenderBatches=i;}_setupRenderCache(e){const t=this.proxySourceCache;if(this._shouldDisableRenderCache()||this.invalidateRenderCache){if(this.invalidateRenderCache=!1,t.renderCache.length>t.renderCachePool.length){const e=Object.values(t.proxyCachedFBO);t.proxyCachedFBO={};for(let i=0;i<e.length;++i){const r=Object.values(e[i]);t.renderCachePool.push(...r);}}return}this._clearRasterLayersFromRenderCache();const i=this.proxyCoords,r=this._tilesDirty;for(let n=i.length-1;n>=0;n--){const o=i[n];if(t.getTileByID(o.key),void 0!==t.proxyCachedFBO[o.key]){const i=e[o.key],n=this.proxyToSource[o.key];let s=0;for(const e in n){const t=n[e],o=i[e];if(!o||o.length!==t.length||t.some(((t,i)=>t!==o[i]||r[e]&&r[e].hasOwnProperty(t.key)))){s=-1;break}++s;}for(const e in t.proxyCachedFBO[o.key])t.renderCache[t.proxyCachedFBO[o.key][e]].dirty=s<0||s!==Object.values(i).length;}}const n=[...this._drapedRenderBatches];n.sort(((e,t)=>t.end-t.start-(e.end-e.start)));for(const e of n)for(const r of i){if(t.proxyCachedFBO[r.key])continue;let i=t.renderCachePool.pop();void 0===i&&t.renderCache.length<50&&(i=t.renderCache.length,t.renderCache.push(this._createFBO())),void 0!==i&&(t.proxyCachedFBO[r.key]={},t.proxyCachedFBO[r.key][e.start]=i,t.renderCache[i].dirty=!0);}this._tilesDirty={};}_setupStencil(e,t,i,r){if(!r||!this._sourceTilesOverlap[r.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const n=this.painter.context,o=n.gl;if(t.length<=1)return void(this._overlapStencilType=!1);let s;if(i.isTileClipped())s=t.length,this._overlapStencilMode.test={func:o.EQUAL,mask:255},this._overlapStencilType=\"Clip\";else {if(!(t[0].overscaledZ>t[t.length-1].overscaledZ))return void(this._overlapStencilType=!1);s=1,this._overlapStencilMode.test={func:o.GREATER,mask:255},this._overlapStencilType=\"Mask\";}this._stencilRef+s>255&&(n.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=s,this._overlapStencilMode.ref=this._stencilRef,i.isTileClipped()&&this._renderTileClippingMasks(t,this._overlapStencilMode.ref);}clipOrMaskOverlapStencilType(){return \"Clip\"===this._overlapStencilType||\"Mask\"===this._overlapStencilType}stencilModeForRTTOverlap(e){return this.renderingToTexture&&this._overlapStencilType?(\"Clip\"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[e.key]),this._overlapStencilMode):Sx.disabled}_renderTileClippingMasks(e,t){const i=this.painter,r=this.painter.context,n=r.gl;i._tileClippingMaskIDs={},r.setColorMode(Cx.disabled),r.setDepthMode(Mx.disabled);const o=i.getOrCreateProgram(\"clippingMask\");for(const r of e){const e=i._tileClippingMaskIDs[r.key]=--t;o.draw(i,n.TRIANGLES,Mx.disabled,new Sx({func:n.ALWAYS,mask:0},e,255,n.KEEP,n.KEEP,n.REPLACE),Cx.disabled,Dx.disabled,sM(r.projMatrix),\"$clipping\",i.tileExtentBuffer,i.quadTriangleIndexBuffer,i.tileExtentSegments);}}pointCoordinate(e){const t=this.painter.transform;if(e.x<0||e.x>t.width||e.y<0||e.y>t.height)return null;const i=[e.x,e.y,1,1];yu.transformMat4(i,i,t.pixelMatrixInverse),yu.scale(i,i,1/i[3]),i[0]/=t.worldSize,i[1]/=t.worldSize;const r=t._camera.position,n=Qd(1,t.center.lat),o=[r[0],r[1],r[2]/n,0],s=Du.subtract([],i.slice(0,3),o);Du.normalize(s,s);const a=this.raycast(o,s,this._exaggeration);return null!==a&&a?(Du.scaleAndAdd(o,o,s,a),o[3]=o[2],o[2]*=n,o):null}drawDepth(){const e=this.painter,t=e.context,i=this.proxySourceCache,r=Math.ceil(e.width),n=Math.ceil(e.height);if(!this._depthFBO||this._depthFBO.width===r&&this._depthFBO.height===n||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const e=t.gl,i=t.createFramebuffer(r,n,!0,\"renderbuffer\");t.activeTexture.set(e.TEXTURE0);const o=new My(t,{width:r,height:n,data:null},e.RGBA);o.bind(e.NEAREST,e.CLAMP_TO_EDGE),i.colorAttachment.set(o.texture);const s=t.createRenderbuffer(t.gl.DEPTH_COMPONENT16,r,n);i.depthAttachment.set(s),this._depthFBO=i,this._depthTexture=o;}t.bindFramebuffer.set(this._depthFBO.framebuffer),t.viewport.set([0,0,r,n]),function(e,t,i,r){if(\"globe\"===e.transform.projection.name)return;const n=e.context,o=n.gl;n.clear({depth:1});const s=e.getOrCreateProgram(\"terrainDepth\"),a=new Mx(o.LESS,Mx.ReadWrite,e.depthRangeFor3D);for(const n of r){const r=i.getTile(n),l=JE(n.projMatrix,0,[0,0,0]);t.setupElevationDraw(r,s),s.draw(e,o.TRIANGLES,a,Sx.disabled,Cx.unblended,Dx.backCCW,l,\"terrain_depth\",t.gridBuffer,t.gridIndexBuffer,t.gridNoSkirtSegments);}}(e,this,i,this.proxyCoords);}_setupProxiedCoordsForOrtho(e,t,i){if(e.getSource()instanceof Jb)return this._setupProxiedCoordsForImageSource(e,t,i);this._findCoveringTileCache[e.id]=this._findCoveringTileCache[e.id]||{};const r=this.proxiedCoords[e.id]=[],n=this.proxyCoords;for(let t=0;t<n.length;t++){const o=n[t],s=this._findTileCoveringTileID(o,e);if(s){const t=this._createProxiedId(o,s,i[o.key]&&i[o.key][e.id]);r.push(t),this.proxyToSource[o.key][e.id]=[t];}}let o=!1;for(let n=0;n<t.length;n++){const s=e.getTile(t[n]);if(!s||!s.hasData())continue;const a=this._findTileCoveringTileID(s.tileID,this.proxySourceCache);if(a&&a.tileID.canonical.z!==s.tileID.canonical.z){const t=this.proxyToSource[a.tileID.key][e.id],n=this._createProxiedId(a.tileID,s,i[a.tileID.key]&&i[a.tileID.key][e.id]);t?t.splice(t.length-1,0,n):this.proxyToSource[a.tileID.key][e.id]=[n],r.push(n),o=!0;}}this._sourceTilesOverlap[e.id]=o;}_setupProxiedCoordsForImageSource(e,t,i){if(!e.getSource().loaded())return;const r=this.proxiedCoords[e.id]=[],n=this.proxyCoords,o=e.getSource(),s=o.tileID;if(!s)return;const a=new y(s.x,s.y)._div(1<<s.z),l=o.coordinates.map(lp.fromLngLat).reduce(((e,t)=>(e.min.x=Math.min(e.min.x,t.x-a.x),e.min.y=Math.min(e.min.y,t.y-a.y),e.max.x=Math.max(e.max.x,t.x-a.x),e.max.y=Math.max(e.max.y,t.y-a.y),e)),{min:new y(Number.MAX_VALUE,Number.MAX_VALUE),max:new y(-Number.MAX_VALUE,-Number.MAX_VALUE)}),c=(e,t)=>{const i=e.wrap+e.canonical.x/(1<<e.canonical.z),r=e.canonical.y/(1<<e.canonical.z),n=cr/(1<<e.canonical.z),o=t.wrap+t.canonical.x/(1<<t.canonical.z),s=t.canonical.y/(1<<t.canonical.z);return i+n<o+l.min.x||i>o+l.max.x||r+n<s+l.min.y||r>s+l.max.y};for(let o=0;o<n.length;o++){const s=n[o];for(let n=0;n<t.length;n++){const o=e.getTile(t[n]);if(!o||!o.hasData())continue;if(c(s,o.tileID))continue;const a=this._createProxiedId(s,o,i[s.key]&&i[s.key][e.id]),l=this.proxyToSource[s.key][e.id];l?l.push(a):this.proxyToSource[s.key][e.id]=[a],r.push(a);}}}_createProxiedId(e,t,i){let r=this.orthoMatrix;if(i){const e=i.find((e=>e.key===t.tileID.key));if(e)return e}if(t.tileID.key!==e.key){const i=e.canonical.z-t.tileID.canonical.z;let n,o,s;r=Au.create();const a=t.tileID.wrap-e.wrap<<e.overscaledZ;i>0?(n=cr>>i,o=n*((t.tileID.canonical.x<<i)-e.canonical.x+a),s=n*((t.tileID.canonical.y<<i)-e.canonical.y)):(n=cr<<-i,o=cr*(t.tileID.canonical.x-(e.canonical.x+a<<-i)),s=cr*(t.tileID.canonical.y-(e.canonical.y<<-i))),Au.ortho(r,0,n,0,n,0,1),Au.translate(r,r,[o,s,0]);}return new hM(t.tileID,e.key,r)}_findTileCoveringTileID(e,t){let i=t.getTile(e);if(i&&i.hasData())return i;const r=this._findCoveringTileCache[t.id],n=r[e.key];if(i=n?t.getTileByID(n):null,i&&i.hasData()||null===n)return i;let o=i?i.tileID:e,s=o.overscaledZ;const a=t.getSource().minzoom,l=[];if(!n){const r=t.getSource().maxzoom;if(e.canonical.z>=r){const i=e.canonical.z-r;t.getSource().reparseOverscaled?(s=Math.max(e.canonical.z+2,t.transform.tileZoom),o=new qu(s,e.wrap,r,e.canonical.x>>i,e.canonical.y>>i)):0!==i&&(s=r,o=new qu(s,e.wrap,r,e.canonical.x>>i,e.canonical.y>>i));}o.key!==e.key&&(l.push(o.key),i=t.getTile(o));}const c=e=>{l.forEach((t=>{r[t]=e;})),l.length=0;};for(s-=1;s>=a&&(!i||!i.hasData());s--){i&&c(i.tileID.key);const e=o.calculateScaledKey(s);if(i=t.getTileByID(e),i&&i.hasData())break;const n=r[e];if(null===n)break;void 0===n?l.push(e):i=t.getTileByID(n);}return c(i?i.tileID.key:null),i&&i.hasData()?i:null}findDEMTileFor(e){return this.enabled?this._findTileCoveringTileID(e,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0;}_clearRenderCacheForTile(e,t){let i=this._tilesDirty[e];i||(i=this._tilesDirty[e]={}),i[t.key]=!0;}}function dM(e,t,i){const r=function(e,t,i){const r=Du.dot(t,e),n=Du.dot(i,[.2126,.7152,.0722]),o=(e,t,i)=>(1-i)*e+i*t,s=o(1-.3*Math.min(n,1),1,Math.min(r+1,1));return o(.92,1,Math.asin(z(t[2],-1,1))/Math.PI+.5)*s}(e,[0,0,1],t),n=[0,0,0];Du.scale(n,i.slice(0,3),r);const o=[0,0,0];Du.scale(o,t.slice(0,3),e[2]);const s=[0,0,0];return Du.add(s,n,o),ae(s)}const pM=[\"fill\",\"fillOutline\",\"fillPattern\",\"line\",\"linePattern\",\"background\",\"backgroundPattern\",\"hillshade\",\"raster\"],fM=[\"stars\",\"fillExtrusion\",\"fillExtrusionGroundEffect\",\"model\",\"symbolSDF\",\"symbolIcon\",\"symbolTextAndIcon\"];class mM{static cacheKey(e,t,i,r){let n=`${t}${r?r.cacheKey:\"\"}`;for(const t of i)e.usedDefines.includes(t)&&(n+=`/${t}`);return n}constructor(e,t,i,r,n,o){const s=e.gl;this.program=s.createProgram(),this.configuration=r,this.name=t,this.fixedDefines=[...o];const a=r?r.getBinderAttributes():[],l=(i.staticAttributes||[]).concat(a);let c=r?r.defines():[];c=c.concat(o.map((e=>`#define ${e}`)));const h=\"#version 300 es\\n\";let u=h+c.concat(\"precision mediump float;\",jE,VE.fragmentSource).join(\"\\n\");for(const e of i.fragmentIncludes)u+=`\\n${NE[e]}`;u+=`\\n${i.fragmentSource}`;let d=h+c.concat(\"precision highp float;\",jE,VE.vertexSource).join(\"\\n\");for(const e of i.vertexIncludes)d+=`\\n${NE[e]}`;d+=`\\n${i.vertexSource}`;const p=s.createShader(s.FRAGMENT_SHADER);if(s.isContextLost())return void(this.failedToCreate=!0);s.shaderSource(p,u),s.compileShader(p),s.attachShader(this.program,p);const f=s.createShader(s.VERTEX_SHADER);if(s.isContextLost())this.failedToCreate=!0;else {s.shaderSource(f,d),s.compileShader(f),s.attachShader(this.program,f),this.attributes={},this.numAttributes=l.length;for(let e=0;e<this.numAttributes;e++)if(l[e]){const t=l[e].startsWith(\"a_\")?l[e]:`a_${l[e]}`;s.bindAttribLocation(this.program,e,t),this.attributes[t]=e;}s.linkProgram(this.program),s.deleteShader(f),s.deleteShader(p),this.fixedUniforms=n(e),this.binderUniforms=r?r.getUniforms(e):[],o.includes(\"TERRAIN\")&&(this.terrainUniforms=(e=>({u_dem:new kl(e),u_dem_prev:new kl(e),u_dem_tl:new Bl(e),u_dem_scale:new Ol(e),u_dem_tl_prev:new Bl(e),u_dem_scale_prev:new Ol(e),u_dem_size:new Ol(e),u_dem_lerp:new Ol(e),u_exaggeration:new Ol(e),u_depth:new kl(e),u_depth_size_inv:new Bl(e),u_meter_to_dem:new Ol(e),u_label_plane_matrix_inv:new jl(e)}))(e)),o.includes(\"GLOBE\")&&(this.globeUniforms=(e=>({u_tile_tl_up:new Fl(e),u_tile_tr_up:new Fl(e),u_tile_br_up:new Fl(e),u_tile_bl_up:new Fl(e),u_tile_up_scale:new Ol(e)}))(e)),o.includes(\"FOG\")&&(this.fogUniforms=(e=>({u_fog_matrix:new jl(e),u_fog_range:new Bl(e),u_fog_color:new Nl(e),u_fog_horizon_blend:new Ol(e),u_fog_vertical_limit:new Bl(e),u_fog_temporal_offset:new Ol(e),u_frustum_tl:new Fl(e),u_frustum_tr:new Fl(e),u_frustum_br:new Fl(e),u_frustum_bl:new Fl(e),u_globe_pos:new Fl(e),u_globe_radius:new Ol(e),u_globe_transition:new Ol(e),u_is_globe:new kl(e),u_viewport:new Bl(e)}))(e)),o.includes(\"RENDER_CUTOFF\")&&(this.cutoffUniforms=(e=>({u_cutoff_params:new Nl(e)}))(e)),o.includes(\"LIGHTING_3D_MODE\")&&(this.lightsUniforms=(e=>({u_lighting_ambient_color:new Fl(e),u_lighting_directional_dir:new Fl(e),u_lighting_directional_color:new Fl(e),u_ground_radiance:new Fl(e)}))(e)),o.includes(\"RENDER_SHADOWS\")&&(this.shadowUniforms=(e=>({u_light_matrix_0:new jl(e),u_light_matrix_1:new jl(e),u_fade_range:new Bl(e),u_shadow_normal_offset:new Fl(e),u_shadow_intensity:new Ol(e),u_shadow_texel_size:new Ol(e),u_shadow_map_resolution:new Ol(e),u_shadow_direction:new Fl(e),u_shadow_bias:new Fl(e),u_shadowmap_0:new kl(e),u_shadowmap_1:new kl(e)}))(e));}}setTerrainUniformValues(e,t){if(!this.terrainUniforms)return;const i=this.terrainUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)i[e]&&i[e].set(this.program,e,t[e]);}}setGlobeUniformValues(e,t){if(!this.globeUniforms)return;const i=this.globeUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)i[e]&&i[e].set(this.program,e,t[e]);}}setFogUniformValues(e,t){if(!this.fogUniforms)return;const i=this.fogUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)i[e].set(this.program,e,t[e]);}}setCutoffUniformValues(e,t){if(!this.cutoffUniforms)return;const i=this.cutoffUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)i[e].set(this.program,e,t[e]);}}setLightsUniformValues(e,t){if(!this.lightsUniforms)return;const i=this.lightsUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)i[e].set(this.program,e,t[e]);}}setShadowUniformValues(e,t){if(this.failedToCreate||!this.shadowUniforms)return;const i=this.shadowUniforms;e.program.set(this.program);for(const e in t)i[e].set(this.program,e,t[e]);}_drawDebugWireframe(e,t,i,r,n,o,s,a,l,c){const h=e.options.wireframe;if(!1===h.terrain&&!1===h.layers2D&&!1===h.layers3D)return;const u=e.context;if(!(()=>!(!h.terrain||\"terrainRaster\"!==this.name&&\"globeRaster\"!==this.name)||!(!h.layers2D||e._terrain&&e._terrain.renderingToTexture||!pM.includes(this.name))||!(!h.layers3D||!fM.includes(this.name)))())return;const d=u.gl,p=e.wireframeDebugCache.getLinesFromTrianglesBuffer(e.frameCounter,n,u);if(!p)return;const f=[...this.fixedDefines];f.push(\"DEBUG_WIREFRAME\");const m=e.getOrCreateProgram(this.name,{config:this.configuration,defines:f});u.program.set(m.program);const _=(e,t,i)=>{if(t[e]&&i[e])for(const r in t[e])i[e][r]&&i[e][r].set(i.program,r,t[e][r].current);};l&&l.setUniforms(m.program,u,m.binderUniforms,s,{zoom:a}),_(\"fixedUniforms\",this,m),_(\"terrainUniforms\",this,m),_(\"globeUniforms\",this,m),_(\"fogUniforms\",this,m),_(\"lightsUniforms\",this,m),_(\"shadowUniforms\",this,m),p.bind(),u.setColorMode(new Cx([d.ONE,d.ONE_MINUS_SRC_ALPHA,d.ZERO,d.ONE],hi.transparent,[!0,!0,!0,!1])),u.setDepthMode(new Mx(t.func===d.LESS?d.LEQUAL:t.func,Mx.ReadOnly,t.range)),u.setStencilMode(Sx.disabled);const g=3*o.primitiveLength*2,y=3*o.primitiveOffset*2*2;c&&c>1?d.drawElementsInstanced(d.LINES,g,d.UNSIGNED_SHORT,y,c):d.drawElements(d.LINES,g,d.UNSIGNED_SHORT,y),n.bind(),u.program.set(this.program),u.setDepthMode(t),u.setStencilMode(i),u.setColorMode(r);}draw(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m){const _=e.context,g=_.gl;if(this.failedToCreate)return;_.program.set(this.program),_.setDepthMode(i),_.setStencilMode(r),_.setColorMode(n),_.setCullFace(o);for(const e of Object.keys(this.fixedUniforms))this.fixedUniforms[e].set(this.program,e,s[e]);p&&p.setUniforms(this.program,_,this.binderUniforms,u,{zoom:d});const y={[g.LINES]:2,[g.TRIANGLES]:3,[g.LINE_STRIP]:1}[t],x=m&&m>0?1:void 0;for(const o of h.get()){const s=o.vaos||(o.vaos={});(s[a]||(s[a]=new $E)).bind(_,this,l,p?p.getPaintVertexBuffers():[],c,o.vertexOffset,f||[],x),m&&m>1?g.drawElementsInstanced(t,o.primitiveLength*y,g.UNSIGNED_SHORT,o.primitiveOffset*y*2,m):g.drawElements(t,o.primitiveLength*y,g.UNSIGNED_SHORT,o.primitiveOffset*y*2),t===g.TRIANGLES&&this._drawDebugWireframe(e,i,r,n,c,o,u,d,p,m);}}}function _M(e,t){const i=Math.pow(2,t.tileID.overscaledZ),r=t.tileSize*Math.pow(2,e.transform.tileZoom)/i,n=r*(t.tileID.canonical.x+t.tileID.wrap*i),o=r*t.tileID.canonical.y;return {u_image:0,u_texsize:t.imageAtlasTexture?t.imageAtlasTexture.size:[0,0],u_tile_units_to_pixels:1/rv(t,1,e.transform.tileZoom),u_pixel_coord_upper:[n>>16,o>>16],u_pixel_coord_lower:[65535&n,65535&o]}}const gM=Au.create(),yM=(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m)=>{const _=t.style.light,g=_.properties.get(\"position\"),y=[g.x,g.y,g.z],x=Eu.create();\"viewport\"===_.properties.get(\"anchor\")&&(Eu.fromRotation(x,-t.transform.angle),Du.transformMat3(y,y,x));const v=_.properties.get(\"color\"),b=t.transform,w={u_matrix:e,u_lightpos:y,u_lightintensity:_.properties.get(\"intensity\"),u_lightcolor:[v.r,v.g,v.b],u_vertical_gradient:+i,u_opacity:r,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:gM,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:n,u_edge_radius:o,u_flood_light_color:u,u_vertical_scale:d,u_flood_light_intensity:p,u_ground_shadow_factor:f,u_emissive_strength:m};return \"globe\"===b.projection.name&&(w.u_tile_id=[s.canonical.x,s.canonical.y,1<<s.canonical.z],w.u_zoom_transition=l,w.u_inv_rot_matrix=h,w.u_merc_center=c,w.u_up_dir=b.projection.upVector(new ju(0,0,0),c[0]*cr,c[1]*cr),w.u_height_lift=a),w},xM=(e,t,i)=>({u_matrix:e,u_edge_radius:t,u_vertical_scale:i}),vM=(e,t,i,r,n,o,s,a,l,c,h,u,d,p)=>{const f=yM(e,t,i,r,n,o,s,l,c,h,u,d,p,1,[0,0,0],0),m={u_height_factor:-Math.pow(2,s.overscaledZ)/a.tileSize/8};return k(f,_M(t,a),m)},bM=(e,t)=>({u_matrix:e,u_emissive_strength:t}),wM=(e,t,i,r)=>k(bM(e,t),_M(i,r)),TM=(e,t,i)=>({u_matrix:e,u_world:i,u_emissive_strength:t}),EM=(e,t,i,r,n)=>k(wM(e,t,i,r),{u_world:n}),MM=(e,t,i,r)=>{const n=cr/i.tileSize;return {u_matrix:e,u_camera_to_center_distance:t.getCameraToCenterDistance(r),u_extrude_scale:[t.pixelsToGLUnits[0]/n,t.pixelsToGLUnits[1]/n]}},AM=(e,t,i=1)=>({u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:i}),SM=Au.create(),IM=(e,t,i,r,n,o,s)=>{const a=e.transform,l=\"globe\"===a.projection.name,c=l?Cd(a.zoom,t.canonical)*a._pixelsPerMercatorPixel:rv(i,1,o),h={u_matrix:t.projMatrix,u_extrude_scale:c,u_intensity:s,u_inv_rot_matrix:SM,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(l){h.u_inv_rot_matrix=r,h.u_merc_center=n,h.u_tile_id=[t.canonical.x,t.canonical.y,1<<t.canonical.z],h.u_zoom_transition=Dd(a.zoom);const e=n[0]*cr,i=n[1]*cr;h.u_up_dir=a.projection.upVector(new ju(0,0,0),e,i);}return h},CM=(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m,_,g,y,x,v,b)=>{return {u_matrix:e,u_normalize_matrix:t,u_globe_matrix:i,u_merc_matrix:r,u_grid_matrix:n,u_tl_parent:o,u_scale_parent:h,u_fade_t:u.mix,u_opacity:u.opacity*d.paint.get(\"raster-opacity\"),u_image0:0,u_image1:1,u_brightness_low:d.paint.get(\"raster-brightness-min\"),u_brightness_high:d.paint.get(\"raster-brightness-max\"),u_saturation_factor:(T=d.paint.get(\"raster-saturation\"),T>0?1-1/(1.001-T):-T),u_contrast_factor:(w=d.paint.get(\"raster-contrast\"),w>0?1/(1-w):1+w),u_spin_weights:zM(d.paint.get(\"raster-hue-rotate\")),u_perspective_transform:p,u_raster_elevation:f,u_tl_br:s,u_zoom_transition:a,u_merc_center:l,u_cutoff_params:c,u_colorization_mix:PM(_,y),u_colorization_offset:DM(g,y),u_color_ramp:m,u_texture_offset:[v/(x+2*v),x/(x+2*v)],u_texture_res:[x+2*v,x+2*v],u_emissive_strength:b};var w,T;};function zM(e){e*=Math.PI/180;const t=Math.sin(e),i=Math.cos(e);return [(2*i+1)/3,(-Math.sqrt(3)*t-i+1)/3,(Math.sqrt(3)*t-i+1)/3]}function PM([e,t,i,r],[n,o]){if(n===o)return [0,0,0,0];const s=259/257/(o-n);return [e*s,t*s,i*s,r*s]}function DM(e,[t,i]){return t===i?0:((e-t)/(i-t)*259-1)/257}const RM=Au.create(),LM=(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m,_,g)=>{const y=n.transform,x={u_is_size_zoom_constant:+(\"constant\"===e||\"source\"===e),u_is_size_feature_constant:+(\"constant\"===e||\"camera\"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:y.getCameraToCenterDistance(m),u_rotate_symbol:+i,u_aspect_ratio:y.width/y.height,u_fade_change:n.options.fadeDuration?n.symbolFadeChange:1,u_matrix:o,u_label_plane_matrix:s,u_coord_matrix:a,u_is_text:+l,u_pitch_with_map:+r,u_texsize:c,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:RM,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:RM,u_up_vector:[0,-1,0],u_icon_transition:g||0,u_icon_saturation:_};return \"globe\"===m.name&&(x.u_tile_id=[h.canonical.x,h.canonical.y,1<<h.canonical.z],x.u_zoom_transition=u,x.u_inv_rot_matrix=p,x.u_merc_center=d,x.u_camera_forward=y._camera.forward(),x.u_ecef_origin=function(e,t){const i=[0,0,0],r=Ad(fd(t.canonical));return Du.transformMat4(i,i,r),Du.transformMat4(i,i,e),i}(y.globeMatrix,h.toUnwrapped()),x.u_tile_matrix=Float32Array.from(y.globeMatrix),x.u_up_vector=f),x},kM=(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m,_)=>k(LM(e,t,i,r,n,o,s,a,l,c,u,d,p,f,m,_,1),{u_gamma_scale:r?n.transform.getCameraToCenterDistance(_)*Math.cos(n.terrain?0:n.transform._pitch):1,u_device_pixel_ratio:dt.devicePixelRatio,u_is_halo:+h,undefined:void 0}),OM=(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m)=>k(kM(e,t,i,r,n,o,s,a,!0,l,!0,h,u,d,p,f,m),{u_texsize_icon:c,u_texture_icon:1}),BM=(e,t,i,r)=>({u_matrix:e,u_emissive_strength:t,u_opacity:i,u_color:r}),FM=(e,t,i,r,n,o,s)=>k(function(e,t,i,r){const n=i.imageManager.getPattern(e.toString(),t),{width:o,height:s}=i.imageManager.getPixelSize(t),a=Math.pow(2,r.tileID.overscaledZ),l=r.tileSize*Math.pow(2,i.transform.tileZoom)/a,c=l*(r.tileID.canonical.x+r.tileID.wrap*a),h=l*r.tileID.canonical.y;return {u_image:0,u_pattern_tl:n.tl,u_pattern_br:n.br,u_texsize:[o,s],u_pattern_size:n.displaySize,u_tile_units_to_pixels:1/rv(r,1,i.transform.tileZoom),u_pixel_coord_upper:[c>>16,h>>16],u_pixel_coord_lower:[65535&c,65535&h]}}(n,o,r,s),{u_matrix:e,u_emissive_strength:t,u_opacity:i}),NM={BaseColor:5,MetallicRoughness:6,Normal:7,Occlusion:8,Emission:9,ShadowMap0:10},UM=(e,t,i,r,n,o,s,a,l,c,h,u,d=[0,0,0])=>{const p=r.style.light,f=p.properties.get(\"position\"),m=[-f.x,-f.y,f.z],_=Eu.create();\"viewport\"===p.properties.get(\"anchor\")&&(Eu.fromRotation(_,-r.transform.angle),Du.transformMat3(m,m,_));const g=\"MASK\"===c.alphaMode,y=p.properties.get(\"color\"),x=u.paint.get(\"model-ambient-occlusion-intensity\"),v=u.paint.get(\"model-color\").constantOr(hi.white),b=u.paint.get(\"model-color-mix-intensity\").constantOr(0);return {u_matrix:e,u_lighting_matrix:t,u_normal_matrix:i,u_lightpos:m,u_lightintensity:p.properties.get(\"intensity\"),u_lightcolor:[y.r,y.g,y.b],u_camera_pos:d,u_opacity:n,u_baseTextureIsAlpha:0,u_alphaMask:+g,u_alphaCutoff:c.alphaCutoff,u_baseColorFactor:[o.r,o.g,o.b,o.a],u_emissiveFactor:[s[0],s[1],s[2],1],u_metallicFactor:a,u_roughnessFactor:l,u_baseColorTexture:NM.BaseColor,u_metallicRoughnessTexture:NM.MetallicRoughness,u_normalTexture:NM.Normal,u_occlusionTexture:NM.Occlusion,u_emissionTexture:NM.Emission,u_color_mix:[v.r,v.g,v.b,b],u_aoIntensity:x,u_emissive_strength:h}},VM=new Float32Array(16),jM=(e,t=VM,i=VM)=>({u_matrix:e,u_instance:t,u_node_matrix:i}),GM={fillExtrusion:e=>({u_matrix:new jl(e),u_lightpos:new Fl(e),u_lightintensity:new Ol(e),u_lightcolor:new Fl(e),u_vertical_gradient:new Ol(e),u_opacity:new Ol(e),u_edge_radius:new Ol(e),u_ao:new Bl(e),u_tile_id:new Fl(e),u_zoom_transition:new Ol(e),u_inv_rot_matrix:new jl(e),u_merc_center:new Bl(e),u_up_dir:new Fl(e),u_height_lift:new Ol(e),u_flood_light_color:new Fl(e),u_vertical_scale:new Ol(e),u_flood_light_intensity:new Ol(e),u_ground_shadow_factor:new Fl(e),u_emissive_strength:new Ol(e)}),fillExtrusionDepth:e=>({u_matrix:new jl(e),u_edge_radius:new Ol(e),u_vertical_scale:new Ol(e)}),fillExtrusionPattern:e=>({u_matrix:new jl(e),u_lightpos:new Fl(e),u_lightintensity:new Ol(e),u_lightcolor:new Fl(e),u_vertical_gradient:new Ol(e),u_height_factor:new Ol(e),u_edge_radius:new Ol(e),u_ao:new Bl(e),u_tile_id:new Fl(e),u_zoom_transition:new Ol(e),u_inv_rot_matrix:new jl(e),u_merc_center:new Bl(e),u_up_dir:new Fl(e),u_height_lift:new Ol(e),u_image:new kl(e),u_texsize:new Bl(e),u_pixel_coord_upper:new Bl(e),u_pixel_coord_lower:new Bl(e),u_tile_units_to_pixels:new Ol(e),u_opacity:new Ol(e)}),fillExtrusionGroundEffect:e=>({u_matrix:new jl(e),u_opacity:new Ol(e),u_ao_pass:new Ol(e),u_meter_to_tile:new Ol(e),u_ao:new Bl(e),u_flood_light_intensity:new Ol(e),u_flood_light_color:new Fl(e),u_attenuation:new Ol(e),u_edge_radius:new Ol(e),u_fb:new kl(e),u_fb_size:new Ol(e)}),fill:e=>({u_matrix:new jl(e),u_emissive_strength:new Ol(e)}),fillPattern:e=>({u_matrix:new jl(e),u_emissive_strength:new Ol(e),u_image:new kl(e),u_texsize:new Bl(e),u_pixel_coord_upper:new Bl(e),u_pixel_coord_lower:new Bl(e),u_tile_units_to_pixels:new Ol(e)}),fillOutline:e=>({u_matrix:new jl(e),u_emissive_strength:new Ol(e),u_world:new Bl(e)}),fillOutlinePattern:e=>({u_matrix:new jl(e),u_emissive_strength:new Ol(e),u_world:new Bl(e),u_image:new kl(e),u_texsize:new Bl(e),u_pixel_coord_upper:new Bl(e),u_pixel_coord_lower:new Bl(e),u_tile_units_to_pixels:new Ol(e)}),circle:e=>({u_camera_to_center_distance:new Ol(e),u_extrude_scale:new $l(e),u_device_pixel_ratio:new Ol(e),u_matrix:new jl(e),u_inv_rot_matrix:new jl(e),u_merc_center:new Bl(e),u_tile_id:new Fl(e),u_zoom_transition:new Ol(e),u_up_dir:new Fl(e),u_emissive_strength:new Ol(e)}),collisionBox:e=>({u_matrix:new jl(e),u_camera_to_center_distance:new Ol(e),u_extrude_scale:new Bl(e)}),collisionCircle:e=>({u_matrix:new jl(e),u_inv_matrix:new jl(e),u_camera_to_center_distance:new Ol(e),u_viewport_size:new Bl(e)}),debug:e=>({u_color:new Ul(e),u_matrix:new jl(e),u_overlay:new kl(e),u_overlay_scale:new Ol(e)}),clippingMask:e=>({u_matrix:new jl(e)}),heatmap:e=>({u_extrude_scale:new Ol(e),u_intensity:new Ol(e),u_matrix:new jl(e),u_inv_rot_matrix:new jl(e),u_merc_center:new Bl(e),u_tile_id:new Fl(e),u_zoom_transition:new Ol(e),u_up_dir:new Fl(e)}),heatmapTexture:e=>({u_image:new kl(e),u_color_ramp:new kl(e),u_opacity:new Ol(e)}),hillshade:e=>({u_matrix:new jl(e),u_image:new kl(e),u_latrange:new Bl(e),u_light:new Bl(e),u_shadow:new Ul(e),u_highlight:new Ul(e),u_emissive_strength:new Ol(e),u_accent:new Ul(e)}),hillshadePrepare:e=>({u_matrix:new jl(e),u_image:new kl(e),u_dimension:new Bl(e),u_zoom:new Ol(e)}),line:e=>({u_matrix:new jl(e),u_pixels_to_tile_units:new $l(e),u_device_pixel_ratio:new Ol(e),u_units_to_pixels:new Bl(e),u_dash_image:new kl(e),u_gradient_image:new kl(e),u_image_height:new Ol(e),u_texsize:new Bl(e),u_tile_units_to_pixels:new Ol(e),u_alpha_discard_threshold:new Ol(e),u_trim_offset:new Bl(e),u_emissive_strength:new Ol(e)}),linePattern:e=>({u_matrix:new jl(e),u_texsize:new Bl(e),u_pixels_to_tile_units:new $l(e),u_device_pixel_ratio:new Ol(e),u_image:new kl(e),u_units_to_pixels:new Bl(e),u_tile_units_to_pixels:new Ol(e),u_alpha_discard_threshold:new Ol(e)}),raster:e=>({u_matrix:new jl(e),u_normalize_matrix:new jl(e),u_globe_matrix:new jl(e),u_merc_matrix:new jl(e),u_grid_matrix:new ql(e),u_tl_parent:new Bl(e),u_scale_parent:new Ol(e),u_fade_t:new Ol(e),u_opacity:new Ol(e),u_image0:new kl(e),u_image1:new kl(e),u_brightness_low:new Ol(e),u_brightness_high:new Ol(e),u_saturation_factor:new Ol(e),u_contrast_factor:new Ol(e),u_spin_weights:new Fl(e),u_perspective_transform:new Bl(e),u_raster_elevation:new Ol(e),u_tl_br:new Nl(e),u_zoom_transition:new Ol(e),u_merc_center:new Bl(e),u_cutoff_params:new Nl(e),u_colorization_mix:new Nl(e),u_colorization_offset:new Ol(e),u_color_ramp:new kl(e),u_texture_offset:new Bl(e),u_texture_res:new Bl(e),u_emissive_strength:new Ol(e)}),symbolIcon:e=>({u_is_size_zoom_constant:new kl(e),u_is_size_feature_constant:new kl(e),u_size_t:new Ol(e),u_size:new Ol(e),u_camera_to_center_distance:new Ol(e),u_rotate_symbol:new kl(e),u_aspect_ratio:new Ol(e),u_fade_change:new Ol(e),u_matrix:new jl(e),u_label_plane_matrix:new jl(e),u_coord_matrix:new jl(e),u_is_text:new kl(e),u_pitch_with_map:new kl(e),u_texsize:new Bl(e),u_tile_id:new Fl(e),u_zoom_transition:new Ol(e),u_inv_rot_matrix:new jl(e),u_merc_center:new Bl(e),u_camera_forward:new Fl(e),u_tile_matrix:new jl(e),u_up_vector:new Fl(e),u_ecef_origin:new Fl(e),u_texture:new kl(e),u_icon_transition:new Ol(e),u_icon_saturation:new Ol(e)}),symbolSDF:e=>({u_is_size_zoom_constant:new kl(e),u_is_size_feature_constant:new kl(e),u_size_t:new Ol(e),u_size:new Ol(e),u_camera_to_center_distance:new Ol(e),u_rotate_symbol:new kl(e),u_aspect_ratio:new Ol(e),u_fade_change:new Ol(e),u_matrix:new jl(e),u_label_plane_matrix:new jl(e),u_coord_matrix:new jl(e),u_is_text:new kl(e),u_pitch_with_map:new kl(e),u_texsize:new Bl(e),u_texture:new kl(e),u_gamma_scale:new Ol(e),u_device_pixel_ratio:new Ol(e),u_tile_id:new Fl(e),u_zoom_transition:new Ol(e),u_inv_rot_matrix:new jl(e),u_merc_center:new Bl(e),u_camera_forward:new Fl(e),u_tile_matrix:new jl(e),u_up_vector:new Fl(e),u_ecef_origin:new Fl(e),u_is_halo:new kl(e)}),symbolTextAndIcon:e=>({u_is_size_zoom_constant:new kl(e),u_is_size_feature_constant:new kl(e),u_size_t:new Ol(e),u_size:new Ol(e),u_camera_to_center_distance:new Ol(e),u_rotate_symbol:new kl(e),u_aspect_ratio:new Ol(e),u_fade_change:new Ol(e),u_matrix:new jl(e),u_label_plane_matrix:new jl(e),u_coord_matrix:new jl(e),u_is_text:new kl(e),u_pitch_with_map:new kl(e),u_texsize:new Bl(e),u_texsize_icon:new Bl(e),u_texture:new kl(e),u_texture_icon:new kl(e),u_gamma_scale:new Ol(e),u_device_pixel_ratio:new Ol(e),u_is_halo:new kl(e)}),background:e=>({u_matrix:new jl(e),u_emissive_strength:new Ol(e),u_opacity:new Ol(e),u_color:new Ul(e)}),backgroundPattern:e=>({u_matrix:new jl(e),u_emissive_strength:new Ol(e),u_opacity:new Ol(e),u_image:new kl(e),u_pattern_tl:new Bl(e),u_pattern_br:new Bl(e),u_texsize:new Bl(e),u_pattern_size:new Bl(e),u_pixel_coord_upper:new Bl(e),u_pixel_coord_lower:new Bl(e),u_tile_units_to_pixels:new Ol(e)}),terrainRaster:KE,terrainDepth:KE,skybox:e=>({u_matrix:new jl(e),u_sun_direction:new Fl(e),u_cubemap:new kl(e),u_opacity:new Ol(e),u_temporal_offset:new Ol(e)}),skyboxGradient:e=>({u_matrix:new jl(e),u_color_ramp:new kl(e),u_center_direction:new Fl(e),u_radius:new Ol(e),u_opacity:new Ol(e),u_temporal_offset:new Ol(e)}),skyboxCapture:e=>({u_matrix_3f:new ql(e),u_sun_direction:new Fl(e),u_sun_intensity:new Ol(e),u_color_tint_r:new Nl(e),u_color_tint_m:new Nl(e),u_luminance:new Ol(e)}),globeRaster:e=>({u_proj_matrix:new jl(e),u_globe_matrix:new jl(e),u_normalize_matrix:new jl(e),u_merc_matrix:new jl(e),u_zoom_transition:new Ol(e),u_merc_center:new Bl(e),u_image0:new kl(e),u_grid_matrix:new ql(e),u_skirt_height:new Ol(e),u_frustum_tl:new Fl(e),u_frustum_tr:new Fl(e),u_frustum_br:new Fl(e),u_frustum_bl:new Fl(e),u_globe_pos:new Fl(e),u_globe_radius:new Ol(e),u_viewport:new Bl(e)}),globeAtmosphere:e=>({u_frustum_tl:new Fl(e),u_frustum_tr:new Fl(e),u_frustum_br:new Fl(e),u_frustum_bl:new Fl(e),u_horizon:new Ol(e),u_transition:new Ol(e),u_fadeout_range:new Ol(e),u_color:new Nl(e),u_high_color:new Nl(e),u_space_color:new Nl(e),u_temporal_offset:new Ol(e),u_horizon_angle:new Ol(e)}),model:e=>({u_matrix:new jl(e),u_lighting_matrix:new jl(e),u_normal_matrix:new jl(e),u_lightpos:new Fl(e),u_lightintensity:new Ol(e),u_lightcolor:new Fl(e),u_camera_pos:new Fl(e),u_opacity:new Ol(e),u_baseColorFactor:new Nl(e),u_emissiveFactor:new Nl(e),u_metallicFactor:new Ol(e),u_roughnessFactor:new Ol(e),u_baseTextureIsAlpha:new kl(e),u_alphaMask:new kl(e),u_alphaCutoff:new Ol(e),u_baseColorTexture:new kl(e),u_metallicRoughnessTexture:new kl(e),u_normalTexture:new kl(e),u_occlusionTexture:new kl(e),u_emissionTexture:new kl(e),u_color_mix:new Nl(e),u_aoIntensity:new Ol(e),u_emissive_strength:new Ol(e)}),modelDepth:e=>({u_matrix:new jl(e),u_instance:new jl(e),u_node_matrix:new jl(e)}),groundShadow:e=>({u_matrix:new jl(e),u_ground_shadow_factor:new Fl(e)}),stars:e=>({u_matrix:new jl(e),u_up:new Fl(e),u_right:new Fl(e),u_intensity_multiplier:new Ol(e)})};let qM;function ZM(e,t,i,r,n,o,s){const a=e.context,l=a.gl,c=e.transform,h=e.getOrCreateProgram(\"collisionBox\"),u=[];let d=0,p=0;for(let a=0;a<r.length;a++){const f=r[a],m=t.getTile(f),_=m.getBucket(i);if(!_)continue;const g=XT(f,_,c);let y=g;0===n[0]&&0===n[1]||(y=e.translatePosMatrix(g,m,n,o));const x=s?_.textCollisionBox:_.iconCollisionBox,v=_.collisionCircleArray;if(v.length>0){const e=Au.create(),t=y;Au.mul(e,_.placementInvProjMatrix,c.glCoordMatrix),Au.mul(e,e,_.placementViewportMatrix),u.push({circleArray:v,circleOffset:p,transform:t,invTransform:e,projection:_.getProjection()}),d+=v.length/4,p=d;}x&&(e.terrain&&e.terrain.setupElevationDraw(m,h),h.draw(e,l.LINES,Mx.disabled,Sx.disabled,e.colorModeForRenderPass(),Dx.disabled,MM(y,c,m,_.getProjection()),i.id,x.layoutVertexBuffer,x.indexBuffer,x.segments,null,c.zoom,null,[x.collisionVertexBuffer,x.collisionVertexBufferExt]));}if(!s||!u.length)return;const f=e.getOrCreateProgram(\"collisionCircle\"),m=new Za;m.resize(4*d),m._trim();let _=0;for(const e of u)for(let t=0;t<e.circleArray.length/4;t++){const i=4*t,r=e.circleArray[i+0],n=e.circleArray[i+1],o=e.circleArray[i+2],s=e.circleArray[i+3];m.emplace(_++,r,n,o,s,0),m.emplace(_++,r,n,o,s,1),m.emplace(_++,r,n,o,s,2),m.emplace(_++,r,n,o,s,3);}(!qM||qM.length<2*d)&&(qM=function(e){const t=2*e,i=new Wa;i.resize(t),i._trim();for(let e=0;e<t;e++){const t=6*e;i.uint16[t+0]=4*e+0,i.uint16[t+1]=4*e+1,i.uint16[t+2]=4*e+2,i.uint16[t+3]=4*e+2,i.uint16[t+4]=4*e+3,i.uint16[t+5]=4*e+0;}return i}(d));const g=a.createIndexBuffer(qM,!0),y=a.createVertexBuffer(m,h_.members,!0);for(const t of u){const r={u_matrix:t.transform,u_inv_matrix:t.invTransform,u_camera_to_center_distance:(x=c).getCameraToCenterDistance(t.projection),u_viewport_size:[x.width,x.height]};f.draw(e,l.TRIANGLES,Mx.disabled,Sx.disabled,e.colorModeForRenderPass(),Dx.disabled,r,i.id,y,g,xl.simpleSegment(0,2*t.circleOffset,t.circleArray.length,t.circleArray.length/2),null,c.zoom);}var x;y.destroy(),g.destroy();}const $M=Au.create();function WM({width:e,height:t,anchor:i,textOffset:r,textScale:n},o){const{horizontalAlign:s,verticalAlign:a}=F_(i),l=-(s-.5)*e,c=-(a-.5)*t,h=xg(i,r);return new y((l/n+h[0])*o,(c/n+h[1])*o)}function HM(e,t,i,r,n,o,s,a,l,c,h){const u=e.text.placedSymbolArray,d=e.text.dynamicLayoutVertexArray,p=e.icon.dynamicLayoutVertexArray,f={},m=e.getProjection(),_=YT(a,m,o),g=o.elevation,y=m.upVectorScale(a.canonical,o.center.lat,o.worldSize).metersToTile;d.clear();for(let p=0;p<u.length;p++){const x=u.get(p),{tileAnchorX:v,tileAnchorY:b,numGlyphs:w}=x,T=x.hidden||!x.crossTileID||e.allowVerticalPlacement&&!x.placedOrientation?null:r[x.crossTileID];if(T){let r=0,u=0,p=0;if(g){const e=g?g.getAtTileOffset(a,v,b):0,[t,i,n]=m.upVector(a.canonical,v,b);r=e*t*y,u=e*i*y,p=e*n*y;}let[E,M,A,S]=cv(x.projectedAnchorX+r,x.projectedAnchorY+u,x.projectedAnchorZ+p,i?_:s);const I=hv(o.getCameraToCenterDistance(m),S);let C=n.evaluateSizeForFeature(e.textSizeData,c,x)*I/u_;i&&(C*=e.tilePixelRatio/l);const z=WM(T,C);i?(({x:E,y:M,z:A}=m.projectTilePoint(v+z.x,b+z.y,a.canonical)),[E,M,A]=cv(E+r,M+u,A+p,s)):(t&&z._rotate(-o.angle),E+=z.x,M+=z.y,A=0);const P=e.allowVerticalPlacement&&x.placedOrientation===A_.vertical?Math.PI/2:0;for(let e=0;e<w;e++)dy(d,E,M,A,P);h&&x.associatedIconIndex>=0&&(f[x.associatedIconIndex]={x:E,y:M,z:A,angle:P});}else xv(w,d);}if(h){p.clear();const t=e.icon.placedSymbolArray;for(let e=0;e<t.length;e++){const i=t.get(e),{numGlyphs:r}=i,n=f[e];if(i.hidden||!n)xv(r,p);else {const{x:e,y:t,z:i,angle:o}=n;for(let n=0;n<r;n++)dy(p,e,t,i,o);}}e.icon.dynamicLayoutVertexBuffer.updateData(p);}e.text.dynamicLayoutVertexBuffer.updateData(d);}function XM(e,t,i){return i.iconsInText&&t?\"symbolTextAndIcon\":e?\"symbolSDF\":\"symbolIcon\"}function YM(e,t,i,r,n,o,s,a,l,c,h,u,d){const p=e.context,f=p.gl,m=e.transform,_=\"map\"===a,g=\"map\"===l,y=_&&\"point\"!==i.layout.get(\"symbol-placement\"),x=_&&!g&&!y,v=void 0!==i.layout.get(\"symbol-sort-key\").constantOr(1);let b=!1;const w=e.depthModeForSublayer(0,Mx.ReadOnly),T=[Kd(m.center.lng),Jd(m.center.lat)],E=i.layout.get(\"text-variable-anchor\"),M=\"globe\"===m.projection.name,A=[],S=[0,-1,0];let I=S;!M&&!m.mercatorFromTransition||_||(I=function(e){const t=e._camera.getWorldToCamera(e.worldSize,1),i=Au.multiply([],t,e.globeMatrix);Au.invert(i,i);const r=[0,0,0],n=[0,1,0,0];return yu.transformMat4(n,n,i),r[0]=n[0],r[1]=n[1],r[2]=n[2],Du.normalize(r,r),r}(m));for(const a of r){const r=t.getTile(a),l=r.getBucket(i);if(!l)continue;if(\"mercator\"===l.projection.name&&M)continue;const u=n?l.text:l.icon;if(!u||l.fullyClipped||!u.segments.get().length)continue;const d=u.programConfigurations.get(i.id),p=n||l.sdfIcons,w=n?l.textSizeData:l.iconSizeData,C=g||0!==m.pitch,z=m_(w,m.zoom);let P,D,R,L,k=[0,0],O=null;if(n)D=r.glyphAtlasTexture?r.glyphAtlasTexture:null,R=f.LINEAR,P=r.glyphAtlasTexture?r.glyphAtlasTexture.size:[0,0],l.iconsInText&&(k=r.imageAtlasTexture?r.imageAtlasTexture.size:[0,0],O=r.imageAtlasTexture?r.imageAtlasTexture:null,L=C||e.options.rotating||e.options.zooming||\"composite\"===w.kind||\"camera\"===w.kind?f.LINEAR:f.NEAREST);else {const t=1!==i.layout.get(\"icon-size\").constantOr(0)||l.iconsNeedLinear;D=r.imageAtlasTexture?r.imageAtlasTexture:null,R=p||e.options.rotating||e.options.zooming||t||C?f.LINEAR:f.NEAREST,P=r.imageAtlasTexture?r.imageAtlasTexture.size:[0,0];}const B=\"globe\"===l.projection.name,F=B?I:S,N=B?Dd(m.zoom):0,U=YT(a,l.getProjection(),m),V=m.calculatePixelsToTileUnitsMatrix(r),j=sv(U,r.tileID.canonical,g,_,m,l.getProjection(),V),G=e.terrain&&g&&y?Au.invert(Au.create(),j):$M,q=lv(U,r.tileID.canonical,g,_,m,l.getProjection(),V),Z=E&&l.hasTextData(),$=l.hasIconTextFit()&&Z&&l.hasIconData();if(y){const t=m.elevation,i=t?t.getAtTileOffsetFunc(a,m.center.lat,m.worldSize,l.getProjection()):null,o=av(U,r.tileID.canonical,g,_,m,l.getProjection(),V);dv(l,U,e,n,o,q,g,c,i,a);}const W=y||n&&E||$,H=e.translatePosMatrix(U,r,o,s),X=W?$M:j,Y=e.translatePosMatrix(q,r,o,s,!0),K=l.getProjection().createInversionMatrix(m,a.canonical),J=i.paint.get(\"icon-image-cross-fade\").constantOr(0),Q=[];e.terrainRenderModeElevated()&&g&&Q.push(\"PITCH_WITH_MAP_TERRAIN\"),B&&(Q.push(\"PROJECTION_GLOBE_VIEW\"),W&&Q.push(\"PROJECTED_POS_ON_VIEWPORT\")),J>0&&Q.push(\"ICON_TRANSITION\"),u.zOffsetVertexBuffer&&Q.push(\"Z_OFFSET\");const ee=p&&0!==i.paint.get(n?\"text-halo-width\":\"icon-halo-width\").constantOr(1);let te;p?te=l.iconsInText?OM(w.kind,z,x,g,e,H,X,Y,P,k,a,N,T,K,F,l.getProjection()):kM(w.kind,z,x,g,e,H,X,Y,n,P,!0,a,N,T,K,F,l.getProjection()):(h<1&&Q.push(\"SATURATION\"),te=LM(w.kind,z,x,g,e,H,X,Y,n,P,a,N,T,K,F,l.getProjection(),h,J));const ie={program:e.getOrCreateProgram(XM(p,n,l),{config:d,defines:Q}),buffers:u,uniformValues:te,atlasTexture:D,atlasTextureIcon:O,atlasInterpolation:R,atlasInterpolationIcon:L,isSDF:p,hasHalo:ee,tile:r,labelPlaneMatrixInv:G};if(v&&l.canOverlap){b=!0;const e=u.segments.get();for(const t of e)A.push({segments:new xl([t]),sortKey:t.sortKey,state:ie});}else A.push({segments:u.segments,sortKey:0,state:ie});}b&&A.sort(((e,t)=>e.sortKey-t.sortKey));for(const t of A){const r=t.state;if(e.terrain&&e.terrain.setupElevationDraw(r.tile,r.program,{useDepthForOcclusion:m.depthOcclusionForSymbolsAndCircles,labelPlaneMatrixInv:r.labelPlaneMatrixInv}),p.activeTexture.set(f.TEXTURE0),r.atlasTexture&&r.atlasTexture.bind(r.atlasInterpolation,f.CLAMP_TO_EDGE),r.atlasTextureIcon&&(p.activeTexture.set(f.TEXTURE1),r.atlasTextureIcon&&r.atlasTextureIcon.bind(r.atlasInterpolationIcon,f.CLAMP_TO_EDGE)),e.uploadCommonLightUniforms(e.context,r.program),r.hasHalo){const n=r.uniformValues;n.u_is_halo=1,KM(r.buffers,t.segments,i,e,r.program,w,u,d,n,2),n.u_is_halo=0;}else {if(r.isSDF){const n=r.uniformValues;r.hasHalo&&(n.u_is_halo=1,KM(r.buffers,t.segments,i,e,r.program,w,u,d,n,1)),n.u_is_halo=0;}KM(r.buffers,t.segments,i,e,r.program,w,u,d,r.uniformValues,1);}}}function KM(e,t,i,r,n,o,s,a,l,c){const h=[e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer,e.iconTransitioningVertexBuffer,e.globeExtVertexBuffer,e.zOffsetVertexBuffer];n.draw(r,r.context.gl.TRIANGLES,o,s,a,Dx.disabled,l,i.id,e.layoutVertexBuffer,e.indexBuffer,t,i.paint,r.transform.zoom,e.programConfigurations.get(i.id),h,c);}function JM(e,t,i,r,n,o,s){const a=e.context.gl,l=i.paint.get(\"fill-pattern\"),c=l&&l.constantOr(1);let h,u,d,p,f;s?(u=c&&!i.getPaintProperty(\"fill-outline-color\")?\"fillOutlinePattern\":\"fillOutline\",h=a.LINES):(u=c?\"fillPattern\":\"fill\",h=a.TRIANGLES);for(const m of r){const r=t.getTile(m);if(c&&!r.patternsLoaded())continue;const _=r.getBucket(i);if(!_)continue;e.prepareDrawTile();const g=_.programConfigurations.get(i.id),y=e.isTileAffectedByFog(m),x=e.getOrCreateProgram(u,{config:g,overrideFog:y});c&&(e.context.activeTexture.set(a.TEXTURE0),r.imageAtlasTexture&&r.imageAtlasTexture.bind(a.LINEAR,a.CLAMP_TO_EDGE),g.updatePaintBuffers());const v=l.constantOr(null);if(v&&r.imageAtlas){const e=r.imageAtlas.patternPositions[v.toString()];e&&g.setConstantPatternPositions(e);}const b=e.translatePosMatrix(m.projMatrix,r,i.paint.get(\"fill-translate\"),i.paint.get(\"fill-translate-anchor\")),w=i.paint.get(\"fill-emissive-strength\");if(s){p=_.indexBuffer2,f=_.segments2;const t=e.terrain&&e.terrain.renderingToTexture?e.terrain.drapeBufferSize:[a.drawingBufferWidth,a.drawingBufferHeight];d=\"fillOutlinePattern\"===u&&c?EM(b,w,e,r,t):TM(b,w,t);}else p=_.indexBuffer,f=_.segments,d=c?wM(b,w,e,r):bM(b,w);e.uploadCommonUniforms(e.context,x,m.toUnwrapped()),x.draw(e,h,n,e.stencilModeForClipping(m),o,Dx.disabled,d,i.id,_.layoutVertexBuffer,p,f,i.paint,e.transform.zoom,g,void 0);}}function QM(e,t,i,r,n,o,s,a){i.resetLayerRenderingStats();const l=e.context,c=l.gl,h=e.transform,u=i.paint.get(\"fill-extrusion-pattern\"),d=u.constantOr(1),p=i.paint.get(\"fill-extrusion-opacity\"),f=e.style.enable3dLights(),m=i.paint.get(f&&!d?\"fill-extrusion-ambient-occlusion-wall-radius\":\"fill-extrusion-ambient-occlusion-radius\"),_=[i.paint.get(\"fill-extrusion-ambient-occlusion-intensity\"),m],g=i.layout.get(\"fill-extrusion-edge-radius\"),y=g>0&&!i.paint.get(\"fill-extrusion-rounded-roof\"),x=y?0:g,v=\"globe\"===h.projection.name?Ib():0,b=\"globe\"===h.projection.name,w=b?Dd(h.zoom):0,T=[Kd(h.center.lng),Jd(h.center.lat)],E=i.paint.get(\"fill-extrusion-flood-light-color\").toArray01().slice(0,3),M=i.paint.get(\"fill-extrusion-flood-light-intensity\"),A=i.paint.get(\"fill-extrusion-vertical-scale\"),S=eM(e,i.paint.get(\"fill-extrusion-cutoff-fade-range\")),I=i.paint.get(\"fill-extrusion-emissive-strength\"),C=[];let z;b&&C.push(\"PROJECTION_GLOBE_VIEW\"),_[0]>0&&C.push(\"FAUX_AO\"),y&&C.push(\"ZERO_ROOF_RADIUS\"),a&&C.push(\"HAS_CENTROID\"),M>0&&C.push(\"FLOOD_LIGHT\"),S.shouldRenderCutoff&&C.push(\"RENDER_CUTOFF\");const P=\"shadow\"===e.renderPass,D=e.shadowRenderer,R=P&&!!D;e.shadowRenderer&&(e.shadowRenderer.useNormalOffset=!0);let L=[0,0,0];if(D){const t=e.style.directionalLight,i=e.style.ambientLight;t&&i&&(L=WA(t,i)),z=C.concat([\"SHADOWS_SINGLE_CASCADE\"]);}const k=R?\"fillExtrusionDepth\":d?\"fillExtrusionPattern\":\"fillExtrusion\",O=i.getLayerRenderingStats();for(const f of r){const r=t.getTile(f),m=r.getBucket(i);if(!m||m.projection.name!==h.projection.name)continue;let g=!1;D&&(g=0===D.getMaxCascadeForTile(f.toUnwrapped()));const y=e.isTileAffectedByFog(f),R=m.programConfigurations.get(i.id),B=e.getOrCreateProgram(k,{config:R,defines:g?z:C,overrideFog:y});if(e.terrain&&e.terrain.setupElevationDraw(r,B,{useMeterToDem:!0}),!m.centroidVertexBuffer){const e=B.attributes.a_centroid_pos;void 0!==e&&c.vertexAttrib2f(e,0,0);}!P&&D&&D.setupShadows(r.tileID.toUnwrapped(),B,\"vector-tile\",r.tileID.overscaledZ),d&&(e.context.activeTexture.set(c.TEXTURE0),r.imageAtlasTexture&&r.imageAtlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE),R.updatePaintBuffers());const F=u.constantOr(null);if(F&&r.imageAtlas){const e=r.imageAtlas.patternPositions[F.toString()];e&&R.setConstantPatternPositions(e);}const N=i.paint.get(\"fill-extrusion-vertical-gradient\");let U;if(P&&D){if(oA(r.tileID,m,e))continue;const t=D.calculateShadowPassMatrixFromTile(r.tileID.toUnwrapped());U=xM(t,x,A);}else {const t=e.translatePosMatrix(f.expandedProjMatrix,r,i.paint.get(\"fill-extrusion-translate\"),i.paint.get(\"fill-extrusion-translate-anchor\")),n=h.projection.createInversionMatrix(h,f.canonical);U=d?vM(t,e,N,p,_,x,f,r,v,w,T,n,E,A):yM(t,e,N,p,_,x,f,v,w,T,n,E,A,M,L,I);}e.uploadCommonUniforms(l,B,f.toUnwrapped(),null,S);let V=m.segments;if(\"mercator\"===h.projection.name&&!P&&(V=m.getVisibleSegments(r.tileID,e.terrain,e.transform.getFrustum(0)),!V.get().length))continue;if(O)if(P)for(const e of V.get())O.numRenderedVerticesInShadowPass+=e.primitiveLength;else for(const e of V.get())O.numRenderedVerticesInTransparentPass+=e.primitiveLength;const j=[];(e.terrain||a)&&j.push(m.centroidVertexBuffer),b&&j.push(m.layoutVertexExtBuffer),B.draw(e,l.gl.TRIANGLES,n,o,s,Dx.backCCW,U,i.id,m.layoutVertexBuffer,m.indexBuffer,V,i.paint,e.transform.zoom,R,j);}e.shadowRenderer&&(e.shadowRenderer.useNormalOffset=!1);}function eA(e,t,i,r,n,o,s,a,l,c,h,u,d,p,f,m,_,g,y){const x=e.context,v=x.gl,b=e.transform,w=e.transform.zoom,T=[],E=eM(e,i.paint.get(\"fill-extrusion-cutoff-fade-range\"));\"clear\"===c?(T.push(\"CLEAR_SUBPASS\"),y&&(T.push(\"CLEAR_FROM_TEXTURE\"),x.activeTexture.set(v.TEXTURE0),y.bind(v.LINEAR,v.CLAMP_TO_EDGE))):\"sdf\"===c&&T.push(\"SDF_SUBPASS\"),_&&T.push(\"HAS_CENTROID\"),E.shouldRenderCutoff&&T.push(\"RENDER_CUTOFF\");const M=i.layout.get(\"fill-extrusion-edge-radius\"),A=(t,r,c,g,v)=>{const b=r.programConfigurations.get(i.id),A=e.isTileAffectedByFog(t),S=e.getOrCreateProgram(\"fillExtrusionGroundEffect\",{config:b,defines:T,overrideFog:A}),I=((e,t,i,r,n,o,s,a,l,c,h)=>({u_matrix:t,u_opacity:i,u_ao_pass:r?1:0,u_meter_to_tile:n,u_ao:o,u_flood_light_intensity:s,u_flood_light_color:a,u_attenuation:l,u_edge_radius:c,u_fb:0,u_fb_size:h}))(0,g,h,l,v,[u,d*v],p,f,m,w>=17?0:M*v,y?y.size[0]:0),C=[];_&&C.push(r.hiddenByLandmarkVertexBuffer),e.uploadCommonUniforms(x,S,t.toUnwrapped(),null,E),S.draw(e,x.gl.TRIANGLES,n,o,s,a,I,i.id,r.vertexBuffer,r.indexBuffer,c,i.paint,w,b,C);};for(const n of r){const r=t.getTile(n),o=r.getBucket(i);if(!o||o.projection.name!==b.projection.name||!o.groundEffect||o.groundEffect&&!o.groundEffect.hasData())continue;const s=o.groundEffect,a=1/o.tileToMeter;{const t=e.translatePosMatrix(n.projMatrix,r,i.paint.get(\"fill-extrusion-translate\"),i.paint.get(\"fill-extrusion-translate-anchor\")),o=s.getDefaultSegment();A(n,s,o,t,a);}if(g)for(let o=0;o<4;o++){const s=$u[o](n),l=t.getTile(s);if(!l)continue;const c=l.getBucket(i);if(!c||c.projection.name!==b.projection.name||!c.groundEffect||c.groundEffect&&!c.groundEffect.hasData())continue;const h=c.groundEffect;let u,d;0===o?(u=[-cr,0,0],d=1):1===o?(u=[cr,0,0],d=0):2===o?(u=[0,-cr,0],d=3):(u=[0,cr,0],d=2);const p=h.regionSegments[d];if(!p)continue;const f=new Float32Array(16);Au.translate(f,n.projMatrix,u),A(n,h,p,e.translatePosMatrix(f,r,i.paint.get(\"fill-extrusion-translate\"),i.paint.get(\"fill-extrusion-translate-anchor\")),a);}}}function tA(e,t,i,r,n,o,s){0===r.centroidVertexArray.length&&r.createCentroidsBuffer();const a=o?o.findDEMTileFor(i):null;if(!(a&&a.dem||s))return;const l=e=>{const i=t.getSource().minzoom,r=e=>{const i=t.getTileByID(e);if(i&&i.hasData())return i.getBucket(n)},o=[0,-1,1];for(const t of o){if(e.overscaledZ+t<i)continue;const n=r(e.calculateScaledKey(e.overscaledZ+t));if(n)return n}},c=[0,0,0],h=(e,t)=>(c[0]=Math.min(e.min.y,t.min.y),c[1]=Math.max(e.max.y,t.max.y),c[2]=cr-t.min.x>e.max.x?t.min.x-cr:e.max.x,c),u=(e,t)=>(c[0]=Math.min(e.min.x,t.min.x),c[1]=Math.max(e.max.x,t.max.x),c[2]=cr-t.min.y>e.max.y?t.min.y-cr:e.max.y,c),d=[(e,t)=>h(e,t),(e,t)=>h(t,e),(e,t)=>u(e,t),(e,t)=>u(t,e)],p=(e,t,r,n,s,l,c)=>{if(!o)return 0;const h=[[l?r:e,l?e:r,0],[l?r:t,l?t:r,0]],u=c<0?cr+c:c,d=[l?u:(e+t)/2,l?(e+t)/2:u,0];return 0===r&&c<0||0!==r&&c>0?o.getForTilePoints(s,[d],!0,n):h.push(d),o.getForTilePoints(i,h,!0,a),Math.max(h[0][2],h[1][2],d[2])/o.exaggeration()};for(let e=0;e<4;e++){const t=r.borderFeatureIndices[e];if(0===t.length)continue;const n=$u[e](i),a=l(n);if(!(a&&a instanceof vb))continue;if(r.borderDoneWithNeighborZ[e]===a.canonical.z)continue;0===a.centroidVertexArray.length&&a.createCentroidsBuffer();const c=o?o.findDEMTileFor(n):null;if(!(c&&c.dem||s))continue;const h=(e<2?1:5)-e,u=a.borderDoneWithNeighborZ[h]!==r.canonical.z,g=a.borderFeatureIndices[h];let x=0;if(r.canonical.z!==a.canonical.z){for(const e of t)r.showCentroid(r.featuresOnBorder[e]);if(u)for(const e of g)a.showCentroid(a.featuresOnBorder[e]);r.borderDoneWithNeighborZ[e]=a.canonical.z,a.borderDoneWithNeighborZ[h]=r.canonical.z;}for(const i of t){const t=r.featuresOnBorder[i],o=r.centroidData[t.centroidDataIndex],l=t.borders[e];let u;for(;x<g.length;){u=a.featuresOnBorder[g[x]];const e=u.borders[h];if(e[1]>l[0]+3||e[0]>l[0]-3)break;a.showCentroid(u),x++;}if(u&&x<g.length){const i=x;let v=0;for(;!(u.borders[h][0]>l[1]-3)&&(v++,++x!==g.length);)u=a.featuresOnBorder[g[x]];if(u=a.featuresOnBorder[g[i]],v>1){const e=u.borders[h];Math.abs(l[0]-e[0])<3&&Math.abs(l[1]-e[1])<3&&(v=1,x=i+1);}else if(0===v){r.showCentroid(t);continue}const b=a.centroidData[u.centroidDataIndex];s&&1===v&&(((m=o).flags|(_=b).flags)&cb?(m.flags|=cb,_.flags|=cb):(m.flags&=2147483647,_.flags&=2147483647));let w=new y(0,0);if(v>1)x=i;else if(c&&c.dem&&!(t.intersectsCount()>1||u.intersectsCount()>1)){const t=d[e](o,b),i=e%2?cr-1:0;f=p(t[0],Math.min(cr-1,t[1]),i,c,n,e<2,t[2]),w=new y(Math.ceil(7*(f+450)),0);}o.centroidXY=b.centroidXY=w,r.writeCentroidToBuffer(o),a.writeCentroidToBuffer(b);}else r.showCentroid(t);}r.borderDoneWithNeighborZ[e]=a.canonical.z,a.borderDoneWithNeighborZ[h]=r.canonical.z;}var f,m,_;(r.needsCentroidUpdate||!r.centroidVertexBuffer&&0!==r.centroidVertexArray.length)&&r.uploadCentroid(e);}const iA=[1,0,0],rA=[0,1,0],nA=[0,0,1];function oA(e,t,i){const r=i.transform,n=i.shadowRenderer;if(!n)return !0;const o=e.toUnwrapped(),s=r.tileSize*n._cascades[i.currentShadowCascade].scale;let a=t.maxHeight;if(r.elevation){const t=r.elevation.getMinMaxForTile(e);t&&(a+=t.max);}const l=[...n.shadowDirection];l[2]=-l[2];const c=n.computeSimplifiedTileShadowVolume(o,a,s,l);if(!c)return !1;const h=[iA,rA,nA,l,[l[0],0,l[2]],[0,l[1],l[2]]],u=\"globe\"===r.projection.name,d=r.scaleZoom(s),p=Qu.fromInvProjectionMatrix(r.invProjMatrix,r.worldSize,d,!u),f=n.getCurrentCascadeFrustum();return 0===p.intersectsPrecise(c.vertices,c.planes,h)||0===f.intersectsPrecise(c.vertices,c.planes,h)}function sA(e){const t=e._nearZ,i=e.projection.farthestPixelDistance(e),r=i-t,n=.2*e.height,o=t+n;return [t,i,(o-n-t)/r,(o-t)/r]}const aA=new hi(1,0,0,1),lA=new hi(0,1,0,1),cA=new hi(0,0,1,1),hA=new hi(1,0,1,1),uA=new hi(0,1,1,1);function dA(e,t,i){const r=e.context,n=e.transform,o=r.gl,s=\"globe\"===n.projection.name,a=s?[\"PROJECTION_GLOBE_VIEW\"]:[];let l=i.projMatrix;if(s&&Dd(n.zoom)>0){const e=Sd(_d(i.canonical,n));l=Au.multiply(new Float32Array(16),n.globeMatrix,e),Au.multiply(l,n.projMatrix,l);}const c=e.getOrCreateProgram(\"debug\",{defines:a}),h=t.getTileByID(i.key);e.terrain&&e.terrain.setupElevationDraw(h,c);const u=Mx.disabled,d=Sx.disabled,p=e.colorModeForRenderPass(),f=\"$debug\";r.activeTexture.set(o.TEXTURE0),e.emptyTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE),s?h._makeGlobeTileDebugBuffers(e.context,n):h._makeDebugTileBoundsBuffers(e.context,n.projection);const m=h._tileDebugBuffer||e.debugBuffer,_=h._tileDebugIndexBuffer||e.debugIndexBuffer,g=h._tileDebugSegments||e.debugSegments;c.draw(e,o.LINE_STRIP,u,d,p,Dx.disabled,AM(l,hi.red),f,m,_,g,null,null,null,[h._globeTileDebugBorderBuffer]);const y=h.latestRawTileData,x=Math.floor((y&&y.byteLength||0)/1024),v=t.getTile(i).tileSize,b=512/Math.min(v,512)*(i.overscaledZ/n.zoom)*.5;let w=i.canonical.toString();i.overscaledZ!==i.canonical.z&&(w+=` => ${i.overscaledZ}`),w+=` ${x}kb`,function(e,t){e.initDebugOverlayCanvas();const i=e.debugOverlayCanvas,r=e.context.gl,n=e.debugOverlayCanvas.getContext(\"2d\");n.clearRect(0,0,i.width,i.height),n.shadowColor=\"white\",n.shadowBlur=2,n.lineWidth=1.5,n.strokeStyle=\"white\",n.textBaseline=\"top\",n.font=\"bold 36px Open Sans, sans-serif\",n.fillText(t,5,5),n.strokeText(t,5,5),e.debugOverlayTexture.update(i),e.debugOverlayTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE);}(e,w);const T=h._tileDebugTextBuffer||e.debugBuffer,E=h._tileDebugTextIndexBuffer||e.quadTriangleIndexBuffer,M=h._tileDebugTextSegments||e.debugSegments;c.draw(e,o.TRIANGLES,u,d,Cx.alphaBlended,Dx.disabled,AM(l,hi.transparent,b),f,T,E,M,null,null,null,[h._globeTileDebugTextBuffer]);}function pA(e,t,i,r){mA(e,0,t+i/2,e.transform.width,i,r);}function fA(e,t,i,r){mA(e,t-i/2,0,i,e.transform.height,r);}function mA(e,t,i,r,n,o){const s=e.context,a=s.gl;a.enable(a.SCISSOR_TEST),a.scissor(t*dt.devicePixelRatio,i*dt.devicePixelRatio,r*dt.devicePixelRatio,n*dt.devicePixelRatio),s.clear({color:o}),a.disable(a.SCISSOR_TEST);}const _A=Ia([{name:\"a_pos_3f\",components:3,type:\"Float32\"}]),{members:gA}=_A;function yA(e,t,i,r){e.emplaceBack(t,i,r);}class xA{constructor(e){this.vertexArray=new tl,this.indices=new Wa,yA(this.vertexArray,-1,-1,1),yA(this.vertexArray,1,-1,1),yA(this.vertexArray,-1,1,1),yA(this.vertexArray,1,1,1),yA(this.vertexArray,-1,-1,-1),yA(this.vertexArray,1,-1,-1),yA(this.vertexArray,-1,1,-1),yA(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=e.createVertexBuffer(this.vertexArray,gA),this.indexBuffer=e.createIndexBuffer(this.indices),this.segment=xl.simpleSegment(0,0,36,12);}}function vA(e,t,i,r,n,o){const s=e.context.gl,a=t.paint.get(\"sky-atmosphere-color\"),l=t.paint.get(\"sky-atmosphere-halo-color\"),c=t.paint.get(\"sky-atmosphere-sun-intensity\"),h=((e,t,i,r,n)=>({u_matrix_3f:e,u_sun_direction:t,u_sun_intensity:i,u_color_tint_r:[r.r,r.g,r.b,r.a],u_color_tint_m:[n.r,n.g,n.b,n.a],u_luminance:5e-5}))(Eu.fromMat4(Eu.create(),r),n,c,a,l);s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_CUBE_MAP_POSITIVE_X+o,t.skyboxTexture,0),i.draw(e,s.TRIANGLES,Mx.disabled,Sx.disabled,Cx.unblended,Dx.frontCW,h,\"skyboxCapture\",t.skyboxGeometry.vertexBuffer,t.skyboxGeometry.indexBuffer,t.skyboxGeometry.segment);}const bA=Ia([{type:\"Float32\",name:\"a_pos\",components:3},{type:\"Float32\",name:\"a_uv\",components:2}]);class wA{constructor(e){const t=new Ka;t.emplaceBack(-1,1,1,0,0),t.emplaceBack(1,1,1,1,0),t.emplaceBack(1,-1,1,1,1),t.emplaceBack(-1,-1,1,0,1);const i=new Wa;i.emplaceBack(0,1,2),i.emplaceBack(2,3,0),this.vertexBuffer=e.createVertexBuffer(t,bA.members),this.indexBuffer=e.createIndexBuffer(i),this.segments=xl.simpleSegment(0,0,4,2);}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy();}}const TA=Ia([{type:\"Float32\",name:\"a_pos_3f\",components:3},{type:\"Float32\",name:\"a_uv\",components:2},{type:\"Float32\",name:\"a_size_scale\",components:1},{type:\"Float32\",name:\"a_fade_opacity\",components:1}]);class EA{constructor(){this.colorModeAlphaBlendedWriteRGB=new Cx([1,Ix,1,Ix],hi.transparent,[!0,!0,!0,!1]),this.colorModeWriteAlpha=new Cx([1,0,1,0],hi.transparent,[!1,!1,!1,!0]);}update(e){const t=e.context;if(!this.atmosphereBuffer){this.atmosphereBuffer=new wA(t);const e=100,i=200,r=function(e){const t=Xn(30),i=[];for(let e=0;e<16e3;++e){const e=2*Math.PI*t(),r=Math.acos(1-2*t())-.5*Math.PI;i.push(Du.fromValues(Math.cos(r)*Math.cos(e),Math.cos(r)*Math.sin(e),Math.sin(r)));}return i}(),n=Xn(300),o=new Ja,s=new Wa;let a=0;for(let t=0;t<r.length;++t){const l=Du.scale([],r[t],200),c=Math.max(0,1+.01*e*(1*n()-.5)),h=Math.max(0,1+.01*i*(1*n()-.5));o.emplaceBack(l[0],l[1],l[2],-1,-1,c,h),o.emplaceBack(l[0],l[1],l[2],1,-1,c,h),o.emplaceBack(l[0],l[1],l[2],1,1,c,h),o.emplaceBack(l[0],l[1],l[2],-1,1,c,h),s.emplaceBack(a+0,a+1,a+2),s.emplaceBack(a+0,a+2,a+3),a+=4;}this.starsVx=t.createVertexBuffer(o,TA.members),this.starsIdx=t.createIndexBuffer(s),this.starsSegments=xl.simpleSegment(0,0,o.length,s.length);}}destroy(){this.atmosphereBuffer&&this.atmosphereBuffer.destroy(),this.starsVx&&this.starsVx.destroy(),this.starsIdx&&this.starsIdx.destroy();}drawAtmosphereGlow(e,t){const i=e.context,r=i.gl,n=e.transform,o=new Mx(r.LEQUAL,Mx.ReadOnly,[0,1]),s=Dd(n.zoom),a=t.properties.get(\"color\").toArray01(),l=t.properties.get(\"high-color\").toArray01(),c=t.properties.get(\"space-color\").toArray01PremultipliedAlpha(),h=5e-4,u=z((t.properties.get(\"horizon-blend\")-0)/1*.2495+h,5e-4,.25),d=Ld(e,i,n)&&u===h?n.worldSize/(2*Math.PI*1.025)-1:n.globeRadius,p=e.frameCounter/1e3%1,f=Du.length(n.globeCenterInViewSpace),m=Math.sqrt(Math.pow(f,2)-Math.pow(d,2)),_=Math.acos(m/f),g=t=>{const h=\"globe\"===n.projection.name?[\"PROJECTION_GLOBE_VIEW\",\"FOG\"]:[\"FOG\"];t&&h.push(\"ALPHA_PASS\");const d=e.getOrCreateProgram(\"globeAtmosphere\",{defines:h}),f=((e,t,i,r,n,o,s,a,l,c,h,u)=>({u_frustum_tl:e,u_frustum_tr:t,u_frustum_br:i,u_frustum_bl:r,u_horizon:n,u_transition:o,u_fadeout_range:s,u_color:a,u_high_color:l,u_space_color:c,u_temporal_offset:h,u_horizon_angle:u}))(n.frustumCorners.TL,n.frustumCorners.TR,n.frustumCorners.BR,n.frustumCorners.BL,n.frustumCorners.horizon,s,u,a,l,c,p,_);e.uploadCommonUniforms(i,d);const m=this.atmosphereBuffer;m&&d.draw(e,r.TRIANGLES,o,Sx.disabled,t?this.colorModeWriteAlpha:this.colorModeAlphaBlendedWriteRGB,Dx.backCW,f,t?\"atmosphere_glow_alpha\":\"atmosphere_glow\",m.vertexBuffer,m.indexBuffer,m.segments);};g(!1),g(!0);}drawStars(e,t){const i=z(t.properties.get(\"star-intensity\"),0,1);if(0===i)return;const r=e.context,n=r.gl,o=e.transform,s=e.getOrCreateProgram(\"stars\"),a=Iu.identity([]);Iu.rotateX(a,a,-o._pitch),Iu.rotateZ(a,a,-o.angle),Iu.rotateX(a,a,w(o._center.lat)),Iu.rotateY(a,a,-w(o._center.lng));const l=Au.fromQuat(new Float32Array(16),a),c=Au.multiply([],o.starsProjMatrix,l),h=Eu.fromMat4([],l),u=Eu.invert([],h),d=[0,1,0];Du.transformMat3(d,d,u),Du.scale(d,d,.15);const p=[1,0,0];Du.transformMat3(p,p,u),Du.scale(p,p,.15);const f=((e,t,i,r)=>({u_matrix:Float32Array.from(e),u_up:t,u_right:i,u_intensity_multiplier:r}))(c,d,p,i);e.uploadCommonUniforms(r,s),this.starsVx&&this.starsIdx&&s.draw(e,n.TRIANGLES,Mx.disabled,Sx.disabled,this.colorModeAlphaBlendedWriteRGB,Dx.disabled,f,\"atmosphere_stars\",this.starsVx,this.starsIdx,this.starsSegments);}}function MA(e,t){const i=[...e],r=t.cameraWorldSizeForFog/t.worldSize,n=Au.identity([]);return Au.scale(n,n,[r,r,1]),Au.multiply(i,n,i),Au.multiply(i,t.worldToFogMatrix,i),i}function AA(e,t,i,r){const n=i.material,o=r.context,{baseColorTexture:s,metallicRoughnessTexture:a}=n.pbrMetallicRoughness,{normalTexture:l,occlusionTexture:c,emissionTexture:h}=n;function u(t,i,r){if(t&&(e.push(i),o.activeTexture.set(o.gl.TEXTURE0+r),t.gfxTexture)){const{minFilter:e,magFilter:i,wrapS:r,wrapT:n}=t.sampler;t.gfxTexture.bindExtraParam(e,i,r,n);}}u(s,\"HAS_TEXTURE_u_baseColorTexture\",NM.BaseColor),u(a,\"HAS_TEXTURE_u_metallicRoughnessTexture\",NM.MetallicRoughness),u(l,\"HAS_TEXTURE_u_normalTexture\",NM.Normal),u(c,\"HAS_TEXTURE_u_occlusionTexture\",NM.Occlusion),u(h,\"HAS_TEXTURE_u_emissionTexture\",NM.Emission),i.texcoordBuffer&&(e.push(\"HAS_ATTRIBUTE_a_uv_2f\"),t.push(i.texcoordBuffer)),i.colorBuffer&&(e.push(12===i.colorBuffer.itemSize?\"HAS_ATTRIBUTE_a_color_3f\":\"HAS_ATTRIBUTE_a_color_4f\"),t.push(i.colorBuffer)),i.normalBuffer&&(e.push(\"HAS_ATTRIBUTE_a_normal_3f\"),t.push(i.normalBuffer)),i.pbrBuffer&&(e.push(\"HAS_ATTRIBUTE_a_pbr\"),e.push(\"HAS_ATTRIBUTE_a_heightBasedEmissiveStrength\"),t.push(i.pbrBuffer)),\"OPAQUE\"!==n.alphaMode&&\"MASK\"!==n.alphaMode||e.push(\"UNPREMULT_TEXTURE_IN_SHADER\"),n.defined||e.push(\"DIFFUSE_SHADED\"),e.push(\"USE_STANDARD_DERIVATIVES\");}function SA(e,t,i,r,n,o){const s=i.paint.get(\"model-opacity\"),a=t.context,l=new Mx(t.context.gl.LEQUAL,Mx.ReadWrite,t.depthRangeFor3D),c=t.transform,h=e.mesh,u=h.material,d=u.pbrMetallicRoughness,p=t.style.fog;let f;f=\"pixels\"===t.transform.projection.zAxisUnit?[...e.nodeModelMatrix]:Au.multiply([],r.zScaleMatrix,e.nodeModelMatrix),Au.multiply(f,r.negCameraPosMatrix,f);const m=Au.invert([],f);Au.transpose(m,m);const _=i.paint.get(\"model-emissive-strength\").constantOr(0),g=UM(new Float32Array(e.worldViewProjection),new Float32Array(f),new Float32Array(m),t,s,d.baseColorFactor,u.emissiveFactor,d.metallicFactor,d.roughnessFactor,u,_,i),y={defines:[]},x=[];AA(y.defines,x,h,t);const v=t.shadowRenderer;v&&(v.useNormalOffset=!1);let b=null;if(p){const i=MA(e.nodeModelMatrix,t.transform);if(b=new Float32Array(i),\"globe\"!==c.projection.name){const e=h.aabb.min,t=h.aabb.max,[r,n]=p.getOpacityForBounds(i,e[0],e[1],t[0],t[1]);y.overrideFog=r>=fw||n>=fw;}}const w=eM(t,i.paint.get(\"model-cutoff-fade-range\"));w.shouldRenderCutoff&&y.defines.push(\"RENDER_CUTOFF\");const T=t.getOrCreateProgram(\"model\",y);t.uploadCommonUniforms(a,T,null,b,w),\"shadow\"!==t.renderPass&&v&&v.setupShadowsFromMatrix(e.nodeModelMatrix,T),T.draw(t,a.gl.TRIANGLES,l,n,o,h.material.doubleSided?Dx.disabled:Dx.backCCW,g,i.id,h.vertexBuffer,h.indexBuffer,h.segments,i.paint,t.transform.zoom,void 0,x);}function IA(e,t,i,r,n,o,s){let a;a=\"globe\"===e.projection.name?Av(i,e):[...i],Au.multiply(a,a,t.matrix);const l=Au.multiply([],r,a);if(t.meshes)for(const e of t.meshes){if(\"BLEND\"!==e.material.alphaMode){s.push({mesh:e,depth:0,modelIndex:n,worldViewProjection:l,nodeModelMatrix:a});continue}const t=Du.transformMat4([],e.centroid,l);t[2]>0&&o.push({mesh:e,depth:t[2],modelIndex:n,worldViewProjection:l,nodeModelMatrix:a});}if(t.children)for(const a of t.children)IA(e,a,i,r,n,o,s);}function CA(e,t,i,r){const n=i.shadowRenderer;if(!n)return;const o=n.getShadowPassDepthMode(),s=n.getShadowPassColorMode(),a=n.calculateShadowPassMatrixFromMatrix(t),l=jM(a);i.getOrCreateProgram(\"modelDepth\",{defines:[\"DEPTH_TEXTURE\"]}).draw(i,i.context.gl.TRIANGLES,o,Sx.disabled,s,Dx.backCCW,l,r.id,e.vertexBuffer,e.indexBuffer,e.segments,r.paint,i.transform.zoom,void 0,void 0);}function zA(e,t,i){const r=t.updateZoomBasedPaintProperties(),n=function(e,t,i){let r,n,o,s=e.terrain?e.terrain.exaggeration():0;if(e.terrain&&s>0){const t=e.terrain,n=t.findDEMTileFor(i);n&&n.dem?r=Jm.create(t,i,n):s=0;}if(0===s&&(t.terrainElevationMin=0,t.terrainElevationMax=0),s===t.validForExaggeration&&(0===s||r&&r._demTile&&r._demTile.tileID===t.validForDEMTile.id&&r._dem._timestamp===t.validForDEMTile.timestamp))return !1;for(const e in t.instancesPerModel){const i=t.instancesPerModel[e];for(let e=0;e<i.instancedDataArray.length;++e){const a=(r?s*r.getElevationAt(0|i.instancedDataArray.float32[16*e],0|i.instancedDataArray.float32[16*e+1],!0,!0):0)+i.instancesEvaluatedElevation[e];i.instancedDataArray.float32[16*e+6]=a,n=n?Math.min(t.terrainElevationMin,a):a,o=o?Math.max(t.terrainElevationMax,a):a;}}return t.terrainElevationMin=n||0,t.terrainElevationMax=o||0,t.validForExaggeration=s,t.validForDEMTile=r&&r._demTile?{id:r._demTile.tileID,timestamp:r._dem._timestamp}:{id:void 0,timestamp:0},!0}(e,t,i);(r||n)&&(t.uploaded=!1,t.upload(e.context));}const PA={shadowUniformsInitialized:!1,useSingleShadowCascade:!1,tileMatrix:new Float64Array(16),shadowTileMatrix:new Float32Array(16),aabb:new ed([0,0,0],[cr,cr,0])};function DA(e,t){const i=1<<e.canonical.z,r=t.getFreeCameraOptions().position,n=t.elevation,o=e.canonical.x/i,s=(e.canonical.x+1)/i,a=e.canonical.y/i,l=(e.canonical.y+1)/i;let c=t._centerAltitude;if(n){const t=n.getMinMaxForTile(e);t&&t.max>c&&(c=t.max);}const h=z(r.x,o,s)-r.x,u=z(r.y,a,l)-r.y,d=Qd(c,t.center.lat)-r.z;return t._zoomFromMercatorZ(Math.sqrt(h*h+u*u+d*d))}function RA(e,t,i,r,n,o,s){const a=e.context,l=\"shadow\"===e.renderPass,c=e.shadowRenderer,h=l&&c?c.getShadowPassDepthMode():new Mx(a.gl.LEQUAL,Mx.ReadWrite,e.depthRangeFor3D),u=e.isTileAffectedByFog(o);if(i.meshes)for(const d of i.meshes){const p=[\"MODEL_POSITION_ON_GPU\"],f=[];let m,_,g;r.instancedDataArray.length>20&&p.push(\"INSTANCED_ARRAYS\");const y=eM(e,t.paint.get(\"model-cutoff-fade-range\"));if(y.shouldRenderCutoff&&p.push(\"RENDER_CUTOFF\"),l&&c)m=e.getOrCreateProgram(\"modelDepth\",{defines:p}),_=jM(s.shadowTileMatrix,s.shadowTileMatrix,Float32Array.from(i.matrix)),g=c.getShadowPassColorMode();else {AA(p,f,d,e),m=e.getOrCreateProgram(\"model\",{defines:p,overrideFog:u});const r=d.material,l=r.pbrMetallicRoughness,h=t.paint.get(\"model-opacity\"),x=t.paint.get(\"model-emissive-strength\").constantOr(0);_=UM(o.expandedProjMatrix,Float32Array.from(i.matrix),new Float32Array(16),e,h,l.baseColorFactor,r.emissiveFactor,l.metallicFactor,l.roughnessFactor,r,x,t,n),c&&(s.shadowUniformsInitialized?m.setShadowUniformValues(a,c.getShadowUniformValues()):(c.setupShadows(o.toUnwrapped(),m,\"model-tile\",o.overscaledZ),s.shadowUniformsInitialized=!0)),g=y.shouldRenderCutoff||h<1||\"OPAQUE\"!==r.alphaMode?Cx.alphaBlended:Cx.unblended;}e.uploadCommonUniforms(a,m,o.toUnwrapped(),null,y);const x=d.material.doubleSided?Dx.disabled:Dx.backCCW;if(r.instancedDataArray.length>20)f.push(r.instancedDataBuffer),m.draw(e,a.gl.TRIANGLES,h,Sx.disabled,g,x,_,t.id,d.vertexBuffer,d.indexBuffer,d.segments,t.paint,e.transform.zoom,void 0,f,r.instancedDataArray.length);else {const i=l?\"u_instance\":\"u_normal_matrix\";for(let n=0;n<r.instancedDataArray.length;++n)_[i]=new Float32Array(r.instancedDataArray.arrayBuffer,64*n,16),m.draw(e,a.gl.TRIANGLES,h,Sx.disabled,g,x,_,t.id,d.vertexBuffer,d.indexBuffer,d.segments,t.paint,e.transform.zoom,void 0,f);}}if(i.children)for(const a of i.children)RA(e,t,a,r,n,o,s);}const LA=[1,-1,1];function kA(e,t,i,r){if(!i.modelManager)return !0;const n=i.modelManager;if(!i.shadowRenderer)return !0;const o=i.shadowRenderer,s=t.aabb;let a=!0,l=e.maxHeight;if(0===l){let t=0;for(const i in e.instancesPerModel){const e=n.getModel(i,r);e?t=Math.max(t,Math.max(Math.max(e.aabb.max[0],e.aabb.max[1]),e.aabb.max[2])):a=!1;}l=e.maxScale*t*1.41+e.maxVerticalOffset,a&&(e.maxHeight=l);}s.max[2]=l,s.min[2]+=e.terrainElevationMin,s.max[2]+=e.terrainElevationMax,Du.transformMat4(s.min,s.min,t.tileMatrix),Du.transformMat4(s.max,s.max,t.tileMatrix);const c=s.intersects(o.getCurrentCascadeFrustum());return 0===i.currentShadowCascade&&(e.isInsideFirstShadowMapFrustum=2===c),0===c}class OA{}class BA{constructor(){this._storage=new Map;}getLinesFromTrianglesBuffer(e,t,i){{const i=this._storage.get(t.id);if(i)return i.lastUsedFrameIdx=e,i.buf}const r=i.gl,n=r.getBufferParameter(r.ELEMENT_ARRAY_BUFFER,r.BUFFER_SIZE),o=new ArrayBuffer(n),s=new Int16Array(o);r.getBufferSubData(r.ELEMENT_ARRAY_BUFFER,0,new Int16Array(o));const a=new ja;for(let e=0;e<n/2;e+=3){const t=s[e],i=s[e+1],r=s[e+2];a.emplaceBack(t,i),a.emplaceBack(i,r),a.emplaceBack(r,t);}const l=i.bindVertexArrayOES.current,c=new OA;return c.buf=new Fy(i,a),c.lastUsedFrameIdx=e,this._storage.set(t.id,c),i.bindVertexArrayOES.set(l),c.buf}update(e){for(const[t,i]of this._storage)e-i.lastUsedFrameIdx>30&&(i.buf.destroy(),this._storage.delete(t));}destroy(){for(const[e,t]of this._storage)t.buf.destroy(),this._storage.delete(e);}}const FA={symbol:function(e,t,i,r,n){if(\"translucent\"!==e.renderPass)return;const o=Sx.disabled,s=e.colorModeForRenderPass();i.layout.get(\"text-variable-anchor\")&&function(e,t,i,r,n,o,s){const a=t.transform,l=\"map\"===n,c=\"map\"===o;for(const t of e){const e=r.getTile(t),n=e.getBucket(i);if(!n||!n.text||!n.text.segments.get().length)continue;const o=m_(n.textSizeData,a.zoom),h=YT(t,n.getProjection(),a),u=a.calculatePixelsToTileUnitsMatrix(e),d=sv(h,e.tileID.canonical,c,l,a,n.getProjection(),u),p=n.hasIconTextFit()&&n.hasIconData();if(o){const i=Math.pow(2,a.zoom-e.tileID.overscaledZ);HM(n,l,c,s,__,a,d,t,i,o,p);}}}(r,e,i,t,i.layout.get(\"text-rotation-alignment\"),i.layout.get(\"text-pitch-alignment\"),n),0!==i.paint.get(\"icon-opacity\").constantOr(1)&&YM(e,t,i,r,!1,i.paint.get(\"icon-translate\"),i.paint.get(\"icon-translate-anchor\"),i.layout.get(\"icon-rotation-alignment\"),i.layout.get(\"icon-pitch-alignment\"),i.layout.get(\"icon-keep-upright\"),i.paint.get(\"icon-color-saturation\"),o,s),0!==i.paint.get(\"text-opacity\").constantOr(1)&&YM(e,t,i,r,!0,i.paint.get(\"text-translate\"),i.paint.get(\"text-translate-anchor\"),i.layout.get(\"text-rotation-alignment\"),i.layout.get(\"text-pitch-alignment\"),i.layout.get(\"text-keep-upright\"),i.paint.get(\"icon-color-saturation\"),o,s),t.map.showCollisionBoxes&&(ZM(e,t,i,r,i.paint.get(\"text-translate\"),i.paint.get(\"text-translate-anchor\"),!0),ZM(e,t,i,r,i.paint.get(\"icon-translate\"),i.paint.get(\"icon-translate-anchor\"),!1));},circle:function(e,t,i,r){if(\"translucent\"!==e.renderPass)return;const n=i.paint.get(\"circle-opacity\"),o=i.paint.get(\"circle-stroke-width\"),s=i.paint.get(\"circle-stroke-opacity\"),a=void 0!==i.layout.get(\"circle-sort-key\").constantOr(1),l=i.paint.get(\"circle-emissive-strength\");if(0===n.constantOr(1)&&(0===o.constantOr(1)||0===s.constantOr(1)))return;const c=e.context,h=c.gl,u=e.transform,d=e.depthModeForSublayer(0,Mx.ReadOnly),p=Sx.disabled,f=e.colorModeForDrapableLayerRenderPass(l),m=\"globe\"===u.projection.name,_=[Kd(u.center.lng),Jd(u.center.lat)],g=[];for(let n=0;n<r.length;n++){const o=r[n],s=t.getTile(o),l=s.getBucket(i);if(!l||l.projection.name!==u.projection.name)continue;const c=l.programConfigurations.get(i.id),h=Gp(i),d=e.isTileAffectedByFog(o);m&&h.push(\"PROJECTION_GLOBE_VIEW\");const p=e.getOrCreateProgram(\"circle\",{config:c,defines:h,overrideFog:d}),f=l.layoutVertexBuffer,y=l.globeExtVertexBuffer,x=l.indexBuffer,v=u.projection.createInversionMatrix(u,o.canonical),b={programConfiguration:c,program:p,layoutVertexBuffer:f,globeExtVertexBuffer:y,indexBuffer:x,uniformValues:jp(e,o,s,v,_,i),tile:s};if(a){const e=l.segments.get();for(const t of e)g.push({segments:new xl([t]),sortKey:t.sortKey,state:b});}else g.push({segments:l.segments,sortKey:0,state:b});}a&&g.sort(((e,t)=>e.sortKey-t.sortKey));const y={useDepthForOcclusion:u.depthOcclusionForSymbolsAndCircles};for(const t of g){const{programConfiguration:r,program:n,layoutVertexBuffer:o,globeExtVertexBuffer:s,indexBuffer:a,uniformValues:l,tile:m}=t.state,_=t.segments;e.terrain&&e.terrain.setupElevationDraw(m,n,y),e.uploadCommonUniforms(c,n,m.tileID.toUnwrapped()),n.draw(e,h.TRIANGLES,d,p,f,Dx.disabled,l,i.id,o,a,_,i.paint,u.zoom,r,[s]);}},heatmap:function(e,t,i,r){if(0!==i.paint.get(\"heatmap-opacity\"))if(\"offscreen\"===e.renderPass){const n=e.context,o=n.gl,s=Sx.disabled,a=new Cx([o.ONE,o.ONE,o.ONE,o.ONE],hi.transparent,[!0,!0,!0,!0]);!function(e,t,i,r){const n=e.gl,o=t.width*r,s=t.height*r;e.activeTexture.set(n.TEXTURE1),e.viewport.set([0,0,o,s]);let a=i.heatmapFbo;if(!a||a&&(a.width!==o||a.height!==s)){a&&a.destroy();const t=n.createTexture();n.bindTexture(n.TEXTURE_2D,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),a=i.heatmapFbo=e.createFramebuffer(o,s,!0,null),function(e,t,i,r,n,o){const s=e.gl;s.texImage2D(s.TEXTURE_2D,0,e.extRenderToTextureHalfFloat?s.RGBA16F:s.RGBA,n,o,0,s.RGBA,e.extRenderToTextureHalfFloat?s.HALF_FLOAT:s.UNSIGNED_BYTE,null),r.colorAttachment.set(i);}(e,0,t,a,o,s);}else n.bindTexture(n.TEXTURE_2D,a.colorAttachment.get()),e.bindFramebuffer.set(a.framebuffer);}(n,e,i,\"globe\"===e.transform.projection.name?.5:.25),n.clear({color:hi.transparent});const l=e.transform,c=\"globe\"===l.projection.name,h=c?[\"PROJECTION_GLOBE_VIEW\"]:[],u=c?Dx.frontCCW:Dx.disabled,d=[Kd(l.center.lng),Jd(l.center.lat)];for(let p=0;p<r.length;p++){const f=r[p];if(t.hasRenderableParent(f))continue;const m=t.getTile(f),_=m.getBucket(i);if(!_||_.projection.name!==l.projection.name)continue;const g=e.isTileAffectedByFog(f),y=_.programConfigurations.get(i.id),x=e.getOrCreateProgram(\"heatmap\",{config:y,defines:h,overrideFog:g}),{zoom:v}=e.transform;e.terrain&&e.terrain.setupElevationDraw(m,x),e.uploadCommonUniforms(n,x,f.toUnwrapped());const b=l.projection.createInversionMatrix(l,f.canonical);x.draw(e,o.TRIANGLES,Mx.disabled,s,a,u,IM(e,f,m,b,d,v,i.paint.get(\"heatmap-intensity\")),i.id,_.layoutVertexBuffer,_.indexBuffer,_.segments,i.paint,e.transform.zoom,y,c?[_.globeExtVertexBuffer]:null);}n.viewport.set([0,0,e.width,e.height]);}else \"translucent\"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),function(e,t){const i=e.context,r=i.gl,n=t.heatmapFbo;if(!n)return;i.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,n.colorAttachment.get()),i.activeTexture.set(r.TEXTURE1);let o=t.colorRampTexture;o||(o=t.colorRampTexture=new My(i,t.colorRamp,r.RGBA)),o.bind(r.LINEAR,r.CLAMP_TO_EDGE),e.getOrCreateProgram(\"heatmapTexture\").draw(e,r.TRIANGLES,Mx.disabled,Sx.disabled,e.colorModeForRenderPass(),Dx.disabled,((e,t,i,r)=>({u_image:0,u_color_ramp:1,u_opacity:t.paint.get(\"heatmap-opacity\")}))(0,t),t.id,e.viewportBuffer,e.quadTriangleIndexBuffer,e.viewportSegments,t.paint,e.transform.zoom);}(e,i));},line:function(e,t,i,r){if(\"translucent\"!==e.renderPass)return;const n=i.paint.get(\"line-opacity\"),o=i.paint.get(\"line-width\");if(0===n.constantOr(1)||0===o.constantOr(1))return;const s=i.paint.get(\"line-emissive-strength\"),a=e.depthModeForSublayer(0,Mx.ReadOnly),l=e.colorModeForDrapableLayerRenderPass(s),c=e.terrain&&e.terrain.renderingToTexture?1:dt.devicePixelRatio,h=i.paint.get(\"line-dasharray\"),u=h.constantOr(1),d=i.layout.get(\"line-cap\"),p=i.paint.get(\"line-pattern\"),f=p.constantOr(1),m=i.paint.get(\"line-pattern\").constantOr(1),_=1!==i.paint.get(\"line-opacity\").constantOr(1);let g=!m&&_;const y=i.paint.get(\"line-gradient\"),x=f?\"linePattern\":\"line\",v=e.context,b=v.gl,w=Gb(i);e.terrain&&e.terrain.clipOrMaskOverlapStencilType()&&(g=!1);for(const n of r){const r=t.getTile(n);if(f&&!r.patternsLoaded())continue;const o=r.getBucket(i);if(!o)continue;e.prepareDrawTile();const s=o.programConfigurations.get(i.id),m=e.isTileAffectedByFog(n),_=e.getOrCreateProgram(x,{config:s,defines:w,overrideFog:m}),T=p.constantOr(null);if(T&&r.imageAtlas){const e=r.imageAtlas.patternPositions[T.toString()];e&&s.setConstantPatternPositions(e);}const E=h.constantOr(null),M=d.constantOr(null);if(!f&&E&&M&&r.lineAtlas){const e=r.lineAtlas.getDash(E,M);e&&s.setConstantPatternPositions(e);}let[A,S]=i.paint.get(\"line-trim-offset\");if(\"round\"===M||\"square\"===M){const e=1;A!==S&&(0===A&&(A-=e),1===S&&(S+=e));}const I=e.terrain?n.projMatrix:null,C=f?Ub(e,r,i,I,c):Nb(e,r,i,I,o.lineClipsArray.length,c,[A,S]);if(y){const r=o.gradients[i.id];let s=r.texture;if(i.gradientVersion!==r.version){let a=256;if(i.stepInterpolant){const i=t.getSource().maxzoom,r=n.canonical.z===i?Math.ceil(1<<e.transform.maxZoom-n.canonical.z):1;a=z(U(o.maxLineLength/cr*1024*r),256,v.maxTextureSize);}r.gradient=of({expression:i.gradientExpression(),evaluationKey:\"lineProgress\",resolution:a,image:r.gradient||void 0,clips:o.lineClipsArray}),r.texture?r.texture.update(r.gradient):r.texture=new My(v,r.gradient,b.RGBA),r.version=i.gradientVersion,s=r.texture;}v.activeTexture.set(b.TEXTURE1),s.bind(i.stepInterpolant?b.NEAREST:b.LINEAR,b.CLAMP_TO_EDGE);}u&&(v.activeTexture.set(b.TEXTURE0),r.lineAtlasTexture&&r.lineAtlasTexture.bind(b.LINEAR,b.REPEAT),s.updatePaintBuffers()),f&&(v.activeTexture.set(b.TEXTURE0),r.imageAtlasTexture&&r.imageAtlasTexture.bind(b.LINEAR,b.CLAMP_TO_EDGE),s.updatePaintBuffers()),e.uploadCommonUniforms(v,_,n.toUnwrapped());const P=t=>{_.draw(e,b.TRIANGLES,a,t,l,Dx.disabled,C,i.id,o.layoutVertexBuffer,o.indexBuffer,o.segments,i.paint,e.transform.zoom,s,[o.layoutVertexBuffer2]);};if(g){const t=e.stencilModeForClipping(n).ref;0===t&&e.terrain&&v.clear({stencil:0});const i={func:b.EQUAL,mask:255};C.u_alpha_discard_threshold=.8,P(new Sx(i,t,255,b.KEEP,b.KEEP,b.INVERT)),C.u_alpha_discard_threshold=0,P(new Sx(i,t,255,b.KEEP,b.KEEP,b.KEEP));}else P(e.stencilModeForClipping(n));}g&&(e.resetStencilClippingMasks(),e.terrain&&v.clear({stencil:0}));},fill:function(e,t,i,r){const n=i.paint.get(\"fill-color\"),o=i.paint.get(\"fill-opacity\");if(0===o.constantOr(1))return;const s=i.paint.get(\"fill-emissive-strength\"),a=e.colorModeForDrapableLayerRenderPass(s),l=i.paint.get(\"fill-pattern\"),c=e.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===n.constantOr(hi.transparent).a&&1===o.constantOr(0)?\"opaque\":\"translucent\";if(e.renderPass===c){const n=e.depthModeForSublayer(1,\"opaque\"===e.renderPass?Mx.ReadWrite:Mx.ReadOnly);JM(e,t,i,r,n,a,!1);}if(\"translucent\"===e.renderPass&&i.paint.get(\"fill-antialias\")){const n=e.depthModeForSublayer(i.getPaintProperty(\"fill-outline-color\")?2:0,Mx.ReadOnly);JM(e,t,i,r,n,a,!0);}},\"fill-extrusion\":function(e,t,i,r){const n=i.paint.get(\"fill-extrusion-opacity\"),o=e.context,s=o.gl,a=e.terrain,l=a&&a.renderingToTexture,c=i.paint.get(\"fill-extrusion-cutoff-fade-range\");if(0===n)return;const h=e.conflationActive&&e.layerUsedInConflation(i,t.getSource());if(h&&function(e,t,i,r){for(const n of r){const r=t.getTile(n).getBucket(i);r&&(r.updateReplacement(n,e.replacementSource),r.uploadCentroid(e.context));}}(e,t,i,r),a||h)for(const n of r){const r=t.getTile(n).getBucket(i);r&&tA(e.context,t,n,r,i,a,h);}if(\"shadow\"===e.renderPass&&e.shadowRenderer){const o=e.shadowRenderer;if(a&&n<.65&&i._transitionablePaint._values[\"fill-extrusion-opacity\"].value.expression instanceof Ao)return;const s=o.getShadowPassDepthMode(),l=o.getShadowPassColorMode();QM(e,t,i,r,s,Sx.disabled,l,h);}else if(\"translucent\"===e.renderPass){const u=!i.paint.get(\"fill-extrusion-pattern\").constantOr(1);if(!l){const o=new Mx(e.context.gl.LEQUAL,Mx.ReadWrite,e.depthRangeFor3D);0===c&&1===n&&u?QM(e,t,i,r,o,Sx.disabled,Cx.unblended,h):(QM(e,t,i,r,o,Sx.disabled,Cx.disabled,h),QM(e,t,i,r,o,e.stencilModeFor3D(),e.colorModeForRenderPass(),h),e.resetStencilClippingMasks());}if(e.style.enable3dLights()&&u&&(!a&&\"globe\"!==e.transform.projection.name||l)){const n=i.paint.get(\"fill-extrusion-opacity\"),c=i.paint.get(\"fill-extrusion-ambient-occlusion-intensity\"),u=i.paint.get(\"fill-extrusion-ambient-occlusion-ground-radius\"),d=i.paint.get(\"fill-extrusion-flood-light-intensity\"),p=i.paint.get(\"fill-extrusion-flood-light-color\").toArray01().slice(0,3),f=c>0&&u>0,m=d>0,_=(e,t,i)=>(1-i)*e+i*t,g=o=>{const a=e.depthModeForSublayer(1,Mx.ReadOnly,s.LEQUAL,!0),l=i.paint.get(o?\"fill-extrusion-ambient-occlusion-ground-attenuation\":\"fill-extrusion-flood-light-ground-attenuation\"),f=_(.1,3,l),m=e._showOverdrawInspector;if(!m){const l=new Sx({func:s.ALWAYS,mask:255},255,255,s.KEEP,s.KEEP,s.REPLACE),m=new Cx([s.ONE,s.ONE,s.ONE,s.ONE],hi.transparent,[!1,!1,!1,!0],s.MIN);eA(e,t,i,r,a,l,m,Dx.disabled,o,\"sdf\",n,c,u,d,p,f,h,!1);}{const l=m?Sx.disabled:new Sx({func:s.EQUAL,mask:255},255,255,s.KEEP,s.DECR,s.DECR),_=m?e.colorModeForRenderPass():new Cx([s.ONE_MINUS_DST_ALPHA,s.DST_ALPHA,s.ONE,s.ONE],hi.transparent,[!0,!0,!0,!0]);eA(e,t,i,r,a,l,_,Dx.disabled,o,\"color\",n,c,u,d,p,f,h,!1);}};if(l){const l=(o,a,l)=>{const f=e.depthModeForSublayer(1,Mx.ReadOnly,s.LEQUAL,!1),m=i.paint.get(o?\"fill-extrusion-ambient-occlusion-ground-attenuation\":\"fill-extrusion-flood-light-ground-attenuation\"),g=_(.1,3,m);{const l=new Cx([s.ONE,s.ONE,s.ONE,s.ONE],hi.transparent,[!1,!1,!1,!0]);eA(e,t,i,r,f,Sx.disabled,l,Dx.disabled,o,\"clear\",n,c,u,d,p,g,h,a);}{const l=new Sx({func:s.ALWAYS,mask:255},255,255,s.KEEP,s.KEEP,s.REPLACE),m=new Cx([s.ONE,s.ONE,s.ONE,s.ONE],hi.transparent,[!1,!1,!1,!0],s.MIN);eA(e,t,i,r,f,l,m,Dx.disabled,o,\"sdf\",n,c,u,d,p,g,h,a);}{const l=o?s.ZERO:s.ONE_MINUS_DST_ALPHA,m=new Sx({func:s.EQUAL,mask:255},255,255,s.KEEP,s.DECR,s.DECR),_=new Cx([l,s.DST_ALPHA,s.ONE_MINUS_DST_ALPHA,s.ZERO],hi.transparent,[!0,!0,!0,!0]);eA(e,t,i,r,f,m,_,Dx.disabled,o,\"color\",n,c,u,d,p,g,h,a);}{const m=new Cx([s.ONE,s.ONE,s.ONE,o?s.ZERO:s.ONE],hi.transparent,[!1,!1,!1,!0],o?s.FUNC_ADD:s.MAX);eA(e,t,i,r,f,Sx.disabled,m,Dx.disabled,o,\"clear\",n,c,u,d,p,g,h,a,l);}};if(f||m){let t;if(e.prepareDrawTile(),a){const e=a.drapeBufferSize[0],i=a.drapeBufferSize[1];t=a.framebufferCopyTexture,t&&(!t||t.size[0]===e&&t.size[1]===i)||(t&&t.destroy(),t=a.framebufferCopyTexture=new My(o,new ef({width:e,height:i}),s.RGBA)),t.bind(s.LINEAR,s.CLAMP_TO_EDGE),s.copyTexImage2D(s.TEXTURE_2D,0,s.RGBA,0,0,e,i,0);}f&&l(!0,!1,t),m&&l(!1,!0,t);}}else f&&g(!0),m&&g(!1);}}},hillshade:function(e,t,i,r){if(\"offscreen\"!==e.renderPass&&\"translucent\"!==e.renderPass)return;if(e.style.disableElevatedTerrain)return;const n=e.context,o=e.terrain&&e.terrain.renderingToTexture,[s,a]=\"translucent\"!==e.renderPass||o?[{},r]:e.stencilConfigForOverlap(r);for(const r of a){const n=t.getTile(r);if(n.needsHillshadePrepare&&\"offscreen\"===e.renderPass)YE(e,n,i);else if(\"translucent\"===e.renderPass){const t=e.depthModeForSublayer(0,Mx.ReadOnly),a=i.paint.get(\"hillshade-emissive-strength\"),l=e.colorModeForDrapableLayerRenderPass(a),c=o&&e.terrain?e.terrain.stencilModeForRTTOverlap(r):s[r.overscaledZ];HE(e,r,n,i,t,c,l);}}n.viewport.set([0,0,e.width,e.height]),e.resetStencilClippingMasks();},raster:function(e,t,i,r,n,o){if(\"translucent\"!==e.renderPass)return;if(0===i.paint.get(\"raster-opacity\"))return;const s=e.context,a=s.gl,l=t.getSource(),c=function(e,t,i){const r=e.paint.get(\"raster-color\"),n=[],o=e.paint.get(\"raster-resampling\"),s=e.paint.get(\"raster-color-mix\"),a=e.paint.get(\"raster-color-range\"),l=[s[0],s[1],s[2],0],c=s[3],h=\"nearest\"===o?i.NEAREST:i.LINEAR;if(r&&n.push(\"RASTER_COLOR\"),r){t.activeTexture.set(i.TEXTURE2);let r=e.colorRampTexture;r||(r=e.colorRampTexture=new My(t,e.colorRamp,i.RGBA)),r.bind(i.LINEAR,i.CLAMP_TO_EDGE);}return {mix:l,range:a,offset:c,defines:n,resampling:h}}(i,s,a),h=c.defines,u=\"globe\"===e.transform.projection.name;let d=!1;if(l instanceof Jb&&!r.length){if(!u)return;if(l.onNorthPole)d=!0,h.push(\"GLOBE_POLES\");else {if(!l.onSouthPole)return;d=!0,h.push(\"GLOBE_POLES\");}}const p=i.paint.get(\"raster-emissive-strength\"),f=e.colorModeForDrapableLayerRenderPass(p),m=e.terrain&&e.terrain.renderingToTexture,_=l instanceof Jb&&0!==i.paint.get(\"raster-elevation\"),g=!e.options.moving,y=\"nearest\"===i.paint.get(\"raster-resampling\")?a.NEAREST:a.LINEAR;if(d){const r=t.getSource();if(!(r instanceof Jb))return;const n=r.texture;if(!n)return;const o=e.globeSharedBuffers;if(!o)return;const l=new Mx(a.LEQUAL,Mx.ReadWrite,e.depthRangeFor3D),h=Float32Array.from(e.transform.expandedFarZProjMatrix);let u=Rd(0,0,e.transform);const d=Float32Array.from(Ad(fd(new ju(0,0,0)))),m={opacity:1,mix:0};e.terrain&&e.terrain.prepareDrawTile(),s.activeTexture.set(a.TEXTURE0),n.bind(y,a.CLAMP_TO_EDGE),s.activeTexture.set(a.TEXTURE1),n.bind(y,a.CLAMP_TO_EDGE),n.useMipmap&&s.extTextureFilterAnisotropic&&e.transform.pitch>20&&a.texParameterf(a.TEXTURE_2D,s.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,s.extTextureFilterAnisotropicMax);const[_,g,x,v]=o.getPoleBuffers(0,!0);let b;r.onNorthPole?(b=_,e.renderDefaultNorthPole=!1):(u=Au.scale(Au.create(),u,[1,-1,1]),b=g,e.renderDefaultSouthPole=!1);const w=((e,t,i,r,n,o,s,a,l,c,h,u)=>CM(e,t,i,new Float32Array(16),new Float32Array(9),[0,0],[0,0,0,0],0,[0,0],[0,0,0,0],1,r,n,o||[0,0],s,2,l,c,h,1,0,u))(h,d,u,m,i,r.perspectiveTransform||[0,0],i.paint.get(\"raster-elevation\"),0,c.mix,c.offset,c.range,p),T=e.getOrCreateProgram(\"raster\",{defines:c.defines});return e.uploadCommonUniforms(s,T,null),void T.draw(e,a.TRIANGLES,l,Sx.disabled,f,Dx.disabled,w,i.id,b,x,v)}if(!r.length)return;const[x,v]=l instanceof Jb||m?[{},r]:e.stencilConfigForOverlap(r),b=v[v.length-1].overscaledZ,w=_&&u;w&&c.defines.push(\"PROJECTION_GLOBE_VIEW\"),_&&c.defines.push(\"RENDER_CUTOFF\");for(const r of v){const n=r.toUnwrapped(),h=t.getTile(r);if(m&&(!h||!h.hasData()))continue;if(!h.texture)continue;let d,v;m?(d=Mx.disabled,v=r.projMatrix):_?(d=new Mx(a.LEQUAL,Mx.ReadWrite,e.depthRangeFor3D),v=u?Float32Array.from(e.transform.expandedFarZProjMatrix):e.transform.calculateProjMatrix(n,g)):(d=e.depthModeForSublayer(r.overscaledZ-b,1===i.paint.get(\"raster-opacity\")?Mx.ReadWrite:Mx.ReadOnly,a.LESS),v=e.transform.calculateProjMatrix(n,g));const T=e.terrain&&m?e.terrain.stencilModeForRTTOverlap(r):x[r.overscaledZ],E=o?0:i.paint.get(\"raster-fade-duration\");h.registerFadeDuration(E);const M=t.findLoadedParent(r,0),A=aM(h,M,t,e.transform,E);let S,I;e.terrain&&e.terrain.prepareDrawTile(),s.activeTexture.set(a.TEXTURE0),h.texture&&h.texture.bind(y,a.CLAMP_TO_EDGE),s.activeTexture.set(a.TEXTURE1),M?(M.texture&&M.texture.bind(y,a.CLAMP_TO_EDGE),S=Math.pow(2,M.tileID.overscaledZ-h.tileID.overscaledZ),I=[h.tileID.canonical.x*S%1,h.tileID.canonical.y*S%1]):h.texture&&h.texture.bind(y,a.CLAMP_TO_EDGE),h.texture&&h.texture.useMipmap&&s.extTextureFilterAnisotropic&&e.transform.pitch>20&&a.texParameterf(a.TEXTURE_2D,s.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,s.extTextureFilterAnisotropicMax);const C=e.transform,z=l instanceof Jb?l.perspectiveTransform:[0,0],P=_?sA(C):[0,0,0,0];let D,R,L,k,O,B;if(w&&l instanceof Jb&&l.coordinates.length>3){D=Float32Array.from(Ad(fd(new ju(0,0,0)))),R=Float32Array.from(C.globeMatrix),L=Float32Array.from(Pd(C)),k=[Kd(C.center.lng),Jd(C.center.lat)],B=[Kd(l.coordinates[1][0]),Jd(l.coordinates[1][1]),Kd(l.coordinates[3][0]),Jd(l.coordinates[3][1])];const t=new sc(l.coordinates[1],l.coordinates[3]);O=Float32Array.from(kd(new ju(0,0,0),t,0,C.worldSize/e.transform._pixelsPerMercatorPixel));}else D=new Float32Array(16),R=new Float32Array(9),L=new Float32Array(16),k=[0,0],O=new Float32Array(16),B=[0,0,0,0];const F=CM(v,D,R,L,O,I||[0,0],B,Dd(e.transform.zoom),k,P,S||1,A,i,z,_?i.paint.get(\"raster-elevation\"):0,2,c.mix,c.offset,c.range,1,0,p),N=e.isTileAffectedByFog(r),U=e.getOrCreateProgram(\"raster\",{defines:c.defines,overrideFog:N});if(e.uploadCommonUniforms(s,U,n),l instanceof Jb){if(m||!u)l.boundsBuffer&&l.boundsSegments&&U.draw(e,a.TRIANGLES,d,Sx.disabled,f,Dx.disabled,F,i.id,l.boundsBuffer,e.quadTriangleIndexBuffer,l.boundsSegments);else if(e.globeSharedBuffers){const[t,r,n]=e.globeSharedBuffers.getGridBuffers(0,!1);U.draw(e,a.TRIANGLES,d,Sx.disabled,f,Dx.frontCCW,F,i.id,t,r,n),U.draw(e,a.TRIANGLES,d,Sx.disabled,f,Dx.backCCW,F,i.id,t,r,n);}}else {const{tileBoundsBuffer:t,tileBoundsIndexBuffer:r,tileBoundsSegments:n}=e.getTileBoundsBuffers(h);U.draw(e,a.TRIANGLES,d,T,f,Dx.disabled,F,i.id,t,r,n);}}e.resetStencilClippingMasks();},background:function(e,t,i,r){const n=i.paint.get(\"background-color\"),o=i.paint.get(\"background-opacity\"),s=i.paint.get(\"background-emissive-strength\");if(0===o)return;const a=e.context,l=a.gl,c=e.transform,h=c.tileSize,u=i.paint.get(\"background-pattern\");if(e.isPatternMissing(u,i.scope))return;const d=!u&&1===n.a&&1===o&&e.opaquePassEnabledForLayer()?\"opaque\":\"translucent\";if(e.renderPass!==d)return;const p=Sx.disabled,f=e.depthModeForSublayer(0,\"opaque\"===d?Mx.ReadWrite:Mx.ReadOnly),m=e.colorModeForDrapableLayerRenderPass(s),_=u?\"backgroundPattern\":\"background\";let g,y=r;y||(g=e.getBackgroundTiles(),y=Object.values(g).map((e=>e.tileID))),u&&(a.activeTexture.set(l.TEXTURE0),e.imageManager.bind(e.context,i.scope));for(const d of y){const y=e.isTileAffectedByFog(d),x=e.getOrCreateProgram(_,{overrideFog:y}),v=d.toUnwrapped(),b=r?d.projMatrix:e.transform.calculateProjMatrix(v);e.prepareDrawTile();const w=t?t.getTile(d):g?g[d.key]:new Oy(d,h,c.zoom,e),T=u?FM(b,s,o,e,u,i.scope,{tileID:d,tileSize:h}):BM(b,s,o,n);e.uploadCommonUniforms(a,x,v);const{tileBoundsBuffer:E,tileBoundsIndexBuffer:M,tileBoundsSegments:A}=e.getTileBoundsBuffers(w);x.draw(e,l.TRIANGLES,f,p,m,Dx.disabled,T,i.id,E,M,A);}},sky:function(e,t,i){const r=e._atmosphere?Dd(e.transform.zoom):1,n=i.paint.get(\"sky-opacity\")*r;if(0===n)return;const o=e.context,s=i.paint.get(\"sky-type\"),a=new Mx(o.gl.LEQUAL,Mx.ReadOnly,[0,1]),l=e.frameCounter/1e3%1;\"atmosphere\"===s?\"offscreen\"===e.renderPass?i.needsSkyboxCapture(e)&&(function(e,t,i,r){const n=e.context,o=n.gl;let s=t.skyboxFbo;if(!s){s=t.skyboxFbo=n.createFramebuffer(32,32,!0,null),t.skyboxGeometry=new xA(n),t.skyboxTexture=n.gl.createTexture(),o.bindTexture(o.TEXTURE_CUBE_MAP,t.skyboxTexture),o.texParameteri(o.TEXTURE_CUBE_MAP,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_CUBE_MAP,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_CUBE_MAP,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_CUBE_MAP,o.TEXTURE_MAG_FILTER,o.LINEAR);for(let e=0;e<6;++e)o.texImage2D(o.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,o.RGBA,32,32,0,o.RGBA,o.UNSIGNED_BYTE,null);}n.bindFramebuffer.set(s.framebuffer),n.viewport.set([0,0,32,32]);const a=t.getCenter(e,!0),l=e.getOrCreateProgram(\"skyboxCapture\"),c=new Float64Array(16);Au.identity(c),Au.rotateY(c,c,.5*-Math.PI),vA(e,t,l,c,a,0),Au.identity(c),Au.rotateY(c,c,.5*Math.PI),vA(e,t,l,c,a,1),Au.identity(c),Au.rotateX(c,c,.5*-Math.PI),vA(e,t,l,c,a,2),Au.identity(c),Au.rotateX(c,c,.5*Math.PI),vA(e,t,l,c,a,3),Au.identity(c),vA(e,t,l,c,a,4),Au.identity(c),Au.rotateY(c,c,Math.PI),vA(e,t,l,c,a,5),n.viewport.set([0,0,e.width,e.height]);}(e,i),i.markSkyboxValid(e)):\"sky\"===e.renderPass&&function(e,t,i,r,n){const o=e.context,s=o.gl,a=e.transform,l=e.getOrCreateProgram(\"skybox\");o.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_CUBE_MAP,t.skyboxTexture);const c=((e,t,i,r,n)=>({u_matrix:e,u_sun_direction:t,u_cubemap:0,u_opacity:r,u_temporal_offset:n}))(a.skyboxMatrix,t.getCenter(e,!1),0,r,n);e.uploadCommonUniforms(o,l),l.draw(e,s.TRIANGLES,i,Sx.disabled,e.colorModeForRenderPass(),Dx.backCW,c,\"skybox\",t.skyboxGeometry.vertexBuffer,t.skyboxGeometry.indexBuffer,t.skyboxGeometry.segment);}(e,i,a,n,l):\"gradient\"===s&&\"sky\"===e.renderPass&&function(e,t,i,r,n){const o=e.context,s=o.gl,a=e.transform,l=e.getOrCreateProgram(\"skyboxGradient\");t.skyboxGeometry||(t.skyboxGeometry=new xA(o)),o.activeTexture.set(s.TEXTURE0);let c=t.colorRampTexture;c||(c=t.colorRampTexture=new My(o,t.colorRamp,s.RGBA)),c.bind(s.LINEAR,s.CLAMP_TO_EDGE);const h=((e,t,i,r,n)=>({u_matrix:e,u_color_ramp:0,u_center_direction:t,u_radius:w(i),u_opacity:r,u_temporal_offset:n}))(a.skyboxMatrix,t.getCenter(e,!1),t.paint.get(\"sky-gradient-radius\"),r,n);e.uploadCommonUniforms(o,l),l.draw(e,s.TRIANGLES,i,Sx.disabled,e.colorModeForRenderPass(),Dx.backCW,h,\"skyboxGradient\",t.skyboxGeometry.vertexBuffer,t.skyboxGeometry.indexBuffer,t.skyboxGeometry.segment);}(e,i,a,n,l);},debug:function(e,t,i){for(let r=0;r<i.length;r++)dA(e,t,i[r]);},custom:function(e,t,i,r){const n=e.context,o=i.implementation;if(!e.transform.projection.unsupportedLayers||!e.transform.projection.unsupportedLayers.includes(\"custom\")||e.terrain&&(e.terrain.renderingToTexture||\"offscreen\"===e.renderPass)&&i.isLayerDraped(t)){if(\"offscreen\"===e.renderPass){const t=o.prerender;if(t){if(e.setCustomLayerDefaults(),n.setColorMode(e.colorModeForRenderPass()),\"globe\"===e.transform.projection.name){const i=e.transform.pointMerc;t.call(o,n.gl,e.transform.customLayerMatrix(),e.transform.getProjection(),e.transform.globeToMercatorMatrix(),Dd(e.transform.zoom),[i.x,i.y],e.transform.pixelsPerMeterRatio);}else t.call(o,n.gl,e.transform.customLayerMatrix());n.setDirty(),e.setBaseState();}}else if(\"translucent\"===e.renderPass){if(e.terrain&&e.terrain.renderingToTexture){const t=o.renderToTile;if(t){const i=r[0].canonical,s=new lp(i.x+r[0].wrap*(1<<i.z),i.y,i.z);n.setDepthMode(Mx.disabled),n.setStencilMode(Sx.disabled),n.setColorMode(e.colorModeForRenderPass()),e.setCustomLayerDefaults(),t.call(o,n.gl,s),n.setDirty(),e.setBaseState();}return}e.setCustomLayerDefaults(),n.setColorMode(e.colorModeForRenderPass()),n.setStencilMode(Sx.disabled);const t=\"3d\"===o.renderingMode?new Mx(e.context.gl.LEQUAL,Mx.ReadWrite,e.depthRangeFor3D):e.depthModeForSublayer(0,Mx.ReadOnly);if(n.setDepthMode(t),\"globe\"===e.transform.projection.name){const t=e.transform.pointMerc;o.render(n.gl,e.transform.customLayerMatrix(),e.transform.getProjection(),e.transform.globeToMercatorMatrix(),Dd(e.transform.zoom),[t.x,t.y],e.transform.pixelsPerMeterRatio);}else o.render(n.gl,e.transform.customLayerMatrix());n.setDirty(),e.setBaseState(),n.bindFramebuffer.set(null);}}else H(\"Custom layers are not yet supported with this projection. Use mercator or globe to enable usage of custom layers.\");},model:function(e,t,i,r){if(\"opaque\"===e.renderPass)return;const n=i.paint.get(\"model-opacity\");if(0===n)return;const o=i.paint.get(\"model-cast-shadows\");if(\"shadow\"===e.renderPass){if(!o)return;if(e.terrain&&n<.65&&i._transitionablePaint._values[\"model-opacity\"].value.expression instanceof Ao)return}const s=e.shadowRenderer,a=i.paint.get(\"model-receive-shadows\");s&&(s.useNormalOffset=!0,a||(s.enabled=!1));const l=()=>{s&&(s.useNormalOffset=!0,a||(s.enabled=!0));},c=t.getSource();if(\"light-beam\"===e.renderPass&&\"batched-model\"!==c.type)return;if(\"vector\"===c.type||\"geojson\"===c.type)return function(e,t,i,r){const n=e.transform;if(\"mercator\"!==n.projection.name)return void H(`Drawing 3D models for ${n.projection.name} projection is not yet implemented`);const o=n.getFreeCameraOptions().position;if(!e.modelManager)return;const s=e.modelManager,a=e.shadowRenderer;if(!i._unevaluatedLayout._values.hasOwnProperty(\"model-id\"))return;const l=i._unevaluatedLayout._values[\"model-id\"],c={...i.layout.get(\"model-id\").parameters};for(const h of r){const r=t.getTile(h).getBucket(i);if(!r||r.projection.name!==n.projection.name)continue;const u=DA(h,n);c.zoom=u;const d=l.possiblyEvaluate(c);if(zA(e,r,h),PA.shadowUniformsInitialized=!1,PA.useSingleShadowCascade=!!a&&0===a.getMaxCascadeForTile(h.toUnwrapped()),\"shadow\"===e.renderPass&&a){if(1===e.currentShadowCascade&&r.isInsideFirstShadowMapFrustum)continue;const t=n.calculatePosMatrix(h.toUnwrapped(),n.worldSize);if(PA.tileMatrix.set(t),PA.shadowTileMatrix=Float32Array.from(a.calculateShadowPassMatrixFromMatrix(t)),PA.aabb.min.fill(0),PA.aabb.max[0]=PA.aabb.max[1]=cr,PA.aabb.max[2]=0,kA(r,PA,e,i.scope))continue}const p=1<<h.canonical.z,f=[((o.x-h.wrap)*p-h.canonical.x)*cr,(o.y*p-h.canonical.y)*cr,o.z*p*cr];for(let t in r.instancesPerModel){const n=r.instancesPerModel[t];n.features.length>0&&(t=d.evaluate(n.features[0].feature,{}));const o=s.getModel(t,i.scope);if(o&&o.uploaded)for(const t of o.nodes)RA(e,i,t,n,f,h,PA);}}}(e,t,i,r),void l();if(!c.loaded())return;if(\"batched-model\"===c.type)return function(e,t,i,r){const n=e.context,o=e.transform,s=e.style.fog,a=e.shadowRenderer;if(\"mercator\"!==o.projection.name)return void H(`Drawing 3D landmark models for ${o.projection.name} projection is not yet implemented`);const l=e.transform.getFreeCameraOptions().position,c=Du.scale([],[l.x,l.y,l.z],e.transform.worldSize);Du.negate(c,c);const h=Au.identity([]),u=op(o.center.lat,o.zoom),d=Au.fromScaling([],[1,1,1/u]);Au.translate(h,h,c);const p=i.paint.get(\"model-opacity\"),f=new Mx(n.gl.LEQUAL,Mx.ReadWrite,e.depthRangeFor3D),m=new Mx(n.gl.LEQUAL,Mx.ReadOnly,e.depthRangeFor3D),_=function(l,c){for(const u of r){const r=t.getTile(u).getBucket(i);if(!r||!r.uploaded)continue;let _=!1;a&&(_=0===a.getMaxCascadeForTile(u.toUnwrapped()));const g=o.calculatePosMatrix(u.toUnwrapped(),o.worldSize),y=r.modelTraits;for(const t of r.getNodesInfo()){if(t.hiddenByReplacement)continue;if(!t.node.meshes)continue;const r=t.node,x=\"light-beam\"===e.renderPass,v=[...g],b=t.evaluatedScale;let w=0;e.terrain&&r.elevation&&(w=r.elevation*e.terrain.exaggeration()),Au.translate(v,v,[(r.anchor?r.anchor[0]:0)*(b[0]-1),(r.anchor?r.anchor[1]:0)*(b[1]-1),w]),b!==Iv&&Au.scale(v,v,b),Au.multiply(v,v,r.matrix);const T=Au.multiply([],d,v);Au.multiply(T,h,T);const E=Au.invert([],T);Au.transpose(E,E),Au.scale(E,E,LA);const M=Au.multiply([],o.expandedFarZProjMatrix,v);for(let h=0;h<r.meshes.length;++h){const d=r.meshes[h],g=h===r.lightMeshIndex;if(g){if(!x&&!e.terrain&&e.shadowRenderer){e.currentLayer<e.firstLightBeamLayer&&(e.firstLightBeamLayer=e.currentLayer);continue}}else if(x)continue;const b={defines:[]},w=[];AA(b.defines,w,d,e),4&y||b.defines.push(\"DIFFUSE_SHADED\"),_&&b.defines.push(\"SHADOWS_SINGLE_CASCADE\");const A=\"shadow\"===e.renderPass;if(A){CA(d,v,e,i);continue}let S=null;if(s){const t=MA(v,e.transform);if(S=new Float32Array(t),\"globe\"!==o.projection.name){const e=d.aabb.min,i=d.aabb.max,[r,n]=s.getOpacityForBounds(t,e[0],e[1],i[0],i[1]);b.overrideFog=r>=fw||n>=fw;}}const I=e.getOrCreateProgram(\"model\",b);!A&&a&&(a.useNormalOffset=!!d.normalBuffer,a.setupShadowsFromMatrix(v,I,a.useNormalOffset)),e.uploadCommonUniforms(n,I,u.toUnwrapped(),S);const C=d.material,z=C.pbrMetallicRoughness;z.metallicFactor=.9,z.roughnessFactor=.5;const P=0,D=UM(new Float32Array(M),new Float32Array(T),new Float32Array(E),e,p,z.baseColorFactor,C.emissiveFactor,z.metallicFactor,z.roughnessFactor,C,P,i);I.draw(e,n.gl.TRIANGLES,c&&!g?f:m,Sx.disabled,l?g||p<1||t.hasTranslucentParts?Cx.alphaBlended:Cx.unblended:Cx.disabled,Dx.backCCW,D,i.id,d.vertexBuffer,d.indexBuffer,d.segments,i.paint,e.transform.zoom,void 0,w);}}}};((function(e,t,i,r){const n=e.terrain?e.terrain.exaggeration():0,o=e.transform.zoom;for(const s of r){const r=t.getTile(s).getBucket(i);r&&(e.conflationActive&&r.updateReplacement(s,e.replacementSource),r.evaluateScale(e,i),e.terrain&&n>0&&r.elevationUpdate(e.terrain,n,s,i.source),r.needsReEvaluation(e,o,i)&&r.evaluate(i));}}))(e,t,i,r),1===p?_(!0,!0):(_(!1,!0),_(!0,!1));}(e,t,i,r),void l();const h=c.getModels(),u=[],d=e.transform.getFreeCameraOptions().position,p=Du.scale([],[d.x,d.y,d.z],e.transform.worldSize);Du.negate(p,p);const f=[],m=[];let _=0;for(const t of h){const r=i.paint.get(\"model-rotation\").constantOr(null),n=i.paint.get(\"model-scale\").constantOr(null),o=i.paint.get(\"model-translation\").constantOr(null);t.computeModelMatrix(e,r,n,o,!0,!0,!1);const s=Au.identity([]),a=op(t.position.lat,e.transform.zoom),l=Au.fromScaling([],[1,1,1/a]);Au.translate(s,s,p),u.push({zScaleMatrix:l,negCameraPosMatrix:s});for(const i of t.nodes)IA(e.transform,i,t.matrix,e.transform.expandedFarZProjMatrix,_,f,m);_++;}if(f.sort(((e,t)=>t.depth-e.depth)),\"shadow\"!==e.renderPass){if(1===n)for(const t of m)SA(t,e,i,u[t.modelIndex],Sx.disabled,e.colorModeForRenderPass());else {for(const t of m)SA(t,e,i,u[t.modelIndex],Sx.disabled,Cx.disabled);for(const t of m)SA(t,e,i,u[t.modelIndex],e.stencilModeFor3D(),e.colorModeForRenderPass());e.resetStencilClippingMasks();}for(const t of f)SA(t,e,i,u[t.modelIndex],Sx.disabled,e.colorModeForRenderPass());l();}else {for(const t of m)CA(t.mesh,t.nodeModelMatrix,e,i);for(const t of f)CA(t.mesh,t.nodeModelMatrix,e,i);l();}}},NA={modelUpload:function(e,t,i){const r=t.getSource();if(!r.loaded())return;if(\"vector\"===r.type||\"geojson\"===r.type)return void(e.modelManager&&e.modelManager.upload(e,i));if(\"batched-model\"===r.type)return;const n=r.getModels();for(const t of n)t.upload(e.context);}};class UA{constructor(e,t,i){this.context=new Rx(e,t),this.transform=i,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=Lx.maxUnderzooming+Lx.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={},this.conflationActive=!1,this.replacementSource=new Xv,this.longestCutoffRange=0,this.minCutoffZoom=0,this._fogVisible=!1,this._cachedTileFogOpacities={},this._shadowRenderer=new qA(this),this._wireframeDebugCache=new BA,this.renderDefaultNorthPole=!0,this.renderDefaultSouthPole=!0;}updateTerrain(e,t){const i=!!e&&!!e.terrain&&this.transform.projection.supportsTerrain;if(!(i||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new uM(this,e));const r=this._terrain;this.transform.elevation=i?r:null,r.update(e,this.transform,t),this.transform.elevation&&!r.enabled&&(this.transform.elevation=null);}_updateFog(e){const t=e.fog;if(!t||\"globe\"===this.transform.projection.name||t.getOpacity(this.transform.pitch)<1||t.properties.get(\"horizon-blend\")<.03)return void(this.transform.fogCullDistSq=null);const[i,r]=t.getFovAdjustedRange(this.transform._fov);if(i>r)return void(this.transform.fogCullDistSq=null);const n=i+.78*(r-i);this.transform.fogCullDistSq=n*n;}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}get shadowRenderer(){return this._shadowRenderer&&this._shadowRenderer.enabled?this._shadowRenderer:null}get wireframeDebugCache(){return this._wireframeDebugCache}resize(e,t){if(this.width=e*dt.devicePixelRatio,this.height=t*dt.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const e of this.style.order)this.style._mergedLayers[e].resize();}setup(){const e=this.context,i=new za;i.emplaceBack(0,0),i.emplaceBack(cr,0),i.emplaceBack(0,cr),i.emplaceBack(cr,cr),this.tileExtentBuffer=e.createVertexBuffer(i,Nu.members),this.tileExtentSegments=xl.simpleSegment(0,0,4,2);const r=new za;r.emplaceBack(0,0),r.emplaceBack(cr,0),r.emplaceBack(0,cr),r.emplaceBack(cr,cr),this.debugBuffer=e.createVertexBuffer(r,Nu.members),this.debugSegments=xl.simpleSegment(0,0,4,5);const n=new za;n.emplaceBack(-1,-1),n.emplaceBack(1,-1),n.emplaceBack(-1,1),n.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(n,Nu.members),this.viewportSegments=xl.simpleSegment(0,0,4,2);const o=new Da;o.emplaceBack(0,0,0,0),o.emplaceBack(cr,0,cr,0),o.emplaceBack(0,cr,0,cr),o.emplaceBack(cr,cr,cr,cr),this.mercatorBoundsBuffer=e.createVertexBuffer(o,Ly.members),this.mercatorBoundsSegments=xl.simpleSegment(0,0,4,2);const s=new Wa;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=e.createIndexBuffer(s);const a=new el;for(const e of [0,1,3,2,0])a.emplaceBack(e);this.debugIndexBuffer=e.createIndexBuffer(a),this.emptyTexture=new My(e,new ef({width:1,height:1},Uint8Array.of(0,0,0,0)),e.gl.RGBA),this.identityMat=Au.create();const l=this.context.gl;this.stencilClearMode=new Sx({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO),this.loadTimeStamps.push(t.performance.now());}getMercatorTileBoundsBuffers(){return {tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(e){return e._makeTileBoundsBuffers(this.context,this.transform.projection),e._tileBoundsBuffer?{tileBoundsBuffer:e._tileBoundsBuffer,tileBoundsIndexBuffer:e._tileBoundsIndexBuffer,tileBoundsSegments:e._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const e=this.context.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.getOrCreateProgram(\"clippingMask\").draw(this,e.TRIANGLES,Mx.disabled,this.stencilClearMode,Cx.disabled,Dx.disabled,sM(this.identityMat),\"$clipping\",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments);}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={});}_renderTileClippingMasks(e,t,i){if(!t||this.currentStencilSource===t.id||!e.isTileClipped()||!i||0===i.length)return;if(this._tileClippingMaskIDs&&!this.terrain){let e=!1;for(const t of i)if(void 0===this._tileClippingMaskIDs[t.key]){e=!0;break}if(!e)return}this.currentStencilSource=t.id;const r=this.context,n=r.gl;this.nextStencilID+i.length>256&&this.clearStencil(),r.setColorMode(Cx.disabled),r.setDepthMode(Mx.disabled);const o=this.getOrCreateProgram(\"clippingMask\");this._tileClippingMaskIDs={};for(const e of i){const i=t.getTile(e),r=this._tileClippingMaskIDs[e.key]=this.nextStencilID++,{tileBoundsBuffer:s,tileBoundsIndexBuffer:a,tileBoundsSegments:l}=this.getTileBoundsBuffers(i);o.draw(this,n.TRIANGLES,Mx.disabled,new Sx({func:n.ALWAYS,mask:0},r,255,n.KEEP,n.KEEP,n.REPLACE),Cx.disabled,Dx.disabled,sM(e.projMatrix),\"$clipping\",s,a,l);}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const e=this.nextStencilID++,t=this.context.gl;return new Sx({func:t.NOTEQUAL,mask:255},e,255,t.KEEP,t.KEEP,t.REPLACE)}stencilModeForClipping(e){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(e);const t=this.context.gl;return new Sx({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)}stencilConfigForOverlap(e){const t=this.context.gl,i=e.sort(((e,t)=>t.overscaledZ-e.overscaledZ)),r=i[i.length-1].overscaledZ,n=i[0].overscaledZ-r+1;if(n>1){this.currentStencilSource=void 0,this.nextStencilID+n>256&&this.clearStencil();const e={};for(let i=0;i<n;i++)e[i+r]=new Sx({func:t.GEQUAL,mask:255},i+this.nextStencilID,255,t.KEEP,t.KEEP,t.REPLACE);return this.nextStencilID+=n,[e,i]}return [{[r]:Sx.disabled},i]}colorModeForRenderPass(){const e=this.context.gl;if(this._showOverdrawInspector){const t=1/8;return new Cx([e.CONSTANT_COLOR,e.ONE,e.CONSTANT_COLOR,e.ONE],new hi(t,t,t,0),[!0,!0,!0,!0])}return \"opaque\"===this.renderPass?Cx.unblended:Cx.alphaBlended}colorModeForDrapableLayerRenderPass(e){const t=this.context.gl;return (()=>this.style&&this.style.enable3dLights()&&this.terrain&&this.terrain.renderingToTexture)()&&\"translucent\"===this.renderPass?new Cx([t.ONE,t.ONE_MINUS_SRC_ALPHA,t.CONSTANT_ALPHA,t.ONE_MINUS_SRC_ALPHA],new hi(0,0,0,void 0===e?0:e),[!0,!0,!0,!0]):this.colorModeForRenderPass()}depthModeForSublayer(e,t,i,r=!1){if(!this.opaquePassEnabledForLayer()&&!r)return Mx.disabled;const n=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new Mx(i||this.context.gl.LEQUAL,t,[n,n])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(e,i){this._wireframeDebugCache.update(this.frameCounter),this.style=e,this.options=i;const r=this.style._mergedLayers,n=this.style.order,o=n.map((e=>r[e])),s=this.style._mergedSourceCaches;this.imageManager=e.imageManager,this.modelManager=e.modelManager,this.symbolFadeChange=e.placement.symbolFadeChange(dt.now()),this.imageManager.beginFrame();let a=0,l=!1;for(const e in s){const t=s[e];t.used&&(t.prepare(this.context),t.getSource().usedInConflation&&++a);}const c={},h={},u={},d={},p={};for(const e in s){const t=s[e];c[e]=t.getVisibleCoordinates(),h[e]=c[e].slice().reverse(),u[e]=t.getVisibleCoordinates(!0).reverse(),d[e]=t.getShadowCasterCoordinates(),p[e]=t.sortCoordinatesByDistance(c[e]);}const f=e=>{const t=this.style.getLayerSourceCache(e);return t&&t.used?t.getSource():null};if(a){const e=[];for(const t of o)this.layerUsedInConflation(t,f(t))&&e.push(t);if(e&&e.length>1){const t=[];for(const i of e){const e=this.style.getLayerSourceCache(i);e&&e.used&&e.getSource().usedInConflation&&t.push({layer:i.fqid,cache:e});}this.replacementSource.setSources(t),l=!0;}}l||this.replacementSource.clear(),this.conflationActive=l,this.minCutoffZoom=0,this.longestCutoffRange=0;for(const e of o){const t=e.cutoffRange();if(this.longestCutoffRange=Math.max(t,this.longestCutoffRange),t>0){const t=f(e);t&&(this.minCutoffZoom=Math.max(t.minzoom,this.minCutoffZoom)),e.minzoom&&(this.minCutoffZoom=Math.max(e.minzoom,this.minCutoffZoom));}}this.opaquePassCutoff=1/0;for(let e=0;e<o.length;e++)if(o[e].is3D()){this.opaquePassCutoff=e;break}const m=this.style&&this.style.fog;m?(this._fogVisible=0!==m.getOpacity(this.transform.pitch),this._fogVisible&&\"globe\"!==this.transform.projection.name&&(this._fogVisible=m.isVisibleOnFrustum(this.transform.cameraFrustum))):this._fogVisible=!1,this._cachedTileFogOpacities={},this.terrain&&(this.terrain.updateTileBinding(u),this.opaquePassCutoff=0);const _=this._shadowRenderer;if(_){_.updateShadowParameters(this.transform,this.style.directionalLight);for(const e in s)for(const t of c[e]){let e={min:0,max:0};this.terrain&&(e=this.terrain.getMinMaxForTile(t)||e),_.addShadowReceiver(t.toUnwrapped(),e.min,e.max);}}\"globe\"!==this.transform.projection.name||this.globeSharedBuffers||(this.globeSharedBuffers=new Gd(this.context));for(const t of o){if(t.isHidden(this.transform.zoom))continue;const i=e.getLayerSourceCache(t);this.uploadLayer(this,t,i);}if(this.style.fog&&this.transform.projection.supportsFog?(this._atmosphere||(this._atmosphere=new EA),this._atmosphere.update(this)):this._atmosphere&&(this._atmosphere.destroy(),this._atmosphere=void 0),!Ye.has(this.context.gl))return;this.renderPass=\"offscreen\";for(const t of o){const i=e.getLayerSourceCache(t);if(!t.hasOffscreenPass()||t.isHidden(this.transform.zoom))continue;const r=i?h[i.id]:void 0;(\"custom\"===t.type||\"raster\"===t.type||t.isSky()||r&&r.length)&&this.renderLayer(this,i,t,r);}this.depthRangeFor3D=[0,1-(o.length+2)*this.numSublayers*this.depthEpsilon];const g=this.terrain;g&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&!this.transform.isOrthographic&&g.drawDepth(),this._shadowRenderer&&(this.renderPass=\"shadow\",this._shadowRenderer.drawShadowPass(this.style,d)),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]);const y=\"globe\"===this.transform.projection.name||this.transform.isHorizonVisible(),x=(()=>{if(i.showOverdrawInspector)return hi.black;if(this.style.fog&&this.transform.projection.supportsFog&&!y){const e=this.style.fog.properties.get(\"color\").toArray01();return new hi(...e)}if(this.style.fog&&this.transform.projection.supportsFog&&y){const e=this.style.fog.properties.get(\"space-color\").toArray01();return new hi(...e)}return hi.transparent})();if(this.context.clear({color:x,depth:1}),this.clearStencil(),this._showOverdrawInspector=i.showOverdrawInspector,this.renderPass=\"opaque\",this.style.fog&&this.transform.projection.supportsFog&&this._atmosphere&&!this._showOverdrawInspector&&y&&this._atmosphere.drawStars(this,this.style.fog),!this.terrain)for(this.currentLayer=n.length-1;this.currentLayer>=0;this.currentLayer--){const t=o[this.currentLayer],i=e.getLayerSourceCache(t);if(t.isSky())continue;const r=i?(t.is3D()?p:h)[i.id]:void 0;this._renderTileClippingMasks(t,i,r),this.renderLayer(this,i,t,r);}if(this.style.fog&&this.transform.projection.supportsFog&&this._atmosphere&&!this._showOverdrawInspector&&y&&this._atmosphere.drawAtmosphereGlow(this,this.style.fog),this.renderPass=\"sky\",(!this._atmosphere||Dd(this.transform.zoom)>0)&&(\"globe\"===this.transform.projection.name||this.transform.isHorizonVisible()))for(this.currentLayer=0;this.currentLayer<n.length;this.currentLayer++){const t=o[this.currentLayer],i=e.getLayerSourceCache(t);t.isSky()&&this.renderLayer(this,i,t,i?h[i.id]:void 0);}this.renderPass=\"translucent\",this.currentLayer=0,this.firstLightBeamLayer=Number.MAX_SAFE_INTEGER;let v=0;for(_&&(v=_.getShadowCastingLayerCount());this.currentLayer<n.length;){const t=o[this.currentLayer],i=e.getLayerSourceCache(t);if(t.isSky()){++this.currentLayer;continue}if(g&&this.style.isLayerDraped(t)){if(t.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=g.renderBatch(this.currentLayer);continue}let r;if(i&&(r=(\"symbol\"===t.type?u:t.is3D()?p:h)[i.id]),this._renderTileClippingMasks(t,i,i?c[i.id]:void 0),this.renderLayer(this,i,t,r),!g&&_&&v>0&&t.hasShadowPass()&&0==--v&&(_.drawGroundShadows(),this.firstLightBeamLayer<=this.currentLayer)){const t=this.currentLayer;for(this.renderPass=\"light-beam\",this.currentLayer=this.firstLightBeamLayer;this.currentLayer<=t;this.currentLayer++){const t=o[this.currentLayer];if(!t.hasLightBeamPass())continue;const i=e.getLayerSourceCache(t);this.renderLayer(this,i,t,i?h[i.id]:void 0);}this.currentLayer=t,this.renderPass=\"translucent\";}++this.currentLayer;}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let t=null;o.forEach((i=>{const r=e.getLayerSourceCache(i);r&&!i.isHidden(this.transform.zoom)&&r.getVisibleCoordinates().length&&(!t||t.getSource().maxzoom<r.getSource().maxzoom)&&(t=r);})),t&&this.options.showTileBoundaries&&FA.debug(this,t,t.getVisibleCoordinates());}this.options.showPadding&&function(e){const t=e.transform.padding;pA(e,e.transform.height-(t.top||0),3,aA),pA(e,t.bottom||0,3,lA),fA(e,t.left||0,3,cA),fA(e,e.transform.width-(t.right||0),3,hA);const i=e.transform.centerPoint;!function(e,t,i,r){mA(e,t-1,i-10,2,20,r),mA(e,t-10,i-1,20,2,r);}(e,i.x,e.transform.height-i.y,uA);}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(t.performance.now()),this.saveCanvasCopy()),l||(this.conflationActive=!1);}uploadLayer(e,t,i){this.gpuTimingStart(t),(!e.transform.projection.unsupportedLayers||!e.transform.projection.unsupportedLayers.includes(t.type)||e.terrain&&\"custom\"===t.type)&&NA[`${t.type}Upload`]&&NA[`${t.type}Upload`](e,i,t.scope),this.gpuTimingEnd();}renderLayer(e,t,i,r){i.isHidden(this.transform.zoom)||(\"background\"===i.type||\"sky\"===i.type||\"custom\"===i.type||\"model\"===i.type||\"raster\"===i.type||r&&r.length)&&(this.id=i.id,this.gpuTimingStart(i),(!e.transform.projection.unsupportedLayers||!e.transform.projection.unsupportedLayers.includes(i.type)||e.terrain&&\"custom\"===i.type)&&FA[i.type](e,t,i,r,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd());}gpuTimingStart(e){if(!this.options.gpuTiming)return;const t=this.context.extTimerQuery,i=this.context.gl;let r=this.gpuTimers[e.id];r||(r=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:i.createQuery()}),r.calls++,i.beginQuery(t.TIME_ELAPSED_EXT,r.query);}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const e=this.context.extTimerQuery,t=this.context.gl,i=t.createQuery();this.deferredRenderGpuTimeQueries.push(i),t.beginQuery(e.TIME_ELAPSED_EXT,i);}}gpuTimingDeferredRenderEnd(){this.options.gpuTimingDeferredRender&&this.context.gl.endQuery(this.context.extTimerQuery.TIME_ELAPSED_EXT);}gpuTimingEnd(){this.options.gpuTiming&&this.context.gl.endQuery(this.context.extTimerQuery.TIME_ELAPSED_EXT);}collectGpuTimers(){const e=this.gpuTimers;return this.gpuTimers={},e}collectDeferredRenderGpuQueries(){const e=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],e}queryGpuTimers(e){const t={};for(const i in e){const r=e[i],n=this.context.extTimerQuery,o=n.getQueryParameter(r.query,this.context.gl.QUERY_RESULT)/1e6;n.deleteQueryEXT(r.query),t[i]=o;}return t}queryGpuTimeDeferredRender(e){if(!this.options.gpuTimingDeferredRender)return 0;const t=this.context.extTimerQuery,i=this.context.gl;let r=0;for(const n of e)r+=t.getQueryParameter(n,i.QUERY_RESULT)/1e6,t.deleteQueryEXT(n);return r}translatePosMatrix(e,t,i,r,n){if(!i[0]&&!i[1])return e;const o=n?\"map\"===r?this.transform.angle:0:\"viewport\"===r?-this.transform.angle:0;if(o){const e=Math.sin(o),t=Math.cos(o);i=[i[0]*t-i[1]*e,i[0]*e+i[1]*t];}const s=[n?i[0]:rv(t,i[0],this.transform.zoom),n?i[1]:rv(t,i[1],this.transform.zoom),0],a=new Float32Array(16);return Au.translate(a,e,s),a}saveTileTexture(e){const t=e.size[0],i=this._tileTextures[t];i?i.push(e):this._tileTextures[t]=[e];}getTileTexture(e){const t=this._tileTextures[e];return t&&t.length>0?t.pop():null}isPatternMissing(e,t){return null===e||void 0!==e&&!this.imageManager.getPattern(e.toString(),t)}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}linearFloatFilteringSupported(){return null!=this.context.extTextureFloatLinear}currentGlobalDefines(e,t,i){const r=void 0===i?this.terrain&&this.terrain.renderingToTexture:i,n=this.terrain&&0===this.terrain.exaggeration(),o=[];return this.style&&this.style.enable3dLights()&&(\"globeRaster\"===e||\"terrainRaster\"===e?(o.push(\"LIGHTING_3D_MODE\"),o.push(\"LIGHTING_3D_ALPHA_EMISSIVENESS\")):r||o.push(\"LIGHTING_3D_MODE\")),\"shadow\"===this.renderPass?this._shadowMapDebug||o.push(\"DEPTH_TEXTURE\"):this.shadowRenderer&&(this.shadowRenderer.useNormalOffset?o.push(\"RENDER_SHADOWS\",\"DEPTH_TEXTURE\",\"NORMAL_OFFSET\"):o.push(\"RENDER_SHADOWS\",\"DEPTH_TEXTURE\")),this.terrainRenderModeElevated()&&(o.push(\"TERRAIN\"),this.linearFloatFilteringSupported()&&o.push(\"TERRAIN_DEM_FLOAT_FORMAT\"),n&&o.push(\"ZERO_EXAGGERATION\")),\"globe\"===this.transform.projection.name&&o.push(\"GLOBE\"),!this._fogVisible||r||void 0!==t&&!t||o.push(\"FOG\",\"FOG_DITHERING\"),r&&o.push(\"RENDER_TO_TEXTURE\"),this._showOverdrawInspector&&o.push(\"OVERDRAW_INSPECTOR\"),o}getOrCreateProgram(e,t){this.cache=this.cache||{};const i=t&&t.defines||[],r=t&&t.config,n=this.currentGlobalDefines(e,t&&t.overrideFog,t&&t.overrideRtt).concat(i),o=mM.cacheKey(GE[e],e,n,r);return this.cache[o]||(this.cache[o]=new mM(this.context,e,GE[e],r,GM[e],n)),this.cache[o]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault();}setBaseState(){const e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD);}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=t.document.createElement(\"canvas\"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new My(this.context,this.debugOverlayCanvas,this.context.gl.RGBA));}destroy(){this._terrain&&this._terrain.destroy(),this._atmosphere&&(this._atmosphere.destroy(),this._atmosphere=void 0),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this._wireframeDebugCache.destroy();}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile();}uploadCommonLightUniforms(e,t){if(this.style.enable3dLights()){const i=this.style.directionalLight,r=this.style.ambientLight;if(i&&r){const n=((e,t)=>{const i=e.properties.get(\"direction\"),r=e.properties.get(\"color\").toArray01(),n=e.properties.get(\"intensity\"),o=t.properties.get(\"color\").toArray01(),s=t.properties.get(\"intensity\"),a=[i.x,i.y,i.z],l=se(o,s),c=se(r,n);return {u_lighting_ambient_color:l,u_lighting_directional_dir:a,u_lighting_directional_color:c,u_ground_radiance:dM(a,c,l)}})(i,r);t.setLightsUniformValues(e,n);}}}uploadCommonUniforms(e,t,i,r,n){if(this.uploadCommonLightUniforms(e,t),this.terrain&&this.terrain.renderingToTexture)return;const o=this.style.fog;if(o){const n=o.getOpacity(this.transform.pitch),s=((e,t,i,r,n,o,s,a,l,c,h,u)=>{const d=e.transform,p=t.properties.get(\"color\").toArray01();p[3]=r;const f=e.frameCounter/1e3%1,[m,_]=t.properties.get(\"vertical-range\");return {u_fog_matrix:i?d.calculateFogTileMatrix(i):u||e.identityMat,u_fog_range:t.getFovAdjustedRange(d._fov),u_fog_color:p,u_fog_horizon_blend:t.properties.get(\"horizon-blend\"),u_fog_vertical_limit:[Math.min(m,_),_],u_fog_temporal_offset:f,u_frustum_tl:n,u_frustum_tr:o,u_frustum_br:s,u_frustum_bl:a,u_globe_pos:l,u_globe_radius:c,u_viewport:h,u_globe_transition:Dd(d.zoom),u_is_globe:+(\"globe\"===d.projection.name)}})(this,o,i,n,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*dt.devicePixelRatio,this.transform.height*dt.devicePixelRatio],r);t.setFogUniformValues(e,s);}n&&t.setCutoffUniformValues(e,n.uniformValues);}setTileLoadedFlag(e){this.tileLoaded=e;}saveCanvasCopy(){const e=this.canvasCopy();e&&(this.frameCopies.push(e),this.tileLoaded=!1);}canvasCopy(){const e=this.context.gl,t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.copyTexImage2D(e.TEXTURE_2D,0,e.RGBA,0,0,e.drawingBufferWidth,e.drawingBufferHeight,0),t}getCanvasCopiesAndTimestamps(){return {canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return !1;const e=this.style&&this.style.fog;return !!e&&0!==e.getOpacity(this.transform.pitch)}getBackgroundTiles(){const e=this._backgroundTiles,t=this._backgroundTiles={},i=this.transform.coveringTiles({tileSize:512});for(const r of i)t[r.key]=e[r.key]||new Oy(r,512,this.transform.tileZoom,this);return t}clearBackgroundTiles(){this._backgroundTiles={};}layerUsedInConflation(e,t){return !(!e.is3D()||e.minzoom&&e.minzoom>this.transform.zoom||\"building\"!==e.sourceLayer&&(!t||\"batched-model\"!==t.type))}isTileAffectedByFog(e){if(!this.style||!this.style.fog)return !1;if(\"globe\"===this.transform.projection.name)return !0;let t=this._cachedTileFogOpacities[e.key];return t||(this._cachedTileFogOpacities[e.key]=t=this.style.fog.getOpacityForTile(e)),t[0]>=fw||t[1]>=fw}}const VA=2048;class jA{constructor(e,t){this.aabb=e,this.lastCascade=t;}}class GA{add(e,t){const i=this.receivers[e.key];void 0!==i?(i.aabb.min[0]=Math.min(i.aabb.min[0],t.min[0]),i.aabb.min[1]=Math.min(i.aabb.min[1],t.min[1]),i.aabb.min[2]=Math.min(i.aabb.min[2],t.min[2]),i.aabb.max[0]=Math.max(i.aabb.max[0],t.max[0]),i.aabb.max[1]=Math.max(i.aabb.max[1],t.max[1]),i.aabb.max[2]=Math.max(i.aabb.max[2],t.max[2])):this.receivers[e.key]=new jA(t,null);}clear(){this.receivers={};}get(e){return this.receivers[e.key]}computeRequiredCascades(e,t,i){const r=ed.fromPoints(e.points);let n=0;for(const e in this.receivers){const o=this.receivers[e];if(!o)continue;if(!r.intersectsAabb(o.aabb))continue;o.aabb.min=r.closestPoint(o.aabb.min),o.aabb.max=r.closestPoint(o.aabb.max);const s=o.aabb.getCorners();for(let e=0;e<i.length;e++){let r=!0;for(const n of s){const o=[n[0]*t,n[1]*t,n[2]];if(Du.transformMat4(o,o,i[e].matrix),o[0]<-1||o[0]>1||o[1]<-1||o[1]>1){r=!1;break}}if(o.lastCascade=e,n=Math.max(n,e),r)break}}return n+1}}class qA{constructor(e){this.painter=e,this._enabled=!1,this._shadowLayerCount=0,this._numCascadesToRender=0,this._cascades=[],this._groundShadowTiles=[],this._receivers=new GA,this._depthMode=new Mx(e.context.gl.LEQUAL,Mx.ReadWrite,[0,1]),this._uniformValues={u_light_matrix_0:new Float32Array(16),u_light_matrix_1:new Float32Array(16),u_shadow_intensity:0,u_fade_range:[0,0],u_shadow_normal_offset:[1,1,1],u_shadow_texel_size:1,u_shadow_map_resolution:1,u_shadow_direction:[0,0,1],u_shadow_bias:[36e-5,.0012,.012],u_shadowmap_0:0,u_shadowmap_1:0},this.useNormalOffset=!1;}destroy(){for(const e of this._cascades)e.texture.destroy(),e.framebuffer.destroy();this._cascades=[];}updateShadowParameters(e,t){const i=this.painter;if(this._enabled=!1,this._shadowLayerCount=0,this._receivers.clear(),!t||!t.properties)return;const r=t.properties.get(\"shadow-intensity\");if(!t.shadowsEnabled()||r<=0)return;if(this._shadowLayerCount=i.style.order.reduce(((t,r)=>{const n=i.style._mergedLayers[r];return t+(n.hasShadowPass()&&!n.isHidden(e.zoom)?1:0)}),0),this._enabled=this._shadowLayerCount>0,!this._enabled)return;const n=i.context,o=VA,s=VA;if(0===this._cascades.length)for(let e=0;e<2;++e){const e=i._shadowMapDebug,t=n.gl,r=n.createFramebuffer(o,s,e,\"texture\"),a=new My(n,{width:o,height:s,data:null},t.DEPTH_COMPONENT);if(r.depthAttachment.set(a.texture),e){const e=new My(n,{width:o,height:s,data:null},t.RGBA);r.colorAttachment.set(e.texture);}this._cascades.push({framebuffer:r,texture:a,matrix:[],far:0,boundingSphereRadius:0,frustum:new Qu,scale:0});}this.shadowDirection=$A(t);let a=0;if(e.elevation){const t=e.elevation,i=[1e4,-1e4];t.visibleDemTiles.filter((e=>e.dem)).forEach((e=>{const t=e.dem.tree;i[0]=Math.min(i[0],t.minimums[0]),i[1]=Math.max(i[1],t.maximums[0]);})),1e4!==i[0]&&(a=(i[1]-i[0])*t.exaggeration());}const l=1.5*e.cameraToCenterDistance,c=3*l,h=new Float64Array(16);for(let t=0;t<2;++t){const i=this._cascades[t];let r=e.height/50,n=1;0===t?n=l:(r=l,n=c);const[o,s]=HA(e,this.shadowDirection,r,n,VA,a);i.scale=e.scale,i.matrix=o,i.boundingSphereRadius=s,Au.invert(h,i.matrix),i.frustum=Qu.fromInvProjectionMatrix(h,1,0,!0),i.far=n;}this._uniformValues.u_fade_range=[.75*this._cascades[1].far,this._cascades[1].far],this._uniformValues.u_shadow_intensity=r,this._uniformValues.u_shadow_direction=[this.shadowDirection[0],this.shadowDirection[1],this.shadowDirection[2]],this._uniformValues.u_shadow_texel_size=.00048828125,this._uniformValues.u_shadow_map_resolution=VA,this._uniformValues.u_shadowmap_0=NM.ShadowMap0,this._uniformValues.u_shadowmap_1=NM.ShadowMap0+1,this._groundShadowTiles=i.transform.coveringTiles({tileSize:512,renderWorldCopies:!0});const u=i.transform.elevation;for(const e of this._groundShadowTiles){let t={min:0,max:0};if(u){const i=u.getMinMaxForTile(e);i&&(t=i);}this.addShadowReceiver(e.toUnwrapped(),t.min,t.max);}}get enabled(){return this._enabled}set enabled(e){this._enabled=e;}drawShadowPass(e,t){if(!this._enabled)return;const i=this.painter,r=i.context;this._numCascadesToRender=this._receivers.computeRequiredCascades(i.transform.getFrustum(0),i.transform.worldSize,this._cascades),r.viewport.set([0,0,VA,VA]);for(let n=0;n<this._numCascadesToRender;++n){i.currentShadowCascade=n,r.bindFramebuffer.set(this._cascades[n].framebuffer.framebuffer),r.clear({color:hi.white,depth:1});for(const r of e.order){const n=e._mergedLayers[r];if(!n.hasShadowPass()||n.isHidden(i.transform.zoom))continue;const o=e.getLayerSourceCache(n),s=o?t[o.id]:void 0;(\"model\"===n.type||s&&s.length)&&i.renderLayer(i,o,n,s);}}i.currentShadowCascade=0;}drawGroundShadows(){if(!this._enabled)return;const e=this.painter,t=e.style,i=e.context,r=t.directionalLight,n=t.ambientLight;if(!r||!n)return;const o=[],s=eM(e,e.longestCutoffRange);s.shouldRenderCutoff&&o.push(\"RENDER_CUTOFF\");const a=WA(r,n),l=new Mx(i.gl.LEQUAL,Mx.ReadOnly,e.depthRangeFor3D);for(const t of this._groundShadowTiles){const r=t.toUnwrapped(),n=e.isTileAffectedByFog(t),c=e.getOrCreateProgram(\"groundShadow\",{defines:o,overrideFog:n});this.setupShadows(r,c),e.uploadCommonUniforms(i,c,r,null,s);const h={u_matrix:e.transform.calculateProjMatrix(r),u_ground_shadow_factor:a};c.draw(e,i.gl.TRIANGLES,l,Sx.disabled,Cx.multiply,Dx.disabled,h,\"ground_shadow\",e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments,{},e.transform.zoom,null,null);}}getShadowPassColorMode(){return this.painter._shadowMapDebug?Cx.unblended:Cx.disabled}getShadowPassDepthMode(){return this._depthMode}getShadowCastingLayerCount(){return this._shadowLayerCount}calculateShadowPassMatrixFromTile(e){const t=this.painter.transform,i=t.calculatePosMatrix(e,t.worldSize);return Au.multiply(i,this._cascades[this.painter.currentShadowCascade].matrix,i),Float32Array.from(i)}calculateShadowPassMatrixFromMatrix(e){return Au.multiply(e,this._cascades[this.painter.currentShadowCascade].matrix,e),Float32Array.from(e)}setupShadows(e,t,i,r=0){if(!this._enabled)return;const n=this.painter.transform,o=this.painter.context,s=o.gl,a=this._uniformValues,l=new Float64Array(16),c=n.calculatePosMatrix(e,n.worldSize);for(let e=0;e<2;e++)Au.multiply(l,this._cascades[e].matrix,c),a[0===e?\"u_light_matrix_0\":\"u_light_matrix_1\"]=Float32Array.from(l),o.activeTexture.set(s.TEXTURE0+NM.ShadowMap0+e),this._cascades[e].texture.bind(s.NEAREST,s.CLAMP_TO_EDGE);if(this.useNormalOffset=!!i,this.useNormalOffset){const t=ap(e.canonical),o=2/n.tileSize*cr/VA,s=o*this._cascades[0].boundingSphereRadius,l=o*this._cascades[1].boundingSphereRadius,c=(\"vector-tile\"===i?1:3)/Math.pow(2,r-e.canonical.z-(1-n.zoom+Math.floor(n.zoom)));a.u_shadow_normal_offset=[t,s*c,l*c],a.u_shadow_bias=[6e-5,.0012,.012];}else a.u_shadow_bias=[36e-5,.0012,.012];t.setShadowUniformValues(o,a);}setupShadowsFromMatrix(e,t,i=!1){if(!this._enabled)return;const r=this.painter.context,n=r.gl,o=this._uniformValues,s=new Float64Array(16);for(let t=0;t<2;t++)Au.multiply(s,this._cascades[t].matrix,e),o[0===t?\"u_light_matrix_0\":\"u_light_matrix_1\"]=Float32Array.from(s),r.activeTexture.set(n.TEXTURE0+NM.ShadowMap0+t),this._cascades[t].texture.bind(n.NEAREST,n.CLAMP_TO_EDGE);if(this.useNormalOffset=i,i){const e=5;o.u_shadow_normal_offset=[1,e,e],o.u_shadow_bias=[6e-5,.0012,.012];}else o.u_shadow_bias=[36e-5,.0012,.012];t.setShadowUniformValues(r,o);}getShadowUniformValues(){return this._uniformValues}getCurrentCascadeFrustum(){return this._cascades[this.painter.currentShadowCascade].frustum}computeSimplifiedTileShadowVolume(e,t,i,r){if(r[2]>=0)return {};const n=function(e,t,i){const r=i/(1<<e.canonical.z);return new ed([e.canonical.x*r+e.wrap*i,e.canonical.y*r+e.wrap*i,0],[(e.canonical.x+1)*r+e.wrap*i,(e.canonical.y+1)*r+e.wrap*i,t])}(e,t,i).getCorners(),o=t/-r[2];r[0]<0?(Du.add(n[0],n[0],[r[0]*o,0,0]),Du.add(n[3],n[3],[r[0]*o,0,0])):r[0]>0&&(Du.add(n[1],n[1],[r[0]*o,0,0]),Du.add(n[2],n[2],[r[0]*o,0,0])),r[1]<0?(Du.add(n[0],n[0],[0,r[1]*o,0]),Du.add(n[1],n[1],[0,r[1]*o,0])):r[1]>0&&(Du.add(n[2],n[2],[0,r[1]*o,0]),Du.add(n[3],n[3],[0,r[1]*o,0]));const s={};return s.vertices=n,s.planes=[ZA(n[1],n[0],n[4]),ZA(n[2],n[1],n[5]),ZA(n[3],n[2],n[6]),ZA(n[0],n[3],n[7])],s}addShadowReceiver(e,t,i){this._receivers.add(e,ed.fromTileIdAndHeight(e,t,i));}getMaxCascadeForTile(e){const t=this._receivers.get(e);return t&&t.lastCascade?t.lastCascade:0}}function ZA(e,t,i){const r=Du.sub([],i,t),n=Du.sub([],e,t),o=Du.cross([],r,n),s=Du.length(o);return 0===s?[0,0,1,0]:(Du.scale(o,o,1/s),[o[0],o[1],o[2],-Du.dot(o,t)])}function $A(e){const t=e.properties.get(\"direction\"),i=J(t.x,t.y,t.z);i[2]=z(i[2],0,75);const r=K([i[0],i[1],i[2]]);return Du.fromValues(r.x,r.y,r.z)}function WA(e,t){const i=e.properties.get(\"color\"),r=e.properties.get(\"intensity\"),n=e.properties.get(\"direction\"),o=[n.x,n.y,n.z],s=t.properties.get(\"color\"),a=t.properties.get(\"intensity\"),l=Math.max(Du.dot([0,0,1],o),0),c=[0,0,0];Du.scale(c,s.toArray01Linear().slice(0,3),a);const h=[0,0,0];return Du.scale(h,i.toArray01Linear().slice(0,3),l*r),ae([c[0]>0?c[0]/(c[0]+h[0]):0,c[1]>0?c[1]/(c[1]+h[1]):0,c[2]>0?c[2]/(c[2]+h[2]):0])}function HA(e,t,i,r,n,o){const s=e.zoom,a=e.scale,l=e.worldSize,c=1/l,h=e.aspect,u=Math.sqrt(1+h*h)*Math.tan(.5*e.fovX),d=u*u,p=r-i,f=r+i;let m,_;d>p/f?(m=r,_=r*u):(m=.5*f*(1+d),_=.5*Math.sqrt(p*p+2*(r*r+i*i)*d+f*f*d*d));const g=e.projection.pixelsPerMeter(e.center.lat,l),y=e._camera.getCameraToWorldMercator(),x=[0,0,-m*c];Du.transformMat4(x,x,y);let v=_*c;const b=e._edgeInsets;if(!(0===b.left&&0===b.top&&0===b.right&&0===b.bottom||b.left===b.right&&b.top===b.bottom)){const t=e._camera.getWorldToCamera(e.worldSize,\"meters\"===e.projection.zAxisUnit?g:1),n=e._camera.getCameraToClipPerspective(e._fov,e.width/e.height,i,r);n[8]=2*-e.centerOffset.x/e.width,n[9]=2*e.centerOffset.y/e.height;const o=new Float64Array(16);Au.mul(o,n,t);const c=new Float64Array(16);Au.invert(c,o);const h=Qu.fromInvProjectionMatrix(c,l,s,!0);for(const t of h.points){const i=((w=t)[0]/=a,w[1]/=a,w[2]=Qd(w[2],e._center.lat),w);v=Math.max(v,Du.len(Du.subtract([],x,i)));}}var w;v*=n/(n-1);const T=Math.acos(t[2]),E=Math.atan2(-t[0],-t[1]),M=new Yx;M.position=x,M.setPitchBearing(T,E);const A=M.getWorldToCamera(l,g),S=v*l,I=Math.min(e._mercatorZfromZoom(17)*l*-2,-2*S),C=M.getCameraToClipOrthographic(-S,S,-S,S,I,(S+o*g)/t[2]),z=new Float64Array(16);Au.multiply(z,C,A);const P=Du.fromValues(Math.floor(1e6*x[0])/1e6*l,Math.floor(1e6*x[1])/1e6*l,0),D=.5*n,R=[0,0,0];Du.transformMat4(R,P,z),Du.scale(R,R,D);const L=[Math.floor(R[0]),Math.floor(R[1]),Math.floor(R[2])],k=[0,0,0];Du.sub(k,R,L),Du.scale(k,k,-1/D);const O=new Float64Array(16);return Au.identity(O),Au.translate(O,O,k),Au.multiply(z,O,z),[z,S]}class XA extends zt{constructor(e){super(),this.requestManager=e,this.models={\"\":{}},this.numModelsLoading={};}loadModel(e,t){return fT(this.requestManager.transformRequest(t,ye.Model).url).then((t=>{if(!t)return;const i=TT(t),r=new Cv(e,void 0,void 0,i);return r.computeBoundsAndApplyParent(),r})).catch((i=>{this.fire(new Ct(new Error(`Could not load model ${e} from ${t}: ${i.message}`)));}))}load(e,t){this.models[t]||(this.models[t]={});const i=Object.keys(e);this.numModelsLoading[t]=(this.numModelsLoading[t]||0)+i.length;const r=[];for(const t of i)r.push(this.loadModel(t,e[t]));Promise.allSettled(r).then((e=>{for(let r=0;r<e.length;r++){const{status:n,value:o}=e[r];\"fulfilled\"===n&&o&&(this.models[t][i[r]]=o);}this.numModelsLoading[t]-=i.length,this.fire(new It(\"data\",{dataType:\"style\"}));})).catch((e=>{this.fire(new Ct(new Error(`Could not load models: ${e.message}`)));}));}isLoaded(){for(const e in this.numModelsLoading)if(this.numModelsLoading[e]>0)return !1;return !0}hasModel(e,t){return !!this.getModel(e,t)}getModel(e,t){return this.models[t]||(this.models[t]={}),this.models[t][e]}addModel(e,t,i){this.models[i]||(this.models[i]={}),this.hasModel(e,i)&&this.removeModel(e,i),this.load({[e]:this.requestManager.normalizeModelURL(t)},i);}addModels(e,t){const i={};for(const t in e)i[t]=this.requestManager.normalizeModelURL(e[t]);this.load(i,t);}removeModel(e,t){this.models[t]||(this.models[t]={});const i=this.models[t][e];delete this.models[t][e],i.destroy();}listModels(e){return this.models[e]||(this.models[e]={}),Object.keys(this.models[e])}upload(e,t){this.models[t]||(this.models[t]={});for(const i in this.models[t])this.models[t][i].upload(e.context);}}const YA=(e,t)=>Ss(e,t&&t.filter((e=>\"source.canvas\"!==e.identifier))),KA=O(OT,[\"addLayer\",\"removeLayer\",\"setLights\",\"setPaintProperty\",\"setLayoutProperty\",\"setSlot\",\"setFilter\",\"addSource\",\"removeSource\",\"setLayerZoomRange\",\"setLight\",\"setTransition\",\"setGeoJSONSourceData\",\"setTerrain\",\"setFog\",\"setProjection\",\"setCamera\",\"addImport\",\"removeImport\",\"setImportUrl\",\"setImportData\",\"setImportConfig\"]),JA=O(OT,[\"setCenter\",\"setZoom\",\"setBearing\",\"setPitch\"]),QA={version:8,layers:[],sources:{}},eS={duration:300,delay:0},tS=new Set([\"fill\",\"line\",\"background\",\"hillshade\",\"raster\"]);class iS extends zt{constructor(e,t={}){super(),this.map=e,this.scope=t.scope||\"\",this.fragments=[],this.importDepth=t.importDepth||0,this.importsCache=t.importsCache||new Map,this.resolvedImports=t.resolvedImports||new Set,this.transition=k({},eS),this._buildingIndex=new DT(this),this.crossTileSymbolIndex=new CE,this._mergedOrder=[],this._drapedFirstOrder=[],this._mergedLayers={},this._mergedSourceCaches={},this._mergedOtherSourceCaches={},this._mergedSymbolSourceCaches={},this._has3DLayers=!1,this._hasCircleLayers=!1,this._hasSymbolLayers=!1,this._changes=t.styleChanges||new Ea,this.dispatcher=t.dispatcher?t.dispatcher:new Ew(Ww(),this),t.imageManager?this.imageManager=t.imageManager:(this.imageManager=new aw,this.imageManager.setEventedParent(this)),this.imageManager.createScope(this.scope),this.glyphManager=t.glyphManager?t.glyphManager:new og(e._requestManager,t.localFontFamily?2:t.localIdeographFontFamily?1:0,t.localFontFamily||t.localIdeographFontFamily),t.modelManager?this.modelManager=t.modelManager:(this.modelManager=new XA(e._requestManager),this.modelManager.setEventedParent(this)),this._layers={},this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._precompileDone=!1,this._shouldPrecompile=!1,this._availableImages=[],this._order=[],this._markersNeedUpdate=!1,this.options=new Map,this._configDependentLayers=new Set,this._config=t.config,this.dispatcher.broadcast(\"setReferrer\",ve());const i=this;this._rtlTextPluginCallback=iS.registerForPluginStateChange((e=>{i.dispatcher.broadcast(\"syncRTLPluginState\",{pluginStatus:e.pluginStatus,pluginURL:e.pluginURL},((e,t)=>{if(Qs(e),t&&t.every((e=>e)))for(const e in i._sourceCaches){const t=i._sourceCaches[e],r=t.getSource().type;\"vector\"!==r&&\"geojson\"!==r||t.reload();}}));})),this.on(\"data\",(e=>{if(\"source\"!==e.dataType||\"metadata\"!==e.sourceDataType)return;const t=this.getOwnSource(e.sourceId);if(t&&t.vectorLayerIds)for(const e in this._layers){const i=this._layers[e];i.source===t.id&&this._validateLayer(i);}}));}loadURL(e,t={}){this.fire(new It(\"dataloading\",{dataType:\"style\"}));const i=\"boolean\"==typeof t.validate?t.validate:!Pe(e);e=this.map._requestManager.normalizeStyleURL(e,t.accessToken),this.resolvedImports.add(e);const r=this.importsCache.get(e);if(r)return this._load(r,i);const n=this.map._requestManager.transformRequest(e,ye.Style);this._request=we(n,((t,r)=>{if(this._request=null,t)this.fire(new Ct(t));else if(r)return this.importsCache.set(e,r),this._load(r,i)}));}loadJSON(e,t={}){this.fire(new It(\"dataloading\",{dataType:\"style\"})),this._request=dt.frame((()=>{this._request=null,this._load(e,!1!==t.validate);}));}loadEmpty(){this.fire(new It(\"dataloading\",{dataType:\"style\"})),this._load(QA,!1);}_loadImports(e,t){if(this.importDepth>=4)return H(\"Style doesn't support nesting deeper than 5\"),Promise.resolve();const i=[];for(const r of e){const e=this._createFragmentStyle(r),n=new Promise((t=>{e.once(\"style.import.load\",t),e.once(\"error\",t);})).then((()=>this.mergeAll()));if(i.push(n),this.resolvedImports.has(r.url)){e.loadEmpty();continue}const o=r.data||this.importsCache.get(r.url);o?e.loadJSON(o,{validate:t}):r.url?e.loadURL(r.url,{validate:t}):e.loadEmpty(),this.fragments.push({style:e,id:r.id,config:r.config});}return Promise.allSettled(i)}_createFragmentStyle(e){const t=this.scope?va(e.id,this.scope):e.id,i=new iS(this.map,{scope:t,styleChanges:this._changes,importDepth:this.importDepth+1,importsCache:this.importsCache,resolvedImports:new Set(this.resolvedImports),dispatcher:this.dispatcher,imageManager:this.imageManager,glyphManager:this.glyphManager,modelManager:this.modelManager,config:e.config});return i.setEventedParent(this.map,{style:i}),i}_reloadImports(){this.mergeAll(),this._updateMapProjection(),this.map._triggerCameraUpdate(this.camera),this.dispatcher.broadcast(\"setLayers\",{layers:this._serializeLayers(this._order),scope:this.scope,options:this.options});const e=this.isRootStyle();this._shouldPrecompile=e,this.fire(new It(e?\"style.load\":\"style.import.load\"));}_load(e,t){const i=e.schema;if(this.isRootStyle()&&(e.fragment||i&&!1!==e.fragment)){const i=k({},QA,{imports:[{id:\"basemap\",data:e,url:\"\"}]});return void this._load(i,t)}if(this.setConfig(this._config,i),t&&YA(this,ms(e)))return;this._loaded=!0,this.stylesheet=$(e);for(const t in e.sources)this.addSource(t,e.sources[t],{validate:!1,isInitialLoad:!0});e.sprite?this._loadSprite(e.sprite):(this.imageManager.setLoaded(!0,this.scope),this.dispatcher.broadcast(\"spriteLoaded\",{scope:this.scope,isLoaded:!0})),this.glyphManager.setURL(e.glyphs,this.scope);const r=kT(this.stylesheet.layers);if(this._order=r.map((e=>e.id)),this.stylesheet.light&&H(\"The `light` root property is deprecated, prefer using `lights` with `flat` light type instead.\"),this.stylesheet.lights)if(1===this.stylesheet.lights.length&&\"flat\"===this.stylesheet.lights[0].type){const e=this.stylesheet.lights[0];this.light=new cw(e.properties,e.id);}else this.setLights(this.stylesheet.lights);this.light||(this.light=new cw(this.stylesheet.light)),this._layers={},this._serializedLayers={};for(const e of r){const t=ow(e,this.options);t.setScope(this.scope),t.isConfigDependent&&this._configDependentLayers.add(t.fqid),t.setEventedParent(this,{layer:{id:t.id}}),this._layers[t.id]=t,this._serializedLayers[t.id]=t.serialize();const i=this.getOwnLayerSourceCache(t),r=!!this.directionalLight&&this.directionalLight.shadowsEnabled();i&&t.canCastShadows()&&r&&(i.castsShadows=!0);}this.stylesheet.models&&this.modelManager.addModels(this.stylesheet.models,this.scope);const n=this.stylesheet.terrain;n&&(void 0===this.disableElevatedTerrain&&(this.disableElevatedTerrain=dt.hasCanvasFingerprintNoise()),this.disableElevatedTerrain?H(\"Terrain and hillshade are disabled because of Canvas2D limitations when fingerprinting protection is enabled (e.g. in private browsing mode).\"):this.terrainSetForDrapingOnly()||this._createTerrain(n,1)),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this.stylesheet.transition&&this.setTransition(this.stylesheet.transition),this.fire(new It(\"data\",{dataType:\"style\"})),e.imports?this._loadImports(e.imports,t).then((()=>this._reloadImports())):this._reloadImports();}isRootStyle(){return 0===this.importDepth}mergeAll(){let e,t,i,r,n,o,s,a;this.terrain&&this.terrain.scope!==this.scope&&delete this.terrain,this.forEachFragmentStyle((l=>{if(l.stylesheet){if(null!=l.light&&(e=l.light),l.stylesheet.lights)for(const e of l.stylesheet.lights)\"ambient\"===e.type&&null!=l.ambientLight&&(t=l.ambientLight),\"directional\"===e.type&&null!=l.directionalLight&&(i=l.directionalLight);r=this._prioritizeTerrain(r,l.terrain,l.stylesheet.terrain),l.stylesheet.fog&&null!=l.fog&&(n=l.fog),null!=l.stylesheet.camera&&(a=l.stylesheet.camera),null!=l.stylesheet.projection&&(o=l.stylesheet.projection),null!=l.stylesheet.transition&&(s=l.stylesheet.transition);}})),this.light=e,this.ambientLight=t,this.directionalLight=i,this.fog=n,null===r?delete this.terrain:this.terrain=r,this.camera=a||{\"camera-projection\":\"perspective\"},this.projection=o||{name:\"mercator\"},this.transition=k({},eS,s),this.mergeSources(),this.mergeLayers();}forEachFragmentStyle(e){const t=i=>{for(const e of i.fragments)t(e.style);e(i);};t(this);}_prioritizeTerrain(e,t,i){const r=e&&0===e.drapeRenderMode;return null===i?t&&0===t.drapeRenderMode?t:r?e:null:null!=t&&(!e||r||t&&1===t.drapeRenderMode)?t:e}mergeTerrain(){let e;this.terrain&&this.terrain.scope!==this.scope&&delete this.terrain,this.forEachFragmentStyle((t=>{e=this._prioritizeTerrain(e,t.terrain,t.stylesheet.terrain);})),null===e?delete this.terrain:this.terrain=e;}mergeProjection(){let e;this.forEachFragmentStyle((t=>{null!=t.stylesheet.projection&&(e=t.stylesheet.projection);})),this.projection=e||{name:\"mercator\"};}mergeSources(){const e={},t={},i={};this.forEachFragmentStyle((r=>{for(const t in r._sourceCaches){const i=va(t,r.scope);e[i]=r._sourceCaches[t];}for(const e in r._otherSourceCaches){const i=va(e,r.scope);t[i]=r._otherSourceCaches[e];}for(const e in r._symbolSourceCaches){const t=va(e,r.scope);i[t]=r._symbolSourceCaches[e];}})),this._mergedSourceCaches=e,this._mergedOtherSourceCaches=t,this._mergedSymbolSourceCaches=i;}mergeLayers(){const e={},t=[],i={};this._has3DLayers=!1,this._hasCircleLayers=!1,this._hasSymbolLayers=!1,this.forEachFragmentStyle((i=>{for(const r of i._order){const n=i._layers[r];if(\"slot\"===n.type){const t=ba(r);if(e[t])continue;e[t]=[];}n.slot&&e[n.slot]?e[n.slot].push(n):t.push(n);}})),this._mergedOrder=[];const r=(t=[])=>{for(const n of t)if(\"slot\"===n.type){const t=ba(n.id);e[t]&&r(e[t]);}else {const e=va(n.id,n.scope);this._mergedOrder.push(e),i[e]=n,n.is3D()&&(this._has3DLayers=!0),\"circle\"===n.type&&(this._hasCircleLayers=!0),\"symbol\"===n.type&&(this._hasSymbolLayers=!0);}};r(t),this._mergedLayers=i,this.updateDrapeFirstLayers(),this._buildingIndex.processLayersChanged();}terrainSetForDrapingOnly(){return !!this.terrain&&0===this.terrain.drapeRenderMode}getCamera(){return this.stylesheet.camera}setCamera(e){return this.stylesheet.camera=k({},this.stylesheet.camera,e),this.camera=this.stylesheet.camera,this}setProjection(e){e?this.stylesheet.projection=e:delete this.stylesheet.projection,this.mergeProjection(),this._updateMapProjection();}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast(\"setProjection\",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null));}_updateMapProjection(){this.isRootStyle()&&(this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.projection));}_loadSprite(e){this._spriteRequest=function(e,t,i){let r,n,o;const s=dt.devicePixelRatio>1?\"@2x\":\"\";let a=we(t.transformRequest(t.normalizeSpriteURL(e,s,\".json\"),ye.SpriteJSON),((e,t)=>{a=null,o||(o=e,r=t,c());})),l=Ie(t.transformRequest(t.normalizeSpriteURL(e,s,\".png\"),ye.SpriteImage),((e,t)=>{l=null,o||(o=e,n=t,c());}));function c(){if(o)i(o);else if(r&&n){const e=dt.getImageData(n),t={};for(const i in r){const{width:n,height:o,x:s,y:a,sdf:l,pixelRatio:c,stretchX:h,stretchY:u,content:d}=r[i],p=new ef({width:n,height:o});ef.copy(e,p,{x:s,y:a},{x:0,y:0},{width:n,height:o}),t[i]={data:p,pixelRatio:c,sdf:l,stretchX:h,stretchY:u,content:d};}i(null,t);}}return {cancel(){a&&(a.cancel(),a=null),l&&(l.cancel(),l=null);}}}(e,this.map._requestManager,((e,t)=>{if(this._spriteRequest=null,e)this.fire(new Ct(e));else if(t)for(const e in t)this.imageManager.addImage(e,this.scope,t[e]);this.imageManager.setLoaded(!0,this.scope),this._availableImages=this.imageManager.listImages(this.scope),this.dispatcher.broadcast(\"setImages\",{scope:this.scope,images:this._availableImages}),this.dispatcher.broadcast(\"spriteLoaded\",{scope:this.scope,isLoaded:!0}),this.fire(new It(\"data\",{dataType:\"style\"}));}));}_validateLayer(e){const t=this.getOwnSource(e.source);if(!t)return;const i=e.sourceLayer;i&&(\"geojson\"===t.type||t.vectorLayerIds&&-1===t.vectorLayerIds.indexOf(i))&&this.fire(new Ct(new Error(`Source layer \"${i}\" does not exist on source \"${t.id}\" as specified by style layer \"${e.id}\"`)));}loaded(){if(!this._loaded)return !1;if(Object.keys(this._changes.getUpdatedSourceCaches()).length)return !1;for(const e in this._sourceCaches)if(!this._sourceCaches[e].loaded())return !1;if(!this.imageManager.isLoaded())return !1;if(!this.modelManager.isLoaded())return !1;for(const{style:e}of this.fragments)if(!e.loaded())return !1;return !0}_serializeImports(){if(this.stylesheet.imports)return this.stylesheet.imports.map(((e,t)=>{const i=this.fragments[t];return i&&i.style&&(e.data=i.style.serialize()),e}))}_serializeSources(){const e={};for(const t in this._sourceCaches){const i=this._sourceCaches[t].getSource();e[i.id]||(e[i.id]=i.serialize());}return e}_serializeLayers(e){const t=[];for(const i of e){const e=this._layers[i];e&&\"custom\"!==e.type&&t.push(e.serialize());}return t}hasLightTransitions(){return !(!this.light||!this.light.hasTransition())||!(!this.ambientLight||!this.ambientLight.hasTransition())||!(!this.directionalLight||!this.directionalLight.hasTransition())}hasFogTransition(){return !!this.fog&&this.fog.hasTransition()}hasTransitions(){if(this.hasLightTransitions())return !0;if(this.hasFogTransition())return !0;for(const e in this._sourceCaches)if(this._sourceCaches[e].hasTransition())return !0;for(const e in this._layers)if(this._layers[e].hasTransition())return !0;return !1}get order(){return this.terrain?this._drapedFirstOrder:this._mergedOrder}isLayerDraped(e){return !!this.terrain&&(\"function\"==typeof e.isLayerDraped?e.isLayerDraped(this.getLayerSourceCache(e)):tS.has(e.type))}_checkLoaded(){if(!this._loaded)throw new Error(\"Style is not done loading\")}_checkLayer(e){const t=this.getOwnLayer(e);if(t)return t;this.fire(new Ct(new Error(`The layer '${e}' does not exist in the map's style.`)));}_checkSource(e){const t=this.getOwnSource(e);if(t)return t;this.fire(new Ct(new Error(`The source '${e}' does not exist in the map's style.`)));}update(e){if(!this._loaded)return;this.ambientLight&&this.ambientLight.recalculate(e),this.directionalLight&&this.directionalLight.recalculate(e);const t=this.calculateLightsBrightness();e.brightness=t||0,t!==this._brightness&&(this._brightness=t,this.dispatcher.broadcast(\"setBrightness\",t));const i=this._changes.isDirty();if(this._changes.isDirty()){const t=this._changes.getLayerUpdatesByScope();for(const e in t){const{updatedIds:i,removedIds:r}=t[e];(i||r)&&this._updateWorkerLayers(e,i,r);}this.updateSourceCaches(),this._updateTilesForChangedImages(),this.updateLayers(e),this.light&&this.light.updateTransitions(e),this.ambientLight&&this.ambientLight.updateTransitions(e),this.directionalLight&&this.directionalLight.updateTransitions(e),this.fog&&this.fog.updateTransitions(e),this._changes.reset();}const r={};for(const e in this._mergedSourceCaches){const t=this._mergedSourceCaches[e];r[e]=t.used,t.used=!1;}for(const t of this._mergedOrder){const i=this._mergedLayers[t];if(i.recalculate(e,this._availableImages),!i.isHidden(e.zoom)){const e=this.getLayerSourceCache(i);e&&(e.used=!0);}if(!this._precompileDone&&this._shouldPrecompile)for(let t=i.minzoom||0;t<(i.maxzoom||25.5);t++){const t=this.map.painter;if(t){const r=i.getProgramIds();if(!r)continue;for(const n of r){const r=i.getDefaultProgramParams(n,e.zoom);r&&(t.style=this,this.fog&&(t._fogVisible=!0,r.overrideFog=!0,t.getOrCreateProgram(n,r)),t._fogVisible=!1,r.overrideFog=!1,t.getOrCreateProgram(n,r),(this.stylesheet.terrain||this.stylesheet.projection&&\"globe\"===this.stylesheet.projection.name)&&(r.overrideRtt=!0,t.getOrCreateProgram(n,r)));}}}}this._shouldPrecompile&&(this._precompileDone=!0);for(const e in r){const t=this._mergedSourceCaches[e];r[e]!==t.used&&t.getSource().fire(new It(\"data\",{sourceDataType:\"visibility\",dataType:\"source\",sourceId:t.getSource().id}));}this.light&&this.light.recalculate(e),this.terrain&&this.terrain.recalculate(e),this.fog&&this.fog.recalculate(e),this.z=e.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),i&&this.fire(new It(\"data\",{dataType:\"style\"}));}_updateTilesForChangedImages(){const e=this._changes.getUpdatedImages();if(e.length){for(const t in this._sourceCaches)this._sourceCaches[t].reloadTilesForDependencies([\"icons\",\"patterns\"],e);this._changes.resetUpdatedImages();}}_updateWorkerLayers(e,t,i){const r=this.getFragmentStyle(e);r&&this.dispatcher.broadcast(\"updateLayers\",{layers:t?r._serializeLayers(t):[],scope:e,removedIds:i||[],options:r.options});}setState(e){if(this._checkLoaded(),YA(this,ms(e)))return !1;(e=$(e)).layers=kT(e.layers);const t=function(e,t){if(!e)return [{command:OT.setStyle,args:[t]}];let i=[];try{if(!x(e.version,t.version))return [{command:OT.setStyle,args:[t]}];x(e.center,t.center)||i.push({command:OT.setCenter,args:[t.center]}),x(e.zoom,t.zoom)||i.push({command:OT.setZoom,args:[t.zoom]}),x(e.bearing,t.bearing)||i.push({command:OT.setBearing,args:[t.bearing]}),x(e.pitch,t.pitch)||i.push({command:OT.setPitch,args:[t.pitch]}),x(e.sprite,t.sprite)||i.push({command:OT.setSprite,args:[t.sprite]}),x(e.glyphs,t.glyphs)||i.push({command:OT.setGlyphs,args:[t.glyphs]}),x(e.imports,t.imports)||function(e=[],t=[],i){t=t||[];const r=(e=e||[]).map(jT),n=t.map(jT),o=e.reduce(GT,{}),s=t.reduce(GT,{}),a=r.slice();let l,c,h,u;for(l=0,c=0;l<r.length;l++)h=r[l],s.hasOwnProperty(h)?c++:(i.push({command:OT.removeImport,args:[h]}),a.splice(a.indexOf(h,c),1));for(l=0,c=0;l<n.length;l++)h=n[n.length-1-l],a[a.length-1-l]!==h&&(o.hasOwnProperty(h)?(i.push({command:OT.removeImport,args:[h]}),a.splice(a.lastIndexOf(h,a.length-c),1)):c++,u=a[a.length-l],i.push({command:OT.addImport,args:[s[h],u]}),a.splice(a.length-l,0,h));for(const e of t){const t=o[e.id];if(!t||x(t,e))continue;x(t.config,e.config)||i.push({command:OT.setImportConfig,args:[e.id,e.config]}),x(t.url,e.url)||i.push({command:OT.setImportUrl,args:[e.id,e.url]});const r=e.data;x(t&&t.data,r)||i.push({command:OT.setImportData,args:[e.id,r]});}}(e.imports,t.imports,i),x(e.transition,t.transition)||i.push({command:OT.setTransition,args:[t.transition]}),x(e.light,t.light)||i.push({command:OT.setLight,args:[t.light]}),x(e.fog,t.fog)||i.push({command:OT.setFog,args:[t.fog]}),x(e.projection,t.projection)||i.push({command:OT.setProjection,args:[t.projection]}),x(e.lights,t.lights)||i.push({command:OT.setLights,args:[t.lights]}),x(e.camera,t.camera)||i.push({command:OT.setCamera,args:[t.camera]});const r={},n=[];!function(e,t,i,r){let n;for(n in t=t||{},e=e||{})e.hasOwnProperty(n)&&(t.hasOwnProperty(n)||FT(n,i,r));for(n in t){if(!t.hasOwnProperty(n))continue;const o=t[n];e.hasOwnProperty(n)?x(e[n],o)||(\"geojson\"===e[n].type&&\"geojson\"===o.type&&UT(e,t,n)?i.push({command:OT.setGeoJSONSourceData,args:[n,o.data]}):NT(n,t,i,r)):BT(n,t,i);}}(e.sources,t.sources,n,r);const o=[];e.layers&&e.layers.forEach((e=>{e.source&&r[e.source]?i.push({command:OT.removeLayer,args:[e.id]}):o.push(e);}));let s=e.terrain;s&&r[s.source]&&(i.push({command:OT.setTerrain,args:[void 0]}),s=void 0),i=i.concat(n),x(s,t.terrain)||i.push({command:OT.setTerrain,args:[t.terrain]}),function(e,t,i){t=t||[];const r=(e=e||[]).map(jT),n=t.map(jT),o=e.reduce(GT,{}),s=t.reduce(GT,{}),a=r.slice(),l=Object.create(null);let c,h,u,d,p,f,m;for(c=0,h=0;c<r.length;c++)u=r[c],s.hasOwnProperty(u)?h++:(i.push({command:OT.removeLayer,args:[u]}),a.splice(a.indexOf(u,h),1));for(c=0,h=0;c<n.length;c++)u=n[n.length-1-c],a[a.length-1-c]!==u&&(o.hasOwnProperty(u)?(i.push({command:OT.removeLayer,args:[u]}),a.splice(a.lastIndexOf(u,a.length-h),1)):h++,f=a[a.length-c],i.push({command:OT.addLayer,args:[s[u],f]}),a.splice(a.length-c,0,u),l[u]=!0);for(c=0;c<n.length;c++)if(u=n[c],d=o[u],p=s[u],!l[u]&&!x(d,p))if(x(d.source,p.source)&&x(d[\"source-layer\"],p[\"source-layer\"])&&x(d.type,p.type)){for(m in VT(d.layout,p.layout,i,u,null,OT.setLayoutProperty),VT(d.paint,p.paint,i,u,null,OT.setPaintProperty),x(d.slot,p.slot)||i.push({command:OT.setSlot,args:[u,p.slot]}),x(d.filter,p.filter)||i.push({command:OT.setFilter,args:[u,p.filter]}),x(d.minzoom,p.minzoom)&&x(d.maxzoom,p.maxzoom)||i.push({command:OT.setLayerZoomRange,args:[u,p.minzoom,p.maxzoom]}),d)d.hasOwnProperty(m)&&\"layout\"!==m&&\"paint\"!==m&&\"filter\"!==m&&\"metadata\"!==m&&\"minzoom\"!==m&&\"maxzoom\"!==m&&\"slot\"!==m&&(0===m.indexOf(\"paint.\")?VT(d[m],p[m],i,u,m.slice(6),OT.setPaintProperty):x(d[m],p[m])||i.push({command:OT.setLayerProperty,args:[u,m,p[m]]}));for(m in p)p.hasOwnProperty(m)&&!d.hasOwnProperty(m)&&\"layout\"!==m&&\"paint\"!==m&&\"filter\"!==m&&\"metadata\"!==m&&\"minzoom\"!==m&&\"maxzoom\"!==m&&\"slot\"!==m&&(0===m.indexOf(\"paint.\")?VT(d[m],p[m],i,u,m.slice(6),OT.setPaintProperty):x(d[m],p[m])||i.push({command:OT.setLayerProperty,args:[u,m,p[m]]}));}else i.push({command:OT.removeLayer,args:[u]}),f=a[a.lastIndexOf(u)+1],i.push({command:OT.addLayer,args:[p,f]});}(o,t.layers,i);}catch(e){console.warn(\"Unable to compute style diff:\",e),i=[{command:OT.setStyle,args:[t]}];}return i}(this.serialize(),e).filter((e=>!(e.command in JA)));if(0===t.length)return !1;const i=t.filter((e=>!(e.command in KA)));if(i.length>0)throw new Error(`Unimplemented: ${i.map((e=>e.command)).join(\", \")}.`);return t.forEach((e=>{this[e.command].apply(this,e.args);})),this.stylesheet=e,this.mergeAll(),this.dispatcher.broadcast(\"setLayers\",{layers:this._serializeLayers(this._order),scope:this.scope,options:this.options}),!0}addImage(e,t){return this.getImage(e)?this.fire(new Ct(new Error(\"An image with this name already exists.\"))):(this.imageManager.addImage(e,this.scope,t),this._afterImageUpdated(e),this)}updateImage(e,t){this.imageManager.updateImage(e,this.scope,t);}getImage(e){return this.imageManager.getImage(e,this.scope)}removeImage(e){return this.getImage(e)?(this.imageManager.removeImage(e,this.scope),this._afterImageUpdated(e),this):this.fire(new Ct(new Error(\"No image with this name exists.\")))}_afterImageUpdated(e){this._availableImages=this.imageManager.listImages(this.scope),this._changes.updateImage(e),this.dispatcher.broadcast(\"setImages\",{scope:this.scope,images:this._availableImages}),this.fire(new It(\"data\",{dataType:\"style\"}));}listImages(){return this._checkLoaded(),this._availableImages.slice()}addModel(e,t,i={}){return this._checkLoaded(),this._validate(Ms,`models.${e}`,t,null,i)||(this.modelManager.addModel(e,t,this.scope),this._changes.setDirty()),this}hasModel(e){return this.modelManager.hasModel(e,this.scope)}removeModel(e){return this.hasModel(e)?(this.modelManager.removeModel(e,this.scope),this):this.fire(new Ct(new Error(\"No model with this ID exists.\")))}listModels(){return this._checkLoaded(),this.modelManager.listModels(this.scope)}addSource(e,t,i={}){if(this._checkLoaded(),void 0!==this.getOwnSource(e))throw new Error(`There is already a source with ID \"${e}\".`);if(!t.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(t).join(\", \")}.`);if([\"vector\",\"raster\",\"geojson\",\"video\",\"image\"].indexOf(t.type)>=0&&this._validate(_s,`sources.${e}`,t,null,i))return;this.map&&this.map._collectResourceTiming&&(t.collectResourceTiming=!0);const r=ST(e,t,this.dispatcher,this);r.scope=this.scope,r.setEventedParent(this,(()=>({isSourceLoaded:this._isSourceCacheLoaded(r.id),source:r.serialize(),sourceId:r.id})));const n=e=>{const t=(e?\"symbol:\":\"other:\")+r.id,i=va(t,this.scope),n=this._sourceCaches[t]=new Lx(i,r,e);(e?this._symbolSourceCaches:this._otherSourceCaches)[r.id]=n,n.onAdd(this.map);};n(!1),\"vector\"!==t.type&&\"geojson\"!==t.type||n(!0),r.onAdd&&r.onAdd(this.map),i.isInitialLoad||(this.mergeSources(),this._changes.setDirty());}removeSource(e){this._checkLoaded();const t=this.getOwnSource(e);if(!t)throw new Error(\"There is no source with this ID\");for(const t in this._layers)if(this._layers[t].source===e)return this.fire(new Ct(new Error(`Source \"${e}\" cannot be removed while layer \"${t}\" is using it.`)));if(this.terrain&&this.terrain.scope===this.scope&&this.terrain.get().source===e)return this.fire(new Ct(new Error(`Source \"${e}\" cannot be removed while terrain is using it.`)));const i=this.getOwnSourceCaches(e);for(const e of i){const t=ba(e.id);delete this._sourceCaches[t],this._changes.discardSourceCacheUpdate(e.id),e.fire(new It(\"data\",{sourceDataType:\"metadata\",dataType:\"source\",sourceId:e.getSource().id})),e.setEventedParent(null),e.clearTiles();}return delete this._otherSourceCaches[e],delete this._symbolSourceCaches[e],this.mergeSources(),t.setEventedParent(null),t.onRemove&&t.onRemove(this.map),this._changes.setDirty(),this}setGeoJSONSourceData(e,t){this._checkLoaded(),this.getOwnSource(e).setData(t),this._changes.setDirty();}getOwnSource(e){const t=this.getOwnSourceCache(e);return t&&t.getSource()}getOwnSources(){const e=[];for(const t in this._otherSourceCaches){const i=this.getOwnSourceCache(t);i&&e.push(i.getSource());}return e}setLights(e){if(this._checkLoaded(),!e)return delete this.ambientLight,void delete this.directionalLight;const t=this._getTransitionParameters();for(const i of e){if(this._validate(ys,\"lights\",i))return;switch(i.type){case\"ambient\":if(this.ambientLight){const e=this.ambientLight;e.set(i),e.updateTransitions(t);}else this.ambientLight=new Mw(i,Aw,this.scope,this.options);break;case\"directional\":if(this.directionalLight){const e=this.directionalLight;e.set(i),e.updateTransitions(t);}else this.directionalLight=new Mw(i,Sw,this.scope,this.options);}}const i=new oa(this.z||0,t);this.ambientLight&&this.ambientLight.recalculate(i),this.directionalLight&&this.directionalLight.recalculate(i),this._brightness=this.calculateLightsBrightness(),this.dispatcher.broadcast(\"setBrightness\",this._brightness);}calculateLightsBrightness(){const e=this.directionalLight,t=this.ambientLight;if(!e||!t)return;const i=e=>.2126*(e[0]<=.03928?e[0]/12.92:Math.pow((e[0]+.055)/1.055,2.4))+.7152*(e[1]<=.03928?e[1]/12.92:Math.pow((e[1]+.055)/1.055,2.4))+.0722*(e[2]<=.03928?e[2]/12.92:Math.pow((e[2]+.055)/1.055,2.4)),r=e.properties.get(\"color\").toArray01(),n=e.properties.get(\"intensity\"),o=e.properties.get(\"direction\"),s=1-J(o.x,o.y,o.z)[2]/90,a=i(r)*n*s,l=t.properties.get(\"color\").toArray01(),c=t.properties.get(\"intensity\");return (a+i(l)*c)/2}getBrightness(){return this._brightness}getLights(){if(!this.enable3dLights())return null;const e=[];return this.directionalLight&&e.push(this.directionalLight.get()),this.ambientLight&&e.push(this.ambientLight.get()),e}enable3dLights(){return !!this.ambientLight&&!!this.directionalLight}getFragmentStyle(e){if(!e)return this;if(xa(e)){const t=function(e){const t=e.indexOf(ya);return t>=0?e.slice(t+1):\"\"}(e),i=this.fragments.find((({id:e})=>e===t));if(!i)throw new Error(`Style import not found: ${e}`);const r=ba(e);return i.style.getFragmentStyle(r)}{const t=this.fragments.find((({id:t})=>t===e));if(!t)throw new Error(`Style import not found: ${e}`);return t.style}}getConfigProperty(e,t){const i=this.getFragmentStyle(e);if(!i)return null;const r=i.options.get(t),n=r?r.value||r.default:null;return n?n.serialize():null}setConfigProperty(e,t,i){const r=Eo(i);if(\"success\"!==r.result)return void YA(this,r.value);const n=r.value.expression,o=this.getFragmentStyle(e);if(!o)return;const s=o.options.get(t);s&&(o.options.set(t,{...s,value:n}),o.updateConfigDependencies());}setConfig(e,t){if(this._config=e,e||t)if(t){this.options.clear();for(const i in t){let r,n;const o=Eo(t[i].default);if(\"success\"===o.result&&(r=o.value.expression),e&&void 0!==e[i]){const t=Eo(e[i]);\"success\"===t.result&&(n=t.value.expression);}const{minValue:s,maxValue:a,stepValue:l,type:c,values:h}=t[i];r?this.options.set(i,{default:r,value:n,minValue:s,maxValue:a,stepValue:l,type:c,values:h}):this.fire(new Ct(new Error(`No schema defined for config option \"${i}\".`)));}}else this.fire(new Ct(new Error(\"Attempting to set config for a style without schema.\")));}updateConfigDependencies(){for(const e of this._configDependentLayers){const t=this.getLayer(e);t&&(t.possiblyEvaluateVisibility(),this._updateLayer(t));}this.ambientLight&&this.ambientLight.scope===this.scope&&this.ambientLight.updateConfig(this.options),this.directionalLight&&this.directionalLight.scope===this.scope&&this.directionalLight.updateConfig(this.options),this._changes.setDirty();}addLayer(e,t,i={}){this._checkLoaded();const r=e.id;if(this._layers[r])return void this.fire(new Ct(new Error(`Layer with id \"${r}\" already exists on this map`)));let n;if(\"custom\"===e.type){if(YA(this,function(e){const t=[],i=e.id;return void 0===i&&t.push({message:`layers.${i}: missing required property \"id\"`}),void 0===e.render&&t.push({message:`layers.${i}: missing required method \"render\"`}),e.renderingMode&&\"2d\"!==e.renderingMode&&\"3d\"!==e.renderingMode&&t.push({message:`layers.${i}: property \"renderingMode\" must be either \"2d\" or \"3d\"`}),t}(e)))return;n=ow(e,this.options);}else {if(\"object\"==typeof e.source&&(this.addSource(r,e.source),e=k(e=$(e),{source:r})),this._validate(bs,`layers.${r}`,e,{arrayIndex:-1},i))return;n=ow(e,this.options),this._validateLayer(n),n.setEventedParent(this,{layer:{id:r}}),this._serializedLayers[n.id]=n.serialize();}n.isConfigDependent&&this._configDependentLayers.add(n.fqid),n.setScope(this.scope);let o=this._order.length;if(t){const e=this._order.indexOf(t);if(-1===e)return void this.fire(new Ct(new Error(`Layer with id \"${t}\" does not exist on this map.`)));n.slot===this._layers[t].slot?o=e:H(`Layer with id \"${t}\" has a different slot. Layers can only be rearranged within the same slot.`);}this._order.splice(o,0,r),this._layerOrderChanged=!0,this._layers[r]=n;const s=this.getOwnLayerSourceCache(n),a=!!this.directionalLight&&this.directionalLight.shadowsEnabled();s&&n.canCastShadows()&&a&&(s.castsShadows=!0);const l=this._changes.getRemovedLayer(n);if(l&&n.source&&s&&\"custom\"!==n.type){this._changes.discardLayerRemoval(n);const e=va(n.source,n.scope);l.type!==n.type?this._changes.updateSourceCache(e,\"clear\"):(this._changes.updateSourceCache(e,\"reload\"),s.pause());}this._updateLayer(n),n.onAdd&&n.onAdd(this.map),n.scope=this.scope,this.mergeLayers();}moveLayer(e,t){this._checkLoaded();const i=this._checkLayer(e);if(!i)return;if(e===t)return;const r=this._order.indexOf(e);this._order.splice(r,1);let n=this._order.length;if(t){const e=this._order.indexOf(t);if(-1===e)return void this.fire(new Ct(new Error(`Layer with id \"${t}\" does not exist on this map.`)));i.slot===this._layers[t].slot?n=e:H(`Layer with id \"${t}\" has a different slot. Layers can only be rearranged within the same slot.`);}this._order.splice(n,0,e),this._changes.setDirty(),this._layerOrderChanged=!0,this.mergeLayers();}removeLayer(e){this._checkLoaded();const t=this._checkLayer(e);if(!t)return;t.setEventedParent(null);const i=this._order.indexOf(e);this._order.splice(i,1),delete this._layers[e],delete this._serializedLayers[e],this._changes.setDirty(),this._layerOrderChanged=!0,this._configDependentLayers.delete(t.fqid),this._changes.removeLayer(t);const r=this.getOwnLayerSourceCache(t);if(r&&r.castsShadows){let e=!1;for(const i in this._layers)if(this._layers[i].source===t.source&&this._layers[i].canCastShadows()){e=!0;break}r.castsShadows=e;}t.onRemove&&t.onRemove(this.map),this.mergeLayers();}getOwnLayer(e){return this._layers[e]}hasLayer(e){return e in this._mergedLayers}hasLayerType(e){for(const t in this._layers)if(this._layers[t].type===e)return !0;return !1}setLayerZoomRange(e,t,i){this._checkLoaded();const r=this._checkLayer(e);r&&(r.minzoom===t&&r.maxzoom===i||(null!=t&&(r.minzoom=t),null!=i&&(r.maxzoom=i),this._updateLayer(r)));}setSlot(e,t){this._checkLoaded();const i=this._checkLayer(e);i&&i.slot!==t&&(i.slot=t,this._updateLayer(i));}setFilter(e,t,i={}){this._checkLoaded();const r=this._checkLayer(e);if(r&&!x(r.filter,t))return null==t?(r.filter=void 0,void this._updateLayer(r)):void(this._validate(ws,`layers.${r.id}.filter`,t,{layerType:r.type},i)||(r.filter=$(t),this._updateLayer(r)))}getFilter(e){const t=this._checkLayer(e);if(t)return $(t.filter)}setLayoutProperty(e,t,i,r={}){this._checkLoaded();const n=this._checkLayer(e);n&&(x(n.getLayoutProperty(t),i)||(n.setLayoutProperty(t,i,r),n.isConfigDependent&&this._configDependentLayers.add(n.fqid),this._updateLayer(n)));}getLayoutProperty(e,t){const i=this._checkLayer(e);if(i)return i.getLayoutProperty(t)}setPaintProperty(e,t,i,r={}){this._checkLoaded();const n=this._checkLayer(e);if(!n)return;if(x(n.getPaintProperty(t),i))return;const o=n.setPaintProperty(t,i,r);n.isConfigDependent&&this._configDependentLayers.add(n.fqid),o&&this._updateLayer(n),this._changes.updatePaintProperties(n);}getPaintProperty(e,t){const i=this._checkLayer(e);if(i)return i.getPaintProperty(t)}setFeatureState(e,t){this._checkLoaded();const i=e.source,r=e.sourceLayer,n=this._checkSource(i);if(!n)return;const o=n.type;if(\"geojson\"===o&&r)return void this.fire(new Ct(new Error(\"GeoJSON sources cannot have a sourceLayer parameter.\")));if(\"vector\"===o&&!r)return void this.fire(new Ct(new Error(\"The sourceLayer parameter must be provided for vector source types.\")));void 0===e.id&&this.fire(new Ct(new Error(\"The feature id parameter must be provided.\")));const s=this.getOwnSourceCaches(i);for(const i of s)i.setFeatureState(r,e.id,t);}removeFeatureState(e,t){this._checkLoaded();const i=e.source,r=this._checkSource(i);if(!r)return;const n=r.type,o=\"vector\"===n?e.sourceLayer:void 0;if(\"vector\"===n&&!o)return void this.fire(new Ct(new Error(\"The sourceLayer parameter must be provided for vector source types.\")));if(t&&\"string\"!=typeof e.id&&\"number\"!=typeof e.id)return void this.fire(new Ct(new Error(\"A feature id is required to remove its specific state property.\")));const s=this.getOwnSourceCaches(i);for(const i of s)i.removeFeatureState(o,e.id,t);}getFeatureState(e){this._checkLoaded();const t=e.source,i=e.sourceLayer,r=this._checkSource(t);if(r){if(\"vector\"!==r.type||i)return void 0===e.id&&this.fire(new Ct(new Error(\"The feature id parameter must be provided.\"))),this.getOwnSourceCaches(t)[0].getFeatureState(i,e.id);this.fire(new Ct(new Error(\"The sourceLayer parameter must be provided for vector source types.\")));}}setTransition(e){return this.stylesheet.transition=k({},this.stylesheet.transition,e),this.transition=this.stylesheet.transition,this}getTransition(){return k({},this.stylesheet.transition)}serialize(){this._checkLoaded();const e=this.getTerrain(),t=e&&this.terrain&&this.terrain.scope===this.scope?e:this.stylesheet.terrain;return Z({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,imports:this._serializeImports(),schema:this.stylesheet.schema,camera:this.stylesheet.camera,light:this.stylesheet.light,lights:this.stylesheet.lights,terrain:t,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:this._serializeSources(),layers:this._serializeLayers(this._order)},(e=>void 0!==e))}_updateLayer(e){this._changes.updateLayer(e);const t=this.getLayerSourceCache(e),i=va(e.source,e.scope),r=this._changes.getUpdatedSourceCaches();e.source&&!r[i]&&t&&\"raster\"!==t.getSource().type&&(this._changes.updateSourceCache(i,\"reload\"),t.pause()),e.invalidateCompiledFilter();}_flattenAndSortRenderedFeatures(e){const t=e=>\"fill-extrusion\"===this._mergedLayers[e].type,i=this.order,r={},n=[];for(let o=i.length-1;o>=0;o--){const s=i[o];if(t(s)){r[s]=o;for(const t of e){const e=t[s];if(e)for(const t of e)n.push(t);}}}n.sort(((e,t)=>t.intersectionZ-e.intersectionZ));const o=[];for(let s=i.length-1;s>=0;s--){const a=i[s];if(t(a))for(let e=n.length-1;e>=0;e--){const t=n[e].feature;if(r[t.layer.id]<s)break;o.push(t),n.pop();}else for(const t of e){const e=t[a];if(e)for(const t of e)o.push(t.feature);}}return o}queryRenderedFeatures(e,t,i){t&&t.filter&&this._validate(ws,\"queryRenderedFeatures.filter\",t.filter,null,t),t.scope=this.scope,t.availableImages=this._availableImages,t.serializedLayers=this._serializedLayers;const r={};if(t&&t.layers){if(!Array.isArray(t.layers))return this.fire(new Ct(new Error(\"parameters.layers must be an Array.\"))),[];for(const e of t.layers){const t=this._mergedLayers[e];if(!t)return this.fire(new Ct(new Error(`The layer '${e}' does not exist in the map's style and cannot be queried for features.`))),[];r[t.source]=!0;}}const n=[],o=t.serializedLayers||{},s=t&&t.layers?t.layers.some((e=>{const t=this.getLayer(e);return t&&t.is3D()})):this.has3DLayers(),a=Iw.createFromScreenPoints(e,i);for(const e in this._mergedSourceCaches){const l=this._mergedSourceCaches[e].getSource();if(!l||l.scope!==t.scope)continue;const c=this._mergedSourceCaches[e].getSource().id;t.layers&&!r[c]||n.push(CT(this._mergedSourceCaches[e],this._mergedLayers,o,a,t,i,s,!!this.map._showQueryGeometry));}return this.placement&&n.push(function(e,t,i,r,n,o,s){const a={},l=o.queryRenderedSymbols(r),c=[];for(const e of Object.keys(l).map(Number))c.push(s[e]);c.sort(PT);for(const i of c){const r=i.featureIndex.lookupSymbolFeatures(l[i.bucketInstanceId],t,i.bucketIndex,i.sourceLayerIndex,n.filter,n.layers,n.availableImages,e);for(const e in r){const t=a[e]=a[e]||[],n=r[e];n.sort(((e,t)=>{const r=i.featureSortOrder;if(r){const i=r.indexOf(e.featureIndex);return r.indexOf(t.featureIndex)-i}return t.featureIndex-e.featureIndex}));for(const e of n)t.push(e);}}for(const t in a)a[t].forEach((r=>{const n=r.feature,o=i(e[t]);if(!o)return;const s=o.getFeatureState(n.layer[\"source-layer\"],n.id);n.source=n.layer.source,n.layer[\"source-layer\"]&&(n.sourceLayer=n.layer[\"source-layer\"]),n.state=s;}));return a}(this._mergedLayers,o,this.getLayerSourceCache.bind(this),a.screenGeometry,t,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(n)}querySourceFeatures(e,t){t&&t.filter&&this._validate(ws,\"querySourceFeatures.filter\",t.filter,null,t);const i=this.getOwnSourceCaches(e);let r=[];for(const e of i)r=r.concat(zT(e,t));return r}addSourceType(e,t,i){return iS.getSourceType(e)?i(new Error(`A source type called \"${e}\" already exists.`)):(iS.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast(\"loadWorkerSource\",{name:e,url:t.workerSourceURL},i):i(null,null))}getFlatLight(){return this.light.getLight()}setFlatLight(e,t,i={}){this._checkLoaded();const r=this.light.getLight();let n=!1;for(const t in e)if(!x(e[t],r[t])){n=!0;break}if(!n)return;const o=this._getTransitionParameters();this.light.setLight(e,t,i),this.light.updateTransitions(o);}getTerrain(){return this.terrain&&1===this.terrain.drapeRenderMode?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:\"\",exaggeration:0},0);}setTerrain(e,t=1){if(this._checkLoaded(),!e)return delete this.terrain,null===e?this.stylesheet.terrain=null:delete this.stylesheet.terrain,this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);let i=e;const r=null==e.source;if(1===t){if(\"object\"==typeof i.source){const e=\"terrain-dem-src\";this.addSource(e,i.source),i=$(i),i=k(i,{source:e});}const e=k({},i),t={};if(this.terrain&&r){e.source=this.terrain.get().source;const i=this.terrain?this.getFragmentStyle(this.terrain.scope):null;i&&(t.style=i.serialize());}if(this._validate(xs,\"terrain\",e,t))return}if(!this.terrain||this.terrain.scope!==this.scope&&!r||this.terrain&&t!==this.terrain.drapeRenderMode){if(!i)return;this._createTerrain(i,t),this.fire(new It(\"data\",{dataType:\"style\"}));}else {const t=this.terrain,r=t.get();for(const e of Object.keys(Pt.terrain))!i.hasOwnProperty(e)&&Pt.terrain[e].default&&(i[e]=Pt.terrain[e].default);for(const i in e)if(!x(e[i],r[i])){t.set(e,this.options),this.stylesheet.terrain=e;const i=this._getTransitionParameters({duration:0});t.updateTransitions(i),this.fire(new It(\"data\",{dataType:\"style\"}));break}}this.mergeTerrain(),this.updateDrapeFirstLayers(),this._markersNeedUpdate=!0;}_createFog(e){const t=this.fog=new vw(e,this.map.transform);this.stylesheet.fog=t.get();const i=this._getTransitionParameters({duration:0});t.updateTransitions(i);}_updateMarkersOpacity(){0!==this.map._markers.length&&this.map._requestDomTask((()=>{for(const e of this.map._markers)e._evaluateOpacity();}));}getFog(){return this.fog?this.fog.get():null}setFog(e){if(this._checkLoaded(),!e)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const t=this.fog;if(!x(t.get(),e)){t.set(e),this.stylesheet.fog=t.get();const i=this._getTransitionParameters({duration:0});t.updateTransitions(i);}}else this._createFog(e);this._markersNeedUpdate=!0;}_getTransitionParameters(e){return {now:dt.now(),transition:k(this.transition,e)}}updateDrapeFirstLayers(){if(!this.terrain)return;const e=[],t=[];for(const i in this._mergedLayers)this.isLayerDraped(this._mergedLayers[i])?e.push(i):t.push(i);this._drapedFirstOrder=[],this._drapedFirstOrder.push(...e),this._drapedFirstOrder.push(...t);}_createTerrain(e,t){const i=this.terrain=new uw(e,t,this.scope,this.options);1===t&&(this.stylesheet.terrain=e),this.mergeTerrain(),this.updateDrapeFirstLayers(),this._force3DLayerUpdate();const r=this._getTransitionParameters({duration:0});i.updateTransitions(r);}_force3DLayerUpdate(){for(const e in this._layers){const t=this._layers[e];\"fill-extrusion\"===t.type&&this._updateLayer(t);}}_forceSymbolLayerUpdate(){for(const e in this._layers){const t=this._layers[e];\"symbol\"===t.type&&this._updateLayer(t);}}_validate(e,t,i,r,n={}){if(n&&!1===n.validate)return !1;const o=k({},this.serialize());return YA(this,e.call(ms,k({key:t,style:o,value:i,styleSpec:Pt},r)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),ta.off(\"pluginStateChange\",this._rtlTextPluginCallback);for(const e in this._mergedLayers)this._mergedLayers[e].setEventedParent(null);for(const e in this._mergedSourceCaches)this._mergedSourceCaches[e].clearTiles(),this._mergedSourceCaches[e].setEventedParent(null);this.setEventedParent(null),delete this.fog,delete this.terrain,delete this.ambientLight,delete this.directionalLight,this.isRootStyle()&&(this.imageManager.setEventedParent(null),this.modelManager.setEventedParent(null),this.dispatcher.remove());}clearSource(e){const t=this.getSourceCaches(e);for(const e of t)e.clearTiles();}clearSources(){for(const e in this._mergedSourceCaches)this._mergedSourceCaches[e].clearTiles();}reloadSource(e){const t=this.getSourceCaches(e);for(const e of t)e.resume(),e.reload();}reloadSources(){for(const e of this.getSources())e.reload&&e.reload();}updateSources(e){let t;this.directionalLight&&(t=$A(this.directionalLight));for(const i in this._mergedSourceCaches)this._mergedSourceCaches[i].update(e,void 0,void 0,t);}_generateCollisionBoxes(){for(const e in this._sourceCaches){const t=this._sourceCaches[e];t.resume(),t.reload();}}_updatePlacement(e,t,i,r,n=!1){let o=!1,s=!1;const a={},l={};for(const t of this._mergedOrder){const i=this._mergedLayers[t];if(\"symbol\"!==i.type)continue;const r=va(i.source,i.scope);let n=a[r];if(!n){const e=this.getLayerSourceCache(i);if(!e)continue;const t=e.getRenderableIds(!0).map((t=>e.getTileByID(t)));l[r]=t.slice(),n=a[r]=t.sort(((e,t)=>t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)));}const s=this.crossTileSymbolIndex.addLayer(i,n,e.center.lng,e.projection);o=o||s;}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._mergedOrder),n=n||this._layerOrderChanged||0===i,this._layerOrderChanged&&this.fire(new It(\"neworder\")),(n||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(dt.now(),e.zoom))&&(this.pauseablePlacement=new gE(e,this._mergedOrder,n,t,i,r,this.placement,this.fog&&e.projection.supportsFog?this.fog.state:null,this._buildingIndex),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._mergedOrder,this._mergedLayers,a,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(dt.now()),s=!0),o&&this.pauseablePlacement.placement.setStale()),s||o)for(const e of this._mergedOrder){const t=this._mergedLayers[e];\"symbol\"===t.type&&this.placement.updateLayerOpacities(t,a[va(t.source,t.scope)]);}return !this.pauseablePlacement.isDone()||this.placement.hasTransitions(dt.now())}_releaseSymbolFadeTiles(){for(const e in this._sourceCaches)this._sourceCaches[e].releaseSymbolFadeTiles();}addImport(e){this._checkLoaded();const t=this.stylesheet.imports=this.stylesheet.imports||[],i=t.findIndex((({id:t})=>t===e.id));return -1!==i?this.fire(new Ct(new Error(`Import with id '${e.id}' already exists in the map's style.`))):(t.push(e),this._loadImports([e],!0),this)}setImportUrl(e,t){this._checkLoaded();const i=this.stylesheet.imports||[],r=this.getImportIndex(e);if(-1===r)return this;i[r].url=t;const n=this.fragments[r];return n.style=this._createFragmentStyle(i[r]),n.style.on(\"style.import.load\",(()=>this.mergeAll())),n.style.loadURL(t),this}setImportData(e,t){this._checkLoaded();const i=this.getImportIndex(e),r=this.stylesheet.imports||[];return -1===i?this:t?(this.fragments[i].style.setState(t),this._reloadImports(),this):(delete r[i].data,this.setImportUrl(e,r[i].url))}setImportConfig(e,t){this._checkLoaded();const i=this.getImportIndex(e),r=this.stylesheet.imports||[];if(-1===i)return this;t?r[i].config=t:delete r[i].config;const n=this.fragments[i],o=n.style.stylesheet&&n.style.stylesheet.schema;return n.config=t,n.style.setConfig(t,o),n.style.updateConfigDependencies(),this}removeImport(e){this._checkLoaded();const t=this.stylesheet.imports||[],i=this.getImportIndex(e);return -1===i||(t.splice(i,1),this.fragments[i].style._remove(),this.fragments.splice(i,1),this._reloadImports()),this}getImportIndex(e){const t=(this.stylesheet.imports||[]).findIndex((t=>t.id===e));return -1===t&&this.fire(new Ct(new Error(`Import '${e}' does not exist in the map's style and cannot be updated.`))),t}getLayer(e){return this._mergedLayers[e]}getSources(){const e=[];for(const t in this._mergedOtherSourceCaches){const i=this._mergedOtherSourceCaches[t];i&&e.push(i.getSource());}return e}getSource(e,t){const i=this.getSourceCache(e,t);return i&&i.getSource()}getLayerSource(e){const t=this.getLayerSourceCache(e);return t&&t.getSource()}getSourceCache(e,t){const i=va(e,t);return this._mergedOtherSourceCaches[i]}getLayerSourceCache(e){const t=va(e.source,e.scope);return \"symbol\"===e.type?this._mergedSymbolSourceCaches[t]:this._mergedOtherSourceCaches[t]}getSourceCaches(e){const t=[];return this._mergedOtherSourceCaches[e]&&t.push(this._mergedOtherSourceCaches[e]),this._mergedSymbolSourceCaches[e]&&t.push(this._mergedSymbolSourceCaches[e]),t}updateSourceCaches(){const e=this._changes.getUpdatedSourceCaches();for(const t in e){const i=e[t];\"reload\"===i?this.reloadSource(t):\"clear\"===i&&this.clearSource(t);}}updateLayers(e){const t=this._changes.getUpdatedPaintProperties();for(const i of t){const t=this.getLayer(i);t&&t.updateTransitions(e);}}getImages(e,t,i){this.imageManager.getImages(t.icons,t.scope,i),this._updateTilesForChangedImages();const r=e=>{e&&e.setDependencies(t.tileID.key,t.type,t.icons);};r(this._otherSourceCaches[t.source]),r(this._symbolSourceCaches[t.source]);}getGlyphs(e,t,i){this.glyphManager.getGlyphs(t.stacks,t.scope,i);}getResource(e,t,i){return be(t,i)}getOwnSourceCache(e){return this._otherSourceCaches[e]}getOwnLayerSourceCache(e){return \"symbol\"===e.type?this._symbolSourceCaches[e.source]:this._otherSourceCaches[e.source]}getOwnSourceCaches(e){const t=[];return this._otherSourceCaches[e]&&t.push(this._otherSourceCaches[e]),this._symbolSourceCaches[e]&&t.push(this._symbolSourceCaches[e]),t}_isSourceCacheLoaded(e){const t=this.getOwnSourceCaches(e);return 0===t.length?(this.fire(new Ct(new Error(`There is no source with ID '${e}'`))),!1):t.every((e=>e.loaded()))}has3DLayers(){return this._has3DLayers}hasSymbolLayers(){return this._hasSymbolLayers}hasCircleLayers(){return this._hasCircleLayers}_clearWorkerCaches(){this.dispatcher.broadcast(\"clearCaches\");}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain);}}function rS(e,t){let i=!1,r=null;const n=()=>{r=null,i&&(e(),r=setTimeout(n,t),i=!1);};return ()=>(i=!0,r||n(),r)}iS.getSourceType=function(e){return AT[e]},iS.setSourceType=function(e,t){AT[e]=t;},iS.registerForPluginStateChange=function(e){return e({pluginStatus:Ks,pluginURL:Js}),ta.on(\"pluginStateChange\",e),e};class nS{constructor(e){this._hashName=e&&encodeURIComponent(e),j([\"_getCurrentHash\",\"_onHashChange\",\"_updateHash\"],this),this._updateHash=rS(this._updateHashUnthrottled.bind(this),300);}addTo(e){return this._map=e,t.addEventListener(\"hashchange\",this._onHashChange,!1),e.on(\"moveend\",this._updateHash),this}remove(){return this._map?(this._map.off(\"moveend\",this._updateHash),t.removeEventListener(\"hashchange\",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const e=this._map;if(!e)return \"\";const i=oS(e);if(this._hashName){const e=this._hashName;let r=!1;const n=t.location.hash.slice(1).split(\"&\").map((t=>{const n=t.split(\"=\")[0];return n===e?(r=!0,`${n}=${i}`):t})).filter((e=>e));return r||n.push(`${e}=${i}`),`#${n.join(\"&\")}`}return `#${i}`}_getCurrentHash(){const e=t.location.hash.replace(\"#\",\"\");if(this._hashName){let t;return e.split(\"&\").map((e=>e.split(\"=\"))).forEach((e=>{e[0]===this._hashName&&(t=e);})),(t&&t[1]||\"\").split(\"/\")}return e.split(\"/\")}_onHashChange(){const e=this._map;if(!e)return !1;const t=this._getCurrentHash();if(t.length>=3&&!t.some((e=>isNaN(e)))){const i=e.dragRotate.isEnabled()&&e.touchZoomRotate.isEnabled()?+(t[3]||0):e.getBearing();return e.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:i,pitch:+(t[4]||0)}),!0}return !1}_updateHashUnthrottled(){const e=t.location.href.replace(/(#.+)?$/,this.getHashString());t.history.replaceState(t.history.state,null,e);}}function oS(e,t){const i=e.getCenter(),r=Math.round(100*e.getZoom())/100,n=Math.ceil((r*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,n),s=Math.round(i.lng*o)/o,a=Math.round(i.lat*o)/o,l=e.getBearing(),c=e.getPitch();let h=t?`/${s}/${a}/${r}`:`${r}/${a}/${s}`;return (l||c)&&(h+=\"/\"+Math.round(10*l)/10),c&&(h+=`/${Math.round(c)}`),h}const sS={linearity:.3,easing:I(0,0,.3,1)},aS=k({deceleration:2500,maxSpeed:1400},sS),lS=k({deceleration:20,maxSpeed:1400},sS),cS=k({deceleration:1e3,maxSpeed:360},sS),hS=k({deceleration:1e3,maxSpeed:90},sS);class uS{constructor(e){this._map=e,this.clear();}clear(){this._inertiaBuffer=[];}record(e){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:dt.now(),settings:e});}_drainInertiaBuffer(){const e=this._inertiaBuffer,t=dt.now();for(;e.length>0&&t-e[0].time>160;)e.shift();}_onMoveEnd(e){if(this._map._prefersReducedMotion())return;if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const t={zoom:0,bearing:0,pitch:0,pan:new y(0,0),pinchAround:void 0,around:void 0};for(const{settings:e}of this._inertiaBuffer)t.zoom+=e.zoomDelta||0,t.bearing+=e.bearingDelta||0,t.pitch+=e.pitchDelta||0,e.panDelta&&t.pan._add(e.panDelta),e.around&&(t.around=e.around),e.pinchAround&&(t.pinchAround=e.pinchAround);const i=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,r={};if(t.pan.mag()){const n=pS(t.pan.mag(),i,k({},aS,e||{}));r.offset=t.pan.mult(n.amount/t.pan.mag()),r.center=this._map.transform.center,dS(r,n);}if(t.zoom){const e=pS(t.zoom,i,lS);r.zoom=this._map.transform.zoom+e.amount,dS(r,e);}if(t.bearing){const e=pS(t.bearing,i,cS);r.bearing=this._map.transform.bearing+z(e.amount,-179,179),dS(r,e);}if(t.pitch){const e=pS(t.pitch,i,hS);r.pitch=this._map.transform.pitch+e.amount,dS(r,e);}if(r.zoom||r.bearing){const e=void 0===t.pinchAround?t.around:t.pinchAround;r.around=e?this._map.unproject(e):this._map.getCenter();}return this.clear(),r.noMoveStart=!0,r}}function dS(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing);}function pS(e,t,i){const{maxSpeed:r,linearity:n,deceleration:o}=i,s=z(e*n/(t/1e3),-r,r),a=Math.abs(s)/(o*n);return {easing:i.easing,duration:1e3*a,amount:s*(a/2)}}class fS extends It{preventDefault(){this._defaultPrevented=!0;}get defaultPrevented(){return this._defaultPrevented}constructor(e,t,i,r={}){const n=wt(t.getCanvasContainer(),i);super(e,k({point:n,lngLat:t.unproject(n),originalEvent:i},r)),this._defaultPrevented=!1,this.target=t;}}class mS extends It{preventDefault(){this._defaultPrevented=!0;}get defaultPrevented(){return this._defaultPrevented}constructor(e,t,i){const r=\"touchend\"===e?i.changedTouches:i.touches,n=Tt(t.getCanvasContainer(),r),o=n.map((e=>t.unproject(e))),s=n.reduce(((e,t,i,r)=>e.add(t.div(r.length))),new y(0,0));super(e,{points:n,point:s,lngLats:o,lngLat:t.unproject(s),originalEvent:i}),this._defaultPrevented=!1;}}class _S extends It{preventDefault(){this._defaultPrevented=!0;}get defaultPrevented(){return this._defaultPrevented}constructor(e,t,i){super(e,{originalEvent:i}),this._defaultPrevented=!1;}}class gS{constructor(e,t){this._map=e,this._clickTolerance=t.clickTolerance;}reset(){this._mousedownPos=void 0;}wheel(e){return this._firePreventable(new _S(e.type,this._map,e))}mousedown(e,t){return this._mousedownPos=t,this._firePreventable(new fS(e.type,this._map,e))}mouseup(e){this._map.fire(new fS(e.type,this._map,e));}preclick(e){const t=k({},e);t.type=\"preclick\",this._map.fire(new fS(t.type,this._map,t));}click(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||(this.preclick(e),this._map.fire(new fS(e.type,this._map,e)));}dblclick(e){return this._firePreventable(new fS(e.type,this._map,e))}mouseover(e){this._map.fire(new fS(e.type,this._map,e));}mouseout(e){this._map.fire(new fS(e.type,this._map,e));}touchstart(e){return this._firePreventable(new mS(e.type,this._map,e))}touchmove(e){this._map.fire(new mS(e.type,this._map,e));}touchend(e){this._map.fire(new mS(e.type,this._map,e));}touchcancel(e){this._map.fire(new mS(e.type,this._map,e));}_firePreventable(e){if(this._map.fire(e),e.defaultPrevented)return {}}isEnabled(){return !0}isActive(){return !1}enable(){}disable(){}}class yS{constructor(e){this._map=e;}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0;}mousemove(e){this._map.fire(new fS(e.type,this._map,e));}mousedown(){this._delayContextMenu=!0;}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new fS(\"contextmenu\",this._map,this._contextMenuEvent)),delete this._contextMenuEvent);}contextmenu(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new fS(e.type,this._map,e)),this._map.listens(\"contextmenu\")&&e.preventDefault();}isEnabled(){return !0}isActive(){return !1}enable(){}disable(){}}class xS{constructor(e,t){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1;}isEnabled(){return !!this._enabled}isActive(){return !!this._active}enable(){this.isEnabled()||(this._enabled=!0);}disable(){this.isEnabled()&&(this._enabled=!1);}mousedown(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(yt(),this._startPos=this._lastPos=t,this._active=!0);}mousemoveWindow(e,t){if(!this._active)return;const i=t,r=this._startPos,n=this._lastPos;if(!r||!n||n.equals(i)||!this._box&&i.dist(r)<this._clickTolerance)return;this._lastPos=i,this._box||(this._box=pt(\"div\",\"mapboxgl-boxzoom\",this._container),this._container.classList.add(\"mapboxgl-crosshair\"),this._fireEvent(\"boxzoomstart\",e));const o=Math.min(r.x,i.x),s=Math.max(r.x,i.x),a=Math.min(r.y,i.y),l=Math.max(r.y,i.y);this._map._requestDomTask((()=>{this._box&&(this._box.style.transform=`translate(${o}px,${a}px)`,this._box.style.width=s-o+\"px\",this._box.style.height=l-a+\"px\");}));}mouseupWindow(e,t){if(!this._active)return;const i=this._startPos,r=t;if(i&&0===e.button){if(this.reset(),bt(),i.x!==r.x||i.y!==r.y)return this._map.fire(new It(\"boxzoomend\",{originalEvent:e})),{cameraAnimation:e=>e.fitScreenCoordinates(i,r,this._map.getBearing(),{linear:!1})};this._fireEvent(\"boxzoomcancel\",e);}}keydown(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent(\"boxzoomcancel\",e));}blur(){this.reset();}reset(){this._active=!1,this._container.classList.remove(\"mapboxgl-crosshair\"),this._box&&(this._box.remove(),this._box=null),xt(),delete this._startPos,delete this._lastPos;}_fireEvent(e,t){return this._map.fire(new It(e,{originalEvent:t}))}}function vS(e,t){const i={};for(let r=0;r<e.length;r++)i[e[r].identifier]=t[r];return i}class bS{constructor(e){this.reset(),this.numTouches=e.numTouches;}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1;}touchstart(e,t,i){(this.centroid||i.length>this.numTouches)&&(this.aborted=!0),this.aborted||(0===this.startTime&&(this.startTime=e.timeStamp),i.length===this.numTouches&&(this.centroid=function(e){const t=new y(0,0);for(const i of e)t._add(i);return t.div(e.length)}(t),this.touches=vS(i,t)));}touchmove(e,t,i){if(this.aborted||!this.centroid)return;const r=vS(i,t);for(const e in this.touches){const t=r[e];(!t||t.dist(this.touches[e])>30)&&(this.aborted=!0);}}touchend(e,t,i){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===i.length){const e=!this.aborted&&this.centroid;if(this.reset(),e)return e}}}class wS{constructor(e){this.singleTap=new bS(e),this.numTaps=e.numTaps,this.reset();}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset();}touchstart(e,t,i){this.singleTap.touchstart(e,t,i);}touchmove(e,t,i){this.singleTap.touchmove(e,t,i);}touchend(e,t,i){const r=this.singleTap.touchend(e,t,i);if(r){const t=e.timeStamp-this.lastTime<500,i=!this.lastTap||this.lastTap.dist(r)<30;if(t&&i||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=r,this.count===this.numTaps)return this.reset(),r}}}class TS{constructor(){this._zoomIn=new wS({numTouches:1,numTaps:2}),this._zoomOut=new wS({numTouches:2,numTaps:1}),this.reset();}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset();}touchstart(e,t,i){this._zoomIn.touchstart(e,t,i),this._zoomOut.touchstart(e,t,i);}touchmove(e,t,i){this._zoomIn.touchmove(e,t,i),this._zoomOut.touchmove(e,t,i);}touchend(e,t,i){const r=this._zoomIn.touchend(e,t,i),n=this._zoomOut.touchend(e,t,i);return r?(this._active=!0,e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(r)},{originalEvent:e})}):n?(this._active=!0,e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(n)},{originalEvent:e})}):void 0}touchcancel(){this.reset();}enable(){this._enabled=!0;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}}const ES={0:1,2:2};class MS{constructor(e){this.reset(),this._clickTolerance=e.clickTolerance||1;}blur(){this.reset();}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0;}_correctButton(e,t){return !1}_move(e,t){return {}}mousedown(e,t){if(this._lastPoint)return;const i=Et(e);this._correctButton(e,i)&&(this._lastPoint=t,this._eventButton=i);}mousemoveWindow(e,t){const i=this._lastPoint;if(i)if(e.preventDefault(),null!=this._eventButton&&function(e,t){const i=ES[t];return void 0===e.buttons||(e.buttons&i)!==i}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(i)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(i,t)}mouseupWindow(e){this._lastPoint&&Et(e)===this._eventButton&&(this._moved&&bt(),this.reset());}enable(){this._enabled=!0;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}}class AS extends MS{mousedown(e,t){super.mousedown(e,t),this._lastPoint&&(this._active=!0);}_correctButton(e,t){return 0===t&&!e.ctrlKey}_move(e,t){return {around:t,panDelta:t.sub(e)}}}class SS extends MS{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const i=.8*(t.x-e.x);if(i)return this._active=!0,{bearingDelta:i}}contextmenu(e){e.preventDefault();}}class IS extends MS{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const i=-.5*(t.y-e.y);if(i)return this._active=!0,{pitchDelta:i}}contextmenu(e){e.preventDefault();}}class CS{constructor(e,t){this._map=e,this._el=e.getCanvasContainer(),this._minTouches=1,this._clickTolerance=t.clickTolerance||1,this.reset(),j([\"_addTouchPanBlocker\",\"_showTouchPanBlockerAlert\"],this);}reset(){this._active=!1,this._touches={},this._sum=new y(0,0);}touchstart(e,t,i){return this._calculateTransform(e,t,i)}touchmove(e,t,i){if(this._active&&!(i.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(1===i.length&&!ie())return void this._showTouchPanBlockerAlert();\"hidden\"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility=\"hidden\",clearTimeout(this._alertTimer));}return e.cancelable&&e.preventDefault(),this._calculateTransform(e,t,i)}}touchend(e,t,i){this._calculateTransform(e,t,i),this._active&&i.length<this._minTouches&&this.reset();}touchcancel(){this.reset();}_calculateTransform(e,t,i){i.length>0&&(this._active=!0);const r=vS(i,t),n=new y(0,0),o=new y(0,0);let s=0;for(const e in r){const t=r[e],i=this._touches[e];i&&(n._add(t),o._add(t.sub(i)),s++,r[e]=t);}if(this._touches=r,s<this._minTouches||!o.mag())return;const a=o.div(s);return this._sum._add(a),this._sum.mag()<this._clickTolerance?void 0:{around:n.div(s),panDelta:a}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add(\"mapboxgl-touch-pan-blocker-override\",\"mapboxgl-scrollable-page\"));}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove(\"mapboxgl-touch-pan-blocker-override\",\"mapboxgl-scrollable-page\")),this.reset();}isEnabled(){return !!this._enabled}isActive(){return !!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=pt(\"div\",\"mapboxgl-touch-pan-blocker\",this._map._container),this._alertContainer.textContent=this._map._getUIString(\"TouchPanBlocker.Message\"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`);}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility=\"visible\",this._alertContainer.classList.add(\"mapboxgl-touch-pan-blocker-show\"),this._alertContainer.setAttribute(\"role\",\"alert\"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((()=>{this._alertContainer.classList.remove(\"mapboxgl-touch-pan-blocker-show\"),this._alertContainer.setAttribute(\"role\",\"null\");}),500);}}class zS{constructor(){this.reset();}reset(){this._active=!1,this._firstTwoTouches=void 0;}_start(e){}_move(e,t,i){return {}}touchstart(e,t,i){this._firstTwoTouches||i.length<2||(this._firstTwoTouches=[i[0].identifier,i[1].identifier],this._start([t[0],t[1]]));}touchmove(e,t,i){const r=this._firstTwoTouches;if(!r)return;e.preventDefault();const[n,o]=r,s=PS(i,t,n),a=PS(i,t,o);if(!s||!a)return;const l=this._aroundCenter?null:s.add(a).div(2);return this._move([s,a],l,e)}touchend(e,t,i){if(!this._firstTwoTouches)return;const[r,n]=this._firstTwoTouches,o=PS(i,t,r),s=PS(i,t,n);o&&s||(this._active&&bt(),this.reset());}touchcancel(){this.reset();}enable(e){this._enabled=!0,this._aroundCenter=!!e&&\"center\"===e.around;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}}function PS(e,t,i){for(let r=0;r<e.length;r++)if(e[r].identifier===i)return t[r]}function DS(e,t){return Math.log(e/t)/Math.LN2}class RS extends zS{reset(){super.reset(),this._distance=0,this._startDistance=0;}_start(e){this._startDistance=this._distance=e[0].dist(e[1]);}_move(e,t){const i=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(DS(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:DS(this._distance,i),pinchAround:t}}}function LS(e,t){return 180*e.angleWith(t)/Math.PI}class kS extends zS{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0;}_start(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1]);}_move(e,t){const i=this._vector;if(this._vector=e[0].sub(e[1]),i&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:LS(this._vector,i),pinchAround:t}}_isBelowThreshold(e){this._minDiameter=Math.min(this._minDiameter,e.mag());const t=25/(Math.PI*this._minDiameter)*360,i=this._startVector;if(!i)return !1;const r=LS(e,i);return Math.abs(r)<t}}function OS(e){return Math.abs(e.y)>Math.abs(e.x)}class BS extends zS{constructor(e){super(),this._map=e;}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0;}_start(e){this._lastPoints=e,OS(e[0].sub(e[1]))&&(this._valid=!1);}_move(e,t,i){const r=this._lastPoints;if(!r)return;const n=e[0].sub(r[0]),o=e[1].sub(r[1]);return this._map._cooperativeGestures&&!ie()&&i.touches.length<3||(this._valid=this.gestureBeginsVertically(n,o,i.timeStamp),!this._valid)?void 0:(this._lastPoints=e,this._active=!0,{pitchDelta:(n.y+o.y)/2*-.5})}gestureBeginsVertically(e,t,i){if(void 0!==this._valid)return this._valid;const r=e.mag()>=2,n=t.mag()>=2;if(!r&&!n)return;if(!r||!n)return null==this._firstMove&&(this._firstMove=i),i-this._firstMove<100&&void 0;const o=e.y>0==t.y>0;return OS(e)&&OS(t)&&o}}const FS={panStep:100,bearingStep:15,pitchStep:10};class NS{constructor(){const e=FS;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep,this._rotationDisabled=!1;}blur(){this.reset();}reset(){this._active=!1;}keydown(e){if(e.altKey||e.ctrlKey||e.metaKey)return;let t=0,i=0,r=0,n=0,o=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?i=-1:(e.preventDefault(),n=-1);break;case 39:e.shiftKey?i=1:(e.preventDefault(),n=1);break;case 38:e.shiftKey?r=1:(e.preventDefault(),o=-1);break;case 40:e.shiftKey?r=-1:(e.preventDefault(),o=1);break;default:return}return this._rotationDisabled&&(i=0,r=0),{cameraAnimation:s=>{const a=s.getZoom();s.easeTo({duration:300,easeId:\"keyboardHandler\",easing:US,zoom:t?Math.round(a)+t*(e.shiftKey?2:1):a,bearing:s.getBearing()+i*this._bearingStep,pitch:s.getPitch()+r*this._pitchStep,offset:[-n*this._panStep,-o*this._panStep],center:s.getCenter()},{originalEvent:e});}}}enable(){this._enabled=!0;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0;}enableRotation(){this._rotationDisabled=!1;}}function US(e){return e*(2-e)}const VS=4.000244140625;class jS{constructor(e,t){this._map=e,this._el=e.getCanvasContainer(),this._handler=t,this._delta=0,this._lastDelta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,j([\"_onTimeout\",\"_addScrollZoomBlocker\",\"_showBlockerAlert\"],this);}setZoomRate(e){this._defaultZoomRate=e;}setWheelZoomRate(e){this._wheelZoomRate=e;}isEnabled(){return !!this._enabled}isActive(){return this._active||void 0!==this._finishTimeout}isZooming(){return !!this._zooming}enable(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!e&&\"center\"===e.around,this._map._cooperativeGestures&&this._addScrollZoomBlocker());}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()));}wheel(e){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(e.ctrlKey||e.metaKey||this.isZooming()||ie()))return void this._showBlockerAlert();\"hidden\"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility=\"hidden\",clearTimeout(this._alertTimer));}let i=e.deltaMode===t.WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY;const r=dt.now(),n=r-(this._lastWheelEventTime||0);this._lastWheelEventTime=r,0!==i&&i%VS==0?this._type=\"wheel\":0!==i&&Math.abs(i)<4?this._type=\"trackpad\":n>400?(this._type=null,this._lastValue=i,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(n*i)<200?\"trackpad\":\"wheel\",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,i+=this._lastValue)),e.shiftKey&&i&&(i/=4),this._type&&(this._lastWheelEvent=e,this._delta-=i,this._active||this._start(e)),e.preventDefault();}_onTimeout(e){this._type=\"wheel\",this._delta-=this._lastValue,this._active||this._start(e);}_start(e){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const t=wt(this._el,e);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:t,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame());}renderFrame(){if(!this._frameId)return;if(this._frameId=null,!this.isActive())return;const e=this._map.transform;\"wheel\"===this._type&&e.projection.wrap&&(e._center.lng>=180||e._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const t=()=>e._terrainEnabled()&&this._aroundCoord?e.computeZoomRelativeTo(this._aroundCoord):e.zoom;if(0!==this._delta){const i=\"wheel\"===this._type&&Math.abs(this._delta)>VS?this._wheelZoomRate:this._defaultZoomRate;let r=2/(1+Math.exp(-Math.abs(this._delta*i)));this._delta<0&&0!==r&&(r=1/r);const n=t(),o=Math.pow(2,n),s=\"number\"==typeof this._targetZoom?e.zoomScale(this._targetZoom):o;this._targetZoom=Math.min(e.maxZoom,Math.max(e.minZoom,e.scaleZoom(s*r))),\"wheel\"===this._type&&(this._startZoom=n,this._easing=this._smoothOutEasing(200)),this._lastDelta=this._delta,this._delta=0;}const i=\"number\"==typeof this._targetZoom?this._targetZoom:t(),r=this._startZoom,n=this._easing;let o,s=!1;if(\"wheel\"===this._type&&r&&n){const e=Math.min((dt.now()-this._lastWheelEventTime)/200,1);o=Kr(r,i,n(e)),e<1?this._frameId||(this._frameId=!0):s=!0;}else o=i,s=!0;this._active=!0,s&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout;}),200));let a=o-t();return a*this._lastDelta<0&&(a=0),{noInertia:!0,needsRenderFrame:!s,zoomDelta:a,around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(e){let t=C;if(this._prevEase){const e=this._prevEase,i=(dt.now()-e.start)/e.duration,r=e.easing(i+.01)-e.easing(i),n=.27/Math.sqrt(r*r+1e-4)*.01;t=I(n,Math.sqrt(.0729-n*n),.25,1);}return this._prevEase={start:dt.now(),duration:e,easing:t},t}blur(){this.reset();}reset(){this._active=!1;}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=pt(\"div\",\"mapboxgl-scroll-zoom-blocker\",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(t.navigator.userAgent)?this._map._getUIString(\"ScrollZoomBlocker.CmdMessage\"):this._map._getUIString(\"ScrollZoomBlocker.CtrlMessage\"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`);}_showBlockerAlert(){this._alertContainer.style.visibility=\"visible\",this._alertContainer.classList.add(\"mapboxgl-scroll-zoom-blocker-show\"),this._alertContainer.setAttribute(\"role\",\"alert\"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((()=>{this._alertContainer.classList.remove(\"mapboxgl-scroll-zoom-blocker-show\"),this._alertContainer.setAttribute(\"role\",\"null\");}),200);}}class GS{constructor(e,t){this._clickZoom=e,this._tapZoom=t;}enable(){this._clickZoom.enable(),this._tapZoom.enable();}disable(){this._clickZoom.disable(),this._tapZoom.disable();}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class qS{constructor(){this.reset();}reset(){this._active=!1;}blur(){this.reset();}dblclick(e,t){return e.preventDefault(),{cameraAnimation:i=>{i.easeTo({duration:300,zoom:i.getZoom()+(e.shiftKey?-1:1),around:i.unproject(t)},{originalEvent:e});}}}enable(){this._enabled=!0;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}}class ZS{constructor(){this._tap=new wS({numTouches:1,numTaps:1}),this.reset();}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset();}touchstart(e,t,i){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?i.length>0&&(this._swipePoint=t[0],this._swipeTouch=i[0].identifier):this._tap.touchstart(e,t,i));}touchmove(e,t,i){if(this._tapTime){if(this._swipePoint){if(i[0].identifier!==this._swipeTouch)return;const r=t[0],n=r.y-this._swipePoint.y;return this._swipePoint=r,e.preventDefault(),this._active=!0,{zoomDelta:n/128}}}else this._tap.touchmove(e,t,i);}touchend(e,t,i){this._tapTime?this._swipePoint&&0===i.length&&this.reset():this._tap.touchend(e,t,i)&&(this._tapTime=e.timeStamp);}touchcancel(){this.reset();}enable(){this._enabled=!0;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}}class $S{constructor(e,t,i){this._el=e,this._mousePan=t,this._touchPan=i;}enable(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add(\"mapboxgl-touch-drag-pan\");}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove(\"mapboxgl-touch-drag-pan\");}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class WS{constructor(e,t,i){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=i;}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable();}disable(){this._mouseRotate.disable(),this._mousePitch.disable();}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class HS{constructor(e,t,i,r){this._el=e,this._touchZoom=t,this._touchRotate=i,this._tapDragZoom=r,this._rotationDisabled=!1,this._enabled=!0;}enable(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add(\"mapboxgl-touch-zoom-rotate\");}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove(\"mapboxgl-touch-zoom-rotate\");}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable();}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable();}}const XS=e=>e.zoom||e.drag||e.pitch||e.rotate;class YS extends It{}class KS{constructor(){this.constants=[1,1,.01],this.radius=0;}setup(e,t){const i=Du.sub([],t,e);this.radius=Du.length(i[2]<0?Du.div([],i,this.constants):[i[0],i[1],0]);}projectRay(e){Du.div(e,e,this.constants),Du.normalize(e,e),Du.mul(e,e,this.constants);const t=Du.scale([],e,this.radius);if(t[2]>0){const e=Du.scale([],[0,0,1],Du.dot(t,[0,0,1])),i=Du.scale([],Du.normalize([],[t[0],t[1],0]),this.radius),r=Du.add([],t,Du.scale([],Du.sub([],Du.add([],i,e),t),2));t[0]=r[0],t[1]=r[1];}return t}}function JS(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}class QS{constructor(e,i){this._map=e,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new uS(e),this._bearingSnap=i.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new KS,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(i),j([\"handleEvent\",\"handleWindowEvent\"],this);const r=this._el;this._listeners=[[r,\"touchstart\",{passive:!0}],[r,\"touchmove\",{passive:!1}],[r,\"touchend\",void 0],[r,\"touchcancel\",void 0],[r,\"mousedown\",void 0],[r,\"mousemove\",void 0],[r,\"mouseup\",void 0],[t.document,\"mousemove\",{capture:!0}],[t.document,\"mouseup\",void 0],[r,\"mouseover\",void 0],[r,\"mouseout\",void 0],[r,\"dblclick\",void 0],[r,\"click\",void 0],[r,\"keydown\",{capture:!1}],[r,\"keyup\",void 0],[r,\"wheel\",{passive:!1}],[r,\"contextmenu\",void 0],[t,\"blur\",void 0]];for(const[e,i,r]of this._listeners)e.addEventListener(i,e===t.document?this.handleWindowEvent:this.handleEvent,r);}destroy(){for(const[e,i,r]of this._listeners)e.removeEventListener(i,e===t.document?this.handleWindowEvent:this.handleEvent,r);}_addDefaultHandlers(e){const t=this._map,i=t.getCanvasContainer();this._add(\"mapEvent\",new gS(t,e));const r=t.boxZoom=new xS(t,e);this._add(\"boxZoom\",r);const n=new TS,o=new qS;t.doubleClickZoom=new GS(o,n),this._add(\"tapZoom\",n),this._add(\"clickZoom\",o);const s=new ZS;this._add(\"tapDragZoom\",s);const a=t.touchPitch=new BS(t);this._add(\"touchPitch\",a);const l=new SS(e),c=new IS(e);t.dragRotate=new WS(e,l,c),this._add(\"mouseRotate\",l,[\"mousePitch\"]),this._add(\"mousePitch\",c,[\"mouseRotate\"]);const h=new AS(e),u=new CS(t,e);t.dragPan=new $S(i,h,u),this._add(\"mousePan\",h),this._add(\"touchPan\",u,[\"touchZoom\",\"touchRotate\"]);const d=new kS,p=new RS;t.touchZoomRotate=new HS(i,p,d,s),this._add(\"touchRotate\",d,[\"touchPan\",\"touchZoom\"]),this._add(\"touchZoom\",p,[\"touchPan\",\"touchRotate\"]),this._add(\"blockableMapEvent\",new yS(t));const f=t.scrollZoom=new jS(t,this);this._add(\"scrollZoom\",f,[\"mousePan\"]);const m=t.keyboard=new NS;this._add(\"keyboard\",m);for(const i of [\"boxZoom\",\"doubleClickZoom\",\"tapDragZoom\",\"touchPitch\",\"dragRotate\",\"dragPan\",\"touchZoomRotate\",\"scrollZoom\",\"keyboard\"])e.interactive&&e[i]&&t[i].enable(e[i]);}_add(e,t,i){this._handlers.push({handlerName:e,handler:t,allowed:i}),this._handlersById[e]=t;}stop(e){if(!this._updatingCamera){for(const{handler:e}of this._handlers)e.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[],this._originalZoom=void 0;}}isActive(){for(const{handler:e}of this._handlers)if(e.isActive())return !0;return !1}isZooming(){return !!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return !!this._eventsInProgress.rotate}isMoving(){return !!XS(this._eventsInProgress)||this.isZooming()}_isDragging(){return !!this._eventsInProgress.drag}_blockedByActive(e,t,i){for(const r in e)if(r!==i&&(!t||t.indexOf(r)<0))return !0;return !1}handleWindowEvent(e){this.handleEvent(e,`${e.type}Window`);}_getMapTouches(e){const t=[];for(const i of e)this._el.contains(i.target)&&t.push(i);return t}handleEvent(e,t){this._updatingCamera=!0;const i=\"renderFrame\"===e.type,r=i?void 0:e,n={needsRenderFrame:!1},o={},s={},a=e.touches?this._getMapTouches(e.touches):void 0,l=a?Tt(this._el,a):i?void 0:wt(this._el,e);for(const{handlerName:i,handler:c,allowed:h}of this._handlers){if(!c.isEnabled())continue;let u;this._blockedByActive(s,h,i)?c.reset():c[t||e.type]&&(u=c[t||e.type](e,l,a),this.mergeHandlerResult(n,o,u,i,r),u&&u.needsRenderFrame&&this._triggerRenderFrame()),(u||c.isActive())&&(s[i]=c);}const c={};for(const e in this._previousActiveHandlers)s[e]||(c[e]=r);this._previousActiveHandlers=s,(Object.keys(c).length||JS(n))&&(this._changes.push([n,o,c]),this._triggerRenderFrame()),(Object.keys(s).length||JS(n))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:h}=n;h&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],h(this._map));}mergeHandlerResult(e,t,i,r,n){if(!i)return;k(e,i);const o={handlerName:r,originalEvent:i.originalEvent||n};void 0!==i.zoomDelta&&(t.zoom=o),void 0!==i.panDelta&&(t.drag=o),void 0!==i.pitchDelta&&(t.pitch=o),void 0!==i.bearingDelta&&(t.rotate=o);}_applyChanges(){const e={},t={},i={};for(const[r,n,o]of this._changes)r.panDelta&&(e.panDelta=(e.panDelta||new y(0,0))._add(r.panDelta)),r.zoomDelta&&(e.zoomDelta=(e.zoomDelta||0)+r.zoomDelta),r.bearingDelta&&(e.bearingDelta=(e.bearingDelta||0)+r.bearingDelta),r.pitchDelta&&(e.pitchDelta=(e.pitchDelta||0)+r.pitchDelta),void 0!==r.around&&(e.around=r.around),void 0!==r.aroundCoord&&(e.aroundCoord=r.aroundCoord),void 0!==r.pinchAround&&(e.pinchAround=r.pinchAround),r.noInertia&&(e.noInertia=r.noInertia),k(t,n),k(i,o);this._updateMapTransform(e,t,i),this._changes=[];}_updateMapTransform(e,t,i){const r=this._map,n=r.transform,o=e=>[e.x,e.y,e.z];if((e=>{const t=this._eventsInProgress.drag;return t&&!this._handlersById[t.handlerName].isActive()})()&&!JS(e)){const e=n.zoom;n.cameraElevationReference=\"sea\",null!=this._originalZoom&&n._orthographicProjectionAtLowPitch&&\"globe\"!==n.projection.name&&0===n.pitch?(n.cameraElevationReference=\"ground\",n.zoom=this._originalZoom):(n.recenterOnTerrain(),n.cameraElevationReference=\"ground\"),e!==n.zoom&&this._map._update(!0);}if(n._isCameraConstrained&&r._stop(!0),!JS(e))return void this._fireEvents(t,i,!0);let{panDelta:s,zoomDelta:a,bearingDelta:l,pitchDelta:c,around:h,aroundCoord:u,pinchAround:d}=e;n._isCameraConstrained&&(a>0&&(a=0),n._isCameraConstrained=!1),void 0!==d&&(h=d),(a||(e=>t[e]&&!this._eventsInProgress[e])(\"drag\"))&&h&&(this._dragOrigin=o(n.pointCoordinate3D(h)),this._originalZoom=n.zoom,this._trackingEllipsoid.setup(n._camera.position,this._dragOrigin)),n.cameraElevationReference=\"sea\",r._stop(!0),h=h||r.transform.centerPoint,l&&(n.bearing+=l),c&&(n.pitch+=c),n._updateCameraState();const p=[0,0,0];if(s)if(\"mercator\"===n.projection.name){const e=this._trackingEllipsoid.projectRay(n.screenPointToMercatorRay(h).dir),t=this._trackingEllipsoid.projectRay(n.screenPointToMercatorRay(h.sub(s)).dir);p[0]=t[0]-e[0],p[1]=t[1]-e[1];}else {const e=n.pointCoordinate(h);if(\"globe\"===n.projection.name){s=s.rotate(-n.angle);const t=n._pixelsPerMercatorPixel/n.worldSize;p[0]=-s.x*sp(tp(e.y))*t,p[1]=-s.y*sp(n.center.lat)*t;}else {const t=n.pointCoordinate(h.sub(s));e&&t&&(p[0]=t.x-e.x,p[1]=t.y-e.y);}}const f=n.zoom,m=[0,0,0];if(a){const e=o(u||n.pointCoordinate3D(h)),t={dir:Du.normalize([],Du.sub([],e,n._camera.position))};if(t.dir[2]<0){const i=n.zoomDeltaToMovement(e,a);Du.scale(m,t.dir,i);}}const _=Du.add(p,p,m);n._translateCameraConstrained(_),a&&Math.abs(n.zoom-f)>1e-4&&n.recenterOnTerrain(),n.cameraElevationReference=\"ground\",this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(t,i,!0);}_fireEvents(e,t,i){const r=XS(this._eventsInProgress),n=XS(e),o={};for(const t in e){const{originalEvent:i}=e[t];this._eventsInProgress[t]||(o[`${t}start`]=i),this._eventsInProgress[t]=e[t];}!r&&n&&this._fireEvent(\"movestart\",n.originalEvent);for(const e in o)this._fireEvent(e,o[e]);n&&this._fireEvent(\"move\",n.originalEvent);for(const t in e){const{originalEvent:i}=e[t];this._fireEvent(t,i);}const s={};let a;for(const e in this._eventsInProgress){const{handlerName:i,originalEvent:r}=this._eventsInProgress[e];this._handlersById[i].isActive()||(delete this._eventsInProgress[e],a=t[i]||r,s[`${e}end`]=a);}for(const e in s)this._fireEvent(e,s[e]);const l=XS(this._eventsInProgress);if(i&&(r||n)&&!l){this._updatingCamera=!0;const e=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),t=e=>0!==e&&-this._bearingSnap<e&&e<this._bearingSnap;e?(t(e.bearing||this._map.getBearing())&&(e.bearing=0),this._map.easeTo(e,{originalEvent:a})):(this._map.fire(new It(\"moveend\",{originalEvent:a})),t(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1;}}_fireEvent(e,t){this._map.fire(new It(e,t?{originalEvent:t}:{}));}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((e=>{this._frameId=void 0,this.handleEvent(new YS(\"renderFrame\",{timeStamp:e})),this._applyChanges();}))}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame());}}const eI=\"map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.\";class tI extends zt{constructor(e,t){super(),this._moving=!1,this._zooming=!1,this.transform=e,this._bearingSnap=t.bearingSnap,this._respectPrefersReducedMotion=!1!==t.respectPrefersReducedMotion,j([\"_renderFrameCallback\"],this);}getCenter(){return new Wd(this.transform.center.lng,this.transform.center.lat)}setCenter(e,t){return this.jumpTo({center:e},t)}panBy(e,t,i){return e=y.convert(e).mult(-1),this.panTo(this.transform.center,k({offset:e},t),i)}panTo(e,t,i){return this.easeTo(k({center:e},t),i)}getZoom(){return this.transform.zoom}setZoom(e,t){return this.jumpTo({zoom:e},t),this}zoomTo(e,t,i){return this.easeTo(k({zoom:e},t),i)}zoomIn(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}zoomOut(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}getBearing(){return this.transform.bearing}setBearing(e,t){return this.jumpTo({bearing:e},t),this}getPadding(){return this.transform.padding}setPadding(e,t){return this.jumpTo({padding:e},t),this}rotateTo(e,t,i){return this.easeTo(k({bearing:e},t),i)}resetNorth(e,t){return this.rotateTo(0,k({duration:1e3},e),t),this}resetNorthPitch(e,t){return this.easeTo(k({bearing:0,pitch:0,duration:1e3},e),t),this}snapToNorth(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this}getPitch(){return this.transform.pitch}setPitch(e,t){return this.jumpTo({pitch:e},t),this}cameraForBounds(e,t){e=sc.convert(e);const i=t&&t.bearing||0,r=t&&t.pitch||0,n=e.getNorthWest(),o=e.getSouthEast();return this._cameraForBounds(this.transform,n,o,i,r,t)}_extendCameraOptions(e){const t={top:0,bottom:0,right:0,left:0};if(\"number\"==typeof(e=k({padding:t,offset:[0,0],maxZoom:this.transform.maxZoom},e)).padding){const t=e.padding;e.padding={top:t,bottom:t,right:t,left:t};}return e.padding=k(t,e.padding),e}_minimumAABBFrustumDistance(e,t){const i=t.max[0]-t.min[0],r=t.max[1]-t.min[1];return i/r>e.aspect?i/(2*Math.tan(.5*e.fovX)*e.aspect):r/(2*Math.tan(.5*e.fovY)*e.aspect)}_cameraForBoundsOnGlobe(e,t,i,r,n,o){const s=e.clone(),a=this._extendCameraOptions(o);s.bearing=r,s.pitch=n;const l=Wd.convert(t),c=Wd.convert(i),h=.5*(l.lat+c.lat),u=.5*(l.lng+c.lng),d=wd(h,u),p=Du.normalize([],d),f=Du.normalize([],Du.cross([],p,[0,1,0])),m=Du.cross([],f,p),_=[f[0],f[1],f[2],0,m[0],m[1],m[2],0,p[0],p[1],p[2],0,0,0,0,1],g=[d,wd(l.lat,l.lng),wd(c.lat,l.lng),wd(c.lat,c.lng),wd(l.lat,c.lng),wd(h,l.lng),wd(h,c.lng),wd(l.lat,u),wd(c.lat,u)];let y=ed.fromPoints(g.map((e=>[Du.dot(f,e),Du.dot(m,e),Du.dot(p,e)])));const x=Du.transformMat4([],y.center,_);0===Du.squaredLength(x)&&Du.set(x,0,0,1),Du.normalize(x,x),Du.scale(x,x,rd),s.center=function([e,t,i]){const r=Math.hypot(e,t,i),n=Math.atan2(e,i),o=.5*Math.PI-Math.acos(-t/r);return new Wd(T(n),T(o))}(x);const v=s.getWorldToCameraMatrix(),b=Au.invert(new Float64Array(16),v);y=ed.applyTransform(y,Au.multiply([],v,_)),Du.transformMat4(x,x,v);const w=.5*(y.max[2]-y.min[2]),E=this._minimumAABBFrustumDistance(s,y),M=Du.scale([],[0,0,1],w),A=Du.add(M,x,M),S=E+(0===s.pitch?0:Du.distance(x,A)),I=s.globeCenterInViewSpace,C=Du.sub([],x,[I[0],I[1],I[2]]);Du.normalize(C,C),Du.scale(C,C,S);const z=Du.add([],x,C);Du.transformMat4(z,z,b);const P=qd/rd,D=Du.length(z),R=Qd(Math.max(D*P-qd,Number.EPSILON),0),L=Math.min(s.zoomFromMercatorZAdjusted(R),a.maxZoom);return L>.5*(td+id)?(s.setProjection({name:\"mercator\"}),s.zoom=L,this._cameraForBounds(s,t,i,r,n,o)):{center:s.center,zoom:L,bearing:r,pitch:n}}queryTerrainElevation(e,t){const i=this.transform.elevation;return i?(t=k({},{exaggerated:!0},t),i.getAtPoint(lp.fromLngLat(e),null,t.exaggerated)):null}_cameraForBounds(e,t,i,r,n,o){if(\"globe\"===e.projection.name)return this._cameraForBoundsOnGlobe(e,t,i,r,n,o);const s=e.clone(),a=this._extendCameraOptions(o),l=s.padding;s.bearing=r,s.pitch=n;const c=Wd.convert(t),h=Wd.convert(i),u=new Wd(c.lng,h.lat),d=new Wd(h.lng,c.lat),p=s.project(c),f=s.project(h),m=this.queryTerrainElevation(c),_=this.queryTerrainElevation(h),g=this.queryTerrainElevation(u),x=this.queryTerrainElevation(d),v=[[p.x,p.y,Math.min(m||0,_||0,g||0,x||0)],[f.x,f.y,Math.max(m||0,_||0,g||0,x||0)]];let b=ed.fromPoints(v);const T=s.getWorldToCameraMatrix(),E=Au.invert(new Float64Array(16),T);b=ed.applyTransform(b,T);const M=Du.sub([],b.max,b.min),A=l.left||0,S=l.right||0,I=l.bottom||0,C=l.top||0,{left:z,right:P,top:D,bottom:R}=a.padding,L=.5*(A+S),k=.5*(C+I),O=Math.min(s.scaleZoom(s.scale*Math.min((s.width-(A+S+z+P))/M[0],(s.height-(I+C+R+D))/M[1])),a.maxZoom),B=s.scale/s.zoomScale(O);b=new ed([b.min[0]-(z+L)*B,b.min[1]-(R+k)*B,b.min[2]],[b.max[0]+(P+L)*B,b.max[1]+(D+k)*B,b.max[2]]);const F=.5*M[2],N=this._minimumAABBFrustumDistance(s,b),U=[0,0,1,0];yu.transformMat4(U,U,T),yu.normalize(U,U);const V=Du.scale([],U,N+F),j=Du.add([],b.center,V),G=(\"number\"==typeof a.offset.x&&\"number\"==typeof a.offset.y?new y(a.offset.x,a.offset.y):y.convert(a.offset)).rotate(-w(r));b.center[0]-=G.x*B,b.center[1]+=G.y*B,Du.transformMat4(b.center,b.center,E),Du.transformMat4(j,j,E);const q=[b.center[0],b.center[1],j[2]*s.pixelsPerMeter];Du.scale(q,q,1/s.worldSize);const Z=ep(q[0]),$=tp(q[1]),W=Math.min(s._zoomFromMercatorZ(q[2]),a.maxZoom),H=new Wd(Z,$);return s.mercatorFromTransition&&W<.5*(td+id)?(s.setProjection({name:\"globe\"}),s.zoom=W,this._cameraForBounds(s,t,i,r,n,o)):{center:H,zoom:W,bearing:r,pitch:n}}fitBounds(e,t,i){const r=this.cameraForBounds(e,t);return this._fitInternal(r,t,i)}fitScreenCoordinates(e,t,i,r,n){const o=y.convert(e),s=y.convert(t),a=new y(Math.min(o.x,s.x),Math.min(o.y,s.y)),l=new y(Math.max(o.x,s.x),Math.max(o.y,s.y));if(\"mercator\"===this.transform.projection.name&&this.transform.anyCornerOffEdge(o,s))return this;const c=this.transform.pointLocation3D(a),h=this.transform.pointLocation3D(l),u=this.transform.pointLocation3D(new y(a.x,l.y)),d=this.transform.pointLocation3D(new y(l.x,a.y)),p=[Math.min(c.lng,h.lng,u.lng,d.lng),Math.min(c.lat,h.lat,u.lat,d.lat)],f=[Math.max(c.lng,h.lng,u.lng,d.lng),Math.max(c.lat,h.lat,u.lat,d.lat)],m=r&&r.pitch?r.pitch:this.getPitch(),_=this._cameraForBounds(this.transform,p,f,i,m,r);return this._fitInternal(_,r,n)}_fitInternal(e,t,i){return e?(delete(t=k(e,t)).padding,t.linear?this.easeTo(t,i):this.flyTo(t,i)):this}jumpTo(e,t){this.stop();const i=e.preloadOnly?this.transform.clone():this.transform;let r=!1,n=!1,o=!1;return \"zoom\"in e&&i.zoom!==+e.zoom&&(r=!0,i.zoom=+e.zoom),void 0!==e.center&&(i.center=Wd.convert(e.center)),\"bearing\"in e&&i.bearing!==+e.bearing&&(n=!0,i.bearing=+e.bearing),\"pitch\"in e&&i.pitch!==+e.pitch&&(o=!0,i.pitch=+e.pitch),null==e.padding||i.isPaddingEqual(e.padding)||(i.padding=e.padding),e.preloadOnly?(this._preloadTiles(i),this):(this.fire(new It(\"movestart\",t)).fire(new It(\"move\",t)),r&&this.fire(new It(\"zoomstart\",t)).fire(new It(\"zoom\",t)).fire(new It(\"zoomend\",t)),n&&this.fire(new It(\"rotatestart\",t)).fire(new It(\"rotate\",t)).fire(new It(\"rotateend\",t)),o&&this.fire(new It(\"pitchstart\",t)).fire(new It(\"pitch\",t)).fire(new It(\"pitchend\",t)),this.fire(new It(\"moveend\",t)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||H(eI),this.transform.getFreeCameraOptions()}setFreeCameraOptions(e,t){const i=this.transform;if(!i.projection.supportsFreeCamera)return H(eI),this;this.stop();const r=i.zoom,n=i.pitch,o=i.bearing;i.setFreeCameraOptions(e);const s=r!==i.zoom,a=n!==i.pitch,l=o!==i.bearing;return this.fire(new It(\"movestart\",t)).fire(new It(\"move\",t)),s&&this.fire(new It(\"zoomstart\",t)).fire(new It(\"zoom\",t)).fire(new It(\"zoomend\",t)),l&&this.fire(new It(\"rotatestart\",t)).fire(new It(\"rotate\",t)).fire(new It(\"rotateend\",t)),a&&this.fire(new It(\"pitchstart\",t)).fire(new It(\"pitch\",t)).fire(new It(\"pitchend\",t)),this.fire(new It(\"moveend\",t)),this}easeTo(e,t){this._stop(!1,e.easeId),(!1===(e=k({offset:[0,0],duration:500,easing:C},e)).animate||this._prefersReducedMotion(e))&&(e.duration=0);const i=this.transform,r=this.getZoom(),n=this.getBearing(),o=this.getPitch(),s=this.getPadding(),a=\"zoom\"in e?+e.zoom:r,l=\"bearing\"in e?this._normalizeBearing(e.bearing,n):n,c=\"pitch\"in e?+e.pitch:o,h=\"padding\"in e?e.padding:i.padding,u=y.convert(e.offset);let d,p,f;if(\"globe\"===i.projection.name){const t=lp.fromLngLat(i.center),r=u.rotate(-i.angle);t.x+=r.x/i.worldSize,t.y+=r.y/i.worldSize;const n=t.toLngLat(),o=Wd.convert(e.center||n);this._normalizeCenter(o),d=i.centerPoint.add(r),p=new y(t.x,t.y).mult(i.worldSize),f=new y(Kd(o.lng),Jd(o.lat)).mult(i.worldSize).sub(p);}else {d=i.centerPoint.add(u);const t=i.pointLocation(d),r=Wd.convert(e.center||t);this._normalizeCenter(r),p=i.project(t),f=i.project(r).sub(p);}const m=i.zoomScale(a-r);let _,g;e.around&&(_=Wd.convert(e.around),g=i.locationPoint(_));const x=this._zooming||a!==r,v=this._rotating||n!==l,b=this._pitching||c!==o,w=!i.isPaddingEqual(h),T=i=>y=>{if(x&&(i.zoom=Kr(r,a,y)),v&&(i.bearing=Kr(n,l,y)),b&&(i.pitch=Kr(o,c,y)),w&&(i.interpolatePadding(s,h,y),d=i.centerPoint.add(u)),_)i.setLocationAtPoint(_,g);else {const e=i.zoomScale(i.zoom-r),t=a>r?Math.min(2,m):Math.max(.5,m),n=Math.pow(t,1-y),o=i.unproject(p.add(f.mult(y*n)).mult(e));i.setLocationAtPoint(i.renderWorldCopies?o.wrap():o,d);}return e.preloadOnly||this._fireMoveEvents(t),i};if(e.preloadOnly){const t=this._emulate(T,e.duration,i);return this._preloadTiles(t),this}const E={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=x,this._rotating=v,this._pitching=b,this._padding=w,this._easeId=e.easeId,this._prepareEase(t,e.noMoveStart,E),this._ease(T(i),(e=>{\"sea\"===i.cameraElevationReference&&i.recenterOnTerrain(),this._afterEase(t,e);}),e),this}_prepareEase(e,t,i={}){this._moving=!0,this.transform.cameraElevationReference=\"sea\",this.transform._orthographicProjectionAtLowPitch&&0===this.transform.pitch&&\"globe\"!==this.transform.projection.name&&(this.transform.cameraElevationReference=\"ground\"),t||i.moving||this.fire(new It(\"movestart\",e)),this._zooming&&!i.zooming&&this.fire(new It(\"zoomstart\",e)),this._rotating&&!i.rotating&&this.fire(new It(\"rotatestart\",e)),this._pitching&&!i.pitching&&this.fire(new It(\"pitchstart\",e));}_fireMoveEvents(e){this.fire(new It(\"move\",e)),this._zooming&&this.fire(new It(\"zoom\",e)),this._rotating&&this.fire(new It(\"rotate\",e)),this._pitching&&this.fire(new It(\"pitch\",e));}_afterEase(e,t){if(this._easeId&&t&&this._easeId===t)return;this._easeId=void 0,this.transform.cameraElevationReference=\"ground\";const i=this._zooming,r=this._rotating,n=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,i&&this.fire(new It(\"zoomend\",e)),r&&this.fire(new It(\"rotateend\",e)),n&&this.fire(new It(\"pitchend\",e)),this.fire(new It(\"moveend\",e));}flyTo(e,t){if(this._prefersReducedMotion(e)){const i=O(e,[\"center\",\"zoom\",\"bearing\",\"pitch\",\"around\"]);return this.jumpTo(i,t)}this.stop(),e=k({offset:[0,0],speed:1.2,curve:1.42,easing:C},e);const i=this.transform,r=this.getZoom(),n=this.getBearing(),o=this.getPitch(),s=this.getPadding(),a=\"zoom\"in e?z(+e.zoom,i.minZoom,i.maxZoom):r,l=\"bearing\"in e?this._normalizeBearing(e.bearing,n):n,c=\"pitch\"in e?+e.pitch:o,h=\"padding\"in e?e.padding:i.padding,u=i.zoomScale(a-r),d=y.convert(e.offset);let p=i.centerPoint.add(d);const f=i.pointLocation(p),m=Wd.convert(e.center||f);this._normalizeCenter(m);const _=i.project(f),g=i.project(m).sub(_);let x=e.curve;const v=Math.max(i.width,i.height),b=v/u,w=g.mag();if(\"minZoom\"in e){const t=z(Math.min(e.minZoom,r,a),i.minZoom,i.maxZoom),n=v/i.zoomScale(t-r);x=Math.sqrt(n/w*2);}const T=x*x;function E(e){const t=(b*b-v*v+(e?-1:1)*T*T*w*w)/(2*(e?b:v)*T*w);return Math.log(Math.sqrt(t*t+1)-t)}function M(e){return (Math.exp(e)-Math.exp(-e))/2}function A(e){return (Math.exp(e)+Math.exp(-e))/2}const S=E(0);let I=function(e){return A(S)/A(S+x*e)},P=function(e){return v*((A(S)*(M(t=S+x*e)/A(t))-M(S))/T)/w;var t;},D=(E(1)-S)/x;if(Math.abs(w)<1e-6||!isFinite(D)){if(Math.abs(v-b)<1e-6)return this.easeTo(e,t);const i=b<v?-1:1;D=Math.abs(Math.log(b/v))/x,P=function(){return 0},I=function(e){return Math.exp(i*x*e)};}e.duration=\"duration\"in e?+e.duration:1e3*D/(\"screenSpeed\"in e?+e.screenSpeed/x:+e.speed),e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0);const R=n!==l,L=c!==o,B=!i.isPaddingEqual(h),F=i=>u=>{const f=u*D,y=1/I(f);i.zoom=1===u?a:r+i.scaleZoom(y),R&&(i.bearing=Kr(n,l,u)),L&&(i.pitch=Kr(o,c,u)),B&&(i.interpolatePadding(s,h,u),p=i.centerPoint.add(d));const x=1===u?m:i.unproject(_.add(g.mult(P(f))).mult(y));return i.setLocationAtPoint(i.renderWorldCopies?x.wrap():x,p),i._updateCameraOnTerrain(),e.preloadOnly||this._fireMoveEvents(t),i};if(e.preloadOnly){const t=this._emulate(F,e.duration,i);return this._preloadTiles(t),this}return this._zooming=!0,this._rotating=R,this._pitching=L,this._padding=B,this._prepareEase(t,!1),this._ease(F(i),(()=>this._afterEase(t)),e),this}isEasing(){return !!this._easeFrameId}stop(){return this._stop()}_stop(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const e=this._onEaseEnd;this._onEaseEnd=void 0,e.call(this,t);}if(!e){const e=this.handlers;e&&e.stop(!1);}return this}_ease(e,t,i){!1===i.animate||0===i.duration?(e(1),t()):(this._easeStart=dt.now(),this._easeOptions=i,this._onEaseFrame=e,this._onEaseEnd=t,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback));}_renderFrameCallback(){const e=Math.min((dt.now()-this._easeStart)/this._easeOptions.duration,1),t=this._onEaseFrame;t&&t(this._easeOptions.easing(e)),e<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop();}_normalizeBearing(e,t){e=D(e,-180,180);const i=Math.abs(e-t);return Math.abs(e-360-t)<i&&(e-=360),Math.abs(e+360-t)<i&&(e+=360),e}_normalizeCenter(e){const t=this.transform;if(t.maxBounds)return;if(\"globe\"!==t.projection.name&&!t.renderWorldCopies)return;const i=e.lng-t.center.lng;e.lng+=i>180?-360:i<-180?360:0;}_prefersReducedMotion(e){return this._respectPrefersReducedMotion&&dt.prefersReducedMotion&&!(e&&e.essential)}_emulate(e,t,i){const r=Math.ceil(15*t/1e3),n=[],o=e(i.clone());for(let e=0;e<=r;e++){const t=o(e/r);n.push(t.clone());}return n}}class iI{constructor(e={}){this.options=e,j([\"_toggleAttribution\",\"_updateEditLink\",\"_updateData\",\"_updateCompact\"],this);}getDefaultPosition(){return \"bottom-right\"}onAdd(e){const t=this.options&&this.options.compact;return this._map=e,this._container=pt(\"div\",\"mapboxgl-ctrl mapboxgl-ctrl-attrib\"),this._compactButton=pt(\"button\",\"mapboxgl-ctrl-attrib-button\",this._container),pt(\"span\",\"mapboxgl-ctrl-icon\",this._compactButton).setAttribute(\"aria-hidden\",\"true\"),this._compactButton.type=\"button\",this._compactButton.addEventListener(\"click\",this._toggleAttribution),this._setElementTitle(this._compactButton,\"ToggleAttribution\"),this._innerContainer=pt(\"div\",\"mapboxgl-ctrl-attrib-inner\",this._container),t&&this._container.classList.add(\"mapboxgl-compact\"),this._updateAttributions(),this._updateEditLink(),this._map.on(\"styledata\",this._updateData),this._map.on(\"sourcedata\",this._updateData),this._map.on(\"moveend\",this._updateEditLink),void 0===t&&(this._map.on(\"resize\",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off(\"styledata\",this._updateData),this._map.off(\"sourcedata\",this._updateData),this._map.off(\"moveend\",this._updateEditLink),this._map.off(\"resize\",this._updateCompact),this._map=void 0,this._attribHTML=void 0;}_setElementTitle(e,t){const i=this._map._getUIString(`AttributionControl.${t}`);e.removeAttribute(\"title\"),e.firstElementChild&&e.firstElementChild.setAttribute(\"title\",i);}_toggleAttribution(){this._container.classList.contains(\"mapboxgl-compact-show\")?(this._container.classList.remove(\"mapboxgl-compact-show\"),this._compactButton.setAttribute(\"aria-expanded\",\"false\")):(this._container.classList.add(\"mapboxgl-compact-show\"),this._compactButton.setAttribute(\"aria-expanded\",\"true\"));}_updateEditLink(){let e=this._editLink;e||(e=this._editLink=this._container.querySelector(\".mapbox-improve-map\"));const t=[{key:\"owner\",value:this.styleOwner},{key:\"id\",value:this.styleId},{key:\"access_token\",value:this._map._requestManager._customAccessToken||n.ACCESS_TOKEN}];if(e){const i=t.reduce(((e,i,r)=>(i.value&&(e+=`${i.key}=${i.value}${r<t.length-1?\"&\":\"\"}`),e)),\"?\");e.href=`${n.FEEDBACK_URL}/${i}#${oS(this._map,!0)}`,e.rel=\"noopener nofollow\",this._setElementTitle(e,\"MapFeedback\");}}_updateData(e){!e||\"metadata\"!==e.sourceDataType&&\"visibility\"!==e.sourceDataType&&\"style\"!==e.dataType||(this._updateAttributions(),this._updateEditLink());}_updateAttributions(){if(!this._map.style)return;let e=[];if(this._map.style.stylesheet){const e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id;}const t=this._map.style._mergedSourceCaches;for(const i in t){const r=t[i];if(r.used){const t=r.getSource();t.attribution&&e.indexOf(t.attribution)<0&&e.push(t.attribution);}}e.sort(((e,t)=>e.length-t.length)),e=e.filter(((t,i)=>{for(let r=i+1;r<e.length;r++)if(e[r].indexOf(t)>=0)return !1;return !0})),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=[...this.options.customAttribution,...e]:e.unshift(this.options.customAttribution));const i=e.join(\" | \");i!==this._attribHTML&&(this._attribHTML=i,e.length?(this._innerContainer.innerHTML=i,this._container.classList.remove(\"mapboxgl-attrib-empty\")):this._container.classList.add(\"mapboxgl-attrib-empty\"),this._editLink=null);}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add(\"mapboxgl-compact\"):this._container.classList.remove(\"mapboxgl-compact\",\"mapboxgl-compact-show\");}}class rI{constructor(){j([\"_updateLogo\",\"_updateCompact\"],this);}onAdd(e){this._map=e,this._container=pt(\"div\",\"mapboxgl-ctrl\");const t=pt(\"a\",\"mapboxgl-ctrl-logo\");return t.target=\"_blank\",t.rel=\"noopener nofollow\",t.href=\"https://www.mapbox.com/\",t.setAttribute(\"aria-label\",this._map._getUIString(\"LogoControl.Title\")),t.setAttribute(\"rel\",\"noopener nofollow\"),this._container.appendChild(t),this._container.style.display=\"none\",this._map.on(\"sourcedata\",this._updateLogo),this._updateLogo(),this._map.on(\"resize\",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off(\"sourcedata\",this._updateLogo),this._map.off(\"resize\",this._updateCompact);}getDefaultPosition(){return \"bottom-left\"}_updateLogo(e){e&&\"metadata\"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?\"block\":\"none\");}_logoRequired(){if(!this._map.style)return !0;const e=this._map.style._sourceCaches;if(0===Object.entries(e).length)return !0;for(const t in e){const i=e[t].getSource();if(i.hasOwnProperty(\"mapbox_logo\")&&!i.mapbox_logo)return !1}return !0}_updateCompact(){const e=this._container.children;if(e.length){const t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add(\"mapboxgl-compact\"):t.classList.remove(\"mapboxgl-compact\");}}}class nI{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1;}add(e){const t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t}remove(e){const t=this._currentlyRunning,i=t?this._queue.concat(t):this._queue;for(const t of i)if(t.id===e)return void(t.cancelled=!0)}run(e=0){const t=this._currentlyRunning=this._queue;this._queue=[];for(const i of t)if(!i.cancelled&&(i.callback(e),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1;}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[];}}function oI(e,t,i){if(e=new Wd(e.lng,e.lat),t){const r=new Wd(e.lng-360,e.lat),n=new Wd(e.lng+360,e.lat),o=360*Math.ceil(Math.abs(e.lng-i.center.lng)/360),s=i.locationPoint(e).distSqr(t),a=t.x<0||t.y<0||t.x>i.width||t.y>i.height;i.locationPoint(r).distSqr(t)<s&&(a||Math.abs(r.lng-i.center.lng)<o)?e=r:i.locationPoint(n).distSqr(t)<s&&(a||Math.abs(n.lng-i.center.lng)<o)&&(e=n);}for(;Math.abs(e.lng-i.center.lng)>180;){const t=i.locationPoint(e);if(t.x>=0&&t.y>=0&&t.x<=i.width&&t.y<=i.height)break;e.lng>i.center.lng?e.lng-=360:e.lng+=360;}return e}const sI={center:\"translate(-50%,-50%)\",top:\"translate(-50%,0)\",\"top-left\":\"translate(0,0)\",\"top-right\":\"translate(-100%,0)\",bottom:\"translate(-50%,-100%)\",\"bottom-left\":\"translate(0,-100%)\",\"bottom-right\":\"translate(-100%,-100%)\",left:\"translate(0,-50%)\",right:\"translate(-100%,-50%)\"};class aI extends zt{constructor(e,i){if(super(),(e instanceof t.HTMLElement||i)&&(e=k({element:e},i)),j([\"_update\",\"_onMove\",\"_onUp\",\"_addDragHandler\",\"_onMapClick\",\"_onKeyPress\",\"_clearFadeTimer\"],this),this._anchor=e&&e.anchor||\"center\",this._color=e&&e.color||\"#3FB1CE\",this._scale=e&&e.scale||1,this._draggable=e&&e.draggable||!1,this._clickTolerance=e&&e.clickTolerance||0,this._isDragging=!1,this._state=\"inactive\",this._rotation=e&&e.rotation||0,this._rotationAlignment=e&&e.rotationAlignment||\"auto\",this._pitchAlignment=e&&e.pitchAlignment&&e.pitchAlignment||\"auto\",this._updateMoving=()=>this._update(!0),this._occludedOpacity=e&&e.occludedOpacity||.2,e&&e.element)this._element=e.element,this._offset=y.convert(e&&e.offset||[0,0]);else {this._defaultMarker=!0,this._element=pt(\"div\");const t=41,i=27,r=ft(\"svg\",{display:\"block\",height:t*this._scale+\"px\",width:i*this._scale+\"px\",viewBox:`0 0 ${i} ${t}`},this._element),n=ft(\"radialGradient\",{id:\"shadowGradient\"},ft(\"defs\",{},r));ft(\"stop\",{offset:\"10%\",\"stop-opacity\":.4},n),ft(\"stop\",{offset:\"100%\",\"stop-opacity\":.05},n),ft(\"ellipse\",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:\"url(#shadowGradient)\"},r),ft(\"path\",{fill:this._color,d:\"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z\"},r),ft(\"path\",{opacity:.25,d:\"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z\"},r),ft(\"circle\",{fill:\"white\",cx:13.5,cy:13.5,r:5.5},r),this._offset=y.convert(e&&e.offset||[0,-14]);}this._element.hasAttribute(\"aria-label\")||this._element.setAttribute(\"aria-label\",\"Map marker\"),this._element.hasAttribute(\"role\")||this._element.setAttribute(\"role\",\"img\"),this._element.classList.add(\"mapboxgl-marker\"),this._element.addEventListener(\"dragstart\",(e=>{e.preventDefault();})),this._element.addEventListener(\"mousedown\",(e=>{e.preventDefault();}));const r=this._element.classList;for(const e in sI)r.remove(`mapboxgl-marker-anchor-${e}`);r.add(`mapboxgl-marker-anchor-${this._anchor}`);const n=e&&e.className?e.className.trim().split(/\\s+/):[];r.add(...n),this._popup=null;}addTo(e){return e===this._map||(this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on(\"move\",this._updateMoving),e.on(\"moveend\",this._update),e.on(\"remove\",this._clearFadeTimer),e._addMarker(this),this.setDraggable(this._draggable),this._update(),e.on(\"click\",this._onMapClick)),this}remove(){const e=this._map;return e&&(e.off(\"click\",this._onMapClick),e.off(\"move\",this._updateMoving),e.off(\"moveend\",this._update),e.off(\"mousedown\",this._addDragHandler),e.off(\"touchstart\",this._addDragHandler),e.off(\"mouseup\",this._onUp),e.off(\"touchend\",this._onUp),e.off(\"mousemove\",this._onMove),e.off(\"touchmove\",this._onMove),e.off(\"remove\",this._clearFadeTimer),e._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(e){return this._lngLat=Wd.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute(\"role\"),this._element.removeEventListener(\"keypress\",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute(\"tabindex\")),e){if(!(\"offset\"in e.options)){const t=38.1,i=13.5,r=Math.sqrt(Math.pow(i,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],\"top-left\":[0,0],\"top-right\":[0,0],bottom:[0,-t],\"bottom-left\":[r,-1*(t-i+r)],\"bottom-right\":[-r,-1*(t-i+r)],left:[i,-1*(t-i)],right:[-i,-1*(t-i)]}:this._offset;}this._popup=e,e._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute(\"role\",\"button\"),this._originalTabIndex=this._element.getAttribute(\"tabindex\"),this._originalTabIndex||this._element.setAttribute(\"tabindex\",\"0\"),this._element.addEventListener(\"keypress\",this._onKeyPress),this._element.setAttribute(\"aria-expanded\",\"false\");}return this}_onKeyPress(e){const t=e.code,i=e.charCode||e.keyCode;\"Space\"!==t&&\"Enter\"!==t&&32!==i&&13!==i||this.togglePopup();}_onMapClick(e){const t=e.originalEvent.target,i=this._element;this._popup&&(t===i||i.contains(t))&&this.togglePopup();}getPopup(){return this._popup}togglePopup(){const e=this._popup;return e?(e.isOpen()?(e.remove(),this._element.setAttribute(\"aria-expanded\",\"false\")):this._map&&(e.addTo(this._map),this._element.setAttribute(\"aria-expanded\",\"true\")),this):this}_behindTerrain(){const e=this._map,t=this._pos;if(!e||!t)return !1;const i=e.unproject(t),r=e.getFreeCameraOptions();if(!r.position)return !1;const n=r.position.toLngLat();return n.distanceTo(i)<.9*n.distanceTo(this._lngLat)}_evaluateOpacity(){const e=this._map;if(!e)return;const t=this._pos;if(!t||t.x<0||t.x>e.transform.width||t.y<0||t.y>e.transform.height)return void this._clearFadeTimer();const i=e.unproject(t);let r;e._showingGlobe()&&Nd(e.transform,this._lngLat)?r=0:(r=1-e._queryFogOpacity(i),e.transform._terrainEnabled()&&e.getTerrain()&&this._behindTerrain()&&(r*=this._occludedOpacity)),this._element.style.opacity=`${r}`,this._element.style.pointerEvents=r>0?\"auto\":\"none\",this._popup&&this._popup._setOpacity(r),this._fadeTimer=null;}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null);}_updateDOM(){const e=this._pos;if(!e||!this._map)return;const t=this._offset.mult(this._scale);this._element.style.transform=`\\n            translate(${e.x}px,${e.y}px)\\n            ${sI[this._anchor]}\\n            ${this._calculateXYTransform()} ${this._calculateZTransform()}\\n            translate(${t.x}px,${t.y}px)\\n        `;}_calculateXYTransform(){const e=this._pos,t=this._map,i=this.getPitchAlignment();if(!t||!e||\"map\"!==i)return \"\";if(!t._showingGlobe()){const e=t.getPitch();return e?`rotateX(${e}deg)`:\"\"}const r=T(Fd(t.transform,this._lngLat)),n=e.sub(Bd(t.transform)),o=Math.abs(n.x)+Math.abs(n.y);if(0===o)return \"\";const s=r/o;return `rotateX(${-n.y*s}deg) rotateY(${n.x*s}deg)`}_calculateZTransform(){const e=this._pos,t=this._map;if(!t||!e)return \"\";let i=0;const r=this.getRotationAlignment();if(\"map\"===r)if(t._showingGlobe()){const e=t.project(new Wd(this._lngLat.lng,this._lngLat.lat+.001)),r=t.project(new Wd(this._lngLat.lng,this._lngLat.lat-.001)).sub(e);i=T(Math.atan2(r.y,r.x))-90;}else i=-t.getBearing();else if(\"horizon\"===r){const r=P(4,6,t.getZoom()),n=Bd(t.transform);n.y+=r*t.transform.height;const o=e.sub(n),s=T(Math.atan2(o.y,o.x));i=(s>90?s-270:s+90)*(1-r);}return i+=this._rotation,i?`rotateZ(${i}deg)`:\"\"}_update(e){t.cancelAnimationFrame(this._updateFrameId);const i=this._map;i&&(i.transform.renderWorldCopies&&(this._lngLat=oI(this._lngLat,this._pos,i.transform)),this._pos=i.project(this._lngLat),!0===e?this._updateFrameId=t.requestAnimationFrame((()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM());})):this._pos=this._pos.round(),i._requestDomTask((()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(i._showingGlobe()||i.getTerrain()||i.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)));})));}getOffset(){return this._offset}setOffset(e){return this._offset=y.convert(e),this._update(),this}addClassName(e){return this._element.classList.add(e),this}removeClassName(e){return this._element.classList.remove(e),this}toggleClassName(e){return this._element.classList.toggle(e)}_onMove(e){const t=this._map;if(!t)return;const i=this._pointerdownPos,r=this._positionDelta;if(i&&r){if(!this._isDragging){const r=this._clickTolerance||t._clickTolerance;if(e.point.dist(i)<r)return;this._isDragging=!0;}this._pos=e.point.sub(r),this._lngLat=t.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents=\"none\",\"pending\"===this._state&&(this._state=\"active\",this.fire(new It(\"dragstart\"))),this.fire(new It(\"drag\"));}}_onUp(){this._element.style.pointerEvents=\"auto\",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const e=this._map;e&&(e.off(\"mousemove\",this._onMove),e.off(\"touchmove\",this._onMove)),\"active\"===this._state&&this.fire(new It(\"dragend\")),this._state=\"inactive\";}_addDragHandler(e){const t=this._map,i=this._pos;t&&i&&this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(i),this._pointerdownPos=e.point,this._state=\"pending\",t.on(\"mousemove\",this._onMove),t.on(\"touchmove\",this._onMove),t.once(\"mouseup\",this._onUp),t.once(\"touchend\",this._onUp));}setDraggable(e){this._draggable=!!e;const t=this._map;return t&&(e?(t.on(\"mousedown\",this._addDragHandler),t.on(\"touchstart\",this._addDragHandler)):(t.off(\"mousedown\",this._addDragHandler),t.off(\"touchstart\",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(e){return this._rotation=e||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(e){return this._rotationAlignment=e||\"auto\",this._update(),this}getRotationAlignment(){return \"auto\"===this._rotationAlignment||\"horizon\"===this._rotationAlignment&&this._map&&!this._map._showingGlobe()?\"viewport\":this._rotationAlignment}setPitchAlignment(e){return this._pitchAlignment=e||\"auto\",this._update(),this}getPitchAlignment(){return \"auto\"===this._pitchAlignment?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(e){return this._occludedOpacity=e||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const lI={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:\"\",maxWidth:\"240px\"},cI=[\"a[href]\",\"[tabindex]:not([tabindex='-1'])\",\"[contenteditable]:not([contenteditable='false'])\",\"button:not([disabled])\",\"input:not([disabled])\",\"select:not([disabled])\",\"textarea:not([disabled])\"].join(\", \");function hI(e=new y(0,0),t=\"bottom\"){if(\"number\"==typeof e){const i=Math.round(Math.sqrt(.5*Math.pow(e,2)));switch(t){case\"top\":return new y(0,e);case\"top-left\":return new y(i,i);case\"top-right\":return new y(-i,i);case\"bottom\":return new y(0,-e);case\"bottom-left\":return new y(i,-i);case\"bottom-right\":return new y(-i,-i);case\"left\":return new y(e,0);case\"right\":return new y(-e,0)}return new y(0,0)}return e instanceof y||Array.isArray(e)?y.convert(e):y.convert(e[t]||[0,0])}class uI{constructor(e){this.jumpTo(e);}getValue(e){if(e<=this._startTime)return this._start;if(e>=this._endTime)return this._end;const t=M((e-this._startTime)/(this._endTime-this._startTime));return this._start*(1-t)+this._end*t}isEasing(e){return e>=this._startTime&&e<=this._endTime}jumpTo(e){this._startTime=-1/0,this._endTime=-1/0,this._start=e,this._end=e;}easeTo(e,t,i){this._start=this.getValue(t),this._end=e,this._startTime=t,this._endTime=t+i;}}const dI={\"AttributionControl.ToggleAttribution\":\"Toggle attribution\",\"AttributionControl.MapFeedback\":\"Map feedback\",\"FullscreenControl.Enter\":\"Enter fullscreen\",\"FullscreenControl.Exit\":\"Exit fullscreen\",\"GeolocateControl.FindMyLocation\":\"Find my location\",\"GeolocateControl.LocationNotAvailable\":\"Location not available\",\"LogoControl.Title\":\"Mapbox logo\",\"Map.Title\":\"Map\",\"NavigationControl.ResetBearing\":\"Reset bearing to north\",\"NavigationControl.ZoomIn\":\"Zoom in\",\"NavigationControl.ZoomOut\":\"Zoom out\",\"ScrollZoomBlocker.CtrlMessage\":\"Use ctrl + scroll to zoom the map\",\"ScrollZoomBlocker.CmdMessage\":\"Use â + scroll to zoom the map\",\"TouchPanBlocker.Message\":\"Use two fingers to move the map\"},pI={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,antialias:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:\"sans-serif\",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,respectPrefersReducedMotion:!0,crossSourceCollisions:!0,collectResourceTiming:!1,testMode:!1},fI={showCompass:!0,showZoom:!0,visualizePitch:!1};class mI{constructor(e,t,i=!1){this._clickTolerance=10,this.element=t,this.mouseRotate=new SS({clickTolerance:e.dragRotate._mouseRotate._clickTolerance}),this.map=e,i&&(this.mousePitch=new IS({clickTolerance:e.dragRotate._mousePitch._clickTolerance})),j([\"mousedown\",\"mousemove\",\"mouseup\",\"touchstart\",\"touchmove\",\"touchend\",\"reset\"],this),t.addEventListener(\"mousedown\",this.mousedown),t.addEventListener(\"touchstart\",this.touchstart,{passive:!1}),t.addEventListener(\"touchmove\",this.touchmove),t.addEventListener(\"touchend\",this.touchend),t.addEventListener(\"touchcancel\",this.reset);}down(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),yt();}move(e,t){const i=this.map,r=this.mouseRotate.mousemoveWindow(e,t),n=r&&r.bearingDelta;if(n&&i.setBearing(i.getBearing()+n),this.mousePitch){const r=this.mousePitch.mousemoveWindow(e,t),n=r&&r.pitchDelta;n&&i.setPitch(i.getPitch()+n);}}off(){const e=this.element;e.removeEventListener(\"mousedown\",this.mousedown),e.removeEventListener(\"touchstart\",this.touchstart,{passive:!1}),e.removeEventListener(\"touchmove\",this.touchmove),e.removeEventListener(\"touchend\",this.touchend),e.removeEventListener(\"touchcancel\",this.reset),this.offTemp();}offTemp(){xt(),t.removeEventListener(\"mousemove\",this.mousemove),t.removeEventListener(\"mouseup\",this.mouseup);}mousedown(e){this.down(k({},e,{ctrlKey:!0,preventDefault:()=>e.preventDefault()}),wt(this.element,e)),t.addEventListener(\"mousemove\",this.mousemove),t.addEventListener(\"mouseup\",this.mouseup);}mousemove(e){this.move(e,wt(this.element,e));}mouseup(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp();}touchstart(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=Tt(this.element,e.targetTouches)[0],this.down({type:\"mousedown\",button:0,ctrlKey:!0,preventDefault:()=>e.preventDefault()},this._startPos));}touchmove(e){1!==e.targetTouches.length?this.reset():(this._lastPos=Tt(this.element,e.targetTouches)[0],this.move({preventDefault:()=>e.preventDefault()},this._lastPos));}touchend(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset();}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp();}}const _I={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},gI={maxWidth:100,unit:\"metric\"},yI={kilometer:\"km\",meter:\"m\",mile:\"mi\",foot:\"ft\",\"nautical-mile\":\"nm\"},xI={version:i,supported:rt,setRTLTextPlugin:function(e,t,i=!1){if(Ks===Ws||Ks===Hs||Ks===Xs)throw new Error(\"setRTLTextPlugin cannot be called multiple times.\");Js=dt.resolveURL(e),Ks=Ws,Ys=t,ea(),i||ra();},getRTLTextPluginStatus:ia,Map:class extends tI{constructor(e){Qe.mark(Je.create);const i=e;if(null!=(e=k({},pI,e)).minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error(\"maxZoom must be greater than or equal to minZoom\");if(null!=e.minPitch&&null!=e.maxPitch&&e.minPitch>e.maxPitch)throw new Error(\"maxPitch must be greater than or equal to minPitch\");if(null!=e.minPitch&&e.minPitch<0)throw new Error(\"minPitch must be greater than or equal to 0\");if(null!=e.maxPitch&&e.maxPitch>85)throw new Error(\"maxPitch must be less than or equal to 85\");if(e.antialias&&function(e){const t=e.navigator?e.navigator.userAgent:null;return !!function(e){if(null==te){const t=e.navigator?e.navigator.userAgent:null;te=!!e.safari||!(!t||!(/\\b(iPad|iPhone|iPod)\\b/.test(t)||t.match(\"Safari\")&&!t.match(\"Chrome\")));}return te}(e)&&t&&(t.match(\"Version/15.4\")||t.match(\"Version/15.5\")||t.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))}(t)&&(e.antialias=!1,H(\"Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609\")),super(new Tv(e.minZoom,e.maxZoom,e.minPitch,e.maxPitch,e.renderWorldCopies),e),this._interactive=e.interactive,this._minTileCacheSize=e.minTileCacheSize,this._maxTileCacheSize=e.maxTileCacheSize,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._antialias=e.antialias,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,this._refreshExpiredTiles=e.refreshExpiredTiles,this._fadeDuration=e.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=e.crossSourceCollisions,this._collectResourceTiming=e.collectResourceTiming,this._language=this._parseLanguage(e.language),this._worldview=e.worldview,this._renderTaskQueue=new nI,this._domRenderTaskQueue=new nI,this._controls=[],this._markers=[],this._popups=[],this._mapId=F(),this._locale=k({},dI,e.locale),this._clickTolerance=e.clickTolerance,this._cooperativeGestures=e.cooperativeGestures,this._performanceMetricsCollection=e.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new uI(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new ze(e.transformRequest,e.accessToken,e.testMode),this._silenceAuthErrors=!!e.testMode,this._contextCreateOptions=e.contextCreateOptions?{...e.contextCreateOptions}:{},\"string\"==typeof e.container){if(this._container=t.document.getElementById(e.container),!this._container)throw new Error(`Container '${e.container.toString()}' not found.`)}else {if(!(e.container instanceof t.HTMLElement))throw new Error(\"Invalid type: 'container' must be a String or HTMLElement.\");this._container=e.container;}if(this._container.childNodes.length>0&&H(\"The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead.\"),e.maxBounds&&this.setMaxBounds(e.maxBounds),j([\"_onWindowOnline\",\"_onWindowResize\",\"_onVisibilityChange\",\"_onMapScroll\",\"_contextLost\",\"_contextRestored\"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error(\"Failed to initialize WebGL.\");if(this.on(\"move\",(()=>this._update(!1))),this.on(\"moveend\",(()=>this._update(!1))),this.on(\"zoom\",(()=>this._update(!0))),void 0!==t&&(this._fullscreenchangeEvent=\"onfullscreenchange\"in t.document?\"fullscreenchange\":\"webkitfullscreenchange\",t.addEventListener(\"online\",this._onWindowOnline,!1),t.addEventListener(\"resize\",this._onWindowResize,!1),t.addEventListener(\"orientationchange\",this._onWindowResize,!1),t.addEventListener(this._fullscreenchangeEvent,this._onWindowResize,!1),t.addEventListener(\"visibilitychange\",this._onVisibilityChange,!1)),this.handlers=new QS(this,e),this._localFontFamily=e.localFontFamily,this._localIdeographFontFamily=e.localIdeographFontFamily,(e.style||!e.testMode)&&this.setStyle(e.style||n.DEFAULT_STYLE,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),e.projection&&this.setProjection(e.projection),e.hash&&(this._hash=new nS(\"string\"==typeof e.hash&&e.hash||void 0).addTo(this)),!this._hash||!this._hash._onHashChange()){null==i.center&&null==i.zoom||(this.transform._unmodified=!1),this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch});const t=e.bounds;t&&(this.resize(),this.fitBounds(t,k({},e.fitBoundsOptions,{duration:0})));}this.resize(),e.attributionControl&&this.addControl(new iI({customAttribution:e.customAttribution})),this._logoControl=new rI,this.addControl(this._logoControl,e.logoPosition),this.on(\"style.load\",(()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet);})),this.on(\"data\",(e=>{this._update(\"style\"===e.dataType),this.fire(new It(`${e.dataType}data`,e));})),this.on(\"dataloading\",(e=>{this.fire(new It(`${e.dataType}dataloading`,e));}));}_getMapId(){return this._mapId}addControl(e,t){if(void 0===t&&(t=e.getDefaultPosition?e.getDefaultPosition():\"top-right\"),!e||!e.onAdd)return this.fire(new Ct(new Error(\"Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.\")));const i=e.onAdd(this);this._controls.push(e);const r=this._controlPositions[t];return -1!==t.indexOf(\"bottom\")?r.insertBefore(i,r.firstChild):r.appendChild(i),this}removeControl(e){if(!e||!e.onRemove)return this.fire(new Ct(new Error(\"Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.\")));const t=this._controls.indexOf(e);return t>-1&&this._controls.splice(t,1),e.onRemove(this),this}hasControl(e){return this._controls.indexOf(e)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(e){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const t=!this._moving;return t&&this.fire(new It(\"movestart\",e)).fire(new It(\"move\",e)),this.fire(new It(\"resize\",e)),t&&this.fire(new It(\"moveend\",e)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(e){return this.transform.setMaxBounds(sc.convert(e)),this._update()}setMinZoom(e){if((e=null==e?-2:e)>=-2&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e?this.setZoom(e):this.fire(new It(\"zoomstart\")).fire(new It(\"zoom\")).fire(new It(\"zoomend\")),this;throw new Error(\"minZoom must be between -2 and the current maxZoom, inclusive\")}getMinZoom(){return this.transform.minZoom}setMaxZoom(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e?this.setZoom(e):this.fire(new It(\"zoomstart\")).fire(new It(\"zoom\")).fire(new It(\"zoomend\")),this;throw new Error(\"maxZoom must be greater than the current minZoom\")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(e){if((e=null==e?0:e)<0)throw new Error(\"minPitch must be greater than or equal to 0\");if(e>=0&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this._update(),this.getPitch()<e?this.setPitch(e):this.fire(new It(\"pitchstart\")).fire(new It(\"pitch\")).fire(new It(\"pitchend\")),this;throw new Error(\"minPitch must be between 0 and the current maxPitch, inclusive\")}getMinPitch(){return this.transform.minPitch}setMaxPitch(e){if((e=null==e?85:e)>85)throw new Error(\"maxPitch must be less than or equal to 85\");if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this._update(),this.getPitch()>e?this.setPitch(e):this.fire(new It(\"pitchstart\")).fire(new It(\"pitch\")).fire(new It(\"pitchend\")),this;throw new Error(\"maxPitch must be greater than or equal to minPitch\")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(e){return this.transform.renderWorldCopies=e,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(e){return \"auto\"===e?t.navigator.language:Array.isArray(e)?0===e.length?void 0:e.map((e=>\"auto\"===e?t.navigator.language:e)):e}setLanguage(e){const t=this._parseLanguage(e);if(!this.style||t===this._language)return this;this._language=t,this.style.reloadSources();for(const e of this._controls)e._setLanguage&&e._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(e){return this.style&&e!==this._worldview?(this._worldview=e,this.style.reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:\"globe\",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return \"globe\"===this.transform.projection.name}setProjection(e){return this._lazyInitEmptyStyle(),e?\"string\"==typeof e&&(e={name:e}):e=null,this._useExplicitProjection=!!e,this._prioritizeAndUpdateProjection(e,this.style.projection)}_updateProjectionTransition(){if(\"globe\"!==this.getProjection().name)return;const e=this.transform,t=e.projection.name;let i;\"globe\"===t&&e.zoom>=id?(e.setMercatorFromTransition(),i=!0):\"mercator\"===t&&e.zoom<id&&(e.setProjection({name:\"globe\"}),i=!0),i&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate());}_prioritizeAndUpdateProjection(e,t){return this._updateProjection(e||t||{name:\"mercator\"})}_updateProjection(e){let t;return t=\"globe\"===e.name&&this.transform.zoom>=id?this.transform.setMercatorFromTransition():this.transform.setProjection(e),this.style.applyProjectionUpdate(),t&&(this.painter.clearBackgroundTiles(),this.style.clearSources(),this._update(!0),this._forceMarkerAndPopupUpdate(!0)),this}project(e){return this.transform.locationPoint3D(Wd.convert(e))}unproject(e){return this.transform.pointLocation3D(y.convert(e))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(e,t,i){if(\"mouseenter\"===e||\"mouseover\"===e){let r=!1;const n=n=>{const o=t.filter((e=>this.getLayer(e))),s=o.length?this.queryRenderedFeatures(n.point,{layers:o}):[];s.length?r||(r=!0,i.call(this,new fS(e,this,n.originalEvent,{features:s}))):r=!1;},o=()=>{r=!1;};return {layers:new Set(t),listener:i,delegates:{mousemove:n,mouseout:o}}}if(\"mouseleave\"===e||\"mouseout\"===e){let r=!1;const n=n=>{const o=t.filter((e=>this.getLayer(e)));(o.length?this.queryRenderedFeatures(n.point,{layers:o}):[]).length?r=!0:r&&(r=!1,i.call(this,new fS(e,this,n.originalEvent)));},o=t=>{r&&(r=!1,i.call(this,new fS(e,this,t.originalEvent)));};return {layers:new Set(t),listener:i,delegates:{mousemove:n,mouseout:o}}}{const r=e=>{const r=t.filter((e=>this.getLayer(e))),n=r.length?this.queryRenderedFeatures(e.point,{layers:r}):[];n.length&&(e.features=n,i.call(this,e),delete e.features);};return {layers:new Set(t),listener:i,delegates:{[e]:r}}}}on(e,t,i){if(void 0===i)return super.on(e,t);if(Array.isArray(t)||(t=[t]),t)for(const e of t)if(!this._isValidId(e))return this;const r=this._createDelegatedListener(e,t,i);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(r);for(const e in r.delegates)this.on(e,r.delegates[e]);return this}once(e,t,i){if(void 0===i)return super.once(e,t);if(Array.isArray(t)||(t=[t]),t)for(const e of t)if(!this._isValidId(e))return this;const r=this._createDelegatedListener(e,t,i);for(const e in r.delegates)this.once(e,r.delegates[e]);return this}off(e,t,i){if(void 0===i)return super.off(e,t);t=new Set(Array.isArray(t)?t:[t]);for(const e of t)if(!this._isValidId(e))return this;const r=(e,t)=>{if(e.size!==t.size)return !1;for(const i of e)if(!t.has(i))return !1;return !0},n=this._delegatedListeners?this._delegatedListeners[e]:void 0;return n&&(e=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.listener===i&&r(o.layers,t)){for(const e in o.delegates)this.off(e,o.delegates[e]);return e.splice(n,1),this}}})(n),this}queryRenderedFeatures(e,t){if(!this.style)return [];if(void 0!==t||void 0===e||e instanceof y||Array.isArray(e)||(t=e,e=void 0),e=e||[[0,0],[this.transform.width,this.transform.height]],(t=t||{}).layers&&Array.isArray(t.layers))for(const e of t.layers)if(!this._isValidId(e))return [];return this.style.queryRenderedFeatures(e,t,this.transform)}querySourceFeatures(e,t){return this._isValidId(e)?this.style.querySourceFeatures(e,t):[]}isPointOnSurface(e){const{name:t}=this.transform.projection;return \"globe\"!==t&&\"mercator\"!==t&&H(`${t} projection does not support isPointOnSurface, this API may behave unexpectedly.`),this.transform.isPointOnSurface(y.convert(e))}setStyle(e,t){return !1!==(t=k({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},t)).diff&&t.localIdeographFontFamily===this._localIdeographFontFamily&&t.localFontFamily===this._localFontFamily&&this.style&&e?(this._diffStyle(e,t),this):(this._localIdeographFontFamily=t.localIdeographFontFamily,this._localFontFamily=t.localFontFamily,this._updateStyle(e,t))}_getUIString(e){const t=this._locale[e];if(null==t)throw new Error(`Missing UI string '${e}'`);return t}_updateStyle(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),e&&(this.style=new iS(this,t||{}),this.style.setEventedParent(this,{style:this.style}),\"string\"==typeof e?this.style.loadURL(e):this.style.loadJSON(e)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new iS(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty());}_diffStyle(e,t){if(\"string\"==typeof e){const i=this._requestManager.normalizeStyleURL(e),r=this._requestManager.transformRequest(i,ye.Style);we(r,((e,i)=>{e?this.fire(new Ct(e)):i&&this._updateDiff(i,t);}));}else \"object\"==typeof e&&this._updateDiff(e,t);}_updateDiff(e,t){try{this.style.setState(e)&&this._update(!0);}catch(i){H(`Unable to perform style diff: ${i.message||i.error||i}.  Rebuilding the style from scratch.`),this._updateStyle(e,t);}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(H(\"There is no style added to the map.\"),!1)}_isValidId(e){return null==e?(this.fire(new Ct(new Error(\"IDs can't be empty.\"))),!1):!xa(e)||(this.fire(new Ct(new Error(`IDs can't contain special symbols: \"${e}\".`))),!1)}addSource(e,t){return this._isValidId(e)?(this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)):this}isSourceLoaded(e){return !!this._isValidId(e)&&!!this.style&&this.style._isSourceCacheLoaded(e)}areTilesLoaded(){const e=this.style&&this.style._sourceCaches;for(const t in e){const i=e[t]._tiles;for(const e in i){const t=i[e];if(\"loaded\"!==t.state&&\"errored\"!==t.state)return !1}}return !0}addSourceType(e,t,i){this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,i);}removeSource(e){return this._isValidId(e)?(this.style.removeSource(e),this._updateTerrain(),this._update(!0)):this}getSource(e){return this._isValidId(e)?this.style.getOwnSource(e):null}addImage(e,i,{pixelRatio:r=1,sdf:n=!1,stretchX:o,stretchY:s,content:a}={}){if(this._lazyInitEmptyStyle(),i instanceof t.HTMLImageElement||t.ImageBitmap&&i instanceof t.ImageBitmap){const{width:t,height:l,data:c}=dt.getImageData(i);this.style.addImage(e,{data:new ef({width:t,height:l},c),pixelRatio:r,stretchX:o,stretchY:s,content:a,sdf:n,version:0});}else if(void 0===i.width||void 0===i.height)this.fire(new Ct(new Error(\"Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`\")));else {const{width:t,height:l}=i,c=i;this.style.addImage(e,{data:new ef({width:t,height:l},new Uint8Array(c.data)),pixelRatio:r,stretchX:o,stretchY:s,content:a,sdf:n,version:0,userImage:c}),c.onAdd&&c.onAdd(this,e);}}updateImage(e,i){this._lazyInitEmptyStyle();const r=this.style.getImage(e);if(!r)return void this.fire(new Ct(new Error(\"The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.\")));const n=i instanceof t.HTMLImageElement||t.ImageBitmap&&i instanceof t.ImageBitmap?dt.getImageData(i):i,{width:o,height:s}=n;void 0!==o&&void 0!==s?o===r.data.width&&s===r.data.height?(r.data.replace(n.data,!(i instanceof t.HTMLImageElement||t.ImageBitmap&&i instanceof t.ImageBitmap)),this.style.updateImage(e,r)):this.fire(new Ct(new Error(`The width and height of the updated image (${o}, ${s})\\n                must be that same as the previous version of the image\\n                (${r.data.width}, ${r.data.height})`))):this.fire(new Ct(new Error(\"Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`\")));}hasImage(e){return e?!!this.style&&!!this.style.getImage(e):(this.fire(new Ct(new Error(\"Missing required image id\"))),!1)}removeImage(e){this.style.removeImage(e);}loadImage(e,i){Ie(this._requestManager.transformRequest(e,ye.Image),((e,r)=>{i(e,r instanceof t.HTMLImageElement?dt.getImageData(r):r);}));}listImages(){return this.style.listImages()}addModel(e,t){this._lazyInitEmptyStyle(),this.style.addModel(e,t);}hasModel(e){return e?this.style.hasModel(e):(this.fire(new Ct(new Error(\"Missing required model id\"))),!1)}removeModel(e){this.style.removeModel(e);}listModels(){return this.style.listModels()}addLayer(e,t){return this._isValidId(e.id)?(this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)):this}moveLayer(e,t){return this._isValidId(e)?(this.style.moveLayer(e,t),this._update(!0)):this}removeLayer(e){return this._isValidId(e)?(this.style.removeLayer(e),this._update(!0)):this}getLayer(e){return this._isValidId(e)?this.style.getOwnLayer(e):null}setLayerZoomRange(e,t,i){return this._isValidId(e)?(this.style.setLayerZoomRange(e,t,i),this._update(!0)):this}setFilter(e,t,i={}){return this._isValidId(e)?(this.style.setFilter(e,t,i),this._update(!0)):this}getFilter(e){return this._isValidId(e)?this.style.getFilter(e):null}setPaintProperty(e,t,i,r={}){return this._isValidId(e)?(this.style.setPaintProperty(e,t,i,r),this._update(!0)):this}getPaintProperty(e,t){return this._isValidId(e)?this.style.getPaintProperty(e,t):null}setLayoutProperty(e,t,i,r={}){return this._isValidId(e)?(this.style.setLayoutProperty(e,t,i,r),this._update(!0)):this}getLayoutProperty(e,t){return this._isValidId(e)?this.style.getLayoutProperty(e,t):null}getConfigProperty(e,t){return this.style.getConfigProperty(e,t)}setConfigProperty(e,t,i){return this.style.setConfigProperty(e,t,i),this._update(!0)}setLights(e){if(this._lazyInitEmptyStyle(),e&&1===e.length&&\"flat\"===e[0].type){const t=e[0];t.properties?this.style.setFlatLight(t.properties,t.id,{}):this.style.setFlatLight({},\"flat\");}else this.style.setLights(e),this.painter.terrain&&(this.painter.terrain.invalidateRenderCache=!0);return this._update(!0)}getLights(){const e=this.style.getLights()||[];return 0===e.length&&e.push({id:this.style.light.id,type:\"flat\",properties:this.style.getFlatLight()}),e}setLight(e,t={}){return console.log(\"The `map.setLight` function is deprecated, prefer using `map.setLights` with `flat` light type instead.\"),this.setLights([{id:\"flat\",type:\"flat\",properties:e}])}getLight(){return console.log(\"The `map.getLight` function is deprecated, prefer using `map.getLights` instead.\"),this.style.getFlatLight()}setTerrain(e){return this._lazyInitEmptyStyle(),!e&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(e),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(e){return this._lazyInitEmptyStyle(),this.style.setFog(e),this._update(!0)}getFog(){return this.style?this.style.getFog():null}setCamera(e){return this.style.setCamera(e),this._triggerCameraUpdate(e)}_triggerCameraUpdate(e){return this._update(this.transform.setOrthographicProjectionAtLowPitch(\"orthographic\"===e[\"camera-projection\"]))}getCamera(){return this.style.camera}_queryFogOpacity(e){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(Wd.convert(e),this.transform):0}setFeatureState(e,t){return this._isValidId(e.source)?(this.style.setFeatureState(e,t),this._update()):this}removeFeatureState(e,t){return this._isValidId(e.source)?(this.style.removeFeatureState(e,t),this._update()):this}getFeatureState(e){return this._isValidId(e.source)?this.style.getFeatureState(e):null}_updateContainerDimensions(){if(!this._container)return;const e=this._container.getBoundingClientRect().width||400,i=this._container.getBoundingClientRect().height||300;let r,n,o,s=this._container;for(;s&&(!n||!o);){const e=t.getComputedStyle(s).transform;e&&\"none\"!==e&&(r=e.match(/matrix.*\\((.+)\\)/)[1].split(\", \"),r[0]&&\"0\"!==r[0]&&\"1\"!==r[0]&&(n=r[0]),r[3]&&\"0\"!==r[3]&&\"1\"!==r[3]&&(o=r[3])),s=s.parentElement;}this._containerWidth=n?Math.abs(e/n):e,this._containerHeight=o?Math.abs(i/o):i;}_detectMissingCSS(){\"rgb(250, 128, 114)\"!==t.getComputedStyle(this._missingCSSCanary).getPropertyValue(\"background-color\")&&H(\"This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.\");}_setupContainer(){const e=this._container;e.classList.add(\"mapboxgl-map\"),(this._missingCSSCanary=pt(\"div\",\"mapboxgl-canary\",e)).style.visibility=\"hidden\",this._detectMissingCSS();const t=this._canvasContainer=pt(\"div\",\"mapboxgl-canvas-container\",e);this._canvas=pt(\"canvas\",\"mapboxgl-canvas\",t),this._interactive&&(t.classList.add(\"mapboxgl-interactive\"),this._canvas.setAttribute(\"tabindex\",\"0\")),this._canvas.addEventListener(\"webglcontextlost\",this._contextLost,!1),this._canvas.addEventListener(\"webglcontextrestored\",this._contextRestored,!1),this._canvas.setAttribute(\"aria-label\",this._getUIString(\"Map.Title\")),this._canvas.setAttribute(\"role\",\"region\"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const i=this._controlContainer=pt(\"div\",\"mapboxgl-control-container\",e),r=this._controlPositions={};[\"top-left\",\"top-right\",\"bottom-left\",\"bottom-right\"].forEach((e=>{r[e]=pt(\"div\",`mapboxgl-ctrl-${e}`,i);})),this._container.addEventListener(\"scroll\",this._onMapScroll,!1);}_resizeCanvas(e,t){const i=dt.devicePixelRatio||1;this._canvas.width=i*Math.ceil(e),this._canvas.height=i*Math.ceil(t),this._canvas.style.width=`${e}px`,this._canvas.style.height=`${t}px`;}_addMarker(e){this._markers.push(e);}_removeMarker(e){const t=this._markers.indexOf(e);-1!==t&&this._markers.splice(t,1);}_addPopup(e){this._popups.push(e);}_removePopup(e){const t=this._popups.indexOf(e);-1!==t&&this._popups.splice(t,1);}_setupPainter(){const e=k({},rt.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),t=this._canvas.getContext(\"webgl2\",e);t?(Ke(t,!0),this.painter=new UA(t,this._contextCreateOptions,this.transform),this.on(\"data\",(e=>{\"source\"===e.dataType&&this.painter.setTileLoadedFlag(!0);})),o.testSupport(t)):this.fire(new Ct(new Error(\"Failed to initialize WebGL\")));}_contextLost(e){e.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new It(\"webglcontextlost\",{originalEvent:e}));}_contextRestored(e){this._setupPainter(),this.resize(),this._update(),this.fire(new It(\"webglcontextrestored\",{originalEvent:e}));}_onMapScroll(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return !this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(e){return this._update(),this._renderTaskQueue.add(e)}_cancelRenderFrame(e){this._renderTaskQueue.remove(e);}_requestDomTask(e){!this.loaded()||this.loaded()&&!this.isMoving()?e():this._domRenderTaskQueue.add(e);}_render(e){let i;this.fire(new It(\"renderstart\"));const r=this.painter.context.extTimerQuery,n=dt.now(),o=this.painter.context.gl;if(this.listens(\"gpu-timing-frame\")&&(i=o.createQuery(),o.beginQuery(r.TIME_ELAPSED_EXT,i)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],t.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],t.performance.now())),this._renderTaskQueue.run(e),this._domRenderTaskQueue.run(e),this._removed)return;this._updateProjectionTransition();const s=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const e=this.transform.zoom,t=this.transform.pitch,i=dt.now(),r=new oa(e,{now:i,fadeDuration:s,pitch:t,transition:this.style.transition});this.style.update(r);}this.style&&this.style.hasFogTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let a=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),a=this._updateAverageElevation(n),this.style.updateSources(this.transform),this._forceMarkerAndPopupUpdate()):a=this._updateAverageElevation(n),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,s,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,wireframe:{terrain:this.showTerrainWireframe,layers2D:this.showLayers2DWireframe,layers3D:this.showLayers3DWireframe},showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:s,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens(\"gpu-timing-layer\"),gpuTimingDeferredRender:!!this.listens(\"gpu-timing-deferred-render\"),speedIndexTiming:this.speedIndexTiming}),this.fire(new It(\"render\")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new It(\"load\"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),i){const e=dt.now()-n;o.endQuery(r.TIME_ELAPSED_EXT),setTimeout((()=>{const r=o.getQueryParameter(i,o.QUERY_RESULT)/1e6;o.deleteQuery(i),this.fire(new It(\"gpu-timing-frame\",{cpuTime:e,gpuTime:r})),t.performance.mark(\"frame-gpu\",{startTime:n,detail:{gpuTime:r}});}),50);}if(this.listens(\"gpu-timing-layer\")){const e=this.painter.collectGpuTimers();setTimeout((()=>{const t=this.painter.queryGpuTimers(e);this.fire(new It(\"gpu-timing-layer\",{layerTimes:t}));}),50);}if(this.listens(\"gpu-timing-deferred-render\")){const e=this.painter.collectDeferredRenderGpuQueries();setTimeout((()=>{const t=this.painter.queryGpuTimeDeferredRender(e);this.fire(new It(\"gpu-timing-deferred-render\",{gpuTime:t}));}),50);}const l=this._sourcesDirty||this._styleDirty||this._placementDirty||a;if(l||this._repaint)this.triggerRepaint();else {const e=!this.isMoving()&&this.loaded();if(e&&(a=this._updateAverageElevation(n,!0)),a)this.triggerRepaint();else if(this._triggerFrame(!1),e&&(this.fire(new It(\"idle\")),this._isInitialLoad=!1,this.speedIndexTiming)){const e=this._calculateSpeedIndex();this.fire(new It(\"speedindexcompleted\",{speedIndex:e})),this.speedIndexTiming=!1;}}!this._loaded||this._fullyLoaded||l||(this._fullyLoaded=!0,Qe.mark(Je.fullLoad),this._performanceMetricsCollection&&We(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate());}_forceMarkerAndPopupUpdate(e){for(const t of this._markers)e&&!this.getRenderWorldCopies()&&(t._lngLat=t._lngLat.wrap()),t._update();for(const t of this._popups)!e||this.getRenderWorldCopies()||t._trackPointer||(t._lngLat=t._lngLat.wrap()),t._update();}_updateAverageElevation(e,t=!1){const i=e=>(this.transform.averageElevation=e,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return 0!==this.transform.averageElevation&&i(0);const r=this.transform.elevation&&this.transform.elevation.exaggeration()!==this._averageElevationExaggeration;if(r||(t||e-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(e)){const t=this.transform.averageElevation;let n=this.transform.sampleAverageElevation();this.transform.elevation&&(this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(n)?n=0:this._averageElevationLastSampledAt=e;const o=Math.abs(t-n);if(o>1){if(this._isInitialLoad||r)return this._averageElevation.jumpTo(n),i(n);this._averageElevation.easeTo(n,e,300);}else if(o>1e-4)return this._averageElevation.jumpTo(n),i(n)}return !!this._averageElevation.isEasing(e)&&i(this._averageElevation.getValue(e))}_authenticate(){Xe(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(e=>{if(e&&(e.message===Ce||401===e.status)){const e=this.painter.context.gl;Ke(e,!1),this._logoControl instanceof rI&&this._logoControl._updateLogo(),e&&e.clear(e.DEPTH_BUFFER_BIT|e.COLOR_BUFFER_BIT|e.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new Ct(new Error(\"A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/\")));}})),Ze(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(()=>{}));}_updateTerrain(){const e=this._isDragging();this.painter.updateTerrain(this.style,e);}_calculateSpeedIndex(){const e=this.painter.canvasCopy(),t=this.painter.getCanvasCopiesAndTimestamps();t.timeStamps.push(performance.now());const i=this.painter.context.gl,r=i.createFramebuffer();function n(e){i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,e,0);const t=new Uint8Array(i.drawingBufferWidth*i.drawingBufferHeight*4);return i.readPixels(0,0,i.drawingBufferWidth,i.drawingBufferHeight,i.RGBA,i.UNSIGNED_BYTE,t),t}return i.bindFramebuffer(i.FRAMEBUFFER,r),this._canvasPixelComparison(n(e),t.canvasCopies.map(n),t.timeStamps)}_canvasPixelComparison(e,t,i){let r=i[1]-i[0];const n=e.length/4;for(let o=0;o<t.length;o++){const s=t[o];let a=0;for(let t=0;t<s.length;t+=4)s[t]===e[t]&&s[t+1]===e[t+1]&&s[t+2]===e[t+2]&&s[t+3]===e[t+3]&&(a+=1);r+=(i[o+2]-i[o+1])*(1-a/n);}return r}remove(){this._hash&&this._hash.remove();for(const e of this._controls)e.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),void 0!==t&&(t.removeEventListener(\"resize\",this._onWindowResize,!1),t.removeEventListener(\"orientationchange\",this._onWindowResize,!1),t.removeEventListener(this._fullscreenchangeEvent,this._onWindowResize,!1),t.removeEventListener(\"online\",this._onWindowOnline,!1),t.removeEventListener(\"visibilitychange\",this._onVisibilityChange,!1));const e=this.painter.context.gl.getExtension(\"WEBGL_lose_context\");e&&e.loseContext(),this._canvas.removeEventListener(\"webglcontextlost\",this._contextLost,!1),this._canvas.removeEventListener(\"webglcontextrestored\",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove(\"mapboxgl-map\"),this._container.removeEventListener(\"scroll\",this._onMapScroll,!1),Ye.delete(this.painter.context.gl),this._removed=!0,this.fire(new It(\"remove\"));}triggerRepaint(){this._triggerFrame(!0);}_triggerFrame(e){this._renderNextFrame=this._renderNextFrame||e,this.style&&!this._frame&&(this._frame=dt.frame((e=>{const t=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,t&&this._render(e);})));}_preloadTiles(e){return R(this.style?Object.values(this.style._sourceCaches):[],((t,i)=>t._preloadTiles(e,i)),(()=>{this.triggerRepaint();})),this}_onWindowOnline(){this._update();}_onWindowResize(e){this._trackResize&&this.resize({originalEvent:e})._update();}_onVisibilityChange(){\"hidden\"===t.document.visibilityState&&this._visibilityHidden++;}get showTileBoundaries(){return !!this._showTileBoundaries}set showTileBoundaries(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update());}get showTerrainWireframe(){return !!this._showTerrainWireframe}set showTerrainWireframe(e){this._showTerrainWireframe!==e&&(this._showTerrainWireframe=e,this._update());}get showLayers2DWireframe(){return !!this._showLayers2DWireframe}set showLayers2DWireframe(e){this._showLayers2DWireframe!==e&&(this._showLayers2DWireframe=e,this._update());}get showLayers3DWireframe(){return !!this._showLayers3DWireframe}set showLayers3DWireframe(e){this._showLayers3DWireframe!==e&&(this._showLayers3DWireframe=e,this._update());}get speedIndexTiming(){return !!this._speedIndexTiming}set speedIndexTiming(e){this._speedIndexTiming!==e&&(this._speedIndexTiming=e,this._update());}get showPadding(){return !!this._showPadding}set showPadding(e){this._showPadding!==e&&(this._showPadding=e,this._update());}get showCollisionBoxes(){return !!this._showCollisionBoxes}set showCollisionBoxes(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update());}get showOverdrawInspector(){return !!this._showOverdrawInspector}set showOverdrawInspector(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update());}get repaint(){return !!this._repaint}set repaint(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint());}get vertices(){return !!this._vertices}set vertices(e){this._vertices=e,this._update();}get showTileAABBs(){return !!this._showTileAABBs}set showTileAABBs(e){this._showTileAABBs!==e&&(this._showTileAABBs=e,e&&this._update());}_setCacheLimits(e,t){!function(e,t){ce=e,he=t;}(e,t);}get version(){return i}},NavigationControl:class{constructor(e){this.options=k({},fI,e),this._container=pt(\"div\",\"mapboxgl-ctrl mapboxgl-ctrl-group\"),this._container.addEventListener(\"contextmenu\",(e=>e.preventDefault())),this.options.showZoom&&(j([\"_setButtonTitle\",\"_updateZoomButtons\"],this),this._zoomInButton=this._createButton(\"mapboxgl-ctrl-zoom-in\",(e=>{this._map&&this._map.zoomIn({},{originalEvent:e});})),pt(\"span\",\"mapboxgl-ctrl-icon\",this._zoomInButton).setAttribute(\"aria-hidden\",\"true\"),this._zoomOutButton=this._createButton(\"mapboxgl-ctrl-zoom-out\",(e=>{this._map&&this._map.zoomOut({},{originalEvent:e});})),pt(\"span\",\"mapboxgl-ctrl-icon\",this._zoomOutButton).setAttribute(\"aria-hidden\",\"true\")),this.options.showCompass&&(j([\"_rotateCompassArrow\"],this),this._compass=this._createButton(\"mapboxgl-ctrl-compass\",(e=>{const t=this._map;t&&(this.options.visualizePitch?t.resetNorthPitch({},{originalEvent:e}):t.resetNorth({},{originalEvent:e}));})),this._compassIcon=pt(\"span\",\"mapboxgl-ctrl-icon\",this._compass),this._compassIcon.setAttribute(\"aria-hidden\",\"true\"));}_updateZoomButtons(){const e=this._map;if(!e)return;const t=e.getZoom(),i=t===e.getMaxZoom(),r=t===e.getMinZoom();this._zoomInButton.disabled=i,this._zoomOutButton.disabled=r,this._zoomInButton.setAttribute(\"aria-disabled\",i.toString()),this._zoomOutButton.setAttribute(\"aria-disabled\",r.toString());}_rotateCompassArrow(){const e=this._map;if(!e)return;const t=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(e.transform.pitch*(Math.PI/180)),.5)}) rotateX(${e.transform.pitch}deg) rotateZ(${e.transform.angle*(180/Math.PI)}deg)`:`rotate(${e.transform.angle*(180/Math.PI)}deg)`;e._requestDomTask((()=>{this._compassIcon&&(this._compassIcon.style.transform=t);}));}onAdd(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,\"ZoomIn\"),this._setButtonTitle(this._zoomOutButton,\"ZoomOut\"),e.on(\"zoom\",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,\"ResetBearing\"),this.options.visualizePitch&&e.on(\"pitch\",this._rotateCompassArrow),e.on(\"rotate\",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new mI(e,this._compass,this.options.visualizePitch)),this._container}onRemove(){const e=this._map;e&&(this._container.remove(),this.options.showZoom&&e.off(\"zoom\",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&e.off(\"pitch\",this._rotateCompassArrow),e.off(\"rotate\",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0);}_createButton(e,t){const i=pt(\"button\",e,this._container);return i.type=\"button\",i.addEventListener(\"click\",t),i}_setButtonTitle(e,t){if(!this._map)return;const i=this._map._getUIString(`NavigationControl.${t}`);e.setAttribute(\"aria-label\",i),e.firstElementChild&&e.firstElementChild.setAttribute(\"title\",i);}},GeolocateControl:class extends zt{constructor(e){super(),this.options=k({geolocation:t.navigator.geolocation},_I,e),j([\"_onSuccess\",\"_onError\",\"_onZoom\",\"_finish\",\"_setupUI\",\"_updateCamera\",\"_updateMarker\",\"_updateMarkerRotation\",\"_onDeviceOrientation\"],this),this._updateMarkerRotationThrottled=rS(this._updateMarkerRotation,20),this._numberOfWatches=0;}onAdd(e){return this._map=e,this._container=pt(\"div\",\"mapboxgl-ctrl mapboxgl-ctrl-group\"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){void 0!==this._geolocationWatchID&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off(\"zoom\",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1;}_checkGeolocationSupport(e){const i=(t=!!this.options.geolocation)=>{this._supportsGeolocation=t,e(t);};void 0!==this._supportsGeolocation?e(this._supportsGeolocation):void 0!==t.navigator.permissions?t.navigator.permissions.query({name:\"geolocation\"}).then((e=>i(\"denied\"!==e.state))).catch((()=>i())):i();}_isOutOfMapMaxBounds(e){const t=this._map.getMaxBounds(),i=e.coords;return !!t&&(i.longitude<t.getWest()||i.longitude>t.getEast()||i.latitude<t.getSouth()||i.latitude>t.getNorth())}_setErrorState(){switch(this._watchState){case\"WAITING_ACTIVE\":this._watchState=\"ACTIVE_ERROR\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-active-error\");break;case\"ACTIVE_LOCK\":this._watchState=\"ACTIVE_ERROR\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-active-error\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-waiting\");break;case\"BACKGROUND\":this._watchState=\"BACKGROUND_ERROR\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-background-error\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-waiting\");}}_onSuccess(e){if(this._map){if(this._isOutOfMapMaxBounds(e))return this._setErrorState(),this.fire(new It(\"outofmaxbounds\",e)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case\"WAITING_ACTIVE\":case\"ACTIVE_LOCK\":case\"ACTIVE_ERROR\":this._watchState=\"ACTIVE_LOCK\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active-error\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-active\");break;case\"BACKGROUND\":case\"BACKGROUND_ERROR\":this._watchState=\"BACKGROUND\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background-error\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-background\");}this.options.showUserLocation&&\"OFF\"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&\"ACTIVE_LOCK\"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._userLocationDotMarker.removeClassName(\"mapboxgl-user-location-dot-stale\"),this.fire(new It(\"geolocate\",e)),this._finish();}}_updateCamera(e){const t=new Wd(e.coords.longitude,e.coords.latitude),i=e.coords.accuracy,r=k({bearing:this._map.getBearing()},this.options.fitBoundsOptions);this._map.fitBounds(t.toBounds(i),r,{geolocateSource:!0});}_updateMarker(e){if(e){const t=new Wd(e.coords.longitude,e.coords.latitude);this._accuracyCircleMarker.setLngLat(t).addTo(this._map),this._userLocationDotMarker.setLngLat(t).addTo(this._map),this._accuracy=e.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius();}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove();}_updateCircleRadius(){const e=this._map.transform,t=Qd(1,e._center.lat)*e.worldSize,i=Math.ceil(2*this._accuracy*t);this._circleElement.style.width=`${i}px`,this._circleElement.style.height=`${i}px`;}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius();}_updateMarkerRotation(){this._userLocationDotMarker&&\"number\"==typeof this._heading?(this._userLocationDotMarker.setRotation(this._heading),this._userLocationDotMarker.addClassName(\"mapboxgl-user-location-show-heading\")):(this._userLocationDotMarker.removeClassName(\"mapboxgl-user-location-show-heading\"),this._userLocationDotMarker.setRotation(0));}_onError(e){if(this._map){if(this.options.trackUserLocation)if(1===e.code){this._watchState=\"OFF\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active-error\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background-error\"),this._geolocateButton.disabled=!0;const e=this._map._getUIString(\"GeolocateControl.LocationNotAvailable\");this._geolocateButton.setAttribute(\"aria-label\",e),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute(\"title\",e),void 0!==this._geolocationWatchID&&this._clearWatch();}else {if(3===e.code&&this._noTimeout)return;this._setErrorState();}\"OFF\"!==this._watchState&&this.options.showUserLocation&&this._userLocationDotMarker.addClassName(\"mapboxgl-user-location-dot-stale\"),this.fire(new It(\"error\",e)),this._finish();}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0;}_setupUI(e){if(void 0!==this._map){if(this._container.addEventListener(\"contextmenu\",(e=>e.preventDefault())),this._geolocateButton=pt(\"button\",\"mapboxgl-ctrl-geolocate\",this._container),pt(\"span\",\"mapboxgl-ctrl-icon\",this._geolocateButton).setAttribute(\"aria-hidden\",\"true\"),this._geolocateButton.type=\"button\",!1===e){H(\"Geolocation support is not available so the GeolocateControl will be disabled.\");const e=this._map._getUIString(\"GeolocateControl.LocationNotAvailable\");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute(\"aria-label\",e),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute(\"title\",e);}else {const e=this._map._getUIString(\"GeolocateControl.FindMyLocation\");this._geolocateButton.setAttribute(\"aria-label\",e),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute(\"title\",e);}this.options.trackUserLocation&&(this._geolocateButton.setAttribute(\"aria-pressed\",\"false\"),this._watchState=\"OFF\"),this.options.showUserLocation&&(this._dotElement=pt(\"div\",\"mapboxgl-user-location\"),this._dotElement.appendChild(pt(\"div\",\"mapboxgl-user-location-dot\")),this._dotElement.appendChild(pt(\"div\",\"mapboxgl-user-location-heading\")),this._userLocationDotMarker=new aI({element:this._dotElement,rotationAlignment:\"map\",pitchAlignment:\"map\"}),this._circleElement=pt(\"div\",\"mapboxgl-user-location-accuracy-circle\"),this._accuracyCircleMarker=new aI({element:this._circleElement,pitchAlignment:\"map\"}),this.options.trackUserLocation&&(this._watchState=\"OFF\"),this._map.on(\"zoom\",this._onZoom)),this._geolocateButton.addEventListener(\"click\",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on(\"movestart\",(e=>{e.geolocateSource||\"ACTIVE_LOCK\"!==this._watchState||e.originalEvent&&\"resize\"===e.originalEvent.type||(this._watchState=\"BACKGROUND\",this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-background\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active\"),this.fire(new It(\"trackuserlocationend\")));}));}}_onDeviceOrientation(e){this._userLocationDotMarker&&(e.webkitCompassHeading?this._heading=e.webkitCompassHeading:!0===e.absolute&&(this._heading=-1*e.alpha),this._updateMarkerRotationThrottled());}trigger(){if(!this._setup)return H(\"Geolocate control triggered before added to a map\"),!1;if(this.options.trackUserLocation){switch(this._watchState){case\"OFF\":this._watchState=\"WAITING_ACTIVE\",this.fire(new It(\"trackuserlocationstart\"));break;case\"WAITING_ACTIVE\":case\"ACTIVE_LOCK\":case\"ACTIVE_ERROR\":case\"BACKGROUND_ERROR\":this._numberOfWatches--,this._noTimeout=!1,this._watchState=\"OFF\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active-error\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background-error\"),this.fire(new It(\"trackuserlocationend\"));break;case\"BACKGROUND\":this._watchState=\"ACTIVE_LOCK\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background\"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new It(\"trackuserlocationstart\"));}switch(this._watchState){case\"WAITING_ACTIVE\":this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-active\");break;case\"ACTIVE_LOCK\":this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-active\");break;case\"ACTIVE_ERROR\":this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-active-error\");break;case\"BACKGROUND\":this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-background\");break;case\"BACKGROUND_ERROR\":this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-background-error\");}if(\"OFF\"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let e;this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.setAttribute(\"aria-pressed\",\"true\"),this._numberOfWatches++,this._numberOfWatches>1?(e={maximumAge:6e5,timeout:0},this._noTimeout=!0):(e=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,e),this.options.showUserHeading&&this._addDeviceOrientationListener();}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return !0}_addDeviceOrientationListener(){const e=()=>{t.addEventListener(\"ondeviceorientationabsolute\"in t?\"deviceorientationabsolute\":\"deviceorientation\",this._onDeviceOrientation);};void 0!==t.DeviceMotionEvent&&\"function\"==typeof t.DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then((t=>{\"granted\"===t&&e();})).catch(console.error):e();}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),t.removeEventListener(\"deviceorientation\",this._onDeviceOrientation),t.removeEventListener(\"deviceorientationabsolute\",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.setAttribute(\"aria-pressed\",\"false\"),this.options.showUserLocation&&this._updateMarker(null);}},AttributionControl:iI,ScaleControl:class{constructor(e){this.options=k({},gI,e),this._isNumberFormatSupported=function(){try{return new Intl.NumberFormat(\"en\",{style:\"unit\",unitDisplay:\"short\",unit:\"meter\"}),!0}catch(e){return !1}}(),j([\"_update\",\"_setScale\",\"setUnit\"],this);}getDefaultPosition(){return \"bottom-left\"}_update(){const e=this.options.maxWidth||100,t=this._map,i=t._containerHeight/2,r=t._containerWidth/2-e/2,n=t.unproject([r,i]),o=t.unproject([r+e,i]),s=n.distanceTo(o);if(\"imperial\"===this.options.unit){const t=3.2808*s;t>5280?this._setScale(e,t/5280,\"mile\"):this._setScale(e,t,\"foot\");}else \"nautical\"===this.options.unit?this._setScale(e,s/1852,\"nautical-mile\"):s>=1e3?this._setScale(e,s/1e3,\"kilometer\"):this._setScale(e,s,\"meter\");}_setScale(e,t,i){this._map._requestDomTask((()=>{const r=function(e){const t=Math.pow(10,`${Math.floor(e)}`.length-1);let i=e/t;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:i>=1?1:function(e){const t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(i),t*i}(t),n=r/t;this._container.innerHTML=this._isNumberFormatSupported&&\"nautical-mile\"!==i?new Intl.NumberFormat(this._language,{style:\"unit\",unitDisplay:\"short\",unit:i}).format(r):`${r}&nbsp;${yI[i]}`,this._container.style.width=e*n+\"px\";}));}onAdd(e){return this._map=e,this._language=e.getLanguage(),this._container=pt(\"div\",\"mapboxgl-ctrl mapboxgl-ctrl-scale\",e.getContainer()),this._container.dir=\"auto\",this._map.on(\"move\",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off(\"move\",this._update),this._map=void 0;}_setLanguage(e){this._language=e,this._update();}setUnit(e){this.options.unit=e,this._update();}},FullscreenControl:class{constructor(e){this._fullscreen=!1,e&&e.container&&(e.container instanceof t.HTMLElement?this._container=e.container:H(\"Full screen control 'container' must be a DOM element.\")),j([\"_onClickFullscreen\",\"_changeIcon\"],this),\"onfullscreenchange\"in t.document?this._fullscreenchange=\"fullscreenchange\":\"onwebkitfullscreenchange\"in t.document&&(this._fullscreenchange=\"webkitfullscreenchange\");}onAdd(e){return this._map=e,this._container||(this._container=this._map.getContainer()),this._controlContainer=pt(\"div\",\"mapboxgl-ctrl mapboxgl-ctrl-group\"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display=\"none\",H(\"This device does not support fullscreen mode.\")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,t.document.removeEventListener(this._fullscreenchange,this._changeIcon);}_checkFullscreenSupport(){return !(!t.document.fullscreenEnabled&&!t.document.webkitFullscreenEnabled)}_setupUI(){const e=this._fullscreenButton=pt(\"button\",\"mapboxgl-ctrl-fullscreen\",this._controlContainer);pt(\"span\",\"mapboxgl-ctrl-icon\",e).setAttribute(\"aria-hidden\",\"true\"),e.type=\"button\",this._updateTitle(),this._fullscreenButton.addEventListener(\"click\",this._onClickFullscreen),t.document.addEventListener(this._fullscreenchange,this._changeIcon);}_updateTitle(){const e=this._getTitle();this._fullscreenButton.setAttribute(\"aria-label\",e),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute(\"title\",e);}_getTitle(){return this._map._getUIString(this._isFullscreen()?\"FullscreenControl.Exit\":\"FullscreenControl.Enter\")}_isFullscreen(){return this._fullscreen}_changeIcon(){(t.document.fullscreenElement||t.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(\"mapboxgl-ctrl-shrink\"),this._fullscreenButton.classList.toggle(\"mapboxgl-ctrl-fullscreen\"),this._updateTitle());}_onClickFullscreen(){this._isFullscreen()?t.document.exitFullscreen?t.document.exitFullscreen():t.document.webkitCancelFullScreen&&t.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen();}},Popup:class extends zt{constructor(e){super(),this.options=k(Object.create(lI),e),j([\"_update\",\"_onClose\",\"remove\",\"_onMouseEvent\"],this),this._classList=new Set(e&&e.className?e.className.trim().split(/\\s+/):[]);}addTo(e){return this._map&&this.remove(),this._map=e,this.options.closeOnClick&&e.on(\"preclick\",this._onClose),this.options.closeOnMove&&e.on(\"move\",this._onClose),e.on(\"remove\",this.remove),this._update(),e._addPopup(this),this._focusFirstElement(),this._trackPointer?(e.on(\"mousemove\",this._onMouseEvent),e.on(\"mouseup\",this._onMouseEvent),e._canvasContainer.classList.add(\"mapboxgl-track-pointer\")):e.on(\"move\",this._update),this.fire(new It(\"open\")),this}isOpen(){return !!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const e=this._map;return e&&(e.off(\"move\",this._update),e.off(\"move\",this._onClose),e.off(\"preclick\",this._onClose),e.off(\"click\",this._onClose),e.off(\"remove\",this.remove),e.off(\"mousemove\",this._onMouseEvent),e.off(\"mouseup\",this._onMouseEvent),e.off(\"drag\",this._onMouseEvent),e._canvasContainer&&e._canvasContainer.classList.remove(\"mapboxgl-track-pointer\"),e._removePopup(this),this._map=void 0),this.fire(new It(\"close\")),this}getLngLat(){return this._lngLat}setLngLat(e){this._lngLat=Wd.convert(e),this._pos=null,this._trackPointer=!1,this._update();const t=this._map;return t&&(t.on(\"move\",this._update),t.off(\"mousemove\",this._onMouseEvent),t._canvasContainer.classList.remove(\"mapboxgl-track-pointer\")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const e=this._map;return e&&(e.off(\"move\",this._update),e.on(\"mousemove\",this._onMouseEvent),e.on(\"drag\",this._onMouseEvent),e._canvasContainer.classList.add(\"mapboxgl-track-pointer\")),this}getElement(){return this._container}setText(e){return this.setDOMContent(t.document.createTextNode(e))}setHTML(e){const i=t.document.createDocumentFragment(),r=t.document.createElement(\"body\");let n;for(r.innerHTML=e;n=r.firstChild,n;)i.appendChild(n);return this.setDOMContent(i)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(e){return this.options.maxWidth=e,this._update(),this}setDOMContent(e){let t=this._content;if(t)for(;t.hasChildNodes();)t.firstChild&&t.removeChild(t.firstChild);else t=this._content=pt(\"div\",\"mapboxgl-popup-content\",this._container||void 0);if(t.appendChild(e),this.options.closeButton){const e=this._closeButton=pt(\"button\",\"mapboxgl-popup-close-button\",t);e.type=\"button\",e.setAttribute(\"aria-label\",\"Close popup\"),e.setAttribute(\"aria-hidden\",\"true\"),e.innerHTML=\"&#215;\",e.addEventListener(\"click\",this._onClose);}return this._update(),this._focusFirstElement(),this}addClassName(e){return this._classList.add(e),this._updateClassList(),this}removeClassName(e){return this._classList.delete(e),this._updateClassList(),this}setOffset(e){return this.options.offset=e,this._update(),this}toggleClassName(e){let t;return this._classList.delete(e)?t=!1:(this._classList.add(e),t=!0),this._updateClassList(),t}_onMouseEvent(e){this._update(e.point);}_getAnchor(e){if(this.options.anchor)return this.options.anchor;const t=this._map,i=this._container,r=this._pos;if(!t||!i||!r)return \"bottom\";const n=i.offsetWidth,o=i.offsetHeight,s=r.x<n/2,a=r.x>t.transform.width-n/2;if(r.y+e<o)return s?\"top-left\":a?\"top-right\":\"top\";if(r.y>t.transform.height-o){if(s)return \"bottom-left\";if(a)return \"bottom-right\"}return s?\"left\":a?\"right\":\"bottom\"}_updateClassList(){const e=this._container;if(!e)return;const t=[...this._classList];t.push(\"mapboxgl-popup\"),this._anchor&&t.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&t.push(\"mapboxgl-popup-track-pointer\"),e.className=t.join(\" \");}_update(e){const t=this._map,i=this._content;if(!t||!this._lngLat&&!this._trackPointer||!i)return;let r=this._container;if(r||(r=this._container=pt(\"div\",\"mapboxgl-popup\",t.getContainer()),this._tip=pt(\"div\",\"mapboxgl-popup-tip\",r),r.appendChild(i)),this.options.maxWidth&&r.style.maxWidth!==this.options.maxWidth&&(r.style.maxWidth=this.options.maxWidth),t.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=oI(this._lngLat,this._pos,t.transform)),!this._trackPointer||e){const i=this._pos=this._trackPointer&&e?e:t.project(this._lngLat),r=hI(this.options.offset),n=this._anchor=this._getAnchor(r.y),o=hI(this.options.offset,n),s=i.add(o).round();t._requestDomTask((()=>{this._container&&n&&(this._container.style.transform=`${sI[n]} translate(${s.x}px,${s.y}px)`);}));}if(!this._marker&&t._showingGlobe()){const e=Nd(t.transform,this._lngLat)?0:1;this._setOpacity(e);}this._updateClassList();}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const e=this._container.querySelector(cI);e&&e.focus();}_onClose(){this.remove();}_setOpacity(e){this._container&&(this._container.style.opacity=`${e}`),this._content&&(this._content.style.pointerEvents=e?\"auto\":\"none\");}},Marker:aI,Style:iS,LngLat:Wd,LngLatBounds:sc,Point:y,MercatorCoordinate:lp,FreeCameraOptions:Xx,Evented:zt,config:n,prewarm:function(){Ww().acquire(qw);},clearPrewarmedResources:function(){const e=$w;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(qw),$w=null):console.warn(\"Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()\"));},get accessToken(){return n.ACCESS_TOKEN},set accessToken(e){n.ACCESS_TOKEN=e;},get baseApiUrl(){return n.API_URL},set baseApiUrl(e){n.API_URL=e;},get workerCount(){return Zw.workerCount},set workerCount(e){Zw.workerCount=e;},get maxParallelImageRequests(){return n.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(e){n.MAX_PARALLEL_IMAGE_REQUESTS=e;},clearStorage(e){!function(e){if(!pe())return;const i=t.caches.delete(le);e&&i.catch(e).then((()=>e()));}(e);},workerUrl:\"\",workerClass:null,get dracoUrl(){return Jw()},set dracoUrl(e){!function(e){Xw=dt.resolveURL(e),Kw||(Kw=new Ew(Ww(),new zt)),Kw.broadcast(\"setDracoUrl\",Xw);}(e);},setNow:dt.setNow,restoreNow:dt.restoreNow};e.A=Tw,e.D=Ym,e.E=cr,e.F=Qm,e.K=xE,e.O=qu,e.P=y,e.T=Zv,e.V=hm,e.a=Kf,e.b=fm,e.c=ow,e.d=class extends zt{constructor(e,t,i,r,n,o){super(),this.actor=e,this.layerIndex=t,this.availableImages=i,this.loadVectorData=n||Uw,this.loading={},this.loaded={},this.deduped=new Nw(e.scheduler),this.isSpriteLoaded=r,this.scheduler=e.scheduler,this.brightness=o;}loadTile(e,t){const i=e.uid,r=e&&e.request,n=r&&r.collectResourceTiming,o=this.loading[i]=new Bw(e);o.abort=this.loadVectorData(e,((s,a)=>{const l=!this.loading[i];if(delete this.loading[i],l||s||!a)return o.status=\"done\",l||(this.loaded[i]=o),t(s);const c=a.rawData,h={};a.expires&&(h.expires=a.expires),a.cacheControl&&(h.cacheControl=a.cacheControl),o.vectorTile=a.vectorTile||new cm(new km(c));const u=()=>{o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,((e,i)=>{if(e||!i)return t(e);const o={};if(n){const e=it(r);e.length>0&&(o.resourceTiming=JSON.parse(JSON.stringify(e)));}t(null,k({rawTileData:c.slice(0)},i,h,o));}));};this.isSpriteLoaded?u():this.once(\"isSpriteLoaded\",(()=>{this.scheduler?this.scheduler.add(u,{type:\"parseTile\",isSymbolTile:e.isSymbolTile,zoom:e.tileZoom}):u();})),this.loaded=this.loaded||{},this.loaded[i]=o;}));}reloadTile(e,t){const i=this.loaded,r=e.uid,n=this;if(i&&i[r]){const o=i[r];o.showCollisionBoxes=e.showCollisionBoxes,o.projection=e.projection,o.brightness=e.brightness,o.tileTransform=Pg(e.tileID.canonical,e.projection),o.extraShadowCaster=e.extraShadowCaster;const s=(e,i)=>{const r=o.reloadCallback;r&&(delete o.reloadCallback,o.parse(o.vectorTile,n.layerIndex,this.availableImages,n.actor,r)),t(e,i);};\"parsing\"===o.status?o.reloadCallback=s:\"done\"===o.status&&(o.vectorTile?o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s());}else t(null,void 0);}abortTile(e,t){const i=e.uid,r=this.loading[i];r&&(r.abort&&r.abort(),delete this.loading[i]),t();}removeTile(e,t){const i=this.loaded,r=e.uid;i&&i[r]&&delete i[r],t();}},e.e=Eo,e.f=it,e.g=d,e.h=we,e.i=Te,e.j=function(e,t){const i=TT(e);for(const e of i){for(const t of e.meshes)ET(t);e.lights&&(e.lightMeshIndex=e.meshes.length,e.meshes.push(MT(e.lights,t)));}return i},e.k=oa,e.l=function(e){let t=0;if(new Uint32Array(e,0,1)[0]!==aT){const i=new Uint32Array(e,0,7),[,,r,n,o,s]=i;t=i.byteLength+n+o+s+o,(r!==e.byteLength||t>=e.byteLength)&&H(\"Invalid b3dm header information.\");}return pT(e,t)},e.m=ty,e.n=na,e.o=It,e.p=_,e.q=function(e){fe(),ue&&ue.then((t=>{t.keys().then((i=>{for(let r=0;r<i.length-e;r++)t.delete(i[r]);}));}));},e.r=RT,e.s=xI,e.t=ap,e.v=L,e.w=t;}));\n\ndefine([\"./shared\"],(function(e){\"use strict\";function t(e){if(\"number\"==typeof e||\"boolean\"==typeof e||\"string\"==typeof e||null==e)return JSON.stringify(e);if(Array.isArray(e)){let r=\"[\";for(const o of e)r+=`${t(o)},`;return `${r}]`}let r=\"{\";for(const o of Object.keys(e).sort())r+=`${o}:${t(e[o])},`;return `${r}}`}function r(r){let o=\"\";for(const i of e.r)o+=`/${t(r[i])}`;return o}class o{constructor(e){this.keyCache={},this._layers={},this._layerConfigs={},e&&this.replace(e);}replace(e,t){this._layerConfigs={},this._layers={},this.update(e,[],t);}update(t,o,i){this._options=i;for(const r of t){this._layerConfigs[r.id]=r;const t=this._layers[r.id]=e.c(r,this._options);t.setScope(this.scope),t.compileFilter(),this.keyCache[r.id]&&delete this.keyCache[r.id];}for(const e of o)delete this.keyCache[e],delete this._layerConfigs[e],delete this._layers[e];this.familiesBySource={};const s=function(e,t){const o={};for(let i=0;i<e.length;i++){const s=t&&t[e[i].id]||r(e[i]);t&&(t[e[i].id]=s);let n=o[s];n||(n=o[s]=[]),n.push(e[i]);}const i=[];for(const e in o)i.push(o[e]);return i}(e.v(this._layerConfigs),this.keyCache);for(const e of s){const t=e.map((e=>this._layers[e.id])),r=t[0];if(\"none\"===r.visibility)continue;const o=r.source||\"\";let i=this.familiesBySource[o];i||(i=this.familiesBySource[o]={});const s=r.sourceLayer||\"_geojsonTileLayer\";let n=i[s];n||(n=i[s]=[]),n.push(t);}}}class i{loadTile(t,r){const{uid:o,encoding:i,rawImageData:s,padding:n}=t,a=e.w.ImageBitmap&&s instanceof e.w.ImageBitmap?this.getImageData(s,n):s;r(null,new e.D(o,a,i,n<1));}getImageData(e,t){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(e.width,e.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext(\"2d\",{willReadFrequently:!0})),this.offscreenCanvas.width=e.width,this.offscreenCanvas.height=e.height,this.offscreenCanvasContext.drawImage(e,0,0,e.width,e.height);const r=this.offscreenCanvasContext.getImageData(-t,-t,e.width+2*t,e.height+2*t);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),r}}function s(e,t){if(0!==e.length){n(e[0],t);for(var r=1;r<e.length;r++)n(e[r],!t);}}function n(e,t){for(var r=0,o=0,i=0,s=e.length,n=s-1;i<s;n=i++){var a=(e[i][0]-e[n][0])*(e[n][1]+e[i][1]),l=r+a;o+=Math.abs(r)>=Math.abs(a)?r-l+a:a-l+r,r=l;}r+o>=0!=!!t&&e.reverse();}var a=e.g((function e(t,r){var o,i=t&&t.type;if(\"FeatureCollection\"===i)for(o=0;o<t.features.length;o++)e(t.features[o],r);else if(\"GeometryCollection\"===i)for(o=0;o<t.geometries.length;o++)e(t.geometries[o],r);else if(\"Feature\"===i)e(t.geometry,r);else if(\"Polygon\"===i)s(t.coordinates,r);else if(\"MultiPolygon\"===i)for(o=0;o<t.coordinates.length;o++)s(t.coordinates[o],r);return t}));const l=e.V.prototype.toGeoJSON;var h={exports:{}},u=e.p,c=e.a.VectorTileFeature,f=d;function d(e,t){this.options=t||{},this.features=e,this.length=e.length;}function p(e,t){this.id=\"number\"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096;}d.prototype.feature=function(e){return new p(this.features[e],this.options.extent)},p.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var t=0;t<e.length;t++){for(var r=e[t],o=[],i=0;i<r.length;i++)o.push(new u(r[i][0],r[i][1]));this.geometry.push(o);}return this.geometry},p.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,r=-1/0,o=1/0,i=-1/0,s=0;s<e.length;s++)for(var n=e[s],a=0;a<n.length;a++){var l=n[a];t=Math.min(t,l.x),r=Math.max(r,l.x),o=Math.min(o,l.y),i=Math.max(i,l.y);}return [t,o,r,i]},p.prototype.toGeoJSON=c.prototype.toGeoJSON;var g=e.b,m=f;function y(e){var t=new g;return function(e,t){for(var r in e.layers)t.writeMessage(3,v,e.layers[r]);}(e,t),t.finish()}function v(e,t){var r;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||\"\"),t.writeVarintField(5,e.extent||4096);var o={keys:[],values:[],keycache:{},valuecache:{}};for(r=0;r<e.length;r++)o.feature=e.feature(r),t.writeMessage(2,w,o);var i=o.keys;for(r=0;r<i.length;r++)t.writeStringField(3,i[r]);var s=o.values;for(r=0;r<s.length;r++)t.writeMessage(4,I,s[r]);}function w(e,t){var r=e.feature;void 0!==r.id&&t.writeVarintField(1,r.id),t.writeMessage(2,x,e),t.writeVarintField(3,r.type),t.writeMessage(4,b,r);}function x(e,t){var r=e.feature,o=e.keys,i=e.values,s=e.keycache,n=e.valuecache;for(var a in r.properties){var l=r.properties[a],h=s[a];if(null!==l){void 0===h&&(o.push(a),s[a]=h=o.length-1),t.writeVarint(h);var u=typeof l;\"string\"!==u&&\"boolean\"!==u&&\"number\"!==u&&(l=JSON.stringify(l));var c=u+\":\"+l,f=n[c];void 0===f&&(i.push(l),n[c]=f=i.length-1),t.writeVarint(f);}}}function S(e,t){return (t<<3)+(7&e)}function M(e){return e<<1^e>>31}function b(e,t){for(var r=e.loadGeometry(),o=e.type,i=0,s=0,n=r.length,a=0;a<n;a++){var l=r[a],h=1;1===o&&(h=l.length),t.writeVarint(S(1,h));for(var u=3===o?l.length-1:l.length,c=0;c<u;c++){1===c&&1!==o&&t.writeVarint(S(2,u-1));var f=l[c].x-i,d=l[c].y-s;t.writeVarint(M(f)),t.writeVarint(M(d)),i+=f,s+=d;}3===o&&t.writeVarint(S(7,1));}}function I(e,t){var r=typeof e;\"string\"===r?t.writeStringField(1,e):\"boolean\"===r?t.writeBooleanField(7,e):\"number\"===r&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e));}h.exports=y,h.exports.fromVectorTileJs=y,h.exports.fromGeojsonVt=function(e,t){t=t||{};var r={};for(var o in e)r[o]=new m(e[o].features,t),r[o].name=o,r[o].version=t.version,r[o].extent=t.extent;return y({layers:r})},h.exports.GeoJSONWrapper=m;var k=e.g(h.exports);const P={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},_=Math.fround||(L=new Float32Array(1),e=>(L[0]=+e,L[0]));var L;const T=3,C=5,O=6;class j{constructor(e){this.options=Object.assign(Object.create(P),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[];}load(e){const{log:t,minZoom:r,maxZoom:o}=this.options;t&&console.time(\"total time\");const i=`prepare ${e.length} points`;t&&console.time(i),this.points=e;const s=[];for(let t=0;t<e.length;t++){const r=e[t];if(!r.geometry)continue;const[o,i]=r.geometry.coordinates,n=_(z(o)),a=_(D(i));s.push(n,a,1/0,t,-1,1),this.options.reduce&&s.push(0);}let n=this.trees[o+1]=this._createTree(s);t&&console.timeEnd(i);for(let e=o;e>=r;e--){const r=+Date.now();n=this.trees[e]=this._createTree(this._cluster(n,e)),t&&console.log(\"z%d: %d clusters in %dms\",e,n.numItems,+Date.now()-r);}return t&&console.timeEnd(\"total time\"),this}getClusters(e,t){let r=((e[0]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[1]));let i=180===e[2]?180:((e[2]+180)%360+360)%360-180;const s=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,i=180;else if(r>i){const e=this.getClusters([r,o,180,s],t),n=this.getClusters([-180,o,i,s],t);return e.concat(n)}const n=this.trees[this._limitZoom(t)],a=n.range(z(r),D(s),z(i),D(o)),l=n.data,h=[];for(const e of a){const t=this.stride*e;h.push(l[t+C]>1?F(l,t,this.clusterProps):this.points[l[t+T]]);}return h}getChildren(e){const t=this._getOriginId(e),r=this._getOriginZoom(e),o=\"No cluster with the specified id.\",i=this.trees[r];if(!i)throw new Error(o);const s=i.data;if(t*this.stride>=s.length)throw new Error(o);const n=this.options.radius/(this.options.extent*Math.pow(2,r-1)),a=i.within(s[t*this.stride],s[t*this.stride+1],n),l=[];for(const t of a){const r=t*this.stride;s[r+4]===e&&l.push(s[r+C]>1?F(s,r,this.clusterProps):this.points[s[r+T]]);}if(0===l.length)throw new Error(o);return l}getLeaves(e,t,r){const o=[];return this._appendLeaves(o,e,t=t||10,r=r||0,0),o}getTile(e,t,r){const o=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:s,radius:n}=this.options,a=n/s,l=(r-a)/i,h=(r+1+a)/i,u={features:[]};return this._addTileFeatures(o.range((t-a)/i,l,(t+1+a)/i,h),o.data,t,r,i,u),0===t&&this._addTileFeatures(o.range(1-a/i,l,1,h),o.data,i,r,i,u),t===i-1&&this._addTileFeatures(o.range(0,l,a/i,h),o.data,-1,r,i,u),u.features.length?u:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const r=this.getChildren(e);if(t++,1!==r.length)break;e=r[0].properties.cluster_id;}return t}_appendLeaves(e,t,r,o,i){const s=this.getChildren(t);for(const t of s){const s=t.properties;if(s&&s.cluster?i+s.point_count<=o?i+=s.point_count:i=this._appendLeaves(e,s.cluster_id,r,o,i):i<o?i++:e.push(t),e.length===r)break}return i}_createTree(t){const r=new e.K(t.length/this.stride|0,this.options.nodeSize,Float32Array);for(let e=0;e<t.length;e+=this.stride)r.add(t[e],t[e+1]);return r.finish(),r.data=t,r}_addTileFeatures(e,t,r,o,i,s){for(const n of e){const e=n*this.stride,a=t[e+C]>1;let l,h,u;if(a)l=Z(t,e,this.clusterProps),h=t[e],u=t[e+1];else {const r=this.points[t[e+T]];l=r.properties;const[o,i]=r.geometry.coordinates;h=z(o),u=D(i);}const c={type:1,geometry:[[Math.round(this.options.extent*(h*i-r)),Math.round(this.options.extent*(u*i-o))]],tags:l};let f;f=a||this.options.generateId?t[e+T]:this.points[t[e+T]].id,void 0!==f&&(c.id=f),s.features.push(c);}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){const{radius:r,extent:o,reduce:i,minPoints:s}=this.options,n=r/(o*Math.pow(2,t)),a=e.data,l=[],h=this.stride;for(let r=0;r<a.length;r+=h){if(a[r+2]<=t)continue;a[r+2]=t;const o=a[r],u=a[r+1],c=e.within(a[r],a[r+1],n),f=a[r+C];let d=f;for(const e of c){const r=e*h;a[r+2]>t&&(d+=a[r+C]);}if(d>f&&d>=s){let e,s=o*f,n=u*f,p=-1;const g=((r/h|0)<<5)+(t+1)+this.points.length;for(const o of c){const l=o*h;if(a[l+2]<=t)continue;a[l+2]=t;const u=a[l+C];s+=a[l]*u,n+=a[l+1]*u,a[l+4]=g,i&&(e||(e=this._map(a,r,!0),p=this.clusterProps.length,this.clusterProps.push(e)),i(e,this._map(a,l)));}a[r+4]=g,l.push(s/d,n/d,1/0,g,-1,d),i&&l.push(p);}else {for(let e=0;e<h;e++)l.push(a[r+e]);if(d>1)for(const e of c){const r=e*h;if(!(a[r+2]<=t)){a[r+2]=t;for(let e=0;e<h;e++)l.push(a[r+e]);}}}}return l}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return (e-this.points.length)%32}_map(e,t,r){if(e[t+C]>1){const o=this.clusterProps[e[t+O]];return r?Object.assign({},o):o}const o=this.points[e[t+T]].properties,i=this.options.map(o);return r&&i===o?Object.assign({},i):i}}function F(e,t,r){return {type:\"Feature\",id:e[t+T],properties:Z(e,t,r),geometry:{type:\"Point\",coordinates:[(o=e[t],360*(o-.5)),E(e[t+1])]}};var o;}function Z(e,t,r){const o=e[t+C],i=o>=1e4?`${Math.round(o/1e3)}k`:o>=1e3?Math.round(o/100)/10+\"k\":o,s=e[t+O],n=-1===s?{}:Object.assign({},r[s]);return Object.assign(n,{cluster:!0,cluster_id:e[t+T],point_count:o,point_count_abbreviated:i})}function z(e){return e/360+.5}function D(e){const t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function E(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}var N={exports:{}};N.exports=function(){function e(r,o,i,s){for(var n,a=s,l=i-o>>1,h=i-o,u=r[o],c=r[o+1],f=r[i],d=r[i+1],p=o+3;p<i;p+=3){var g=t(r[p],r[p+1],u,c,f,d);if(g>a)n=p,a=g;else if(g===a){var m=Math.abs(p-l);m<h&&(n=p,h=m);}}a>s&&(n-o>3&&e(r,o,n,s),r[n+2]=a,i-n>3&&e(r,n,i,s));}function t(e,t,r,o,i,s){var n=i-r,a=s-o;if(0!==n||0!==a){var l=((e-r)*n+(t-o)*a)/(n*n+a*a);l>1?(r=i,o=s):l>0&&(r+=n*l,o+=a*l);}return (n=e-r)*n+(a=t-o)*a}function r(e,t,r,i){var s={id:void 0===e?null:e,type:t,geometry:r,tags:i,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,r=e.type;if(\"Point\"===r||\"MultiPoint\"===r||\"LineString\"===r)o(e,t);else if(\"Polygon\"===r||\"MultiLineString\"===r)for(var i=0;i<t.length;i++)o(e,t[i]);else if(\"MultiPolygon\"===r)for(i=0;i<t.length;i++)for(var s=0;s<t[i].length;s++)o(e,t[i][s]);}(s),s}function o(e,t){for(var r=0;r<t.length;r+=3)e.minX=Math.min(e.minX,t[r]),e.minY=Math.min(e.minY,t[r+1]),e.maxX=Math.max(e.maxX,t[r]),e.maxY=Math.max(e.maxY,t[r+1]);}function i(e,t,o,l){if(t.geometry){var h=t.geometry.coordinates,u=t.geometry.type,c=Math.pow(o.tolerance/((1<<o.maxZoom)*o.extent),2),f=[],d=t.id;if(o.promoteId?d=t.properties[o.promoteId]:o.generateId&&(d=l||0),\"Point\"===u)s(h,f);else if(\"MultiPoint\"===u)for(var p=0;p<h.length;p++)s(h[p],f);else if(\"LineString\"===u)n(h,f,c,!1);else if(\"MultiLineString\"===u){if(o.lineMetrics){for(p=0;p<h.length;p++)n(h[p],f=[],c,!1),e.push(r(d,\"LineString\",f,t.properties));return}a(h,f,c,!1);}else if(\"Polygon\"===u)a(h,f,c,!0);else {if(\"MultiPolygon\"!==u){if(\"GeometryCollection\"===u){for(p=0;p<t.geometry.geometries.length;p++)i(e,{id:d,geometry:t.geometry.geometries[p],properties:t.properties},o,l);return}throw new Error(\"Input data is not a valid GeoJSON object.\")}for(p=0;p<h.length;p++){var g=[];a(h[p],g,c,!0),f.push(g);}}e.push(r(d,u,f,t.properties));}}function s(e,t){t.push(l(e[0])),t.push(h(e[1])),t.push(0);}function n(t,r,o,i){for(var s,n,a=0,u=0;u<t.length;u++){var c=l(t[u][0]),f=h(t[u][1]);r.push(c),r.push(f),r.push(0),u>0&&(a+=i?(s*f-c*n)/2:Math.sqrt(Math.pow(c-s,2)+Math.pow(f-n,2))),s=c,n=f;}var d=r.length-3;r[2]=1,e(r,0,d,o),r[d+2]=1,r.size=Math.abs(a),r.start=0,r.end=r.size;}function a(e,t,r,o){for(var i=0;i<e.length;i++){var s=[];n(e[i],s,r,o),t.push(s);}}function l(e){return e/360+.5}function h(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function u(e,t,o,i,s,n,a,l){if(i/=t,n>=(o/=t)&&a<i)return e;if(a<o||n>=i)return null;for(var h=[],u=0;u<e.length;u++){var d=e[u],g=d.geometry,m=d.type,y=0===s?d.minX:d.minY,v=0===s?d.maxX:d.maxY;if(y>=o&&v<i)h.push(d);else if(!(v<o||y>=i)){var w=[];if(\"Point\"===m||\"MultiPoint\"===m)c(g,w,o,i,s);else if(\"LineString\"===m)f(g,w,o,i,s,!1,l.lineMetrics);else if(\"MultiLineString\"===m)p(g,w,o,i,s,!1);else if(\"Polygon\"===m)p(g,w,o,i,s,!0);else if(\"MultiPolygon\"===m)for(var x=0;x<g.length;x++){var S=[];p(g[x],S,o,i,s,!0),S.length&&w.push(S);}if(w.length){if(l.lineMetrics&&\"LineString\"===m){for(x=0;x<w.length;x++)h.push(r(d.id,m,w[x],d.tags));continue}\"LineString\"!==m&&\"MultiLineString\"!==m||(1===w.length?(m=\"LineString\",w=w[0]):m=\"MultiLineString\"),\"Point\"!==m&&\"MultiPoint\"!==m||(m=3===w.length?\"Point\":\"MultiPoint\"),h.push(r(d.id,m,w,d.tags));}}}return h.length?h:null}function c(e,t,r,o,i){for(var s=0;s<e.length;s+=3){var n=e[s+i];n>=r&&n<=o&&(t.push(e[s]),t.push(e[s+1]),t.push(e[s+2]));}}function f(e,t,r,o,i,s,n){for(var a,l,h=d(e),u=0===i?m:y,c=e.start,f=0;f<e.length-3;f+=3){var p=e[f],v=e[f+1],w=e[f+2],x=e[f+3],S=e[f+4],M=0===i?p:v,b=0===i?x:S,I=!1;n&&(a=Math.sqrt(Math.pow(p-x,2)+Math.pow(v-S,2))),M<r?b>r&&(l=u(h,p,v,x,S,r),n&&(h.start=c+a*l)):M>o?b<o&&(l=u(h,p,v,x,S,o),n&&(h.start=c+a*l)):g(h,p,v,w),b<r&&M>=r&&(l=u(h,p,v,x,S,r),I=!0),b>o&&M<=o&&(l=u(h,p,v,x,S,o),I=!0),!s&&I&&(n&&(h.end=c+a*l),t.push(h),h=d(e)),n&&(c+=a);}var k=e.length-3;p=e[k],v=e[k+1],w=e[k+2],(M=0===i?p:v)>=r&&M<=o&&g(h,p,v,w),k=h.length-3,s&&k>=3&&(h[k]!==h[0]||h[k+1]!==h[1])&&g(h,h[0],h[1],h[2]),h.length&&t.push(h);}function d(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function p(e,t,r,o,i,s){for(var n=0;n<e.length;n++)f(e[n],t,r,o,i,s,!1);}function g(e,t,r,o){e.push(t),e.push(r),e.push(o);}function m(e,t,r,o,i,s){var n=(s-t)/(o-t);return e.push(s),e.push(r+(i-r)*n),e.push(1),n}function y(e,t,r,o,i,s){var n=(s-r)/(i-r);return e.push(t+(o-t)*n),e.push(s),e.push(1),n}function v(e,t){for(var o=[],i=0;i<e.length;i++){var s,n=e[i],a=n.type;if(\"Point\"===a||\"MultiPoint\"===a||\"LineString\"===a)s=w(n.geometry,t);else if(\"MultiLineString\"===a||\"Polygon\"===a){s=[];for(var l=0;l<n.geometry.length;l++)s.push(w(n.geometry[l],t));}else if(\"MultiPolygon\"===a)for(s=[],l=0;l<n.geometry.length;l++){for(var h=[],u=0;u<n.geometry[l].length;u++)h.push(w(n.geometry[l][u],t));s.push(h);}o.push(r(n.id,a,s,n.tags));}return o}function w(e,t){var r=[];r.size=e.size,void 0!==e.start&&(r.start=e.start,r.end=e.end);for(var o=0;o<e.length;o+=3)r.push(e[o]+t,e[o+1],e[o+2]);return r}function x(e,t){if(e.transformed)return e;var r,o,i,s=1<<e.z,n=e.x,a=e.y;for(r=0;r<e.features.length;r++){var l=e.features[r],h=l.geometry,u=l.type;if(l.geometry=[],1===u)for(o=0;o<h.length;o+=2)l.geometry.push(S(h[o],h[o+1],t,s,n,a));else for(o=0;o<h.length;o++){var c=[];for(i=0;i<h[o].length;i+=2)c.push(S(h[o][i],h[o][i+1],t,s,n,a));l.geometry.push(c);}}return e.transformed=!0,e}function S(e,t,r,o,i,s){return [Math.round(r*(e*o-i)),Math.round(r*(t*o-s))]}function M(e,t,r,o,i){for(var s=t===i.maxZoom?0:i.tolerance/((1<<t)*i.extent),n={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:r,y:o,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},a=0;a<e.length;a++){n.numFeatures++,b(n,e[a],s,i);var l=e[a].minX,h=e[a].minY,u=e[a].maxX,c=e[a].maxY;l<n.minX&&(n.minX=l),h<n.minY&&(n.minY=h),u>n.maxX&&(n.maxX=u),c>n.maxY&&(n.maxY=c);}return n}function b(e,t,r,o){var i=t.geometry,s=t.type,n=[];if(\"Point\"===s||\"MultiPoint\"===s)for(var a=0;a<i.length;a+=3)n.push(i[a]),n.push(i[a+1]),e.numPoints++,e.numSimplified++;else if(\"LineString\"===s)I(n,i,e,r,!1,!1);else if(\"MultiLineString\"===s||\"Polygon\"===s)for(a=0;a<i.length;a++)I(n,i[a],e,r,\"Polygon\"===s,0===a);else if(\"MultiPolygon\"===s)for(var l=0;l<i.length;l++){var h=i[l];for(a=0;a<h.length;a++)I(n,h[a],e,r,!0,0===a);}if(n.length){var u=t.tags||null;if(\"LineString\"===s&&o.lineMetrics){for(var c in u={},t.tags)u[c]=t.tags[c];u.mapbox_clip_start=i.start/i.size,u.mapbox_clip_end=i.end/i.size;}var f={geometry:n,type:\"Polygon\"===s||\"MultiPolygon\"===s?3:\"LineString\"===s||\"MultiLineString\"===s?2:1,tags:u};null!==t.id&&(f.id=t.id),e.features.push(f);}}function I(e,t,r,o,i,s){var n=o*o;if(o>0&&t.size<(i?n:o))r.numPoints+=t.length/3;else {for(var a=[],l=0;l<t.length;l+=3)(0===o||t[l+2]>n)&&(r.numSimplified++,a.push(t[l]),a.push(t[l+1])),r.numPoints++;i&&function(e,t){for(var r=0,o=0,i=e.length,s=i-2;o<i;s=o,o+=2)r+=(e[o]-e[s])*(e[o+1]+e[s+1]);if(r>0===t)for(o=0,i=e.length;o<i/2;o+=2){var n=e[o],a=e[o+1];e[o]=e[i-2-o],e[o+1]=e[i-1-o],e[i-2-o]=n,e[i-1-o]=a;}}(a,s),e.push(a);}}function k(e,t){var r=(t=this.options=function(e,t){for(var r in t)e[r]=t[r];return e}(Object.create(this.options),t)).debug;if(r&&console.time(\"preprocess data\"),t.maxZoom<0||t.maxZoom>24)throw new Error(\"maxZoom should be in the 0-24 range\");if(t.promoteId&&t.generateId)throw new Error(\"promoteId and generateId cannot be used together.\");var o=function(e,t){var r=[];if(\"FeatureCollection\"===e.type)for(var o=0;o<e.features.length;o++)i(r,e.features[o],t,o);else i(r,\"Feature\"===e.type?e:{geometry:e},t);return r}(e,t);this.tiles={},this.tileCoords=[],r&&(console.timeEnd(\"preprocess data\"),console.log(\"index: maxZoom: %d, maxPoints: %d\",t.indexMaxZoom,t.indexMaxPoints),console.time(\"generate tiles\"),this.stats={},this.total=0),(o=function(e,t){var r=t.buffer/t.extent,o=e,i=u(e,1,-1-r,r,0,-1,2,t),s=u(e,1,1-r,2+r,0,-1,2,t);return (i||s)&&(o=u(e,1,-r,1+r,0,-1,2,t)||[],i&&(o=v(i,1).concat(o)),s&&(o=o.concat(v(s,-1)))),o}(o,t)).length&&this.splitTile(o,0,0,0),r&&(o.length&&console.log(\"features: %d, points: %d\",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd(\"generate tiles\"),console.log(\"tiles generated:\",this.total,JSON.stringify(this.stats)));}function P(e,t,r){return 32*((1<<e)*r+t)+e}return k.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},k.prototype.splitTile=function(e,t,r,o,i,s,n){for(var a=[e,t,r,o],l=this.options,h=l.debug;a.length;){o=a.pop(),r=a.pop(),t=a.pop(),e=a.pop();var c=1<<t,f=P(t,r,o),d=this.tiles[f];if(!d&&(h>1&&console.time(\"creation\"),d=this.tiles[f]=M(e,t,r,o,l),this.tileCoords.push({z:t,x:r,y:o}),h)){h>1&&(console.log(\"tile z%d-%d-%d (features: %d, points: %d, simplified: %d)\",t,r,o,d.numFeatures,d.numPoints,d.numSimplified),console.timeEnd(\"creation\"));var p=\"z\"+t;this.stats[p]=(this.stats[p]||0)+1,this.total++;}if(d.source=e,i){if(t===l.maxZoom||t===i)continue;var g=1<<i-t;if(r!==Math.floor(s/g)||o!==Math.floor(n/g))continue}else if(t===l.indexMaxZoom||d.numPoints<=l.indexMaxPoints)continue;if(d.source=null,0!==e.length){h>1&&console.time(\"clipping\");var m,y,v,w,x,S,b=.5*l.buffer/l.extent,I=.5-b,k=.5+b,_=1+b;m=y=v=w=null,x=u(e,c,r-b,r+k,0,d.minX,d.maxX,l),S=u(e,c,r+I,r+_,0,d.minX,d.maxX,l),e=null,x&&(m=u(x,c,o-b,o+k,1,d.minY,d.maxY,l),y=u(x,c,o+I,o+_,1,d.minY,d.maxY,l),x=null),S&&(v=u(S,c,o-b,o+k,1,d.minY,d.maxY,l),w=u(S,c,o+I,o+_,1,d.minY,d.maxY,l),S=null),h>1&&console.timeEnd(\"clipping\"),a.push(m||[],t+1,2*r,2*o),a.push(y||[],t+1,2*r,2*o+1),a.push(v||[],t+1,2*r+1,2*o),a.push(w||[],t+1,2*r+1,2*o+1);}}},k.prototype.getTile=function(e,t,r){var o=this.options,i=o.extent,s=o.debug;if(e<0||e>24)return null;var n=1<<e,a=P(e,t=(t%n+n)%n,r);if(this.tiles[a])return x(this.tiles[a],i);s>1&&console.log(\"drilling down to z%d-%d-%d\",e,t,r);for(var l,h=e,u=t,c=r;!l&&h>0;)h--,u=Math.floor(u/2),c=Math.floor(c/2),l=this.tiles[P(h,u,c)];return l&&l.source?(s>1&&console.log(\"found parent tile z%d-%d-%d\",h,u,c),s>1&&console.time(\"drilling down\"),this.splitTile(l.source,h,u,c,e,t,r),s>1&&console.timeEnd(\"drilling down\"),this.tiles[a]?x(this.tiles[a],i):null):null},function(e,t){return new k(e,t)}}();var J=e.g(N.exports);function Y(t,r){const o=t.tileID.canonical;if(!this._geoJSONIndex)return r(null,null);const i=this._geoJSONIndex.getTile(o.z,o.x,o.y);if(!i)return r(null,null);const s=new class{constructor(t){this.layers={_geojsonTileLayer:this},this.name=\"_geojsonTileLayer\",this.extent=e.E,this.length=t.length,this._features=t;}feature(t){return new class{constructor(t){this._feature=t,this.extent=e.E,this.type=t.type,this.properties=t.tags,\"id\"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10));}loadGeometry(){if(1===this._feature.type){const t=[];for(const r of this._feature.geometry)t.push([new e.P(r[0],r[1])]);return t}{const t=[];for(const r of this._feature.geometry){const o=[];for(const t of r)o.push(new e.P(t[0],t[1]));t.push(o);}return t}}toGeoJSON(e,t,r){return l.call(this,e,t,r)}}(this._features[t])}}(i.features);let n=k(s);0===n.byteOffset&&n.byteLength===n.buffer.byteLength||(n=new Uint8Array(n)),r(null,{vectorTile:s,rawData:n.buffer});}class G extends e.d{constructor(e,t,r,o,i,s){super(e,t,r,o,Y,s),i&&(this.loadGeoJSON=i);}loadData(t,r){const o=t&&t.request,i=o&&o.collectResourceTiming;this.loadGeoJSON(t,((s,n)=>{if(s||!n)return r(s);if(\"object\"!=typeof n)return r(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`));{a(n,!0);try{if(t.filter){const r=e.e(t.filter,{type:\"boolean\",\"property-type\":\"data-driven\",overridable:!1,transition:!1});if(\"error\"===r.result)throw new Error(r.value.map((e=>`${e.key}: ${e.message}`)).join(\", \"));const o=n.features.filter((e=>r.value.evaluate({zoom:0},e)));n={type:\"FeatureCollection\",features:o};}this._geoJSONIndex=t.cluster?new j(function({superclusterOptions:t,clusterProperties:r}){if(!r||!t)return t;const o={},i={},s={accumulated:null,zoom:0},n={properties:null},a=Object.keys(r);for(const t of a){const[s,n]=r[t],a=e.e(n),l=e.e(\"string\"==typeof s?[s,[\"accumulated\"],[\"get\",t]]:s);o[t]=a.value,i[t]=l.value;}return t.map=e=>{n.properties=e;const t={};for(const e of a)t[e]=o[e].evaluate(s,n);return t},t.reduce=(e,t)=>{n.properties=t;for(const t of a)s.accumulated=e[t],e[t]=i[t].evaluate(s,n);},t}(t)).load(n.features):J(n,t.geojsonVtOptions);}catch(s){return r(s)}this.loaded={};const l={};if(i){const r=e.f(o);r&&(l.resourceTiming={},l.resourceTiming[t.source]=JSON.parse(JSON.stringify(r)));}r(null,l);}}));}reloadTile(e,t){const r=this.loaded;return r&&r[e.uid]?super.reloadTile(e,t):this.loadTile(e,t)}loadGeoJSON(t,r){if(t.request)e.h(t.request,r);else {if(\"string\"!=typeof t.data)return r(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`));try{return r(null,JSON.parse(t.data))}catch(e){return r(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId));}catch(e){t(e);}}getClusterChildren(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId));}catch(e){t(e);}}getClusterLeaves(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset));}catch(e){t(e);}}}class W{constructor(t,r){this.tileID=new e.O(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.tileZoom=t.tileZoom,this.uid=t.uid,this.zoom=t.zoom,this.canonical=t.tileID.canonical,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.projection=t.projection,this.brightness=r;}parse(t,r,o,i){this.status=\"parsing\";const s=new e.O(o.tileID.overscaledZ,o.tileID.wrap,o.tileID.canonical.z,o.tileID.canonical.x,o.tileID.canonical.y),n={},a=r.familiesBySource[o.source],l=new e.F(s,o.promoteId);return l.bucketLayerIDs=[],e.l(t).then((t=>{if(!t)return i(new Error(\"Could not parse tile\"));const r=e.j(t,1/e.t(o.tileID.canonical)),h=t.json.extensionsUsed&&t.json.extensionsUsed.includes(\"MAPBOX_mesh_features\"),u=new e.k(this.zoom,{brightness:this.brightness});for(const o in a)for(const i of a[o]){const o=i[0],a=t.json.extensionsUsed;o.recalculate(u,[]);const l=new e.T(r,s,a&&a.includes(\"MAPBOX_mesh_features\"),this.brightness);h||(l.needsUpload=!0),n[o.fqid]=l,l.evaluate(o);}this.status=\"done\",i(null,{buckets:n,featureIndex:l});})).catch((e=>i(new Error(e.message))))}}class X{constructor(e,t,r,o,i,s){this.actor=e,this.layerIndex=t,this.brightness=s,this.loading={},this.loaded={};}loadTile(t,r){const o=t.uid,i=this.loading[o]=new W(t,this.brightness);e.i(t.request,((e,s)=>{const n=!this.loading[o];return delete this.loading[o],n||e?(i.status=\"done\",n||(this.loaded[o]=i),r(e)):s&&0!==s.byteLength?void i.parse(s,this.layerIndex,t,((e,t)=>{i.status=\"done\",this.loaded=this.loaded||{},this.loaded[o]=i,e||!t?r(e):r(null,t);})):(i.status=\"done\",this.loaded[o]=i,r())}));}reloadTile(e,t){const r=this.loaded,o=e.uid;if(r&&r[o]){const i=r[o];i.projection=e.projection,i.brightness=e.brightness;const s=(r,o)=>{i.reloadCallback&&(delete i.reloadCallback,this.loadTile(e,t)),t(r,o);};\"parsing\"===i.status?i.reloadCallback=s:\"done\"===i.status&&this.loadTile(e,t);}}abortTile(e,t){const r=e.uid;this.loading[r]&&delete this.loading[r],t();}removeTile(e,t){const r=this.loaded,o=e.uid;r&&r[o]&&delete r[o],t();}}class V{constructor(t){this.self=t,this.actor=new e.A(t,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=e.m({name:\"mercator\"}),this.workerSourceTypes={vector:e.d,geojson:G,\"batched-model\":X},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(e,t)=>{if(this.workerSourceTypes[e])throw new Error(`Worker source with name \"${e}\" already registered.`);this.workerSourceTypes[e]=t;},this.self.registerRTLTextPlugin=t=>{if(e.n.isParsed())throw new Error(\"RTL text plugin already registered.\");e.n.applyArabicShaping=t.applyArabicShaping,e.n.processBidirectionalText=t.processBidirectionalText,e.n.processStyledBidirectionalText=t.processStyledBidirectionalText;};}clearCaches(e,t,r){delete this.layerIndexes[e],delete this.availableImages[e],delete this.workerSources[e],delete this.demWorkerSources[e],r();}checkIfReady(e,t,r){r();}setReferrer(e,t){this.referrer=t;}spriteLoaded(t,{scope:r,isLoaded:o}){if(this.isSpriteLoaded[t]||(this.isSpriteLoaded[t]={}),this.isSpriteLoaded[t][r]=o,this.workerSources[t]&&this.workerSources[t][r])for(const i in this.workerSources[t][r]){const s=this.workerSources[t][r][i];for(const t in s)s[t]instanceof e.d&&(s[t].isSpriteLoaded=o,s[t].fire(new e.o(\"isSpriteLoaded\")));}}setImages(e,{scope:t,images:r},o){if(this.availableImages[e]||(this.availableImages[e]={}),this.availableImages[e][t]=r,this.workerSources[e]&&this.workerSources[e][t]){for(const o in this.workerSources[e][t]){const i=this.workerSources[e][t][o];for(const e in i)i[e].availableImages=r;}o();}else o();}setProjection(t,r){this.projections[t]=e.m(r);}setBrightness(e,t,r){this.brightness=t,r();}setLayers(e,t,r){this.getLayerIndex(e,t.scope).replace(t.layers,t.options),r();}updateLayers(e,t,r){this.getLayerIndex(e,t.scope).update(t.layers,t.removedIds,t.options),r();}loadTile(e,t,r){t.projection=this.projections[e]||this.defaultProjection,this.getWorkerSource(e,t.type,t.source,t.scope).loadTile(t,r);}loadDEMTile(e,t,r){this.getDEMWorkerSource(e,t.source,t.scope).loadTile(t,r);}reloadTile(e,t,r){t.projection=this.projections[e]||this.defaultProjection,this.getWorkerSource(e,t.type,t.source,t.scope).reloadTile(t,r);}abortTile(e,t,r){this.getWorkerSource(e,t.type,t.source,t.scope).abortTile(t,r);}removeTile(e,t,r){this.getWorkerSource(e,t.type,t.source,t.scope).removeTile(t,r);}removeSource(e,t,r){if(!(this.workerSources[e]&&this.workerSources[e][t.scope]&&this.workerSources[e][t.scope][t.type]&&this.workerSources[e][t.scope][t.type][t.source]))return;const o=this.workerSources[e][t.scope][t.type][t.source];delete this.workerSources[e][t.scope][t.type][t.source],void 0!==o.removeSource?o.removeSource(t,r):r();}loadWorkerSource(e,t,r){try{this.self.importScripts(t.url),r();}catch(e){r(e.toString());}}syncRTLPluginState(t,r,o){try{e.n.setState(r);const t=e.n.getPluginURL();if(e.n.isLoaded()&&!e.n.isParsed()&&null!=t){this.self.importScripts(t);const r=e.n.isParsed();o(r?void 0:new Error(`RTL Text Plugin failed to import scripts from ${t}`),r);}}catch(e){o(e.toString());}}setDracoUrl(e,t){this.dracoUrl=t;}getAvailableImages(e,t){this.availableImages[e]||(this.availableImages[e]={});let r=this.availableImages[e][t];return r||(r=[]),r}getLayerIndex(e,t){this.layerIndexes[e]||(this.layerIndexes[e]={});let r=this.layerIndexes[e][t];return r||(r=this.layerIndexes[e][t]=new o,r.scope=t),r}getWorkerSource(e,t,r,o){if(this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][o]||(this.workerSources[e][o]={}),this.workerSources[e][o][t]||(this.workerSources[e][o][t]={}),this.isSpriteLoaded[e]||(this.isSpriteLoaded[e]={}),!this.workerSources[e][o][t][r]){const i={send:(t,r,o,i,s,n)=>{this.actor.send(t,r,o,e,s,n);},scheduler:this.actor.scheduler};this.workerSources[e][o][t][r]=new this.workerSourceTypes[t](i,this.getLayerIndex(e,o),this.getAvailableImages(e,o),this.isSpriteLoaded[e][o],void 0,this.brightness);}return this.workerSources[e][o][t][r]}getDEMWorkerSource(e,t,r){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][r]||(this.demWorkerSources[e][r]={}),this.demWorkerSources[e][r][t]||(this.demWorkerSources[e][r][t]=new i),this.demWorkerSources[e][r][t]}enforceCacheSizeLimit(t,r){e.q(r);}getWorkerPerformanceMetrics(e,t,r){r(void 0,void 0);}}return \"undefined\"!=typeof WorkerGlobalScope&&\"undefined\"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new V(self)),V}));\n\ndefine([\"./shared\"],(function(e){\"use strict\";return e.s}));\n\n//\n// Our custom intro provides a specialized \"define()\" function, called by the\n// AMD modules below, that sets up the worker blob URL and then executes the\n// main module, storing its exported value as 'mapboxgl'\n\n\nvar mapboxgl$1 = mapboxgl;\n\nreturn mapboxgl$1;\n\n}));\n//# sourceMappingURL=mapbox-gl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbWFwYm94LWdsL2Rpc3QvbWFwYm94LWdsLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQSxLQUE0RDtBQUM1RCxDQUN1RztBQUN2RyxDQUFDLHVCQUF1Qjs7QUFFeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0EsRUFBRTtBQUNGLDBEQUEwRCxpSUFBaUksa0ZBQWtGLHNCQUFzQiwrQkFBK0IsK0JBQStCLG9CQUFvQjs7QUFFclg7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RkFBeUYseUJBQXlCO0FBQ2xIO0FBQ0E7QUFDQTs7O0FBR0EsZ0NBQWdDLGFBQWEsc0NBQXNDLFdBQVcsTUFBTSxTQUFTLHFEQUFxRCxZQUFZLGlFQUFpRSxJQUFJLDJFQUEyRSxTQUFTLE1BQU0sU0FBUywwQkFBMEIsK0VBQStFLHdCQUF3QiwrRkFBK0YsdUJBQXVCLHVGQUF1Rix1QkFBdUIsaUZBQWlGLHlCQUF5Qix3RUFBd0Usa0JBQWtCLDBCQUEwQixJQUFJLDJCQUEyQixrSkFBa0osU0FBUyxhQUFhLGdYQUFnWCxVQUFVLEVBQUUsTUFBTSxNQUFNLElBQUkscUNBQXFDLHVCQUF1QixrQkFBa0IsY0FBYywwQkFBMEIsOEJBQThCLElBQUkseUZBQXlGLGdCQUFnQixVQUFVLHlCQUF5QixtRUFBbUUscUJBQXFCLHNCQUFzQixhQUFhLHdCQUF3Qiw4REFBOEQsYUFBYSxjQUFjLHNGQUFzRixRQUFRLG9CQUFvQix5S0FBeUssYUFBYSx5QkFBeUIseUNBQXlDLDBCQUEwQix5Q0FBeUMsb0NBQW9DLHlDQUF5QywyQkFBMkIscUNBQXFDLGdCQUFnQixnQkFBZ0IsSUFBSSxLQUFLLDZCQUE2QiwwQkFBMEIscUNBQXFDLDBCQUEwQixRQUFRLFlBQVksWUFBWSxrREFBa0QsNkJBQTZCLFNBQVMscUJBQXFCLGtEQUFrRCxlQUFlLGdCQUFnQixtQkFBbUIsYUFBYSxpQkFBaUIsNEJBQTRCLGlCQUFpQiw0QkFBNEIs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SyxVQUFVLG1CQUFtQiw0QkFBNEIscUJBQXFCLHVCQUF1QixpQkFBaUIsK0RBQStELG9CQUFvQiwyRUFBMkUsZ0JBQWdCLHdIQUF3SCxtQkFBbUIsMkRBQTJELGtCQUFrQiwwSEFBMEgsaUJBQWlCLGdFQUFnRSxrQkFBa0IsaUVBQWlFLG9CQUFvQiw2SkFBNkoseURBQXlELHlHQUF5Ryx3QkFBd0IsSUFBSSxvQ0FBb0MsU0FBUyxrQkFBa0IsMEJBQTBCLElBQUksZ0JBQWdCLDJCQUEyQiw2Q0FBNkMsMkJBQTJCLHVCQUF1QixzRUFBc0UsRUFBRSxRQUFRLFNBQVMsa0JBQWtCLGlCQUFpQixpQkFBaUIsd0JBQXdCLG9EQUFvRCxFQUFFLGlDQUFpQyxtQkFBbUIsbUJBQW1CLDhDQUE4QyxFQUFFLDhCQUE4Qix3REFBd0QseUJBQXlCLG1EQUFtRCx3REFBd0QsOERBQThELG9EQUFvRCxtQ0FBbUMsU0FBUyxxQkFBcUIsOEJBQThCLGlDQUFpQyx1S0FBdUssc0NBQXNDLDBCQUEwQiw2REFBNkQsOERBQThELHdHQUF3RywyQkFBMkIsUUFBUSxtQ0FBbUMsbUJBQW1CLHVJQUF1STs7QUFFbmo4QixpQ0FBaUMsYUFBYSxXQUFXOztBQUV6RDtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7O0FBRUEsQ0FBQztBQUNEIiwic291cmNlcyI6WyIvVXNlcnMvcGV0ZWJsYXRjaGZvcmQvUmVwb3MvYWxvbmdzaWRlL3lhY2h0LXBsYW5uZXItOTVmMDE1YWYvbm9kZV9tb2R1bGVzL21hcGJveC1nbC9kaXN0L21hcGJveC1nbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBNYXBib3ggR0wgSlMgaXMgQ29weXJpZ2h0IMKpIDIwMjAgTWFwYm94IGFuZCBzdWJqZWN0IHRvIHRoZSBNYXBib3ggVGVybXMgb2YgU2VydmljZSAoKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbGVnYWwvdG9zLykuICovXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xudHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxudHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcbihnbG9iYWwgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWxUaGlzIDogZ2xvYmFsIHx8IHNlbGYsIGdsb2JhbC5tYXBib3hnbCA9IGZhY3RvcnkoKSk7XG59KSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbi8qIGVzbGludC1kaXNhYmxlICovXG5cbnZhciBzaGFyZWQsIHdvcmtlciwgbWFwYm94Z2w7XG4vLyBkZWZpbmUgZ2V0cyBjYWxsZWQgdGhyZWUgdGltZXM6IG9uZSBmb3IgZWFjaCBjaHVuay4gd2UgcmVseSBvbiB0aGUgb3JkZXJcbi8vIHRoZXkncmUgaW1wb3J0ZWQgdG8ga25vdyB3aGljaCBpcyB3aGljaFxuZnVuY3Rpb24gZGVmaW5lKF8sIGNodW5rKSB7XG5pZiAoIXNoYXJlZCkge1xuICAgIHNoYXJlZCA9IGNodW5rO1xufSBlbHNlIGlmICghd29ya2VyKSB7XG4gICAgd29ya2VyID0gY2h1bms7XG59IGVsc2Uge1xuICAgIHZhciB3b3JrZXJCdW5kbGVTdHJpbmcgPSBcInNlbGYub25lcnJvciA9IGZ1bmN0aW9uKCkgeyBjb25zb2xlLmVycm9yKCdBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBwYXJzaW5nIHRoZSBXZWJXb3JrZXIgYnVuZGxlLiBUaGlzIGlzIG1vc3QgbGlrZWx5IGR1ZSB0byBpbXByb3BlciB0cmFuc3BpbGF0aW9uIGJ5IEJhYmVsOyBwbGVhc2Ugc2VlIGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9ndWlkZXMvaW5zdGFsbC8jdHJhbnNwaWxpbmcnKTsgfTsgdmFyIHNoYXJlZENodW5rID0ge307IChcIiArIHNoYXJlZCArIFwiKShzaGFyZWRDaHVuayk7IChcIiArIHdvcmtlciArIFwiKShzaGFyZWRDaHVuayk7IHNlbGYub25lcnJvciA9IG51bGw7XCJcblxuICAgIHZhciBzaGFyZWRDaHVuayA9IHt9O1xuICAgIHNoYXJlZChzaGFyZWRDaHVuayk7XG4gICAgbWFwYm94Z2wgPSBjaHVuayhzaGFyZWRDaHVuayk7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdyAmJiB3aW5kb3cuVVJMICYmIHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKSB7XG4gICAgICAgIG1hcGJveGdsLndvcmtlclVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFt3b3JrZXJCdW5kbGVTdHJpbmddLCB7IHR5cGU6ICd0ZXh0L2phdmFzY3JpcHQnIH0pKTtcbiAgICB9XG59XG59XG5cblxuZGVmaW5lKFtcImV4cG9ydHNcIl0sKGZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO3ZhciB0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6e30saT1cIjMuMS4yXCI7bGV0IHI7Y29uc3Qgbj17QVBJX1VSTDpcImh0dHBzOi8vYXBpLm1hcGJveC5jb21cIixnZXQgQVBJX1VSTF9SRUdFWCgpe2lmKG51bGw9PXIpe2NvbnN0IGU9L14oKGh0dHBzPzopP1xcL1xcLyk/KFteXFwvXStcXC4pP21hcGJveFxcLmMobnxvbSkoXFwvfFxcP3wkKS9pO3RyeXtyPW51bGwhPXByb2Nlc3MuZW52LkFQSV9VUkxfUkVHRVg/bmV3IFJlZ0V4cChwcm9jZXNzLmVudi5BUElfVVJMX1JFR0VYKTplO31jYXRjaCh0KXtyPWU7fX1yZXR1cm4gcn0sZ2V0IEFQSV9USUxFSlNPTl9SRUdFWCgpe3JldHVybiAvXigoaHR0cHM/Oik/XFwvXFwvKT8oW15cXC9dK1xcLik/bWFwYm94XFwuYyhufG9tKShcXC92WzAtOV0qXFwvLipcXC5qc29uLiokKS9pfSxnZXQgQVBJX1NQUklURV9SRUdFWCgpe3JldHVybiAvXigoaHR0cHM/Oik/XFwvXFwvKT8oW15cXC9dK1xcLik/bWFwYm94XFwuYyhufG9tKShcXC9zdHlsZXNcXC92WzAtOV0qXFwvKSguKlxcL3Nwcml0ZS4qXFwuLiokKS9pfSxnZXQgQVBJX0ZPTlRTX1JFR0VYKCl7cmV0dXJuIC9eKChodHRwcz86KT9cXC9cXC8pPyhbXlxcL10rXFwuKT9tYXBib3hcXC5jKG58b20pKFxcL2ZvbnRzXFwvdlswLTldKlxcLykoLipcXC5wYmYuKiQpL2l9LGdldCBBUElfU1RZTEVfUkVHRVgoKXtyZXR1cm4gL14oKGh0dHBzPzopP1xcL1xcLyk/KFteXFwvXStcXC4pP21hcGJveFxcLmMobnxvbSkoXFwvc3R5bGVzXFwvdlswLTldKlxcLykoLiokKS9pfSxnZXQgQVBJX0NETl9VUkxfUkVHRVgoKXtyZXR1cm4gL14oKGh0dHBzPzopP1xcL1xcLyk/YXBpXFwubWFwYm94XFwuYyhufG9tKShcXC9tYXBib3gtZ2wtanNcXC8pKC4qJCkvaX0sZ2V0IEVWRU5UU19VUkwoKXtpZighbi5BUElfVVJMKXJldHVybiBudWxsO3RyeXtjb25zdCBlPW5ldyBVUkwobi5BUElfVVJMKTtyZXR1cm4gXCJhcGkubWFwYm94LmNuXCI9PT1lLmhvc3RuYW1lP1wiaHR0cHM6Ly9ldmVudHMubWFwYm94LmNuL2V2ZW50cy92MlwiOlwiYXBpLm1hcGJveC5jb21cIj09PWUuaG9zdG5hbWU/XCJodHRwczovL2V2ZW50cy5tYXBib3guY29tL2V2ZW50cy92MlwiOm51bGx9Y2F0Y2goZSl7cmV0dXJuIG51bGx9fSxTRVNTSU9OX1BBVEg6XCIvbWFwLXNlc3Npb25zL3YxXCIsRkVFREJBQ0tfVVJMOlwiaHR0cHM6Ly9hcHBzLm1hcGJveC5jb20vZmVlZGJhY2tcIixUSUxFX1VSTF9WRVJTSU9OOlwidjRcIixSQVNURVJfVVJMX1BSRUZJWDpcInJhc3Rlci92MVwiLFJFUVVJUkVfQUNDRVNTX1RPS0VOOiEwLEFDQ0VTU19UT0tFTjpudWxsLERFRkFVTFRfU1RZTEU6XCJtYXBib3g6Ly9zdHlsZXMvbWFwYm94L3N0YW5kYXJkXCIsTUFYX1BBUkFMTEVMX0lNQUdFX1JFUVVFU1RTOjE2LERSQUNPX1VSTDpcImh0dHBzOi8vYXBpLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2RyYWNvX2RlY29kZXJfZ2x0Zl92MS41LjYud2FzbVwiLEdMWVBIU19VUkw6XCJtYXBib3g6Ly9mb250cy9tYXBib3gve2ZvbnRzdGFja30ve3JhbmdlfS5wYmZcIn0sbz17c3VwcG9ydGVkOiExLHRlc3RTdXBwb3J0OmZ1bmN0aW9uKGUpeyFsJiZhJiYoYz9oKGUpOnM9ZSk7fX07bGV0IHMsYSxsPSExLGM9ITE7ZnVuY3Rpb24gaChlKXtjb25zdCB0PWUuY3JlYXRlVGV4dHVyZSgpO2UuYmluZFRleHR1cmUoZS5URVhUVVJFXzJELHQpO3RyeXtpZihlLnRleEltYWdlMkQoZS5URVhUVVJFXzJELDAsZS5SR0JBLGUuUkdCQSxlLlVOU0lHTkVEX0JZVEUsYSksZS5pc0NvbnRleHRMb3N0KCkpcmV0dXJuO28uc3VwcG9ydGVkPSEwO31jYXRjaChlKXt9ZS5kZWxldGVUZXh0dXJlKHQpLGw9ITA7fXQuZG9jdW1lbnQmJihhPXQuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKSxhLm9ubG9hZD1mdW5jdGlvbigpe3MmJmgocykscz1udWxsLGM9ITA7fSxhLm9uZXJyb3I9ZnVuY3Rpb24oKXtsPSEwLHM9bnVsbDt9LGEuc3JjPVwiZGF0YTppbWFnZS93ZWJwO2Jhc2U2NCxVa2xHUmg0QUFBQlhSVUpRVmxBNFRCRUFBQUF2QVFBQUFBZlEvLzczdi8rQmlPaC9BQUE9XCIpO2NvbnN0IHU9XCIwMVwiO2Z1bmN0aW9uIGQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZSYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJkZWZhdWx0XCIpP2UuZGVmYXVsdDplfXZhciBwPWY7ZnVuY3Rpb24gZihlLHQsaSxyKXt0aGlzLmN4PTMqZSx0aGlzLmJ4PTMqKGktZSktdGhpcy5jeCx0aGlzLmF4PTEtdGhpcy5jeC10aGlzLmJ4LHRoaXMuY3k9Myp0LHRoaXMuYnk9Myooci10KS10aGlzLmN5LHRoaXMuYXk9MS10aGlzLmN5LXRoaXMuYnksdGhpcy5wMXg9ZSx0aGlzLnAxeT10LHRoaXMucDJ4PWksdGhpcy5wMnk9cjt9Zi5wcm90b3R5cGU9e3NhbXBsZUN1cnZlWDpmdW5jdGlvbihlKXtyZXR1cm4gKCh0aGlzLmF4KmUrdGhpcy5ieCkqZSt0aGlzLmN4KSplfSxzYW1wbGVDdXJ2ZVk6ZnVuY3Rpb24oZSl7cmV0dXJuICgodGhpcy5heSplK3RoaXMuYnkpKmUrdGhpcy5jeSkqZX0sc2FtcGxlQ3VydmVEZXJpdmF0aXZlWDpmdW5jdGlvbihlKXtyZXR1cm4gKDMqdGhpcy5heCplKzIqdGhpcy5ieCkqZSt0aGlzLmN4fSxzb2x2ZUN1cnZlWDpmdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PXQmJih0PTFlLTYpLGU8MClyZXR1cm4gMDtpZihlPjEpcmV0dXJuIDE7Zm9yKHZhciBpPWUscj0wO3I8ODtyKyspe3ZhciBuPXRoaXMuc2FtcGxlQ3VydmVYKGkpLWU7aWYoTWF0aC5hYnMobik8dClyZXR1cm4gaTt2YXIgbz10aGlzLnNhbXBsZUN1cnZlRGVyaXZhdGl2ZVgoaSk7aWYoTWF0aC5hYnMobyk8MWUtNilicmVhaztpLT1uL287fXZhciBzPTAsYT0xO2ZvcihpPWUscj0wO3I8MjAmJihuPXRoaXMuc2FtcGxlQ3VydmVYKGkpLCEoTWF0aC5hYnMobi1lKTx0KSk7cisrKWU+bj9zPWk6YT1pLGk9LjUqKGEtcykrcztyZXR1cm4gaX0sc29sdmU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5zYW1wbGVDdXJ2ZVkodGhpcy5zb2x2ZUN1cnZlWChlLHQpKX19O3ZhciBtPWQocCksXz1nO2Z1bmN0aW9uIGcoZSx0KXt0aGlzLng9ZSx0aGlzLnk9dDt9Zy5wcm90b3R5cGU9e2Nsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBnKHRoaXMueCx0aGlzLnkpfSxhZGQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fYWRkKGUpfSxzdWI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fc3ViKGUpfSxtdWx0QnlQb2ludDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9tdWx0QnlQb2ludChlKX0sZGl2QnlQb2ludDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9kaXZCeVBvaW50KGUpfSxtdWx0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNsb25lKCkuX211bHQoZSl9LGRpdjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9kaXYoZSl9LHJvdGF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3RhdGUoZSl9LHJvdGF0ZUFyb3VuZDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmNsb25lKCkuX3JvdGF0ZUFyb3VuZChlLHQpfSxtYXRNdWx0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNsb25lKCkuX21hdE11bHQoZSl9LHVuaXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl91bml0KCl9LHBlcnA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9wZXJwKCl9LHJvdW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fcm91bmQoKX0sbWFnOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkpfSxlcXVhbHM6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueD09PWUueCYmdGhpcy55PT09ZS55fSxkaXN0OmZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLnNxcnQodGhpcy5kaXN0U3FyKGUpKX0sZGlzdFNxcjpmdW5jdGlvbihlKXt2YXIgdD1lLngtdGhpcy54LGk9ZS55LXRoaXMueTtyZXR1cm4gdCp0K2kqaX0sYW5nbGU6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5hdGFuMih0aGlzLnksdGhpcy54KX0sYW5nbGVUbzpmdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5hdGFuMih0aGlzLnktZS55LHRoaXMueC1lLngpfSxhbmdsZVdpdGg6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYW5nbGVXaXRoU2VwKGUueCxlLnkpfSxhbmdsZVdpdGhTZXA6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTWF0aC5hdGFuMih0aGlzLngqdC10aGlzLnkqZSx0aGlzLngqZSt0aGlzLnkqdCl9LF9tYXRNdWx0OmZ1bmN0aW9uKGUpe3ZhciB0PWVbMl0qdGhpcy54K2VbM10qdGhpcy55O3JldHVybiB0aGlzLng9ZVswXSp0aGlzLngrZVsxXSp0aGlzLnksdGhpcy55PXQsdGhpc30sX2FkZDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54Kz1lLngsdGhpcy55Kz1lLnksdGhpc30sX3N1YjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54LT1lLngsdGhpcy55LT1lLnksdGhpc30sX211bHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueCo9ZSx0aGlzLnkqPWUsdGhpc30sX2RpdjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54Lz1lLHRoaXMueS89ZSx0aGlzfSxfbXVsdEJ5UG9pbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueCo9ZS54LHRoaXMueSo9ZS55LHRoaXN9LF9kaXZCeVBvaW50OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLngvPWUueCx0aGlzLnkvPWUueSx0aGlzfSxfdW5pdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaXYodGhpcy5tYWcoKSksdGhpc30sX3BlcnA6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnk7cmV0dXJuIHRoaXMueT10aGlzLngsdGhpcy54PS1lLHRoaXN9LF9yb3RhdGU6ZnVuY3Rpb24oZSl7dmFyIHQ9TWF0aC5jb3MoZSksaT1NYXRoLnNpbihlKSxyPWkqdGhpcy54K3QqdGhpcy55O3JldHVybiB0aGlzLng9dCp0aGlzLngtaSp0aGlzLnksdGhpcy55PXIsdGhpc30sX3JvdGF0ZUFyb3VuZDpmdW5jdGlvbihlLHQpe3ZhciBpPU1hdGguY29zKGUpLHI9TWF0aC5zaW4oZSksbj10LnkrcioodGhpcy54LXQueCkraSoodGhpcy55LXQueSk7cmV0dXJuIHRoaXMueD10LngraSoodGhpcy54LXQueCktcioodGhpcy55LXQueSksdGhpcy55PW4sdGhpc30sX3JvdW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueD1NYXRoLnJvdW5kKHRoaXMueCksdGhpcy55PU1hdGgucm91bmQodGhpcy55KSx0aGlzfX0sZy5jb252ZXJ0PWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgZz9lOkFycmF5LmlzQXJyYXkoZSk/bmV3IGcoZVswXSxlWzFdKTplfTt2YXIgeT1kKF8pO2Z1bmN0aW9uIHgoZSx0KXtpZihBcnJheS5pc0FycmF5KGUpKXtpZighQXJyYXkuaXNBcnJheSh0KXx8ZS5sZW5ndGghPT10Lmxlbmd0aClyZXR1cm4gITE7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspaWYoIXgoZVtpXSx0W2ldKSlyZXR1cm4gITE7cmV0dXJuICEwfWlmKFwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT09ZSYmbnVsbCE9PXQpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiB0KXJldHVybiAhMTtpZihPYmplY3Qua2V5cyhlKS5sZW5ndGghPT1PYmplY3Qua2V5cyh0KS5sZW5ndGgpcmV0dXJuICExO2Zvcihjb25zdCBpIGluIGUpaWYoIXgoZVtpXSx0W2ldKSlyZXR1cm4gITE7cmV0dXJuICEwfXJldHVybiBlPT09dH1jb25zdCB2PU1hdGguUEkvMTgwLGI9MTgwL01hdGguUEk7ZnVuY3Rpb24gdyhlKXtyZXR1cm4gZSp2fWZ1bmN0aW9uIFQoZSl7cmV0dXJuIGUqYn1jb25zdCBFPVtbMCwwXSxbMSwwXSxbMSwxXSxbMCwxXV07ZnVuY3Rpb24gTShlKXtpZihlPD0wKXJldHVybiAwO2lmKGU+PTEpcmV0dXJuIDE7Y29uc3QgdD1lKmUsaT10KmU7cmV0dXJuIDQqKGU8LjU/aTozKihlLXQpK2ktLjc1KX1mdW5jdGlvbiBBKGUpe2xldCB0PTEvMCxpPTEvMCxyPS0xLzAsbj0tMS8wO2Zvcihjb25zdCBvIG9mIGUpdD1NYXRoLm1pbih0LG8ueCksaT1NYXRoLm1pbihpLG8ueSkscj1NYXRoLm1heChyLG8ueCksbj1NYXRoLm1heChuLG8ueSk7cmV0dXJuIHttaW46bmV3IHkodCxpKSxtYXg6bmV3IHkocixuKX19ZnVuY3Rpb24gUyhlLHQsaT0wLHI9ITApe2NvbnN0IG49bmV3IHkoaSxpKSxvPWUuc3ViKG4pLHM9dC5hZGQobiksYT1bbyxuZXcgeShzLngsby55KSxzLG5ldyB5KG8ueCxzLnkpXTtyZXR1cm4gciYmYS5wdXNoKG8uY2xvbmUoKSksYX1mdW5jdGlvbiBJKGUsdCxpLHIpe2NvbnN0IG49bmV3IG0oZSx0LGkscik7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBuLnNvbHZlKGUpfX1jb25zdCBDPUkoLjI1LC4xLC4yNSwxKTtmdW5jdGlvbiB6KGUsdCxpKXtyZXR1cm4gTWF0aC5taW4oaSxNYXRoLm1heCh0LGUpKX1mdW5jdGlvbiBQKGUsdCxpKXtyZXR1cm4gKGk9eigoaS1lKS8odC1lKSwwLDEpKSppKigzLTIqaSl9ZnVuY3Rpb24gRChlLHQsaSl7Y29uc3Qgcj1pLXQsbj0oKGUtdCklcityKSVyK3Q7cmV0dXJuIG49PT10P2k6bn1mdW5jdGlvbiBSKGUsdCxpKXtpZighZS5sZW5ndGgpcmV0dXJuIGkobnVsbCxbXSk7bGV0IHI9ZS5sZW5ndGg7Y29uc3Qgbj1uZXcgQXJyYXkoZS5sZW5ndGgpO2xldCBvPW51bGw7ZS5mb3JFYWNoKCgoZSxzKT0+e3QoZSwoKGUsdCk9PntlJiYobz1lKSxuW3NdPXQsMD09LS1yJiZpKG8sbik7fSkpO30pKTt9ZnVuY3Rpb24gTChlKXtjb25zdCB0PVtdO2Zvcihjb25zdCBpIGluIGUpdC5wdXNoKGVbaV0pO3JldHVybiB0fWZ1bmN0aW9uIGsoZSwuLi50KXtmb3IoY29uc3QgaSBvZiB0KWZvcihjb25zdCB0IGluIGkpZVt0XT1pW3RdO3JldHVybiBlfWZ1bmN0aW9uIE8oZSx0KXtjb25zdCBpPXt9O2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKXtjb25zdCBuPXRbcl07biBpbiBlJiYoaVtuXT1lW25dKTt9cmV0dXJuIGl9bGV0IEI9MTtmdW5jdGlvbiBGKCl7cmV0dXJuIEIrK31mdW5jdGlvbiBOKCl7cmV0dXJuIGZ1bmN0aW9uIGUodCl7cmV0dXJuIHQ/KHReTWF0aC5yYW5kb20oKSooMTY+PnQvNCkpLnRvU3RyaW5nKDE2KTooWzFlN10rLVsxZTNdKy00ZTMrLThlMystMWUxMSkucmVwbGFjZSgvWzAxOF0vZyxlKX0oKX1mdW5jdGlvbiBVKGUpe3JldHVybiBlPD0xPzE6TWF0aC5wb3coMixNYXRoLmNlaWwoTWF0aC5sb2coZSkvTWF0aC5MTjIpKX1mdW5jdGlvbiBWKGUpe3JldHVybiAhIWUmJi9eWzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzRdWzAtOWEtZl17M30tWzg5YWJdWzAtOWEtZl17M30tWzAtOWEtZl17MTJ9JC9pLnRlc3QoZSl9ZnVuY3Rpb24gaihlLHQpe2UuZm9yRWFjaCgoZT0+e3RbZV0mJih0W2VdPXRbZV0uYmluZCh0KSk7fSkpO31mdW5jdGlvbiBHKGUsdCl7cmV0dXJuIC0xIT09ZS5pbmRleE9mKHQsZS5sZW5ndGgtdC5sZW5ndGgpfWZ1bmN0aW9uIHEoZSx0LGkpe2NvbnN0IHI9e307Zm9yKGNvbnN0IG4gaW4gZSlyW25dPXQuY2FsbChpfHx0aGlzLGVbbl0sbixlKTtyZXR1cm4gcn1mdW5jdGlvbiBaKGUsdCxpKXtjb25zdCByPXt9O2Zvcihjb25zdCBuIGluIGUpdC5jYWxsKGl8fHRoaXMsZVtuXSxuLGUpJiYocltuXT1lW25dKTtyZXR1cm4gcn1mdW5jdGlvbiAkKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpP2UubWFwKCQpOlwib2JqZWN0XCI9PXR5cGVvZiBlJiZlP3EoZSwkKTplfWNvbnN0IFc9e307ZnVuY3Rpb24gSChlKXtXW2VdfHwoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUud2FybihlKSxXW2VdPSEwKTt9ZnVuY3Rpb24gWChlLHQsaSl7cmV0dXJuIChpLnktZS55KSoodC54LWUueCk+KHQueS1lLnkpKihpLngtZS54KX1mdW5jdGlvbiBZKGUpe2xldCB0PTA7Zm9yKGxldCBpLHIsbj0wLG89ZS5sZW5ndGgscz1vLTE7bjxvO3M9bisrKWk9ZVtuXSxyPWVbc10sdCs9KHIueC1pLngpKihpLnkrci55KTtyZXR1cm4gdH1mdW5jdGlvbiBLKFtlLHQsaV0pe2NvbnN0IHI9dyh0KzkwKSxuPXcoaSk7cmV0dXJuIHt4OmUqTWF0aC5jb3MocikqTWF0aC5zaW4obikseTplKk1hdGguc2luKHIpKk1hdGguc2luKG4pLHo6ZSpNYXRoLmNvcyhuKSxhemltdXRoYWw6dCxwb2xhcjppfX1mdW5jdGlvbiBKKGUsdCxpKXtjb25zdCByPU1hdGguc3FydChlKmUrdCp0K2kqaSksbj1yPjA/TWF0aC5hY29zKGkvcikqYjowO2xldCBvPTAhPT1lfHwwIT09dD9NYXRoLmF0YW4yKC10LC1lKSpiKzkwOjA7cmV0dXJuIG88MCYmKG8rPTM2MCksW3IsbyxuXX1mdW5jdGlvbiBRKCl7cmV0dXJuIFwidW5kZWZpbmVkXCIhPXR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZX1mdW5jdGlvbiBlZShlKXtjb25zdCB0PXt9O2lmKGUucmVwbGFjZSgvKD86XnwoPzpcXHMqXFwsXFxzKikpKFteXFx4MDAtXFx4MjBcXChcXCk8PkBcXCw7XFw6XFxcXFwiXFwvXFxbXFxdXFw/XFw9XFx7XFx9XFx4N0ZdKykoPzpcXD0oPzooW15cXHgwMC1cXHgyMFxcKFxcKTw+QFxcLDtcXDpcXFxcXCJcXC9cXFtcXF1cXD9cXD1cXHtcXH1cXHg3Rl0rKXwoPzpcXFwiKCg/OlteXCJcXFxcXXxcXFxcLikqKVxcXCIpKSk/L2csKChlLGkscixuKT0+e2NvbnN0IG89cnx8bjtyZXR1cm4gdFtpXT0hb3x8by50b0xvd2VyQ2FzZSgpLFwiXCJ9KSksdFtcIm1heC1hZ2VcIl0pe2NvbnN0IGU9cGFyc2VJbnQodFtcIm1heC1hZ2VcIl0sMTApO2lzTmFOKGUpP2RlbGV0ZSB0W1wibWF4LWFnZVwiXTp0W1wibWF4LWFnZVwiXT1lO31yZXR1cm4gdH1sZXQgdGU9bnVsbDtmdW5jdGlvbiBpZSgpe3JldHVybiAhIXQuZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnR8fCEhdC5kb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRWxlbWVudH1mdW5jdGlvbiByZShlKXt0cnl7Y29uc3QgaT10W2VdO3JldHVybiBpLnNldEl0ZW0oXCJfbWFwYm94X3Rlc3RfXCIsMSksaS5yZW1vdmVJdGVtKFwiX21hcGJveF90ZXN0X1wiKSwhMH1jYXRjaChlKXtyZXR1cm4gITF9fWZ1bmN0aW9uIG5lKGUsdCl7cmV0dXJuIFtlWzQqdF0sZVs0KnQrMV0sZVs0KnQrMl0sZVs0KnQrM11dfWZ1bmN0aW9uIG9lKGUsdCxpKXtlWzQqdCswXT1pWzBdLGVbNCp0KzFdPWlbMV0sZVs0KnQrMl09aVsyXSxlWzQqdCszXT1pWzNdO31mdW5jdGlvbiBzZShlLHQpe3JldHVybiBbTWF0aC5wb3coZVswXSwyLjIpKnQsTWF0aC5wb3coZVsxXSwyLjIpKnQsTWF0aC5wb3coZVsyXSwyLjIpKnRdfWZ1bmN0aW9uIGFlKGUpe3JldHVybiBbTWF0aC5wb3coZVswXSwxLzIuMiksTWF0aC5wb3coZVsxXSwxLzIuMiksTWF0aC5wb3coZVsyXSwxLzIuMildfWNvbnN0IGxlPVwibWFwYm94LXRpbGVzXCI7bGV0IGNlPTUwMCxoZT01MDtsZXQgdWUsZGU7ZnVuY3Rpb24gcGUoKXt0cnl7cmV0dXJuIHQuY2FjaGVzfWNhdGNoKGUpe319ZnVuY3Rpb24gZmUoKXtwZSgpJiYhdWUmJih1ZT10LmNhY2hlcy5vcGVuKGxlKSk7fWZ1bmN0aW9uIG1lKGUpe2NvbnN0IHQ9ZS5pbmRleE9mKFwiP1wiKTtpZih0PDApcmV0dXJuIGU7Y29uc3QgaT1mdW5jdGlvbihlKXtjb25zdCB0PWUuaW5kZXhPZihcIj9cIik7cmV0dXJuIHQ+MD9lLnNsaWNlKHQrMSkuc3BsaXQoXCImXCIpOltdfShlKSxyPWkuZmlsdGVyKChlPT57Y29uc3QgdD1lLnNwbGl0KFwiPVwiKTtyZXR1cm4gXCJsYW5ndWFnZVwiPT09dFswXXx8XCJ3b3JsZHZpZXdcIj09PXRbMF19KSk7cmV0dXJuIHIubGVuZ3RoP2Ake2Uuc2xpY2UoMCx0KX0/JHtyLmpvaW4oXCImXCIpfWA6ZS5zbGljZSgwLHQpfWxldCBfZT0xLzA7ZnVuY3Rpb24gZ2UoZSl7X2UrKyxfZT5oZSYmKGUuZ2V0QWN0b3IoKS5zZW5kKFwiZW5mb3JjZUNhY2hlU2l6ZUxpbWl0XCIsY2UpLF9lPTApO31jb25zdCB5ZT17VW5rbm93bjpcIlVua25vd25cIixTdHlsZTpcIlN0eWxlXCIsU291cmNlOlwiU291cmNlXCIsVGlsZTpcIlRpbGVcIixHbHlwaHM6XCJHbHlwaHNcIixTcHJpdGVJbWFnZTpcIlNwcml0ZUltYWdlXCIsU3ByaXRlSlNPTjpcIlNwcml0ZUpTT05cIixJbWFnZTpcIkltYWdlXCIsTW9kZWw6XCJNb2RlbFwifTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZnJlZXplJiZPYmplY3QuZnJlZXplKHllKTtjbGFzcyB4ZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUsdCxpKXs0MDE9PT10JiZEZShpKSYmKGUrPVwiOiB5b3UgbWF5IGhhdmUgcHJvdmlkZWQgYW4gaW52YWxpZCBNYXBib3ggYWNjZXNzIHRva2VuLiBTZWUgaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vYXBpL292ZXJ2aWV3LyNhY2Nlc3MtdG9rZW5zLWFuZC10b2tlbi1zY29wZXNcIiksc3VwZXIoZSksdGhpcy5zdGF0dXM9dCx0aGlzLnVybD1pO310b1N0cmluZygpe3JldHVybiBgJHt0aGlzLm5hbWV9OiAke3RoaXMubWVzc2FnZX0gKCR7dGhpcy5zdGF0dXN9KTogJHt0aGlzLnVybH1gfX1jb25zdCB2ZT1RKCk/KCk9PnNlbGYud29ya2VyJiZzZWxmLndvcmtlci5yZWZlcnJlcjooKT0+KFwiYmxvYjpcIj09PXQubG9jYXRpb24ucHJvdG9jb2w/dC5wYXJlbnQ6dCkubG9jYXRpb24uaHJlZjtjb25zdCBiZT1mdW5jdGlvbihlLGkpe2lmKCEoL15maWxlOi8udGVzdChyPWUudXJsKXx8L15maWxlOi8udGVzdCh2ZSgpKSYmIS9eXFx3KzovLnRlc3QocikpKXtpZih0LmZldGNoJiZ0LlJlcXVlc3QmJnQuQWJvcnRDb250cm9sbGVyJiZ0LlJlcXVlc3QucHJvdG90eXBlLmhhc093blByb3BlcnR5KFwic2lnbmFsXCIpKXJldHVybiBmdW5jdGlvbihlLGkpe2NvbnN0IHI9bmV3IHQuQWJvcnRDb250cm9sbGVyLG49bmV3IHQuUmVxdWVzdChlLnVybCx7bWV0aG9kOmUubWV0aG9kfHxcIkdFVFwiLGJvZHk6ZS5ib2R5LGNyZWRlbnRpYWxzOmUuY3JlZGVudGlhbHMsaGVhZGVyczplLmhlYWRlcnMscmVmZXJyZXI6dmUoKSxyZWZlcnJlclBvbGljeTplLnJlZmVycmVyUG9saWN5LHNpZ25hbDpyLnNpZ25hbH0pO2xldCBvPSExLHM9ITE7Y29uc3QgYT0obD1uLnVybCkuaW5kZXhPZihcInNrdT1cIik+MCYmRGUobCk7dmFyIGw7XCJqc29uXCI9PT1lLnR5cGUmJm4uaGVhZGVycy5zZXQoXCJBY2NlcHRcIixcImFwcGxpY2F0aW9uL2pzb25cIik7Y29uc3QgYz0ocixvLGwpPT57aWYocylyZXR1cm47aWYociYmXCJTZWN1cml0eUVycm9yXCIhPT1yLm1lc3NhZ2UmJkgoci50b1N0cmluZygpKSxvJiZsKXJldHVybiBoKG8pO2NvbnN0IGM9RGF0ZS5ub3coKTt0LmZldGNoKG4pLnRoZW4oKHQ9PntpZih0Lm9rKXtjb25zdCBlPWE/dC5jbG9uZSgpOm51bGw7cmV0dXJuIGgodCxlLGMpfXJldHVybiBpKG5ldyB4ZSh0LnN0YXR1c1RleHQsdC5zdGF0dXMsZS51cmwpKX0pKS5jYXRjaCgodD0+e1wiQWJvcnRFcnJvclwiIT09dC5uYW1lJiZpKG5ldyBFcnJvcihgJHt0Lm1lc3NhZ2V9ICR7ZS51cmx9YCkpO30pKTt9LGg9KHIsYSxsKT0+eyhcImFycmF5QnVmZmVyXCI9PT1lLnR5cGU/ci5hcnJheUJ1ZmZlcigpOlwianNvblwiPT09ZS50eXBlP3IuanNvbigpOnIudGV4dCgpKS50aGVuKChlPT57c3x8KGEmJmwmJmZ1bmN0aW9uKGUsaSxyKXtpZihmZSgpLCF1ZSlyZXR1cm47Y29uc3Qgbj17c3RhdHVzOmkuc3RhdHVzLHN0YXR1c1RleHQ6aS5zdGF0dXNUZXh0LGhlYWRlcnM6bmV3IHQuSGVhZGVyc307aS5oZWFkZXJzLmZvckVhY2goKChlLHQpPT5uLmhlYWRlcnMuc2V0KHQsZSkpKTtjb25zdCBvPWVlKGkuaGVhZGVycy5nZXQoXCJDYWNoZS1Db250cm9sXCIpfHxcIlwiKTtpZihvW1wibm8tc3RvcmVcIl0pcmV0dXJuO29bXCJtYXgtYWdlXCJdJiZuLmhlYWRlcnMuc2V0KFwiRXhwaXJlc1wiLG5ldyBEYXRlKHIrMWUzKm9bXCJtYXgtYWdlXCJdKS50b1VUQ1N0cmluZygpKTtjb25zdCBzPW4uaGVhZGVycy5nZXQoXCJFeHBpcmVzXCIpO3MmJihuZXcgRGF0ZShzKS5nZXRUaW1lKCktcjw0MmU0fHxmdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PWRlKXRyeXtuZXcgUmVzcG9uc2UobmV3IFJlYWRhYmxlU3RyZWFtKSxkZT0hMDt9Y2F0Y2goZSl7ZGU9ITE7fWRlP3QoZS5ib2R5KTplLmJsb2IoKS50aGVuKHQpO30oaSwoaT0+e2NvbnN0IHI9bmV3IHQuUmVzcG9uc2UoaSxuKTtmZSgpLHVlJiZ1ZS50aGVuKCh0PT50LnB1dChtZShlLnVybCkscikpKS5jYXRjaCgoZT0+SChlLm1lc3NhZ2UpKSk7fSkpKTt9KG4sYSxsKSxvPSEwLGkobnVsbCxlLHIuaGVhZGVycy5nZXQoXCJDYWNoZS1Db250cm9sXCIpLHIuaGVhZGVycy5nZXQoXCJFeHBpcmVzXCIpKSk7fSkpLmNhdGNoKChlPT57c3x8aShuZXcgRXJyb3IoZS5tZXNzYWdlKSk7fSkpO307cmV0dXJuIGE/ZnVuY3Rpb24oZSx0KXtpZihmZSgpLCF1ZSlyZXR1cm4gdChudWxsKTtjb25zdCBpPW1lKGUudXJsKTt1ZS50aGVuKChlPT57ZS5tYXRjaChpKS50aGVuKChyPT57Y29uc3Qgbj1mdW5jdGlvbihlKXtpZighZSlyZXR1cm4gITE7Y29uc3QgdD1uZXcgRGF0ZShlLmhlYWRlcnMuZ2V0KFwiRXhwaXJlc1wiKXx8MCksaT1lZShlLmhlYWRlcnMuZ2V0KFwiQ2FjaGUtQ29udHJvbFwiKXx8XCJcIik7cmV0dXJuIHQ+RGF0ZS5ub3coKSYmIWlbXCJuby1jYWNoZVwiXX0ocik7ZS5kZWxldGUoaSksbiYmZS5wdXQoaSxyLmNsb25lKCkpLHQobnVsbCxyLG4pO30pKS5jYXRjaCh0KTt9KSkuY2F0Y2godCk7fShuLGMpOmMobnVsbCxudWxsKSx7Y2FuY2VsOigpPT57cz0hMCxvfHxyLmFib3J0KCk7fX19KGUsaSk7aWYoUSgpJiZzZWxmLndvcmtlciYmc2VsZi53b3JrZXIuYWN0b3IpcmV0dXJuIHNlbGYud29ya2VyLmFjdG9yLnNlbmQoXCJnZXRSZXNvdXJjZVwiLGUsaSx2b2lkIDAsITApfXZhciByO3JldHVybiBmdW5jdGlvbihlLGkpe2NvbnN0IHI9bmV3IHQuWE1MSHR0cFJlcXVlc3Q7ci5vcGVuKGUubWV0aG9kfHxcIkdFVFwiLGUudXJsLCEwKSxcImFycmF5QnVmZmVyXCI9PT1lLnR5cGUmJihyLnJlc3BvbnNlVHlwZT1cImFycmF5YnVmZmVyXCIpO2Zvcihjb25zdCB0IGluIGUuaGVhZGVycylyLnNldFJlcXVlc3RIZWFkZXIodCxlLmhlYWRlcnNbdF0pO3JldHVybiBcImpzb25cIj09PWUudHlwZSYmKHIucmVzcG9uc2VUeXBlPVwidGV4dFwiLHIuc2V0UmVxdWVzdEhlYWRlcihcIkFjY2VwdFwiLFwiYXBwbGljYXRpb24vanNvblwiKSksci53aXRoQ3JlZGVudGlhbHM9XCJpbmNsdWRlXCI9PT1lLmNyZWRlbnRpYWxzLHIub25lcnJvcj0oKT0+e2kobmV3IEVycm9yKHIuc3RhdHVzVGV4dCkpO30sci5vbmxvYWQ9KCk9PntpZigoci5zdGF0dXM+PTIwMCYmci5zdGF0dXM8MzAwfHwwPT09ci5zdGF0dXMpJiZudWxsIT09ci5yZXNwb25zZSl7bGV0IHQ9ci5yZXNwb25zZTtpZihcImpzb25cIj09PWUudHlwZSl0cnl7dD1KU09OLnBhcnNlKHIucmVzcG9uc2UpO31jYXRjaChlKXtyZXR1cm4gaShlKX1pKG51bGwsdCxyLmdldFJlc3BvbnNlSGVhZGVyKFwiQ2FjaGUtQ29udHJvbFwiKSxyLmdldFJlc3BvbnNlSGVhZGVyKFwiRXhwaXJlc1wiKSk7fWVsc2UgaShuZXcgeGUoci5zdGF0dXNUZXh0LHIuc3RhdHVzLGUudXJsKSk7fSxyLnNlbmQoZS5ib2R5KSx7Y2FuY2VsOigpPT5yLmFib3J0KCl9fShlLGkpfSx3ZT1mdW5jdGlvbihlLHQpe3JldHVybiBiZShrKGUse3R5cGU6XCJqc29uXCJ9KSx0KX0sVGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYmUoayhlLHt0eXBlOlwiYXJyYXlCdWZmZXJcIn0pLHQpfTtmdW5jdGlvbiBFZShlKXtjb25zdCBpPXQuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7cmV0dXJuIGkuaHJlZj1lLGkucHJvdG9jb2w9PT10LmRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sJiZpLmhvc3Q9PT10LmRvY3VtZW50LmxvY2F0aW9uLmhvc3R9Y29uc3QgTWU9XCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQUJDQVlBQUFBZkZjU0pBQUFBQzBsRVFWUVlWMk5nQUFJQUFBVUFBYXJWeUZFQUFBQUFTVVZPUks1Q1lJST1cIjtsZXQgQWUsU2U7QWU9W10sU2U9MDtjb25zdCBJZT1mdW5jdGlvbihlLGkpe2lmKG8uc3VwcG9ydGVkJiYoZS5oZWFkZXJzfHwoZS5oZWFkZXJzPXt9KSxlLmhlYWRlcnMuYWNjZXB0PVwiaW1hZ2Uvd2VicCwqLypcIiksU2U+PW4uTUFYX1BBUkFMTEVMX0lNQUdFX1JFUVVFU1RTKXtjb25zdCB0PXtyZXF1ZXN0UGFyYW1ldGVyczplLGNhbGxiYWNrOmksY2FuY2VsbGVkOiExLGNhbmNlbCgpe3RoaXMuY2FuY2VsbGVkPSEwO319O3JldHVybiBBZS5wdXNoKHQpLHR9U2UrKztsZXQgcj0hMTtjb25zdCBzPSgpPT57aWYoIXIpZm9yKHI9ITAsU2UtLTtBZS5sZW5ndGgmJlNlPG4uTUFYX1BBUkFMTEVMX0lNQUdFX1JFUVVFU1RTOyl7Y29uc3QgZT1BZS5zaGlmdCgpLHtyZXF1ZXN0UGFyYW1ldGVyczp0LGNhbGxiYWNrOmksY2FuY2VsbGVkOnJ9PWU7cnx8KGUuY2FuY2VsPUllKHQsaSkuY2FuY2VsKTt9fSxhPVRlKGUsKChlLHIsbixvKT0+e3MoKSxlP2koZSk6ciYmKHQuY3JlYXRlSW1hZ2VCaXRtYXA/ZnVuY3Rpb24oZSxpKXtjb25zdCByPW5ldyB0LkJsb2IoW25ldyBVaW50OEFycmF5KGUpXSx7dHlwZTpcImltYWdlL3BuZ1wifSk7dC5jcmVhdGVJbWFnZUJpdG1hcChyKS50aGVuKChlPT57aShudWxsLGUpO30pKS5jYXRjaCgoZT0+e2kobmV3IEVycm9yKGBDb3VsZCBub3QgbG9hZCBpbWFnZSBiZWNhdXNlIG9mICR7ZS5tZXNzYWdlfS4gUGxlYXNlIG1ha2Ugc3VyZSB0byB1c2UgYSBzdXBwb3J0ZWQgaW1hZ2UgdHlwZSBzdWNoIGFzIFBORyBvciBKUEVHLiBOb3RlIHRoYXQgU1ZHcyBhcmUgbm90IHN1cHBvcnRlZC5gKSk7fSkpO30ociwoKGUsdCk9PmkoZSx0LG4sbykpKTpmdW5jdGlvbihlLGkpe2NvbnN0IHI9bmV3IHQuSW1hZ2Usbj10LlVSTDtyLm9ubG9hZD0oKT0+e2kobnVsbCxyKSxuLnJldm9rZU9iamVjdFVSTChyLnNyYyksci5vbmxvYWQ9bnVsbCx0LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKCk9PntyLnNyYz1NZTt9KSk7fSxyLm9uZXJyb3I9KCk9PmkobmV3IEVycm9yKFwiQ291bGQgbm90IGxvYWQgaW1hZ2UuIFBsZWFzZSBtYWtlIHN1cmUgdG8gdXNlIGEgc3VwcG9ydGVkIGltYWdlIHR5cGUgc3VjaCBhcyBQTkcgb3IgSlBFRy4gTm90ZSB0aGF0IFNWR3MgYXJlIG5vdCBzdXBwb3J0ZWQuXCIpKTtjb25zdCBvPW5ldyB0LkJsb2IoW25ldyBVaW50OEFycmF5KGUpXSx7dHlwZTpcImltYWdlL3BuZ1wifSk7ci5zcmM9ZS5ieXRlTGVuZ3RoP24uY3JlYXRlT2JqZWN0VVJMKG8pOk1lO30ociwoKGUsdCk9PmkoZSx0LG4sbykpKSk7fSkpO3JldHVybiB7Y2FuY2VsOigpPT57YS5jYW5jZWwoKSxzKCk7fX19LENlPVwiTk9fQUNDRVNTX1RPS0VOXCI7Y2xhc3MgemV7Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMuX3RyYW5zZm9ybVJlcXVlc3RGbj1lLHRoaXMuX2N1c3RvbUFjY2Vzc1Rva2VuPXQsdGhpcy5fc2lsZW5jZUF1dGhFcnJvcnM9ISFpLHRoaXMuX2NyZWF0ZVNrdVRva2VuKCk7fV9jcmVhdGVTa3VUb2tlbigpe2NvbnN0IGU9ZnVuY3Rpb24oKXtsZXQgZT1cIlwiO2ZvcihsZXQgdD0wO3Q8MTA7dCsrKWUrPVwiMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpcIltNYXRoLmZsb29yKDYyKk1hdGgucmFuZG9tKCkpXTtyZXR1cm4ge3Rva2VuOltcIjFcIix1LGVdLmpvaW4oXCJcIiksdG9rZW5FeHBpcmVzQXQ6RGF0ZS5ub3coKSs0MzJlNX19KCk7dGhpcy5fc2t1VG9rZW49ZS50b2tlbix0aGlzLl9za3VUb2tlbkV4cGlyZXNBdD1lLnRva2VuRXhwaXJlc0F0O31faXNTa3VUb2tlbkV4cGlyZWQoKXtyZXR1cm4gRGF0ZS5ub3coKT50aGlzLl9za3VUb2tlbkV4cGlyZXNBdH10cmFuc2Zvcm1SZXF1ZXN0KGUsdCl7cmV0dXJuIHRoaXMuX3RyYW5zZm9ybVJlcXVlc3RGbiYmdGhpcy5fdHJhbnNmb3JtUmVxdWVzdEZuKGUsdCl8fHt1cmw6ZX19bm9ybWFsaXplU3R5bGVVUkwoZSx0KXtpZighUGUoZSkpcmV0dXJuIGU7Y29uc3Qgcj1CZShlKTtyZXR1cm4gci5wYXJhbXMucHVzaChgc2RrPWpzLSR7aX1gKSxyLnBhdGg9YC9zdHlsZXMvdjEke3IucGF0aH1gLHRoaXMuX21ha2VBUElVUkwocix0aGlzLl9jdXN0b21BY2Nlc3NUb2tlbnx8dCl9bm9ybWFsaXplR2x5cGhzVVJMKGUsdCl7aWYoIVBlKGUpKXJldHVybiBlO2NvbnN0IGk9QmUoZSk7cmV0dXJuIGkucGF0aD1gL2ZvbnRzL3YxJHtpLnBhdGh9YCx0aGlzLl9tYWtlQVBJVVJMKGksdGhpcy5fY3VzdG9tQWNjZXNzVG9rZW58fHQpfW5vcm1hbGl6ZU1vZGVsVVJMKGUsdCl7aWYoIVBlKGUpKXJldHVybiBlO2NvbnN0IGk9QmUoZSk7cmV0dXJuIGkucGF0aD1gL21vZGVscy92MSR7aS5wYXRofWAsdGhpcy5fbWFrZUFQSVVSTChpLHRoaXMuX2N1c3RvbUFjY2Vzc1Rva2VufHx0KX1ub3JtYWxpemVTb3VyY2VVUkwoZSx0LGkscil7aWYoIVBlKGUpKXJldHVybiBlO2NvbnN0IG49QmUoZSk7cmV0dXJuIG4ucGF0aD1gL3Y0LyR7bi5hdXRob3JpdHl9Lmpzb25gLG4ucGFyYW1zLnB1c2goXCJzZWN1cmVcIiksaSYmbi5wYXJhbXMucHVzaChgbGFuZ3VhZ2U9JHtpfWApLHImJm4ucGFyYW1zLnB1c2goYHdvcmxkdmlldz0ke3J9YCksdGhpcy5fbWFrZUFQSVVSTChuLHRoaXMuX2N1c3RvbUFjY2Vzc1Rva2VufHx0KX1ub3JtYWxpemVTcHJpdGVVUkwoZSx0LGkscil7Y29uc3Qgbj1CZShlKTtyZXR1cm4gUGUoZSk/KG4ucGF0aD1gL3N0eWxlcy92MSR7bi5wYXRofS9zcHJpdGUke3R9JHtpfWAsdGhpcy5fbWFrZUFQSVVSTChuLHRoaXMuX2N1c3RvbUFjY2Vzc1Rva2VufHxyKSk6KG4ucGF0aCs9YCR7dH0ke2l9YCxGZShuKSl9bm9ybWFsaXplVGlsZVVSTChlLHQsaSl7aWYodGhpcy5faXNTa3VUb2tlbkV4cGlyZWQoKSYmdGhpcy5fY3JlYXRlU2t1VG9rZW4oKSxlJiYhUGUoZSkpcmV0dXJuIGU7Y29uc3Qgcj1CZShlKTtyLnBhdGg9ci5wYXRoLnJlcGxhY2UoLyhcXC4ocG5nfGpwZylcXGQqKSg/PSQpLyxgJHt0fHxpJiZcInJhc3RlclwiIT09ci5hdXRob3JpdHkmJjUxMj09PWk/XCJAMnhcIjpcIlwifSR7by5zdXBwb3J0ZWQ/XCIud2VicFwiOlwiJDFcIn1gKSxcInJhc3RlclwiPT09ci5hdXRob3JpdHk/ci5wYXRoPWAvJHtuLlJBU1RFUl9VUkxfUFJFRklYfSR7ci5wYXRofWA6KHIucGF0aD1yLnBhdGgucmVwbGFjZSgvXi4rXFwvdjRcXC8vLFwiL1wiKSxyLnBhdGg9YC8ke24uVElMRV9VUkxfVkVSU0lPTn0ke3IucGF0aH1gKTtjb25zdCBzPXRoaXMuX2N1c3RvbUFjY2Vzc1Rva2VufHxmdW5jdGlvbihlKXtmb3IoY29uc3QgdCBvZiBlKXtjb25zdCBlPXQubWF0Y2goL15hY2Nlc3NfdG9rZW49KC4qKSQvKTtpZihlKXJldHVybiBlWzFdfXJldHVybiBudWxsfShyLnBhcmFtcyl8fG4uQUNDRVNTX1RPS0VOO3JldHVybiBuLlJFUVVJUkVfQUNDRVNTX1RPS0VOJiZzJiZ0aGlzLl9za3VUb2tlbiYmci5wYXJhbXMucHVzaChgc2t1PSR7dGhpcy5fc2t1VG9rZW59YCksdGhpcy5fbWFrZUFQSVVSTChyLHMpfWNhbm9uaWNhbGl6ZVRpbGVVUkwoZSx0KXtjb25zdCBpPUJlKGUpO2lmKCFpLnBhdGgubWF0Y2goL14oXFwvdjRcXC98XFwvcmFzdGVyXFwvdjFcXC8pLyl8fCFpLnBhdGgubWF0Y2goL1xcLltcXHddKyQvKSlyZXR1cm4gZTtsZXQgcj1cIm1hcGJveDovL1wiO2kucGF0aC5tYXRjaCgvXlxcL3Jhc3RlclxcL3YxXFwvLyk/cis9YHJhc3Rlci8ke2kucGF0aC5yZXBsYWNlKGAvJHtuLlJBU1RFUl9VUkxfUFJFRklYfS9gLFwiXCIpfWA6cis9YHRpbGVzLyR7aS5wYXRoLnJlcGxhY2UoYC8ke24uVElMRV9VUkxfVkVSU0lPTn0vYCxcIlwiKX1gO2xldCBvPWkucGFyYW1zO3JldHVybiB0JiYobz1vLmZpbHRlcigoZT0+IWUubWF0Y2goL15hY2Nlc3NfdG9rZW49LykpKSksby5sZW5ndGgmJihyKz1gPyR7by5qb2luKFwiJlwiKX1gKSxyfWNhbm9uaWNhbGl6ZVRpbGVzZXQoZSx0KXtjb25zdCBpPSEhdCYmUGUodCkscj1bXTtmb3IoY29uc3QgdCBvZiBlLnRpbGVzfHxbXSlEZSh0KT9yLnB1c2godGhpcy5jYW5vbmljYWxpemVUaWxlVVJMKHQsaSkpOnIucHVzaCh0KTtyZXR1cm4gcn1fbWFrZUFQSVVSTChlLHQpe2NvbnN0IGk9XCJTZWUgaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vYXBpL292ZXJ2aWV3LyNhY2Nlc3MtdG9rZW5zLWFuZC10b2tlbi1zY29wZXNcIixyPUJlKG4uQVBJX1VSTCk7aWYoZS5wcm90b2NvbD1yLnByb3RvY29sLGUuYXV0aG9yaXR5PXIuYXV0aG9yaXR5LFwiaHR0cFwiPT09ZS5wcm90b2NvbCl7Y29uc3QgdD1lLnBhcmFtcy5pbmRleE9mKFwic2VjdXJlXCIpO3Q+PTAmJmUucGFyYW1zLnNwbGljZSh0LDEpO31pZihcIi9cIiE9PXIucGF0aCYmKGUucGF0aD1gJHtyLnBhdGh9JHtlLnBhdGh9YCksIW4uUkVRVUlSRV9BQ0NFU1NfVE9LRU4pcmV0dXJuIEZlKGUpO2lmKHQ9dHx8bi5BQ0NFU1NfVE9LRU4sIXRoaXMuX3NpbGVuY2VBdXRoRXJyb3JzKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoYEFuIEFQSSBhY2Nlc3MgdG9rZW4gaXMgcmVxdWlyZWQgdG8gdXNlIE1hcGJveCBHTC4gJHtpfWApO2lmKFwic1wiPT09dFswXSl0aHJvdyBuZXcgRXJyb3IoYFVzZSBhIHB1YmxpYyBhY2Nlc3MgdG9rZW4gKHBrLiopIHdpdGggTWFwYm94IEdMLCBub3QgYSBzZWNyZXQgYWNjZXNzIHRva2VuIChzay4qKS4gJHtpfWApfXJldHVybiBlLnBhcmFtcz1lLnBhcmFtcy5maWx0ZXIoKGU9Pi0xPT09ZS5pbmRleE9mKFwiYWNjZXNzX3Rva2VuXCIpKSksZS5wYXJhbXMucHVzaChgYWNjZXNzX3Rva2VuPSR7dHx8XCJcIn1gKSxGZShlKX19ZnVuY3Rpb24gUGUoZSl7cmV0dXJuIDA9PT1lLmluZGV4T2YoXCJtYXBib3g6XCIpfWZ1bmN0aW9uIERlKGUpe3JldHVybiBuLkFQSV9VUkxfUkVHRVgudGVzdChlKX1mdW5jdGlvbiBSZShlKXtyZXR1cm4gbi5BUElfQ0ROX1VSTF9SRUdFWC50ZXN0KGUpfWZ1bmN0aW9uIExlKGUpe3JldHVybiBuLkFQSV9TVFlMRV9SRUdFWC50ZXN0KGUpJiYha2UoZSl9ZnVuY3Rpb24ga2UoZSl7cmV0dXJuIG4uQVBJX1NQUklURV9SRUdFWC50ZXN0KGUpfWNvbnN0IE9lPS9eKFxcdyspOlxcL1xcLyhbXi8/XSopKFxcL1teP10rKT9cXD8/KC4rKT8vO2Z1bmN0aW9uIEJlKGUpe2NvbnN0IHQ9ZS5tYXRjaChPZSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIHBhcnNlIFVSTCBvYmplY3RcIik7cmV0dXJuIHtwcm90b2NvbDp0WzFdLGF1dGhvcml0eTp0WzJdLHBhdGg6dFszXXx8XCIvXCIscGFyYW1zOnRbNF0/dFs0XS5zcGxpdChcIiZcIik6W119fWZ1bmN0aW9uIEZlKGUpe2NvbnN0IHQ9ZS5wYXJhbXMubGVuZ3RoP2A/JHtlLnBhcmFtcy5qb2luKFwiJlwiKX1gOlwiXCI7cmV0dXJuIGAke2UucHJvdG9jb2x9Oi8vJHtlLmF1dGhvcml0eX0ke2UucGF0aH0ke3R9YH1jb25zdCBOZT1cIm1hcGJveC5ldmVudERhdGFcIjtmdW5jdGlvbiBVZShlKXtpZighZSlyZXR1cm4gbnVsbDtjb25zdCBpPWUuc3BsaXQoXCIuXCIpO2lmKCFpfHwzIT09aS5sZW5ndGgpcmV0dXJuIG51bGw7dHJ5e3JldHVybiBKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudCh0LmF0b2IoaVsxXSkuc3BsaXQoXCJcIikubWFwKChlPT5cIiVcIisoXCIwMFwiK2UuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC0yKSkpLmpvaW4oXCJcIikpKX1jYXRjaChlKXtyZXR1cm4gbnVsbH19Y2xhc3MgVmV7Y29uc3RydWN0b3IoZSl7dGhpcy50eXBlPWUsdGhpcy5hbm9uSWQ9bnVsbCx0aGlzLmV2ZW50RGF0YT17fSx0aGlzLnF1ZXVlPVtdLHRoaXMucGVuZGluZ1JlcXVlc3Q9bnVsbDt9Z2V0U3RvcmFnZUtleShlKXtjb25zdCBpPVVlKG4uQUNDRVNTX1RPS0VOKTtsZXQgcj1cIlwiO3JldHVybiByPWkmJmkudT90LmJ0b2EoZW5jb2RlVVJJQ29tcG9uZW50KGkudSkucmVwbGFjZSgvJShbMC05QS1GXXsyfSkvZywoKGUsdCk9PlN0cmluZy5mcm9tQ2hhckNvZGUoTnVtYmVyKFwiMHhcIit0KSkpKSk6bi5BQ0NFU1NfVE9LRU58fFwiXCIsZT9gJHtOZX0uJHtlfToke3J9YDpgJHtOZX06JHtyfWB9ZmV0Y2hFdmVudERhdGEoKXtjb25zdCBlPXJlKFwibG9jYWxTdG9yYWdlXCIpLGk9dGhpcy5nZXRTdG9yYWdlS2V5KCkscj10aGlzLmdldFN0b3JhZ2VLZXkoXCJ1dWlkXCIpO2lmKGUpdHJ5e2NvbnN0IGU9dC5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShpKTtlJiYodGhpcy5ldmVudERhdGE9SlNPTi5wYXJzZShlKSk7Y29uc3Qgbj10LmxvY2FsU3RvcmFnZS5nZXRJdGVtKHIpO24mJih0aGlzLmFub25JZD1uKTt9Y2F0Y2goZSl7SChcIlVuYWJsZSB0byByZWFkIGZyb20gTG9jYWxTdG9yYWdlXCIpO319c2F2ZUV2ZW50RGF0YSgpe2NvbnN0IGU9cmUoXCJsb2NhbFN0b3JhZ2VcIiksaT10aGlzLmdldFN0b3JhZ2VLZXkoKSxyPXRoaXMuZ2V0U3RvcmFnZUtleShcInV1aWRcIik7aWYoZSl0cnl7dC5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShyLHRoaXMuYW5vbklkKSxPYmplY3Qua2V5cyh0aGlzLmV2ZW50RGF0YSkubGVuZ3RoPj0xJiZ0LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGksSlNPTi5zdHJpbmdpZnkodGhpcy5ldmVudERhdGEpKTt9Y2F0Y2goZSl7SChcIlVuYWJsZSB0byB3cml0ZSB0byBMb2NhbFN0b3JhZ2VcIik7fX1wcm9jZXNzUmVxdWVzdHMoZSl7fXBvc3RFdmVudChlLHQsaSxyKXtpZighbi5FVkVOVFNfVVJMKXJldHVybjtjb25zdCBvPUJlKG4uRVZFTlRTX1VSTCk7by5wYXJhbXMucHVzaChgYWNjZXNzX3Rva2VuPSR7cnx8bi5BQ0NFU1NfVE9LRU58fFwiXCJ9YCk7Y29uc3Qgcz17ZXZlbnQ6dGhpcy50eXBlLGNyZWF0ZWQ6bmV3IERhdGUoZSkudG9JU09TdHJpbmcoKX0sYT10P2socyx0KTpzLGw9e3VybDpGZShvKSxoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwidGV4dC9wbGFpblwifSxib2R5OkpTT04uc3RyaW5naWZ5KFthXSl9O3RoaXMucGVuZGluZ1JlcXVlc3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYmUoayhlLHttZXRob2Q6XCJQT1NUXCJ9KSx0KX0obCwoZT0+e3RoaXMucGVuZGluZ1JlcXVlc3Q9bnVsbCxpKGUpLHRoaXMuc2F2ZUV2ZW50RGF0YSgpLHRoaXMucHJvY2Vzc1JlcXVlc3RzKHIpO30pKTt9cXVldWVSZXF1ZXN0KGUsdCl7dGhpcy5xdWV1ZS5wdXNoKGUpLHRoaXMucHJvY2Vzc1JlcXVlc3RzKHQpO319Y29uc3QgamU9bmV3IGNsYXNzIGV4dGVuZHMgVmV7Y29uc3RydWN0b3IoZSl7c3VwZXIoXCJhcHBVc2VyVHVybnN0aWxlXCIpLHRoaXMuX2N1c3RvbUFjY2Vzc1Rva2VuPWU7fXBvc3RUdXJuc3RpbGVFdmVudChlLHQpe24uRVZFTlRTX1VSTCYmbi5BQ0NFU1NfVE9LRU4mJkFycmF5LmlzQXJyYXkoZSkmJmUuc29tZSgoZT0+UGUoZSl8fERlKGUpKSkmJnRoaXMucXVldWVSZXF1ZXN0KERhdGUubm93KCksdCk7fXByb2Nlc3NSZXF1ZXN0cyhlKXtpZih0aGlzLnBlbmRpbmdSZXF1ZXN0fHwwPT09dGhpcy5xdWV1ZS5sZW5ndGgpcmV0dXJuO3RoaXMuYW5vbklkJiZ0aGlzLmV2ZW50RGF0YS5sYXN0U3VjY2VzcyYmdGhpcy5ldmVudERhdGEudG9rZW5VfHx0aGlzLmZldGNoRXZlbnREYXRhKCk7Y29uc3QgdD1VZShuLkFDQ0VTU19UT0tFTikscj10P3QudTpuLkFDQ0VTU19UT0tFTjtsZXQgbz1yIT09dGhpcy5ldmVudERhdGEudG9rZW5VO1YodGhpcy5hbm9uSWQpfHwodGhpcy5hbm9uSWQ9TigpLG89ITApO2NvbnN0IHM9dGhpcy5xdWV1ZS5zaGlmdCgpO2lmKHRoaXMuZXZlbnREYXRhLmxhc3RTdWNjZXNzKXtjb25zdCBlPW5ldyBEYXRlKHRoaXMuZXZlbnREYXRhLmxhc3RTdWNjZXNzKSx0PW5ldyBEYXRlKHMpLGk9KHMtdGhpcy5ldmVudERhdGEubGFzdFN1Y2Nlc3MpLzg2NGU1O289b3x8aT49MXx8aTwtMXx8ZS5nZXREYXRlKCkhPT10LmdldERhdGUoKTt9ZWxzZSBvPSEwO28/dGhpcy5wb3N0RXZlbnQocyx7c2RrSWRlbnRpZmllcjpcIm1hcGJveC1nbC1qc1wiLHNka1ZlcnNpb246aSxza3VJZDp1LFwiZW5hYmxlZC50ZWxlbWV0cnlcIjohMSx1c2VySWQ6dGhpcy5hbm9uSWR9LChlPT57ZXx8KHRoaXMuZXZlbnREYXRhLmxhc3RTdWNjZXNzPXMsdGhpcy5ldmVudERhdGEudG9rZW5VPXIpO30pLGUpOnRoaXMucHJvY2Vzc1JlcXVlc3RzKCk7fX0sR2U9amUucG9zdFR1cm5zdGlsZUV2ZW50LmJpbmQoamUpLHFlPW5ldyBjbGFzcyBleHRlbmRzIFZle2NvbnN0cnVjdG9yKCl7c3VwZXIoXCJtYXAubG9hZFwiKSx0aGlzLnN1Y2Nlc3M9e30sdGhpcy5za3VUb2tlbj1cIlwiO31wb3N0TWFwTG9hZEV2ZW50KGUsdCxpLHIpe3RoaXMuc2t1VG9rZW49dCx0aGlzLmVycm9yQ2I9cixuLkVWRU5UU19VUkwmJihpfHxuLkFDQ0VTU19UT0tFTj90aGlzLnF1ZXVlUmVxdWVzdCh7aWQ6ZSx0aW1lc3RhbXA6RGF0ZS5ub3coKX0saSk6dGhpcy5lcnJvckNiKG5ldyBFcnJvcihDZSkpKTt9cHJvY2Vzc1JlcXVlc3RzKGUpe2lmKHRoaXMucGVuZGluZ1JlcXVlc3R8fDA9PT10aGlzLnF1ZXVlLmxlbmd0aClyZXR1cm47Y29uc3R7aWQ6dCx0aW1lc3RhbXA6cn09dGhpcy5xdWV1ZS5zaGlmdCgpO3QmJnRoaXMuc3VjY2Vzc1t0XXx8KHRoaXMuYW5vbklkfHx0aGlzLmZldGNoRXZlbnREYXRhKCksVih0aGlzLmFub25JZCl8fCh0aGlzLmFub25JZD1OKCkpLHRoaXMucG9zdEV2ZW50KHIse3Nka0lkZW50aWZpZXI6XCJtYXBib3gtZ2wtanNcIixzZGtWZXJzaW9uOmksc2t1SWQ6dSxza3VUb2tlbjp0aGlzLnNrdVRva2VuLHVzZXJJZDp0aGlzLmFub25JZH0sKGU9PntlP3RoaXMuZXJyb3JDYihlKTp0JiYodGhpcy5zdWNjZXNzW3RdPSEwKTt9KSxlKSk7fX0sWmU9cWUucG9zdE1hcExvYWRFdmVudC5iaW5kKHFlKSwkZT1uZXcgY2xhc3MgZXh0ZW5kcyBWZXtjb25zdHJ1Y3Rvcigpe3N1cGVyKFwiZ2xqcy5wZXJmb3JtYW5jZVwiKTt9cG9zdFBlcmZvcm1hbmNlRXZlbnQoZSx0KXtuLkVWRU5UU19VUkwmJihlfHxuLkFDQ0VTU19UT0tFTikmJnRoaXMucXVldWVSZXF1ZXN0KHt0aW1lc3RhbXA6RGF0ZS5ub3coKSxwZXJmb3JtYW5jZURhdGE6dH0sZSk7fXByb2Nlc3NSZXF1ZXN0cyhlKXtpZih0aGlzLnBlbmRpbmdSZXF1ZXN0fHwwPT09dGhpcy5xdWV1ZS5sZW5ndGgpcmV0dXJuO2NvbnN0e3RpbWVzdGFtcDpyLHBlcmZvcm1hbmNlRGF0YTpufT10aGlzLnF1ZXVlLnNoaWZ0KCksbz1mdW5jdGlvbihlKXtjb25zdCByPXQucGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5VHlwZShcInJlc291cmNlXCIpLG49dC5wZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlUeXBlKFwibWFya1wiKSxvPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9e307aWYoZSlmb3IoY29uc3QgaSBpbiBlKWlmKFwib3RoZXJcIiE9PWkpZm9yKGNvbnN0IHIgb2YgZVtpXSl7Y29uc3QgZT1gJHtpfVJlc29sdmVSYW5nZU1pbmAsbj1gJHtpfVJlc29sdmVSYW5nZU1heGAsbz1gJHtpfVJlcXVlc3RDb3VudGAscz1gJHtpfVJlcXVlc3RDYWNoZWRDb3VudGA7dFtlXT1NYXRoLm1pbih0W2VdfHwxLzAsci5zdGFydFRpbWUpLHRbbl09TWF0aC5tYXgodFtuXXx8LTEvMCxyLnJlc3BvbnNlRW5kKTtjb25zdCBhPWU9Pnt2b2lkIDA9PT10W2VdJiYodFtlXT0wKSwrK3RbZV07fTt2b2lkIDAhPT1yLnRyYW5zZmVyU2l6ZSYmMD09PXIudHJhbnNmZXJTaXplJiZhKHMpLGEobyk7fXJldHVybiB0fShmdW5jdGlvbihlLHQpe2NvbnN0IGk9e307aWYoZSlmb3IoY29uc3QgciBvZiBlKXtjb25zdCBlPXQocik7dm9pZCAwPT09aVtlXSYmKGlbZV09W10pLGlbZV0ucHVzaChyKTt9cmV0dXJuIGl9KHIsZXQpKSxzPXQuZGV2aWNlUGl4ZWxSYXRpbyxhPXQubmF2aWdhdG9yLmNvbm5lY3Rpb258fHQubmF2aWdhdG9yLm1vekNvbm5lY3Rpb258fHQubmF2aWdhdG9yLndlYmtpdENvbm5lY3Rpb24sbD17Y291bnRlcnM6W10sbWV0YWRhdGE6W10sYXR0cmlidXRlczpbXX0sYz0oZSx0LGkpPT57bnVsbCE9aSYmZS5wdXNoKHtuYW1lOnQsdmFsdWU6aS50b1N0cmluZygpfSk7fTtmb3IoY29uc3QgZSBpbiBvKWMobC5jb3VudGVycyxlLG9bZV0pO2lmKGUuaW50ZXJhY3Rpb25SYW5nZVswXSE9PTEvMCYmZS5pbnRlcmFjdGlvblJhbmdlWzFdIT09LTEvMCYmKGMobC5jb3VudGVycyxcImludGVyYWN0aW9uUmFuZ2VNaW5cIixlLmludGVyYWN0aW9uUmFuZ2VbMF0pLGMobC5jb3VudGVycyxcImludGVyYWN0aW9uUmFuZ2VNYXhcIixlLmludGVyYWN0aW9uUmFuZ2VbMV0pKSxuKWZvcihjb25zdCBlIG9mIE9iamVjdC5rZXlzKEplKSl7Y29uc3QgdD1KZVtlXSxpPW4uZmluZCgoZT0+ZS5uYW1lPT09dCkpO2kmJmMobC5jb3VudGVycyx0LGkuc3RhcnRUaW1lKTt9cmV0dXJuIGMobC5jb3VudGVycyxcInZpc2liaWxpdHlIaWRkZW5cIixlLnZpc2liaWxpdHlIaWRkZW4pLGMobC5hdHRyaWJ1dGVzLFwic3R5bGVcIixmdW5jdGlvbihlKXtpZihlKWZvcihjb25zdCB0IG9mIGUpe2NvbnN0IGU9dC5uYW1lLnNwbGl0KFwiP1wiKVswXTtpZihMZShlKSl7Y29uc3QgdD1lLnNwbGl0KFwiL1wiKS5zbGljZSgtMik7aWYoMj09PXQubGVuZ3RoKXJldHVybiBgbWFwYm94Oi8vc3R5bGVzLyR7dFswXX0vJHt0WzFdfWB9fX0ocikpLGMobC5hdHRyaWJ1dGVzLFwidGVycmFpbkVuYWJsZWRcIixlLnRlcnJhaW5FbmFibGVkP1widHJ1ZVwiOlwiZmFsc2VcIiksYyhsLmF0dHJpYnV0ZXMsXCJmb2dFbmFibGVkXCIsZS5mb2dFbmFibGVkP1widHJ1ZVwiOlwiZmFsc2VcIiksYyhsLmF0dHJpYnV0ZXMsXCJwcm9qZWN0aW9uXCIsZS5wcm9qZWN0aW9uKSxjKGwuYXR0cmlidXRlcyxcInpvb21cIixlLnpvb20pLGMobC5tZXRhZGF0YSxcImRldmljZVBpeGVsUmF0aW9cIixzKSxjKGwubWV0YWRhdGEsXCJjb25uZWN0aW9uRWZmZWN0aXZlVHlwZVwiLGE/YS5lZmZlY3RpdmVUeXBlOnZvaWQgMCksYyhsLm1ldGFkYXRhLFwibmF2aWdhdG9yVXNlckFnZW50XCIsdC5uYXZpZ2F0b3IudXNlckFnZW50KSxjKGwubWV0YWRhdGEsXCJzY3JlZW5XaWR0aFwiLHQuc2NyZWVuLndpZHRoKSxjKGwubWV0YWRhdGEsXCJzY3JlZW5IZWlnaHRcIix0LnNjcmVlbi5oZWlnaHQpLGMobC5tZXRhZGF0YSxcIndpbmRvd1dpZHRoXCIsdC5pbm5lcldpZHRoKSxjKGwubWV0YWRhdGEsXCJ3aW5kb3dIZWlnaHRcIix0LmlubmVySGVpZ2h0KSxjKGwubWV0YWRhdGEsXCJtYXBXaWR0aFwiLGUud2lkdGgvcyksYyhsLm1ldGFkYXRhLFwibWFwSGVpZ2h0XCIsZS5oZWlnaHQvcyksYyhsLm1ldGFkYXRhLFwid2ViZ2xSZW5kZXJlclwiLGUucmVuZGVyZXIpLGMobC5tZXRhZGF0YSxcIndlYmdsVmVuZG9yXCIsZS52ZW5kb3IpLGMobC5tZXRhZGF0YSxcInNka1ZlcnNpb25cIixpKSxjKGwubWV0YWRhdGEsXCJzZGtJZGVudGlmaWVyXCIsXCJtYXBib3gtZ2wtanNcIiksbH0obik7Zm9yKGNvbnN0IGUgb2Ygby5tZXRhZGF0YSk7Zm9yKGNvbnN0IGUgb2Ygby5jb3VudGVycyk7Zm9yKGNvbnN0IGUgb2Ygby5hdHRyaWJ1dGVzKTt0aGlzLnBvc3RFdmVudChyLG8sKCgpPT57fSksZSk7fX0sV2U9JGUucG9zdFBlcmZvcm1hbmNlRXZlbnQuYmluZCgkZSksSGU9bmV3IGNsYXNzIGV4dGVuZHMgVmV7Y29uc3RydWN0b3IoKXtzdXBlcihcIm1hcC5hdXRoXCIpLHRoaXMuc3VjY2Vzcz17fSx0aGlzLnNrdVRva2VuPVwiXCI7fWdldFNlc3Npb24oZSx0LGkscil7aWYoIW4uQVBJX1VSTHx8IW4uU0VTU0lPTl9QQVRIKXJldHVybjtjb25zdCBvPUJlKG4uQVBJX1VSTCtuLlNFU1NJT05fUEFUSCk7by5wYXJhbXMucHVzaChgc2t1PSR7dHx8XCJcIn1gKSxvLnBhcmFtcy5wdXNoKGBhY2Nlc3NfdG9rZW49JHtyfHxuLkFDQ0VTU19UT0tFTnx8XCJcIn1gKTtjb25zdCBzPXt1cmw6RmUobyksaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcInRleHQvcGxhaW5cIn19O3RoaXMucGVuZGluZ1JlcXVlc3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYmUoayhlLHttZXRob2Q6XCJHRVRcIn0pLHQpfShzLChlPT57dGhpcy5wZW5kaW5nUmVxdWVzdD1udWxsLGkoZSksdGhpcy5zYXZlRXZlbnREYXRhKCksdGhpcy5wcm9jZXNzUmVxdWVzdHMocik7fSkpO31nZXRTZXNzaW9uQVBJKGUsdCxpLHIpe3RoaXMuc2t1VG9rZW49dCx0aGlzLmVycm9yQ2I9cixuLlNFU1NJT05fUEFUSCYmbi5BUElfVVJMJiYoaXx8bi5BQ0NFU1NfVE9LRU4/dGhpcy5xdWV1ZVJlcXVlc3Qoe2lkOmUsdGltZXN0YW1wOkRhdGUubm93KCl9LGkpOnRoaXMuZXJyb3JDYihuZXcgRXJyb3IoQ2UpKSk7fXByb2Nlc3NSZXF1ZXN0cyhlKXtpZih0aGlzLnBlbmRpbmdSZXF1ZXN0fHwwPT09dGhpcy5xdWV1ZS5sZW5ndGgpcmV0dXJuO2NvbnN0e2lkOnQsdGltZXN0YW1wOml9PXRoaXMucXVldWUuc2hpZnQoKTt0JiZ0aGlzLnN1Y2Nlc3NbdF18fHRoaXMuZ2V0U2Vzc2lvbihpLHRoaXMuc2t1VG9rZW4sKGU9PntlP3RoaXMuZXJyb3JDYihlKTp0JiYodGhpcy5zdWNjZXNzW3RdPSEwKTt9KSxlKTt9fSxYZT1IZS5nZXRTZXNzaW9uQVBJLmJpbmQoSGUpLFllPW5ldyBTZXQ7ZnVuY3Rpb24gS2UoZSx0KXt0P1llLmFkZChlKTpZZS5kZWxldGUoZSk7fWNvbnN0IEplPXtjcmVhdGU6XCJjcmVhdGVcIixsb2FkOlwibG9hZFwiLGZ1bGxMb2FkOlwiZnVsbExvYWRcIn0sUWU9e21hcmsoZSl7dC5wZXJmb3JtYW5jZS5tYXJrKGUpO30sbWVhc3VyZShlLGkscil7dC5wZXJmb3JtYW5jZS5tZWFzdXJlKGUsaSxyKTt9fTtmdW5jdGlvbiBldChlKXtjb25zdCB0PWUubmFtZS5zcGxpdChcIj9cIilbMF07cmV0dXJuIFJlKHQpJiZ0LmluY2x1ZGVzKFwibWFwYm94LWdsLmpzXCIpP1wiamF2YXNjcmlwdFwiOlJlKHQpJiZ0LmluY2x1ZGVzKFwibWFwYm94LWdsLmNzc1wiKT9cImNzc1wiOmZ1bmN0aW9uKGUpe3JldHVybiBuLkFQSV9GT05UU19SRUdFWC50ZXN0KGUpfSh0KT9cImZvbnRSYW5nZVwiOmtlKHQpP1wic3ByaXRlXCI6TGUodCk/XCJzdHlsZVwiOmZ1bmN0aW9uKGUpe3JldHVybiBuLkFQSV9USUxFSlNPTl9SRUdFWC50ZXN0KGUpfSh0KT9cInRpbGVqc29uXCI6XCJvdGhlclwifWNvbnN0IHR0PXQucGVyZm9ybWFuY2U7ZnVuY3Rpb24gaXQoZSl7Y29uc3QgdD1lP2UudXJsLnRvU3RyaW5nKCk6dm9pZCAwO3JldHVybiB0dC5nZXRFbnRyaWVzQnlOYW1lKHQpfXZhciBydD1udDtmdW5jdGlvbiBudChlKXtyZXR1cm4gIWZ1bmN0aW9uKGUpe3JldHVybiBcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93fHxcInVuZGVmaW5lZFwiPT10eXBlb2YgZG9jdW1lbnQ/XCJub3QgYSBicm93c2VyXCI6QXJyYXkucHJvdG90eXBlJiZBcnJheS5wcm90b3R5cGUuZXZlcnkmJkFycmF5LnByb3RvdHlwZS5maWx0ZXImJkFycmF5LnByb3RvdHlwZS5mb3JFYWNoJiZBcnJheS5wcm90b3R5cGUuaW5kZXhPZiYmQXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mJiZBcnJheS5wcm90b3R5cGUubWFwJiZBcnJheS5wcm90b3R5cGUuc29tZSYmQXJyYXkucHJvdG90eXBlLnJlZHVjZSYmQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0JiZBcnJheS5pc0FycmF5P0Z1bmN0aW9uLnByb3RvdHlwZSYmRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ/T2JqZWN0LmtleXMmJk9iamVjdC5jcmVhdGUmJk9iamVjdC5nZXRQcm90b3R5cGVPZiYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMmJk9iamVjdC5pc1NlYWxlZCYmT2JqZWN0LmlzRnJvemVuJiZPYmplY3QuaXNFeHRlbnNpYmxlJiZPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJiZPYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzJiZPYmplY3Quc2VhbCYmT2JqZWN0LmZyZWV6ZSYmT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zP1wiSlNPTlwiaW4gd2luZG93JiZcInBhcnNlXCJpbiBKU09OJiZcInN0cmluZ2lmeVwiaW4gSlNPTj9mdW5jdGlvbigpe2lmKCEoXCJXb3JrZXJcImluIHdpbmRvdyYmXCJCbG9iXCJpbiB3aW5kb3cmJlwiVVJMXCJpbiB3aW5kb3cpKXJldHVybiAhMTt2YXIgZSx0LGk9bmV3IEJsb2IoW1wiXCJdLHt0eXBlOlwidGV4dC9qYXZhc2NyaXB0XCJ9KSxyPVVSTC5jcmVhdGVPYmplY3RVUkwoaSk7dHJ5e3Q9bmV3IFdvcmtlcihyKSxlPSEwO31jYXRjaCh0KXtlPSExO31yZXR1cm4gdCYmdC50ZXJtaW5hdGUoKSxVUkwucmV2b2tlT2JqZWN0VVJMKHIpLGV9KCk/XCJVaW50OENsYW1wZWRBcnJheVwiaW4gd2luZG93P0FycmF5QnVmZmVyLmlzVmlldz9mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7ZS53aWR0aD1lLmhlaWdodD0xO3ZhciB0PWUuZ2V0Q29udGV4dChcIjJkXCIpO2lmKCF0KXJldHVybiAhMTt2YXIgaT10LmdldEltYWdlRGF0YSgwLDAsMSwxKTtyZXR1cm4gaSYmaS53aWR0aD09PWUud2lkdGh9KCk/KHZvaWQgMD09PW90W3Q9ZSYmZS5mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0XSYmKG90W3RdPWZ1bmN0aW9uKGUpe3ZhciB0LGk9ZnVuY3Rpb24oZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxpPU9iamVjdC5jcmVhdGUobnQud2ViR0xDb250ZXh0QXR0cmlidXRlcyk7cmV0dXJuIGkuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD1lLHQuZ2V0Q29udGV4dChcIndlYmdsXCIsaSl8fHQuZ2V0Q29udGV4dChcImV4cGVyaW1lbnRhbC13ZWJnbFwiLGkpfShlKTtpZighaSlyZXR1cm4gITE7dHJ5e3Q9aS5jcmVhdGVTaGFkZXIoaS5WRVJURVhfU0hBREVSKTt9Y2F0Y2goZSl7cmV0dXJuICExfXJldHVybiAhKCF0fHxpLmlzQ29udGV4dExvc3QoKSkmJihpLnNoYWRlclNvdXJjZSh0LFwidm9pZCBtYWluKCkge31cIiksaS5jb21waWxlU2hhZGVyKHQpLCEwPT09aS5nZXRTaGFkZXJQYXJhbWV0ZXIodCxpLkNPTVBJTEVfU1RBVFVTKSl9KHQpKSxvdFt0XT9kb2N1bWVudC5kb2N1bWVudE1vZGU/XCJpbnN1ZmZpY2llbnQgRUNNQVNjcmlwdCA2IHN1cHBvcnRcIjp2b2lkIDA6XCJpbnN1ZmZpY2llbnQgV2ViR0wgc3VwcG9ydFwiKTpcImluc3VmZmljaWVudCBDYW52YXMvZ2V0SW1hZ2VEYXRhIHN1cHBvcnRcIjpcImluc3VmZmljaWVudCBBcnJheUJ1ZmZlciBzdXBwb3J0XCI6XCJpbnN1ZmZpY2llbnQgVWludDhDbGFtcGVkQXJyYXkgc3VwcG9ydFwiOlwiaW5zdWZmaWNpZW50IHdvcmtlciBzdXBwb3J0XCI6XCJpbnN1ZmZpY2llbnQgSlNPTiBzdXBwb3J0XCI6XCJpbnN1ZmZpY2llbnQgT2JqZWN0IHN1cHBvcnRcIjpcImluc3VmZmljaWVudCBGdW5jdGlvbiBzdXBwb3J0XCI6XCJpbnN1ZmZpY2VudCBBcnJheSBzdXBwb3J0XCI7dmFyIHQ7fShlKX12YXIgb3Q9e307bGV0IHN0LGF0LGx0LGN0LGh0O2Z1bmN0aW9uIHV0KCl7cmV0dXJuIG51bGw9PXN0JiYoc3Q9dC5PZmZzY3JlZW5DYW52YXMmJm5ldyB0Lk9mZnNjcmVlbkNhbnZhcygxLDEpLmdldENvbnRleHQoXCIyZFwiKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5jcmVhdGVJbWFnZUJpdG1hcCksc3R9bnQud2ViR0xDb250ZXh0QXR0cmlidXRlcz17YW50aWFsaWFzOiExLGFscGhhOiEwLHN0ZW5jaWw6ITAsZGVwdGg6ITB9O2NvbnN0IGR0PXtub3c6KCk9PnZvaWQgMCE9PWN0P2N0OnQucGVyZm9ybWFuY2Uubm93KCksc2V0Tm93KGUpe2N0PWU7fSxyZXN0b3JlTm93KCl7Y3Q9dm9pZCAwO30sZnJhbWUoZSl7Y29uc3QgaT10LnJlcXVlc3RBbmltYXRpb25GcmFtZShlKTtyZXR1cm4ge2NhbmNlbDooKT0+dC5jYW5jZWxBbmltYXRpb25GcmFtZShpKX19LGdldEltYWdlRGF0YShlLGk9MCl7Y29uc3R7d2lkdGg6cixoZWlnaHQ6bn09ZTtodHx8KGh0PXQuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSk7Y29uc3Qgbz1odC5nZXRDb250ZXh0KFwiMmRcIix7d2lsbFJlYWRGcmVxdWVudGx5OiEwfSk7aWYoIW8pdGhyb3cgbmV3IEVycm9yKFwiZmFpbGVkIHRvIGNyZWF0ZSBjYW52YXMgMmQgY29udGV4dFwiKTtyZXR1cm4gKHI+aHQud2lkdGh8fG4+aHQuaGVpZ2h0KSYmKGh0LndpZHRoPXIsaHQuaGVpZ2h0PW4pLG8uY2xlYXJSZWN0KC1pLC1pLHIrMippLG4rMippKSxvLmRyYXdJbWFnZShlLDAsMCxyLG4pLG8uZ2V0SW1hZ2VEYXRhKC1pLC1pLHIrMippLG4rMippKX0scmVzb2x2ZVVSTDplPT4oYXR8fChhdD10LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpKSxhdC5ocmVmPWUsYXQuaHJlZiksZ2V0IGRldmljZVBpeGVsUmF0aW8oKXtyZXR1cm4gdC5kZXZpY2VQaXhlbFJhdGlvfSxnZXQgcHJlZmVyc1JlZHVjZWRNb3Rpb24oKXtyZXR1cm4gISF0Lm1hdGNoTWVkaWEmJihudWxsPT1sdCYmKGx0PXQubWF0Y2hNZWRpYShcIihwcmVmZXJzLXJlZHVjZWQtbW90aW9uOiByZWR1Y2UpXCIpKSxsdC5tYXRjaGVzKX0saGFzQ2FudmFzRmluZ2VycHJpbnROb2lzZSgpe2lmKCF1dCgpKXJldHVybiAhMTtjb25zdCBlPW5ldyB0Lk9mZnNjcmVlbkNhbnZhcyg4NSwxKSxpPWUuZ2V0Q29udGV4dChcIjJkXCIse3dpbGxSZWFkRnJlcXVlbnRseTohMH0pO2xldCByPTA7Zm9yKGxldCB0PTA7dDxlLndpZHRoOysrdClpLmZpbGxTdHlsZT1gcmdiYSgke3IrK30sJHtyKyt9LCR7cisrfSwgMjU1KWAsaS5maWxsUmVjdCh0LDAsMSwxKTtjb25zdCBuPWkuZ2V0SW1hZ2VEYXRhKDAsMCxlLndpZHRoLGUuaGVpZ2h0KTtyPTA7Zm9yKGxldCBlPTA7ZTxuLmRhdGEubGVuZ3RoOysrZSlpZihlJTQhPTMmJnIrKyE9PW4uZGF0YVtlXSlyZXR1cm4gITA7cmV0dXJuICExfX07ZnVuY3Rpb24gcHQoZSxpLHIpe2NvbnN0IG49dC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KGUpO3JldHVybiB2b2lkIDAhPT1pJiYobi5jbGFzc05hbWU9aSksciYmci5hcHBlbmRDaGlsZChuKSxufWZ1bmN0aW9uIGZ0KGUsaSxyKXtjb25zdCBuPXQuZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixlKTtmb3IoY29uc3QgZSBvZiBPYmplY3Qua2V5cyhpKSluLnNldEF0dHJpYnV0ZU5TKG51bGwsZSxpW2VdKTtyZXR1cm4gciYmci5hcHBlbmRDaGlsZChuKSxufWNvbnN0IG10PXQuZG9jdW1lbnQmJnQuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLF90PW10JiZ2b2lkIDAhPT1tdC51c2VyU2VsZWN0P1widXNlclNlbGVjdFwiOlwiV2Via2l0VXNlclNlbGVjdFwiO2xldCBndDtmdW5jdGlvbiB5dCgpe210JiZfdCYmKGd0PW10W190XSxtdFtfdF09XCJub25lXCIpO31mdW5jdGlvbiB4dCgpe210JiZfdCYmKG10W190XT1ndCk7fWZ1bmN0aW9uIHZ0KGUpe2UucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdnQsITApO31mdW5jdGlvbiBidCgpe3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdnQsITApLHQuc2V0VGltZW91dCgoKCk9Pnt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHZ0LCEwKTt9KSwwKTt9ZnVuY3Rpb24gd3QoZSx0KXtjb25zdCBpPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJuIE10KGUsaSx0KX1mdW5jdGlvbiBUdChlLHQpe2NvbnN0IGk9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxyPVtdO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKXIucHVzaChNdChlLGksdFtuXSkpO3JldHVybiByfWZ1bmN0aW9uIEV0KGUpe3JldHVybiB2b2lkIDAhPT10Lkluc3RhbGxUcmlnZ2VyJiYyPT09ZS5idXR0b24mJmUuY3RybEtleSYmdC5uYXZpZ2F0b3IucGxhdGZvcm0udG9VcHBlckNhc2UoKS5pbmRleE9mKFwiTUFDXCIpPj0wPzA6ZS5idXR0b259ZnVuY3Rpb24gTXQoZSx0LGkpe2NvbnN0IHI9ZS5vZmZzZXRXaWR0aD09PXQud2lkdGg/MTplLm9mZnNldFdpZHRoL3Qud2lkdGg7cmV0dXJuIG5ldyB5KChpLmNsaWVudFgtdC5sZWZ0KSpyLChpLmNsaWVudFktdC50b3ApKnIpfWZ1bmN0aW9uIEF0KGUsdCxpKXtpW2VdJiYtMSE9PWlbZV0uaW5kZXhPZih0KXx8KGlbZV09aVtlXXx8W10saVtlXS5wdXNoKHQpKTt9ZnVuY3Rpb24gU3QoZSx0LGkpe2lmKGkmJmlbZV0pe2NvbnN0IHI9aVtlXS5pbmRleE9mKHQpOy0xIT09ciYmaVtlXS5zcGxpY2UociwxKTt9fWNsYXNzIEl0e2NvbnN0cnVjdG9yKGUsdD17fSl7ayh0aGlzLHQpLHRoaXMudHlwZT1lO319Y2xhc3MgQ3QgZXh0ZW5kcyBJdHtjb25zdHJ1Y3RvcihlLHQ9e30pe3N1cGVyKFwiZXJyb3JcIixrKHtlcnJvcjplfSx0KSk7fX1jbGFzcyB6dHtvbihlLHQpe3JldHVybiB0aGlzLl9saXN0ZW5lcnM9dGhpcy5fbGlzdGVuZXJzfHx7fSxBdChlLHQsdGhpcy5fbGlzdGVuZXJzKSx0aGlzfW9mZihlLHQpe3JldHVybiBTdChlLHQsdGhpcy5fbGlzdGVuZXJzKSxTdChlLHQsdGhpcy5fb25lVGltZUxpc3RlbmVycyksdGhpc31vbmNlKGUsdCl7cmV0dXJuIHQ/KHRoaXMuX29uZVRpbWVMaXN0ZW5lcnM9dGhpcy5fb25lVGltZUxpc3RlbmVyc3x8e30sQXQoZSx0LHRoaXMuX29uZVRpbWVMaXN0ZW5lcnMpLHRoaXMpOm5ldyBQcm9taXNlKCh0PT50aGlzLm9uY2UoZSx0KSkpfWZpcmUoZSx0KXtcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9bmV3IEl0KGUsdHx8e30pKTtjb25zdCBpPWUudHlwZTtpZih0aGlzLmxpc3RlbnMoaSkpe2UudGFyZ2V0PXRoaXM7Y29uc3QgdD10aGlzLl9saXN0ZW5lcnMmJnRoaXMuX2xpc3RlbmVyc1tpXT90aGlzLl9saXN0ZW5lcnNbaV0uc2xpY2UoKTpbXTtmb3IoY29uc3QgaSBvZiB0KWkuY2FsbCh0aGlzLGUpO2NvbnN0IHI9dGhpcy5fb25lVGltZUxpc3RlbmVycyYmdGhpcy5fb25lVGltZUxpc3RlbmVyc1tpXT90aGlzLl9vbmVUaW1lTGlzdGVuZXJzW2ldLnNsaWNlKCk6W107Zm9yKGNvbnN0IHQgb2YgcilTdChpLHQsdGhpcy5fb25lVGltZUxpc3RlbmVycyksdC5jYWxsKHRoaXMsZSk7Y29uc3Qgbj10aGlzLl9ldmVudGVkUGFyZW50O24mJihrKGUsXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5fZXZlbnRlZFBhcmVudERhdGE/dGhpcy5fZXZlbnRlZFBhcmVudERhdGEoKTp0aGlzLl9ldmVudGVkUGFyZW50RGF0YSksbi5maXJlKGUpKTt9ZWxzZSBlIGluc3RhbmNlb2YgQ3QmJmNvbnNvbGUuZXJyb3IoZS5lcnJvcik7cmV0dXJuIHRoaXN9bGlzdGVucyhlKXtyZXR1cm4gISEodGhpcy5fbGlzdGVuZXJzJiZ0aGlzLl9saXN0ZW5lcnNbZV0mJnRoaXMuX2xpc3RlbmVyc1tlXS5sZW5ndGg+MHx8dGhpcy5fb25lVGltZUxpc3RlbmVycyYmdGhpcy5fb25lVGltZUxpc3RlbmVyc1tlXSYmdGhpcy5fb25lVGltZUxpc3RlbmVyc1tlXS5sZW5ndGg+MHx8dGhpcy5fZXZlbnRlZFBhcmVudCYmdGhpcy5fZXZlbnRlZFBhcmVudC5saXN0ZW5zKGUpKX1zZXRFdmVudGVkUGFyZW50KGUsdCl7cmV0dXJuIHRoaXMuX2V2ZW50ZWRQYXJlbnQ9ZSx0aGlzLl9ldmVudGVkUGFyZW50RGF0YT10LHRoaXN9fXZhciBQdD1KU09OLnBhcnNlKCd7XCIkdmVyc2lvblwiOjgsXCIkcm9vdFwiOntcInZlcnNpb25cIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjpbOF19LFwiZnJhZ21lbnRcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCJ9LFwibmFtZVwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcIm1ldGFkYXRhXCI6e1widHlwZVwiOlwiKlwifSxcImNlbnRlclwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCJ9LFwiem9vbVwiOntcInR5cGVcIjpcIm51bWJlclwifSxcImJlYXJpbmdcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwicGVyaW9kXCI6MzYwfSxcInBpdGNoXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MH0sXCJsaWdodFwiOntcInR5cGVcIjpcImxpZ2h0XCJ9LFwibGlnaHRzXCI6e1wicmVxdWlyZWRcIjpmYWxzZSxcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibGlnaHQtM2RcIn0sXCJ0ZXJyYWluXCI6e1widHlwZVwiOlwidGVycmFpblwiLFwib3B0aW9uYWxcIjp0cnVlfSxcImZvZ1wiOntcInR5cGVcIjpcImZvZ1wifSxcImNhbWVyYVwiOntcInR5cGVcIjpcImNhbWVyYVwifSxcImltcG9ydHNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcImltcG9ydFwifSxcInNjaGVtYVwiOntcInR5cGVcIjpcInNjaGVtYVwifSxcInNvdXJjZXNcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJzb3VyY2VzXCJ9LFwic3ByaXRlXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwiZ2x5cGhzXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJkZWZhdWx0XCI6XCJtYXBib3g6Ly9mb250cy9tYXBib3gve2ZvbnRzdGFja30ve3JhbmdlfS5wYmZcIn0sXCJ0cmFuc2l0aW9uXCI6e1widHlwZVwiOlwidHJhbnNpdGlvblwifSxcInByb2plY3Rpb25cIjp7XCJ0eXBlXCI6XCJwcm9qZWN0aW9uXCJ9LFwibGF5ZXJzXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJsYXllclwifSxcIm1vZGVsc1wiOntcInR5cGVcIjpcIm1vZGVsc1wifX0sXCJtb2RlbFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwicmVxdWlyZWRcIjp0cnVlfSxcImltcG9ydFwiOntcImlkXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJyZXF1aXJlZFwiOnRydWV9LFwidXJsXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJyZXF1aXJlZFwiOnRydWV9LFwiY29uZmlnXCI6e1widHlwZVwiOlwiY29uZmlnXCJ9LFwiZGF0YVwiOntcInR5cGVcIjpcIiRyb290XCJ9fSxcImNvbmZpZ1wiOntcIipcIjp7XCJ0eXBlXCI6XCIqXCJ9fSxcInNjaGVtYVwiOntcIipcIjp7XCJ0eXBlXCI6XCJvcHRpb25cIn19LFwib3B0aW9uXCI6e1wiZGVmYXVsdFwiOntcInR5cGVcIjpcIipcIixcInJlcXVpcmVkXCI6dHJ1ZX0sXCJ0eXBlXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wic3RyaW5nXCI6MSxcIm51bWJlclwiOjEsXCJib29sZWFuXCI6MSxcImNvbG9yXCI6MX19LFwiYXJyYXlcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCJ9LFwibWluVmFsdWVcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIn0sXCJtYXhWYWx1ZVwiOntcInR5cGVcIjpcIm51bWJlclwifSxcInN0ZXBWYWx1ZVwiOntcInR5cGVcIjpcIm51bWJlclwifSxcInZhbHVlc1wiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwiKlwifSxcIm1ldGFkYXRhXCI6e1widHlwZVwiOlwiKlwifX0sXCJtb2RlbHNcIjp7XCIqXCI6e1widHlwZVwiOlwibW9kZWxcIn19LFwibGlnaHQtM2RcIjp7XCJpZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwicmVxdWlyZWRcIjp0cnVlfSxcInByb3BlcnRpZXNcIjp7XCJ0eXBlXCI6XCJwcm9wZXJ0aWVzXCJ9LFwidHlwZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImFtYmllbnRcIjp7fSxcImRpcmVjdGlvbmFsXCI6e30sXCJmbGF0XCI6e319fX0sXCJwcm9wZXJ0aWVzXCI6W1wicHJvcGVydGllc19saWdodF9kaXJlY3Rpb25hbFwiLFwicHJvcGVydGllc19saWdodF9hbWJpZW50XCIsXCJwcm9wZXJ0aWVzX2xpZ2h0X2ZsYXRcIl0sXCJwcm9wZXJ0aWVzX2xpZ2h0X2RpcmVjdGlvbmFsXCI6e1wiZGlyZWN0aW9uXCI6e1widHlwZVwiOlwiYXJyYXlcIixcImRlZmF1bHRcIjpbMjEwLDMwXSxcIm1pbmltdW1cIjpbMCwwXSxcIm1heGltdW1cIjpbMzYwLDkwXSxcImxlbmd0aFwiOjIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19fSxcImNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImRlZmF1bHRcIjpcIiNmZmZmZmZcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwiaW50ZW5zaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJkZWZhdWx0XCI6MC41LFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwiY2FzdC1zaGFkb3dzXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwiZXhwcmVzc2lvblwiOnt9LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInNoYWRvdy1pbnRlbnNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9fSxcInByb3BlcnRpZXNfbGlnaHRfYW1iaWVudFwiOntcImNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImRlZmF1bHRcIjpcIiNmZmZmZmZcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwiaW50ZW5zaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJkZWZhdWx0XCI6MC41LFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9fSxcInByb3BlcnRpZXNfbGlnaHRfZmxhdFwiOntcImFuY2hvclwiOntcInR5cGVcIjpcImVudW1cIixcImRlZmF1bHRcIjpcInZpZXdwb3J0XCIsXCJ2YWx1ZXNcIjp7XCJtYXBcIjoxLFwidmlld3BvcnRcIjoxfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX19LFwicG9zaXRpb25cIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwiZGVmYXVsdFwiOlsxLjE1LDIxMCwzMF0sXCJsZW5ndGhcIjozLFwidmFsdWVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfX0sXCJjb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJkZWZhdWx0XCI6XCIjZmZmZmZmXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcImludGVuc2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwiZGVmYXVsdFwiOjAuNSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfX0sXCJzb3VyY2VzXCI6e1wiKlwiOntcInR5cGVcIjpcInNvdXJjZVwifX0sXCJzb3VyY2VcIjpbXCJzb3VyY2VfdmVjdG9yXCIsXCJzb3VyY2VfcmFzdGVyXCIsXCJzb3VyY2VfcmFzdGVyX2RlbVwiLFwic291cmNlX3Jhc3Rlcl9hcnJheVwiLFwic291cmNlX2dlb2pzb25cIixcInNvdXJjZV92aWRlb1wiLFwic291cmNlX2ltYWdlXCIsXCJzb3VyY2VfbW9kZWxcIl0sXCJzb3VyY2VfdmVjdG9yXCI6e1widHlwZVwiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZlY3RvclwiOjF9fSxcInVybFwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcInRpbGVzXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJzdHJpbmdcIn0sXCJib3VuZHNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6NCxcImRlZmF1bHRcIjpbLTE4MCwtODUuMDUxMTI5LDE4MCw4NS4wNTExMjldfSxcInNjaGVtZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInh5elwiOjEsXCJ0bXNcIjoxfSxcImRlZmF1bHRcIjpcInh5elwifSxcIm1pbnpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowfSxcIm1heHpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoyMn0sXCJhdHRyaWJ1dGlvblwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcInByb21vdGVJZFwiOntcInR5cGVcIjpcInByb21vdGVJZFwifSxcInZvbGF0aWxlXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlfSxcIipcIjp7XCJ0eXBlXCI6XCIqXCJ9fSxcInNvdXJjZV9yYXN0ZXJcIjp7XCJ0eXBlXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wicmFzdGVyXCI6MX19LFwidXJsXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwidGlsZXNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcInN0cmluZ1wifSxcImJvdW5kc1wiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjo0LFwiZGVmYXVsdFwiOlstMTgwLC04NS4wNTExMjksMTgwLDg1LjA1MTEyOV19LFwibWluem9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjB9LFwibWF4em9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjIyfSxcInRpbGVTaXplXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6NTEyfSxcInNjaGVtZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInh5elwiOjEsXCJ0bXNcIjoxfSxcImRlZmF1bHRcIjpcInh5elwifSxcImF0dHJpYnV0aW9uXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwidm9sYXRpbGVcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2V9LFwiKlwiOntcInR5cGVcIjpcIipcIn19LFwic291cmNlX3Jhc3Rlcl9kZW1cIjp7XCJ0eXBlXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wicmFzdGVyLWRlbVwiOjF9fSxcInVybFwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcInRpbGVzXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJzdHJpbmdcIn0sXCJib3VuZHNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6NCxcImRlZmF1bHRcIjpbLTE4MCwtODUuMDUxMTI5LDE4MCw4NS4wNTExMjldfSxcIm1pbnpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowfSxcIm1heHpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoyMn0sXCJ0aWxlU2l6ZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjUxMn0sXCJhdHRyaWJ1dGlvblwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcImVuY29kaW5nXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widGVycmFyaXVtXCI6MSxcIm1hcGJveFwiOjF9LFwiZGVmYXVsdFwiOlwibWFwYm94XCJ9LFwidm9sYXRpbGVcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2V9LFwiKlwiOntcInR5cGVcIjpcIipcIn19LFwic291cmNlX3Jhc3Rlcl9hcnJheVwiOntcInR5cGVcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJyYXN0ZXItYXJyYXlcIjoxfX0sXCJ1cmxcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIn0sXCJ0aWxlc1wiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwic3RyaW5nXCJ9LFwiYm91bmRzXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjQsXCJkZWZhdWx0XCI6Wy0xODAsLTg1LjA1MTEyOSwxODAsODUuMDUxMTI5XX0sXCJtaW56b29tXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MH0sXCJtYXh6b29tXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MjJ9LFwidGlsZVNpemVcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjo1MTJ9LFwiYXR0cmlidXRpb25cIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIn0sXCJyYXN0ZXJMYXllcnNcIjp7XCJ0eXBlXCI6XCIqXCJ9LFwiKlwiOntcInR5cGVcIjpcIipcIn19LFwic291cmNlX2dlb2pzb25cIjp7XCJ0eXBlXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiZ2VvanNvblwiOjF9fSxcImRhdGFcIjp7XCJ0eXBlXCI6XCIqXCJ9LFwibWF4em9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjE4fSxcImF0dHJpYnV0aW9uXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwiYnVmZmVyXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MTI4LFwibWF4aW11bVwiOjUxMixcIm1pbmltdW1cIjowfSxcImZpbHRlclwiOntcInR5cGVcIjpcIipcIn0sXCJ0b2xlcmFuY2VcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLjM3NX0sXCJjbHVzdGVyXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlfSxcImNsdXN0ZXJSYWRpdXNcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjo1MCxcIm1pbmltdW1cIjowfSxcImNsdXN0ZXJNYXhab29tXCI6e1widHlwZVwiOlwibnVtYmVyXCJ9LFwiY2x1c3Rlck1pblBvaW50c1wiOntcInR5cGVcIjpcIm51bWJlclwifSxcImNsdXN0ZXJQcm9wZXJ0aWVzXCI6e1widHlwZVwiOlwiKlwifSxcImxpbmVNZXRyaWNzXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlfSxcImdlbmVyYXRlSWRcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2V9LFwicHJvbW90ZUlkXCI6e1widHlwZVwiOlwicHJvbW90ZUlkXCJ9fSxcInNvdXJjZV92aWRlb1wiOntcInR5cGVcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aWRlb1wiOjF9fSxcInVybHNcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcInN0cmluZ1wifSxcImNvb3JkaW5hdGVzXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiYXJyYXlcIixcImxlbmd0aFwiOjQsXCJ2YWx1ZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJsZW5ndGhcIjoyLFwidmFsdWVcIjpcIm51bWJlclwifX19LFwic291cmNlX2ltYWdlXCI6e1widHlwZVwiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImltYWdlXCI6MX19LFwidXJsXCI6e1wicmVxdWlyZWRcIjpmYWxzZSxcInR5cGVcIjpcInN0cmluZ1wifSxcImNvb3JkaW5hdGVzXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiYXJyYXlcIixcImxlbmd0aFwiOjQsXCJ2YWx1ZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJsZW5ndGhcIjoyLFwidmFsdWVcIjpcIm51bWJlclwifX19LFwic291cmNlX21vZGVsXCI6e1widHlwZVwiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1vZGVsXCI6MSxcImJhdGNoZWQtbW9kZWxcIjoxfX0sXCJtYXh6b29tXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MTh9LFwibWluem9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjB9LFwidGlsZXNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcInN0cmluZ1wifX0sXCJsYXllclwiOntcImlkXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJyZXF1aXJlZFwiOnRydWV9LFwidHlwZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImZpbGxcIjp7fSxcImxpbmVcIjp7fSxcInN5bWJvbFwiOnt9LFwiY2lyY2xlXCI6e30sXCJoZWF0bWFwXCI6e30sXCJmaWxsLWV4dHJ1c2lvblwiOnt9LFwicmFzdGVyXCI6e30sXCJoaWxsc2hhZGVcIjp7fSxcIm1vZGVsXCI6e30sXCJiYWNrZ3JvdW5kXCI6e30sXCJza3lcIjp7fSxcInNsb3RcIjp7fX0sXCJyZXF1aXJlZFwiOnRydWV9LFwibWV0YWRhdGFcIjp7XCJ0eXBlXCI6XCIqXCJ9LFwic291cmNlXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwic291cmNlLWxheWVyXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwic2xvdFwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcIm1pbnpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjI0fSxcIm1heHpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjI0fSxcImZpbHRlclwiOntcInR5cGVcIjpcImZpbHRlclwifSxcImxheW91dFwiOntcInR5cGVcIjpcImxheW91dFwifSxcInBhaW50XCI6e1widHlwZVwiOlwicGFpbnRcIn19LFwibGF5b3V0XCI6W1wibGF5b3V0X2ZpbGxcIixcImxheW91dF9saW5lXCIsXCJsYXlvdXRfY2lyY2xlXCIsXCJsYXlvdXRfaGVhdG1hcFwiLFwibGF5b3V0X2ZpbGwtZXh0cnVzaW9uXCIsXCJsYXlvdXRfc3ltYm9sXCIsXCJsYXlvdXRfcmFzdGVyXCIsXCJsYXlvdXRfaGlsbHNoYWRlXCIsXCJsYXlvdXRfYmFja2dyb3VuZFwiLFwibGF5b3V0X3NreVwiLFwibGF5b3V0X21vZGVsXCJdLFwibGF5b3V0X2JhY2tncm91bmRcIjp7XCJ2aXNpYmlsaXR5XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widmlzaWJsZVwiOjEsXCJub25lXCI6MX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJleHByZXNzaW9uXCI6e30sXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJsYXlvdXRfc2t5XCI6e1widmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjoxLFwibm9uZVwiOjF9LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwiLFwiZXhwcmVzc2lvblwiOnt9LFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn19LFwibGF5b3V0X21vZGVsXCI6e1widmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjoxLFwibm9uZVwiOjF9LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwiLFwiZXhwcmVzc2lvblwiOnt9LFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn0sXCJtb2RlbC1pZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiZGVmYXVsdFwiOlwiXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwiLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfX19LFwibGF5b3V0X2ZpbGxcIjp7XCJmaWxsLXNvcnQta2V5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ2aXNpYmlsaXR5XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widmlzaWJsZVwiOjEsXCJub25lXCI6MX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJleHByZXNzaW9uXCI6e30sXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJsYXlvdXRfY2lyY2xlXCI6e1wiY2lyY2xlLXNvcnQta2V5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ2aXNpYmlsaXR5XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widmlzaWJsZVwiOjEsXCJub25lXCI6MX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJleHByZXNzaW9uXCI6e30sXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJsYXlvdXRfaGVhdG1hcFwiOntcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6MSxcIm5vbmVcIjoxfSxcImRlZmF1bHRcIjpcInZpc2libGVcIixcImV4cHJlc3Npb25cIjp7fSxcInByb3BlcnR5LXR5cGVcIjpcImNvbnN0YW50XCJ9fSxcImxheW91dF9maWxsLWV4dHJ1c2lvblwiOntcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6MSxcIm5vbmVcIjoxfSxcImRlZmF1bHRcIjpcInZpc2libGVcIixcImV4cHJlc3Npb25cIjp7fSxcInByb3BlcnR5LXR5cGVcIjpcImNvbnN0YW50XCJ9LFwiZmlsbC1leHRydXNpb24tZWRnZS1yYWRpdXNcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcInByaXZhdGVcIjp0cnVlLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwiZXhwcmVzc2lvblwiOnt9LFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn19LFwibGF5b3V0X2xpbmVcIjp7XCJsaW5lLWNhcFwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImJ1dHRcIjoxLFwicm91bmRcIjoxLFwic3F1YXJlXCI6MX0sXCJkZWZhdWx0XCI6XCJidXR0XCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJsaW5lLWpvaW5cIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJiZXZlbFwiOjEsXCJyb3VuZFwiOjEsXCJtaXRlclwiOjF9LFwiZGVmYXVsdFwiOlwibWl0ZXJcIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImxpbmUtbWl0ZXItbGltaXRcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoyLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwibGluZS1yb3VuZC1saW1pdFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEuMDUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJsaW5lLXNvcnQta2V5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ2aXNpYmlsaXR5XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widmlzaWJsZVwiOjEsXCJub25lXCI6MX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJleHByZXNzaW9uXCI6e30sXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJsYXlvdXRfc3ltYm9sXCI6e1wic3ltYm9sLXBsYWNlbWVudFwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInBvaW50XCI6MSxcImxpbmVcIjoxLFwibGluZS1jZW50ZXJcIjoxfSxcImRlZmF1bHRcIjpcInBvaW50XCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInN5bWJvbC1zcGFjaW5nXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MjUwLFwibWluaW11bVwiOjEsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJzeW1ib2wtYXZvaWQtZWRnZXNcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInN5bWJvbC1zb3J0LWtleVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwic3ltYm9sLXotb3JkZXJcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJhdXRvXCI6MSxcInZpZXdwb3J0LXlcIjoxLFwic291cmNlXCI6MX0sXCJkZWZhdWx0XCI6XCJhdXRvXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInN5bWJvbC16LWVsZXZhdGVcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24tYWxsb3ctb3ZlcmxhcFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaWNvbi1pZ25vcmUtcGxhY2VtZW50XCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJpY29uLW9wdGlvbmFsXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJpY29uLXJvdGF0aW9uLWFsaWdubWVudFwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOjEsXCJ2aWV3cG9ydFwiOjEsXCJhdXRvXCI6MX0sXCJkZWZhdWx0XCI6XCJhdXRvXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24tc2l6ZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJpY29uLXRleHQtZml0XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibm9uZVwiOjEsXCJ3aWR0aFwiOjEsXCJoZWlnaHRcIjoxLFwiYm90aFwiOjF9LFwiZGVmYXVsdFwiOlwibm9uZVwiLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi10ZXh0LWZpdC1wYWRkaW5nXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjQsXCJkZWZhdWx0XCI6WzAsMCwwLDBdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24taW1hZ2VcIjp7XCJ0eXBlXCI6XCJyZXNvbHZlZEltYWdlXCIsXCJ0b2tlbnNcIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi1yb3RhdGVcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwicGVyaW9kXCI6MzYwLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24tcGFkZGluZ1wiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjIsXCJtaW5pbXVtXCI6MCxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24ta2VlcC11cHJpZ2h0XCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJpY29uLW9mZnNldFwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjoyLFwiZGVmYXVsdFwiOlswLDBdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24tYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiY2VudGVyXCI6MSxcImxlZnRcIjoxLFwicmlnaHRcIjoxLFwidG9wXCI6MSxcImJvdHRvbVwiOjEsXCJ0b3AtbGVmdFwiOjEsXCJ0b3AtcmlnaHRcIjoxLFwiYm90dG9tLWxlZnRcIjoxLFwiYm90dG9tLXJpZ2h0XCI6MX0sXCJkZWZhdWx0XCI6XCJjZW50ZXJcIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24tcGl0Y2gtYWxpZ25tZW50XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6MSxcInZpZXdwb3J0XCI6MSxcImF1dG9cIjoxfSxcImRlZmF1bHRcIjpcImF1dG9cIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC1waXRjaC1hbGlnbm1lbnRcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJtYXBcIjoxLFwidmlld3BvcnRcIjoxLFwiYXV0b1wiOjF9LFwiZGVmYXVsdFwiOlwiYXV0b1wiLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOjEsXCJ2aWV3cG9ydFwiOjEsXCJhdXRvXCI6MX0sXCJkZWZhdWx0XCI6XCJhdXRvXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInRleHQtZmllbGRcIjp7XCJ0eXBlXCI6XCJmb3JtYXR0ZWRcIixcImRlZmF1bHRcIjpcIlwiLFwidG9rZW5zXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtZm9udFwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwic3RyaW5nXCIsXCJkZWZhdWx0XCI6W1wiT3BlbiBTYW5zIFJlZ3VsYXJcIixcIkFyaWFsIFVuaWNvZGUgTVMgUmVndWxhclwiXSxcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtc2l6ZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjE2LFwibWluaW11bVwiOjAsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1tYXgtd2lkdGhcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxMCxcIm1pbmltdW1cIjowLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtbGluZS1oZWlnaHRcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLjIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1sZXR0ZXItc3BhY2luZ1wiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1qdXN0aWZ5XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiYXV0b1wiOjEsXCJsZWZ0XCI6MSxcImNlbnRlclwiOjEsXCJyaWdodFwiOjF9LFwiZGVmYXVsdFwiOlwiY2VudGVyXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LXJhZGlhbC1vZmZzZXRcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19fSxcInRleHQtdmFyaWFibGUtYW5jaG9yXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJjZW50ZXJcIjoxLFwibGVmdFwiOjEsXCJyaWdodFwiOjEsXCJ0b3BcIjoxLFwiYm90dG9tXCI6MSxcInRvcC1sZWZ0XCI6MSxcInRvcC1yaWdodFwiOjEsXCJib3R0b20tbGVmdFwiOjEsXCJib3R0b20tcmlnaHRcIjoxfSxcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC1hbmNob3JcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJjZW50ZXJcIjoxLFwibGVmdFwiOjEsXCJyaWdodFwiOjEsXCJ0b3BcIjoxLFwiYm90dG9tXCI6MSxcInRvcC1sZWZ0XCI6MSxcInRvcC1yaWdodFwiOjEsXCJib3R0b20tbGVmdFwiOjEsXCJib3R0b20tcmlnaHRcIjoxfSxcImRlZmF1bHRcIjpcImNlbnRlclwiLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1tYXgtYW5nbGVcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjo0NSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInRleHQtd3JpdGluZy1tb2RlXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJob3Jpem9udGFsXCI6MSxcInZlcnRpY2FsXCI6MX0sXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInRleHQtcm90YXRlXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcInBlcmlvZFwiOjM2MCxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LXBhZGRpbmdcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoyLFwibWluaW11bVwiOjAsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LWtlZXAtdXByaWdodFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LXRyYW5zZm9ybVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm5vbmVcIjoxLFwidXBwZXJjYXNlXCI6MSxcImxvd2VyY2FzZVwiOjF9LFwiZGVmYXVsdFwiOlwibm9uZVwiLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1vZmZzZXRcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LWFsbG93LW92ZXJsYXBcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInRleHQtaWdub3JlLXBsYWNlbWVudFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC1vcHRpb25hbFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjoxLFwibm9uZVwiOjF9LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwiLFwiZXhwcmVzc2lvblwiOnt9LFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn19LFwibGF5b3V0X3Jhc3RlclwiOntcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6MSxcIm5vbmVcIjoxfSxcImRlZmF1bHRcIjpcInZpc2libGVcIixcImV4cHJlc3Npb25cIjp7fSxcInByb3BlcnR5LXR5cGVcIjpcImNvbnN0YW50XCJ9fSxcImxheW91dF9oaWxsc2hhZGVcIjp7XCJ2aXNpYmlsaXR5XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widmlzaWJsZVwiOjEsXCJub25lXCI6MX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJleHByZXNzaW9uXCI6e30sXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJmaWx0ZXJcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIipcIn0sXCJmaWx0ZXJfc3ltYm9sXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwicGl0Y2hcIixcImRpc3RhbmNlLWZyb20tY2VudGVyXCJdfX0sXCJmaWx0ZXJfZmlsbFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19fSxcImZpbHRlcl9saW5lXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX19LFwiZmlsdGVyX2NpcmNsZVwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19fSxcImZpbHRlcl9maWxsLWV4dHJ1c2lvblwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19fSxcImZpbHRlcl9oZWF0bWFwXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX19LFwiZmlsdGVyX29wZXJhdG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiPT1cIjoxLFwiIT1cIjoxLFwiPlwiOjEsXCI+PVwiOjEsXCI8XCI6MSxcIjw9XCI6MSxcImluXCI6MSxcIiFpblwiOjEsXCJhbGxcIjoxLFwiYW55XCI6MSxcIm5vbmVcIjoxLFwiaGFzXCI6MSxcIiFoYXNcIjoxfX0sXCJnZW9tZXRyeV90eXBlXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiUG9pbnRcIjoxLFwiTGluZVN0cmluZ1wiOjEsXCJQb2x5Z29uXCI6MX19LFwiZnVuY3Rpb25cIjp7XCJleHByZXNzaW9uXCI6e1widHlwZVwiOlwiZXhwcmVzc2lvblwifSxcInN0b3BzXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJmdW5jdGlvbl9zdG9wXCJ9LFwiYmFzZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MH0sXCJwcm9wZXJ0eVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiZGVmYXVsdFwiOlwiJHpvb21cIn0sXCJ0eXBlXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiaWRlbnRpdHlcIjoxLFwiZXhwb25lbnRpYWxcIjoxLFwiaW50ZXJ2YWxcIjoxLFwiY2F0ZWdvcmljYWxcIjoxfSxcImRlZmF1bHRcIjpcImV4cG9uZW50aWFsXCJ9LFwiY29sb3JTcGFjZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInJnYlwiOjEsXCJsYWJcIjoxLFwiaGNsXCI6MX0sXCJkZWZhdWx0XCI6XCJyZ2JcIn0sXCJkZWZhdWx0XCI6e1widHlwZVwiOlwiKlwiLFwicmVxdWlyZWRcIjpmYWxzZX19LFwiZnVuY3Rpb25fc3RvcFwiOntcInR5cGVcIjpcImFycmF5XCIsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoyNCxcInZhbHVlXCI6W1wibnVtYmVyXCIsXCJjb2xvclwiXSxcImxlbmd0aFwiOjJ9LFwiZXhwcmVzc2lvblwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwiKlwiLFwibWluaW11bVwiOjF9LFwiZm9nXCI6e1wicmFuZ2VcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwiZGVmYXVsdFwiOlswLjUsMTBdLFwibWluaW11bVwiOi0yMCxcIm1heGltdW1cIjoyMCxcImxlbmd0aFwiOjIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcIm1lYXN1cmUtbGlnaHRcIl0sXCJyZWxheFpvb21SZXN0cmljdGlvblwiOnRydWV9fSxcImNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImRlZmF1bHRcIjpcIiNmZmZmZmZcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcIm1lYXN1cmUtbGlnaHRcIl0sXCJyZWxheFpvb21SZXN0cmljdGlvblwiOnRydWV9LFwidHJhbnNpdGlvblwiOnRydWV9LFwiaGlnaC1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJkZWZhdWx0XCI6XCIjMjQ1Y2RmXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJtZWFzdXJlLWxpZ2h0XCJdLFwicmVsYXhab29tUmVzdHJpY3Rpb25cIjp0cnVlfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcInNwYWNlLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImRlZmF1bHRcIjpbXCJpbnRlcnBvbGF0ZVwiLFtcImxpbmVhclwiXSxbXCJ6b29tXCJdLDQsXCIjMDEwYjE5XCIsNyxcIiMzNjdhYjlcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJtZWFzdXJlLWxpZ2h0XCJdLFwicmVsYXhab29tUmVzdHJpY3Rpb25cIjp0cnVlfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcImhvcml6b24tYmxlbmRcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImRlZmF1bHRcIjpbXCJpbnRlcnBvbGF0ZVwiLFtcImxpbmVhclwiXSxbXCJ6b29tXCJdLDQsMC4yLDcsMC4xXSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJtZWFzdXJlLWxpZ2h0XCJdLFwicmVsYXhab29tUmVzdHJpY3Rpb25cIjp0cnVlfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcInN0YXItaW50ZW5zaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJkZWZhdWx0XCI6W1wiaW50ZXJwb2xhdGVcIixbXCJsaW5lYXJcIl0sW1wiem9vbVwiXSw1LDAuMzUsNiwwXSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJtZWFzdXJlLWxpZ2h0XCJdLFwicmVsYXhab29tUmVzdHJpY3Rpb25cIjp0cnVlfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcInZlcnRpY2FsLXJhbmdlXCI6e1widHlwZVwiOlwiYXJyYXlcIixcImRlZmF1bHRcIjpbMCwwXSxcIm1pbmltdW1cIjowLFwibGVuZ3RoXCI6MixcInZhbHVlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwibWVhc3VyZS1saWdodFwiXSxcInJlbGF4Wm9vbVJlc3RyaWN0aW9uXCI6dHJ1ZX19fSxcImNhbWVyYVwiOntcImNhbWVyYS1wcm9qZWN0aW9uXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wicGVyc3BlY3RpdmVcIjoxLFwib3J0aG9ncmFwaGljXCI6MX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwiZGVmYXVsdFwiOlwicGVyc3BlY3RpdmVcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn19LFwibGlnaHRcIjp7XCJhbmNob3JcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJkZWZhdWx0XCI6XCJ2aWV3cG9ydFwiLFwidmFsdWVzXCI6e1wibWFwXCI6MSxcInZpZXdwb3J0XCI6MX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19fSxcInBvc2l0aW9uXCI6e1widHlwZVwiOlwiYXJyYXlcIixcImRlZmF1bHRcIjpbMS4xNSwyMTAsMzBdLFwibGVuZ3RoXCI6MyxcInZhbHVlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX19LFwiY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwiZGVmYXVsdFwiOlwiI2ZmZmZmZlwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZX0sXCJpbnRlbnNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImRlZmF1bHRcIjowLjUsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZX19LFwicHJvamVjdGlvblwiOntcIm5hbWVcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJhbGJlcnNcIjoxLFwiZXF1YWxFYXJ0aFwiOjEsXCJlcXVpcmVjdGFuZ3VsYXJcIjoxLFwibGFtYmVydENvbmZvcm1hbENvbmljXCI6MSxcIm1lcmNhdG9yXCI6MSxcIm5hdHVyYWxFYXJ0aFwiOjEsXCJ3aW5rZWxUcmlwZWxcIjoxLFwiZ2xvYmVcIjoxfSxcImRlZmF1bHRcIjpcIm1lcmNhdG9yXCIsXCJyZXF1aXJlZFwiOnRydWV9LFwiY2VudGVyXCI6e1widHlwZVwiOlwiYXJyYXlcIixcImxlbmd0aFwiOjIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJtaW5pbXVtXCI6Wy0xODAsLTkwXSxcIm1heGltdW1cIjpbMTgwLDkwXX0sXCJwYXJhbGxlbHNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwibGVuZ3RoXCI6MixcInZhbHVlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcIm1pbmltdW1cIjpbLTkwLC05MF0sXCJtYXhpbXVtXCI6WzkwLDkwXX19LFwidGVycmFpblwiOntcInNvdXJjZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwicmVxdWlyZWRcIjp0cnVlfSxcImV4YWdnZXJhdGlvblwiOntcInR5cGVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxMDAwLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZX19LFwicGFpbnRcIjpbXCJwYWludF9maWxsXCIsXCJwYWludF9saW5lXCIsXCJwYWludF9jaXJjbGVcIixcInBhaW50X2hlYXRtYXBcIixcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCIsXCJwYWludF9zeW1ib2xcIixcInBhaW50X3Jhc3RlclwiLFwicGFpbnRfaGlsbHNoYWRlXCIsXCJwYWludF9iYWNrZ3JvdW5kXCIsXCJwYWludF9za3lcIixcInBhaW50X21vZGVsXCJdLFwicGFpbnRfZmlsbFwiOntcImZpbGwtYW50aWFsaWFzXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImZpbGwtb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiZmlsbC1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJmaWxsLW91dGxpbmUtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiZmlsbC10cmFuc2xhdGVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiZmlsbC10cmFuc2xhdGUtYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6MSxcInZpZXdwb3J0XCI6MX0sXCJkZWZhdWx0XCI6XCJtYXBcIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiZmlsbC1wYXR0ZXJuXCI6e1widHlwZVwiOlwicmVzb2x2ZWRJbWFnZVwiLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiZmlsbC1lbWlzc2l2ZS1zdHJlbmd0aFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9fSxcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCI6e1wiZmlsbC1leHRydXNpb24tb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJmaWxsLWV4dHJ1c2lvbi1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlLWFuY2hvclwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOjEsXCJ2aWV3cG9ydFwiOjF9LFwiZGVmYXVsdFwiOlwibWFwXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIjp7XCJ0eXBlXCI6XCJyZXNvbHZlZEltYWdlXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJmaWxsLWV4dHJ1c2lvbi1oZWlnaHRcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJmaWxsLWV4dHJ1c2lvbi1iYXNlXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiZmlsbC1leHRydXNpb24tdmVydGljYWwtZ3JhZGllbnRcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24taW50ZW5zaXR5XCI6e1wicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwidHlwZVwiOlwibnVtYmVyXCIsXCJwcml2YXRlXCI6dHJ1ZSxcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24tcmFkaXVzXCI6e1wicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwidHlwZVwiOlwibnVtYmVyXCIsXCJwcml2YXRlXCI6dHJ1ZSxcImRlZmF1bHRcIjozLFwibWluaW11bVwiOjAsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLXdhbGwtcmFkaXVzXCI6e1wicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwidHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MyxcIm1pbmltdW1cIjowLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZX0sXCJmaWxsLWV4dHJ1c2lvbi1hbWJpZW50LW9jY2x1c2lvbi1ncm91bmQtcmFkaXVzXCI6e1wicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwidHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MyxcIm1pbmltdW1cIjowLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZX0sXCJmaWxsLWV4dHJ1c2lvbi1hbWJpZW50LW9jY2x1c2lvbi1ncm91bmQtYXR0ZW51YXRpb25cIjp7XCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLjY5LFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX19LFwiZmlsbC1leHRydXNpb24tZmxvb2QtbGlnaHQtY29sb3JcIjp7XCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiI2ZmZmZmZlwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfX0sXCJmaWxsLWV4dHJ1c2lvbi1mbG9vZC1saWdodC1pbnRlbnNpdHlcIjp7XCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwibWVhc3VyZS1saWdodFwiXX19LFwiZmlsbC1leHRydXNpb24tZmxvb2QtbGlnaHQtd2FsbC1yYWRpdXNcIjp7XCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwiLFwidHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfX0sXCJmaWxsLWV4dHJ1c2lvbi1mbG9vZC1saWdodC1ncm91bmQtcmFkaXVzXCI6e1wicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIixcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX19LFwiZmlsbC1leHRydXNpb24tZmxvb2QtbGlnaHQtZ3JvdW5kLWF0dGVudWF0aW9uXCI6e1wicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwidHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MC42OSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19fSxcImZpbGwtZXh0cnVzaW9uLXZlcnRpY2FsLXNjYWxlXCI6e1wicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwidHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfX0sXCJmaWxsLWV4dHJ1c2lvbi1yb3VuZGVkLXJvb2ZcIjp7XCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX19LFwiZmlsbC1leHRydXNpb24tY3V0b2ZmLWZhZGUtcmFuZ2VcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImV4cHJlc3Npb25cIjp7fSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJmaWxsLWV4dHJ1c2lvbi1lbWlzc2l2ZS1zdHJlbmd0aFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9fSxcInBhaW50X2xpbmVcIjp7XCJsaW5lLW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImxpbmUtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiIzAwMDAwMFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS10cmFuc2xhdGVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwibGluZS10cmFuc2xhdGUtYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6MSxcInZpZXdwb3J0XCI6MX0sXCJkZWZhdWx0XCI6XCJtYXBcIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwibGluZS13aWR0aFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImxpbmUtZ2FwLXdpZHRoXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS1vZmZzZXRcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS1ibHVyXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS1kYXNoYXJyYXlcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibWluaW11bVwiOjAsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJsaW5lLXBhdHRlcm5cIjp7XCJ0eXBlXCI6XCJyZXNvbHZlZEltYWdlXCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJsaW5lLWdyYWRpZW50XCI6e1widHlwZVwiOlwiY29sb3JcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcImxpbmUtcHJvZ3Jlc3NcIl19LFwicHJvcGVydHktdHlwZVwiOlwiY29sb3ItcmFtcFwifSxcImxpbmUtdHJpbS1vZmZzZXRcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcIm1pbmltdW1cIjpbMCwwXSxcIm1heGltdW1cIjpbMSwxXSxcInByb3BlcnR5LXR5cGVcIjpcImNvbnN0YW50XCJ9LFwibGluZS1lbWlzc2l2ZS1zdHJlbmd0aFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwibGluZS1ib3JkZXItd2lkdGhcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcInByaXZhdGVcIjp0cnVlLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImxpbmUtYm9yZGVyLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcInByaXZhdGVcIjp0cnVlLFwiZGVmYXVsdFwiOlwicmdiYSgwLCAwLCAwLCAwKVwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9fSxcInBhaW50X2NpcmNsZVwiOntcImNpcmNsZS1yYWRpdXNcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjo1LFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJjaXJjbGUtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiIzAwMDAwMFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiY2lyY2xlLWJsdXJcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiY2lyY2xlLW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImNpcmNsZS10cmFuc2xhdGVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiY2lyY2xlLXRyYW5zbGF0ZS1hbmNob3JcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJtYXBcIjoxLFwidmlld3BvcnRcIjoxfSxcImRlZmF1bHRcIjpcIm1hcFwiLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJjaXJjbGUtcGl0Y2gtc2NhbGVcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJtYXBcIjoxLFwidmlld3BvcnRcIjoxfSxcImRlZmF1bHRcIjpcIm1hcFwiLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJjaXJjbGUtcGl0Y2gtYWxpZ25tZW50XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6MSxcInZpZXdwb3J0XCI6MX0sXCJkZWZhdWx0XCI6XCJ2aWV3cG9ydFwiLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJjaXJjbGUtc3Ryb2tlLXdpZHRoXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiY2lyY2xlLXN0cm9rZS1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJjaXJjbGUtc3Ryb2tlLW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImNpcmNsZS1lbWlzc2l2ZS1zdHJlbmd0aFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9fSxcInBhaW50X2hlYXRtYXBcIjp7XCJoZWF0bWFwLXJhZGl1c1wiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjMwLFwibWluaW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJoZWF0bWFwLXdlaWdodFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJoZWF0bWFwLWludGVuc2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaGVhdG1hcC1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6W1wiaW50ZXJwb2xhdGVcIixbXCJsaW5lYXJcIl0sW1wiaGVhdG1hcC1kZW5zaXR5XCJdLDAsXCJyZ2JhKDAsIDAsIDI1NSwgMClcIiwwLjEsXCJyb3lhbGJsdWVcIiwwLjMsXCJjeWFuXCIsMC41LFwibGltZVwiLDAuNyxcInllbGxvd1wiLDEsXCJyZWRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJoZWF0bWFwLWRlbnNpdHlcIl19LFwicHJvcGVydHktdHlwZVwiOlwiY29sb3ItcmFtcFwifSxcImhlYXRtYXAtb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn19LFwicGFpbnRfc3ltYm9sXCI6e1wiaWNvbi1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJpY29uLWVtaXNzaXZlLXN0cmVuZ3RoXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1lbWlzc2l2ZS1zdHJlbmd0aFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24tY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiIzAwMDAwMFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi1oYWxvLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcInJnYmEoMCwgMCwgMCwgMClcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24taGFsby13aWR0aFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24taGFsby1ibHVyXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi10cmFuc2xhdGVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaWNvbi10cmFuc2xhdGUtYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6MSxcInZpZXdwb3J0XCI6MX0sXCJkZWZhdWx0XCI6XCJtYXBcIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaWNvbi1pbWFnZS1jcm9zcy1mYWRlXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZX0sXCJ0ZXh0LW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiIzAwMDAwMFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJvdmVycmlkYWJsZVwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1oYWxvLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcInJnYmEoMCwgMCwgMCwgMClcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtaGFsby13aWR0aFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtaGFsby1ibHVyXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC10cmFuc2xhdGVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC10cmFuc2xhdGUtYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6MSxcInZpZXdwb3J0XCI6MX0sXCJkZWZhdWx0XCI6XCJtYXBcIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaWNvbi1jb2xvci1zYXR1cmF0aW9uXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7fSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn19LFwicGFpbnRfcmFzdGVyXCI6e1wicmFzdGVyLW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwicmFzdGVyLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInJhc3Rlci12YWx1ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJjb2xvci1yYW1wXCJ9LFwicmFzdGVyLWNvbG9yLW1peFwiOntcInR5cGVcIjpcImFycmF5XCIsXCJkZWZhdWx0XCI6WzAuMjEyNiwwLjcxNTIsMC4wNzIyLDBdLFwibGVuZ3RoXCI6NCxcInZhbHVlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX19LFwicmFzdGVyLWNvbG9yLXJhbmdlXCI6e1widHlwZVwiOlwiYXJyYXlcIixcImRlZmF1bHRcIjpbMCwxXSxcImxlbmd0aFwiOjIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19fSxcInJhc3Rlci1odWUtcm90YXRlXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcInBlcmlvZFwiOjM2MCxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwicmFzdGVyLWJyaWdodG5lc3MtbWluXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInJhc3Rlci1icmlnaHRuZXNzLW1heFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJyYXN0ZXItc2F0dXJhdGlvblwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6LTEsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwicmFzdGVyLWNvbnRyYXN0XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjotMSxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJyYXN0ZXItcmVzYW1wbGluZ1wiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImxpbmVhclwiOjEsXCJuZWFyZXN0XCI6MX0sXCJkZWZhdWx0XCI6XCJsaW5lYXJcIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwicmFzdGVyLWZhZGUtZHVyYXRpb25cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjozMDAsXCJtaW5pbXVtXCI6MCxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInJhc3Rlci1lbWlzc2l2ZS1zdHJlbmd0aFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwicmFzdGVyLWFycmF5LWJhbmRcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcInJlcXVpcmVkXCI6ZmFsc2UsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwicmFzdGVyLWVsZXZhdGlvblwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9fSxcInBhaW50X2hpbGxzaGFkZVwiOntcImhpbGxzaGFkZS1pbGx1bWluYXRpb24tZGlyZWN0aW9uXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MzM1LFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MzU5LFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1hbmNob3JcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJtYXBcIjoxLFwidmlld3BvcnRcIjoxfSxcImRlZmF1bHRcIjpcInZpZXdwb3J0XCIsXCJleHByZXNzaW9uXCI6e1wicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImhpbGxzaGFkZS1leGFnZ2VyYXRpb25cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLjUsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJoaWxsc2hhZGUtc2hhZG93LWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIiMwMDAwMDBcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwibWVhc3VyZS1saWdodFwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaGlsbHNoYWRlLWhpZ2hsaWdodC1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjRkZGRkZGXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImhpbGxzaGFkZS1hY2NlbnQtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiIzAwMDAwMFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJtZWFzdXJlLWxpZ2h0XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJoaWxsc2hhZGUtZW1pc3NpdmUtc3RyZW5ndGhcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifX0sXCJwYWludF9iYWNrZ3JvdW5kXCI6e1wiYmFja2dyb3VuZC1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImJhY2tncm91bmQtcGF0dGVyblwiOntcInR5cGVcIjpcInJlc29sdmVkSW1hZ2VcIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiYmFja2dyb3VuZC1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImJhY2tncm91bmQtZW1pc3NpdmUtc3RyZW5ndGhcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcIm1lYXN1cmUtbGlnaHRcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifX0sXCJwYWludF9za3lcIjp7XCJza3ktdHlwZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImdyYWRpZW50XCI6MSxcImF0bW9zcGhlcmVcIjoxfSxcImRlZmF1bHRcIjpcImF0bW9zcGhlcmVcIixcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwic2t5LWF0bW9zcGhlcmUtc3VuXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjIsXCJtaW5pbXVtXCI6WzAsMF0sXCJtYXhpbXVtXCI6WzM2MCwxODBdLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJza3ktYXRtb3NwaGVyZS1zdW4taW50ZW5zaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MTAsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxMDAsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwic2t5LWdyYWRpZW50LWNlbnRlclwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6WzAsMF0sXCJsZW5ndGhcIjoyLFwibWluaW11bVwiOlswLDBdLFwibWF4aW11bVwiOlszNjAsMTgwXSxcImV4cHJlc3Npb25cIjp7XCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwic2t5LWdyYWRpZW50LXJhZGl1c1wiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjkwLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MTgwLFwiZXhwcmVzc2lvblwiOntcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJza3ktZ3JhZGllbnRcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOltcImludGVycG9sYXRlXCIsW1wibGluZWFyXCJdLFtcInNreS1yYWRpYWwtcHJvZ3Jlc3NcIl0sMC44LFwiIzg3Y2VlYlwiLDEsXCJ3aGl0ZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInNreS1yYWRpYWwtcHJvZ3Jlc3NcIl19LFwicHJvcGVydHktdHlwZVwiOlwiY29sb3ItcmFtcFwifSxcInNreS1hdG1vc3BoZXJlLWhhbG8tY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwid2hpdGVcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJza3ktYXRtb3NwaGVyZS1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCJ3aGl0ZVwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInNreS1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifX0sXCJwYWludF9tb2RlbFwiOntcIm1vZGVsLW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwibW9kZWwtcm90YXRpb25cIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MyxcImRlZmF1bHRcIjpbMCwwLDBdLFwicGVyaW9kXCI6MzYwLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwibW9kZWwtc2NhbGVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MyxcImRlZmF1bHRcIjpbMSwxLDFdLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwibW9kZWwtdHJhbnNsYXRpb25cIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MyxcImRlZmF1bHRcIjpbMCwwLDBdLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwibW9kZWwtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiI2ZmZmZmZlwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIixcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwibW9kZWwtY29sb3ItbWl4LWludGVuc2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwibW9kZWwtdHlwZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImNvbW1vbi0zZFwiOjEsXCJsb2NhdGlvbi1pbmRpY2F0b3JcIjoxfSxcImRlZmF1bHRcIjpcImNvbW1vbi0zZFwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcIm1vZGVsLWNhc3Qtc2hhZG93c1wiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjp0cnVlLFwiZXhwcmVzc2lvblwiOnt9LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcIm1vZGVsLXJlY2VpdmUtc2hhZG93c1wiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjp0cnVlLFwiZXhwcmVzc2lvblwiOnt9LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcIm1vZGVsLWFtYmllbnQtb2NjbHVzaW9uLWludGVuc2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZX0sXCJtb2RlbC1lbWlzc2l2ZS1zdHJlbmd0aFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6NSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwibW9kZWwtcm91Z2huZXNzXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZX0sXCJtb2RlbC1oZWlnaHQtYmFzZWQtZW1pc3NpdmUtc3RyZW5ndGgtbXVsdGlwbGllclwiOntcInR5cGVcIjpcImFycmF5XCIsXCJkZWZhdWx0XCI6WzEsMSwxLDEsMF0sXCJsZW5ndGhcIjo1LFwidmFsdWVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIixcIm1lYXN1cmUtbGlnaHRcIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwibW9kZWwtY3V0b2ZmLWZhZGUtcmFuZ2VcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImV4cHJlc3Npb25cIjp7fSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn19LFwidHJhbnNpdGlvblwiOntcImR1cmF0aW9uXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MzAwLFwibWluaW11bVwiOjB9LFwiZGVsYXlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjB9fSxcInByb3BlcnR5LXR5cGVcIjp7XCJkYXRhLWRyaXZlblwiOntcInR5cGVcIjpcInByb3BlcnR5LXR5cGVcIn0sXCJjb2xvci1yYW1wXCI6e1widHlwZVwiOlwicHJvcGVydHktdHlwZVwifSxcImRhdGEtY29uc3RhbnRcIjp7XCJ0eXBlXCI6XCJwcm9wZXJ0eS10eXBlXCJ9LFwiY29uc3RhbnRcIjp7XCJ0eXBlXCI6XCJwcm9wZXJ0eS10eXBlXCJ9fSxcInByb21vdGVJZFwiOntcIipcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIn19fScpO2NsYXNzIER0e2NvbnN0cnVjdG9yKGUsdCxpLHIpe3RoaXMubWVzc2FnZT0oZT9gJHtlfTogYDpcIlwiKStpLHImJih0aGlzLmlkZW50aWZpZXI9ciksbnVsbCE9dCYmdC5fX2xpbmVfXyYmKHRoaXMubGluZT10Ll9fbGluZV9fKTt9fWNsYXNzIFJ0IGV4dGVuZHMgRHR7fWZ1bmN0aW9uIEx0KGUsLi4udCl7Zm9yKGNvbnN0IGkgb2YgdClmb3IoY29uc3QgdCBpbiBpKWVbdF09aVt0XTtyZXR1cm4gZX1mdW5jdGlvbiBrdChlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIE51bWJlcnx8ZSBpbnN0YW5jZW9mIFN0cmluZ3x8ZSBpbnN0YW5jZW9mIEJvb2xlYW4/ZS52YWx1ZU9mKCk6ZX1mdW5jdGlvbiBPdChlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlLm1hcChPdCk7aWYoZSBpbnN0YW5jZW9mIE9iamVjdCYmIShlIGluc3RhbmNlb2YgTnVtYmVyfHxlIGluc3RhbmNlb2YgU3RyaW5nfHxlIGluc3RhbmNlb2YgQm9vbGVhbikpe2NvbnN0IHQ9e307Zm9yKGNvbnN0IGkgaW4gZSl0W2ldPU90KGVbaV0pO3JldHVybiB0fXJldHVybiBrdChlKX1jbGFzcyBCdCBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIodCksdGhpcy5tZXNzYWdlPXQsdGhpcy5rZXk9ZTt9fXZhciBGdD1CdDtjbGFzcyBOdHtjb25zdHJ1Y3RvcihlLHQ9W10pe3RoaXMucGFyZW50PWUsdGhpcy5iaW5kaW5ncz17fTtmb3IoY29uc3RbZSxpXW9mIHQpdGhpcy5iaW5kaW5nc1tlXT1pO31jb25jYXQoZSl7cmV0dXJuIG5ldyBOdCh0aGlzLGUpfWdldChlKXtpZih0aGlzLmJpbmRpbmdzW2VdKXJldHVybiB0aGlzLmJpbmRpbmdzW2VdO2lmKHRoaXMucGFyZW50KXJldHVybiB0aGlzLnBhcmVudC5nZXQoZSk7dGhyb3cgbmV3IEVycm9yKGAke2V9IG5vdCBmb3VuZCBpbiBzY29wZS5gKX1oYXMoZSl7cmV0dXJuICEhdGhpcy5iaW5kaW5nc1tlXXx8ISF0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuaGFzKGUpfX12YXIgVXQ9TnQ7Y29uc3QgVnQ9e2tpbmQ6XCJudWxsXCJ9LGp0PXtraW5kOlwibnVtYmVyXCJ9LEd0PXtraW5kOlwic3RyaW5nXCJ9LHF0PXtraW5kOlwiYm9vbGVhblwifSxadD17a2luZDpcImNvbG9yXCJ9LCR0PXtraW5kOlwib2JqZWN0XCJ9LFd0PXtraW5kOlwidmFsdWVcIn0sSHQ9e2tpbmQ6XCJjb2xsYXRvclwifSxYdD17a2luZDpcImZvcm1hdHRlZFwifSxZdD17a2luZDpcInJlc29sdmVkSW1hZ2VcIn07ZnVuY3Rpb24gS3QoZSx0KXtyZXR1cm4ge2tpbmQ6XCJhcnJheVwiLGl0ZW1UeXBlOmUsTjp0fX1mdW5jdGlvbiBKdChlKXtpZihcImFycmF5XCI9PT1lLmtpbmQpe2NvbnN0IHQ9SnQoZS5pdGVtVHlwZSk7cmV0dXJuIFwibnVtYmVyXCI9PXR5cGVvZiBlLk4/YGFycmF5PCR7dH0sICR7ZS5OfT5gOlwidmFsdWVcIj09PWUuaXRlbVR5cGUua2luZD9cImFycmF5XCI6YGFycmF5PCR7dH0+YH1yZXR1cm4gZS5raW5kfWNvbnN0IFF0PVtWdCxqdCxHdCxxdCxadCxYdCwkdCxLdChXdCksWXRdO2Z1bmN0aW9uIGVpKGUsdCl7aWYoXCJlcnJvclwiPT09dC5raW5kKXJldHVybiBudWxsO2lmKFwiYXJyYXlcIj09PWUua2luZCl7aWYoXCJhcnJheVwiPT09dC5raW5kJiYoMD09PXQuTiYmXCJ2YWx1ZVwiPT09dC5pdGVtVHlwZS5raW5kfHwhZWkoZS5pdGVtVHlwZSx0Lml0ZW1UeXBlKSkmJihcIm51bWJlclwiIT10eXBlb2YgZS5OfHxlLk49PT10Lk4pKXJldHVybiBudWxsfWVsc2Uge2lmKGUua2luZD09PXQua2luZClyZXR1cm4gbnVsbDtpZihcInZhbHVlXCI9PT1lLmtpbmQpZm9yKGNvbnN0IGUgb2YgUXQpaWYoIWVpKGUsdCkpcmV0dXJuIG51bGx9cmV0dXJuIGBFeHBlY3RlZCAke0p0KGUpfSBidXQgZm91bmQgJHtKdCh0KX0gaW5zdGVhZC5gfWZ1bmN0aW9uIHRpKGUsdCl7cmV0dXJuIHQuc29tZSgodD0+dC5raW5kPT09ZS5raW5kKSl9ZnVuY3Rpb24gaWkoZSx0KXtyZXR1cm4gdC5zb21lKCh0PT5cIm51bGxcIj09PXQ/bnVsbD09PWU6XCJhcnJheVwiPT09dD9BcnJheS5pc0FycmF5KGUpOlwib2JqZWN0XCI9PT10P2UmJiFBcnJheS5pc0FycmF5KGUpJiZcIm9iamVjdFwiPT10eXBlb2YgZTp0PT09dHlwZW9mIGUpKX12YXIgcmksbmk9e3RyYW5zcGFyZW50OlswLDAsMCwwXSxhbGljZWJsdWU6WzI0MCwyNDgsMjU1LDFdLGFudGlxdWV3aGl0ZTpbMjUwLDIzNSwyMTUsMV0sYXF1YTpbMCwyNTUsMjU1LDFdLGFxdWFtYXJpbmU6WzEyNywyNTUsMjEyLDFdLGF6dXJlOlsyNDAsMjU1LDI1NSwxXSxiZWlnZTpbMjQ1LDI0NSwyMjAsMV0sYmlzcXVlOlsyNTUsMjI4LDE5NiwxXSxibGFjazpbMCwwLDAsMV0sYmxhbmNoZWRhbG1vbmQ6WzI1NSwyMzUsMjA1LDFdLGJsdWU6WzAsMCwyNTUsMV0sYmx1ZXZpb2xldDpbMTM4LDQzLDIyNiwxXSxicm93bjpbMTY1LDQyLDQyLDFdLGJ1cmx5d29vZDpbMjIyLDE4NCwxMzUsMV0sY2FkZXRibHVlOls5NSwxNTgsMTYwLDFdLGNoYXJ0cmV1c2U6WzEyNywyNTUsMCwxXSxjaG9jb2xhdGU6WzIxMCwxMDUsMzAsMV0sY29yYWw6WzI1NSwxMjcsODAsMV0sY29ybmZsb3dlcmJsdWU6WzEwMCwxNDksMjM3LDFdLGNvcm5zaWxrOlsyNTUsMjQ4LDIyMCwxXSxjcmltc29uOlsyMjAsMjAsNjAsMV0sY3lhbjpbMCwyNTUsMjU1LDFdLGRhcmtibHVlOlswLDAsMTM5LDFdLGRhcmtjeWFuOlswLDEzOSwxMzksMV0sZGFya2dvbGRlbnJvZDpbMTg0LDEzNCwxMSwxXSxkYXJrZ3JheTpbMTY5LDE2OSwxNjksMV0sZGFya2dyZWVuOlswLDEwMCwwLDFdLGRhcmtncmV5OlsxNjksMTY5LDE2OSwxXSxkYXJra2hha2k6WzE4OSwxODMsMTA3LDFdLGRhcmttYWdlbnRhOlsxMzksMCwxMzksMV0sZGFya29saXZlZ3JlZW46Wzg1LDEwNyw0NywxXSxkYXJrb3JhbmdlOlsyNTUsMTQwLDAsMV0sZGFya29yY2hpZDpbMTUzLDUwLDIwNCwxXSxkYXJrcmVkOlsxMzksMCwwLDFdLGRhcmtzYWxtb246WzIzMywxNTAsMTIyLDFdLGRhcmtzZWFncmVlbjpbMTQzLDE4OCwxNDMsMV0sZGFya3NsYXRlYmx1ZTpbNzIsNjEsMTM5LDFdLGRhcmtzbGF0ZWdyYXk6WzQ3LDc5LDc5LDFdLGRhcmtzbGF0ZWdyZXk6WzQ3LDc5LDc5LDFdLGRhcmt0dXJxdW9pc2U6WzAsMjA2LDIwOSwxXSxkYXJrdmlvbGV0OlsxNDgsMCwyMTEsMV0sZGVlcHBpbms6WzI1NSwyMCwxNDcsMV0sZGVlcHNreWJsdWU6WzAsMTkxLDI1NSwxXSxkaW1ncmF5OlsxMDUsMTA1LDEwNSwxXSxkaW1ncmV5OlsxMDUsMTA1LDEwNSwxXSxkb2RnZXJibHVlOlszMCwxNDQsMjU1LDFdLGZpcmVicmljazpbMTc4LDM0LDM0LDFdLGZsb3JhbHdoaXRlOlsyNTUsMjUwLDI0MCwxXSxmb3Jlc3RncmVlbjpbMzQsMTM5LDM0LDFdLGZ1Y2hzaWE6WzI1NSwwLDI1NSwxXSxnYWluc2Jvcm86WzIyMCwyMjAsMjIwLDFdLGdob3N0d2hpdGU6WzI0OCwyNDgsMjU1LDFdLGdvbGQ6WzI1NSwyMTUsMCwxXSxnb2xkZW5yb2Q6WzIxOCwxNjUsMzIsMV0sZ3JheTpbMTI4LDEyOCwxMjgsMV0sZ3JlZW46WzAsMTI4LDAsMV0sZ3JlZW55ZWxsb3c6WzE3MywyNTUsNDcsMV0sZ3JleTpbMTI4LDEyOCwxMjgsMV0saG9uZXlkZXc6WzI0MCwyNTUsMjQwLDFdLGhvdHBpbms6WzI1NSwxMDUsMTgwLDFdLGluZGlhbnJlZDpbMjA1LDkyLDkyLDFdLGluZGlnbzpbNzUsMCwxMzAsMV0saXZvcnk6WzI1NSwyNTUsMjQwLDFdLGtoYWtpOlsyNDAsMjMwLDE0MCwxXSxsYXZlbmRlcjpbMjMwLDIzMCwyNTAsMV0sbGF2ZW5kZXJibHVzaDpbMjU1LDI0MCwyNDUsMV0sbGF3bmdyZWVuOlsxMjQsMjUyLDAsMV0sbGVtb25jaGlmZm9uOlsyNTUsMjUwLDIwNSwxXSxsaWdodGJsdWU6WzE3MywyMTYsMjMwLDFdLGxpZ2h0Y29yYWw6WzI0MCwxMjgsMTI4LDFdLGxpZ2h0Y3lhbjpbMjI0LDI1NSwyNTUsMV0sbGlnaHRnb2xkZW5yb2R5ZWxsb3c6WzI1MCwyNTAsMjEwLDFdLGxpZ2h0Z3JheTpbMjExLDIxMSwyMTEsMV0sbGlnaHRncmVlbjpbMTQ0LDIzOCwxNDQsMV0sbGlnaHRncmV5OlsyMTEsMjExLDIxMSwxXSxsaWdodHBpbms6WzI1NSwxODIsMTkzLDFdLGxpZ2h0c2FsbW9uOlsyNTUsMTYwLDEyMiwxXSxsaWdodHNlYWdyZWVuOlszMiwxNzgsMTcwLDFdLGxpZ2h0c2t5Ymx1ZTpbMTM1LDIwNiwyNTAsMV0sbGlnaHRzbGF0ZWdyYXk6WzExOSwxMzYsMTUzLDFdLGxpZ2h0c2xhdGVncmV5OlsxMTksMTM2LDE1MywxXSxsaWdodHN0ZWVsYmx1ZTpbMTc2LDE5NiwyMjIsMV0sbGlnaHR5ZWxsb3c6WzI1NSwyNTUsMjI0LDFdLGxpbWU6WzAsMjU1LDAsMV0sbGltZWdyZWVuOls1MCwyMDUsNTAsMV0sbGluZW46WzI1MCwyNDAsMjMwLDFdLG1hZ2VudGE6WzI1NSwwLDI1NSwxXSxtYXJvb246WzEyOCwwLDAsMV0sbWVkaXVtYXF1YW1hcmluZTpbMTAyLDIwNSwxNzAsMV0sbWVkaXVtYmx1ZTpbMCwwLDIwNSwxXSxtZWRpdW1vcmNoaWQ6WzE4Niw4NSwyMTEsMV0sbWVkaXVtcHVycGxlOlsxNDcsMTEyLDIxOSwxXSxtZWRpdW1zZWFncmVlbjpbNjAsMTc5LDExMywxXSxtZWRpdW1zbGF0ZWJsdWU6WzEyMywxMDQsMjM4LDFdLG1lZGl1bXNwcmluZ2dyZWVuOlswLDI1MCwxNTQsMV0sbWVkaXVtdHVycXVvaXNlOls3MiwyMDksMjA0LDFdLG1lZGl1bXZpb2xldHJlZDpbMTk5LDIxLDEzMywxXSxtaWRuaWdodGJsdWU6WzI1LDI1LDExMiwxXSxtaW50Y3JlYW06WzI0NSwyNTUsMjUwLDFdLG1pc3R5cm9zZTpbMjU1LDIyOCwyMjUsMV0sbW9jY2FzaW46WzI1NSwyMjgsMTgxLDFdLG5hdmFqb3doaXRlOlsyNTUsMjIyLDE3MywxXSxuYXZ5OlswLDAsMTI4LDFdLG9sZGxhY2U6WzI1MywyNDUsMjMwLDFdLG9saXZlOlsxMjgsMTI4LDAsMV0sb2xpdmVkcmFiOlsxMDcsMTQyLDM1LDFdLG9yYW5nZTpbMjU1LDE2NSwwLDFdLG9yYW5nZXJlZDpbMjU1LDY5LDAsMV0sb3JjaGlkOlsyMTgsMTEyLDIxNCwxXSxwYWxlZ29sZGVucm9kOlsyMzgsMjMyLDE3MCwxXSxwYWxlZ3JlZW46WzE1MiwyNTEsMTUyLDFdLHBhbGV0dXJxdW9pc2U6WzE3NSwyMzgsMjM4LDFdLHBhbGV2aW9sZXRyZWQ6WzIxOSwxMTIsMTQ3LDFdLHBhcGF5YXdoaXA6WzI1NSwyMzksMjEzLDFdLHBlYWNocHVmZjpbMjU1LDIxOCwxODUsMV0scGVydTpbMjA1LDEzMyw2MywxXSxwaW5rOlsyNTUsMTkyLDIwMywxXSxwbHVtOlsyMjEsMTYwLDIyMSwxXSxwb3dkZXJibHVlOlsxNzYsMjI0LDIzMCwxXSxwdXJwbGU6WzEyOCwwLDEyOCwxXSxyZWJlY2NhcHVycGxlOlsxMDIsNTEsMTUzLDFdLHJlZDpbMjU1LDAsMCwxXSxyb3N5YnJvd246WzE4OCwxNDMsMTQzLDFdLHJveWFsYmx1ZTpbNjUsMTA1LDIyNSwxXSxzYWRkbGVicm93bjpbMTM5LDY5LDE5LDFdLHNhbG1vbjpbMjUwLDEyOCwxMTQsMV0sc2FuZHlicm93bjpbMjQ0LDE2NCw5NiwxXSxzZWFncmVlbjpbNDYsMTM5LDg3LDFdLHNlYXNoZWxsOlsyNTUsMjQ1LDIzOCwxXSxzaWVubmE6WzE2MCw4Miw0NSwxXSxzaWx2ZXI6WzE5MiwxOTIsMTkyLDFdLHNreWJsdWU6WzEzNSwyMDYsMjM1LDFdLHNsYXRlYmx1ZTpbMTA2LDkwLDIwNSwxXSxzbGF0ZWdyYXk6WzExMiwxMjgsMTQ0LDFdLHNsYXRlZ3JleTpbMTEyLDEyOCwxNDQsMV0sc25vdzpbMjU1LDI1MCwyNTAsMV0sc3ByaW5nZ3JlZW46WzAsMjU1LDEyNywxXSxzdGVlbGJsdWU6WzcwLDEzMCwxODAsMV0sdGFuOlsyMTAsMTgwLDE0MCwxXSx0ZWFsOlswLDEyOCwxMjgsMV0sdGhpc3RsZTpbMjE2LDE5MSwyMTYsMV0sdG9tYXRvOlsyNTUsOTksNzEsMV0sdHVycXVvaXNlOls2NCwyMjQsMjA4LDFdLHZpb2xldDpbMjM4LDEzMCwyMzgsMV0sd2hlYXQ6WzI0NSwyMjIsMTc5LDFdLHdoaXRlOlsyNTUsMjU1LDI1NSwxXSx3aGl0ZXNtb2tlOlsyNDUsMjQ1LDI0NSwxXSx5ZWxsb3c6WzI1NSwyNTUsMCwxXSx5ZWxsb3dncmVlbjpbMTU0LDIwNSw1MCwxXX07ZnVuY3Rpb24gb2koZSl7cmV0dXJuIChlPU1hdGgucm91bmQoZSkpPDA/MDplPjI1NT8yNTU6ZX1mdW5jdGlvbiBzaShlKXtyZXR1cm4gb2koXCIlXCI9PT1lW2UubGVuZ3RoLTFdP3BhcnNlRmxvYXQoZSkvMTAwKjI1NTpwYXJzZUludChlKSl9ZnVuY3Rpb24gYWkoZSl7cmV0dXJuICh0PVwiJVwiPT09ZVtlLmxlbmd0aC0xXT9wYXJzZUZsb2F0KGUpLzEwMDpwYXJzZUZsb2F0KGUpKTwwPzA6dD4xPzE6dDt2YXIgdDt9ZnVuY3Rpb24gbGkoZSx0LGkpe3JldHVybiBpPDA/aSs9MTppPjEmJihpLT0xKSw2Kmk8MT9lKyh0LWUpKmkqNjoyKmk8MT90OjMqaTwyP2UrKHQtZSkqKDIvMy1pKSo2OmV9dHJ5e3JpPXt9LnBhcnNlQ1NTQ29sb3I9ZnVuY3Rpb24oZSl7dmFyIHQsaT1lLnJlcGxhY2UoLyAvZyxcIlwiKS50b0xvd2VyQ2FzZSgpO2lmKGkgaW4gbmkpcmV0dXJuIG5pW2ldLnNsaWNlKCk7aWYoXCIjXCI9PT1pWzBdKXJldHVybiA0PT09aS5sZW5ndGg/KHQ9cGFyc2VJbnQoaS5zdWJzdHIoMSksMTYpKT49MCYmdDw9NDA5NT9bKDM4NDAmdCk+PjR8KDM4NDAmdCk+PjgsMjQwJnR8KDI0MCZ0KT4+NCwxNSZ0fCgxNSZ0KTw8NCwxXTpudWxsOjc9PT1pLmxlbmd0aCYmKHQ9cGFyc2VJbnQoaS5zdWJzdHIoMSksMTYpKT49MCYmdDw9MTY3NzcyMTU/WygxNjcxMTY4MCZ0KT4+MTYsKDY1MjgwJnQpPj44LDI1NSZ0LDFdOm51bGw7dmFyIHI9aS5pbmRleE9mKFwiKFwiKSxuPWkuaW5kZXhPZihcIilcIik7aWYoLTEhPT1yJiZuKzE9PT1pLmxlbmd0aCl7dmFyIG89aS5zdWJzdHIoMCxyKSxzPWkuc3Vic3RyKHIrMSxuLShyKzEpKS5zcGxpdChcIixcIiksYT0xO3N3aXRjaChvKXtjYXNlXCJyZ2JhXCI6aWYoNCE9PXMubGVuZ3RoKXJldHVybiBudWxsO2E9YWkocy5wb3AoKSk7Y2FzZVwicmdiXCI6cmV0dXJuIDMhPT1zLmxlbmd0aD9udWxsOltzaShzWzBdKSxzaShzWzFdKSxzaShzWzJdKSxhXTtjYXNlXCJoc2xhXCI6aWYoNCE9PXMubGVuZ3RoKXJldHVybiBudWxsO2E9YWkocy5wb3AoKSk7Y2FzZVwiaHNsXCI6aWYoMyE9PXMubGVuZ3RoKXJldHVybiBudWxsO3ZhciBsPShwYXJzZUZsb2F0KHNbMF0pJTM2MCszNjApJTM2MC8zNjAsYz1haShzWzFdKSxoPWFpKHNbMl0pLHU9aDw9LjU/aCooYysxKTpoK2MtaCpjLGQ9MipoLXU7cmV0dXJuIFtvaSgyNTUqbGkoZCx1LGwrMS8zKSksb2koMjU1KmxpKGQsdSxsKSksb2koMjU1KmxpKGQsdSxsLTEvMykpLGFdO2RlZmF1bHQ6cmV0dXJuIG51bGx9fXJldHVybiBudWxsfTt9Y2F0Y2goZSl7fWNsYXNzIGNpe2NvbnN0cnVjdG9yKGUsdCxpLHI9MSl7dGhpcy5yPWUsdGhpcy5nPXQsdGhpcy5iPWksdGhpcy5hPXI7fXN0YXRpYyBwYXJzZShlKXtpZighZSlyZXR1cm47aWYoZSBpbnN0YW5jZW9mIGNpKXJldHVybiBlO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybjtjb25zdCB0PXJpKGUpO3JldHVybiB0P25ldyBjaSh0WzBdLzI1NSp0WzNdLHRbMV0vMjU1KnRbM10sdFsyXS8yNTUqdFszXSx0WzNdKTp2b2lkIDB9dG9TdHJpbmcoKXtjb25zdFtlLHQsaSxyXT10aGlzLnRvQXJyYXkoKTtyZXR1cm4gYHJnYmEoJHtNYXRoLnJvdW5kKGUpfSwke01hdGgucm91bmQodCl9LCR7TWF0aC5yb3VuZChpKX0sJHtyfSlgfXRvQXJyYXkoKXtjb25zdHtyOmUsZzp0LGI6aSxhOnJ9PXRoaXM7cmV0dXJuIDA9PT1yP1swLDAsMCwwXTpbMjU1KmUvciwyNTUqdC9yLDI1NSppL3Iscl19dG9BcnJheTAxKCl7Y29uc3R7cjplLGc6dCxiOmksYTpyfT10aGlzO3JldHVybiAwPT09cj9bMCwwLDAsMF06W2Uvcix0L3IsaS9yLHJdfXRvQXJyYXkwMVNjYWxlZChlKXtjb25zdHtyOnQsZzppLGI6cixhOm59PXRoaXM7cmV0dXJuIDA9PT1uP1swLDAsMF06W3QvbiplLGkvbiplLHIvbiplXX10b0FycmF5MDFQcmVtdWx0aXBsaWVkQWxwaGEoKXtjb25zdHtyOmUsZzp0LGI6aSxhOnJ9PXRoaXM7cmV0dXJuIFtlLHQsaSxyXX10b0FycmF5MDFMaW5lYXIoKXtjb25zdHtyOmUsZzp0LGI6aSxhOnJ9PXRoaXM7cmV0dXJuIDA9PT1yP1swLDAsMCwwXTpbTWF0aC5wb3coZS9yLDIuMiksTWF0aC5wb3codC9yLDIuMiksTWF0aC5wb3coaS9yLDIuMikscl19fWNpLmJsYWNrPW5ldyBjaSgwLDAsMCwxKSxjaS53aGl0ZT1uZXcgY2koMSwxLDEsMSksY2kudHJhbnNwYXJlbnQ9bmV3IGNpKDAsMCwwLDApLGNpLnJlZD1uZXcgY2koMSwwLDAsMSksY2kuYmx1ZT1uZXcgY2koMCwwLDEsMSk7dmFyIGhpPWNpO2NsYXNzIHVpe2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLnNlbnNpdGl2aXR5PWU/dD9cInZhcmlhbnRcIjpcImNhc2VcIjp0P1wiYWNjZW50XCI6XCJiYXNlXCIsdGhpcy5sb2NhbGU9aSx0aGlzLmNvbGxhdG9yPW5ldyBJbnRsLkNvbGxhdG9yKHRoaXMubG9jYWxlP3RoaXMubG9jYWxlOltdLHtzZW5zaXRpdml0eTp0aGlzLnNlbnNpdGl2aXR5LHVzYWdlOlwic2VhcmNoXCJ9KTt9Y29tcGFyZShlLHQpe3JldHVybiB0aGlzLmNvbGxhdG9yLmNvbXBhcmUoZSx0KX1yZXNvbHZlZExvY2FsZSgpe3JldHVybiBuZXcgSW50bC5Db2xsYXRvcih0aGlzLmxvY2FsZT90aGlzLmxvY2FsZTpbXSkucmVzb2x2ZWRPcHRpb25zKCkubG9jYWxlfX1jbGFzcyBkaXtjb25zdHJ1Y3RvcihlLHQsaSxyLG4pe3RoaXMudGV4dD1lLm5vcm1hbGl6ZT9lLm5vcm1hbGl6ZSgpOmUsdGhpcy5pbWFnZT10LHRoaXMuc2NhbGU9aSx0aGlzLmZvbnRTdGFjaz1yLHRoaXMudGV4dENvbG9yPW47fX1jbGFzcyBwaXtjb25zdHJ1Y3RvcihlKXt0aGlzLnNlY3Rpb25zPWU7fXN0YXRpYyBmcm9tU3RyaW5nKGUpe3JldHVybiBuZXcgcGkoW25ldyBkaShlLG51bGwsbnVsbCxudWxsLG51bGwpXSl9aXNFbXB0eSgpe3JldHVybiAwPT09dGhpcy5zZWN0aW9ucy5sZW5ndGh8fCF0aGlzLnNlY3Rpb25zLnNvbWUoKGU9PjAhPT1lLnRleHQubGVuZ3RofHxlLmltYWdlJiYwIT09ZS5pbWFnZS5uYW1lUHJpbWFyeS5sZW5ndGgpKX1zdGF0aWMgZmFjdG9yeShlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHBpP2U6cGkuZnJvbVN0cmluZyhlKX10b1N0cmluZygpe3JldHVybiAwPT09dGhpcy5zZWN0aW9ucy5sZW5ndGg/XCJcIjp0aGlzLnNlY3Rpb25zLm1hcCgoZT0+ZS50ZXh0KSkuam9pbihcIlwiKX1zZXJpYWxpemUoKXtjb25zdCBlPVtcImZvcm1hdFwiXTtmb3IoY29uc3QgdCBvZiB0aGlzLnNlY3Rpb25zKXtpZih0LmltYWdlKXtlLnB1c2goW1wiaW1hZ2VcIix0LmltYWdlLm5hbWVQcmltYXJ5XSk7Y29udGludWV9ZS5wdXNoKHQudGV4dCk7Y29uc3QgaT17fTt0LmZvbnRTdGFjayYmKGlbXCJ0ZXh0LWZvbnRcIl09W1wibGl0ZXJhbFwiLHQuZm9udFN0YWNrLnNwbGl0KFwiLFwiKV0pLHQuc2NhbGUmJihpW1wiZm9udC1zY2FsZVwiXT10LnNjYWxlKSx0LnRleHRDb2xvciYmKGlbXCJ0ZXh0LWNvbG9yXCJdPVtcInJnYmFcIl0uY29uY2F0KHQudGV4dENvbG9yLnRvQXJyYXkoKSkpLGUucHVzaChpKTt9cmV0dXJuIGV9fWNsYXNzIGZpe2NvbnN0cnVjdG9yKGUpe3RoaXMubmFtZVByaW1hcnk9ZS5uYW1lUHJpbWFyeSxlLm5hbWVTZWNvbmRhcnkmJih0aGlzLm5hbWVTZWNvbmRhcnk9ZS5uYW1lU2Vjb25kYXJ5KSx0aGlzLmF2YWlsYWJsZT1lLmF2YWlsYWJsZTt9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5uYW1lU2Vjb25kYXJ5P2BbJHt0aGlzLm5hbWVQcmltYXJ5fSwke3RoaXMubmFtZVNlY29uZGFyeX1dYDp0aGlzLm5hbWVQcmltYXJ5fXN0YXRpYyBmcm9tU3RyaW5nKGUsdCl7cmV0dXJuIGU/bmV3IGZpKHtuYW1lUHJpbWFyeTplLG5hbWVTZWNvbmRhcnk6dCxhdmFpbGFibGU6ITF9KTpudWxsfXNlcmlhbGl6ZSgpe3JldHVybiB0aGlzLm5hbWVTZWNvbmRhcnk/W1wiaW1hZ2VcIix0aGlzLm5hbWVQcmltYXJ5LHRoaXMubmFtZVNlY29uZGFyeV06W1wiaW1hZ2VcIix0aGlzLm5hbWVQcmltYXJ5XX19ZnVuY3Rpb24gbWkoZSx0LGkscil7cmV0dXJuIFwibnVtYmVyXCI9PXR5cGVvZiBlJiZlPj0wJiZlPD0yNTUmJlwibnVtYmVyXCI9PXR5cGVvZiB0JiZ0Pj0wJiZ0PD0yNTUmJlwibnVtYmVyXCI9PXR5cGVvZiBpJiZpPj0wJiZpPD0yNTU/dm9pZCAwPT09cnx8XCJudW1iZXJcIj09dHlwZW9mIHImJnI+PTAmJnI8PTE/bnVsbDpgSW52YWxpZCByZ2JhIHZhbHVlIFske1tlLHQsaSxyXS5qb2luKFwiLCBcIil9XTogJ2EnIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxLmA6YEludmFsaWQgcmdiYSB2YWx1ZSBbJHsoXCJudW1iZXJcIj09dHlwZW9mIHI/W2UsdCxpLHJdOltlLHQsaV0pLmpvaW4oXCIsIFwiKX1dOiAncicsICdnJywgYW5kICdiJyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMjU1LmB9ZnVuY3Rpb24gX2koZSl7aWYobnVsbD09PWUpcmV0dXJuICEwO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiAhMDtpZihcImJvb2xlYW5cIj09dHlwZW9mIGUpcmV0dXJuICEwO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlKXJldHVybiAhMDtpZihlIGluc3RhbmNlb2YgaGkpcmV0dXJuICEwO2lmKGUgaW5zdGFuY2VvZiB1aSlyZXR1cm4gITA7aWYoZSBpbnN0YW5jZW9mIHBpKXJldHVybiAhMDtpZihlIGluc3RhbmNlb2YgZmkpcmV0dXJuICEwO2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcihjb25zdCB0IG9mIGUpaWYoIV9pKHQpKXJldHVybiAhMTtyZXR1cm4gITB9aWYoXCJvYmplY3RcIj09dHlwZW9mIGUpe2Zvcihjb25zdCB0IGluIGUpaWYoIV9pKGVbdF0pKXJldHVybiAhMTtyZXR1cm4gITB9cmV0dXJuICExfWZ1bmN0aW9uIGdpKGUpe2lmKG51bGw9PT1lKXJldHVybiBWdDtpZihcInN0cmluZ1wiPT10eXBlb2YgZSlyZXR1cm4gR3Q7aWYoXCJib29sZWFuXCI9PXR5cGVvZiBlKXJldHVybiBxdDtpZihcIm51bWJlclwiPT10eXBlb2YgZSlyZXR1cm4ganQ7aWYoZSBpbnN0YW5jZW9mIGhpKXJldHVybiBadDtpZihlIGluc3RhbmNlb2YgdWkpcmV0dXJuIEh0O2lmKGUgaW5zdGFuY2VvZiBwaSlyZXR1cm4gWHQ7aWYoZSBpbnN0YW5jZW9mIGZpKXJldHVybiBZdDtpZihBcnJheS5pc0FycmF5KGUpKXtjb25zdCB0PWUubGVuZ3RoO2xldCBpO2Zvcihjb25zdCB0IG9mIGUpe2NvbnN0IGU9Z2kodCk7aWYoaSl7aWYoaT09PWUpY29udGludWU7aT1XdDticmVha31pPWU7fXJldHVybiBLdChpfHxXdCx0KX1yZXR1cm4gJHR9ZnVuY3Rpb24geWkoZSl7Y29uc3QgdD10eXBlb2YgZTtyZXR1cm4gbnVsbD09PWU/XCJcIjpcInN0cmluZ1wiPT09dHx8XCJudW1iZXJcIj09PXR8fFwiYm9vbGVhblwiPT09dD9TdHJpbmcoZSk6ZSBpbnN0YW5jZW9mIGhpfHxlIGluc3RhbmNlb2YgcGl8fGUgaW5zdGFuY2VvZiBmaT9lLnRvU3RyaW5nKCk6SlNPTi5zdHJpbmdpZnkoZSl9Y2xhc3MgeGl7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnR5cGU9ZSx0aGlzLnZhbHVlPXQ7fXN0YXRpYyBwYXJzZShlLHQpe2lmKDIhPT1lLmxlbmd0aClyZXR1cm4gdC5lcnJvcihgJ2xpdGVyYWwnIGV4cHJlc3Npb24gcmVxdWlyZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIGJ1dCBmb3VuZCAke2UubGVuZ3RoLTF9IGluc3RlYWQuYCk7aWYoIV9pKGVbMV0pKXJldHVybiB0LmVycm9yKFwiaW52YWxpZCB2YWx1ZVwiKTtjb25zdCBpPWVbMV07bGV0IHI9Z2koaSk7Y29uc3Qgbj10LmV4cGVjdGVkVHlwZTtyZXR1cm4gXCJhcnJheVwiIT09ci5raW5kfHwwIT09ci5OfHwhbnx8XCJhcnJheVwiIT09bi5raW5kfHxcIm51bWJlclwiPT10eXBlb2Ygbi5OJiYwIT09bi5OfHwocj1uKSxuZXcgeGkocixpKX1ldmFsdWF0ZSgpe3JldHVybiB0aGlzLnZhbHVlfWVhY2hDaGlsZCgpe31vdXRwdXREZWZpbmVkKCl7cmV0dXJuICEwfXNlcmlhbGl6ZSgpe3JldHVybiBcImFycmF5XCI9PT10aGlzLnR5cGUua2luZHx8XCJvYmplY3RcIj09PXRoaXMudHlwZS5raW5kP1tcImxpdGVyYWxcIix0aGlzLnZhbHVlXTp0aGlzLnZhbHVlIGluc3RhbmNlb2YgaGk/W1wicmdiYVwiXS5jb25jYXQodGhpcy52YWx1ZS50b0FycmF5KCkpOnRoaXMudmFsdWUgaW5zdGFuY2VvZiBwaT90aGlzLnZhbHVlLnNlcmlhbGl6ZSgpOnRoaXMudmFsdWV9fXZhciB2aT14aSxiaT1jbGFzc3tjb25zdHJ1Y3RvcihlKXt0aGlzLm5hbWU9XCJFeHByZXNzaW9uRXZhbHVhdGlvbkVycm9yXCIsdGhpcy5tZXNzYWdlPWU7fXRvSlNPTigpe3JldHVybiB0aGlzLm1lc3NhZ2V9fTtjb25zdCB3aT17c3RyaW5nOkd0LG51bWJlcjpqdCxib29sZWFuOnF0LG9iamVjdDokdH07Y2xhc3MgVGl7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnR5cGU9ZSx0aGlzLmFyZ3M9dDt9c3RhdGljIHBhcnNlKGUsdCl7aWYoZS5sZW5ndGg8MilyZXR1cm4gdC5lcnJvcihcIkV4cGVjdGVkIGF0IGxlYXN0IG9uZSBhcmd1bWVudC5cIik7bGV0IGkscj0xO2NvbnN0IG49ZVswXTtpZihcImFycmF5XCI9PT1uKXtsZXQgbixvO2lmKGUubGVuZ3RoPjIpe2NvbnN0IGk9ZVsxXTtpZihcInN0cmluZ1wiIT10eXBlb2YgaXx8IShpIGluIHdpKXx8XCJvYmplY3RcIj09PWkpcmV0dXJuIHQuZXJyb3IoJ1RoZSBpdGVtIHR5cGUgYXJndW1lbnQgb2YgXCJhcnJheVwiIG11c3QgYmUgb25lIG9mIHN0cmluZywgbnVtYmVyLCBib29sZWFuJywxKTtuPXdpW2ldLHIrKzt9ZWxzZSBuPVd0O2lmKGUubGVuZ3RoPjMpe2lmKG51bGwhPT1lWzJdJiYoXCJudW1iZXJcIiE9dHlwZW9mIGVbMl18fGVbMl08MHx8ZVsyXSE9PU1hdGguZmxvb3IoZVsyXSkpKXJldHVybiB0LmVycm9yKCdUaGUgbGVuZ3RoIGFyZ3VtZW50IHRvIFwiYXJyYXlcIiBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlciBsaXRlcmFsJywyKTtvPWVbMl0scisrO31pPUt0KG4sbyk7fWVsc2UgaT13aVtuXTtjb25zdCBvPVtdO2Zvcig7cjxlLmxlbmd0aDtyKyspe2NvbnN0IGk9dC5wYXJzZShlW3JdLHIsV3QpO2lmKCFpKXJldHVybiBudWxsO28ucHVzaChpKTt9cmV0dXJuIG5ldyBUaShpLG8pfWV2YWx1YXRlKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5hcmdzLmxlbmd0aDt0Kyspe2NvbnN0IGk9dGhpcy5hcmdzW3RdLmV2YWx1YXRlKGUpO2lmKCFlaSh0aGlzLnR5cGUsZ2koaSkpKXJldHVybiBpO2lmKHQ9PT10aGlzLmFyZ3MubGVuZ3RoLTEpdGhyb3cgbmV3IGJpKGBFeHBlY3RlZCB2YWx1ZSB0byBiZSBvZiB0eXBlICR7SnQodGhpcy50eXBlKX0sIGJ1dCBmb3VuZCAke0p0KGdpKGkpKX0gaW5zdGVhZC5gKX1yZXR1cm4gbnVsbH1lYWNoQ2hpbGQoZSl7dGhpcy5hcmdzLmZvckVhY2goZSk7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gdGhpcy5hcmdzLmV2ZXJ5KChlPT5lLm91dHB1dERlZmluZWQoKSkpfXNlcmlhbGl6ZSgpe2NvbnN0IGU9dGhpcy50eXBlLHQ9W2Uua2luZF07aWYoXCJhcnJheVwiPT09ZS5raW5kKXtjb25zdCBpPWUuaXRlbVR5cGU7aWYoXCJzdHJpbmdcIj09PWkua2luZHx8XCJudW1iZXJcIj09PWkua2luZHx8XCJib29sZWFuXCI9PT1pLmtpbmQpe3QucHVzaChpLmtpbmQpO2NvbnN0IHI9ZS5OOyhcIm51bWJlclwiPT10eXBlb2Ygcnx8dGhpcy5hcmdzLmxlbmd0aD4xKSYmdC5wdXNoKHIpO319cmV0dXJuIHQuY29uY2F0KHRoaXMuYXJncy5tYXAoKGU9PmUuc2VyaWFsaXplKCkpKSl9fXZhciBFaT1UaTtjbGFzcyBNaXtjb25zdHJ1Y3RvcihlKXt0aGlzLnR5cGU9WHQsdGhpcy5zZWN0aW9ucz1lO31zdGF0aWMgcGFyc2UoZSx0KXtpZihlLmxlbmd0aDwyKXJldHVybiB0LmVycm9yKFwiRXhwZWN0ZWQgYXQgbGVhc3Qgb25lIGFyZ3VtZW50LlwiKTtjb25zdCBpPWVbMV07aWYoIUFycmF5LmlzQXJyYXkoaSkmJlwib2JqZWN0XCI9PXR5cGVvZiBpKXJldHVybiB0LmVycm9yKFwiRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhbiBpbWFnZSBvciB0ZXh0IHNlY3Rpb24uXCIpO2NvbnN0IHI9W107bGV0IG49ITE7Zm9yKGxldCBpPTE7aTw9ZS5sZW5ndGgtMTsrK2kpe2NvbnN0IG89ZVtpXTtpZihuJiZcIm9iamVjdFwiPT10eXBlb2YgbyYmIUFycmF5LmlzQXJyYXkobykpe249ITE7bGV0IGU9bnVsbDtpZihvW1wiZm9udC1zY2FsZVwiXSYmKGU9dC5wYXJzZShvW1wiZm9udC1zY2FsZVwiXSwxLGp0KSwhZSkpcmV0dXJuIG51bGw7bGV0IGk9bnVsbDtpZihvW1widGV4dC1mb250XCJdJiYoaT10LnBhcnNlKG9bXCJ0ZXh0LWZvbnRcIl0sMSxLdChHdCkpLCFpKSlyZXR1cm4gbnVsbDtsZXQgcz1udWxsO2lmKG9bXCJ0ZXh0LWNvbG9yXCJdJiYocz10LnBhcnNlKG9bXCJ0ZXh0LWNvbG9yXCJdLDEsWnQpLCFzKSlyZXR1cm4gbnVsbDtjb25zdCBhPXJbci5sZW5ndGgtMV07YS5zY2FsZT1lLGEuZm9udD1pLGEudGV4dENvbG9yPXM7fWVsc2Uge2NvbnN0IG89dC5wYXJzZShlW2ldLDEsV3QpO2lmKCFvKXJldHVybiBudWxsO2NvbnN0IHM9by50eXBlLmtpbmQ7aWYoXCJzdHJpbmdcIiE9PXMmJlwidmFsdWVcIiE9PXMmJlwibnVsbFwiIT09cyYmXCJyZXNvbHZlZEltYWdlXCIhPT1zKXJldHVybiB0LmVycm9yKFwiRm9ybWF0dGVkIHRleHQgdHlwZSBtdXN0IGJlICdzdHJpbmcnLCAndmFsdWUnLCAnaW1hZ2UnIG9yICdudWxsJy5cIik7bj0hMCxyLnB1c2goe2NvbnRlbnQ6byxzY2FsZTpudWxsLGZvbnQ6bnVsbCx0ZXh0Q29sb3I6bnVsbH0pO319cmV0dXJuIG5ldyBNaShyKX1ldmFsdWF0ZShlKXtyZXR1cm4gbmV3IHBpKHRoaXMuc2VjdGlvbnMubWFwKCh0PT57Y29uc3QgaT10LmNvbnRlbnQuZXZhbHVhdGUoZSk7cmV0dXJuIGdpKGkpPT09WXQ/bmV3IGRpKFwiXCIsaSxudWxsLG51bGwsbnVsbCk6bmV3IGRpKHlpKGkpLG51bGwsdC5zY2FsZT90LnNjYWxlLmV2YWx1YXRlKGUpOm51bGwsdC5mb250P3QuZm9udC5ldmFsdWF0ZShlKS5qb2luKFwiLFwiKTpudWxsLHQudGV4dENvbG9yP3QudGV4dENvbG9yLmV2YWx1YXRlKGUpOm51bGwpfSkpKX1lYWNoQ2hpbGQoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5zZWN0aW9ucyllKHQuY29udGVudCksdC5zY2FsZSYmZSh0LnNjYWxlKSx0LmZvbnQmJmUodC5mb250KSx0LnRleHRDb2xvciYmZSh0LnRleHRDb2xvcik7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gITF9c2VyaWFsaXplKCl7Y29uc3QgZT1bXCJmb3JtYXRcIl07Zm9yKGNvbnN0IHQgb2YgdGhpcy5zZWN0aW9ucyl7ZS5wdXNoKHQuY29udGVudC5zZXJpYWxpemUoKSk7Y29uc3QgaT17fTt0LnNjYWxlJiYoaVtcImZvbnQtc2NhbGVcIl09dC5zY2FsZS5zZXJpYWxpemUoKSksdC5mb250JiYoaVtcInRleHQtZm9udFwiXT10LmZvbnQuc2VyaWFsaXplKCkpLHQudGV4dENvbG9yJiYoaVtcInRleHQtY29sb3JcIl09dC50ZXh0Q29sb3Iuc2VyaWFsaXplKCkpLGUucHVzaChpKTt9cmV0dXJuIGV9fWNsYXNzIEFpe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy50eXBlPVl0LHRoaXMuaW5wdXRQcmltYXJ5PWUsdGhpcy5pbnB1dFNlY29uZGFyeT10O31zdGF0aWMgcGFyc2UoZSx0KXtpZihlLmxlbmd0aDwyKXJldHVybiB0LmVycm9yKFwiRXhwZWN0ZWQgdHdvIG9yIG1vcmUgYXJndW1lbnRzLlwiKTtjb25zdCBpPXQucGFyc2UoZVsxXSwxLEd0KTtpZighaSlyZXR1cm4gdC5lcnJvcihcIk5vIGltYWdlIG5hbWUgcHJvdmlkZWQuXCIpO2lmKDI9PT1lLmxlbmd0aClyZXR1cm4gbmV3IEFpKGkpO2NvbnN0IHI9dC5wYXJzZShlWzJdLDEsR3QpO3JldHVybiByP25ldyBBaShpLHIpOnQuZXJyb3IoXCJTZWNvbmRhcnkgaW1hZ2UgdmFyaWFudCBpcyBub3QgYSBzdHJpbmcuXCIpfWV2YWx1YXRlKGUpe2NvbnN0IHQ9ZmkuZnJvbVN0cmluZyh0aGlzLmlucHV0UHJpbWFyeS5ldmFsdWF0ZShlKSx0aGlzLmlucHV0U2Vjb25kYXJ5P3RoaXMuaW5wdXRTZWNvbmRhcnkuZXZhbHVhdGUoZSk6dm9pZCAwKTtyZXR1cm4gdCYmZS5hdmFpbGFibGVJbWFnZXMmJih0LmF2YWlsYWJsZT1lLmF2YWlsYWJsZUltYWdlcy5pbmRleE9mKHQubmFtZVByaW1hcnkpPi0xLHQubmFtZVNlY29uZGFyeSYmdC5hdmFpbGFibGUmJmUuYXZhaWxhYmxlSW1hZ2VzJiYodC5hdmFpbGFibGU9ZS5hdmFpbGFibGVJbWFnZXMuaW5kZXhPZih0Lm5hbWVTZWNvbmRhcnkpPi0xKSksdH1lYWNoQ2hpbGQoZSl7ZSh0aGlzLmlucHV0UHJpbWFyeSksdGhpcy5pbnB1dFNlY29uZGFyeSYmZSh0aGlzLmlucHV0U2Vjb25kYXJ5KTt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiAhMX1zZXJpYWxpemUoKXtyZXR1cm4gdGhpcy5pbnB1dFNlY29uZGFyeT9bXCJpbWFnZVwiLHRoaXMuaW5wdXRQcmltYXJ5LnNlcmlhbGl6ZSgpLHRoaXMuaW5wdXRTZWNvbmRhcnkuc2VyaWFsaXplKCldOltcImltYWdlXCIsdGhpcy5pbnB1dFByaW1hcnkuc2VyaWFsaXplKCldfX1mdW5jdGlvbiBTaShlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIE51bWJlcj9cIm51bWJlclwiOmUgaW5zdGFuY2VvZiBTdHJpbmc/XCJzdHJpbmdcIjplIGluc3RhbmNlb2YgQm9vbGVhbj9cImJvb2xlYW5cIjpBcnJheS5pc0FycmF5KGUpP1wiYXJyYXlcIjpudWxsPT09ZT9cIm51bGxcIjp0eXBlb2YgZX1jb25zdCBJaT17XCJ0by1ib29sZWFuXCI6cXQsXCJ0by1jb2xvclwiOlp0LFwidG8tbnVtYmVyXCI6anQsXCJ0by1zdHJpbmdcIjpHdH07Y2xhc3MgQ2l7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnR5cGU9ZSx0aGlzLmFyZ3M9dDt9c3RhdGljIHBhcnNlKGUsdCl7aWYoZS5sZW5ndGg8MilyZXR1cm4gdC5lcnJvcihcIkV4cGVjdGVkIGF0IGxlYXN0IG9uZSBhcmd1bWVudC5cIik7Y29uc3QgaT1lWzBdLHI9W107bGV0IG49VnQ7aWYoXCJ0by1hcnJheVwiPT09aSl7aWYoIUFycmF5LmlzQXJyYXkoZVsxXSkpcmV0dXJuIG51bGw7Y29uc3QgaT1lWzFdLmxlbmd0aDtpZih0LmV4cGVjdGVkVHlwZSl7aWYoXCJhcnJheVwiIT09dC5leHBlY3RlZFR5cGUua2luZClyZXR1cm4gdC5lcnJvcihgRXhwZWN0ZWQgJHt0LmV4cGVjdGVkVHlwZS5raW5kfSBidXQgZm91bmQgYXJyYXkuYCk7bj1LdCh0LmV4cGVjdGVkVHlwZS5pdGVtVHlwZSxpKTt9ZWxzZSB7aWYoIShpPjAmJl9pKGVbMV1bMF0pKSlyZXR1cm4gbnVsbDtuPUt0KGdpKGVbMV1bMF0pLGkpO31mb3IobGV0IG89MDtvPGk7bysrKXtjb25zdCBpPWVbMV1bb107bGV0IHM7aWYoXCJhcnJheVwiPT09U2koaSkpcz10LnBhcnNlKGksdm9pZCAwLG4uaXRlbVR5cGUpO2Vsc2Uge2NvbnN0IGU9U2koaSk7aWYoZSE9PW4uaXRlbVR5cGUua2luZClyZXR1cm4gdC5lcnJvcihgRXhwZWN0ZWQgJHtuLml0ZW1UeXBlLmtpbmR9IGJ1dCBmb3VuZCAke2V9LmApO3M9dC5yZWdpc3RyeS5saXRlcmFsLnBhcnNlKFtcImxpdGVyYWxcIix2b2lkIDA9PT1pP251bGw6aV0sdCk7fWlmKCFzKXJldHVybiBudWxsO3IucHVzaChzKTt9fWVsc2Uge2lmKChcInRvLWJvb2xlYW5cIj09PWl8fFwidG8tc3RyaW5nXCI9PT1pKSYmMiE9PWUubGVuZ3RoKXJldHVybiB0LmVycm9yKFwiRXhwZWN0ZWQgb25lIGFyZ3VtZW50LlwiKTtuPUlpW2ldO2ZvcihsZXQgaT0xO2k8ZS5sZW5ndGg7aSsrKXtjb25zdCBuPXQucGFyc2UoZVtpXSxpLFd0KTtpZighbilyZXR1cm4gbnVsbDtyLnB1c2gobik7fX1yZXR1cm4gbmV3IENpKG4scil9ZXZhbHVhdGUoZSl7aWYoXCJib29sZWFuXCI9PT10aGlzLnR5cGUua2luZClyZXR1cm4gQm9vbGVhbih0aGlzLmFyZ3NbMF0uZXZhbHVhdGUoZSkpO2lmKFwiY29sb3JcIj09PXRoaXMudHlwZS5raW5kKXtsZXQgdCxpO2Zvcihjb25zdCByIG9mIHRoaXMuYXJncyl7aWYodD1yLmV2YWx1YXRlKGUpLGk9bnVsbCx0IGluc3RhbmNlb2YgaGkpcmV0dXJuIHQ7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpe2NvbnN0IGk9ZS5wYXJzZUNvbG9yKHQpO2lmKGkpcmV0dXJuIGl9ZWxzZSBpZihBcnJheS5pc0FycmF5KHQpJiYoaT10Lmxlbmd0aDwzfHx0Lmxlbmd0aD40P2BJbnZhbGlkIHJiZ2EgdmFsdWUgJHtKU09OLnN0cmluZ2lmeSh0KX06IGV4cGVjdGVkIGFuIGFycmF5IGNvbnRhaW5pbmcgZWl0aGVyIHRocmVlIG9yIGZvdXIgbnVtZXJpYyB2YWx1ZXMuYDptaSh0WzBdLHRbMV0sdFsyXSx0WzNdKSwhaSkpcmV0dXJuIG5ldyBoaSh0WzBdLzI1NSx0WzFdLzI1NSx0WzJdLzI1NSx0WzNdKX10aHJvdyBuZXcgYmkoaXx8YENvdWxkIG5vdCBwYXJzZSBjb2xvciBmcm9tIHZhbHVlICcke1wic3RyaW5nXCI9PXR5cGVvZiB0P3Q6U3RyaW5nKEpTT04uc3RyaW5naWZ5KHQpKX0nYCl9aWYoXCJudW1iZXJcIj09PXRoaXMudHlwZS5raW5kKXtsZXQgdD1udWxsO2Zvcihjb25zdCBpIG9mIHRoaXMuYXJncyl7aWYodD1pLmV2YWx1YXRlKGUpLG51bGw9PT10KXJldHVybiAwO2NvbnN0IHI9TnVtYmVyKHQpO2lmKCFpc05hTihyKSlyZXR1cm4gcn10aHJvdyBuZXcgYmkoYENvdWxkIG5vdCBjb252ZXJ0ICR7SlNPTi5zdHJpbmdpZnkodCl9IHRvIG51bWJlci5gKX1yZXR1cm4gXCJmb3JtYXR0ZWRcIj09PXRoaXMudHlwZS5raW5kP3BpLmZyb21TdHJpbmcoeWkodGhpcy5hcmdzWzBdLmV2YWx1YXRlKGUpKSk6XCJyZXNvbHZlZEltYWdlXCI9PT10aGlzLnR5cGUua2luZD9maS5mcm9tU3RyaW5nKHlpKHRoaXMuYXJnc1swXS5ldmFsdWF0ZShlKSkpOlwiYXJyYXlcIj09PXRoaXMudHlwZS5raW5kP3RoaXMuYXJncy5tYXAoKHQ9PnQuZXZhbHVhdGUoZSkpKTp5aSh0aGlzLmFyZ3NbMF0uZXZhbHVhdGUoZSkpfWVhY2hDaGlsZChlKXt0aGlzLmFyZ3MuZm9yRWFjaChlKTt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiB0aGlzLmFyZ3MuZXZlcnkoKGU9PmUub3V0cHV0RGVmaW5lZCgpKSl9c2VyaWFsaXplKCl7aWYoXCJmb3JtYXR0ZWRcIj09PXRoaXMudHlwZS5raW5kKXJldHVybiBuZXcgTWkoW3tjb250ZW50OnRoaXMuYXJnc1swXSxzY2FsZTpudWxsLGZvbnQ6bnVsbCx0ZXh0Q29sb3I6bnVsbH1dKS5zZXJpYWxpemUoKTtpZihcInJlc29sdmVkSW1hZ2VcIj09PXRoaXMudHlwZS5raW5kKXJldHVybiBuZXcgQWkodGhpcy5hcmdzWzBdKS5zZXJpYWxpemUoKTtjb25zdCBlPVwiYXJyYXlcIj09PXRoaXMudHlwZS5raW5kP1tdOltgdG8tJHt0aGlzLnR5cGUua2luZH1gXTtyZXR1cm4gdGhpcy5lYWNoQ2hpbGQoKHQ9PntlLnB1c2godC5zZXJpYWxpemUoKSk7fSkpLGV9fXZhciB6aT1DaTtjb25zdCBQaT1bXCJVbmtub3duXCIsXCJQb2ludFwiLFwiTGluZVN0cmluZ1wiLFwiUG9seWdvblwiXTt2YXIgRGk9Y2xhc3N7Y29uc3RydWN0b3IoZSl7dGhpcy5nbG9iYWxzPW51bGwsdGhpcy5mZWF0dXJlPW51bGwsdGhpcy5mZWF0dXJlU3RhdGU9bnVsbCx0aGlzLmZvcm1hdHRlZFNlY3Rpb249bnVsbCx0aGlzLl9wYXJzZUNvbG9yQ2FjaGU9e30sdGhpcy5hdmFpbGFibGVJbWFnZXM9bnVsbCx0aGlzLmNhbm9uaWNhbD1udWxsLHRoaXMuZmVhdHVyZVRpbGVDb29yZD1udWxsLHRoaXMuZmVhdHVyZURpc3RhbmNlRGF0YT1udWxsLHRoaXMub3B0aW9ucz1lO31pZCgpe3JldHVybiB0aGlzLmZlYXR1cmUmJnZvaWQgMCE9PXRoaXMuZmVhdHVyZS5pZD90aGlzLmZlYXR1cmUuaWQ6bnVsbH1nZW9tZXRyeVR5cGUoKXtyZXR1cm4gdGhpcy5mZWF0dXJlP1wibnVtYmVyXCI9PXR5cGVvZiB0aGlzLmZlYXR1cmUudHlwZT9QaVt0aGlzLmZlYXR1cmUudHlwZV06dGhpcy5mZWF0dXJlLnR5cGU6bnVsbH1nZW9tZXRyeSgpe3JldHVybiB0aGlzLmZlYXR1cmUmJlwiZ2VvbWV0cnlcImluIHRoaXMuZmVhdHVyZT90aGlzLmZlYXR1cmUuZ2VvbWV0cnk6bnVsbH1jYW5vbmljYWxJRCgpe3JldHVybiB0aGlzLmNhbm9uaWNhbH1wcm9wZXJ0aWVzKCl7cmV0dXJuIHRoaXMuZmVhdHVyZSYmdGhpcy5mZWF0dXJlLnByb3BlcnRpZXN8fHt9fW1lYXN1cmVMaWdodChlKXtyZXR1cm4gdGhpcy5nbG9iYWxzLmJyaWdodG5lc3N8fDB9ZGlzdGFuY2VGcm9tQ2VudGVyKCl7aWYodGhpcy5mZWF0dXJlVGlsZUNvb3JkJiZ0aGlzLmZlYXR1cmVEaXN0YW5jZURhdGEpe2NvbnN0IGU9dGhpcy5mZWF0dXJlRGlzdGFuY2VEYXRhLmNlbnRlcix0PXRoaXMuZmVhdHVyZURpc3RhbmNlRGF0YS5zY2FsZSx7eDppLHk6cn09dGhpcy5mZWF0dXJlVGlsZUNvb3JkO3JldHVybiB0aGlzLmZlYXR1cmVEaXN0YW5jZURhdGEuYmVhcmluZ1swXSooaSp0LWVbMF0pK3RoaXMuZmVhdHVyZURpc3RhbmNlRGF0YS5iZWFyaW5nWzFdKihyKnQtZVsxXSl9cmV0dXJuIDB9cGFyc2VDb2xvcihlKXtsZXQgdD10aGlzLl9wYXJzZUNvbG9yQ2FjaGVbZV07cmV0dXJuIHR8fCh0PXRoaXMuX3BhcnNlQ29sb3JDYWNoZVtlXT1oaS5wYXJzZShlKSksdH1nZXRDb25maWcoZSl7cmV0dXJuIHRoaXMub3B0aW9ucz90aGlzLm9wdGlvbnMuZ2V0KGUpOm51bGx9fTtjbGFzcyBSaXtjb25zdHJ1Y3RvcihlLHQsaSxyLG4pe3RoaXMubmFtZT1lLHRoaXMudHlwZT10LHRoaXMuX2V2YWx1YXRlPWksdGhpcy5hcmdzPXIsdGhpcy5fb3ZlcmxvYWRJbmRleD1uO31ldmFsdWF0ZShlKXtpZighdGhpcy5fZXZhbHVhdGUpe2NvbnN0IGU9UmkuZGVmaW5pdGlvbnNbdGhpcy5uYW1lXTt0aGlzLl9ldmFsdWF0ZT1BcnJheS5pc0FycmF5KGUpP2VbMl06ZS5vdmVybG9hZHNbdGhpcy5fb3ZlcmxvYWRJbmRleF1bMV07fXJldHVybiB0aGlzLl9ldmFsdWF0ZShlLHRoaXMuYXJncyl9ZWFjaENoaWxkKGUpe3RoaXMuYXJncy5mb3JFYWNoKGUpO31vdXRwdXREZWZpbmVkKCl7cmV0dXJuICExfXNlcmlhbGl6ZSgpe3JldHVybiBbdGhpcy5uYW1lXS5jb25jYXQodGhpcy5hcmdzLm1hcCgoZT0+ZS5zZXJpYWxpemUoKSkpKX1zdGF0aWMgcGFyc2UoZSx0KXtjb25zdCBpPWVbMF0scj1SaS5kZWZpbml0aW9uc1tpXTtpZighcilyZXR1cm4gdC5lcnJvcihgVW5rbm93biBleHByZXNzaW9uIFwiJHtpfVwiLiBJZiB5b3Ugd2FudGVkIGEgbGl0ZXJhbCBhcnJheSwgdXNlIFtcImxpdGVyYWxcIiwgWy4uLl1dLmAsMCk7Y29uc3Qgbj1BcnJheS5pc0FycmF5KHIpP3JbMF06ci50eXBlLG89QXJyYXkuaXNBcnJheShyKT9bW3JbMV0sclsyXV1dOnIub3ZlcmxvYWRzLHM9W107bGV0IGE9bnVsbCxsPS0xO2Zvcihjb25zdFtyLGNdb2Ygbyl7aWYoQXJyYXkuaXNBcnJheShyKSYmci5sZW5ndGghPT1lLmxlbmd0aC0xKWNvbnRpbnVlO3MucHVzaChyKSxsKyssYT1uZXcgJHIodC5yZWdpc3RyeSx0LnBhdGgsbnVsbCx0LnNjb3BlLHZvaWQgMCx0Lm9wdGlvbnMpO2NvbnN0IG89W107bGV0IGg9ITE7Zm9yKGxldCB0PTE7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IGk9ZVt0XSxuPUFycmF5LmlzQXJyYXkocik/clt0LTFdOnIudHlwZSxzPWEucGFyc2UoaSwxK28ubGVuZ3RoLG4pO2lmKCFzKXtoPSEwO2JyZWFrfW8ucHVzaChzKTt9aWYoIWgpaWYoQXJyYXkuaXNBcnJheShyKSYmci5sZW5ndGghPT1vLmxlbmd0aClhLmVycm9yKGBFeHBlY3RlZCAke3IubGVuZ3RofSBhcmd1bWVudHMsIGJ1dCBmb3VuZCAke28ubGVuZ3RofSBpbnN0ZWFkLmApO2Vsc2Uge2ZvcihsZXQgZT0wO2U8by5sZW5ndGg7ZSsrKXtjb25zdCB0PUFycmF5LmlzQXJyYXkocik/cltlXTpyLnR5cGUsaT1vW2VdO2EuY29uY2F0KGUrMSkuY2hlY2tTdWJ0eXBlKHQsaS50eXBlKTt9aWYoMD09PWEuZXJyb3JzLmxlbmd0aClyZXR1cm4gbmV3IFJpKGksbixjLG8sbCl9fWlmKDE9PT1zLmxlbmd0aCl0LmVycm9ycy5wdXNoKC4uLmEuZXJyb3JzKTtlbHNlIHtjb25zdCBpPShzLmxlbmd0aD9zOm8ubWFwKCgoW2VdKT0+ZSkpKS5tYXAoTGkpLmpvaW4oXCIgfCBcIikscj1bXTtmb3IobGV0IGk9MTtpPGUubGVuZ3RoO2krKyl7Y29uc3Qgbj10LnBhcnNlKGVbaV0sMStyLmxlbmd0aCk7aWYoIW4pcmV0dXJuIG51bGw7ci5wdXNoKEp0KG4udHlwZSkpO310LmVycm9yKGBFeHBlY3RlZCBhcmd1bWVudHMgb2YgdHlwZSAke2l9LCBidXQgZm91bmQgKCR7ci5qb2luKFwiLCBcIil9KSBpbnN0ZWFkLmApO31yZXR1cm4gbnVsbH1zdGF0aWMgcmVnaXN0ZXIoZSx0KXtSaS5kZWZpbml0aW9ucz10O2Zvcihjb25zdCBpIGluIHQpZVtpXT1SaTt9fWZ1bmN0aW9uIExpKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpP2AoJHtlLm1hcChKdCkuam9pbihcIiwgXCIpfSlgOmAoJHtKdChlLnR5cGUpfS4uLilgfXZhciBraT1SaTtjbGFzcyBPaXtjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy50eXBlPUh0LHRoaXMubG9jYWxlPWksdGhpcy5jYXNlU2Vuc2l0aXZlPWUsdGhpcy5kaWFjcml0aWNTZW5zaXRpdmU9dDt9c3RhdGljIHBhcnNlKGUsdCl7aWYoMiE9PWUubGVuZ3RoKXJldHVybiB0LmVycm9yKFwiRXhwZWN0ZWQgb25lIGFyZ3VtZW50LlwiKTtjb25zdCBpPWVbMV07aWYoXCJvYmplY3RcIiE9dHlwZW9mIGl8fEFycmF5LmlzQXJyYXkoaSkpcmV0dXJuIHQuZXJyb3IoXCJDb2xsYXRvciBvcHRpb25zIGFyZ3VtZW50IG11c3QgYmUgYW4gb2JqZWN0LlwiKTtjb25zdCByPXQucGFyc2Uodm9pZCAwIT09aVtcImNhc2Utc2Vuc2l0aXZlXCJdJiZpW1wiY2FzZS1zZW5zaXRpdmVcIl0sMSxxdCk7aWYoIXIpcmV0dXJuIG51bGw7Y29uc3Qgbj10LnBhcnNlKHZvaWQgMCE9PWlbXCJkaWFjcml0aWMtc2Vuc2l0aXZlXCJdJiZpW1wiZGlhY3JpdGljLXNlbnNpdGl2ZVwiXSwxLHF0KTtpZighbilyZXR1cm4gbnVsbDtsZXQgbz1udWxsO3JldHVybiBpLmxvY2FsZSYmKG89dC5wYXJzZShpLmxvY2FsZSwxLEd0KSwhbyk/bnVsbDpuZXcgT2kocixuLG8pfWV2YWx1YXRlKGUpe3JldHVybiBuZXcgdWkodGhpcy5jYXNlU2Vuc2l0aXZlLmV2YWx1YXRlKGUpLHRoaXMuZGlhY3JpdGljU2Vuc2l0aXZlLmV2YWx1YXRlKGUpLHRoaXMubG9jYWxlP3RoaXMubG9jYWxlLmV2YWx1YXRlKGUpOm51bGwpfWVhY2hDaGlsZChlKXtlKHRoaXMuY2FzZVNlbnNpdGl2ZSksZSh0aGlzLmRpYWNyaXRpY1NlbnNpdGl2ZSksdGhpcy5sb2NhbGUmJmUodGhpcy5sb2NhbGUpO31vdXRwdXREZWZpbmVkKCl7cmV0dXJuICExfXNlcmlhbGl6ZSgpe2NvbnN0IGU9e307cmV0dXJuIGVbXCJjYXNlLXNlbnNpdGl2ZVwiXT10aGlzLmNhc2VTZW5zaXRpdmUuc2VyaWFsaXplKCksZVtcImRpYWNyaXRpYy1zZW5zaXRpdmVcIl09dGhpcy5kaWFjcml0aWNTZW5zaXRpdmUuc2VyaWFsaXplKCksdGhpcy5sb2NhbGUmJihlLmxvY2FsZT10aGlzLmxvY2FsZS5zZXJpYWxpemUoKSksW1wiY29sbGF0b3JcIixlXX19dmFyIEJpPXtleHBvcnRzOnt9fTtCaS5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShpLHIsbixvLHMpe2Zvcig7bz5uOyl7aWYoby1uPjYwMCl7dmFyIGE9by1uKzEsbD1yLW4rMSxjPU1hdGgubG9nKGEpLGg9LjUqTWF0aC5leHAoMipjLzMpLHU9LjUqTWF0aC5zcXJ0KGMqaCooYS1oKS9hKSoobC1hLzI8MD8tMToxKTtlKGkscixNYXRoLm1heChuLE1hdGguZmxvb3Ioci1sKmgvYSt1KSksTWF0aC5taW4obyxNYXRoLmZsb29yKHIrKGEtbCkqaC9hK3UpKSxzKTt9dmFyIGQ9aVtyXSxwPW4sZj1vO2Zvcih0KGksbixyKSxzKGlbb10sZCk+MCYmdChpLG4sbyk7cDxmOyl7Zm9yKHQoaSxwLGYpLHArKyxmLS07cyhpW3BdLGQpPDA7KXArKztmb3IoO3MoaVtmXSxkKT4wOylmLS07fTA9PT1zKGlbbl0sZCk/dChpLG4sZik6dChpLCsrZixvKSxmPD1yJiYobj1mKzEpLHI8PWYmJihvPWYtMSk7fX1mdW5jdGlvbiB0KGUsdCxpKXt2YXIgcj1lW3RdO2VbdF09ZVtpXSxlW2ldPXI7fWZ1bmN0aW9uIGkoZSx0KXtyZXR1cm4gZTx0Py0xOmU+dD8xOjB9cmV0dXJuIGZ1bmN0aW9uKHQscixuLG8scyl7ZSh0LHIsbnx8MCxvfHx0Lmxlbmd0aC0xLHN8fGkpO319KCk7dmFyIEZpPWQoQmkuZXhwb3J0cyk7ZnVuY3Rpb24gTmkoZSl7bGV0IHQ9MDtmb3IobGV0IGkscixuPTAsbz1lLmxlbmd0aCxzPW8tMTtuPG87cz1uKyspaT1lW25dLHI9ZVtzXSx0Kz0oci54LWkueCkqKGkueStyLnkpO3JldHVybiB0fWZ1bmN0aW9uIFVpKGUsdCl7ZVswXT1NYXRoLm1pbihlWzBdLHRbMF0pLGVbMV09TWF0aC5taW4oZVsxXSx0WzFdKSxlWzJdPU1hdGgubWF4KGVbMl0sdFswXSksZVszXT1NYXRoLm1heChlWzNdLHRbMV0pO31mdW5jdGlvbiBWaShlLHQpe3JldHVybiAhKGVbMF08PXRbMF18fGVbMl0+PXRbMl18fGVbMV08PXRbMV18fGVbM10+PXRbM10pfWZ1bmN0aW9uIGppKGUsdCxpKXtjb25zdCByPWVbMF0tdFswXSxuPWVbMV0tdFsxXSxvPWVbMF0taVswXSxzPWVbMV0taVsxXTtyZXR1cm4gcipzLW8qbj09MCYmcipvPD0wJiZuKnM8PTB9ZnVuY3Rpb24gR2koZSx0LGk9ITEpe2xldCByPSExO2ZvcihsZXQgYT0wLGw9dC5sZW5ndGg7YTxsO2ErKyl7Y29uc3QgbD10W2FdO2ZvcihsZXQgdD0wLGE9bC5sZW5ndGgsYz1hLTE7dDxhO2M9dCsrKXtjb25zdCBhPWxbY10saD1sW3RdO2lmKGppKGUsYSxoKSlyZXR1cm4gaTsobz1hKVsxXT4obj1lKVsxXSE9KHM9aClbMV0+blsxXSYmblswXTwoc1swXS1vWzBdKSooblsxXS1vWzFdKS8oc1sxXS1vWzFdKStvWzBdJiYocj0hcik7fX12YXIgbixvLHM7cmV0dXJuIHJ9ZnVuY3Rpb24gcWkoZSx0LGkscil7Y29uc3Qgbj1yWzBdLWlbMF0sbz1yWzFdLWlbMV0scz0oZVswXS1pWzBdKSpvLW4qKGVbMV0taVsxXSksYT0odFswXS1pWzBdKSpvLW4qKHRbMV0taVsxXSk7cmV0dXJuIHM+MCYmYTwwfHxzPDAmJmE+MH1mdW5jdGlvbiBaaShlLHQsaSxyKXtyZXR1cm4gMCE9KG49W3JbMF0taVswXSxyWzFdLWlbMV1dKVswXSoobz1bdFswXS1lWzBdLHRbMV0tZVsxXV0pWzFdLW5bMV0qb1swXSYmISghcWkoZSx0LGkscil8fCFxaShpLHIsZSx0KSk7dmFyIG4sbzt9Y29uc3QgJGk9ODE5MjtmdW5jdGlvbiBXaShlLHQpe2NvbnN0IGk9KDE4MCtlWzBdKS8zNjAscj0oMTgwLTE4MC9NYXRoLlBJKk1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkvNCtlWzFdKk1hdGguUEkvMzYwKSkpLzM2MCxuPU1hdGgucG93KDIsdC56KTtyZXR1cm4gW01hdGgucm91bmQoaSpuKiRpKSxNYXRoLnJvdW5kKHIqbiokaSldfWZ1bmN0aW9uIEhpKGUsdCl7Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspaWYoR2koZSx0W2ldKSlyZXR1cm4gITA7cmV0dXJuICExfWZ1bmN0aW9uIFhpKGUsdCxpKXtmb3IoY29uc3QgciBvZiBpKWZvcihsZXQgaT0wLG49ci5sZW5ndGgsbz1uLTE7aTxuO289aSsrKWlmKFppKGUsdCxyW29dLHJbaV0pKXJldHVybiAhMDtyZXR1cm4gITF9ZnVuY3Rpb24gWWkoZSx0KXtmb3IobGV0IGk9MDtpPGUubGVuZ3RoOysraSlpZighR2koZVtpXSx0KSlyZXR1cm4gITE7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aC0xOysraSlpZihYaShlW2ldLGVbaSsxXSx0KSlyZXR1cm4gITE7cmV0dXJuICEwfWZ1bmN0aW9uIEtpKGUsdCl7Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspaWYoWWkoZSx0W2ldKSlyZXR1cm4gITA7cmV0dXJuICExfWZ1bmN0aW9uIEppKGUsdCxpKXtjb25zdCByPVtdO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXtjb25zdCBvPVtdO2ZvcihsZXQgcj0wO3I8ZVtuXS5sZW5ndGg7cisrKXtjb25zdCBzPVdpKGVbbl1bcl0saSk7VWkodCxzKSxvLnB1c2gocyk7fXIucHVzaChvKTt9cmV0dXJuIHJ9ZnVuY3Rpb24gUWkoZSx0LGkpe2NvbnN0IHI9W107Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspe2NvbnN0IG89SmkoZVtuXSx0LGkpO3IucHVzaChvKTt9cmV0dXJuIHJ9ZnVuY3Rpb24gZXIoZSx0LGkscil7aWYoZVswXTxpWzBdfHxlWzBdPmlbMl0pe2NvbnN0IHQ9LjUqcjtsZXQgbj1lWzBdLWlbMF0+dD8tcjppWzBdLWVbMF0+dD9yOjA7MD09PW4mJihuPWVbMF0taVsyXT50Py1yOmlbMl0tZVswXT50P3I6MCksZVswXSs9bjt9VWkodCxlKTt9ZnVuY3Rpb24gdHIoZSx0LGkscil7Y29uc3Qgbj1NYXRoLnBvdygyLHIueikqJGksbz1bci54KiRpLHIueSokaV0scz1bXTtpZighZSlyZXR1cm4gcztmb3IoY29uc3QgciBvZiBlKWZvcihjb25zdCBlIG9mIHIpe2NvbnN0IHI9W2UueCtvWzBdLGUueStvWzFdXTtlcihyLHQsaSxuKSxzLnB1c2gocik7fXJldHVybiBzfWZ1bmN0aW9uIGlyKGUsdCxpLHIpe2NvbnN0IG49TWF0aC5wb3coMixyLnopKiRpLG89W3IueCokaSxyLnkqJGldLHM9W107aWYoIWUpcmV0dXJuIHM7Zm9yKGNvbnN0IGkgb2YgZSl7Y29uc3QgZT1bXTtmb3IoY29uc3QgciBvZiBpKXtjb25zdCBpPVtyLngrb1swXSxyLnkrb1sxXV07VWkodCxpKSxlLnB1c2goaSk7fXMucHVzaChlKTt9aWYodFsyXS10WzBdPD1uLzIpeyhhPXQpWzBdPWFbMV09MS8wLGFbMl09YVszXT0tMS8wO2Zvcihjb25zdCBlIG9mIHMpZm9yKGNvbnN0IHIgb2YgZSllcihyLHQsaSxuKTt9dmFyIGE7cmV0dXJuIHN9Y2xhc3MgcnJ7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnR5cGU9cXQsdGhpcy5nZW9qc29uPWUsdGhpcy5nZW9tZXRyaWVzPXQ7fXN0YXRpYyBwYXJzZShlLHQpe2lmKDIhPT1lLmxlbmd0aClyZXR1cm4gdC5lcnJvcihgJ3dpdGhpbicgZXhwcmVzc2lvbiByZXF1aXJlcyBleGFjdGx5IG9uZSBhcmd1bWVudCwgYnV0IGZvdW5kICR7ZS5sZW5ndGgtMX0gaW5zdGVhZC5gKTtpZihfaShlWzFdKSl7Y29uc3QgdD1lWzFdO2lmKFwiRmVhdHVyZUNvbGxlY3Rpb25cIj09PXQudHlwZSlmb3IobGV0IGU9MDtlPHQuZmVhdHVyZXMubGVuZ3RoOysrZSl7Y29uc3QgaT10LmZlYXR1cmVzW2VdLmdlb21ldHJ5LnR5cGU7aWYoXCJQb2x5Z29uXCI9PT1pfHxcIk11bHRpUG9seWdvblwiPT09aSlyZXR1cm4gbmV3IHJyKHQsdC5mZWF0dXJlc1tlXS5nZW9tZXRyeSl9ZWxzZSBpZihcIkZlYXR1cmVcIj09PXQudHlwZSl7Y29uc3QgZT10Lmdlb21ldHJ5LnR5cGU7aWYoXCJQb2x5Z29uXCI9PT1lfHxcIk11bHRpUG9seWdvblwiPT09ZSlyZXR1cm4gbmV3IHJyKHQsdC5nZW9tZXRyeSl9ZWxzZSBpZihcIlBvbHlnb25cIj09PXQudHlwZXx8XCJNdWx0aVBvbHlnb25cIj09PXQudHlwZSlyZXR1cm4gbmV3IHJyKHQsdCl9cmV0dXJuIHQuZXJyb3IoXCInd2l0aGluJyBleHByZXNzaW9uIHJlcXVpcmVzIHZhbGlkIGdlb2pzb24gb2JqZWN0IHRoYXQgY29udGFpbnMgcG9seWdvbiBnZW9tZXRyeSB0eXBlLlwiKX1ldmFsdWF0ZShlKXtpZihudWxsIT1lLmdlb21ldHJ5KCkmJm51bGwhPWUuY2Fub25pY2FsSUQoKSl7aWYoXCJQb2ludFwiPT09ZS5nZW9tZXRyeVR5cGUoKSlyZXR1cm4gZnVuY3Rpb24oZSx0KXtjb25zdCBpPVsxLzAsMS8wLC0xLzAsLTEvMF0scj1bMS8wLDEvMCwtMS8wLC0xLzBdLG49ZS5jYW5vbmljYWxJRCgpO2lmKCFuKXJldHVybiAhMTtpZihcIlBvbHlnb25cIj09PXQudHlwZSl7Y29uc3Qgbz1KaSh0LmNvb3JkaW5hdGVzLHIsbikscz10cihlLmdlb21ldHJ5KCksaSxyLG4pO2lmKCFWaShpLHIpKXJldHVybiAhMTtmb3IoY29uc3QgZSBvZiBzKWlmKCFHaShlLG8pKXJldHVybiAhMX1pZihcIk11bHRpUG9seWdvblwiPT09dC50eXBlKXtjb25zdCBvPVFpKHQuY29vcmRpbmF0ZXMscixuKSxzPXRyKGUuZ2VvbWV0cnkoKSxpLHIsbik7aWYoIVZpKGkscikpcmV0dXJuICExO2Zvcihjb25zdCBlIG9mIHMpaWYoIUhpKGUsbykpcmV0dXJuICExfXJldHVybiAhMH0oZSx0aGlzLmdlb21ldHJpZXMpO2lmKFwiTGluZVN0cmluZ1wiPT09ZS5nZW9tZXRyeVR5cGUoKSlyZXR1cm4gZnVuY3Rpb24oZSx0KXtjb25zdCBpPVsxLzAsMS8wLC0xLzAsLTEvMF0scj1bMS8wLDEvMCwtMS8wLC0xLzBdLG49ZS5jYW5vbmljYWxJRCgpO2lmKCFuKXJldHVybiAhMTtpZihcIlBvbHlnb25cIj09PXQudHlwZSl7Y29uc3Qgbz1KaSh0LmNvb3JkaW5hdGVzLHIsbikscz1pcihlLmdlb21ldHJ5KCksaSxyLG4pO2lmKCFWaShpLHIpKXJldHVybiAhMTtmb3IoY29uc3QgZSBvZiBzKWlmKCFZaShlLG8pKXJldHVybiAhMX1pZihcIk11bHRpUG9seWdvblwiPT09dC50eXBlKXtjb25zdCBvPVFpKHQuY29vcmRpbmF0ZXMscixuKSxzPWlyKGUuZ2VvbWV0cnkoKSxpLHIsbik7aWYoIVZpKGkscikpcmV0dXJuICExO2Zvcihjb25zdCBlIG9mIHMpaWYoIUtpKGUsbykpcmV0dXJuICExfXJldHVybiAhMH0oZSx0aGlzLmdlb21ldHJpZXMpfXJldHVybiAhMX1lYWNoQ2hpbGQoKXt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiAhMH1zZXJpYWxpemUoKXtyZXR1cm4gW1wid2l0aGluXCIsdGhpcy5nZW9qc29uXX19dmFyIG5yPXJyLG9yPXtleHBvcnRzOnt9fTtvci5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIGU9e2tpbG9tZXRlcnM6MSxtaWxlczoxZTMvMTYwOS4zNDQsbmF1dGljYWxtaWxlczoxZTMvMTg1MixtZXRlcnM6MWUzLG1ldHJlczoxZTMseWFyZHM6MWUzLy45MTQ0LGZlZXQ6MWUzLy4zMDQ4LGluY2hlczoxZTMvLjAyNTR9LHQ9MS8yOTguMjU3MjIzNTYzLGk9dCooMi10KSxyPU1hdGguUEkvMTgwLG49ZnVuY3Rpb24odCxuKXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBFcnJvcihcIk5vIGxhdGl0dWRlIGdpdmVuLlwiKTtpZihuJiYhZVtuXSl0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIHVuaXQgXCIrbitcIi4gVXNlIG9uZSBvZjogXCIrT2JqZWN0LmtleXMoZSkuam9pbihcIiwgXCIpKTt2YXIgbz02Mzc4LjEzNypyKihuP2Vbbl06MSkscz1NYXRoLmNvcyh0KnIpLGE9MS8oMS1pKigxLXMqcykpLGw9TWF0aC5zcXJ0KGEpO3RoaXMua3g9bypsKnMsdGhpcy5reT1vKmwqYSooMS1pKTt9LG89e3VuaXRzOntjb25maWd1cmFibGU6ITB9fTtmdW5jdGlvbiBzKGUsdCl7cmV0dXJuIGVbMF09PT10WzBdJiZlWzFdPT09dFsxXX1mdW5jdGlvbiBhKGUsdCxpKXt2YXIgcj1sKHRbMF0tZVswXSk7cmV0dXJuIFtlWzBdK3IqaSxlWzFdKyh0WzFdLWVbMV0pKmldfWZ1bmN0aW9uIGwoZSl7Zm9yKDtlPC0xODA7KWUrPTM2MDtmb3IoO2U+MTgwOyllLT0zNjA7cmV0dXJuIGV9cmV0dXJuIG4uZnJvbVRpbGU9ZnVuY3Rpb24oZSx0LGkpe3ZhciBvPU1hdGguUEkqKDEtMiooZSsuNSkvTWF0aC5wb3coMix0KSkscz1NYXRoLmF0YW4oLjUqKE1hdGguZXhwKG8pLU1hdGguZXhwKC1vKSkpL3I7cmV0dXJuIG5ldyBuKHMsaSl9LG8udW5pdHMuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGV9LG4ucHJvdG90eXBlLmRpc3RhbmNlPWZ1bmN0aW9uKGUsdCl7dmFyIGk9bChlWzBdLXRbMF0pKnRoaXMua3gscj0oZVsxXS10WzFdKSp0aGlzLmt5O3JldHVybiBNYXRoLnNxcnQoaSppK3Iqcil9LG4ucHJvdG90eXBlLmJlYXJpbmc9ZnVuY3Rpb24oZSx0KXt2YXIgaT1sKHRbMF0tZVswXSkqdGhpcy5reDtyZXR1cm4gTWF0aC5hdGFuMihpLCh0WzFdLWVbMV0pKnRoaXMua3kpL3J9LG4ucHJvdG90eXBlLmRlc3RpbmF0aW9uPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj1pKnI7cmV0dXJuIHRoaXMub2Zmc2V0KGUsTWF0aC5zaW4obikqdCxNYXRoLmNvcyhuKSp0KX0sbi5wcm90b3R5cGUub2Zmc2V0PWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gW2VbMF0rdC90aGlzLmt4LGVbMV0raS90aGlzLmt5XX0sbi5wcm90b3R5cGUubGluZURpc3RhbmNlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLGk9MDtpPGUubGVuZ3RoLTE7aSsrKXQrPXRoaXMuZGlzdGFuY2UoZVtpXSxlW2krMV0pO3JldHVybiB0fSxuLnByb3RvdHlwZS5hcmVhPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLGk9MDtpPGUubGVuZ3RoO2krKylmb3IodmFyIHI9ZVtpXSxuPTAsbz1yLmxlbmd0aCxzPW8tMTtuPG87cz1uKyspdCs9bChyW25dWzBdLXJbc11bMF0pKihyW25dWzFdK3Jbc11bMV0pKihpPy0xOjEpO3JldHVybiBNYXRoLmFicyh0KS8yKnRoaXMua3gqdGhpcy5reX0sbi5wcm90b3R5cGUuYWxvbmc9ZnVuY3Rpb24oZSx0KXt2YXIgaT0wO2lmKHQ8PTApcmV0dXJuIGVbMF07Zm9yKHZhciByPTA7cjxlLmxlbmd0aC0xO3IrKyl7dmFyIG49ZVtyXSxvPWVbcisxXSxzPXRoaXMuZGlzdGFuY2UobixvKTtpZigoaSs9cyk+dClyZXR1cm4gYShuLG8sKHQtKGktcykpL3MpfXJldHVybiBlW2UubGVuZ3RoLTFdfSxuLnByb3RvdHlwZS5wb2ludFRvU2VnbWVudERpc3RhbmNlPWZ1bmN0aW9uKGUsdCxpKXt2YXIgcj10WzBdLG49dFsxXSxvPWwoaVswXS1yKSp0aGlzLmt4LHM9KGlbMV0tbikqdGhpcy5reSxhPTA7cmV0dXJuIDA9PT1vJiYwPT09c3x8KChhPShsKGVbMF0tcikqdGhpcy5reCpvKyhlWzFdLW4pKnRoaXMua3kqcykvKG8qbytzKnMpKT4xPyhyPWlbMF0sbj1pWzFdKTphPjAmJihyKz1vL3RoaXMua3gqYSxuKz1zL3RoaXMua3kqYSkpLG89bChlWzBdLXIpKnRoaXMua3gscz0oZVsxXS1uKSp0aGlzLmt5LE1hdGguc3FydChvKm8rcypzKX0sbi5wcm90b3R5cGUucG9pbnRPbkxpbmU9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGkscixuLG8scz0xLzAsYT0wO2E8ZS5sZW5ndGgtMTthKyspe3ZhciBjPWVbYV1bMF0saD1lW2FdWzFdLHU9bChlW2ErMV1bMF0tYykqdGhpcy5reCxkPShlW2ErMV1bMV0taCkqdGhpcy5reSxwPTA7MD09PXUmJjA9PT1kfHwoKHA9KGwodFswXS1jKSp0aGlzLmt4KnUrKHRbMV0taCkqdGhpcy5reSpkKS8odSp1K2QqZCkpPjE/KGM9ZVthKzFdWzBdLGg9ZVthKzFdWzFdKTpwPjAmJihjKz11L3RoaXMua3gqcCxoKz1kL3RoaXMua3kqcCkpO3ZhciBmPSh1PWwodFswXS1jKSp0aGlzLmt4KSp1KyhkPSh0WzFdLWgpKnRoaXMua3kpKmQ7ZjxzJiYocz1mLGk9YyxyPWgsbj1hLG89cCk7fXJldHVybiB7cG9pbnQ6W2kscl0saW5kZXg6bix0Ok1hdGgubWF4KDAsTWF0aC5taW4oMSxvKSl9fSxuLnByb3RvdHlwZS5saW5lU2xpY2U9ZnVuY3Rpb24oZSx0LGkpe3ZhciByPXRoaXMucG9pbnRPbkxpbmUoaSxlKSxuPXRoaXMucG9pbnRPbkxpbmUoaSx0KTtpZihyLmluZGV4Pm4uaW5kZXh8fHIuaW5kZXg9PT1uLmluZGV4JiZyLnQ+bi50KXt2YXIgbz1yO3I9bixuPW87fXZhciBhPVtyLnBvaW50XSxsPXIuaW5kZXgrMSxjPW4uaW5kZXg7IXMoaVtsXSxhWzBdKSYmbDw9YyYmYS5wdXNoKGlbbF0pO2Zvcih2YXIgaD1sKzE7aDw9YztoKyspYS5wdXNoKGlbaF0pO3JldHVybiBzKGlbY10sbi5wb2ludCl8fGEucHVzaChuLnBvaW50KSxhfSxuLnByb3RvdHlwZS5saW5lU2xpY2VBbG9uZz1mdW5jdGlvbihlLHQsaSl7Zm9yKHZhciByPTAsbj1bXSxvPTA7bzxpLmxlbmd0aC0xO28rKyl7dmFyIHM9aVtvXSxsPWlbbysxXSxjPXRoaXMuZGlzdGFuY2UocyxsKTtpZigocis9Yyk+ZSYmMD09PW4ubGVuZ3RoJiZuLnB1c2goYShzLGwsKGUtKHItYykpL2MpKSxyPj10KXJldHVybiBuLnB1c2goYShzLGwsKHQtKHItYykpL2MpKSxuO3I+ZSYmbi5wdXNoKGwpO31yZXR1cm4gbn0sbi5wcm90b3R5cGUuYnVmZmVyUG9pbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgaT10L3RoaXMua3kscj10L3RoaXMua3g7cmV0dXJuIFtlWzBdLXIsZVsxXS1pLGVbMF0rcixlWzFdK2ldfSxuLnByb3RvdHlwZS5idWZmZXJCQm94PWZ1bmN0aW9uKGUsdCl7dmFyIGk9dC90aGlzLmt5LHI9dC90aGlzLmt4O3JldHVybiBbZVswXS1yLGVbMV0taSxlWzJdK3IsZVszXStpXX0sbi5wcm90b3R5cGUuaW5zaWRlQkJveD1mdW5jdGlvbihlLHQpe3JldHVybiBsKGVbMF0tdFswXSk+PTAmJmwoZVswXS10WzJdKTw9MCYmZVsxXT49dFsxXSYmZVsxXTw9dFszXX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobixvKSxufSgpO3ZhciBzcj1kKG9yLmV4cG9ydHMpLGFyPXtleHBvcnRzOnt9fTthci5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oZSxpKXtpZih2b2lkIDA9PT1lJiYoZT1bXSksdm9pZCAwPT09aSYmKGk9dCksdGhpcy5kYXRhPWUsdGhpcy5sZW5ndGg9dGhpcy5kYXRhLmxlbmd0aCx0aGlzLmNvbXBhcmU9aSx0aGlzLmxlbmd0aD4wKWZvcih2YXIgcj0odGhpcy5sZW5ndGg+PjEpLTE7cj49MDtyLS0pdGhpcy5fZG93bihyKTt9O2Z1bmN0aW9uIHQoZSx0KXtyZXR1cm4gZTx0Py0xOmU+dD8xOjB9cmV0dXJuIGUucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oZSl7dGhpcy5kYXRhLnB1c2goZSksdGhpcy5sZW5ndGgrKyx0aGlzLl91cCh0aGlzLmxlbmd0aC0xKTt9LGUucHJvdG90eXBlLnBvcD1mdW5jdGlvbigpe2lmKDAhPT10aGlzLmxlbmd0aCl7dmFyIGU9dGhpcy5kYXRhWzBdLHQ9dGhpcy5kYXRhLnBvcCgpO3JldHVybiB0aGlzLmxlbmd0aC0tLHRoaXMubGVuZ3RoPjAmJih0aGlzLmRhdGFbMF09dCx0aGlzLl9kb3duKDApKSxlfX0sZS5wcm90b3R5cGUucGVlaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGFbMF19LGUucHJvdG90eXBlLl91cD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5kYXRhLGk9dGhpcy5jb21wYXJlLHI9dFtlXTtlPjA7KXt2YXIgbj1lLTE+PjEsbz10W25dO2lmKGkocixvKT49MClicmVhazt0W2VdPW8sZT1uO310W2VdPXI7fSxlLnByb3RvdHlwZS5fZG93bj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5kYXRhLGk9dGhpcy5jb21wYXJlLHI9dGhpcy5sZW5ndGg+PjEsbj10W2VdO2U8cjspe3ZhciBvPTErKGU8PDEpLHM9dFtvXSxhPW8rMTtpZihhPHRoaXMubGVuZ3RoJiZpKHRbYV0scyk8MCYmKG89YSxzPXRbYV0pLGkocyxuKT49MClicmVhazt0W2VdPXMsZT1vO310W2VdPW47fSxlfSgpO3ZhciBscj1kKGFyLmV4cG9ydHMpLGNyPTgxOTI7ZnVuY3Rpb24gaHIoZSx0KXtyZXR1cm4gdC5kaXN0LWUuZGlzdH1jb25zdCB1cj0xMDAsZHI9NTA7ZnVuY3Rpb24gcHIoZSl7Y29uc3QgdD1bMS8wLDEvMCwtMS8wLC0xLzBdO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpcmV0dXJuICExO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKWlmKHRbaV0hPT1lW2ldKXJldHVybiAhMTtyZXR1cm4gITB9ZnVuY3Rpb24gZnIoZSl7cmV0dXJuIGVbMV0tZVswXSsxfWZ1bmN0aW9uIG1yKGUsdCl7Y29uc3QgaT1lWzFdPj1lWzBdJiZlWzFdPHQ7cmV0dXJuIGl8fGNvbnNvbGUud2FybihcIkRpc3RhbmNlIEV4cHJlc3Npb246IEluZGV4IGlzIG91dCBvZiByYW5nZVwiKSxpfWZ1bmN0aW9uIF9yKGUsdCl7aWYoZVswXT5lWzFdKXJldHVybiBbbnVsbCxudWxsXTtjb25zdCBpPWZyKGUpO2lmKHQpe2lmKDI9PT1pKXJldHVybiBbZSxudWxsXTtjb25zdCB0PU1hdGguZmxvb3IoaS8yKTtyZXR1cm4gW1tlWzBdLGVbMF0rdF0sW2VbMF0rdCxlWzFdXV19e2lmKDE9PT1pKXJldHVybiBbZSxudWxsXTtjb25zdCB0PU1hdGguZmxvb3IoaS8yKS0xO3JldHVybiBbW2VbMF0sZVswXSt0XSxbZVswXSt0KzEsZVsxXV1dfX1mdW5jdGlvbiBncihlLHQpe2NvbnN0IGk9WzEvMCwxLzAsLTEvMCwtMS8wXTtpZighbXIodCxlLmxlbmd0aCkpcmV0dXJuIGk7Zm9yKGxldCByPXRbMF07cjw9dFsxXTsrK3IpVWkoaSxlW3JdKTtyZXR1cm4gaX1mdW5jdGlvbiB5cihlKXtjb25zdCB0PVsxLzAsMS8wLC0xLzAsLTEvMF07Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDsrK2kpZm9yKGxldCByPTA7cjxlW2ldLmxlbmd0aDsrK3IpVWkodCxlW2ldW3JdKTtyZXR1cm4gdH1mdW5jdGlvbiB4cihlLHQsaSl7aWYocHIoZSl8fHByKHQpKXJldHVybiBOYU47bGV0IHI9MCxuPTA7cmV0dXJuIGVbMl08dFswXSYmKHI9dFswXS1lWzJdKSxlWzBdPnRbMl0mJihyPWVbMF0tdFsyXSksZVsxXT50WzNdJiYobj1lWzFdLXRbM10pLGVbM108dFsxXSYmKG49dFsxXS1lWzNdKSxpLmRpc3RhbmNlKFswLDBdLFtyLG5dKX1mdW5jdGlvbiB2cihlLHQpe2NvbnN0IGk9TWF0aC5wb3coMix0LnopO3JldHVybiBbKG49KGUueC9jcit0LngpL2ksMzYwKm4tMTgwKSwocj0oZS55L2NyK3QueSkvaSwzNjAvTWF0aC5QSSpNYXRoLmF0YW4oTWF0aC5leHAoKDE4MC0zNjAqcikqTWF0aC5QSS8xODApKS05MCldO3ZhciByLG47fWZ1bmN0aW9uIGJyKGUsdCl7Y29uc3QgaT1bXTtmb3IobGV0IHI9MDtyPGUubGVuZ3RoOysrcilpLnB1c2godnIoZVtyXSx0KSk7cmV0dXJuIGl9ZnVuY3Rpb24gd3IoZSx0LGkpe2NvbnN0IHI9aS5wb2ludE9uTGluZSh0LGUpLnBvaW50O3JldHVybiBpLmRpc3RhbmNlKGUscil9ZnVuY3Rpb24gVHIoZSx0LGkscixuKXtjb25zdCBvPWkuc2xpY2UoclswXSxyWzFdKzEpO2xldCBzPTEvMDtmb3IobGV0IGk9dFswXTtpPD10WzFdOysraSlpZigwPT09KHM9TWF0aC5taW4ocyx3cihlW2ldLG8sbikpKSlyZXR1cm4gMDtyZXR1cm4gc31mdW5jdGlvbiBFcihlLHQsaSxyLG4pe2NvbnN0IG89TWF0aC5taW4obi5wb2ludFRvU2VnbWVudERpc3RhbmNlKGUsaSxyKSxuLnBvaW50VG9TZWdtZW50RGlzdGFuY2UodCxpLHIpKSxzPU1hdGgubWluKG4ucG9pbnRUb1NlZ21lbnREaXN0YW5jZShpLGUsdCksbi5wb2ludFRvU2VnbWVudERpc3RhbmNlKHIsZSx0KSk7cmV0dXJuIE1hdGgubWluKG8scyl9ZnVuY3Rpb24gTXIoZSx0LGkscixuKXtpZighbXIodCxlLmxlbmd0aCl8fCFtcihyLGkubGVuZ3RoKSlyZXR1cm4gTmFOO2xldCBvPTEvMDtmb3IobGV0IHM9dFswXTtzPHRbMV07KytzKWZvcihsZXQgdD1yWzBdO3Q8clsxXTsrK3Qpe2lmKFppKGVbc10sZVtzKzFdLGlbdF0saVt0KzFdKSlyZXR1cm4gMDtvPU1hdGgubWluKG8sRXIoZVtzXSxlW3MrMV0saVt0XSxpW3QrMV0sbikpO31yZXR1cm4gb31mdW5jdGlvbiBBcihlLHQsaSxyLG4pe2lmKCFtcih0LGUubGVuZ3RoKXx8IW1yKHIsaS5sZW5ndGgpKXJldHVybiBOYU47bGV0IG89MS8wO2ZvcihsZXQgcz10WzBdO3M8PXRbMV07KytzKWZvcihsZXQgdD1yWzBdO3Q8PXJbMV07Kyt0KWlmKDA9PT0obz1NYXRoLm1pbihvLG4uZGlzdGFuY2UoZVtzXSxpW3RdKSkpKXJldHVybiBvO3JldHVybiBvfWZ1bmN0aW9uIFNyKGUsdCxpKXtpZihHaShlLHQsITApKXJldHVybiAwO2xldCByPTEvMDtmb3IoY29uc3QgbiBvZiB0KXtjb25zdCB0PW4ubGVuZ3RoO2lmKHQ8MilyZXR1cm4gY29uc29sZS53YXJuKFwiRGlzdGFuY2UgRXhwcmVzc2lvbjogSW52YWxpZCBwb2x5Z29uIVwiKSxOYU47aWYoblswXSE9PW5bdC0xXSYmMD09PShyPU1hdGgubWluKHIsaS5wb2ludFRvU2VnbWVudERpc3RhbmNlKGUsblt0LTFdLG5bMF0pKSkpcmV0dXJuIHI7aWYoMD09PShyPU1hdGgubWluKHIsd3IoZSxuLGkpKSkpcmV0dXJuIHJ9cmV0dXJuIHJ9ZnVuY3Rpb24gSXIoZSx0LGkscil7aWYoIW1yKHQsZS5sZW5ndGgpKXJldHVybiBOYU47Zm9yKGxldCByPXRbMF07cjw9dFsxXTsrK3IpaWYoR2koZVtyXSxpLCEwKSlyZXR1cm4gMDtsZXQgbj0xLzA7Zm9yKGxldCBvPXRbMF07bzx0WzFdOysrbylmb3IoY29uc3QgdCBvZiBpKWZvcihsZXQgaT0wLHM9dC5sZW5ndGgsYT1zLTE7aTxzO2E9aSsrKXtpZihaaShlW29dLGVbbysxXSx0W2FdLHRbaV0pKXJldHVybiAwO249TWF0aC5taW4obixFcihlW29dLGVbbysxXSx0W2FdLHRbaV0scikpO31yZXR1cm4gbn1mdW5jdGlvbiBDcihlLHQpe2Zvcihjb25zdCBpIG9mIGUpZm9yKGxldCBlPTA7ZTw9aS5sZW5ndGgtMTsrK2UpaWYoR2koaVtlXSx0LCEwKSlyZXR1cm4gITA7cmV0dXJuICExfWZ1bmN0aW9uIHpyKGUsdCxpLHI9MS8wKXtjb25zdCBuPXlyKGUpLG89eXIodCk7aWYociE9PTEvMCYmeHIobixvLGkpPj1yKXJldHVybiByO2lmKFZpKG4sbykpe2lmKENyKGUsdCkpcmV0dXJuIDB9ZWxzZSBpZihDcih0LGUpKXJldHVybiAwO2xldCBzPXI7Zm9yKGNvbnN0IHIgb2YgZSlmb3IobGV0IGU9MCxuPXIubGVuZ3RoLG89bi0xO2U8bjtvPWUrKylmb3IoY29uc3QgbiBvZiB0KWZvcihsZXQgdD0wLGE9bi5sZW5ndGgsbD1hLTE7dDxhO2w9dCsrKXtpZihaaShyW29dLHJbZV0sbltsXSxuW3RdKSlyZXR1cm4gMDtzPU1hdGgubWluKHMsRXIocltvXSxyW2VdLG5bbF0sblt0XSxpKSk7fXJldHVybiBzfWZ1bmN0aW9uIFByKGUsdCxpLHIsbixvLHMpe2lmKG51bGw9PT1vfHxudWxsPT09cylyZXR1cm47Y29uc3QgYT14cihncihyLG8pLGdyKG4scyksaSk7YTx0JiZlLnB1c2goe2Rpc3Q6YSxyYW5nZTE6byxyYW5nZTI6c30pO31mdW5jdGlvbiBEcihlLHQsaSxyLG49MS8wKXtsZXQgbz1NYXRoLm1pbihyLmRpc3RhbmNlKGVbMF0saVswXVswXSksbik7aWYoMD09PW8pcmV0dXJuIG87Y29uc3Qgcz1uZXcgbHIoW3tkaXN0OjAscmFuZ2UxOlswLGUubGVuZ3RoLTFdLHJhbmdlMjpbMCwwXX1dLGhyKSxhPXQ/ZHI6dXIsbD15cihpKTtmb3IoO3MubGVuZ3RoOyl7Y29uc3Qgbj1zLnBvcCgpO2lmKG4uZGlzdD49byljb250aW51ZTtjb25zdCBjPW4ucmFuZ2UxO2lmKGZyKGMpPD1hKXtpZighbXIoYyxlLmxlbmd0aCkpcmV0dXJuIE5hTjtpZih0KXtjb25zdCB0PUlyKGUsYyxpLHIpO2lmKDA9PT0obz1NYXRoLm1pbihvLHQpKSlyZXR1cm4gb31lbHNlIGZvcihsZXQgdD1jWzBdO3Q8PWNbMV07Kyt0KXtjb25zdCBuPVNyKGVbdF0saSxyKTtpZigwPT09KG89TWF0aC5taW4obyxuKSkpcmV0dXJuIG99fWVsc2Uge2NvbnN0IGk9X3IoYyx0KTtpZihudWxsIT09aVswXSl7Y29uc3QgdD14cihncihlLGlbMF0pLGwscik7dDxvJiZzLnB1c2goe2Rpc3Q6dCxyYW5nZTE6aVswXSxyYW5nZTI6WzAsMF19KTt9aWYobnVsbCE9PWlbMV0pe2NvbnN0IHQ9eHIoZ3IoZSxpWzFdKSxsLHIpO3Q8byYmcy5wdXNoKHtkaXN0OnQscmFuZ2UxOmlbMV0scmFuZ2UyOlswLDBdfSk7fX19cmV0dXJuIG99ZnVuY3Rpb24gUnIoZSx0LGkscixuLG89MS8wKXtsZXQgcz1NYXRoLm1pbihvLG4uZGlzdGFuY2UoZVswXSxpWzBdKSk7aWYoMD09PXMpcmV0dXJuIHM7Y29uc3QgYT1uZXcgbHIoW3tkaXN0OjAscmFuZ2UxOlswLGUubGVuZ3RoLTFdLHJhbmdlMjpbMCxpLmxlbmd0aC0xXX1dLGhyKSxsPXQ/ZHI6dXIsYz1yP2RyOnVyO2Zvcig7YS5sZW5ndGg7KXtjb25zdCBvPWEucG9wKCk7aWYoby5kaXN0Pj1zKWNvbnRpbnVlO2NvbnN0IGg9by5yYW5nZTEsdT1vLnJhbmdlMjtpZihmcihoKTw9bCYmZnIodSk8PWMpe2lmKCFtcihoLGUubGVuZ3RoKXx8IW1yKHUsaS5sZW5ndGgpKXJldHVybiBOYU47aWYodCYmcj9zPU1hdGgubWluKHMsTXIoZSxoLGksdSxuKSk6dHx8cj90JiYhcj9zPU1hdGgubWluKHMsVHIoaSx1LGUsaCxuKSk6IXQmJnImJihzPU1hdGgubWluKHMsVHIoZSxoLGksdSxuKSkpOnM9TWF0aC5taW4ocyxBcihlLGgsaSx1LG4pKSwwPT09cylyZXR1cm4gc31lbHNlIHtjb25zdCBvPV9yKGgsdCksbD1fcih1LHIpO1ByKGEscyxuLGUsaSxvWzBdLGxbMF0pLFByKGEscyxuLGUsaSxvWzBdLGxbMV0pLFByKGEscyxuLGUsaSxvWzFdLGxbMF0pLFByKGEscyxuLGUsaSxvWzFdLGxbMV0pO319cmV0dXJuIHN9ZnVuY3Rpb24gTHIoZSx0LGkscixuPTEvMCl7bGV0IG89bjtjb25zdCBzPWdyKGUsWzAsZS5sZW5ndGgtMV0pO2Zvcihjb25zdCBuIG9mIGkpaWYoIShvIT09MS8wJiZ4cihzLGdyKG4sWzAsbi5sZW5ndGgtMV0pLHIpPj1vKSYmKG89TWF0aC5taW4obyxScihlLHQsbiwhMCxyLG8pKSwwPT09bykpcmV0dXJuIG87cmV0dXJuIG99ZnVuY3Rpb24ga3IoZSx0LGkscixuPTEvMCl7bGV0IG89bjtjb25zdCBzPWdyKGUsWzAsZS5sZW5ndGgtMV0pO2Zvcihjb25zdCBuIG9mIGkpe2lmKG8hPT0xLzAmJnhyKHMseXIobikscik+PW8pY29udGludWU7Y29uc3QgaT1EcihlLHQsbixyLG8pO2lmKGlzTmFOKGkpKXJldHVybiBpO2lmKDA9PT0obz1NYXRoLm1pbihvLGkpKSlyZXR1cm4gb31yZXR1cm4gb31mdW5jdGlvbiBPcihlKXtyZXR1cm4gXCJQb2ludFwiPT09ZXx8XCJNdWx0aVBvaW50XCI9PT1lfHxcIkxpbmVTdHJpbmdcIj09PWV8fFwiTXVsdGlMaW5lU3RyaW5nXCI9PT1lfHxcIlBvbHlnb25cIj09PWV8fFwiTXVsdGlQb2x5Z29uXCI9PT1lfWNsYXNzIEJye2NvbnN0cnVjdG9yKGUsdCl7dGhpcy50eXBlPWp0LHRoaXMuZ2VvanNvbj1lLHRoaXMuZ2VvbWV0cmllcz10O31zdGF0aWMgcGFyc2UoZSx0KXtpZigyIT09ZS5sZW5ndGgpcmV0dXJuIHQuZXJyb3IoYCdkaXN0YW5jZScgZXhwcmVzc2lvbiByZXF1aXJlcyBlaXRoZXIgb25lIGFyZ3VtZW50LCBidXQgZm91bmQgJyAke2UubGVuZ3RoLTF9IGluc3RlYWQuYCk7aWYoX2koZVsxXSkpe2NvbnN0IHQ9ZVsxXTtpZihcIkZlYXR1cmVDb2xsZWN0aW9uXCI9PT10LnR5cGUpe2ZvcihsZXQgZT0wO2U8dC5mZWF0dXJlcy5sZW5ndGg7KytlKWlmKE9yKHQuZmVhdHVyZXNbZV0uZ2VvbWV0cnkudHlwZSkpcmV0dXJuIG5ldyBCcih0LHQuZmVhdHVyZXNbZV0uZ2VvbWV0cnkpfWVsc2UgaWYoXCJGZWF0dXJlXCI9PT10LnR5cGUpe2lmKE9yKHQuZ2VvbWV0cnkudHlwZSkpcmV0dXJuIG5ldyBCcih0LHQuZ2VvbWV0cnkpfWVsc2UgaWYoT3IodC50eXBlKSlyZXR1cm4gbmV3IEJyKHQsdCl9cmV0dXJuIHQuZXJyb3IoXCInZGlzdGFuY2UnIGV4cHJlc3Npb24gbmVlZHMgdG8gYmUgYW4gYXJyYXkgd2l0aCBmb3JtYXQgWydEaXN0YW5jZScsIEdlb0pTT05PYmpdLlwiKX1ldmFsdWF0ZShlKXtjb25zdCB0PWUuZ2VvbWV0cnkoKSxpPWUuY2Fub25pY2FsSUQoKTtpZihudWxsIT10JiZudWxsIT1pKXtpZihcIlBvaW50XCI9PT1lLmdlb21ldHJ5VHlwZSgpKXJldHVybiBmdW5jdGlvbihlLHQsaSl7Y29uc3Qgcj1bXTtmb3IoY29uc3QgaSBvZiBlKWZvcihjb25zdCBlIG9mIGkpci5wdXNoKHZyKGUsdCkpO2NvbnN0IG49bmV3IHNyKHJbMF1bMV0sXCJtZXRlcnNcIik7cmV0dXJuIFwiUG9pbnRcIj09PWkudHlwZXx8XCJNdWx0aVBvaW50XCI9PT1pLnR5cGV8fFwiTGluZVN0cmluZ1wiPT09aS50eXBlP1JyKHIsITEsXCJQb2ludFwiPT09aS50eXBlP1tpLmNvb3JkaW5hdGVzXTppLmNvb3JkaW5hdGVzLFwiTGluZVN0cmluZ1wiPT09aS50eXBlLG4pOlwiTXVsdGlMaW5lU3RyaW5nXCI9PT1pLnR5cGU/THIociwhMSxpLmNvb3JkaW5hdGVzLG4pOlwiUG9seWdvblwiPT09aS50eXBlfHxcIk11bHRpUG9seWdvblwiPT09aS50eXBlP2tyKHIsITEsXCJQb2x5Z29uXCI9PT1pLnR5cGU/W2kuY29vcmRpbmF0ZXNdOmkuY29vcmRpbmF0ZXMsbik6bnVsbH0odCxpLHRoaXMuZ2VvbWV0cmllcyk7aWYoXCJMaW5lU3RyaW5nXCI9PT1lLmdlb21ldHJ5VHlwZSgpKXJldHVybiBmdW5jdGlvbihlLHQsaSl7Y29uc3Qgcj1bXTtmb3IoY29uc3QgaSBvZiBlKXtjb25zdCBlPVtdO2Zvcihjb25zdCByIG9mIGkpZS5wdXNoKHZyKHIsdCkpO3IucHVzaChlKTt9Y29uc3Qgbj1uZXcgc3IoclswXVswXVsxXSxcIm1ldGVyc1wiKTtpZihcIlBvaW50XCI9PT1pLnR5cGV8fFwiTXVsdGlQb2ludFwiPT09aS50eXBlfHxcIkxpbmVTdHJpbmdcIj09PWkudHlwZSlyZXR1cm4gTHIoXCJQb2ludFwiPT09aS50eXBlP1tpLmNvb3JkaW5hdGVzXTppLmNvb3JkaW5hdGVzLFwiTGluZVN0cmluZ1wiPT09aS50eXBlLHIsbik7aWYoXCJNdWx0aUxpbmVTdHJpbmdcIj09PWkudHlwZSl7bGV0IGU9MS8wO2ZvcihsZXQgdD0wO3Q8aS5jb29yZGluYXRlcy5sZW5ndGg7dCsrKXtjb25zdCBvPUxyKGkuY29vcmRpbmF0ZXNbdF0sITAscixuLGUpO2lmKGlzTmFOKG8pKXJldHVybiBvO2lmKDA9PT0oZT1NYXRoLm1pbihlLG8pKSlyZXR1cm4gZX1yZXR1cm4gZX1pZihcIlBvbHlnb25cIj09PWkudHlwZXx8XCJNdWx0aVBvbHlnb25cIj09PWkudHlwZSl7bGV0IGU9MS8wO2ZvcihsZXQgdD0wO3Q8ci5sZW5ndGg7dCsrKXtjb25zdCBvPWtyKHJbdF0sITAsXCJQb2x5Z29uXCI9PT1pLnR5cGU/W2kuY29vcmRpbmF0ZXNdOmkuY29vcmRpbmF0ZXMsbixlKTtpZihpc05hTihvKSlyZXR1cm4gbztpZigwPT09KGU9TWF0aC5taW4oZSxvKSkpcmV0dXJuIGV9cmV0dXJuIGV9cmV0dXJuIG51bGx9KHQsaSx0aGlzLmdlb21ldHJpZXMpO2lmKFwiUG9seWdvblwiPT09ZS5nZW9tZXRyeVR5cGUoKSlyZXR1cm4gZnVuY3Rpb24oZSx0LGkpe2NvbnN0IHI9W107Zm9yKGNvbnN0IGkgb2YgZnVuY3Rpb24oZSx0KXtjb25zdCBpPWUubGVuZ3RoO2lmKGk8PTEpcmV0dXJuIFtlXTtjb25zdCByPVtdO2xldCBuLG87Zm9yKGxldCB0PTA7dDxpO3QrKyl7Y29uc3QgaT1OaShlW3RdKTswIT09aSYmKGVbdF0uYXJlYT1NYXRoLmFicyhpKSx2b2lkIDA9PT1vJiYobz1pPDApLG89PT1pPDA/KG4mJnIucHVzaChuKSxuPVtlW3RdXSk6bi5wdXNoKGVbdF0pKTt9cmV0dXJuIG4mJnIucHVzaChuKSxyfShlKSl7Y29uc3QgZT1bXTtmb3IobGV0IHI9MDtyPGkubGVuZ3RoOysrcillLnB1c2goYnIoaVtyXSx0KSk7ci5wdXNoKGUpO31jb25zdCBuPW5ldyBzcihyWzBdWzBdWzBdWzFdLFwibWV0ZXJzXCIpO2lmKFwiUG9pbnRcIj09PWkudHlwZXx8XCJNdWx0aVBvaW50XCI9PT1pLnR5cGV8fFwiTGluZVN0cmluZ1wiPT09aS50eXBlKXJldHVybiBrcihcIlBvaW50XCI9PT1pLnR5cGU/W2kuY29vcmRpbmF0ZXNdOmkuY29vcmRpbmF0ZXMsXCJMaW5lU3RyaW5nXCI9PT1pLnR5cGUscixuKTtpZihcIk11bHRpTGluZVN0cmluZ1wiPT09aS50eXBlKXtsZXQgZT0xLzA7Zm9yKGxldCB0PTA7dDxpLmNvb3JkaW5hdGVzLmxlbmd0aDt0Kyspe2NvbnN0IG89a3IoaS5jb29yZGluYXRlc1t0XSwhMCxyLG4sZSk7aWYoaXNOYU4obykpcmV0dXJuIG87aWYoMD09PShlPU1hdGgubWluKGUsbykpKXJldHVybiBlfXJldHVybiBlfXJldHVybiBcIlBvbHlnb25cIj09PWkudHlwZXx8XCJNdWx0aVBvbHlnb25cIj09PWkudHlwZT9mdW5jdGlvbihlLHQsaSl7bGV0IHI9MS8wO2Zvcihjb25zdCBuIG9mIGUpZm9yKGNvbnN0IGUgb2YgdCl7Y29uc3QgdD16cihuLGUsaSxyKTtpZihpc05hTih0KSlyZXR1cm4gdDtpZigwPT09KHI9TWF0aC5taW4ocix0KSkpcmV0dXJuIHJ9cmV0dXJuIHJ9KFwiUG9seWdvblwiPT09aS50eXBlP1tpLmNvb3JkaW5hdGVzXTppLmNvb3JkaW5hdGVzLHIsbik6bnVsbH0odCxpLHRoaXMuZ2VvbWV0cmllcyk7Y29uc29sZS53YXJuKFwiRGlzdGFuY2UgRXhwcmVzc2lvbjogY3VycmVudGx5IG9ubHkgZXZhbHVhdGVzIHZhbGlkIFBvaW50L0xpbmVTdHJpbmcvUG9seWdvbiBnZW9tZXRyaWVzLlwiKTt9ZWxzZSBjb25zb2xlLndhcm4oXCJEaXN0YW5jZSBFeHByZXNzaW9uOiByZXF1aXJzIHZhbGlkIGZlYXR1cmUgYW5kIGNhbm9uaWNhbCBpbmZvcm1hdGlvbi5cIik7cmV0dXJuIG51bGx9ZWFjaENoaWxkKCl7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gITB9c2VyaWFsaXplKCl7cmV0dXJuIFtcImRpc3RhbmNlXCIsdGhpcy5nZW9qc29uXX19dmFyIEZyPUJyO2Z1bmN0aW9uIE5yKGUpe2lmKGUgaW5zdGFuY2VvZiBraSl7aWYoXCJnZXRcIj09PWUubmFtZSYmMT09PWUuYXJncy5sZW5ndGgpcmV0dXJuICExO2lmKFwiZmVhdHVyZS1zdGF0ZVwiPT09ZS5uYW1lKXJldHVybiAhMTtpZihcImhhc1wiPT09ZS5uYW1lJiYxPT09ZS5hcmdzLmxlbmd0aClyZXR1cm4gITE7aWYoXCJwcm9wZXJ0aWVzXCI9PT1lLm5hbWV8fFwiZ2VvbWV0cnktdHlwZVwiPT09ZS5uYW1lfHxcImlkXCI9PT1lLm5hbWUpcmV0dXJuICExO2lmKC9eZmlsdGVyLS8udGVzdChlLm5hbWUpKXJldHVybiAhMX1pZihlIGluc3RhbmNlb2YgbnIpcmV0dXJuICExO2lmKGUgaW5zdGFuY2VvZiBGcilyZXR1cm4gITE7bGV0IHQ9ITA7cmV0dXJuIGUuZWFjaENoaWxkKChlPT57dCYmIU5yKGUpJiYodD0hMSk7fSkpLHR9ZnVuY3Rpb24gVXIoZSl7aWYoZSBpbnN0YW5jZW9mIGtpJiZcImZlYXR1cmUtc3RhdGVcIj09PWUubmFtZSlyZXR1cm4gITE7bGV0IHQ9ITA7cmV0dXJuIGUuZWFjaENoaWxkKChlPT57dCYmIVVyKGUpJiYodD0hMSk7fSkpLHR9ZnVuY3Rpb24gVnIoZSl7aWYoZSBpbnN0YW5jZW9mIGtpJiZcImNvbmZpZ1wiPT09ZS5uYW1lKXJldHVybiAhMTtsZXQgdD0hMDtyZXR1cm4gZS5lYWNoQ2hpbGQoKGU9Pnt0JiYhVnIoZSkmJih0PSExKTt9KSksdH1mdW5jdGlvbiBqcihlLHQpe2lmKGUgaW5zdGFuY2VvZiBraSYmdC5pbmRleE9mKGUubmFtZSk+PTApcmV0dXJuICExO2xldCBpPSEwO3JldHVybiBlLmVhY2hDaGlsZCgoZT0+e2kmJiFqcihlLHQpJiYoaT0hMSk7fSkpLGl9Y2xhc3MgR3J7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnR5cGU9dC50eXBlLHRoaXMubmFtZT1lLHRoaXMuYm91bmRFeHByZXNzaW9uPXQ7fXN0YXRpYyBwYXJzZShlLHQpe2lmKDIhPT1lLmxlbmd0aHx8XCJzdHJpbmdcIiE9dHlwZW9mIGVbMV0pcmV0dXJuIHQuZXJyb3IoXCIndmFyJyBleHByZXNzaW9uIHJlcXVpcmVzIGV4YWN0bHkgb25lIHN0cmluZyBsaXRlcmFsIGFyZ3VtZW50LlwiKTtjb25zdCBpPWVbMV07cmV0dXJuIHQuc2NvcGUuaGFzKGkpP25ldyBHcihpLHQuc2NvcGUuZ2V0KGkpKTp0LmVycm9yKGBVbmtub3duIHZhcmlhYmxlIFwiJHtpfVwiLiBNYWtlIHN1cmUgXCIke2l9XCIgaGFzIGJlZW4gYm91bmQgaW4gYW4gZW5jbG9zaW5nIFwibGV0XCIgZXhwcmVzc2lvbiBiZWZvcmUgdXNpbmcgaXQuYCwxKX1ldmFsdWF0ZShlKXtyZXR1cm4gdGhpcy5ib3VuZEV4cHJlc3Npb24uZXZhbHVhdGUoZSl9ZWFjaENoaWxkKCl7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gITF9c2VyaWFsaXplKCl7cmV0dXJuIFtcInZhclwiLHRoaXMubmFtZV19fXZhciBxcj1HcjtjbGFzcyBacntjb25zdHJ1Y3RvcihlLHQ9W10saSxyPW5ldyBVdCxuPVtdLG8pe3RoaXMucmVnaXN0cnk9ZSx0aGlzLnBhdGg9dCx0aGlzLmtleT10Lm1hcCgoZT0+YFske2V9XWApKS5qb2luKFwiXCIpLHRoaXMuc2NvcGU9cix0aGlzLmVycm9ycz1uLHRoaXMuZXhwZWN0ZWRUeXBlPWksdGhpcy5vcHRpb25zPW87fXBhcnNlKGUsdCxpLHIsbj17fSl7cmV0dXJuIHR8fGk/dGhpcy5jb25jYXQodCxpLHIpLl9wYXJzZShlLG4pOnRoaXMuX3BhcnNlKGUsbil9X3BhcnNlKGUsdCl7ZnVuY3Rpb24gaShlLHQsaSl7cmV0dXJuIFwiYXNzZXJ0XCI9PT1pP25ldyBFaSh0LFtlXSk6XCJjb2VyY2VcIj09PWk/bmV3IHppKHQsW2VdKTplfWlmKG51bGwhPT1lJiZcInN0cmluZ1wiIT10eXBlb2YgZSYmXCJib29sZWFuXCIhPXR5cGVvZiBlJiZcIm51bWJlclwiIT10eXBlb2YgZXx8KGU9W1wibGl0ZXJhbFwiLGVdKSxBcnJheS5pc0FycmF5KGUpKXtpZigwPT09ZS5sZW5ndGgpcmV0dXJuIHRoaXMuZXJyb3IoJ0V4cGVjdGVkIGFuIGFycmF5IHdpdGggYXQgbGVhc3Qgb25lIGVsZW1lbnQuIElmIHlvdSB3YW50ZWQgYSBsaXRlcmFsIGFycmF5LCB1c2UgW1wibGl0ZXJhbFwiLCBbXV0uJyk7Y29uc3Qgcj1cInN0cmluZ1wiPT10eXBlb2YgZVswXT90aGlzLnJlZ2lzdHJ5W2VbMF1dOnZvaWQgMDtpZihyKXtsZXQgbj1yLnBhcnNlKGUsdGhpcyk7aWYoIW4pcmV0dXJuIG51bGw7aWYodGhpcy5leHBlY3RlZFR5cGUpe2NvbnN0IGU9dGhpcy5leHBlY3RlZFR5cGUscj1uLnR5cGU7aWYoXCJzdHJpbmdcIiE9PWUua2luZCYmXCJudW1iZXJcIiE9PWUua2luZCYmXCJib29sZWFuXCIhPT1lLmtpbmQmJlwib2JqZWN0XCIhPT1lLmtpbmQmJlwiYXJyYXlcIiE9PWUua2luZHx8XCJ2YWx1ZVwiIT09ci5raW5kKWlmKFwiY29sb3JcIiE9PWUua2luZCYmXCJmb3JtYXR0ZWRcIiE9PWUua2luZCYmXCJyZXNvbHZlZEltYWdlXCIhPT1lLmtpbmR8fFwidmFsdWVcIiE9PXIua2luZCYmXCJzdHJpbmdcIiE9PXIua2luZCl7aWYodGhpcy5jaGVja1N1YnR5cGUoZSxyKSlyZXR1cm4gbnVsbH1lbHNlIG49aShuLGUsdC50eXBlQW5ub3RhdGlvbnx8XCJjb2VyY2VcIik7ZWxzZSBuPWkobixlLHQudHlwZUFubm90YXRpb258fFwiYXNzZXJ0XCIpO31pZighKG4gaW5zdGFuY2VvZiB2aSkmJlwicmVzb2x2ZWRJbWFnZVwiIT09bi50eXBlLmtpbmQmJldyKG4pKXtjb25zdCBlPW5ldyBEaSh0aGlzLm9wdGlvbnMpO3RyeXtuPW5ldyB2aShuLnR5cGUsbi5ldmFsdWF0ZShlKSk7fWNhdGNoKGUpe3JldHVybiB0aGlzLmVycm9yKGUubWVzc2FnZSksbnVsbH19cmV0dXJuIG59cmV0dXJuIHppLnBhcnNlKFtcInRvLWFycmF5XCIsZV0sdGhpcyl9cmV0dXJuIHRoaXMuZXJyb3Iodm9pZCAwPT09ZT9cIid1bmRlZmluZWQnIHZhbHVlIGludmFsaWQuIFVzZSBudWxsIGluc3RlYWQuXCI6XCJvYmplY3RcIj09dHlwZW9mIGU/J0JhcmUgb2JqZWN0cyBpbnZhbGlkLiBVc2UgW1wibGl0ZXJhbFwiLCB7Li4ufV0gaW5zdGVhZC4nOmBFeHBlY3RlZCBhbiBhcnJheSwgYnV0IGZvdW5kICR7dHlwZW9mIGV9IGluc3RlYWQuYCl9Y29uY2F0KGUsdCxpKXtjb25zdCByPVwibnVtYmVyXCI9PXR5cGVvZiBlP3RoaXMucGF0aC5jb25jYXQoZSk6dGhpcy5wYXRoLG49aT90aGlzLnNjb3BlLmNvbmNhdChpKTp0aGlzLnNjb3BlO3JldHVybiBuZXcgWnIodGhpcy5yZWdpc3RyeSxyLHR8fG51bGwsbix0aGlzLmVycm9ycyx0aGlzLm9wdGlvbnMpfWVycm9yKGUsLi4udCl7Y29uc3QgaT1gJHt0aGlzLmtleX0ke3QubWFwKChlPT5gWyR7ZX1dYCkpLmpvaW4oXCJcIil9YDt0aGlzLmVycm9ycy5wdXNoKG5ldyBGdChpLGUpKTt9Y2hlY2tTdWJ0eXBlKGUsdCl7Y29uc3QgaT1laShlLHQpO3JldHVybiBpJiZ0aGlzLmVycm9yKGkpLGl9fXZhciAkcj1acjtmdW5jdGlvbiBXcihlKXtpZihlIGluc3RhbmNlb2YgcXIpcmV0dXJuIFdyKGUuYm91bmRFeHByZXNzaW9uKTtpZihlIGluc3RhbmNlb2Yga2kmJlwiZXJyb3JcIj09PWUubmFtZSlyZXR1cm4gITE7aWYoZSBpbnN0YW5jZW9mIGtpJiZcImNvbmZpZ1wiPT09ZS5uYW1lKXJldHVybiAhMTtpZihlIGluc3RhbmNlb2YgT2kpcmV0dXJuICExO2lmKGUgaW5zdGFuY2VvZiBucilyZXR1cm4gITE7aWYoZSBpbnN0YW5jZW9mIEZyKXJldHVybiAhMTtjb25zdCB0PWUgaW5zdGFuY2VvZiB6aXx8ZSBpbnN0YW5jZW9mIEVpO2xldCBpPSEwO3JldHVybiBlLmVhY2hDaGlsZCgoZT0+e2k9dD9pJiZXcihlKTppJiZlIGluc3RhbmNlb2Ygdmk7fSkpLCEhaSYmTnIoZSkmJmpyKGUsW1wiem9vbVwiLFwiaGVhdG1hcC1kZW5zaXR5XCIsXCJsaW5lLXByb2dyZXNzXCIsXCJyYXN0ZXItdmFsdWVcIixcInNreS1yYWRpYWwtcHJvZ3Jlc3NcIixcImFjY3VtdWxhdGVkXCIsXCJpcy1zdXBwb3J0ZWQtc2NyaXB0XCIsXCJwaXRjaFwiLFwiZGlzdGFuY2UtZnJvbS1jZW50ZXJcIixcIm1lYXN1cmUtbGlnaHRcIl0pfWZ1bmN0aW9uIEhyKGUsdCl7Y29uc3QgaT1lLmxlbmd0aC0xO2xldCByLG4sbz0wLHM9aSxhPTA7Zm9yKDtvPD1zOylpZihhPU1hdGguZmxvb3IoKG8rcykvMikscj1lW2FdLG49ZVthKzFdLHI8PXQpe2lmKGE9PT1pfHx0PG4pcmV0dXJuIGE7bz1hKzE7fWVsc2Uge2lmKCEocj50KSl0aHJvdyBuZXcgYmkoXCJJbnB1dCBpcyBub3QgYSBudW1iZXIuXCIpO3M9YS0xO31yZXR1cm4gMH1jbGFzcyBYcntjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy50eXBlPWUsdGhpcy5pbnB1dD10LHRoaXMubGFiZWxzPVtdLHRoaXMub3V0cHV0cz1bXTtmb3IoY29uc3RbZSx0XW9mIGkpdGhpcy5sYWJlbHMucHVzaChlKSx0aGlzLm91dHB1dHMucHVzaCh0KTt9c3RhdGljIHBhcnNlKGUsdCl7aWYoZS5sZW5ndGgtMTw0KXJldHVybiB0LmVycm9yKGBFeHBlY3RlZCBhdCBsZWFzdCA0IGFyZ3VtZW50cywgYnV0IGZvdW5kIG9ubHkgJHtlLmxlbmd0aC0xfS5gKTtpZigoZS5sZW5ndGgtMSklMiE9MClyZXR1cm4gdC5lcnJvcihcIkV4cGVjdGVkIGFuIGV2ZW4gbnVtYmVyIG9mIGFyZ3VtZW50cy5cIik7Y29uc3QgaT10LnBhcnNlKGVbMV0sMSxqdCk7aWYoIWkpcmV0dXJuIG51bGw7Y29uc3Qgcj1bXTtsZXQgbj1udWxsO3QuZXhwZWN0ZWRUeXBlJiZcInZhbHVlXCIhPT10LmV4cGVjdGVkVHlwZS5raW5kJiYobj10LmV4cGVjdGVkVHlwZSk7Zm9yKGxldCBpPTE7aTxlLmxlbmd0aDtpKz0yKXtjb25zdCBvPTE9PT1pPy0xLzA6ZVtpXSxzPWVbaSsxXSxhPWksbD1pKzE7aWYoXCJudW1iZXJcIiE9dHlwZW9mIG8pcmV0dXJuIHQuZXJyb3IoJ0lucHV0L291dHB1dCBwYWlycyBmb3IgXCJzdGVwXCIgZXhwcmVzc2lvbnMgbXVzdCBiZSBkZWZpbmVkIHVzaW5nIGxpdGVyYWwgbnVtZXJpYyB2YWx1ZXMgKG5vdCBjb21wdXRlZCBleHByZXNzaW9ucykgZm9yIHRoZSBpbnB1dCB2YWx1ZXMuJyxhKTtpZihyLmxlbmd0aCYmcltyLmxlbmd0aC0xXVswXT49bylyZXR1cm4gdC5lcnJvcignSW5wdXQvb3V0cHV0IHBhaXJzIGZvciBcInN0ZXBcIiBleHByZXNzaW9ucyBtdXN0IGJlIGFycmFuZ2VkIHdpdGggaW5wdXQgdmFsdWVzIGluIHN0cmljdGx5IGFzY2VuZGluZyBvcmRlci4nLGEpO2NvbnN0IGM9dC5wYXJzZShzLGwsbik7aWYoIWMpcmV0dXJuIG51bGw7bj1ufHxjLnR5cGUsci5wdXNoKFtvLGNdKTt9cmV0dXJuIG5ldyBYcihuLGkscil9ZXZhbHVhdGUoZSl7Y29uc3QgdD10aGlzLmxhYmVscyxpPXRoaXMub3V0cHV0cztpZigxPT09dC5sZW5ndGgpcmV0dXJuIGlbMF0uZXZhbHVhdGUoZSk7Y29uc3Qgcj10aGlzLmlucHV0LmV2YWx1YXRlKGUpO2lmKHI8PXRbMF0pcmV0dXJuIGlbMF0uZXZhbHVhdGUoZSk7Y29uc3Qgbj10Lmxlbmd0aDtyZXR1cm4gcj49dFtuLTFdP2lbbi0xXS5ldmFsdWF0ZShlKTppW0hyKHQscildLmV2YWx1YXRlKGUpfWVhY2hDaGlsZChlKXtlKHRoaXMuaW5wdXQpO2Zvcihjb25zdCB0IG9mIHRoaXMub3V0cHV0cyllKHQpO31vdXRwdXREZWZpbmVkKCl7cmV0dXJuIHRoaXMub3V0cHV0cy5ldmVyeSgoZT0+ZS5vdXRwdXREZWZpbmVkKCkpKX1zZXJpYWxpemUoKXtjb25zdCBlPVtcInN0ZXBcIix0aGlzLmlucHV0LnNlcmlhbGl6ZSgpXTtmb3IobGV0IHQ9MDt0PHRoaXMubGFiZWxzLmxlbmd0aDt0KyspdD4wJiZlLnB1c2godGhpcy5sYWJlbHNbdF0pLGUucHVzaCh0aGlzLm91dHB1dHNbdF0uc2VyaWFsaXplKCkpO3JldHVybiBlfX12YXIgWXI9WHI7ZnVuY3Rpb24gS3IoZSx0LGkpe3JldHVybiBlKigxLWkpK3QqaX1mdW5jdGlvbiBKcihlLHQsaSl7cmV0dXJuIGUubWFwKCgoZSxyKT0+S3IoZSx0W3JdLGkpKSl9dmFyIFFyPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGFycmF5OkpyLGNvbG9yOmZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gbmV3IGhpKEtyKGUucix0LnIsaSksS3IoZS5nLHQuZyxpKSxLcihlLmIsdC5iLGkpLEtyKGUuYSx0LmEsaSkpfSxudW1iZXI6S3J9KTtjb25zdCBlbj0uOTUwNDcsdG49MS4wODg4Myxybj00LzI5LG5uPTYvMjksb249Mypubipubixzbj1ubipubipubixhbj1NYXRoLlBJLzE4MCxsbj0xODAvTWF0aC5QSTtmdW5jdGlvbiBjbihlKXtyZXR1cm4gZT5zbj9NYXRoLnBvdyhlLDEvMyk6ZS9vbitybn1mdW5jdGlvbiBobihlKXtyZXR1cm4gZT5ubj9lKmUqZTpvbiooZS1ybil9ZnVuY3Rpb24gdW4oZSl7cmV0dXJuIDI1NSooZTw9LjAwMzEzMDg/MTIuOTIqZToxLjA1NSpNYXRoLnBvdyhlLDEvMi40KS0uMDU1KX1mdW5jdGlvbiBkbihlKXtyZXR1cm4gKGUvPTI1NSk8PS4wNDA0NT9lLzEyLjkyOk1hdGgucG93KChlKy4wNTUpLzEuMDU1LDIuNCl9ZnVuY3Rpb24gcG4oZSl7Y29uc3QgdD1kbihlLnIpLGk9ZG4oZS5nKSxyPWRuKGUuYiksbj1jbigoLjQxMjQ1NjQqdCsuMzU3NTc2MSppKy4xODA0Mzc1KnIpL2VuKSxvPWNuKCguMjEyNjcyOSp0Ky43MTUxNTIyKmkrLjA3MjE3NSpyKS8xKTtyZXR1cm4ge2w6MTE2Km8tMTYsYTo1MDAqKG4tbyksYjoyMDAqKG8tY24oKC4wMTkzMzM5KnQrLjExOTE5MippKy45NTAzMDQxKnIpL3RuKSksYWxwaGE6ZS5hfX1mdW5jdGlvbiBmbihlKXtsZXQgdD0oZS5sKzE2KS8xMTYsaT1pc05hTihlLmEpP3Q6dCtlLmEvNTAwLHI9aXNOYU4oZS5iKT90OnQtZS5iLzIwMDtyZXR1cm4gdD0xKmhuKHQpLGk9ZW4qaG4oaSkscj10bipobihyKSxuZXcgaGkodW4oMy4yNDA0NTQyKmktMS41MzcxMzg1KnQtLjQ5ODUzMTQqciksdW4oLS45NjkyNjYqaSsxLjg3NjAxMDgqdCsuMDQxNTU2KnIpLHVuKC4wNTU2NDM0KmktLjIwNDAyNTkqdCsxLjA1NzIyNTIqciksZS5hbHBoYSl9ZnVuY3Rpb24gbW4oZSx0LGkpe2NvbnN0IHI9dC1lO3JldHVybiBlK2kqKHI+MTgwfHxyPC0xODA/ci0zNjAqTWF0aC5yb3VuZChyLzM2MCk6cil9Y29uc3QgX249e2ZvcndhcmQ6cG4scmV2ZXJzZTpmbixpbnRlcnBvbGF0ZTpmdW5jdGlvbihlLHQsaSl7cmV0dXJuIHtsOktyKGUubCx0LmwsaSksYTpLcihlLmEsdC5hLGkpLGI6S3IoZS5iLHQuYixpKSxhbHBoYTpLcihlLmFscGhhLHQuYWxwaGEsaSl9fX0sZ249e2ZvcndhcmQ6ZnVuY3Rpb24oZSl7Y29uc3R7bDp0LGE6aSxiOnJ9PXBuKGUpLG49TWF0aC5hdGFuMihyLGkpKmxuO3JldHVybiB7aDpuPDA/biszNjA6bixjOk1hdGguc3FydChpKmkrcipyKSxsOnQsYWxwaGE6ZS5hfX0scmV2ZXJzZTpmdW5jdGlvbihlKXtjb25zdCB0PWUuaCphbixpPWUuYztyZXR1cm4gZm4oe2w6ZS5sLGE6TWF0aC5jb3ModCkqaSxiOk1hdGguc2luKHQpKmksYWxwaGE6ZS5hbHBoYX0pfSxpbnRlcnBvbGF0ZTpmdW5jdGlvbihlLHQsaSl7cmV0dXJuIHtoOm1uKGUuaCx0LmgsaSksYzpLcihlLmMsdC5jLGkpLGw6S3IoZS5sLHQubCxpKSxhbHBoYTpLcihlLmFscGhhLHQuYWxwaGEsaSl9fX07dmFyIHluPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGhjbDpnbixsYWI6X259KTtjbGFzcyB4bntjb25zdHJ1Y3RvcihlLHQsaSxyLG4pe3RoaXMudHlwZT1lLHRoaXMub3BlcmF0b3I9dCx0aGlzLmludGVycG9sYXRpb249aSx0aGlzLmlucHV0PXIsdGhpcy5sYWJlbHM9W10sdGhpcy5vdXRwdXRzPVtdO2Zvcihjb25zdFtlLHRdb2Ygbil0aGlzLmxhYmVscy5wdXNoKGUpLHRoaXMub3V0cHV0cy5wdXNoKHQpO31zdGF0aWMgaW50ZXJwb2xhdGlvbkZhY3RvcihlLHQsaSxyKXtsZXQgbj0wO2lmKFwiZXhwb25lbnRpYWxcIj09PWUubmFtZSluPXZuKHQsZS5iYXNlLGkscik7ZWxzZSBpZihcImxpbmVhclwiPT09ZS5uYW1lKW49dm4odCwxLGkscik7ZWxzZSBpZihcImN1YmljLWJlemllclwiPT09ZS5uYW1lKXtjb25zdCBvPWUuY29udHJvbFBvaW50cztuPW5ldyBtKG9bMF0sb1sxXSxvWzJdLG9bM10pLnNvbHZlKHZuKHQsMSxpLHIpKTt9cmV0dXJuIG59c3RhdGljIHBhcnNlKGUsdCl7bGV0W2kscixuLC4uLm9dPWU7aWYoIUFycmF5LmlzQXJyYXkocil8fDA9PT1yLmxlbmd0aClyZXR1cm4gdC5lcnJvcihcIkV4cGVjdGVkIGFuIGludGVycG9sYXRpb24gdHlwZSBleHByZXNzaW9uLlwiLDEpO2lmKFwibGluZWFyXCI9PT1yWzBdKXI9e25hbWU6XCJsaW5lYXJcIn07ZWxzZSBpZihcImV4cG9uZW50aWFsXCI9PT1yWzBdKXtjb25zdCBlPXJbMV07aWYoXCJudW1iZXJcIiE9dHlwZW9mIGUpcmV0dXJuIHQuZXJyb3IoXCJFeHBvbmVudGlhbCBpbnRlcnBvbGF0aW9uIHJlcXVpcmVzIGEgbnVtZXJpYyBiYXNlLlwiLDEsMSk7cj17bmFtZTpcImV4cG9uZW50aWFsXCIsYmFzZTplfTt9ZWxzZSB7aWYoXCJjdWJpYy1iZXppZXJcIiE9PXJbMF0pcmV0dXJuIHQuZXJyb3IoYFVua25vd24gaW50ZXJwb2xhdGlvbiB0eXBlICR7U3RyaW5nKHJbMF0pfWAsMSwwKTt7Y29uc3QgZT1yLnNsaWNlKDEpO2lmKDQhPT1lLmxlbmd0aHx8ZS5zb21lKChlPT5cIm51bWJlclwiIT10eXBlb2YgZXx8ZTwwfHxlPjEpKSlyZXR1cm4gdC5lcnJvcihcIkN1YmljIGJlemllciBpbnRlcnBvbGF0aW9uIHJlcXVpcmVzIGZvdXIgbnVtZXJpYyBhcmd1bWVudHMgd2l0aCB2YWx1ZXMgYmV0d2VlbiAwIGFuZCAxLlwiLDEpO3I9e25hbWU6XCJjdWJpYy1iZXppZXJcIixjb250cm9sUG9pbnRzOmV9O319aWYoZS5sZW5ndGgtMTw0KXJldHVybiB0LmVycm9yKGBFeHBlY3RlZCBhdCBsZWFzdCA0IGFyZ3VtZW50cywgYnV0IGZvdW5kIG9ubHkgJHtlLmxlbmd0aC0xfS5gKTtpZigoZS5sZW5ndGgtMSklMiE9MClyZXR1cm4gdC5lcnJvcihcIkV4cGVjdGVkIGFuIGV2ZW4gbnVtYmVyIG9mIGFyZ3VtZW50cy5cIik7aWYobj10LnBhcnNlKG4sMixqdCksIW4pcmV0dXJuIG51bGw7Y29uc3Qgcz1bXTtsZXQgYT1udWxsO1wiaW50ZXJwb2xhdGUtaGNsXCI9PT1pfHxcImludGVycG9sYXRlLWxhYlwiPT09aT9hPVp0OnQuZXhwZWN0ZWRUeXBlJiZcInZhbHVlXCIhPT10LmV4cGVjdGVkVHlwZS5raW5kJiYoYT10LmV4cGVjdGVkVHlwZSk7Zm9yKGxldCBlPTA7ZTxvLmxlbmd0aDtlKz0yKXtjb25zdCBpPW9bZV0scj1vW2UrMV0sbj1lKzMsbD1lKzQ7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGkpcmV0dXJuIHQuZXJyb3IoJ0lucHV0L291dHB1dCBwYWlycyBmb3IgXCJpbnRlcnBvbGF0ZVwiIGV4cHJlc3Npb25zIG11c3QgYmUgZGVmaW5lZCB1c2luZyBsaXRlcmFsIG51bWVyaWMgdmFsdWVzIChub3QgY29tcHV0ZWQgZXhwcmVzc2lvbnMpIGZvciB0aGUgaW5wdXQgdmFsdWVzLicsbik7aWYocy5sZW5ndGgmJnNbcy5sZW5ndGgtMV1bMF0+PWkpcmV0dXJuIHQuZXJyb3IoJ0lucHV0L291dHB1dCBwYWlycyBmb3IgXCJpbnRlcnBvbGF0ZVwiIGV4cHJlc3Npb25zIG11c3QgYmUgYXJyYW5nZWQgd2l0aCBpbnB1dCB2YWx1ZXMgaW4gc3RyaWN0bHkgYXNjZW5kaW5nIG9yZGVyLicsbik7Y29uc3QgYz10LnBhcnNlKHIsbCxhKTtpZighYylyZXR1cm4gbnVsbDthPWF8fGMudHlwZSxzLnB1c2goW2ksY10pO31yZXR1cm4gXCJudW1iZXJcIj09PWEua2luZHx8XCJjb2xvclwiPT09YS5raW5kfHxcImFycmF5XCI9PT1hLmtpbmQmJlwibnVtYmVyXCI9PT1hLml0ZW1UeXBlLmtpbmQmJlwibnVtYmVyXCI9PXR5cGVvZiBhLk4/bmV3IHhuKGEsaSxyLG4scyk6dC5lcnJvcihgVHlwZSAke0p0KGEpfSBpcyBub3QgaW50ZXJwb2xhdGFibGUuYCl9ZXZhbHVhdGUoZSl7Y29uc3QgdD10aGlzLmxhYmVscyxpPXRoaXMub3V0cHV0cztpZigxPT09dC5sZW5ndGgpcmV0dXJuIGlbMF0uZXZhbHVhdGUoZSk7Y29uc3Qgcj10aGlzLmlucHV0LmV2YWx1YXRlKGUpO2lmKHI8PXRbMF0pcmV0dXJuIGlbMF0uZXZhbHVhdGUoZSk7Y29uc3Qgbj10Lmxlbmd0aDtpZihyPj10W24tMV0pcmV0dXJuIGlbbi0xXS5ldmFsdWF0ZShlKTtjb25zdCBvPUhyKHQscikscz14bi5pbnRlcnBvbGF0aW9uRmFjdG9yKHRoaXMuaW50ZXJwb2xhdGlvbixyLHRbb10sdFtvKzFdKSxhPWlbb10uZXZhbHVhdGUoZSksbD1pW28rMV0uZXZhbHVhdGUoZSk7cmV0dXJuIFwiaW50ZXJwb2xhdGVcIj09PXRoaXMub3BlcmF0b3I/UXJbdGhpcy50eXBlLmtpbmQudG9Mb3dlckNhc2UoKV0oYSxsLHMpOlwiaW50ZXJwb2xhdGUtaGNsXCI9PT10aGlzLm9wZXJhdG9yP2duLnJldmVyc2UoZ24uaW50ZXJwb2xhdGUoZ24uZm9yd2FyZChhKSxnbi5mb3J3YXJkKGwpLHMpKTpfbi5yZXZlcnNlKF9uLmludGVycG9sYXRlKF9uLmZvcndhcmQoYSksX24uZm9yd2FyZChsKSxzKSl9ZWFjaENoaWxkKGUpe2UodGhpcy5pbnB1dCk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5vdXRwdXRzKWUodCk7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gdGhpcy5vdXRwdXRzLmV2ZXJ5KChlPT5lLm91dHB1dERlZmluZWQoKSkpfXNlcmlhbGl6ZSgpe2xldCBlO2U9XCJsaW5lYXJcIj09PXRoaXMuaW50ZXJwb2xhdGlvbi5uYW1lP1tcImxpbmVhclwiXTpcImV4cG9uZW50aWFsXCI9PT10aGlzLmludGVycG9sYXRpb24ubmFtZT8xPT09dGhpcy5pbnRlcnBvbGF0aW9uLmJhc2U/W1wibGluZWFyXCJdOltcImV4cG9uZW50aWFsXCIsdGhpcy5pbnRlcnBvbGF0aW9uLmJhc2VdOltcImN1YmljLWJlemllclwiXS5jb25jYXQodGhpcy5pbnRlcnBvbGF0aW9uLmNvbnRyb2xQb2ludHMpO2NvbnN0IHQ9W3RoaXMub3BlcmF0b3IsZSx0aGlzLmlucHV0LnNlcmlhbGl6ZSgpXTtmb3IobGV0IGU9MDtlPHRoaXMubGFiZWxzLmxlbmd0aDtlKyspdC5wdXNoKHRoaXMubGFiZWxzW2VdLHRoaXMub3V0cHV0c1tlXS5zZXJpYWxpemUoKSk7cmV0dXJuIHR9fWZ1bmN0aW9uIHZuKGUsdCxpLHIpe2NvbnN0IG49ci1pLG89ZS1pO3JldHVybiAwPT09bj8wOjE9PT10P28vbjooTWF0aC5wb3codCxvKS0xKS8oTWF0aC5wb3codCxuKS0xKX12YXIgYm49eG47Y2xhc3Mgd257Y29uc3RydWN0b3IoZSx0KXt0aGlzLnR5cGU9ZSx0aGlzLmFyZ3M9dDt9c3RhdGljIHBhcnNlKGUsdCl7aWYoZS5sZW5ndGg8MilyZXR1cm4gdC5lcnJvcihcIkV4cGVjdGVjdGVkIGF0IGxlYXN0IG9uZSBhcmd1bWVudC5cIik7bGV0IGk9bnVsbDtjb25zdCByPXQuZXhwZWN0ZWRUeXBlO3ImJlwidmFsdWVcIiE9PXIua2luZCYmKGk9cik7Y29uc3Qgbj1bXTtmb3IoY29uc3QgciBvZiBlLnNsaWNlKDEpKXtjb25zdCBlPXQucGFyc2UociwxK24ubGVuZ3RoLGksdm9pZCAwLHt0eXBlQW5ub3RhdGlvbjpcIm9taXRcIn0pO2lmKCFlKXJldHVybiBudWxsO2k9aXx8ZS50eXBlLG4ucHVzaChlKTt9Y29uc3Qgbz1yJiZuLnNvbWUoKGU9PmVpKHIsZS50eXBlKSkpO3JldHVybiBuZXcgd24obz9XdDppLG4pfWV2YWx1YXRlKGUpe2xldCB0LGk9bnVsbCxyPTA7Zm9yKGNvbnN0IG4gb2YgdGhpcy5hcmdzKXtpZihyKyssaT1uLmV2YWx1YXRlKGUpLGkmJmkgaW5zdGFuY2VvZiBmaSYmIWkuYXZhaWxhYmxlJiYodHx8KHQ9aSksaT1udWxsLHI9PT10aGlzLmFyZ3MubGVuZ3RoKSlyZXR1cm4gdDtpZihudWxsIT09aSlicmVha31yZXR1cm4gaX1lYWNoQ2hpbGQoZSl7dGhpcy5hcmdzLmZvckVhY2goZSk7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gdGhpcy5hcmdzLmV2ZXJ5KChlPT5lLm91dHB1dERlZmluZWQoKSkpfXNlcmlhbGl6ZSgpe2NvbnN0IGU9W1wiY29hbGVzY2VcIl07cmV0dXJuIHRoaXMuZWFjaENoaWxkKCh0PT57ZS5wdXNoKHQuc2VyaWFsaXplKCkpO30pKSxlfX12YXIgVG49d247Y2xhc3MgRW57Y29uc3RydWN0b3IoZSx0KXt0aGlzLnR5cGU9dC50eXBlLHRoaXMuYmluZGluZ3M9W10uY29uY2F0KGUpLHRoaXMucmVzdWx0PXQ7fWV2YWx1YXRlKGUpe3JldHVybiB0aGlzLnJlc3VsdC5ldmFsdWF0ZShlKX1lYWNoQ2hpbGQoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5iaW5kaW5ncyllKHRbMV0pO2UodGhpcy5yZXN1bHQpO31zdGF0aWMgcGFyc2UoZSx0KXtpZihlLmxlbmd0aDw0KXJldHVybiB0LmVycm9yKGBFeHBlY3RlZCBhdCBsZWFzdCAzIGFyZ3VtZW50cywgYnV0IGZvdW5kICR7ZS5sZW5ndGgtMX0gaW5zdGVhZC5gKTtjb25zdCBpPVtdO2ZvcihsZXQgcj0xO3I8ZS5sZW5ndGgtMTtyKz0yKXtjb25zdCBuPWVbcl07aWYoXCJzdHJpbmdcIiE9dHlwZW9mIG4pcmV0dXJuIHQuZXJyb3IoYEV4cGVjdGVkIHN0cmluZywgYnV0IGZvdW5kICR7dHlwZW9mIG59IGluc3RlYWQuYCxyKTtpZigvW15hLXpBLVowLTlfXS8udGVzdChuKSlyZXR1cm4gdC5lcnJvcihcIlZhcmlhYmxlIG5hbWVzIG11c3QgY29udGFpbiBvbmx5IGFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzIG9yICdfJy5cIixyKTtjb25zdCBvPXQucGFyc2UoZVtyKzFdLHIrMSk7aWYoIW8pcmV0dXJuIG51bGw7aS5wdXNoKFtuLG9dKTt9Y29uc3Qgcj10LnBhcnNlKGVbZS5sZW5ndGgtMV0sZS5sZW5ndGgtMSx0LmV4cGVjdGVkVHlwZSxpKTtyZXR1cm4gcj9uZXcgRW4oaSxyKTpudWxsfW91dHB1dERlZmluZWQoKXtyZXR1cm4gdGhpcy5yZXN1bHQub3V0cHV0RGVmaW5lZCgpfXNlcmlhbGl6ZSgpe2NvbnN0IGU9W1wibGV0XCJdO2Zvcihjb25zdFt0LGldb2YgdGhpcy5iaW5kaW5ncyllLnB1c2godCxpLnNlcmlhbGl6ZSgpKTtyZXR1cm4gZS5wdXNoKHRoaXMucmVzdWx0LnNlcmlhbGl6ZSgpKSxlfX12YXIgTW49RW47Y2xhc3MgQW57Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMudHlwZT1lLHRoaXMuaW5kZXg9dCx0aGlzLmlucHV0PWk7fXN0YXRpYyBwYXJzZShlLHQpe2lmKDMhPT1lLmxlbmd0aClyZXR1cm4gdC5lcnJvcihgRXhwZWN0ZWQgMiBhcmd1bWVudHMsIGJ1dCBmb3VuZCAke2UubGVuZ3RoLTF9IGluc3RlYWQuYCk7Y29uc3QgaT10LnBhcnNlKGVbMV0sMSxqdCkscj10LnBhcnNlKGVbMl0sMixLdCh0LmV4cGVjdGVkVHlwZXx8V3QpKTtyZXR1cm4gaSYmcj9uZXcgQW4oci50eXBlLml0ZW1UeXBlLGkscik6bnVsbH1ldmFsdWF0ZShlKXtjb25zdCB0PXRoaXMuaW5kZXguZXZhbHVhdGUoZSksaT10aGlzLmlucHV0LmV2YWx1YXRlKGUpO2lmKHQ8MCl0aHJvdyBuZXcgYmkoYEFycmF5IGluZGV4IG91dCBvZiBib3VuZHM6ICR7dH0gPCAwLmApO2lmKHQ+PWkubGVuZ3RoKXRocm93IG5ldyBiaShgQXJyYXkgaW5kZXggb3V0IG9mIGJvdW5kczogJHt0fSA+ICR7aS5sZW5ndGgtMX0uYCk7aWYodCE9PU1hdGguZmxvb3IodCkpdGhyb3cgbmV3IGJpKGBBcnJheSBpbmRleCBtdXN0IGJlIGFuIGludGVnZXIsIGJ1dCBmb3VuZCAke3R9IGluc3RlYWQuYCk7cmV0dXJuIGlbdF19ZWFjaENoaWxkKGUpe2UodGhpcy5pbmRleCksZSh0aGlzLmlucHV0KTt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiAhMX1zZXJpYWxpemUoKXtyZXR1cm4gW1wiYXRcIix0aGlzLmluZGV4LnNlcmlhbGl6ZSgpLHRoaXMuaW5wdXQuc2VyaWFsaXplKCldfX12YXIgU249QW47Y2xhc3MgSW57Y29uc3RydWN0b3IoZSx0KXt0aGlzLnR5cGU9cXQsdGhpcy5uZWVkbGU9ZSx0aGlzLmhheXN0YWNrPXQ7fXN0YXRpYyBwYXJzZShlLHQpe2lmKDMhPT1lLmxlbmd0aClyZXR1cm4gdC5lcnJvcihgRXhwZWN0ZWQgMiBhcmd1bWVudHMsIGJ1dCBmb3VuZCAke2UubGVuZ3RoLTF9IGluc3RlYWQuYCk7Y29uc3QgaT10LnBhcnNlKGVbMV0sMSxXdCkscj10LnBhcnNlKGVbMl0sMixXdCk7cmV0dXJuIGkmJnI/dGkoaS50eXBlLFtxdCxHdCxqdCxWdCxXdF0pP25ldyBJbihpLHIpOnQuZXJyb3IoYEV4cGVjdGVkIGZpcnN0IGFyZ3VtZW50IHRvIGJlIG9mIHR5cGUgYm9vbGVhbiwgc3RyaW5nLCBudW1iZXIgb3IgbnVsbCwgYnV0IGZvdW5kICR7SnQoaS50eXBlKX0gaW5zdGVhZGApOm51bGx9ZXZhbHVhdGUoZSl7Y29uc3QgdD10aGlzLm5lZWRsZS5ldmFsdWF0ZShlKSxpPXRoaXMuaGF5c3RhY2suZXZhbHVhdGUoZSk7aWYobnVsbD09aSlyZXR1cm4gITE7aWYoIWlpKHQsW1wiYm9vbGVhblwiLFwic3RyaW5nXCIsXCJudW1iZXJcIixcIm51bGxcIl0pKXRocm93IG5ldyBiaShgRXhwZWN0ZWQgZmlyc3QgYXJndW1lbnQgdG8gYmUgb2YgdHlwZSBib29sZWFuLCBzdHJpbmcsIG51bWJlciBvciBudWxsLCBidXQgZm91bmQgJHtKdChnaSh0KSl9IGluc3RlYWQuYCk7aWYoIWlpKGksW1wic3RyaW5nXCIsXCJhcnJheVwiXSkpdGhyb3cgbmV3IGJpKGBFeHBlY3RlZCBzZWNvbmQgYXJndW1lbnQgdG8gYmUgb2YgdHlwZSBhcnJheSBvciBzdHJpbmcsIGJ1dCBmb3VuZCAke0p0KGdpKGkpKX0gaW5zdGVhZC5gKTtyZXR1cm4gaS5pbmRleE9mKHQpPj0wfWVhY2hDaGlsZChlKXtlKHRoaXMubmVlZGxlKSxlKHRoaXMuaGF5c3RhY2spO31vdXRwdXREZWZpbmVkKCl7cmV0dXJuICEwfXNlcmlhbGl6ZSgpe3JldHVybiBbXCJpblwiLHRoaXMubmVlZGxlLnNlcmlhbGl6ZSgpLHRoaXMuaGF5c3RhY2suc2VyaWFsaXplKCldfX12YXIgQ249SW47Y2xhc3Mgem57Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMudHlwZT1qdCx0aGlzLm5lZWRsZT1lLHRoaXMuaGF5c3RhY2s9dCx0aGlzLmZyb21JbmRleD1pO31zdGF0aWMgcGFyc2UoZSx0KXtpZihlLmxlbmd0aDw9Mnx8ZS5sZW5ndGg+PTUpcmV0dXJuIHQuZXJyb3IoYEV4cGVjdGVkIDMgb3IgNCBhcmd1bWVudHMsIGJ1dCBmb3VuZCAke2UubGVuZ3RoLTF9IGluc3RlYWQuYCk7Y29uc3QgaT10LnBhcnNlKGVbMV0sMSxXdCkscj10LnBhcnNlKGVbMl0sMixXdCk7aWYoIWl8fCFyKXJldHVybiBudWxsO2lmKCF0aShpLnR5cGUsW3F0LEd0LGp0LFZ0LFd0XSkpcmV0dXJuIHQuZXJyb3IoYEV4cGVjdGVkIGZpcnN0IGFyZ3VtZW50IHRvIGJlIG9mIHR5cGUgYm9vbGVhbiwgc3RyaW5nLCBudW1iZXIgb3IgbnVsbCwgYnV0IGZvdW5kICR7SnQoaS50eXBlKX0gaW5zdGVhZGApO2lmKDQ9PT1lLmxlbmd0aCl7Y29uc3Qgbj10LnBhcnNlKGVbM10sMyxqdCk7cmV0dXJuIG4/bmV3IHpuKGkscixuKTpudWxsfXJldHVybiBuZXcgem4oaSxyKX1ldmFsdWF0ZShlKXtjb25zdCB0PXRoaXMubmVlZGxlLmV2YWx1YXRlKGUpLGk9dGhpcy5oYXlzdGFjay5ldmFsdWF0ZShlKTtpZighaWkodCxbXCJib29sZWFuXCIsXCJzdHJpbmdcIixcIm51bWJlclwiLFwibnVsbFwiXSkpdGhyb3cgbmV3IGJpKGBFeHBlY3RlZCBmaXJzdCBhcmd1bWVudCB0byBiZSBvZiB0eXBlIGJvb2xlYW4sIHN0cmluZywgbnVtYmVyIG9yIG51bGwsIGJ1dCBmb3VuZCAke0p0KGdpKHQpKX0gaW5zdGVhZC5gKTtpZighaWkoaSxbXCJzdHJpbmdcIixcImFycmF5XCJdKSl0aHJvdyBuZXcgYmkoYEV4cGVjdGVkIHNlY29uZCBhcmd1bWVudCB0byBiZSBvZiB0eXBlIGFycmF5IG9yIHN0cmluZywgYnV0IGZvdW5kICR7SnQoZ2koaSkpfSBpbnN0ZWFkLmApO2lmKHRoaXMuZnJvbUluZGV4KXtjb25zdCByPXRoaXMuZnJvbUluZGV4LmV2YWx1YXRlKGUpO3JldHVybiBpLmluZGV4T2YodCxyKX1yZXR1cm4gaS5pbmRleE9mKHQpfWVhY2hDaGlsZChlKXtlKHRoaXMubmVlZGxlKSxlKHRoaXMuaGF5c3RhY2spLHRoaXMuZnJvbUluZGV4JiZlKHRoaXMuZnJvbUluZGV4KTt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiAhMX1zZXJpYWxpemUoKXtpZihudWxsIT10aGlzLmZyb21JbmRleCYmdm9pZCAwIT09dGhpcy5mcm9tSW5kZXgpe2NvbnN0IGU9dGhpcy5mcm9tSW5kZXguc2VyaWFsaXplKCk7cmV0dXJuIFtcImluZGV4LW9mXCIsdGhpcy5uZWVkbGUuc2VyaWFsaXplKCksdGhpcy5oYXlzdGFjay5zZXJpYWxpemUoKSxlXX1yZXR1cm4gW1wiaW5kZXgtb2ZcIix0aGlzLm5lZWRsZS5zZXJpYWxpemUoKSx0aGlzLmhheXN0YWNrLnNlcmlhbGl6ZSgpXX19dmFyIFBuPXpuO2NsYXNzIERue2NvbnN0cnVjdG9yKGUsdCxpLHIsbixvKXt0aGlzLmlucHV0VHlwZT1lLHRoaXMudHlwZT10LHRoaXMuaW5wdXQ9aSx0aGlzLmNhc2VzPXIsdGhpcy5vdXRwdXRzPW4sdGhpcy5vdGhlcndpc2U9bzt9c3RhdGljIHBhcnNlKGUsdCl7aWYoZS5sZW5ndGg8NSlyZXR1cm4gdC5lcnJvcihgRXhwZWN0ZWQgYXQgbGVhc3QgNCBhcmd1bWVudHMsIGJ1dCBmb3VuZCBvbmx5ICR7ZS5sZW5ndGgtMX0uYCk7aWYoZS5sZW5ndGglMiE9MSlyZXR1cm4gdC5lcnJvcihcIkV4cGVjdGVkIGFuIGV2ZW4gbnVtYmVyIG9mIGFyZ3VtZW50cy5cIik7bGV0IGkscjt0LmV4cGVjdGVkVHlwZSYmXCJ2YWx1ZVwiIT09dC5leHBlY3RlZFR5cGUua2luZCYmKHI9dC5leHBlY3RlZFR5cGUpO2NvbnN0IG49e30sbz1bXTtmb3IobGV0IHM9MjtzPGUubGVuZ3RoLTE7cys9Mil7bGV0IGE9ZVtzXTtjb25zdCBsPWVbcysxXTtBcnJheS5pc0FycmF5KGEpfHwoYT1bYV0pO2NvbnN0IGM9dC5jb25jYXQocyk7aWYoMD09PWEubGVuZ3RoKXJldHVybiBjLmVycm9yKFwiRXhwZWN0ZWQgYXQgbGVhc3Qgb25lIGJyYW5jaCBsYWJlbC5cIik7Zm9yKGNvbnN0IGUgb2YgYSl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGUmJlwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiBjLmVycm9yKFwiQnJhbmNoIGxhYmVscyBtdXN0IGJlIG51bWJlcnMgb3Igc3RyaW5ncy5cIik7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUmJk1hdGguYWJzKGUpPk51bWJlci5NQVhfU0FGRV9JTlRFR0VSKXJldHVybiBjLmVycm9yKGBCcmFuY2ggbGFiZWxzIG11c3QgYmUgaW50ZWdlcnMgbm8gbGFyZ2VyIHRoYW4gJHtOdW1iZXIuTUFYX1NBRkVfSU5URUdFUn0uYCk7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUmJk1hdGguZmxvb3IoZSkhPT1lKXJldHVybiBjLmVycm9yKFwiTnVtZXJpYyBicmFuY2ggbGFiZWxzIG11c3QgYmUgaW50ZWdlciB2YWx1ZXMuXCIpO2lmKGkpe2lmKGMuY2hlY2tTdWJ0eXBlKGksZ2koZSkpKXJldHVybiBudWxsfWVsc2UgaT1naShlKTtpZih2b2lkIDAhPT1uW1N0cmluZyhlKV0pcmV0dXJuIGMuZXJyb3IoXCJCcmFuY2ggbGFiZWxzIG11c3QgYmUgdW5pcXVlLlwiKTtuW1N0cmluZyhlKV09by5sZW5ndGg7fWNvbnN0IGg9dC5wYXJzZShsLHMscik7aWYoIWgpcmV0dXJuIG51bGw7cj1yfHxoLnR5cGUsby5wdXNoKGgpO31jb25zdCBzPXQucGFyc2UoZVsxXSwxLFd0KTtpZighcylyZXR1cm4gbnVsbDtjb25zdCBhPXQucGFyc2UoZVtlLmxlbmd0aC0xXSxlLmxlbmd0aC0xLHIpO3JldHVybiBhP1widmFsdWVcIiE9PXMudHlwZS5raW5kJiZ0LmNvbmNhdCgxKS5jaGVja1N1YnR5cGUoaSxzLnR5cGUpP251bGw6bmV3IERuKGkscixzLG4sbyxhKTpudWxsfWV2YWx1YXRlKGUpe2NvbnN0IHQ9dGhpcy5pbnB1dC5ldmFsdWF0ZShlKTtyZXR1cm4gKGdpKHQpPT09dGhpcy5pbnB1dFR5cGUmJnRoaXMub3V0cHV0c1t0aGlzLmNhc2VzW3RdXXx8dGhpcy5vdGhlcndpc2UpLmV2YWx1YXRlKGUpfWVhY2hDaGlsZChlKXtlKHRoaXMuaW5wdXQpLHRoaXMub3V0cHV0cy5mb3JFYWNoKGUpLGUodGhpcy5vdGhlcndpc2UpO31vdXRwdXREZWZpbmVkKCl7cmV0dXJuIHRoaXMub3V0cHV0cy5ldmVyeSgoZT0+ZS5vdXRwdXREZWZpbmVkKCkpKSYmdGhpcy5vdGhlcndpc2Uub3V0cHV0RGVmaW5lZCgpfXNlcmlhbGl6ZSgpe2NvbnN0IGU9W1wibWF0Y2hcIix0aGlzLmlucHV0LnNlcmlhbGl6ZSgpXSx0PU9iamVjdC5rZXlzKHRoaXMuY2FzZXMpLnNvcnQoKSxpPVtdLHI9e307Zm9yKGNvbnN0IGUgb2YgdCl7Y29uc3QgdD1yW3RoaXMuY2FzZXNbZV1dO3ZvaWQgMD09PXQ/KHJbdGhpcy5jYXNlc1tlXV09aS5sZW5ndGgsaS5wdXNoKFt0aGlzLmNhc2VzW2VdLFtlXV0pKTppW3RdWzFdLnB1c2goZSk7fWNvbnN0IG49ZT0+XCJudW1iZXJcIj09PXRoaXMuaW5wdXRUeXBlLmtpbmQ/TnVtYmVyKGUpOmU7Zm9yKGNvbnN0W3Qscl1vZiBpKWUucHVzaCgxPT09ci5sZW5ndGg/bihyWzBdKTpyLm1hcChuKSksZS5wdXNoKHRoaXMub3V0cHV0c1t0XS5zZXJpYWxpemUoKSk7cmV0dXJuIGUucHVzaCh0aGlzLm90aGVyd2lzZS5zZXJpYWxpemUoKSksZX19dmFyIFJuPURuO2NsYXNzIExue2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLnR5cGU9ZSx0aGlzLmJyYW5jaGVzPXQsdGhpcy5vdGhlcndpc2U9aTt9c3RhdGljIHBhcnNlKGUsdCl7aWYoZS5sZW5ndGg8NClyZXR1cm4gdC5lcnJvcihgRXhwZWN0ZWQgYXQgbGVhc3QgMyBhcmd1bWVudHMsIGJ1dCBmb3VuZCBvbmx5ICR7ZS5sZW5ndGgtMX0uYCk7aWYoZS5sZW5ndGglMiE9MClyZXR1cm4gdC5lcnJvcihcIkV4cGVjdGVkIGFuIG9kZCBudW1iZXIgb2YgYXJndW1lbnRzLlwiKTtsZXQgaTt0LmV4cGVjdGVkVHlwZSYmXCJ2YWx1ZVwiIT09dC5leHBlY3RlZFR5cGUua2luZCYmKGk9dC5leHBlY3RlZFR5cGUpO2NvbnN0IHI9W107Zm9yKGxldCBuPTE7bjxlLmxlbmd0aC0xO24rPTIpe2NvbnN0IG89dC5wYXJzZShlW25dLG4scXQpO2lmKCFvKXJldHVybiBudWxsO2NvbnN0IHM9dC5wYXJzZShlW24rMV0sbisxLGkpO2lmKCFzKXJldHVybiBudWxsO3IucHVzaChbbyxzXSksaT1pfHxzLnR5cGU7fWNvbnN0IG49dC5wYXJzZShlW2UubGVuZ3RoLTFdLGUubGVuZ3RoLTEsaSk7cmV0dXJuIG4/bmV3IExuKGkscixuKTpudWxsfWV2YWx1YXRlKGUpe2Zvcihjb25zdFt0LGldb2YgdGhpcy5icmFuY2hlcylpZih0LmV2YWx1YXRlKGUpKXJldHVybiBpLmV2YWx1YXRlKGUpO3JldHVybiB0aGlzLm90aGVyd2lzZS5ldmFsdWF0ZShlKX1lYWNoQ2hpbGQoZSl7Zm9yKGNvbnN0W3QsaV1vZiB0aGlzLmJyYW5jaGVzKWUodCksZShpKTtlKHRoaXMub3RoZXJ3aXNlKTt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiB0aGlzLmJyYW5jaGVzLmV2ZXJ5KCgoW2UsdF0pPT50Lm91dHB1dERlZmluZWQoKSkpJiZ0aGlzLm90aGVyd2lzZS5vdXRwdXREZWZpbmVkKCl9c2VyaWFsaXplKCl7Y29uc3QgZT1bXCJjYXNlXCJdO3JldHVybiB0aGlzLmVhY2hDaGlsZCgodD0+e2UucHVzaCh0LnNlcmlhbGl6ZSgpKTt9KSksZX19dmFyIGtuPUxuO2NsYXNzIE9ue2NvbnN0cnVjdG9yKGUsdCxpLHIpe3RoaXMudHlwZT1lLHRoaXMuaW5wdXQ9dCx0aGlzLmJlZ2luSW5kZXg9aSx0aGlzLmVuZEluZGV4PXI7fXN0YXRpYyBwYXJzZShlLHQpe2lmKGUubGVuZ3RoPD0yfHxlLmxlbmd0aD49NSlyZXR1cm4gdC5lcnJvcihgRXhwZWN0ZWQgMyBvciA0IGFyZ3VtZW50cywgYnV0IGZvdW5kICR7ZS5sZW5ndGgtMX0gaW5zdGVhZC5gKTtjb25zdCBpPXQucGFyc2UoZVsxXSwxLFd0KSxyPXQucGFyc2UoZVsyXSwyLGp0KTtpZighaXx8IXIpcmV0dXJuIG51bGw7aWYoIXRpKGkudHlwZSxbS3QoV3QpLEd0LFd0XSkpcmV0dXJuIHQuZXJyb3IoYEV4cGVjdGVkIGZpcnN0IGFyZ3VtZW50IHRvIGJlIG9mIHR5cGUgYXJyYXkgb3Igc3RyaW5nLCBidXQgZm91bmQgJHtKdChpLnR5cGUpfSBpbnN0ZWFkYCk7aWYoND09PWUubGVuZ3RoKXtjb25zdCBuPXQucGFyc2UoZVszXSwzLGp0KTtyZXR1cm4gbj9uZXcgT24oaS50eXBlLGkscixuKTpudWxsfXJldHVybiBuZXcgT24oaS50eXBlLGkscil9ZXZhbHVhdGUoZSl7Y29uc3QgdD10aGlzLmlucHV0LmV2YWx1YXRlKGUpLGk9dGhpcy5iZWdpbkluZGV4LmV2YWx1YXRlKGUpO2lmKCFpaSh0LFtcInN0cmluZ1wiLFwiYXJyYXlcIl0pKXRocm93IG5ldyBiaShgRXhwZWN0ZWQgZmlyc3QgYXJndW1lbnQgdG8gYmUgb2YgdHlwZSBhcnJheSBvciBzdHJpbmcsIGJ1dCBmb3VuZCAke0p0KGdpKHQpKX0gaW5zdGVhZC5gKTtpZih0aGlzLmVuZEluZGV4KXtjb25zdCByPXRoaXMuZW5kSW5kZXguZXZhbHVhdGUoZSk7cmV0dXJuIHQuc2xpY2UoaSxyKX1yZXR1cm4gdC5zbGljZShpKX1lYWNoQ2hpbGQoZSl7ZSh0aGlzLmlucHV0KSxlKHRoaXMuYmVnaW5JbmRleCksdGhpcy5lbmRJbmRleCYmZSh0aGlzLmVuZEluZGV4KTt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiAhMX1zZXJpYWxpemUoKXtpZihudWxsIT10aGlzLmVuZEluZGV4JiZ2b2lkIDAhPT10aGlzLmVuZEluZGV4KXtjb25zdCBlPXRoaXMuZW5kSW5kZXguc2VyaWFsaXplKCk7cmV0dXJuIFtcInNsaWNlXCIsdGhpcy5pbnB1dC5zZXJpYWxpemUoKSx0aGlzLmJlZ2luSW5kZXguc2VyaWFsaXplKCksZV19cmV0dXJuIFtcInNsaWNlXCIsdGhpcy5pbnB1dC5zZXJpYWxpemUoKSx0aGlzLmJlZ2luSW5kZXguc2VyaWFsaXplKCldfX12YXIgQm49T247ZnVuY3Rpb24gRm4oZSx0KXtyZXR1cm4gXCI9PVwiPT09ZXx8XCIhPVwiPT09ZT9cImJvb2xlYW5cIj09PXQua2luZHx8XCJzdHJpbmdcIj09PXQua2luZHx8XCJudW1iZXJcIj09PXQua2luZHx8XCJudWxsXCI9PT10LmtpbmR8fFwidmFsdWVcIj09PXQua2luZDpcInN0cmluZ1wiPT09dC5raW5kfHxcIm51bWJlclwiPT09dC5raW5kfHxcInZhbHVlXCI9PT10LmtpbmR9ZnVuY3Rpb24gTm4oZSx0LGkscil7cmV0dXJuIDA9PT1yLmNvbXBhcmUodCxpKX1mdW5jdGlvbiBVbihlLHQsaSl7Y29uc3Qgcj1cIj09XCIhPT1lJiZcIiE9XCIhPT1lO3JldHVybiBjbGFzcyBue2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLnR5cGU9cXQsdGhpcy5saHM9ZSx0aGlzLnJocz10LHRoaXMuY29sbGF0b3I9aSx0aGlzLmhhc1VudHlwZWRBcmd1bWVudD1cInZhbHVlXCI9PT1lLnR5cGUua2luZHx8XCJ2YWx1ZVwiPT09dC50eXBlLmtpbmQ7fXN0YXRpYyBwYXJzZShlLHQpe2lmKDMhPT1lLmxlbmd0aCYmNCE9PWUubGVuZ3RoKXJldHVybiB0LmVycm9yKFwiRXhwZWN0ZWQgdHdvIG9yIHRocmVlIGFyZ3VtZW50cy5cIik7Y29uc3QgaT1lWzBdO2xldCBvPXQucGFyc2UoZVsxXSwxLFd0KTtpZighbylyZXR1cm4gbnVsbDtpZighRm4oaSxvLnR5cGUpKXJldHVybiB0LmNvbmNhdCgxKS5lcnJvcihgXCIke2l9XCIgY29tcGFyaXNvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgZm9yIHR5cGUgJyR7SnQoby50eXBlKX0nLmApO2xldCBzPXQucGFyc2UoZVsyXSwyLFd0KTtpZighcylyZXR1cm4gbnVsbDtpZighRm4oaSxzLnR5cGUpKXJldHVybiB0LmNvbmNhdCgyKS5lcnJvcihgXCIke2l9XCIgY29tcGFyaXNvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgZm9yIHR5cGUgJyR7SnQocy50eXBlKX0nLmApO2lmKG8udHlwZS5raW5kIT09cy50eXBlLmtpbmQmJlwidmFsdWVcIiE9PW8udHlwZS5raW5kJiZcInZhbHVlXCIhPT1zLnR5cGUua2luZClyZXR1cm4gdC5lcnJvcihgQ2Fubm90IGNvbXBhcmUgdHlwZXMgJyR7SnQoby50eXBlKX0nIGFuZCAnJHtKdChzLnR5cGUpfScuYCk7ciYmKFwidmFsdWVcIj09PW8udHlwZS5raW5kJiZcInZhbHVlXCIhPT1zLnR5cGUua2luZD9vPW5ldyBFaShzLnR5cGUsW29dKTpcInZhbHVlXCIhPT1vLnR5cGUua2luZCYmXCJ2YWx1ZVwiPT09cy50eXBlLmtpbmQmJihzPW5ldyBFaShvLnR5cGUsW3NdKSkpO2xldCBhPW51bGw7aWYoND09PWUubGVuZ3RoKXtpZihcInN0cmluZ1wiIT09by50eXBlLmtpbmQmJlwic3RyaW5nXCIhPT1zLnR5cGUua2luZCYmXCJ2YWx1ZVwiIT09by50eXBlLmtpbmQmJlwidmFsdWVcIiE9PXMudHlwZS5raW5kKXJldHVybiB0LmVycm9yKFwiQ2Fubm90IHVzZSBjb2xsYXRvciB0byBjb21wYXJlIG5vbi1zdHJpbmcgdHlwZXMuXCIpO2lmKGE9dC5wYXJzZShlWzNdLDMsSHQpLCFhKXJldHVybiBudWxsfXJldHVybiBuZXcgbihvLHMsYSl9ZXZhbHVhdGUobil7Y29uc3Qgbz10aGlzLmxocy5ldmFsdWF0ZShuKSxzPXRoaXMucmhzLmV2YWx1YXRlKG4pO2lmKHImJnRoaXMuaGFzVW50eXBlZEFyZ3VtZW50KXtjb25zdCB0PWdpKG8pLGk9Z2kocyk7aWYodC5raW5kIT09aS5raW5kfHxcInN0cmluZ1wiIT09dC5raW5kJiZcIm51bWJlclwiIT09dC5raW5kKXRocm93IG5ldyBiaShgRXhwZWN0ZWQgYXJndW1lbnRzIGZvciBcIiR7ZX1cIiB0byBiZSAoc3RyaW5nLCBzdHJpbmcpIG9yIChudW1iZXIsIG51bWJlciksIGJ1dCBmb3VuZCAoJHt0LmtpbmR9LCAke2kua2luZH0pIGluc3RlYWQuYCl9aWYodGhpcy5jb2xsYXRvciYmIXImJnRoaXMuaGFzVW50eXBlZEFyZ3VtZW50KXtjb25zdCBlPWdpKG8pLGk9Z2kocyk7aWYoXCJzdHJpbmdcIiE9PWUua2luZHx8XCJzdHJpbmdcIiE9PWkua2luZClyZXR1cm4gdChuLG8scyl9cmV0dXJuIHRoaXMuY29sbGF0b3I/aShuLG8scyx0aGlzLmNvbGxhdG9yLmV2YWx1YXRlKG4pKTp0KG4sbyxzKX1lYWNoQ2hpbGQoZSl7ZSh0aGlzLmxocyksZSh0aGlzLnJocyksdGhpcy5jb2xsYXRvciYmZSh0aGlzLmNvbGxhdG9yKTt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiAhMH1zZXJpYWxpemUoKXtjb25zdCB0PVtlXTtyZXR1cm4gdGhpcy5lYWNoQ2hpbGQoKGU9Pnt0LnB1c2goZS5zZXJpYWxpemUoKSk7fSkpLHR9fX1jb25zdCBWbj1VbihcIj09XCIsKGZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gdD09PWl9KSxObiksam49VW4oXCIhPVwiLChmdW5jdGlvbihlLHQsaSl7cmV0dXJuIHQhPT1pfSksKGZ1bmN0aW9uKGUsdCxpLHIpe3JldHVybiAhTm4oMCx0LGkscil9KSksR249VW4oXCI8XCIsKGZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gdDxpfSksKGZ1bmN0aW9uKGUsdCxpLHIpe3JldHVybiByLmNvbXBhcmUodCxpKTwwfSkpLHFuPVVuKFwiPlwiLChmdW5jdGlvbihlLHQsaSl7cmV0dXJuIHQ+aX0pLChmdW5jdGlvbihlLHQsaSxyKXtyZXR1cm4gci5jb21wYXJlKHQsaSk+MH0pKSxabj1VbihcIjw9XCIsKGZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gdDw9aX0pLChmdW5jdGlvbihlLHQsaSxyKXtyZXR1cm4gci5jb21wYXJlKHQsaSk8PTB9KSksJG49VW4oXCI+PVwiLChmdW5jdGlvbihlLHQsaSl7cmV0dXJuIHQ+PWl9KSwoZnVuY3Rpb24oZSx0LGkscil7cmV0dXJuIHIuY29tcGFyZSh0LGkpPj0wfSkpO2NsYXNzIFdue2NvbnN0cnVjdG9yKGUsdCxpLHIsbixvKXt0aGlzLnR5cGU9R3QsdGhpcy5udW1iZXI9ZSx0aGlzLmxvY2FsZT10LHRoaXMuY3VycmVuY3k9aSx0aGlzLnVuaXQ9cix0aGlzLm1pbkZyYWN0aW9uRGlnaXRzPW4sdGhpcy5tYXhGcmFjdGlvbkRpZ2l0cz1vO31zdGF0aWMgcGFyc2UoZSx0KXtpZigzIT09ZS5sZW5ndGgpcmV0dXJuIHQuZXJyb3IoXCJFeHBlY3RlZCB0d28gYXJndW1lbnRzLlwiKTtjb25zdCBpPXQucGFyc2UoZVsxXSwxLGp0KTtpZighaSlyZXR1cm4gbnVsbDtjb25zdCByPWVbMl07aWYoXCJvYmplY3RcIiE9dHlwZW9mIHJ8fEFycmF5LmlzQXJyYXkocikpcmV0dXJuIHQuZXJyb3IoXCJOdW1iZXJGb3JtYXQgb3B0aW9ucyBhcmd1bWVudCBtdXN0IGJlIGFuIG9iamVjdC5cIik7bGV0IG49bnVsbDtpZihyLmxvY2FsZSYmKG49dC5wYXJzZShyLmxvY2FsZSwxLEd0KSwhbikpcmV0dXJuIG51bGw7bGV0IG89bnVsbDtpZihyLmN1cnJlbmN5JiYobz10LnBhcnNlKHIuY3VycmVuY3ksMSxHdCksIW8pKXJldHVybiBudWxsO2xldCBzPW51bGw7aWYoci51bml0JiYocz10LnBhcnNlKHIudW5pdCwxLEd0KSwhcykpcmV0dXJuIG51bGw7bGV0IGE9bnVsbDtpZihyW1wibWluLWZyYWN0aW9uLWRpZ2l0c1wiXSYmKGE9dC5wYXJzZShyW1wibWluLWZyYWN0aW9uLWRpZ2l0c1wiXSwxLGp0KSwhYSkpcmV0dXJuIG51bGw7bGV0IGw9bnVsbDtyZXR1cm4gcltcIm1heC1mcmFjdGlvbi1kaWdpdHNcIl0mJihsPXQucGFyc2UocltcIm1heC1mcmFjdGlvbi1kaWdpdHNcIl0sMSxqdCksIWwpP251bGw6bmV3IFduKGksbixvLHMsYSxsKX1ldmFsdWF0ZShlKXtyZXR1cm4gbmV3IEludGwuTnVtYmVyRm9ybWF0KHRoaXMubG9jYWxlP3RoaXMubG9jYWxlLmV2YWx1YXRlKGUpOltdLHtzdHlsZToodGhpcy5jdXJyZW5jeT9cImN1cnJlbmN5XCI6dGhpcy51bml0JiZcInVuaXRcIil8fFwiZGVjaW1hbFwiLGN1cnJlbmN5OnRoaXMuY3VycmVuY3k/dGhpcy5jdXJyZW5jeS5ldmFsdWF0ZShlKTp2b2lkIDAsdW5pdDp0aGlzLnVuaXQ/dGhpcy51bml0LmV2YWx1YXRlKGUpOnZvaWQgMCxtaW5pbXVtRnJhY3Rpb25EaWdpdHM6dGhpcy5taW5GcmFjdGlvbkRpZ2l0cz90aGlzLm1pbkZyYWN0aW9uRGlnaXRzLmV2YWx1YXRlKGUpOnZvaWQgMCxtYXhpbXVtRnJhY3Rpb25EaWdpdHM6dGhpcy5tYXhGcmFjdGlvbkRpZ2l0cz90aGlzLm1heEZyYWN0aW9uRGlnaXRzLmV2YWx1YXRlKGUpOnZvaWQgMH0pLmZvcm1hdCh0aGlzLm51bWJlci5ldmFsdWF0ZShlKSl9ZWFjaENoaWxkKGUpe2UodGhpcy5udW1iZXIpLHRoaXMubG9jYWxlJiZlKHRoaXMubG9jYWxlKSx0aGlzLmN1cnJlbmN5JiZlKHRoaXMuY3VycmVuY3kpLHRoaXMudW5pdCYmZSh0aGlzLnVuaXQpLHRoaXMubWluRnJhY3Rpb25EaWdpdHMmJmUodGhpcy5taW5GcmFjdGlvbkRpZ2l0cyksdGhpcy5tYXhGcmFjdGlvbkRpZ2l0cyYmZSh0aGlzLm1heEZyYWN0aW9uRGlnaXRzKTt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiAhMX1zZXJpYWxpemUoKXtjb25zdCBlPXt9O3JldHVybiB0aGlzLmxvY2FsZSYmKGUubG9jYWxlPXRoaXMubG9jYWxlLnNlcmlhbGl6ZSgpKSx0aGlzLmN1cnJlbmN5JiYoZS5jdXJyZW5jeT10aGlzLmN1cnJlbmN5LnNlcmlhbGl6ZSgpKSx0aGlzLnVuaXQmJihlLnVuaXQ9dGhpcy51bml0LnNlcmlhbGl6ZSgpKSx0aGlzLm1pbkZyYWN0aW9uRGlnaXRzJiYoZVtcIm1pbi1mcmFjdGlvbi1kaWdpdHNcIl09dGhpcy5taW5GcmFjdGlvbkRpZ2l0cy5zZXJpYWxpemUoKSksdGhpcy5tYXhGcmFjdGlvbkRpZ2l0cyYmKGVbXCJtYXgtZnJhY3Rpb24tZGlnaXRzXCJdPXRoaXMubWF4RnJhY3Rpb25EaWdpdHMuc2VyaWFsaXplKCkpLFtcIm51bWJlci1mb3JtYXRcIix0aGlzLm51bWJlci5zZXJpYWxpemUoKSxlXX19Y2xhc3MgSG57Y29uc3RydWN0b3IoZSl7dGhpcy50eXBlPWp0LHRoaXMuaW5wdXQ9ZTt9c3RhdGljIHBhcnNlKGUsdCl7aWYoMiE9PWUubGVuZ3RoKXJldHVybiB0LmVycm9yKGBFeHBlY3RlZCAxIGFyZ3VtZW50LCBidXQgZm91bmQgJHtlLmxlbmd0aC0xfSBpbnN0ZWFkLmApO2NvbnN0IGk9dC5wYXJzZShlWzFdLDEpO3JldHVybiBpP1wiYXJyYXlcIiE9PWkudHlwZS5raW5kJiZcInN0cmluZ1wiIT09aS50eXBlLmtpbmQmJlwidmFsdWVcIiE9PWkudHlwZS5raW5kP3QuZXJyb3IoYEV4cGVjdGVkIGFyZ3VtZW50IG9mIHR5cGUgc3RyaW5nIG9yIGFycmF5LCBidXQgZm91bmQgJHtKdChpLnR5cGUpfSBpbnN0ZWFkLmApOm5ldyBIbihpKTpudWxsfWV2YWx1YXRlKGUpe2NvbnN0IHQ9dGhpcy5pbnB1dC5ldmFsdWF0ZShlKTtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gdC5sZW5ndGg7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdC5sZW5ndGg7dGhyb3cgbmV3IGJpKGBFeHBlY3RlZCB2YWx1ZSB0byBiZSBvZiB0eXBlIHN0cmluZyBvciBhcnJheSwgYnV0IGZvdW5kICR7SnQoZ2kodCkpfSBpbnN0ZWFkLmApfWVhY2hDaGlsZChlKXtlKHRoaXMuaW5wdXQpO31vdXRwdXREZWZpbmVkKCl7cmV0dXJuICExfXNlcmlhbGl6ZSgpe2NvbnN0IGU9W1wibGVuZ3RoXCJdO3JldHVybiB0aGlzLmVhY2hDaGlsZCgodD0+e2UucHVzaCh0LnNlcmlhbGl6ZSgpKTt9KSksZX19ZnVuY3Rpb24gWG4oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7ZT0xODMxNTY1ODEzKyhlfD0wKXwwO2xldCB0PU1hdGguaW11bChlXmU+Pj4xNSwxfGUpO3JldHVybiB0PXQrTWF0aC5pbXVsKHRedD4+PjcsNjF8dCledCwoKHRedD4+PjE0KT4+PjApLzQyOTQ5NjcyOTZ9fWNvbnN0IFluPXtcIj09XCI6Vm4sXCIhPVwiOmpuLFwiPlwiOnFuLFwiPFwiOkduLFwiPj1cIjokbixcIjw9XCI6Wm4sYXJyYXk6RWksYXQ6U24sYm9vbGVhbjpFaSxjYXNlOmtuLGNvYWxlc2NlOlRuLGNvbGxhdG9yOk9pLGZvcm1hdDpNaSxpbWFnZTpBaSxpbjpDbixcImluZGV4LW9mXCI6UG4saW50ZXJwb2xhdGU6Ym4sXCJpbnRlcnBvbGF0ZS1oY2xcIjpibixcImludGVycG9sYXRlLWxhYlwiOmJuLGxlbmd0aDpIbixsZXQ6TW4sbGl0ZXJhbDp2aSxtYXRjaDpSbixudW1iZXI6RWksXCJudW1iZXItZm9ybWF0XCI6V24sb2JqZWN0OkVpLHNsaWNlOkJuLHN0ZXA6WXIsc3RyaW5nOkVpLFwidG8tYm9vbGVhblwiOnppLFwidG8tY29sb3JcIjp6aSxcInRvLW51bWJlclwiOnppLFwidG8tc3RyaW5nXCI6emksdmFyOnFyLHdpdGhpbjpucixkaXN0YW5jZTpGcn07ZnVuY3Rpb24gS24oZSxbdCxpLHIsbl0pe3Q9dC5ldmFsdWF0ZShlKSxpPWkuZXZhbHVhdGUoZSkscj1yLmV2YWx1YXRlKGUpO2NvbnN0IG89bj9uLmV2YWx1YXRlKGUpOjEscz1taSh0LGkscixvKTtpZihzKXRocm93IG5ldyBiaShzKTtyZXR1cm4gbmV3IGhpKHQvMjU1Km8saS8yNTUqbyxyLzI1NSpvLG8pfWZ1bmN0aW9uIEpuKGUsW3QsaSxyLG5dKXt0PXQuZXZhbHVhdGUoZSksaT1pLmV2YWx1YXRlKGUpLHI9ci5ldmFsdWF0ZShlKTtjb25zdCBvPW4/bi5ldmFsdWF0ZShlKToxLHM9ZnVuY3Rpb24oZSx0LGkscil7cmV0dXJuIFwibnVtYmVyXCI9PXR5cGVvZiBlJiZlPj0wJiZlPD0zNjA/XCJudW1iZXJcIj09dHlwZW9mIHQmJnQ+PTAmJnQ8PTEwMCYmXCJudW1iZXJcIj09dHlwZW9mIGkmJmk+PTAmJmk8PTEwMD92b2lkIDA9PT1yfHxcIm51bWJlclwiPT10eXBlb2YgciYmcj49MCYmcjw9MT9udWxsOmBJbnZhbGlkIGhzbGEgdmFsdWUgWyR7W2UsdCxpLHJdLmpvaW4oXCIsIFwiKX1dOiAnYScgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEuYDpgSW52YWxpZCBoc2xhIHZhbHVlIFskeyhcIm51bWJlclwiPT10eXBlb2Ygcj9bZSx0LGkscl06W2UsdCxpXSkuam9pbihcIiwgXCIpfV06ICdzJywgYW5kICdsJyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMTAwLmA6YEludmFsaWQgaHNsYSB2YWx1ZSBbJHsoXCJudW1iZXJcIj09dHlwZW9mIHI/W2UsdCxpLHJdOltlLHQsaV0pLmpvaW4oXCIsIFwiKX1dOiAnaCcgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDM2MC5gfSh0LGkscixvKTtpZihzKXRocm93IG5ldyBiaShzKTtjb25zdCBhPWBoc2xhKCR7dH0sICR7aX0lLCAke3J9JSwgJHtvfSlgLGw9aGkucGFyc2UoYSk7aWYoIWwpdGhyb3cgbmV3IGJpKGBGYWlsZWQgdG8gcGFyc2UgSFNMQSBjb2xvcjogJHthfWApO3JldHVybiBsfWZ1bmN0aW9uIFFuKGUsdCl7cmV0dXJuIGUgaW4gdH1mdW5jdGlvbiBlbyhlLHQpe2NvbnN0IGk9dFtlXTtyZXR1cm4gdm9pZCAwPT09aT9udWxsOml9ZnVuY3Rpb24gdG8oZSx0KXtzd2l0Y2goZSl7Y2FzZVwic3RyaW5nXCI6cmV0dXJuIFN0cmluZyh0KTtjYXNlXCJudW1iZXJcIjpyZXR1cm4gK3Q7Y2FzZVwiYm9vbGVhblwiOnJldHVybiAhIXQ7Y2FzZVwiY29sb3JcIjpyZXR1cm4gaGkucGFyc2UodCl9cmV0dXJuIHR9ZnVuY3Rpb24gaW8oZSx0LGkscil7cmV0dXJuIHZvaWQgMCE9PXImJihlPXIqTWF0aC5yb3VuZChlL3IpKSx2b2lkIDAhPT10JiZlPHQmJihlPXQpLHZvaWQgMCE9PWkmJmU+aSYmKGU9aSksZX1mdW5jdGlvbiBybyhlLHQsaSl7aS5sZW5ndGgmJih0Kz1gXHUwMDFmJHtpfWApO2NvbnN0IHI9ZS5nZXRDb25maWcodCk7aWYoIXIpcmV0dXJuIG51bGw7Y29uc3R7dHlwZTpuLHZhbHVlOm8sdmFsdWVzOnMsbWluVmFsdWU6YSxtYXhWYWx1ZTpsLHN0ZXBWYWx1ZTpjfT1yLGg9ci5kZWZhdWx0LmV2YWx1YXRlKGUpO2xldCB1PW8/by5ldmFsdWF0ZShlKTpoO3JldHVybiBuJiYodT10byhuLHUpKSx2b2lkIDAhPT1vJiZ2b2lkIDAhPT11JiZzJiYhcy5pbmNsdWRlcyh1KSYmKHU9aCxuJiYodT10byhuLHUpKSksdm9pZCAwPT09dXx8dm9pZCAwPT09YSYmdm9pZCAwPT09bCYmdm9pZCAwPT09Y3x8KFwibnVtYmVyXCI9PXR5cGVvZiB1P3U9aW8odSxhLGwsYyk6QXJyYXkuaXNBcnJheSh1KSYmKHU9dS5tYXAoKGU9PlwibnVtYmVyXCI9PXR5cGVvZiBlP2lvKGUsYSxsLGMpOmUpKSkpLHV9ZnVuY3Rpb24gbm8oZSl7cmV0dXJuIHt0eXBlOmV9fWtpLnJlZ2lzdGVyKFluLHtlcnJvcjpbe2tpbmQ6XCJlcnJvclwifSxbR3RdLChlLFt0XSk9Pnt0aHJvdyBuZXcgYmkodC5ldmFsdWF0ZShlKSl9XSx0eXBlb2Y6W0d0LFtXdF0sKGUsW3RdKT0+SnQoZ2kodC5ldmFsdWF0ZShlKSkpXSxcInRvLXJnYmFcIjpbS3QoanQsNCksW1p0XSwoZSxbdF0pPT50LmV2YWx1YXRlKGUpLnRvQXJyYXkoKV0scmdiOltadCxbanQsanQsanRdLEtuXSxyZ2JhOltadCxbanQsanQsanQsanRdLEtuXSxoc2w6W1p0LFtqdCxqdCxqdF0sSm5dLGhzbGE6W1p0LFtqdCxqdCxqdCxqdF0sSm5dLGhhczp7dHlwZTpxdCxvdmVybG9hZHM6W1tbR3RdLChlLFt0XSk9PlFuKHQuZXZhbHVhdGUoZSksZS5wcm9wZXJ0aWVzKCkpXSxbW0d0LCR0XSwoZSxbdCxpXSk9PlFuKHQuZXZhbHVhdGUoZSksaS5ldmFsdWF0ZShlKSldXX0sZ2V0Ont0eXBlOld0LG92ZXJsb2FkczpbW1tHdF0sKGUsW3RdKT0+ZW8odC5ldmFsdWF0ZShlKSxlLnByb3BlcnRpZXMoKSldLFtbR3QsJHRdLChlLFt0LGldKT0+ZW8odC5ldmFsdWF0ZShlKSxpLmV2YWx1YXRlKGUpKV1dfSxjb25maWc6e3R5cGU6V3Qsb3ZlcmxvYWRzOltbW0d0XSwoZSxbdF0pPT5ybyhlLHQuZXZhbHVhdGUoZSksXCJcIildLFtbR3QsR3RdLChlLFt0LGldKT0+cm8oZSx0LmV2YWx1YXRlKGUpLGkuZXZhbHVhdGUoZSkpXV19LFwiZmVhdHVyZS1zdGF0ZVwiOltXdCxbR3RdLChlLFt0XSk9PmVvKHQuZXZhbHVhdGUoZSksZS5mZWF0dXJlU3RhdGV8fHt9KV0scHJvcGVydGllczpbJHQsW10sZT0+ZS5wcm9wZXJ0aWVzKCldLFwiZ2VvbWV0cnktdHlwZVwiOltHdCxbXSxlPT5lLmdlb21ldHJ5VHlwZSgpXSxpZDpbV3QsW10sZT0+ZS5pZCgpXSx6b29tOltqdCxbXSxlPT5lLmdsb2JhbHMuem9vbV0scGl0Y2g6W2p0LFtdLGU9PmUuZ2xvYmFscy5waXRjaHx8MF0sXCJkaXN0YW5jZS1mcm9tLWNlbnRlclwiOltqdCxbXSxlPT5lLmRpc3RhbmNlRnJvbUNlbnRlcigpXSxcIm1lYXN1cmUtbGlnaHRcIjpbanQsW0d0XSwoZSxbdF0pPT5lLm1lYXN1cmVMaWdodCh0LmV2YWx1YXRlKGUpKV0sXCJoZWF0bWFwLWRlbnNpdHlcIjpbanQsW10sZT0+ZS5nbG9iYWxzLmhlYXRtYXBEZW5zaXR5fHwwXSxcImxpbmUtcHJvZ3Jlc3NcIjpbanQsW10sZT0+ZS5nbG9iYWxzLmxpbmVQcm9ncmVzc3x8MF0sXCJyYXN0ZXItdmFsdWVcIjpbanQsW10sZT0+ZS5nbG9iYWxzLnJhc3RlclZhbHVlfHwwXSxcInNreS1yYWRpYWwtcHJvZ3Jlc3NcIjpbanQsW10sZT0+ZS5nbG9iYWxzLnNreVJhZGlhbFByb2dyZXNzfHwwXSxhY2N1bXVsYXRlZDpbV3QsW10sZT0+dm9pZCAwPT09ZS5nbG9iYWxzLmFjY3VtdWxhdGVkP251bGw6ZS5nbG9iYWxzLmFjY3VtdWxhdGVkXSxcIitcIjpbanQsbm8oanQpLChlLHQpPT57bGV0IGk9MDtmb3IoY29uc3QgciBvZiB0KWkrPXIuZXZhbHVhdGUoZSk7cmV0dXJuIGl9XSxcIipcIjpbanQsbm8oanQpLChlLHQpPT57bGV0IGk9MTtmb3IoY29uc3QgciBvZiB0KWkqPXIuZXZhbHVhdGUoZSk7cmV0dXJuIGl9XSxcIi1cIjp7dHlwZTpqdCxvdmVybG9hZHM6W1tbanQsanRdLChlLFt0LGldKT0+dC5ldmFsdWF0ZShlKS1pLmV2YWx1YXRlKGUpXSxbW2p0XSwoZSxbdF0pPT4tdC5ldmFsdWF0ZShlKV1dfSxcIi9cIjpbanQsW2p0LGp0XSwoZSxbdCxpXSk9PnQuZXZhbHVhdGUoZSkvaS5ldmFsdWF0ZShlKV0sXCIlXCI6W2p0LFtqdCxqdF0sKGUsW3QsaV0pPT50LmV2YWx1YXRlKGUpJWkuZXZhbHVhdGUoZSldLGxuMjpbanQsW10sKCk9Pk1hdGguTE4yXSxwaTpbanQsW10sKCk9Pk1hdGguUEldLGU6W2p0LFtdLCgpPT5NYXRoLkVdLFwiXlwiOltqdCxbanQsanRdLChlLFt0LGldKT0+TWF0aC5wb3codC5ldmFsdWF0ZShlKSxpLmV2YWx1YXRlKGUpKV0sc3FydDpbanQsW2p0XSwoZSxbdF0pPT5NYXRoLnNxcnQodC5ldmFsdWF0ZShlKSldLGxvZzEwOltqdCxbanRdLChlLFt0XSk9Pk1hdGgubG9nKHQuZXZhbHVhdGUoZSkpL01hdGguTE4xMF0sbG46W2p0LFtqdF0sKGUsW3RdKT0+TWF0aC5sb2codC5ldmFsdWF0ZShlKSldLGxvZzI6W2p0LFtqdF0sKGUsW3RdKT0+TWF0aC5sb2codC5ldmFsdWF0ZShlKSkvTWF0aC5MTjJdLHNpbjpbanQsW2p0XSwoZSxbdF0pPT5NYXRoLnNpbih0LmV2YWx1YXRlKGUpKV0sY29zOltqdCxbanRdLChlLFt0XSk9Pk1hdGguY29zKHQuZXZhbHVhdGUoZSkpXSx0YW46W2p0LFtqdF0sKGUsW3RdKT0+TWF0aC50YW4odC5ldmFsdWF0ZShlKSldLGFzaW46W2p0LFtqdF0sKGUsW3RdKT0+TWF0aC5hc2luKHQuZXZhbHVhdGUoZSkpXSxhY29zOltqdCxbanRdLChlLFt0XSk9Pk1hdGguYWNvcyh0LmV2YWx1YXRlKGUpKV0sYXRhbjpbanQsW2p0XSwoZSxbdF0pPT5NYXRoLmF0YW4odC5ldmFsdWF0ZShlKSldLG1pbjpbanQsbm8oanQpLChlLHQpPT5NYXRoLm1pbiguLi50Lm1hcCgodD0+dC5ldmFsdWF0ZShlKSkpKV0sbWF4OltqdCxubyhqdCksKGUsdCk9Pk1hdGgubWF4KC4uLnQubWFwKCh0PT50LmV2YWx1YXRlKGUpKSkpXSxhYnM6W2p0LFtqdF0sKGUsW3RdKT0+TWF0aC5hYnModC5ldmFsdWF0ZShlKSldLHJvdW5kOltqdCxbanRdLChlLFt0XSk9Pntjb25zdCBpPXQuZXZhbHVhdGUoZSk7cmV0dXJuIGk8MD8tTWF0aC5yb3VuZCgtaSk6TWF0aC5yb3VuZChpKX1dLGZsb29yOltqdCxbanRdLChlLFt0XSk9Pk1hdGguZmxvb3IodC5ldmFsdWF0ZShlKSldLGNlaWw6W2p0LFtqdF0sKGUsW3RdKT0+TWF0aC5jZWlsKHQuZXZhbHVhdGUoZSkpXSxcImZpbHRlci09PVwiOltxdCxbR3QsV3RdLChlLFt0LGldKT0+ZS5wcm9wZXJ0aWVzKClbdC52YWx1ZV09PT1pLnZhbHVlXSxcImZpbHRlci1pZC09PVwiOltxdCxbV3RdLChlLFt0XSk9PmUuaWQoKT09PXQudmFsdWVdLFwiZmlsdGVyLXR5cGUtPT1cIjpbcXQsW0d0XSwoZSxbdF0pPT5lLmdlb21ldHJ5VHlwZSgpPT09dC52YWx1ZV0sXCJmaWx0ZXItPFwiOltxdCxbR3QsV3RdLChlLFt0LGldKT0+e2NvbnN0IHI9ZS5wcm9wZXJ0aWVzKClbdC52YWx1ZV0sbj1pLnZhbHVlO3JldHVybiB0eXBlb2Ygcj09dHlwZW9mIG4mJnI8bn1dLFwiZmlsdGVyLWlkLTxcIjpbcXQsW1d0XSwoZSxbdF0pPT57Y29uc3QgaT1lLmlkKCkscj10LnZhbHVlO3JldHVybiB0eXBlb2YgaT09dHlwZW9mIHImJmk8cn1dLFwiZmlsdGVyLT5cIjpbcXQsW0d0LFd0XSwoZSxbdCxpXSk9Pntjb25zdCByPWUucHJvcGVydGllcygpW3QudmFsdWVdLG49aS52YWx1ZTtyZXR1cm4gdHlwZW9mIHI9PXR5cGVvZiBuJiZyPm59XSxcImZpbHRlci1pZC0+XCI6W3F0LFtXdF0sKGUsW3RdKT0+e2NvbnN0IGk9ZS5pZCgpLHI9dC52YWx1ZTtyZXR1cm4gdHlwZW9mIGk9PXR5cGVvZiByJiZpPnJ9XSxcImZpbHRlci08PVwiOltxdCxbR3QsV3RdLChlLFt0LGldKT0+e2NvbnN0IHI9ZS5wcm9wZXJ0aWVzKClbdC52YWx1ZV0sbj1pLnZhbHVlO3JldHVybiB0eXBlb2Ygcj09dHlwZW9mIG4mJnI8PW59XSxcImZpbHRlci1pZC08PVwiOltxdCxbV3RdLChlLFt0XSk9Pntjb25zdCBpPWUuaWQoKSxyPXQudmFsdWU7cmV0dXJuIHR5cGVvZiBpPT10eXBlb2YgciYmaTw9cn1dLFwiZmlsdGVyLT49XCI6W3F0LFtHdCxXdF0sKGUsW3QsaV0pPT57Y29uc3Qgcj1lLnByb3BlcnRpZXMoKVt0LnZhbHVlXSxuPWkudmFsdWU7cmV0dXJuIHR5cGVvZiByPT10eXBlb2YgbiYmcj49bn1dLFwiZmlsdGVyLWlkLT49XCI6W3F0LFtXdF0sKGUsW3RdKT0+e2NvbnN0IGk9ZS5pZCgpLHI9dC52YWx1ZTtyZXR1cm4gdHlwZW9mIGk9PXR5cGVvZiByJiZpPj1yfV0sXCJmaWx0ZXItaGFzXCI6W3F0LFtXdF0sKGUsW3RdKT0+dC52YWx1ZSBpbiBlLnByb3BlcnRpZXMoKV0sXCJmaWx0ZXItaGFzLWlkXCI6W3F0LFtdLGU9Pm51bGwhPT1lLmlkKCkmJnZvaWQgMCE9PWUuaWQoKV0sXCJmaWx0ZXItdHlwZS1pblwiOltxdCxbS3QoR3QpXSwoZSxbdF0pPT50LnZhbHVlLmluZGV4T2YoZS5nZW9tZXRyeVR5cGUoKSk+PTBdLFwiZmlsdGVyLWlkLWluXCI6W3F0LFtLdChXdCldLChlLFt0XSk9PnQudmFsdWUuaW5kZXhPZihlLmlkKCkpPj0wXSxcImZpbHRlci1pbi1zbWFsbFwiOltxdCxbR3QsS3QoV3QpXSwoZSxbdCxpXSk9PmkudmFsdWUuaW5kZXhPZihlLnByb3BlcnRpZXMoKVt0LnZhbHVlXSk+PTBdLFwiZmlsdGVyLWluLWxhcmdlXCI6W3F0LFtHdCxLdChXdCldLChlLFt0LGldKT0+ZnVuY3Rpb24oZSx0LGkscil7Zm9yKDtpPD1yOyl7Y29uc3Qgbj1pK3I+PjE7aWYodFtuXT09PWUpcmV0dXJuICEwO3Rbbl0+ZT9yPW4tMTppPW4rMTt9cmV0dXJuICExfShlLnByb3BlcnRpZXMoKVt0LnZhbHVlXSxpLnZhbHVlLDAsaS52YWx1ZS5sZW5ndGgtMSldLGFsbDp7dHlwZTpxdCxvdmVybG9hZHM6W1tbcXQscXRdLChlLFt0LGldKT0+dC5ldmFsdWF0ZShlKSYmaS5ldmFsdWF0ZShlKV0sW25vKHF0KSwoZSx0KT0+e2Zvcihjb25zdCBpIG9mIHQpaWYoIWkuZXZhbHVhdGUoZSkpcmV0dXJuICExO3JldHVybiAhMH1dXX0sYW55Ont0eXBlOnF0LG92ZXJsb2FkczpbW1txdCxxdF0sKGUsW3QsaV0pPT50LmV2YWx1YXRlKGUpfHxpLmV2YWx1YXRlKGUpXSxbbm8ocXQpLChlLHQpPT57Zm9yKGNvbnN0IGkgb2YgdClpZihpLmV2YWx1YXRlKGUpKXJldHVybiAhMDtyZXR1cm4gITF9XV19LFwiIVwiOltxdCxbcXRdLChlLFt0XSk9PiF0LmV2YWx1YXRlKGUpXSxcImlzLXN1cHBvcnRlZC1zY3JpcHRcIjpbcXQsW0d0XSwoZSxbdF0pPT57Y29uc3QgaT1lLmdsb2JhbHMmJmUuZ2xvYmFscy5pc1N1cHBvcnRlZFNjcmlwdDtyZXR1cm4gIWl8fGkodC5ldmFsdWF0ZShlKSl9XSx1cGNhc2U6W0d0LFtHdF0sKGUsW3RdKT0+dC5ldmFsdWF0ZShlKS50b1VwcGVyQ2FzZSgpXSxkb3duY2FzZTpbR3QsW0d0XSwoZSxbdF0pPT50LmV2YWx1YXRlKGUpLnRvTG93ZXJDYXNlKCldLGNvbmNhdDpbR3Qsbm8oV3QpLChlLHQpPT50Lm1hcCgodD0+eWkodC5ldmFsdWF0ZShlKSkpKS5qb2luKFwiXCIpXSxcInJlc29sdmVkLWxvY2FsZVwiOltHdCxbSHRdLChlLFt0XSk9PnQuZXZhbHVhdGUoZSkucmVzb2x2ZWRMb2NhbGUoKV0scmFuZG9tOltqdCxbanQsanQsV3RdLChlLHQpPT57Y29uc3RbaSxyLG5dPXQubWFwKCh0PT50LmV2YWx1YXRlKGUpKSk7aWYoaT5yKXJldHVybiBpO2lmKGk9PT1yKXJldHVybiBpO2xldCBvO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBuKW89ZnVuY3Rpb24oZSl7bGV0IHQ9MDtpZigwPT09ZS5sZW5ndGgpcmV0dXJuIHQ7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspdD0odDw8NSktdCtlLmNoYXJDb2RlQXQoaSksdCY9dDtyZXR1cm4gdH0obik7ZWxzZSB7aWYoXCJudW1iZXJcIiE9dHlwZW9mIG4pdGhyb3cgbmV3IGJpKGBJbnZhbGlkIHNlZWQgaW5wdXQ6ICR7bn1gKTtvPW47fXJldHVybiBpK1huKG8pKCkqKHItaSl9XX0pO3ZhciBvbz1ZbjtmdW5jdGlvbiBzbyhlKXtyZXR1cm4ge3Jlc3VsdDpcInN1Y2Nlc3NcIix2YWx1ZTplfX1mdW5jdGlvbiBhbyhlKXtyZXR1cm4ge3Jlc3VsdDpcImVycm9yXCIsdmFsdWU6ZX19ZnVuY3Rpb24gbG8oZSx0KXtyZXR1cm4gISFlJiYhIWUucGFyYW1ldGVycyYmZS5wYXJhbWV0ZXJzLmluZGV4T2YodCk+LTF9ZnVuY3Rpb24gY28oZSl7cmV0dXJuIFwiZGF0YS1kcml2ZW5cIj09PWVbXCJwcm9wZXJ0eS10eXBlXCJdfWZ1bmN0aW9uIGhvKGUpe3JldHVybiBsbyhlLmV4cHJlc3Npb24sXCJtZWFzdXJlLWxpZ2h0XCIpfWZ1bmN0aW9uIHVvKGUpe3JldHVybiBsbyhlLmV4cHJlc3Npb24sXCJ6b29tXCIpfWZ1bmN0aW9uIHBvKGUpe3JldHVybiAhIWUuZXhwcmVzc2lvbiYmZS5leHByZXNzaW9uLmludGVycG9sYXRlZH1mdW5jdGlvbiBmbyhlKXtyZXR1cm4gXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiYhQXJyYXkuaXNBcnJheShlKX1mdW5jdGlvbiBtbyhlKXtyZXR1cm4gZX1mdW5jdGlvbiBfbyhlLHQpe2NvbnN0IGk9XCJjb2xvclwiPT09dC50eXBlLHI9ZS5zdG9wcyYmXCJvYmplY3RcIj09dHlwZW9mIGUuc3RvcHNbMF1bMF0sbj1yfHwhKHJ8fHZvaWQgMCE9PWUucHJvcGVydHkpLG89ZS50eXBlfHwocG8odCk/XCJleHBvbmVudGlhbFwiOlwiaW50ZXJ2YWxcIik7aWYoaSYmKChlPUx0KHt9LGUpKS5zdG9wcyYmKGUuc3RvcHM9ZS5zdG9wcy5tYXAoKGU9PltlWzBdLGhpLnBhcnNlKGVbMV0pXSkpKSxlLmRlZmF1bHQ9aGkucGFyc2UoZS5kZWZhdWx0P2UuZGVmYXVsdDp0LmRlZmF1bHQpKSxlLmNvbG9yU3BhY2UmJlwicmdiXCIhPT1lLmNvbG9yU3BhY2UmJiF5bltlLmNvbG9yU3BhY2VdKXRocm93IG5ldyBFcnJvcihgVW5rbm93biBjb2xvciBzcGFjZTogJHtlLmNvbG9yU3BhY2V9YCk7bGV0IHMsYSxsO2lmKFwiZXhwb25lbnRpYWxcIj09PW8pcz12bztlbHNlIGlmKFwiaW50ZXJ2YWxcIj09PW8pcz14bztlbHNlIGlmKFwiY2F0ZWdvcmljYWxcIj09PW8pe3M9eW8sYT1PYmplY3QuY3JlYXRlKG51bGwpO2Zvcihjb25zdCB0IG9mIGUuc3RvcHMpYVt0WzBdXT10WzFdO2w9dHlwZW9mIGUuc3RvcHNbMF1bMF07fWVsc2Uge2lmKFwiaWRlbnRpdHlcIiE9PW8pdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGZ1bmN0aW9uIHR5cGUgXCIke299XCJgKTtzPWJvO31pZihyKXtjb25zdCBpPXt9LHI9W107Zm9yKGxldCB0PTA7dDxlLnN0b3BzLmxlbmd0aDt0Kyspe2NvbnN0IG49ZS5zdG9wc1t0XSxvPW5bMF0uem9vbTt2b2lkIDA9PT1pW29dJiYoaVtvXT17em9vbTpvLHR5cGU6ZS50eXBlLHByb3BlcnR5OmUucHJvcGVydHksZGVmYXVsdDplLmRlZmF1bHQsc3RvcHM6W119LHIucHVzaChvKSksaVtvXS5zdG9wcy5wdXNoKFtuWzBdLnZhbHVlLG5bMV1dKTt9Y29uc3Qgbj1bXTtmb3IoY29uc3QgZSBvZiByKW4ucHVzaChbaVtlXS56b29tLF9vKGlbZV0sdCldKTtjb25zdCBvPXtuYW1lOlwibGluZWFyXCJ9O3JldHVybiB7a2luZDpcImNvbXBvc2l0ZVwiLGludGVycG9sYXRpb25UeXBlOm8saW50ZXJwb2xhdGlvbkZhY3Rvcjpibi5pbnRlcnBvbGF0aW9uRmFjdG9yLmJpbmQodm9pZCAwLG8pLHpvb21TdG9wczpuLm1hcCgoZT0+ZVswXSkpLGV2YWx1YXRlOih7em9vbTppfSxyKT0+dm8oe3N0b3BzOm4sYmFzZTplLmJhc2V9LHQsaSkuZXZhbHVhdGUoaSxyKX19aWYobil7Y29uc3QgaT1cImV4cG9uZW50aWFsXCI9PT1vP3tuYW1lOlwiZXhwb25lbnRpYWxcIixiYXNlOnZvaWQgMCE9PWUuYmFzZT9lLmJhc2U6MX06bnVsbDtyZXR1cm4ge2tpbmQ6XCJjYW1lcmFcIixpbnRlcnBvbGF0aW9uVHlwZTppLGludGVycG9sYXRpb25GYWN0b3I6Ym4uaW50ZXJwb2xhdGlvbkZhY3Rvci5iaW5kKHZvaWQgMCxpKSx6b29tU3RvcHM6ZS5zdG9wcy5tYXAoKGU9PmVbMF0pKSxldmFsdWF0ZTooe3pvb206aX0pPT5zKGUsdCxpLGEsbCl9fXJldHVybiB7a2luZDpcInNvdXJjZVwiLGV2YWx1YXRlKGkscil7Y29uc3Qgbj1yJiZyLnByb3BlcnRpZXM/ci5wcm9wZXJ0aWVzW2UucHJvcGVydHldOnZvaWQgMDtyZXR1cm4gdm9pZCAwPT09bj9nbyhlLmRlZmF1bHQsdC5kZWZhdWx0KTpzKGUsdCxuLGEsbCl9fX1mdW5jdGlvbiBnbyhlLHQsaSl7cmV0dXJuIHZvaWQgMCE9PWU/ZTp2b2lkIDAhPT10P3Q6dm9pZCAwIT09aT9pOnZvaWQgMH1mdW5jdGlvbiB5byhlLHQsaSxyLG4pe3JldHVybiBnbyh0eXBlb2YgaT09PW4/cltpXTp2b2lkIDAsZS5kZWZhdWx0LHQuZGVmYXVsdCl9ZnVuY3Rpb24geG8oZSx0LGkpe2lmKFwibnVtYmVyXCIhPT1TaShpKSlyZXR1cm4gZ28oZS5kZWZhdWx0LHQuZGVmYXVsdCk7Y29uc3Qgcj1lLnN0b3BzLmxlbmd0aDtpZigxPT09cilyZXR1cm4gZS5zdG9wc1swXVsxXTtpZihpPD1lLnN0b3BzWzBdWzBdKXJldHVybiBlLnN0b3BzWzBdWzFdO2lmKGk+PWUuc3RvcHNbci0xXVswXSlyZXR1cm4gZS5zdG9wc1tyLTFdWzFdO2NvbnN0IG49SHIoZS5zdG9wcy5tYXAoKGU9PmVbMF0pKSxpKTtyZXR1cm4gZS5zdG9wc1tuXVsxXX1mdW5jdGlvbiB2byhlLHQsaSl7Y29uc3Qgcj12b2lkIDAhPT1lLmJhc2U/ZS5iYXNlOjE7aWYoXCJudW1iZXJcIiE9PVNpKGkpKXJldHVybiBnbyhlLmRlZmF1bHQsdC5kZWZhdWx0KTtjb25zdCBuPWUuc3RvcHMubGVuZ3RoO2lmKDE9PT1uKXJldHVybiBlLnN0b3BzWzBdWzFdO2lmKGk8PWUuc3RvcHNbMF1bMF0pcmV0dXJuIGUuc3RvcHNbMF1bMV07aWYoaT49ZS5zdG9wc1tuLTFdWzBdKXJldHVybiBlLnN0b3BzW24tMV1bMV07Y29uc3Qgbz1IcihlLnN0b3BzLm1hcCgoZT0+ZVswXSkpLGkpLHM9ZnVuY3Rpb24oZSx0LGkscil7Y29uc3Qgbj1yLWksbz1lLWk7cmV0dXJuIDA9PT1uPzA6MT09PXQ/by9uOihNYXRoLnBvdyh0LG8pLTEpLyhNYXRoLnBvdyh0LG4pLTEpfShpLHIsZS5zdG9wc1tvXVswXSxlLnN0b3BzW28rMV1bMF0pLGE9ZS5zdG9wc1tvXVsxXSxsPWUuc3RvcHNbbysxXVsxXTtsZXQgYz1Rclt0LnR5cGVdfHxtbztpZihlLmNvbG9yU3BhY2UmJlwicmdiXCIhPT1lLmNvbG9yU3BhY2Upe2NvbnN0IHQ9eW5bZS5jb2xvclNwYWNlXTtjPShlLGkpPT50LnJldmVyc2UodC5pbnRlcnBvbGF0ZSh0LmZvcndhcmQoZSksdC5mb3J3YXJkKGkpLHMpKTt9cmV0dXJuIFwiZnVuY3Rpb25cIj09dHlwZW9mIGEuZXZhbHVhdGU/e2V2YWx1YXRlKC4uLmUpe2NvbnN0IHQ9YS5ldmFsdWF0ZS5hcHBseSh2b2lkIDAsZSksaT1sLmV2YWx1YXRlLmFwcGx5KHZvaWQgMCxlKTtpZih2b2lkIDAhPT10JiZ2b2lkIDAhPT1pKXJldHVybiBjKHQsaSxzKX19OmMoYSxsLHMpfWZ1bmN0aW9uIGJvKGUsdCxpKXtyZXR1cm4gXCJjb2xvclwiPT09dC50eXBlP2k9aGkucGFyc2UoaSk6XCJmb3JtYXR0ZWRcIj09PXQudHlwZT9pPXBpLmZyb21TdHJpbmcoaS50b1N0cmluZygpKTpcInJlc29sdmVkSW1hZ2VcIj09PXQudHlwZT9pPWZpLmZyb21TdHJpbmcoaS50b1N0cmluZygpKTpTaShpKT09PXQudHlwZXx8XCJlbnVtXCI9PT10LnR5cGUmJnQudmFsdWVzW2ldfHwoaT12b2lkIDApLGdvKGksZS5kZWZhdWx0LHQuZGVmYXVsdCl9Y2xhc3Mgd297Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMuZXhwcmVzc2lvbj1lLHRoaXMuX3dhcm5pbmdIaXN0b3J5PXt9LHRoaXMuX2V2YWx1YXRvcj1uZXcgRGkoaSksdGhpcy5fZGVmYXVsdFZhbHVlPXQ/ZnVuY3Rpb24oZSl7cmV0dXJuIFwiY29sb3JcIj09PWUudHlwZSYmKGZvKGUuZGVmYXVsdCl8fEFycmF5LmlzQXJyYXkoZS5kZWZhdWx0KSk/bmV3IGhpKDAsMCwwLDApOlwiY29sb3JcIj09PWUudHlwZT9oaS5wYXJzZShlLmRlZmF1bHQpfHxudWxsOnZvaWQgMD09PWUuZGVmYXVsdD9udWxsOmUuZGVmYXVsdH0odCk6bnVsbCx0aGlzLl9lbnVtVmFsdWVzPXQmJlwiZW51bVwiPT09dC50eXBlP3QudmFsdWVzOm51bGw7fWV2YWx1YXRlV2l0aG91dEVycm9ySGFuZGxpbmcoZSx0LGkscixuLG8scyxhKXtyZXR1cm4gdGhpcy5fZXZhbHVhdG9yLmdsb2JhbHM9ZSx0aGlzLl9ldmFsdWF0b3IuZmVhdHVyZT10LHRoaXMuX2V2YWx1YXRvci5mZWF0dXJlU3RhdGU9aSx0aGlzLl9ldmFsdWF0b3IuY2Fub25pY2FsPXJ8fG51bGwsdGhpcy5fZXZhbHVhdG9yLmF2YWlsYWJsZUltYWdlcz1ufHxudWxsLHRoaXMuX2V2YWx1YXRvci5mb3JtYXR0ZWRTZWN0aW9uPW8sdGhpcy5fZXZhbHVhdG9yLmZlYXR1cmVUaWxlQ29vcmQ9c3x8bnVsbCx0aGlzLl9ldmFsdWF0b3IuZmVhdHVyZURpc3RhbmNlRGF0YT1hfHxudWxsLHRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZSh0aGlzLl9ldmFsdWF0b3IpfWV2YWx1YXRlKGUsdCxpLHIsbixvLHMsYSl7dGhpcy5fZXZhbHVhdG9yLmdsb2JhbHM9ZSx0aGlzLl9ldmFsdWF0b3IuZmVhdHVyZT10fHxudWxsLHRoaXMuX2V2YWx1YXRvci5mZWF0dXJlU3RhdGU9aXx8bnVsbCx0aGlzLl9ldmFsdWF0b3IuY2Fub25pY2FsPXJ8fG51bGwsdGhpcy5fZXZhbHVhdG9yLmF2YWlsYWJsZUltYWdlcz1ufHxudWxsLHRoaXMuX2V2YWx1YXRvci5mb3JtYXR0ZWRTZWN0aW9uPW98fG51bGwsdGhpcy5fZXZhbHVhdG9yLmZlYXR1cmVUaWxlQ29vcmQ9c3x8bnVsbCx0aGlzLl9ldmFsdWF0b3IuZmVhdHVyZURpc3RhbmNlRGF0YT1hfHxudWxsO3RyeXtjb25zdCBlPXRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZSh0aGlzLl9ldmFsdWF0b3IpO2lmKG51bGw9PWV8fFwibnVtYmVyXCI9PXR5cGVvZiBlJiZlIT1lKXJldHVybiB0aGlzLl9kZWZhdWx0VmFsdWU7aWYodGhpcy5fZW51bVZhbHVlcyYmIShlIGluIHRoaXMuX2VudW1WYWx1ZXMpKXRocm93IG5ldyBiaShgRXhwZWN0ZWQgdmFsdWUgdG8gYmUgb25lIG9mICR7T2JqZWN0LmtleXModGhpcy5fZW51bVZhbHVlcykubWFwKChlPT5KU09OLnN0cmluZ2lmeShlKSkpLmpvaW4oXCIsIFwiKX0sIGJ1dCBmb3VuZCAke0pTT04uc3RyaW5naWZ5KGUpfSBpbnN0ZWFkLmApO3JldHVybiBlfWNhdGNoKGUpe3JldHVybiB0aGlzLl93YXJuaW5nSGlzdG9yeVtlLm1lc3NhZ2VdfHwodGhpcy5fd2FybmluZ0hpc3RvcnlbZS5tZXNzYWdlXT0hMCxcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSYmY29uc29sZS53YXJuKGUubWVzc2FnZSkpLHRoaXMuX2RlZmF1bHRWYWx1ZX19fWZ1bmN0aW9uIFRvKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpJiZlLmxlbmd0aD4wJiZcInN0cmluZ1wiPT10eXBlb2YgZVswXSYmZVswXWluIG9vfWZ1bmN0aW9uIEVvKGUsdCxpKXtjb25zdCByPW5ldyAkcihvbyxbXSx0P2Z1bmN0aW9uKGUpe2NvbnN0IHQ9e2NvbG9yOlp0LHN0cmluZzpHdCxudW1iZXI6anQsZW51bTpHdCxib29sZWFuOnF0LGZvcm1hdHRlZDpYdCxyZXNvbHZlZEltYWdlOll0fTtyZXR1cm4gXCJhcnJheVwiPT09ZS50eXBlP0t0KHRbZS52YWx1ZV18fFd0LGUubGVuZ3RoKTp0W2UudHlwZV19KHQpOnZvaWQgMCx2b2lkIDAsdm9pZCAwLGkpLG49ci5wYXJzZShlLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHQmJlwic3RyaW5nXCI9PT10LnR5cGU/e3R5cGVBbm5vdGF0aW9uOlwiY29lcmNlXCJ9OnZvaWQgMCk7cmV0dXJuIG4/c28obmV3IHdvKG4sdCxpKSk6YW8oci5lcnJvcnMpfWNsYXNzIE1ve2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLmtpbmQ9ZSx0aGlzLl9zdHlsZUV4cHJlc3Npb249dCx0aGlzLmlzTGlnaHRDb25zdGFudD1pLHRoaXMuaXNTdGF0ZURlcGVuZGVudD1cImNvbnN0YW50XCIhPT1lJiYhVXIodC5leHByZXNzaW9uKSx0aGlzLmlzQ29uZmlnRGVwZW5kZW50PSFWcih0LmV4cHJlc3Npb24pO31ldmFsdWF0ZVdpdGhvdXRFcnJvckhhbmRsaW5nKGUsdCxpLHIsbixvKXtyZXR1cm4gdGhpcy5fc3R5bGVFeHByZXNzaW9uLmV2YWx1YXRlV2l0aG91dEVycm9ySGFuZGxpbmcoZSx0LGkscixuLG8pfWV2YWx1YXRlKGUsdCxpLHIsbixvKXtyZXR1cm4gdGhpcy5fc3R5bGVFeHByZXNzaW9uLmV2YWx1YXRlKGUsdCxpLHIsbixvKX19Y2xhc3MgQW97Y29uc3RydWN0b3IoZSx0LGkscixuKXt0aGlzLmtpbmQ9ZSx0aGlzLnpvb21TdG9wcz1pLHRoaXMuX3N0eWxlRXhwcmVzc2lvbj10LHRoaXMuaXNTdGF0ZURlcGVuZGVudD1cImNhbWVyYVwiIT09ZSYmIVVyKHQuZXhwcmVzc2lvbiksdGhpcy5pc0xpZ2h0Q29uc3RhbnQ9bix0aGlzLmlzQ29uZmlnRGVwZW5kZW50PSFWcih0LmV4cHJlc3Npb24pLHRoaXMuaW50ZXJwb2xhdGlvblR5cGU9cjt9ZXZhbHVhdGVXaXRob3V0RXJyb3JIYW5kbGluZyhlLHQsaSxyLG4sbyl7cmV0dXJuIHRoaXMuX3N0eWxlRXhwcmVzc2lvbi5ldmFsdWF0ZVdpdGhvdXRFcnJvckhhbmRsaW5nKGUsdCxpLHIsbixvKX1ldmFsdWF0ZShlLHQsaSxyLG4sbyl7cmV0dXJuIHRoaXMuX3N0eWxlRXhwcmVzc2lvbi5ldmFsdWF0ZShlLHQsaSxyLG4sbyl9aW50ZXJwb2xhdGlvbkZhY3RvcihlLHQsaSl7cmV0dXJuIHRoaXMuaW50ZXJwb2xhdGlvblR5cGU/Ym4uaW50ZXJwb2xhdGlvbkZhY3Rvcih0aGlzLmludGVycG9sYXRpb25UeXBlLGUsdCxpKTowfX1mdW5jdGlvbiBTbyhlLHQsaSl7aWYoXCJlcnJvclwiPT09KGU9RW8oZSx0LGkpKS5yZXN1bHQpcmV0dXJuIGU7Y29uc3Qgcj1lLnZhbHVlLmV4cHJlc3Npb24sbj1OcihyKTtpZighbiYmIWNvKHQpKXJldHVybiBhbyhbbmV3IEZ0KFwiXCIsXCJkYXRhIGV4cHJlc3Npb25zIG5vdCBzdXBwb3J0ZWRcIildKTtjb25zdCBvPWpyKHIsW1wiem9vbVwiLFwicGl0Y2hcIixcImRpc3RhbmNlLWZyb20tY2VudGVyXCJdKTtpZighbyYmIXVvKHQpKXJldHVybiBhbyhbbmV3IEZ0KFwiXCIsXCJ6b29tIGV4cHJlc3Npb25zIG5vdCBzdXBwb3J0ZWRcIildKTtjb25zdCBzPWpyKHIsW1wibWVhc3VyZS1saWdodFwiXSk7aWYoIXMmJiFobyh0KSlyZXR1cm4gYW8oW25ldyBGdChcIlwiLFwibWVhc3VyZS1saWdodCBleHByZXNzaW9uIG5vdCBzdXBwb3J0ZWRcIildKTtjb25zdCBhPXQuZXhwcmVzc2lvbiYmdC5leHByZXNzaW9uLnJlbGF4Wm9vbVJlc3RyaWN0aW9uLGw9Q28ocik7cmV0dXJuIGx8fG98fGE/bCBpbnN0YW5jZW9mIEZ0P2FvKFtsXSk6bCBpbnN0YW5jZW9mIGJuJiYhcG8odCk/YW8oW25ldyBGdChcIlwiLCdcImludGVycG9sYXRlXCIgZXhwcmVzc2lvbnMgY2Fubm90IGJlIHVzZWQgd2l0aCB0aGlzIHByb3BlcnR5JyldKTpzbyhsP25ldyBBbyhuP1wiY2FtZXJhXCI6XCJjb21wb3NpdGVcIixlLnZhbHVlLGwubGFiZWxzLGwgaW5zdGFuY2VvZiBibj9sLmludGVycG9sYXRpb246dm9pZCAwLHMpOm5ldyBNbyhuP1wiY29uc3RhbnRcIjpcInNvdXJjZVwiLGUudmFsdWUscykpOmFvKFtuZXcgRnQoXCJcIiwnXCJ6b29tXCIgZXhwcmVzc2lvbiBtYXkgb25seSBiZSB1c2VkIGFzIGlucHV0IHRvIGEgdG9wLWxldmVsIFwic3RlcFwiIG9yIFwiaW50ZXJwb2xhdGVcIiBleHByZXNzaW9uLCBvciBpbiB0aGUgcHJvcGVydGllcyBvZiBhdG1vc3BoZXJlLicpXSl9Y2xhc3MgSW97Y29uc3RydWN0b3IoZSx0KXt0aGlzLl9wYXJhbWV0ZXJzPWUsdGhpcy5fc3BlY2lmaWNhdGlvbj10LEx0KHRoaXMsX28odGhpcy5fcGFyYW1ldGVycyx0aGlzLl9zcGVjaWZpY2F0aW9uKSk7fXN0YXRpYyBkZXNlcmlhbGl6ZShlKXtyZXR1cm4gbmV3IElvKGUuX3BhcmFtZXRlcnMsZS5fc3BlY2lmaWNhdGlvbil9c3RhdGljIHNlcmlhbGl6ZShlKXtyZXR1cm4ge19wYXJhbWV0ZXJzOmUuX3BhcmFtZXRlcnMsX3NwZWNpZmljYXRpb246ZS5fc3BlY2lmaWNhdGlvbn19fWZ1bmN0aW9uIENvKGUpe2xldCB0PW51bGw7aWYoZSBpbnN0YW5jZW9mIE1uKXQ9Q28oZS5yZXN1bHQpO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIFRuKXtmb3IoY29uc3QgaSBvZiBlLmFyZ3MpaWYodD1DbyhpKSx0KWJyZWFrfWVsc2UgKGUgaW5zdGFuY2VvZiBZcnx8ZSBpbnN0YW5jZW9mIGJuKSYmZS5pbnB1dCBpbnN0YW5jZW9mIGtpJiZcInpvb21cIj09PWUuaW5wdXQubmFtZSYmKHQ9ZSk7cmV0dXJuIHQgaW5zdGFuY2VvZiBGdHx8ZS5lYWNoQ2hpbGQoKGU9Pntjb25zdCBpPUNvKGUpO2kgaW5zdGFuY2VvZiBGdD90PWk6dCYmaSYmdCE9PWkmJih0PW5ldyBGdChcIlwiLCdPbmx5IG9uZSB6b29tLWJhc2VkIFwic3RlcFwiIG9yIFwiaW50ZXJwb2xhdGVcIiBzdWJleHByZXNzaW9uIG1heSBiZSB1c2VkIGluIGFuIGV4cHJlc3Npb24uJykpO30pKSx0fWZ1bmN0aW9uIHpvKGUpe2NvbnN0IHQ9ZS5rZXksaT1lLnZhbHVlLHI9ZS52YWx1ZVNwZWN8fHt9LG49ZS5vYmplY3RFbGVtZW50VmFsaWRhdG9yc3x8e30sbz1lLnN0eWxlLHM9ZS5zdHlsZVNwZWM7bGV0IGE9W107Y29uc3QgbD1TaShpKTtpZihcIm9iamVjdFwiIT09bClyZXR1cm4gW25ldyBEdCh0LGksYG9iamVjdCBleHBlY3RlZCwgJHtsfSBmb3VuZGApXTtmb3IoY29uc3QgZSBpbiBpKXtjb25zdCBsPWUuc3BsaXQoXCIuXCIpWzBdO2xldCBjO25bbF0/Yz1uW2xdOnJbbF0/Yz1kczpuW1wiKlwiXT9jPW5bXCIqXCJdOnJbXCIqXCJdJiYoYz1kcyksYz9hPWEuY29uY2F0KGMoe2tleToodD9gJHt0fS5gOnQpK2UsdmFsdWU6aVtlXSx2YWx1ZVNwZWM6cltsXXx8cltcIipcIl0sc3R5bGU6byxzdHlsZVNwZWM6cyxvYmplY3Q6aSxvYmplY3RLZXk6ZX0saSkpOmEucHVzaChuZXcgUnQodCxpW2VdLGB1bmtub3duIHByb3BlcnR5IFwiJHtlfVwiYCkpO31mb3IoY29uc3QgZSBpbiByKW5bZV18fHJbZV0ucmVxdWlyZWQmJnZvaWQgMD09PXJbZV0uZGVmYXVsdCYmdm9pZCAwPT09aVtlXSYmYS5wdXNoKG5ldyBEdCh0LGksYG1pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgXCIke2V9XCJgKSk7cmV0dXJuIGF9ZnVuY3Rpb24gUG8oZSl7Y29uc3QgdD1lLnZhbHVlLGk9ZS52YWx1ZVNwZWMscj1lLnN0eWxlLG49ZS5zdHlsZVNwZWMsbz1lLmtleSxzPWUuYXJyYXlFbGVtZW50VmFsaWRhdG9yfHxkcztpZihcImFycmF5XCIhPT1TaSh0KSlyZXR1cm4gW25ldyBEdChvLHQsYGFycmF5IGV4cGVjdGVkLCAke1NpKHQpfSBmb3VuZGApXTtpZihpLmxlbmd0aCYmdC5sZW5ndGghPT1pLmxlbmd0aClyZXR1cm4gW25ldyBEdChvLHQsYGFycmF5IGxlbmd0aCAke2kubGVuZ3RofSBleHBlY3RlZCwgbGVuZ3RoICR7dC5sZW5ndGh9IGZvdW5kYCldO2lmKGlbXCJtaW4tbGVuZ3RoXCJdJiZ0Lmxlbmd0aDxpW1wibWluLWxlbmd0aFwiXSlyZXR1cm4gW25ldyBEdChvLHQsYGFycmF5IGxlbmd0aCBhdCBsZWFzdCAke2lbXCJtaW4tbGVuZ3RoXCJdfSBleHBlY3RlZCwgbGVuZ3RoICR7dC5sZW5ndGh9IGZvdW5kYCldO2xldCBhPXt0eXBlOmkudmFsdWUsdmFsdWVzOmkudmFsdWVzLG1pbmltdW06aS5taW5pbXVtLG1heGltdW06aS5tYXhpbXVtLGZ1bmN0aW9uOnZvaWQgMH07bi4kdmVyc2lvbjw3JiYoYS5mdW5jdGlvbj1pLmZ1bmN0aW9uKSxcIm9iamVjdFwiPT09U2koaS52YWx1ZSkmJihhPWkudmFsdWUpO2xldCBsPVtdO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKWw9bC5jb25jYXQocyh7YXJyYXk6dCxhcnJheUluZGV4OmUsdmFsdWU6dFtlXSx2YWx1ZVNwZWM6YSxzdHlsZTpyLHN0eWxlU3BlYzpuLGtleTpgJHtvfVske2V9XWB9LCEwKSk7cmV0dXJuIGx9ZnVuY3Rpb24gRG8oZSl7Y29uc3QgdD1lLmtleSxpPWUudmFsdWUscj1lLnZhbHVlU3BlYztsZXQgbj1TaShpKTtpZihcIm51bWJlclwiPT09biYmaSE9aSYmKG49XCJOYU5cIiksXCJudW1iZXJcIiE9PW4pcmV0dXJuIFtuZXcgRHQodCxpLGBudW1iZXIgZXhwZWN0ZWQsICR7bn0gZm91bmRgKV07aWYoXCJtaW5pbXVtXCJpbiByKXtsZXQgbj1yLm1pbmltdW07aWYoXCJhcnJheVwiPT09U2koci5taW5pbXVtKSYmKG49ci5taW5pbXVtW2UuYXJyYXlJbmRleF0pLGk8bilyZXR1cm4gW25ldyBEdCh0LGksYCR7aX0gaXMgbGVzcyB0aGFuIHRoZSBtaW5pbXVtIHZhbHVlICR7bn1gKV19aWYoXCJtYXhpbXVtXCJpbiByKXtsZXQgbj1yLm1heGltdW07aWYoXCJhcnJheVwiPT09U2koci5tYXhpbXVtKSYmKG49ci5tYXhpbXVtW2UuYXJyYXlJbmRleF0pLGk+bilyZXR1cm4gW25ldyBEdCh0LGksYCR7aX0gaXMgZ3JlYXRlciB0aGFuIHRoZSBtYXhpbXVtIHZhbHVlICR7bn1gKV19cmV0dXJuIFtdfWZ1bmN0aW9uIFJvKGUpe2NvbnN0IHQ9ZS52YWx1ZVNwZWMsaT1rdChlLnZhbHVlLnR5cGUpO2xldCByLG4sbyxzPXt9O2NvbnN0IGE9XCJjYXRlZ29yaWNhbFwiIT09aSYmdm9pZCAwPT09ZS52YWx1ZS5wcm9wZXJ0eSxsPSFhLGM9XCJhcnJheVwiPT09U2koZS52YWx1ZS5zdG9wcykmJlwiYXJyYXlcIj09PVNpKGUudmFsdWUuc3RvcHNbMF0pJiZcIm9iamVjdFwiPT09U2koZS52YWx1ZS5zdG9wc1swXVswXSksaD16byh7a2V5OmUua2V5LHZhbHVlOmUudmFsdWUsdmFsdWVTcGVjOmUuc3R5bGVTcGVjLmZ1bmN0aW9uLHN0eWxlOmUuc3R5bGUsc3R5bGVTcGVjOmUuc3R5bGVTcGVjLG9iamVjdEVsZW1lbnRWYWxpZGF0b3JzOntzdG9wczpmdW5jdGlvbihlKXtpZihcImlkZW50aXR5XCI9PT1pKXJldHVybiBbbmV3IER0KGUua2V5LGUudmFsdWUsJ2lkZW50aXR5IGZ1bmN0aW9uIG1heSBub3QgaGF2ZSBhIFwic3RvcHNcIiBwcm9wZXJ0eScpXTtsZXQgdD1bXTtjb25zdCByPWUudmFsdWU7cmV0dXJuIHQ9dC5jb25jYXQoUG8oe2tleTplLmtleSx2YWx1ZTpyLHZhbHVlU3BlYzplLnZhbHVlU3BlYyxzdHlsZTplLnN0eWxlLHN0eWxlU3BlYzplLnN0eWxlU3BlYyxhcnJheUVsZW1lbnRWYWxpZGF0b3I6dX0pKSxcImFycmF5XCI9PT1TaShyKSYmMD09PXIubGVuZ3RoJiZ0LnB1c2gobmV3IER0KGUua2V5LHIsXCJhcnJheSBtdXN0IGhhdmUgYXQgbGVhc3Qgb25lIHN0b3BcIikpLHR9LGRlZmF1bHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGRzKHtrZXk6ZS5rZXksdmFsdWU6ZS52YWx1ZSx2YWx1ZVNwZWM6dCxzdHlsZTplLnN0eWxlLHN0eWxlU3BlYzplLnN0eWxlU3BlY30pfX19KTtyZXR1cm4gXCJpZGVudGl0eVwiPT09aSYmYSYmaC5wdXNoKG5ldyBEdChlLmtleSxlLnZhbHVlLCdtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IFwicHJvcGVydHlcIicpKSxcImlkZW50aXR5XCI9PT1pfHxlLnZhbHVlLnN0b3BzfHxoLnB1c2gobmV3IER0KGUua2V5LGUudmFsdWUsJ21pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgXCJzdG9wc1wiJykpLFwiZXhwb25lbnRpYWxcIj09PWkmJmUudmFsdWVTcGVjLmV4cHJlc3Npb24mJiFwbyhlLnZhbHVlU3BlYykmJmgucHVzaChuZXcgRHQoZS5rZXksZS52YWx1ZSxcImV4cG9uZW50aWFsIGZ1bmN0aW9ucyBub3Qgc3VwcG9ydGVkXCIpKSxlLnN0eWxlU3BlYy4kdmVyc2lvbj49OCYmKGwmJiFjbyhlLnZhbHVlU3BlYyk/aC5wdXNoKG5ldyBEdChlLmtleSxlLnZhbHVlLFwicHJvcGVydHkgZnVuY3Rpb25zIG5vdCBzdXBwb3J0ZWRcIikpOmEmJiF1byhlLnZhbHVlU3BlYykmJmgucHVzaChuZXcgRHQoZS5rZXksZS52YWx1ZSxcInpvb20gZnVuY3Rpb25zIG5vdCBzdXBwb3J0ZWRcIikpKSxcImNhdGVnb3JpY2FsXCIhPT1pJiYhY3x8dm9pZCAwIT09ZS52YWx1ZS5wcm9wZXJ0eXx8aC5wdXNoKG5ldyBEdChlLmtleSxlLnZhbHVlLCdcInByb3BlcnR5XCIgcHJvcGVydHkgaXMgcmVxdWlyZWQnKSksaDtmdW5jdGlvbiB1KGUpe2xldCBpPVtdO2NvbnN0IHI9ZS52YWx1ZSxhPWUua2V5O2lmKFwiYXJyYXlcIiE9PVNpKHIpKXJldHVybiBbbmV3IER0KGEscixgYXJyYXkgZXhwZWN0ZWQsICR7U2kocil9IGZvdW5kYCldO2lmKDIhPT1yLmxlbmd0aClyZXR1cm4gW25ldyBEdChhLHIsYGFycmF5IGxlbmd0aCAyIGV4cGVjdGVkLCBsZW5ndGggJHtyLmxlbmd0aH0gZm91bmRgKV07aWYoYyl7aWYoXCJvYmplY3RcIiE9PVNpKHJbMF0pKXJldHVybiBbbmV3IER0KGEscixgb2JqZWN0IGV4cGVjdGVkLCAke1NpKHJbMF0pfSBmb3VuZGApXTtpZih2b2lkIDA9PT1yWzBdLnpvb20pcmV0dXJuIFtuZXcgRHQoYSxyLFwib2JqZWN0IHN0b3Aga2V5IG11c3QgaGF2ZSB6b29tXCIpXTtpZih2b2lkIDA9PT1yWzBdLnZhbHVlKXJldHVybiBbbmV3IER0KGEscixcIm9iamVjdCBzdG9wIGtleSBtdXN0IGhhdmUgdmFsdWVcIildO2NvbnN0IHQ9a3QoclswXS56b29tKTtpZihcIm51bWJlclwiIT10eXBlb2YgdClyZXR1cm4gW25ldyBEdChhLHJbMF0uem9vbSxcInN0b3Agem9vbSB2YWx1ZXMgbXVzdCBiZSBudW1iZXJzXCIpXTtpZihvJiZvPnQpcmV0dXJuIFtuZXcgRHQoYSxyWzBdLnpvb20sXCJzdG9wIHpvb20gdmFsdWVzIG11c3QgYXBwZWFyIGluIGFzY2VuZGluZyBvcmRlclwiKV07dCE9PW8mJihvPXQsbj12b2lkIDAscz17fSksaT1pLmNvbmNhdCh6byh7a2V5OmAke2F9WzBdYCx2YWx1ZTpyWzBdLHZhbHVlU3BlYzp7em9vbTp7fX0sc3R5bGU6ZS5zdHlsZSxzdHlsZVNwZWM6ZS5zdHlsZVNwZWMsb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6e3pvb206RG8sdmFsdWU6ZH19KSk7fWVsc2UgaT1pLmNvbmNhdChkKHtrZXk6YCR7YX1bMF1gLHZhbHVlOnJbMF0sdmFsdWVTcGVjOnt9LHN0eWxlOmUuc3R5bGUsc3R5bGVTcGVjOmUuc3R5bGVTcGVjfSxyKSk7cmV0dXJuIFRvKE90KHJbMV0pKT9pLmNvbmNhdChbbmV3IER0KGAke2F9WzFdYCxyWzFdLFwiZXhwcmVzc2lvbnMgYXJlIG5vdCBhbGxvd2VkIGluIGZ1bmN0aW9uIHN0b3BzLlwiKV0pOmkuY29uY2F0KGRzKHtrZXk6YCR7YX1bMV1gLHZhbHVlOnJbMV0sdmFsdWVTcGVjOnQsc3R5bGU6ZS5zdHlsZSxzdHlsZVNwZWM6ZS5zdHlsZVNwZWN9KSl9ZnVuY3Rpb24gZChlLG8pe2NvbnN0IGE9U2koZS52YWx1ZSksbD1rdChlLnZhbHVlKSxjPW51bGwhPT1lLnZhbHVlP2UudmFsdWU6bztpZihyKXtpZihhIT09cilyZXR1cm4gW25ldyBEdChlLmtleSxjLGAke2F9IHN0b3AgZG9tYWluIHR5cGUgbXVzdCBtYXRjaCBwcmV2aW91cyBzdG9wIGRvbWFpbiB0eXBlICR7cn1gKV19ZWxzZSByPWE7aWYoXCJudW1iZXJcIiE9PWEmJlwic3RyaW5nXCIhPT1hJiZcImJvb2xlYW5cIiE9PWEmJlwibnVtYmVyXCIhPXR5cGVvZiBsJiZcInN0cmluZ1wiIT10eXBlb2YgbCYmXCJib29sZWFuXCIhPXR5cGVvZiBsKXJldHVybiBbbmV3IER0KGUua2V5LGMsXCJzdG9wIGRvbWFpbiB2YWx1ZSBtdXN0IGJlIGEgbnVtYmVyLCBzdHJpbmcsIG9yIGJvb2xlYW5cIildO2lmKFwibnVtYmVyXCIhPT1hJiZcImNhdGVnb3JpY2FsXCIhPT1pKXtsZXQgcj1gbnVtYmVyIGV4cGVjdGVkLCAke2F9IGZvdW5kYDtyZXR1cm4gY28odCkmJnZvaWQgMD09PWkmJihyKz0nXFxuSWYgeW91IGludGVuZGVkIHRvIHVzZSBhIGNhdGVnb3JpY2FsIGZ1bmN0aW9uLCBzcGVjaWZ5IGBcInR5cGVcIjogXCJjYXRlZ29yaWNhbFwiYC4nKSxbbmV3IER0KGUua2V5LGMscildfXJldHVybiBcImNhdGVnb3JpY2FsXCIhPT1pfHxcIm51bWJlclwiIT09YXx8XCJudW1iZXJcIj09dHlwZW9mIGwmJmlzRmluaXRlKGwpJiZNYXRoLmZsb29yKGwpPT09bD9cImNhdGVnb3JpY2FsXCIhPT1pJiZcIm51bWJlclwiPT09YSYmXCJudW1iZXJcIj09dHlwZW9mIGwmJlwibnVtYmVyXCI9PXR5cGVvZiBuJiZ2b2lkIDAhPT1uJiZsPG4/W25ldyBEdChlLmtleSxjLFwic3RvcCBkb21haW4gdmFsdWVzIG11c3QgYXBwZWFyIGluIGFzY2VuZGluZyBvcmRlclwiKV06KG49bCxcImNhdGVnb3JpY2FsXCI9PT1pJiZsIGluIHM/W25ldyBEdChlLmtleSxjLFwic3RvcCBkb21haW4gdmFsdWVzIG11c3QgYmUgdW5pcXVlXCIpXTooc1tsXT0hMCxbXSkpOltuZXcgRHQoZS5rZXksYyxgaW50ZWdlciBleHBlY3RlZCwgZm91bmQgJHtTdHJpbmcobCl9YCldfX1mdW5jdGlvbiBMbyhlKXtjb25zdCB0PShcInByb3BlcnR5XCI9PT1lLmV4cHJlc3Npb25Db250ZXh0P1NvOkVvKShPdChlLnZhbHVlKSxlLnZhbHVlU3BlYyk7aWYoXCJlcnJvclwiPT09dC5yZXN1bHQpcmV0dXJuIHQudmFsdWUubWFwKCh0PT5uZXcgRHQoYCR7ZS5rZXl9JHt0LmtleX1gLGUudmFsdWUsdC5tZXNzYWdlKSkpO2NvbnN0IGk9dC52YWx1ZS5leHByZXNzaW9ufHx0LnZhbHVlLl9zdHlsZUV4cHJlc3Npb24uZXhwcmVzc2lvbjtpZihcInByb3BlcnR5XCI9PT1lLmV4cHJlc3Npb25Db250ZXh0JiZcInRleHQtZm9udFwiPT09ZS5wcm9wZXJ0eUtleSYmIWkub3V0cHV0RGVmaW5lZCgpKXJldHVybiBbbmV3IER0KGUua2V5LGUudmFsdWUsYEludmFsaWQgZGF0YSBleHByZXNzaW9uIGZvciBcIiR7ZS5wcm9wZXJ0eUtleX1cIi4gT3V0cHV0IHZhbHVlcyBtdXN0IGJlIGNvbnRhaW5lZCBhcyBsaXRlcmFscyB3aXRoaW4gdGhlIGV4cHJlc3Npb24uYCldO2lmKFwicHJvcGVydHlcIj09PWUuZXhwcmVzc2lvbkNvbnRleHQmJlwibGF5b3V0XCI9PT1lLnByb3BlcnR5VHlwZSYmIVVyKGkpKXJldHVybiBbbmV3IER0KGUua2V5LGUudmFsdWUsJ1wiZmVhdHVyZS1zdGF0ZVwiIGRhdGEgZXhwcmVzc2lvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCBsYXlvdXQgcHJvcGVydGllcy4nKV07aWYoXCJmaWx0ZXJcIj09PWUuZXhwcmVzc2lvbkNvbnRleHQpcmV0dXJuIGtvKGksZSk7aWYoZS5leHByZXNzaW9uQ29udGV4dCYmMD09PWUuZXhwcmVzc2lvbkNvbnRleHQuaW5kZXhPZihcImNsdXN0ZXJcIikpe2lmKCFqcihpLFtcInpvb21cIixcImZlYXR1cmUtc3RhdGVcIl0pKXJldHVybiBbbmV3IER0KGUua2V5LGUudmFsdWUsJ1wiem9vbVwiIGFuZCBcImZlYXR1cmUtc3RhdGVcIiBleHByZXNzaW9ucyBhcmUgbm90IHN1cHBvcnRlZCB3aXRoIGNsdXN0ZXIgcHJvcGVydGllcy4nKV07aWYoXCJjbHVzdGVyLWluaXRpYWxcIj09PWUuZXhwcmVzc2lvbkNvbnRleHQmJiFOcihpKSlyZXR1cm4gW25ldyBEdChlLmtleSxlLnZhbHVlLFwiRmVhdHVyZSBkYXRhIGV4cHJlc3Npb25zIGFyZSBub3Qgc3VwcG9ydGVkIHdpdGggaW5pdGlhbCBleHByZXNzaW9uIHBhcnQgb2YgY2x1c3RlciBwcm9wZXJ0aWVzLlwiKV19cmV0dXJuIFtdfWZ1bmN0aW9uIGtvKGUsdCl7Y29uc3QgaT1uZXcgU2V0KFtcInpvb21cIixcImZlYXR1cmUtc3RhdGVcIixcInBpdGNoXCIsXCJkaXN0YW5jZS1mcm9tLWNlbnRlclwiXSk7aWYodC52YWx1ZVNwZWMmJnQudmFsdWVTcGVjLmV4cHJlc3Npb24pZm9yKGNvbnN0IGUgb2YgdC52YWx1ZVNwZWMuZXhwcmVzc2lvbi5wYXJhbWV0ZXJzKWkuZGVsZXRlKGUpO2lmKDA9PT1pLnNpemUpcmV0dXJuIFtdO2NvbnN0IHI9W107cmV0dXJuIGUgaW5zdGFuY2VvZiBraSYmaS5oYXMoZS5uYW1lKT9bbmV3IER0KHQua2V5LHQudmFsdWUsYFtcIiR7ZS5uYW1lfVwiXSBleHByZXNzaW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4gYSBmaWx0ZXIgZm9yIGEgJHt0Lm9iamVjdC50eXBlfSBsYXllciB3aXRoIGlkOiAke3Qub2JqZWN0LmlkfWApXTooZS5lYWNoQ2hpbGQoKGU9PntyLnB1c2goLi4ua28oZSx0KSk7fSkpLHIpfWZ1bmN0aW9uIE9vKGUpe2NvbnN0IHQ9ZS5rZXksaT1lLnZhbHVlLHI9ZS52YWx1ZVNwZWMsbj1bXTtyZXR1cm4gQXJyYXkuaXNBcnJheShyLnZhbHVlcyk/LTE9PT1yLnZhbHVlcy5pbmRleE9mKGt0KGkpKSYmbi5wdXNoKG5ldyBEdCh0LGksYGV4cGVjdGVkIG9uZSBvZiBbJHtyLnZhbHVlcy5qb2luKFwiLCBcIil9XSwgJHtKU09OLnN0cmluZ2lmeShpKX0gZm91bmRgKSk6LTE9PT1PYmplY3Qua2V5cyhyLnZhbHVlcykuaW5kZXhPZihrdChpKSkmJm4ucHVzaChuZXcgRHQodCxpLGBleHBlY3RlZCBvbmUgb2YgWyR7T2JqZWN0LmtleXMoci52YWx1ZXMpLmpvaW4oXCIsIFwiKX1dLCAke0pTT04uc3RyaW5naWZ5KGkpfSBmb3VuZGApKSxufWZ1bmN0aW9uIEJvKGUpe2lmKCEwPT09ZXx8ITE9PT1lKXJldHVybiAhMDtpZighQXJyYXkuaXNBcnJheShlKXx8MD09PWUubGVuZ3RoKXJldHVybiAhMTtzd2l0Y2goZVswXSl7Y2FzZVwiaGFzXCI6cmV0dXJuIGUubGVuZ3RoPj0yJiZcIiRpZFwiIT09ZVsxXSYmXCIkdHlwZVwiIT09ZVsxXTtjYXNlXCJpblwiOnJldHVybiBlLmxlbmd0aD49MyYmKFwic3RyaW5nXCIhPXR5cGVvZiBlWzFdfHxBcnJheS5pc0FycmF5KGVbMl0pKTtjYXNlXCIhaW5cIjpjYXNlXCIhaGFzXCI6Y2FzZVwibm9uZVwiOnJldHVybiAhMTtjYXNlXCI9PVwiOmNhc2VcIiE9XCI6Y2FzZVwiPlwiOmNhc2VcIj49XCI6Y2FzZVwiPFwiOmNhc2VcIjw9XCI6cmV0dXJuIDMhPT1lLmxlbmd0aHx8QXJyYXkuaXNBcnJheShlWzFdKXx8QXJyYXkuaXNBcnJheShlWzJdKTtjYXNlXCJhbnlcIjpjYXNlXCJhbGxcIjpmb3IoY29uc3QgdCBvZiBlLnNsaWNlKDEpKWlmKCFCbyh0KSYmXCJib29sZWFuXCIhPXR5cGVvZiB0KXJldHVybiAhMTtyZXR1cm4gITA7ZGVmYXVsdDpyZXR1cm4gITB9fWZ1bmN0aW9uIEZvKGUsdD1cImZpbGxcIil7aWYobnVsbD09ZSlyZXR1cm4ge2ZpbHRlcjooKT0+ITAsbmVlZEdlb21ldHJ5OiExLG5lZWRGZWF0dXJlOiExfTtCbyhlKXx8KGU9Wm8oZSkpO2NvbnN0IGk9ZTtsZXQgcj0hMDt0cnl7cj1mdW5jdGlvbihlKXtpZighVm8oZSkpcmV0dXJuIGU7bGV0IHQ9T3QoZSk7cmV0dXJuIFVvKHQpLHQ9Tm8odCksdH0oaSk7fWNhdGNoKGUpe2NvbnNvbGUud2FybihgRmFpbGVkIHRvIGV4dHJhY3Qgc3RhdGljIGZpbHRlci4gRmlsdGVyIHdpbGwgY29udGludWUgd29ya2luZywgYnV0IGF0IGhpZ2hlciBtZW1vcnkgdXNhZ2UgYW5kIHNsb3dlciBmcmFtZXJhdGUuXFxuVGhpcyBpcyBtb3N0IGxpa2VseSBhIGJ1ZywgcGxlYXNlIHJlcG9ydCB0aGlzIHZpYSBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9pc3N1ZXMvbmV3P2Fzc2lnbmVlcz0mbGFiZWxzPSZ0ZW1wbGF0ZT1CdWdfcmVwb3J0Lm1kXFxuYW5kIHBhc3RlIHRoZSBjb250ZW50cyBvZiB0aGlzIG1lc3NhZ2UgaW4gdGhlIHJlcG9ydC5cXG5UaGFuayB5b3UhXFxuRmlsdGVyIEV4cHJlc3Npb246XFxuJHtKU09OLnN0cmluZ2lmeShpLG51bGwsMil9XFxuICAgICAgICBgKTt9Y29uc3Qgbj1QdFtgZmlsdGVyXyR7dH1gXSxvPUVvKHIsbik7bGV0IHM9bnVsbDtpZihcImVycm9yXCI9PT1vLnJlc3VsdCl0aHJvdyBuZXcgRXJyb3Ioby52YWx1ZS5tYXAoKGU9PmAke2Uua2V5fTogJHtlLm1lc3NhZ2V9YCkpLmpvaW4oXCIsIFwiKSk7cz0oZSx0LGkpPT5vLnZhbHVlLmV2YWx1YXRlKGUsdCx7fSxpKTtsZXQgYT1udWxsLGw9bnVsbDtpZihyIT09aSl7Y29uc3QgZT1FbyhpLG4pO2lmKFwiZXJyb3JcIj09PWUucmVzdWx0KXRocm93IG5ldyBFcnJvcihlLnZhbHVlLm1hcCgoZT0+YCR7ZS5rZXl9OiAke2UubWVzc2FnZX1gKSkuam9pbihcIiwgXCIpKTthPSh0LGkscixuLG8pPT5lLnZhbHVlLmV2YWx1YXRlKHQsaSx7fSxyLHZvaWQgMCx2b2lkIDAsbixvKSxsPSFOcihlLnZhbHVlLmV4cHJlc3Npb24pO31yZXR1cm4ge2ZpbHRlcjpzLGR5bmFtaWNGaWx0ZXI6YXx8dm9pZCAwLG5lZWRHZW9tZXRyeTpxbyhyKSxuZWVkRmVhdHVyZTohIWx9fWZ1bmN0aW9uIE5vKGUpe2lmKCFBcnJheS5pc0FycmF5KGUpKXJldHVybiBlO2NvbnN0IHQ9ZnVuY3Rpb24oZSl7aWYoam8uaGFzKGVbMF0pKWZvcihsZXQgdD0xO3Q8ZS5sZW5ndGg7dCsrKWlmKFZvKGVbdF0pKXJldHVybiAhMDtyZXR1cm4gZX0oZSk7cmV0dXJuICEwPT09dD90OnQubWFwKChlPT5ObyhlKSkpfWZ1bmN0aW9uIFVvKGUpe2xldCB0PSExO2NvbnN0IGk9W107aWYoXCJjYXNlXCI9PT1lWzBdKXtmb3IobGV0IHI9MTtyPGUubGVuZ3RoLTE7cis9Mil0PXR8fFZvKGVbcl0pLGkucHVzaChlW3IrMV0pO2kucHVzaChlW2UubGVuZ3RoLTFdKTt9ZWxzZSBpZihcIm1hdGNoXCI9PT1lWzBdKXt0PXR8fFZvKGVbMV0pO2ZvcihsZXQgdD0yO3Q8ZS5sZW5ndGgtMTt0Kz0yKWkucHVzaChlW3QrMV0pO2kucHVzaChlW2UubGVuZ3RoLTFdKTt9ZWxzZSBpZihcInN0ZXBcIj09PWVbMF0pe3Q9dHx8Vm8oZVsxXSk7Zm9yKGxldCB0PTE7dDxlLmxlbmd0aC0xO3QrPTIpaS5wdXNoKGVbdCsxXSk7fXQmJihlLmxlbmd0aD0wLGUucHVzaChcImFueVwiLC4uLmkpKTtmb3IobGV0IHQ9MTt0PGUubGVuZ3RoO3QrKylVbyhlW3RdKTt9ZnVuY3Rpb24gVm8oZSl7aWYoIUFycmF5LmlzQXJyYXkoZSkpcmV0dXJuICExO2lmKFwicGl0Y2hcIj09PSh0PWVbMF0pfHxcImRpc3RhbmNlLWZyb20tY2VudGVyXCI9PT10KXJldHVybiAhMDt2YXIgdDtmb3IobGV0IHQ9MTt0PGUubGVuZ3RoO3QrKylpZihWbyhlW3RdKSlyZXR1cm4gITA7cmV0dXJuICExfWNvbnN0IGpvPW5ldyBTZXQoW1wiaW5cIixcIj09XCIsXCIhPVwiLFwiPlwiLFwiPj1cIixcIjxcIixcIjw9XCIsXCJ0by1ib29sZWFuXCJdKTtmdW5jdGlvbiBHbyhlLHQpe3JldHVybiBlPHQ/LTE6ZT50PzE6MH1mdW5jdGlvbiBxbyhlKXtpZighQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gITE7aWYoXCJ3aXRoaW5cIj09PWVbMF18fFwiZGlzdGFuY2VcIj09PWVbMF0pcmV0dXJuICEwO2ZvcihsZXQgdD0xO3Q8ZS5sZW5ndGg7dCsrKWlmKHFvKGVbdF0pKXJldHVybiAhMDtyZXR1cm4gITF9ZnVuY3Rpb24gWm8oZSl7aWYoIWUpcmV0dXJuICEwO2NvbnN0IHQ9ZVswXTtyZXR1cm4gZS5sZW5ndGg8PTE/XCJhbnlcIiE9PXQ6XCI9PVwiPT09dD8kbyhlWzFdLGVbMl0sXCI9PVwiKTpcIiE9XCI9PT10P1hvKCRvKGVbMV0sZVsyXSxcIj09XCIpKTpcIjxcIj09PXR8fFwiPlwiPT09dHx8XCI8PVwiPT09dHx8XCI+PVwiPT09dD8kbyhlWzFdLGVbMl0sdCk6XCJhbnlcIj09PXQ/KGk9ZS5zbGljZSgxKSxbXCJhbnlcIl0uY29uY2F0KGkubWFwKFpvKSkpOlwiYWxsXCI9PT10P1tcImFsbFwiXS5jb25jYXQoZS5zbGljZSgxKS5tYXAoWm8pKTpcIm5vbmVcIj09PXQ/W1wiYWxsXCJdLmNvbmNhdChlLnNsaWNlKDEpLm1hcChabykubWFwKFhvKSk6XCJpblwiPT09dD9XbyhlWzFdLGUuc2xpY2UoMikpOlwiIWluXCI9PT10P1hvKFdvKGVbMV0sZS5zbGljZSgyKSkpOlwiaGFzXCI9PT10P0hvKGVbMV0pOlwiIWhhc1wiIT09dHx8WG8oSG8oZVsxXSkpO3ZhciBpO31mdW5jdGlvbiAkbyhlLHQsaSl7c3dpdGNoKGUpe2Nhc2VcIiR0eXBlXCI6cmV0dXJuIFtgZmlsdGVyLXR5cGUtJHtpfWAsdF07Y2FzZVwiJGlkXCI6cmV0dXJuIFtgZmlsdGVyLWlkLSR7aX1gLHRdO2RlZmF1bHQ6cmV0dXJuIFtgZmlsdGVyLSR7aX1gLGUsdF19fWZ1bmN0aW9uIFdvKGUsdCl7aWYoMD09PXQubGVuZ3RoKXJldHVybiAhMTtzd2l0Y2goZSl7Y2FzZVwiJHR5cGVcIjpyZXR1cm4gW1wiZmlsdGVyLXR5cGUtaW5cIixbXCJsaXRlcmFsXCIsdF1dO2Nhc2VcIiRpZFwiOnJldHVybiBbXCJmaWx0ZXItaWQtaW5cIixbXCJsaXRlcmFsXCIsdF1dO2RlZmF1bHQ6cmV0dXJuIHQubGVuZ3RoPjIwMCYmIXQuc29tZSgoZT0+dHlwZW9mIGUhPXR5cGVvZiB0WzBdKSk/W1wiZmlsdGVyLWluLWxhcmdlXCIsZSxbXCJsaXRlcmFsXCIsdC5zb3J0KEdvKV1dOltcImZpbHRlci1pbi1zbWFsbFwiLGUsW1wibGl0ZXJhbFwiLHRdXX19ZnVuY3Rpb24gSG8oZSl7c3dpdGNoKGUpe2Nhc2VcIiR0eXBlXCI6cmV0dXJuICEwO2Nhc2VcIiRpZFwiOnJldHVybiBbXCJmaWx0ZXItaGFzLWlkXCJdO2RlZmF1bHQ6cmV0dXJuIFtcImZpbHRlci1oYXNcIixlXX19ZnVuY3Rpb24gWG8oZSl7cmV0dXJuIFtcIiFcIixlXX1mdW5jdGlvbiBZbyhlKXtyZXR1cm4gQm8oT3QoZS52YWx1ZSkpP0xvKEx0KHt9LGUse2V4cHJlc3Npb25Db250ZXh0OlwiZmlsdGVyXCIsdmFsdWVTcGVjOmUuc3R5bGVTcGVjW2BmaWx0ZXJfJHtlLmxheWVyVHlwZXx8XCJmaWxsXCJ9YF19KSk6S28oZSl9ZnVuY3Rpb24gS28oZSl7Y29uc3QgdD1lLnZhbHVlLGk9ZS5rZXk7aWYoXCJhcnJheVwiIT09U2kodCkpcmV0dXJuIFtuZXcgRHQoaSx0LGBhcnJheSBleHBlY3RlZCwgJHtTaSh0KX0gZm91bmRgKV07Y29uc3Qgcj1lLnN0eWxlU3BlYztsZXQgbixvPVtdO2lmKHQubGVuZ3RoPDEpcmV0dXJuIFtuZXcgRHQoaSx0LFwiZmlsdGVyIGFycmF5IG11c3QgaGF2ZSBhdCBsZWFzdCAxIGVsZW1lbnRcIildO3N3aXRjaChvPW8uY29uY2F0KE9vKHtrZXk6YCR7aX1bMF1gLHZhbHVlOnRbMF0sdmFsdWVTcGVjOnIuZmlsdGVyX29wZXJhdG9yLHN0eWxlOmUuc3R5bGUsc3R5bGVTcGVjOmUuc3R5bGVTcGVjfSkpLGt0KHRbMF0pKXtjYXNlXCI8XCI6Y2FzZVwiPD1cIjpjYXNlXCI+XCI6Y2FzZVwiPj1cIjp0Lmxlbmd0aD49MiYmXCIkdHlwZVwiPT09a3QodFsxXSkmJm8ucHVzaChuZXcgRHQoaSx0LGBcIiR0eXBlXCIgY2Fubm90IGJlIHVzZSB3aXRoIG9wZXJhdG9yIFwiJHt0WzBdfVwiYCkpO2Nhc2VcIj09XCI6Y2FzZVwiIT1cIjozIT09dC5sZW5ndGgmJm8ucHVzaChuZXcgRHQoaSx0LGBmaWx0ZXIgYXJyYXkgZm9yIG9wZXJhdG9yIFwiJHt0WzBdfVwiIG11c3QgaGF2ZSAzIGVsZW1lbnRzYCkpO2Nhc2VcImluXCI6Y2FzZVwiIWluXCI6dC5sZW5ndGg+PTImJihuPVNpKHRbMV0pLFwic3RyaW5nXCIhPT1uJiZvLnB1c2gobmV3IER0KGAke2l9WzFdYCx0WzFdLGBzdHJpbmcgZXhwZWN0ZWQsICR7bn0gZm91bmRgKSkpO2ZvcihsZXQgcz0yO3M8dC5sZW5ndGg7cysrKW49U2kodFtzXSksXCIkdHlwZVwiPT09a3QodFsxXSk/bz1vLmNvbmNhdChPbyh7a2V5OmAke2l9WyR7c31dYCx2YWx1ZTp0W3NdLHZhbHVlU3BlYzpyLmdlb21ldHJ5X3R5cGUsc3R5bGU6ZS5zdHlsZSxzdHlsZVNwZWM6ZS5zdHlsZVNwZWN9KSk6XCJzdHJpbmdcIiE9PW4mJlwibnVtYmVyXCIhPT1uJiZcImJvb2xlYW5cIiE9PW4mJm8ucHVzaChuZXcgRHQoYCR7aX1bJHtzfV1gLHRbc10sYHN0cmluZywgbnVtYmVyLCBvciBib29sZWFuIGV4cGVjdGVkLCAke259IGZvdW5kYCkpO2JyZWFrO2Nhc2VcImFueVwiOmNhc2VcImFsbFwiOmNhc2VcIm5vbmVcIjpmb3IobGV0IHI9MTtyPHQubGVuZ3RoO3IrKylvPW8uY29uY2F0KEtvKHtrZXk6YCR7aX1bJHtyfV1gLHZhbHVlOnRbcl0sc3R5bGU6ZS5zdHlsZSxzdHlsZVNwZWM6ZS5zdHlsZVNwZWN9KSk7YnJlYWs7Y2FzZVwiaGFzXCI6Y2FzZVwiIWhhc1wiOm49U2kodFsxXSksMiE9PXQubGVuZ3RoP28ucHVzaChuZXcgRHQoaSx0LGBmaWx0ZXIgYXJyYXkgZm9yIFwiJHt0WzBdfVwiIG9wZXJhdG9yIG11c3QgaGF2ZSAyIGVsZW1lbnRzYCkpOlwic3RyaW5nXCIhPT1uJiZvLnB1c2gobmV3IER0KGAke2l9WzFdYCx0WzFdLGBzdHJpbmcgZXhwZWN0ZWQsICR7bn0gZm91bmRgKSk7fXJldHVybiBvfWZ1bmN0aW9uIEpvKGUsdCl7Y29uc3QgaT1lLmtleSxyPWUuc3R5bGUsbj1lLmxheWVyLG89ZS5zdHlsZVNwZWMscz1lLnZhbHVlLGE9ZS5vYmplY3RLZXksbD1vW2Ake3R9XyR7ZS5sYXllclR5cGV9YF07aWYoIWwpcmV0dXJuIFtdO2NvbnN0IGM9YS5tYXRjaCgvXiguKiktdHJhbnNpdGlvbiQvKTtpZihcInBhaW50XCI9PT10JiZjJiZsW2NbMV1dJiZsW2NbMV1dLnRyYW5zaXRpb24pcmV0dXJuIGRzKHtrZXk6aSx2YWx1ZTpzLHZhbHVlU3BlYzpvLnRyYW5zaXRpb24sc3R5bGU6cixzdHlsZVNwZWM6b30pO2NvbnN0IGg9ZS52YWx1ZVNwZWN8fGxbYV07aWYoIWgpcmV0dXJuIFtuZXcgUnQoaSxzLGB1bmtub3duIHByb3BlcnR5IFwiJHthfVwiYCldO2xldCB1O2lmKFwic3RyaW5nXCI9PT1TaShzKSYmY28oaCkmJiFoLnRva2VucyYmKHU9L157KFtefV0rKX0kLy5leGVjKHMpKSl7Y29uc3QgZT1gXFxgeyBcInR5cGVcIjogXCJpZGVudGl0eVwiLCBcInByb3BlcnR5XCI6ICR7dT9KU09OLnN0cmluZ2lmeSh1WzFdKTonXCJfXCInfSB9XFxgYDtyZXR1cm4gW25ldyBEdChpLHMsYFwiJHthfVwiIGRvZXMgbm90IHN1cHBvcnQgaW50ZXJwb2xhdGlvbiBzeW50YXhcXG5Vc2UgYW4gaWRlbnRpdHkgcHJvcGVydHkgZnVuY3Rpb24gaW5zdGVhZDogJHtlfS5gKV19Y29uc3QgZD1bXTtpZihcInN5bWJvbFwiPT09ZS5sYXllclR5cGUpXCJ0ZXh0LWZpZWxkXCIhPT1hfHwhcnx8ci5nbHlwaHN8fHIuaW1wb3J0c3x8ZC5wdXNoKG5ldyBEdChpLHMsJ3VzZSBvZiBcInRleHQtZmllbGRcIiByZXF1aXJlcyBhIHN0eWxlIFwiZ2x5cGhzXCIgcHJvcGVydHknKSksXCJ0ZXh0LWZvbnRcIj09PWEmJmZvKE90KHMpKSYmXCJpZGVudGl0eVwiPT09a3Qocy50eXBlKSYmZC5wdXNoKG5ldyBEdChpLHMsJ1widGV4dC1mb250XCIgZG9lcyBub3Qgc3VwcG9ydCBpZGVudGl0eSBmdW5jdGlvbnMnKSk7ZWxzZSBpZihcIm1vZGVsXCI9PT1lLmxheWVyVHlwZSYmXCJwYWludFwiPT09dCYmbiYmbi5sYXlvdXQmJm4ubGF5b3V0Lmhhc093blByb3BlcnR5KFwibW9kZWwtaWRcIikmJmNvKGgpJiYoaG8oaCl8fHVvKGgpKSl7Y29uc3QgZT1TbyhPdChzKSxoKSx0PWUudmFsdWUuZXhwcmVzc2lvbnx8ZS52YWx1ZS5fc3R5bGVFeHByZXNzaW9uLmV4cHJlc3Npb247dCYmIWpyKHQsW1wibWVhc3VyZS1saWdodFwiXSkmJihcIm1vZGVsLWVtaXNzaXZlLXN0cmVuZ3RoXCI9PT1hJiZOcih0KSYmVXIodCl8fGQucHVzaChuZXcgRHQoaSxzLGAke2F9IGRvZXMgbm90IHN1cHBvcnQgbWVhc3VyZS1saWdodCBleHByZXNzaW9ucyB3aGVuIHRoZSBtb2RlbCBsYXllciBzb3VyY2UgaXMgdmVjdG9yIHRpbGUgb3IgR2VvSlNPTi5gKSkpO31yZXR1cm4gZC5jb25jYXQoZHMoe2tleTplLmtleSx2YWx1ZTpzLHZhbHVlU3BlYzpoLHN0eWxlOnIsc3R5bGVTcGVjOm8sZXhwcmVzc2lvbkNvbnRleHQ6XCJwcm9wZXJ0eVwiLHByb3BlcnR5VHlwZTp0LHByb3BlcnR5S2V5OmF9KSl9ZnVuY3Rpb24gUW8oZSl7cmV0dXJuIEpvKGUsXCJwYWludFwiKX1mdW5jdGlvbiBlcyhlKXtyZXR1cm4gSm8oZSxcImxheW91dFwiKX1mdW5jdGlvbiB0cyhlKXtsZXQgdD1bXTtjb25zdCBpPWUudmFsdWUscj1lLmtleSxuPWUuc3R5bGUsbz1lLnN0eWxlU3BlYztpLnR5cGV8fGkucmVmfHx0LnB1c2gobmV3IER0KHIsaSwnZWl0aGVyIFwidHlwZVwiIG9yIFwicmVmXCIgaXMgcmVxdWlyZWQnKSk7bGV0IHM9a3QoaS50eXBlKTtjb25zdCBhPWt0KGkucmVmKTtpZihpLmlkKXtjb25zdCBvPWt0KGkuaWQpO2ZvcihsZXQgcz0wO3M8ZS5hcnJheUluZGV4O3MrKyl7Y29uc3QgZT1uLmxheWVyc1tzXTtrdChlLmlkKT09PW8mJnQucHVzaChuZXcgRHQocixpLmlkLGBkdXBsaWNhdGUgbGF5ZXIgaWQgXCIke2kuaWR9XCIsIHByZXZpb3VzbHkgdXNlZCBhdCBsaW5lICR7ZS5pZC5fX2xpbmVfX31gKSk7fX1pZihcInJlZlwiaW4gaSl7bGV0IGU7W1widHlwZVwiLFwic291cmNlXCIsXCJzb3VyY2UtbGF5ZXJcIixcImZpbHRlclwiLFwibGF5b3V0XCJdLmZvckVhY2goKGU9PntlIGluIGkmJnQucHVzaChuZXcgRHQocixpW2VdLGBcIiR7ZX1cIiBpcyBwcm9oaWJpdGVkIGZvciByZWYgbGF5ZXJzYCkpO30pKSxuLmxheWVycy5mb3JFYWNoKCh0PT57a3QodC5pZCk9PT1hJiYoZT10KTt9KSksZT9lLnJlZj90LnB1c2gobmV3IER0KHIsaS5yZWYsXCJyZWYgY2Fubm90IHJlZmVyZW5jZSBhbm90aGVyIHJlZiBsYXllclwiKSk6cz1rdChlLnR5cGUpOlwic3RyaW5nXCI9PXR5cGVvZiBhJiZ0LnB1c2gobmV3IER0KHIsaS5yZWYsYHJlZiBsYXllciBcIiR7YX1cIiBub3QgZm91bmRgKSk7fWVsc2UgaWYoXCJiYWNrZ3JvdW5kXCIhPT1zJiZcInNreVwiIT09cyYmXCJzbG90XCIhPT1zKWlmKGkuc291cmNlKXtjb25zdCBlPW4uc291cmNlcyYmbi5zb3VyY2VzW2kuc291cmNlXSxvPWUmJmt0KGUudHlwZSk7ZT9cInZlY3RvclwiPT09byYmXCJyYXN0ZXJcIj09PXM/dC5wdXNoKG5ldyBEdChyLGkuc291cmNlLGBsYXllciBcIiR7aS5pZH1cIiByZXF1aXJlcyBhIHJhc3RlciBzb3VyY2VgKSk6XCJyYXN0ZXJcIj09PW8mJlwicmFzdGVyXCIhPT1zP3QucHVzaChuZXcgRHQocixpLnNvdXJjZSxgbGF5ZXIgXCIke2kuaWR9XCIgcmVxdWlyZXMgYSB2ZWN0b3Igc291cmNlYCkpOlwidmVjdG9yXCIhPT1vfHxpW1wic291cmNlLWxheWVyXCJdP1wicmFzdGVyLWRlbVwiPT09byYmXCJoaWxsc2hhZGVcIiE9PXM/dC5wdXNoKG5ldyBEdChyLGkuc291cmNlLFwicmFzdGVyLWRlbSBzb3VyY2UgY2FuIG9ubHkgYmUgdXNlZCB3aXRoIGxheWVyIHR5cGUgJ2hpbGxzaGFkZScuXCIpKTpcImxpbmVcIiE9PXN8fCFpLnBhaW50fHwhaS5wYWludFtcImxpbmUtZ3JhZGllbnRcIl0mJiFpLnBhaW50W1wibGluZS10cmltLW9mZnNldFwiXXx8XCJnZW9qc29uXCI9PT1vJiZlLmxpbmVNZXRyaWNzfHx0LnB1c2gobmV3IER0KHIsaSxgbGF5ZXIgXCIke2kuaWR9XCIgc3BlY2lmaWVzIGEgbGluZS1ncmFkaWVudCwgd2hpY2ggcmVxdWlyZXMgYSBHZW9KU09OIHNvdXJjZSB3aXRoIFxcYGxpbmVNZXRyaWNzXFxgIGVuYWJsZWQuYCkpOnQucHVzaChuZXcgRHQocixpLGBsYXllciBcIiR7aS5pZH1cIiBtdXN0IHNwZWNpZnkgYSBcInNvdXJjZS1sYXllclwiYCkpOnQucHVzaChuZXcgRHQocixpLnNvdXJjZSxgc291cmNlIFwiJHtpLnNvdXJjZX1cIiBub3QgZm91bmRgKSk7fWVsc2UgdC5wdXNoKG5ldyBEdChyLGksJ21pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgXCJzb3VyY2VcIicpKTtyZXR1cm4gdD10LmNvbmNhdCh6byh7a2V5OnIsdmFsdWU6aSx2YWx1ZVNwZWM6by5sYXllcixzdHlsZTplLnN0eWxlLHN0eWxlU3BlYzplLnN0eWxlU3BlYyxvYmplY3RFbGVtZW50VmFsaWRhdG9yczp7XCIqXCI6KCk9PltdLHR5cGU6KCk9PmRzKHtrZXk6YCR7cn0udHlwZWAsdmFsdWU6aS50eXBlLHZhbHVlU3BlYzpvLmxheWVyLnR5cGUsc3R5bGU6ZS5zdHlsZSxzdHlsZVNwZWM6ZS5zdHlsZVNwZWMsb2JqZWN0Omksb2JqZWN0S2V5OlwidHlwZVwifSksZmlsdGVyOmU9PllvKEx0KHtsYXllclR5cGU6c30sZSkpLGxheW91dDplPT56byh7bGF5ZXI6aSxrZXk6ZS5rZXksdmFsdWU6ZS52YWx1ZSx2YWx1ZVNwZWM6e30sc3R5bGU6ZS5zdHlsZSxzdHlsZVNwZWM6ZS5zdHlsZVNwZWMsb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6e1wiKlwiOmU9PmVzKEx0KHtsYXllclR5cGU6c30sZSkpfX0pLHBhaW50OmU9PnpvKHtsYXllcjppLGtleTplLmtleSx2YWx1ZTplLnZhbHVlLHZhbHVlU3BlYzp7fSxzdHlsZTplLnN0eWxlLHN0eWxlU3BlYzplLnN0eWxlU3BlYyxvYmplY3RFbGVtZW50VmFsaWRhdG9yczp7XCIqXCI6ZT0+UW8oTHQoe2xheWVyVHlwZTpzLGxheWVyOml9LGUpKX19KX19KSksdH1mdW5jdGlvbiBpcyhlKXtjb25zdCB0PWUudmFsdWUsaT1lLmtleSxyPVNpKHQpO3JldHVybiBcInN0cmluZ1wiIT09cj9bbmV3IER0KGksdCxgc3RyaW5nIGV4cGVjdGVkLCAke3J9IGZvdW5kYCldOltdfWNvbnN0IHJzPXtwcm9tb3RlSWQ6ZnVuY3Rpb24oe2tleTplLHZhbHVlOnR9KXtpZihcInN0cmluZ1wiPT09U2kodCkpcmV0dXJuIGlzKHtrZXk6ZSx2YWx1ZTp0fSk7e2NvbnN0IGk9W107Zm9yKGNvbnN0IHIgaW4gdClpLnB1c2goLi4uaXMoe2tleTpgJHtlfS4ke3J9YCx2YWx1ZTp0W3JdfSkpO3JldHVybiBpfX19O2Z1bmN0aW9uIG5zKGUpe2NvbnN0IHQ9ZS52YWx1ZSxpPWUua2V5LHI9ZS5zdHlsZVNwZWMsbj1lLnN0eWxlO2lmKCF0LnR5cGUpcmV0dXJuIFtuZXcgRHQoaSx0LCdcInR5cGVcIiBpcyByZXF1aXJlZCcpXTtjb25zdCBvPWt0KHQudHlwZSk7bGV0IHM9W107c3dpdGNoKFtcInZlY3RvclwiLFwicmFzdGVyXCIsXCJyYXN0ZXItZGVtXCJdLmluY2x1ZGVzKG8pJiYodC51cmx8fHQudGlsZXN8fHMucHVzaChuZXcgRHQoaSx0LCdFaXRoZXIgXCJ1cmxcIiBvciBcInRpbGVzXCIgaXMgcmVxdWlyZWQuJykpKSxvKXtjYXNlXCJ2ZWN0b3JcIjpjYXNlXCJyYXN0ZXJcIjpjYXNlXCJyYXN0ZXItZGVtXCI6cmV0dXJuIHM9cy5jb25jYXQoem8oe2tleTppLHZhbHVlOnQsdmFsdWVTcGVjOnJbYHNvdXJjZV8ke28ucmVwbGFjZShcIi1cIixcIl9cIil9YF0sc3R5bGU6ZS5zdHlsZSxzdHlsZVNwZWM6cixvYmplY3RFbGVtZW50VmFsaWRhdG9yczpyc30pKSxzO2Nhc2VcImdlb2pzb25cIjppZihzPXpvKHtrZXk6aSx2YWx1ZTp0LHZhbHVlU3BlYzpyLnNvdXJjZV9nZW9qc29uLHN0eWxlOm4sc3R5bGVTcGVjOnIsb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6cnN9KSx0LmNsdXN0ZXIpZm9yKGNvbnN0IGUgaW4gdC5jbHVzdGVyUHJvcGVydGllcyl7Y29uc3RbcixuXT10LmNsdXN0ZXJQcm9wZXJ0aWVzW2VdLG89XCJzdHJpbmdcIj09dHlwZW9mIHI/W3IsW1wiYWNjdW11bGF0ZWRcIl0sW1wiZ2V0XCIsZV1dOnI7cy5wdXNoKC4uLkxvKHtrZXk6YCR7aX0uJHtlfS5tYXBgLHZhbHVlOm4sZXhwcmVzc2lvbkNvbnRleHQ6XCJjbHVzdGVyLW1hcFwifSkpLHMucHVzaCguLi5Mbyh7a2V5OmAke2l9LiR7ZX0ucmVkdWNlYCx2YWx1ZTpvLGV4cHJlc3Npb25Db250ZXh0OlwiY2x1c3Rlci1yZWR1Y2VcIn0pKTt9cmV0dXJuIHM7Y2FzZVwidmlkZW9cIjpyZXR1cm4gem8oe2tleTppLHZhbHVlOnQsdmFsdWVTcGVjOnIuc291cmNlX3ZpZGVvLHN0eWxlOm4sc3R5bGVTcGVjOnJ9KTtjYXNlXCJpbWFnZVwiOnJldHVybiB6byh7a2V5OmksdmFsdWU6dCx2YWx1ZVNwZWM6ci5zb3VyY2VfaW1hZ2Usc3R5bGU6bixzdHlsZVNwZWM6cn0pO2Nhc2VcImNhbnZhc1wiOnJldHVybiBbbmV3IER0KGksbnVsbCxcIlBsZWFzZSB1c2UgcnVudGltZSBBUElzIHRvIGFkZCBjYW52YXMgc291cmNlcywgcmF0aGVyIHRoYW4gaW5jbHVkaW5nIHRoZW0gaW4gc3R5bGVzaGVldHMuXCIsXCJzb3VyY2UuY2FudmFzXCIpXTtkZWZhdWx0OnJldHVybiBPbyh7a2V5OmAke2l9LnR5cGVgLHZhbHVlOnQudHlwZSx2YWx1ZVNwZWM6e3ZhbHVlczpvcyhyKX0sc3R5bGU6bixzdHlsZVNwZWM6cn0pfX1mdW5jdGlvbiBvcyhlKXtyZXR1cm4gZS5zb3VyY2UucmVkdWNlKCgodCxpKT0+e2NvbnN0IHI9ZVtpXTtyZXR1cm4gXCJlbnVtXCI9PT1yLnR5cGUudHlwZSYmKHQ9dC5jb25jYXQoT2JqZWN0LmtleXMoci50eXBlLnZhbHVlcykpKSx0fSksW10pfWZ1bmN0aW9uIHNzKGUpe2NvbnN0IHQ9ZS52YWx1ZTtsZXQgaT1bXTtpZighdClyZXR1cm4gaTtjb25zdCByPVNpKHQpO3JldHVybiBcInN0cmluZ1wiIT09cj8oaT1pLmNvbmNhdChbbmV3IER0KGUua2V5LHQsYHN0cmluZyBleHBlY3RlZCwgXCIke3J9XCIgZm91bmRgKV0pLGkpOihmdW5jdGlvbihlKXtjb25zdCB0PS0xPT09ZS5pbmRleE9mKFwiOi8vXCIpO3RyeXtyZXR1cm4gbmV3IFVSTChlLHQ/XCJodHRwOi8vZXhhbXBsZS5jb21cIjp2b2lkIDApLCEwfWNhdGNoKGUpe3JldHVybiAhMX19KHQpfHwoaT1pLmNvbmNhdChbbmV3IER0KGUua2V5LHQsYGludmFsaWQgdXJsIFwiJHt0fVwiYCldKSksaSl9ZnVuY3Rpb24gYXMoZSl7Y29uc3QgdD1lLnZhbHVlLGk9ZS5zdHlsZVNwZWMscj1pLmxpZ2h0LG49ZS5zdHlsZTtsZXQgbz1bXTtjb25zdCBzPVNpKHQpO2lmKHZvaWQgMD09PXQpcmV0dXJuIG87aWYoXCJvYmplY3RcIiE9PXMpcmV0dXJuIG89by5jb25jYXQoW25ldyBEdChcImxpZ2h0XCIsdCxgb2JqZWN0IGV4cGVjdGVkLCAke3N9IGZvdW5kYCldKSxvO2Zvcihjb25zdCBlIGluIHQpe2NvbnN0IHM9ZS5tYXRjaCgvXiguKiktdHJhbnNpdGlvbiQvKTtvPW8uY29uY2F0KHMmJnJbc1sxXV0mJnJbc1sxXV0udHJhbnNpdGlvbj9kcyh7a2V5OmUsdmFsdWU6dFtlXSx2YWx1ZVNwZWM6aS50cmFuc2l0aW9uLHN0eWxlOm4sc3R5bGVTcGVjOml9KTpyW2VdP2RzKHtrZXk6ZSx2YWx1ZTp0W2VdLHZhbHVlU3BlYzpyW2VdLHN0eWxlOm4sc3R5bGVTcGVjOml9KTpbbmV3IER0KGUsdFtlXSxgdW5rbm93biBwcm9wZXJ0eSBcIiR7ZX1cImApXSk7fXJldHVybiBvfWZ1bmN0aW9uIGxzKGUpe2NvbnN0IHQ9ZS52YWx1ZTtsZXQgaT1bXTtpZighdClyZXR1cm4gaTtjb25zdCByPVNpKHQpO2lmKFwib2JqZWN0XCIhPT1yKXJldHVybiBpPWkuY29uY2F0KFtuZXcgRHQoXCJsaWdodC0zZFwiLHQsYG9iamVjdCBleHBlY3RlZCwgJHtyfSBmb3VuZGApXSksaTtjb25zdCBuPWUuc3R5bGVTcGVjLG89bltcImxpZ2h0LTNkXCJdLHM9ZS5rZXksYT1lLnN0eWxlLGw9ZS5zdHlsZS5saWdodHM7Zm9yKGNvbnN0IGUgb2YgW1widHlwZVwiLFwiaWRcIl0paWYoIShlIGluIHQpKXJldHVybiBpPWkuY29uY2F0KFtuZXcgRHQoXCJsaWdodC0zZFwiLHQsYG1pc3NpbmcgcHJvcGVydHkgJHtlfSBvbiBsaWdodGApXSksaTtpZih0LnR5cGUmJmwpZm9yKGxldCByPTA7cjxlLmFycmF5SW5kZXg7cisrKXtjb25zdCBlPWt0KHQudHlwZSksbj1sW3JdO2t0KG4udHlwZSk9PT1lJiZpLnB1c2gobmV3IER0KHMsdC5pZCxgZHVwbGljYXRlIGxpZ2h0IHR5cGUgXCIke3QudHlwZX1cIiwgcHJldmlvdXNseSBkZWZpbmVkIGF0IGxpbmUgJHtuLmlkLl9fbGluZV9ffWApKTt9Y29uc3QgYz1gcHJvcGVydGllc19saWdodF8ke3QudHlwZX1gO2lmKCEoYyBpbiBuKSlyZXR1cm4gaT1pLmNvbmNhdChbbmV3IER0KFwibGlnaHQtM2RcIix0LGBJbnZhbGlkIGxpZ2h0IHR5cGUgJHt0LnR5cGV9YCldKSxpO2NvbnN0IGg9bltjXTtmb3IoY29uc3QgciBpbiB0KWlmKFwicHJvcGVydGllc1wiPT09cil7Y29uc3Qgbz10W3JdLHM9U2kobyk7aWYoXCJvYmplY3RcIiE9PXMpcmV0dXJuIGk9aS5jb25jYXQoW25ldyBEdChcInByb3BlcnRpZXNcIixvLGBvYmplY3QgZXhwZWN0ZWQsICR7c30gZm91bmRgKV0pLGk7Zm9yKGNvbnN0IHQgaW4gbylpPWkuY29uY2F0KGhbdF0/ZHMoe2tleTp0LHZhbHVlOm9bdF0sdmFsdWVTcGVjOmhbdF0sc3R5bGU6YSxzdHlsZVNwZWM6bn0pOltuZXcgUnQoZS5rZXksb1t0XSxgdW5rbm93biBwcm9wZXJ0eSBcIiR7dH1cImApXSk7fWVsc2Uge2NvbnN0IGU9ci5tYXRjaCgvXiguKiktdHJhbnNpdGlvbiQvKTtpPWkuY29uY2F0KGUmJm9bZVsxXV0mJm9bZVsxXV0udHJhbnNpdGlvbj9kcyh7a2V5OnIsdmFsdWU6dFtyXSx2YWx1ZVNwZWM6bi50cmFuc2l0aW9uLHN0eWxlOmEsc3R5bGVTcGVjOm59KTpvW3JdP2RzKHtrZXk6cix2YWx1ZTp0W3JdLHZhbHVlU3BlYzpvW3JdLHN0eWxlOmEsc3R5bGVTcGVjOm59KTpbbmV3IFJ0KHIsdFtyXSxgdW5rbm93biBwcm9wZXJ0eSBcIiR7cn1cImApXSk7fXJldHVybiBpfWZ1bmN0aW9uIGNzKGUpe2NvbnN0IHQ9ZS52YWx1ZSxpPWUua2V5LHI9ZS5zdHlsZSxuPWUuc3R5bGVTcGVjLG89bi50ZXJyYWluO2xldCBzPVtdO2NvbnN0IGE9U2kodCk7aWYodm9pZCAwPT09dClyZXR1cm4gcztpZihcIm51bGxcIj09PWEpcmV0dXJuIHM7aWYoXCJvYmplY3RcIiE9PWEpcmV0dXJuIHM9cy5jb25jYXQoW25ldyBEdChcInRlcnJhaW5cIix0LGBvYmplY3QgZXhwZWN0ZWQsICR7YX0gZm91bmRgKV0pLHM7Zm9yKGNvbnN0IGUgaW4gdCl7Y29uc3QgaT1lLm1hdGNoKC9eKC4qKS10cmFuc2l0aW9uJC8pO3M9cy5jb25jYXQoaSYmb1tpWzFdXSYmb1tpWzFdXS50cmFuc2l0aW9uP2RzKHtrZXk6ZSx2YWx1ZTp0W2VdLHZhbHVlU3BlYzpuLnRyYW5zaXRpb24sc3R5bGU6cixzdHlsZVNwZWM6bn0pOm9bZV0/ZHMoe2tleTplLHZhbHVlOnRbZV0sdmFsdWVTcGVjOm9bZV0sc3R5bGU6cixzdHlsZVNwZWM6bn0pOltuZXcgUnQoZSx0W2VdLGB1bmtub3duIHByb3BlcnR5IFwiJHtlfVwiYCldKTt9aWYodC5zb3VyY2Upe2NvbnN0IGU9ci5zb3VyY2VzJiZyLnNvdXJjZXNbdC5zb3VyY2VdLG49ZSYma3QoZS50eXBlKTtlP1wicmFzdGVyLWRlbVwiIT09biYmcy5wdXNoKG5ldyBEdChpLHQuc291cmNlLGB0ZXJyYWluIGNhbm5vdCBiZSB1c2VkIHdpdGggYSBzb3VyY2Ugb2YgdHlwZSAke1N0cmluZyhuKX0sIGl0IG9ubHkgYmUgdXNlZCB3aXRoIGEgXCJyYXN0ZXItZGVtXCIgc291cmNlIHR5cGVgKSk6cy5wdXNoKG5ldyBEdChpLHQuc291cmNlLGBzb3VyY2UgXCIke3Quc291cmNlfVwiIG5vdCBmb3VuZGApKTt9ZWxzZSBzLnB1c2gobmV3IER0KGksdCwndGVycmFpbiBpcyBtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IFwic291cmNlXCInKSk7cmV0dXJuIHN9ZnVuY3Rpb24gaHMoZSl7Y29uc3QgdD1lLnZhbHVlLGk9ZS5zdHlsZSxyPWUuc3R5bGVTcGVjLG49ci5mb2c7bGV0IG89W107Y29uc3Qgcz1TaSh0KTtpZih2b2lkIDA9PT10KXJldHVybiBvO2lmKFwib2JqZWN0XCIhPT1zKXJldHVybiBvPW8uY29uY2F0KFtuZXcgRHQoXCJmb2dcIix0LGBvYmplY3QgZXhwZWN0ZWQsICR7c30gZm91bmRgKV0pLG87Zm9yKGNvbnN0IGUgaW4gdCl7Y29uc3Qgcz1lLm1hdGNoKC9eKC4qKS10cmFuc2l0aW9uJC8pO289by5jb25jYXQocyYmbltzWzFdXSYmbltzWzFdXS50cmFuc2l0aW9uP2RzKHtrZXk6ZSx2YWx1ZTp0W2VdLHZhbHVlU3BlYzpyLnRyYW5zaXRpb24sc3R5bGU6aSxzdHlsZVNwZWM6cn0pOm5bZV0/ZHMoe2tleTplLHZhbHVlOnRbZV0sdmFsdWVTcGVjOm5bZV0sc3R5bGU6aSxzdHlsZVNwZWM6cn0pOltuZXcgUnQoZSx0W2VdLGB1bmtub3duIHByb3BlcnR5IFwiJHtlfVwiYCldKTt9cmV0dXJuIG99Y29uc3QgdXM9e1wiKlwiOigpPT5bXSxhcnJheTpQbyxib29sZWFuOmZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS52YWx1ZSxpPWUua2V5LHI9U2kodCk7cmV0dXJuIFwiYm9vbGVhblwiIT09cj9bbmV3IER0KGksdCxgYm9vbGVhbiBleHBlY3RlZCwgJHtyfSBmb3VuZGApXTpbXX0sbnVtYmVyOkRvLGNvbG9yOmZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS5rZXksaT1lLnZhbHVlLHI9U2koaSk7cmV0dXJuIFwic3RyaW5nXCIhPT1yP1tuZXcgRHQodCxpLGBjb2xvciBleHBlY3RlZCwgJHtyfSBmb3VuZGApXTpudWxsPT09cmkoaSk/W25ldyBEdCh0LGksYGNvbG9yIGV4cGVjdGVkLCBcIiR7aX1cIiBmb3VuZGApXTpbXX0sZW51bTpPbyxmaWx0ZXI6WW8sZnVuY3Rpb246Um8sbGF5ZXI6dHMsb2JqZWN0OnpvLHNvdXJjZTpucyxtb2RlbDpzcyxsaWdodDphcyxcImxpZ2h0LTNkXCI6bHMsdGVycmFpbjpjcyxmb2c6aHMsc3RyaW5nOmlzLGZvcm1hdHRlZDpmdW5jdGlvbihlKXtyZXR1cm4gMD09PWlzKGUpLmxlbmd0aD9bXTpMbyhlKX0scmVzb2x2ZWRJbWFnZTpmdW5jdGlvbihlKXtyZXR1cm4gMD09PWlzKGUpLmxlbmd0aD9bXTpMbyhlKX0scHJvamVjdGlvbjpmdW5jdGlvbihlKXtjb25zdCB0PWUudmFsdWUsaT1lLnN0eWxlU3BlYyxyPWkucHJvamVjdGlvbixuPWUuc3R5bGU7bGV0IG89W107Y29uc3Qgcz1TaSh0KTtpZihcIm9iamVjdFwiPT09cylmb3IoY29uc3QgZSBpbiB0KW89by5jb25jYXQoZHMoe2tleTplLHZhbHVlOnRbZV0sdmFsdWVTcGVjOnJbZV0sc3R5bGU6bixzdHlsZVNwZWM6aX0pKTtlbHNlIFwic3RyaW5nXCIhPT1zJiYobz1vLmNvbmNhdChbbmV3IER0KFwicHJvamVjdGlvblwiLHQsYG9iamVjdCBvciBzdHJpbmcgZXhwZWN0ZWQsICR7c30gZm91bmRgKV0pKTtyZXR1cm4gb30saW1wb3J0OmZ1bmN0aW9uKGUpe2NvbnN0e3ZhbHVlOnQsc3R5bGVTcGVjOml9PWUse2RhdGE6ciwuLi5ufT10O09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19saW5lX19cIix7dmFsdWU6dC5fX2xpbmVfXyxlbnVtZXJhYmxlOiExfSk7bGV0IG89em8oTHQoe30sZSx7dmFsdWU6bix2YWx1ZVNwZWM6aS5pbXBvcnR9KSk7cmV0dXJuIFwiXCI9PT1rdChuLmlkKSYmby5wdXNoKG5ldyBEdChgJHtlLmtleX0uaWRgLG4sXCJpbXBvcnQgaWQgY2FuJ3QgYmUgYW4gZW1wdHkgc3RyaW5nXCIpKSxyJiYobz1vLmNvbmNhdChmcyhyLGkse2tleTpgJHtlLmtleX0uZGF0YWB9KSkpLG99fTtmdW5jdGlvbiBkcyhlLHQ9ITEpe2NvbnN0IGk9ZS52YWx1ZSxyPWUudmFsdWVTcGVjLG49ZS5zdHlsZVNwZWM7aWYoci5leHByZXNzaW9uJiZmbyhrdChpKSkpcmV0dXJuIFJvKGUpO2lmKHIuZXhwcmVzc2lvbiYmVG8oT3QoaSkpKXJldHVybiBMbyhlKTtpZihyLnR5cGUmJnVzW3IudHlwZV0pe2NvbnN0IGk9dXNbci50eXBlXShlKTtyZXR1cm4gITA9PT10JiZpLmxlbmd0aD4wJiZcImFycmF5XCI9PT1TaShlLnZhbHVlKT9MbyhlKTppfXJldHVybiB6byhMdCh7fSxlLHt2YWx1ZVNwZWM6ci50eXBlP25bci50eXBlXTpyfSkpfWZ1bmN0aW9uIHBzKGUpe2NvbnN0IHQ9ZS52YWx1ZSxpPWUua2V5LHI9aXMoZSk7cmV0dXJuIHIubGVuZ3RofHwoLTE9PT10LmluZGV4T2YoXCJ7Zm9udHN0YWNrfVwiKSYmci5wdXNoKG5ldyBEdChpLHQsJ1wiZ2x5cGhzXCIgdXJsIG11c3QgaW5jbHVkZSBhIFwie2ZvbnRzdGFja31cIiB0b2tlbicpKSwtMT09PXQuaW5kZXhPZihcIntyYW5nZX1cIikmJnIucHVzaChuZXcgRHQoaSx0LCdcImdseXBoc1wiIHVybCBtdXN0IGluY2x1ZGUgYSBcIntyYW5nZX1cIiB0b2tlbicpKSkscn1mdW5jdGlvbiBmcyhlLHQ9UHQsaT17fSl7cmV0dXJuIGRzKHtrZXk6aS5rZXl8fFwiXCIsdmFsdWU6ZSx2YWx1ZVNwZWM6dC4kcm9vdCxzdHlsZVNwZWM6dCxzdHlsZTplLG9iamVjdEVsZW1lbnRWYWxpZGF0b3JzOntnbHlwaHM6cHMsXCIqXCI6KCk9PltdfX0pfWZ1bmN0aW9uIG1zKGUsdD1QdCl7cmV0dXJuIEFzKGZzKGUsdCkpfWNvbnN0IF9zPWU9PkFzKG5zKGUpKSxncz1lPT5BcyhhcyhlKSkseXM9ZT0+QXMobHMoZSkpLHhzPWU9PkFzKGNzKGUpKSx2cz1lPT5BcyhocyhlKSksYnM9ZT0+QXModHMoZSkpLHdzPWU9PkFzKFlvKGUpKSxUcz1lPT5BcyhRbyhlKSksRXM9ZT0+QXMoZXMoZSkpLE1zPWU9PkFzKHNzKGUpKTtmdW5jdGlvbiBBcyhlKXtyZXR1cm4gZS5zbGljZSgpLnNvcnQoKChlLHQpPT5lLmxpbmUmJnQubGluZT9lLmxpbmUtdC5saW5lOjApKX1mdW5jdGlvbiBTcyhlLHQpe2xldCBpPSExO2lmKHQmJnQubGVuZ3RoKWZvcihjb25zdCByIG9mIHQpciBpbnN0YW5jZW9mIFJ0P0goci5tZXNzYWdlKTooZS5maXJlKG5ldyBDdChuZXcgRXJyb3Ioci5tZXNzYWdlKSkpLGk9ITApO3JldHVybiBpfXZhciBJcz16cyxDcz0zO2Z1bmN0aW9uIHpzKGUsdCxpKXt2YXIgcj10aGlzLmNlbGxzPVtdO2lmKGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7dGhpcy5hcnJheUJ1ZmZlcj1lO3ZhciBuPW5ldyBJbnQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO2U9blswXSx0aGlzLmQ9KHQ9blsxXSkrMiooaT1uWzJdKTtmb3IodmFyIG89MDtvPHRoaXMuZCp0aGlzLmQ7bysrKXt2YXIgcz1uW0NzK29dLGE9bltDcytvKzFdO3IucHVzaChzPT09YT9udWxsOm4uc3ViYXJyYXkocyxhKSk7fXZhciBsPW5bQ3Mrci5sZW5ndGgrMV07dGhpcy5rZXlzPW4uc3ViYXJyYXkobltDcytyLmxlbmd0aF0sbCksdGhpcy5iYm94ZXM9bi5zdWJhcnJheShsKSx0aGlzLmluc2VydD10aGlzLl9pbnNlcnRSZWFkb25seTt9ZWxzZSB7dGhpcy5kPXQrMippO2Zvcih2YXIgYz0wO2M8dGhpcy5kKnRoaXMuZDtjKyspci5wdXNoKFtdKTt0aGlzLmtleXM9W10sdGhpcy5iYm94ZXM9W107fXRoaXMubj10LHRoaXMuZXh0ZW50PWUsdGhpcy5wYWRkaW5nPWksdGhpcy5zY2FsZT10L2UsdGhpcy51aWQ9MDt2YXIgaD1pL3QqZTt0aGlzLm1pbj0taCx0aGlzLm1heD1lK2g7fXpzLnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24oZSx0LGkscixuKXt0aGlzLl9mb3JFYWNoQ2VsbCh0LGkscixuLHRoaXMuX2luc2VydENlbGwsdGhpcy51aWQrKyksdGhpcy5rZXlzLnB1c2goZSksdGhpcy5iYm94ZXMucHVzaCh0KSx0aGlzLmJib3hlcy5wdXNoKGkpLHRoaXMuYmJveGVzLnB1c2gociksdGhpcy5iYm94ZXMucHVzaChuKTt9LHpzLnByb3RvdHlwZS5faW5zZXJ0UmVhZG9ubHk9ZnVuY3Rpb24oKXt0aHJvdyBcIkNhbm5vdCBpbnNlcnQgaW50byBhIEdyaWRJbmRleCBjcmVhdGVkIGZyb20gYW4gQXJyYXlCdWZmZXIuXCJ9LHpzLnByb3RvdHlwZS5faW5zZXJ0Q2VsbD1mdW5jdGlvbihlLHQsaSxyLG4sbyl7dGhpcy5jZWxsc1tuXS5wdXNoKG8pO30senMucHJvdG90eXBlLnF1ZXJ5PWZ1bmN0aW9uKGUsdCxpLHIsbil7dmFyIG89dGhpcy5taW4scz10aGlzLm1heDtpZihlPD1vJiZ0PD1vJiZzPD1pJiZzPD1yJiYhbilyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5rZXlzKTt2YXIgYT1bXTtyZXR1cm4gdGhpcy5fZm9yRWFjaENlbGwoZSx0LGkscix0aGlzLl9xdWVyeUNlbGwsYSx7fSxuKSxhfSx6cy5wcm90b3R5cGUuX3F1ZXJ5Q2VsbD1mdW5jdGlvbihlLHQsaSxyLG4sbyxzLGEpe3ZhciBsPXRoaXMuY2VsbHNbbl07aWYobnVsbCE9PWwpZm9yKHZhciBjPXRoaXMua2V5cyxoPXRoaXMuYmJveGVzLHU9MDt1PGwubGVuZ3RoO3UrKyl7dmFyIGQ9bFt1XTtpZih2b2lkIDA9PT1zW2RdKXt2YXIgcD00KmQ7KGE/YShoW3ArMF0saFtwKzFdLGhbcCsyXSxoW3ArM10pOmU8PWhbcCsyXSYmdDw9aFtwKzNdJiZpPj1oW3ArMF0mJnI+PWhbcCsxXSk/KHNbZF09ITAsby5wdXNoKGNbZF0pKTpzW2RdPSExO319fSx6cy5wcm90b3R5cGUuX2ZvckVhY2hDZWxsPWZ1bmN0aW9uKGUsdCxpLHIsbixvLHMsYSl7Zm9yKHZhciBsPXRoaXMuX2NvbnZlcnRUb0NlbGxDb29yZChlKSxjPXRoaXMuX2NvbnZlcnRUb0NlbGxDb29yZCh0KSxoPXRoaXMuX2NvbnZlcnRUb0NlbGxDb29yZChpKSx1PXRoaXMuX2NvbnZlcnRUb0NlbGxDb29yZChyKSxkPWw7ZDw9aDtkKyspZm9yKHZhciBwPWM7cDw9dTtwKyspe3ZhciBmPXRoaXMuZCpwK2Q7aWYoKCFhfHxhKHRoaXMuX2NvbnZlcnRGcm9tQ2VsbENvb3JkKGQpLHRoaXMuX2NvbnZlcnRGcm9tQ2VsbENvb3JkKHApLHRoaXMuX2NvbnZlcnRGcm9tQ2VsbENvb3JkKGQrMSksdGhpcy5fY29udmVydEZyb21DZWxsQ29vcmQocCsxKSkpJiZuLmNhbGwodGhpcyxlLHQsaSxyLGYsbyxzLGEpKXJldHVybn19LHpzLnByb3RvdHlwZS5fY29udmVydEZyb21DZWxsQ29vcmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIChlLXRoaXMucGFkZGluZykvdGhpcy5zY2FsZX0senMucHJvdG90eXBlLl9jb252ZXJ0VG9DZWxsQ29vcmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGgubWF4KDAsTWF0aC5taW4odGhpcy5kLTEsTWF0aC5mbG9vcihlKnRoaXMuc2NhbGUpK3RoaXMucGFkZGluZykpfSx6cy5wcm90b3R5cGUudG9BcnJheUJ1ZmZlcj1mdW5jdGlvbigpe2lmKHRoaXMuYXJyYXlCdWZmZXIpcmV0dXJuIHRoaXMuYXJyYXlCdWZmZXI7Zm9yKHZhciBlPXRoaXMuY2VsbHMsdD1Dcyt0aGlzLmNlbGxzLmxlbmd0aCsxKzEsaT0wLHI9MDtyPHRoaXMuY2VsbHMubGVuZ3RoO3IrKylpKz10aGlzLmNlbGxzW3JdLmxlbmd0aDt2YXIgbj1uZXcgSW50MzJBcnJheSh0K2krdGhpcy5rZXlzLmxlbmd0aCt0aGlzLmJib3hlcy5sZW5ndGgpO25bMF09dGhpcy5leHRlbnQsblsxXT10aGlzLm4sblsyXT10aGlzLnBhZGRpbmc7Zm9yKHZhciBvPXQscz0wO3M8ZS5sZW5ndGg7cysrKXt2YXIgYT1lW3NdO25bQ3Mrc109byxuLnNldChhLG8pLG8rPWEubGVuZ3RoO31yZXR1cm4gbltDcytlLmxlbmd0aF09byxuLnNldCh0aGlzLmtleXMsbyksbltDcytlLmxlbmd0aCsxXT1vKz10aGlzLmtleXMubGVuZ3RoLG4uc2V0KHRoaXMuYmJveGVzLG8pLG8rPXRoaXMuYmJveGVzLmxlbmd0aCxuLmJ1ZmZlcn07dmFyIFBzPWQoSXMpO2NvbnN0IERzPXt9O2Z1bmN0aW9uIFJzKGUsdCxpPXt9KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9jbGFzc1JlZ2lzdHJ5S2V5XCIse3ZhbHVlOnQsd3JpdGVhYmxlOiExfSksRHNbdF09e2tsYXNzOmUsb21pdDppLm9taXR8fFtdfTt9UnMoT2JqZWN0LFwiT2JqZWN0XCIpLFBzLnNlcmlhbGl6ZT1mdW5jdGlvbihlLHQpe2NvbnN0IGk9ZS50b0FycmF5QnVmZmVyKCk7cmV0dXJuIHQmJnQuYWRkKGkpLHtidWZmZXI6aX19LFBzLmRlc2VyaWFsaXplPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUHMoZS5idWZmZXIpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoUHMsXCJuYW1lXCIse3ZhbHVlOlwiR3JpZFwifSksUnMoUHMsXCJHcmlkXCIpLFJzKGhpLFwiQ29sb3JcIiksUnMoRXJyb3IsXCJFcnJvclwiKSxScyh4ZSxcIkFKQVhFcnJvclwiKSxScyhmaSxcIlJlc29sdmVkSW1hZ2VcIiksUnMoSW8sXCJTdHlsZVByb3BlcnR5RnVuY3Rpb25cIiksUnMod28sXCJTdHlsZUV4cHJlc3Npb25cIix7b21pdDpbXCJfZXZhbHVhdG9yXCJdfSksUnMoQW8sXCJab29tRGVwZW5kZW50RXhwcmVzc2lvblwiKSxScyhNbyxcIlpvb21Db25zdGFudEV4cHJlc3Npb25cIiksUnMoa2ksXCJDb21wb3VuZEV4cHJlc3Npb25cIix7b21pdDpbXCJfZXZhbHVhdGVcIl19KTtmb3IoY29uc3QgZSBpbiBvbylEc1tvb1tlXS5fY2xhc3NSZWdpc3RyeUtleV18fFJzKG9vW2VdLGBFeHByZXNzaW9uJHtlfWApO2Z1bmN0aW9uIExzKGUpe3JldHVybiBlJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgQXJyYXlCdWZmZXImJihlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fGUuY29uc3RydWN0b3ImJlwiQXJyYXlCdWZmZXJcIj09PWUuY29uc3RydWN0b3IubmFtZSl9ZnVuY3Rpb24ga3MoZSl7cmV0dXJuIHQuSW1hZ2VCaXRtYXAmJmUgaW5zdGFuY2VvZiB0LkltYWdlQml0bWFwfWZ1bmN0aW9uIE9zKGUsaSl7aWYobnVsbD09ZXx8XCJib29sZWFuXCI9PXR5cGVvZiBlfHxcIm51bWJlclwiPT10eXBlb2YgZXx8XCJzdHJpbmdcIj09dHlwZW9mIGV8fGUgaW5zdGFuY2VvZiBCb29sZWFufHxlIGluc3RhbmNlb2YgTnVtYmVyfHxlIGluc3RhbmNlb2YgU3RyaW5nfHxlIGluc3RhbmNlb2YgRGF0ZXx8ZSBpbnN0YW5jZW9mIFJlZ0V4cClyZXR1cm4gZTtpZihMcyhlKXx8a3MoZSkpcmV0dXJuIGkmJmkuYWRkKGUpLGU7aWYoQXJyYXlCdWZmZXIuaXNWaWV3KGUpKXtjb25zdCB0PWU7cmV0dXJuIGkmJmkuYWRkKHQuYnVmZmVyKSx0fWlmKGUgaW5zdGFuY2VvZiB0LkltYWdlRGF0YSlyZXR1cm4gaSYmaS5hZGQoZS5kYXRhLmJ1ZmZlciksZTtpZihBcnJheS5pc0FycmF5KGUpKXtjb25zdCB0PVtdO2Zvcihjb25zdCByIG9mIGUpdC5wdXNoKE9zKHIsaSkpO3JldHVybiB0fWlmKGUgaW5zdGFuY2VvZiBNYXApe2NvbnN0IHQ9eyRuYW1lOlwiTWFwXCJ9O2Zvcihjb25zdFtpLHJdb2YgZS5lbnRyaWVzKCkpdFtpXT1PcyhyKTtyZXR1cm4gdH1pZihcIm9iamVjdFwiPT10eXBlb2YgZSl7Y29uc3QgdD1lLmNvbnN0cnVjdG9yLHI9dC5fY2xhc3NSZWdpc3RyeUtleTtpZighcil0aHJvdyBuZXcgRXJyb3IoYGNhbid0IHNlcmlhbGl6ZSBvYmplY3Qgb2YgdW5yZWdpc3RlcmVkIGNsYXNzICR7cn1gKTtjb25zdCBuPXQuc2VyaWFsaXplP3Quc2VyaWFsaXplKGUsaSk6e307aWYoIXQuc2VyaWFsaXplKXtmb3IoY29uc3QgdCBpbiBlKWUuaGFzT3duUHJvcGVydHkodCkmJihEc1tyXS5vbWl0LmluZGV4T2YodCk+PTB8fChuW3RdPU9zKGVbdF0saSkpKTtlIGluc3RhbmNlb2YgRXJyb3ImJihuLm1lc3NhZ2U9ZS5tZXNzYWdlKTt9aWYobi4kbmFtZSl0aHJvdyBuZXcgRXJyb3IoXCIkbmFtZSBwcm9wZXJ0eSBpcyByZXNlcnZlZCBmb3Igd29ya2VyIHNlcmlhbGl6YXRpb24gbG9naWMuXCIpO3JldHVybiBcIk9iamVjdFwiIT09ciYmKG4uJG5hbWU9ciksbn10aHJvdyBuZXcgRXJyb3IoXCJjYW4ndCBzZXJpYWxpemUgb2JqZWN0IG9mIHR5cGUgXCIrdHlwZW9mIGUpfWZ1bmN0aW9uIEJzKGUpe2lmKG51bGw9PWV8fFwiYm9vbGVhblwiPT10eXBlb2YgZXx8XCJudW1iZXJcIj09dHlwZW9mIGV8fFwic3RyaW5nXCI9PXR5cGVvZiBlfHxlIGluc3RhbmNlb2YgQm9vbGVhbnx8ZSBpbnN0YW5jZW9mIE51bWJlcnx8ZSBpbnN0YW5jZW9mIFN0cmluZ3x8ZSBpbnN0YW5jZW9mIERhdGV8fGUgaW5zdGFuY2VvZiBSZWdFeHB8fExzKGUpfHxrcyhlKXx8QXJyYXlCdWZmZXIuaXNWaWV3KGUpfHxlIGluc3RhbmNlb2YgdC5JbWFnZURhdGEpcmV0dXJuIGU7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZS5tYXAoQnMpO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBlKXtjb25zdCB0PWUuJG5hbWV8fFwiT2JqZWN0XCI7aWYoXCJNYXBcIj09PXQpe2NvbnN0IHQ9bmV3IE1hcDtmb3IoY29uc3QgaSBvZiBPYmplY3Qua2V5cyhlKSlcIiRuYW1lXCIhPT1pJiZ0LnNldChpLEJzKGVbaV0pKTtyZXR1cm4gdH1jb25zdHtrbGFzczppfT1Ec1t0XTtpZighaSl0aHJvdyBuZXcgRXJyb3IoYGNhbid0IGRlc2VyaWFsaXplIHVucmVnaXN0ZXJlZCBjbGFzcyAke3R9YCk7aWYoaS5kZXNlcmlhbGl6ZSlyZXR1cm4gaS5kZXNlcmlhbGl6ZShlKTtjb25zdCByPU9iamVjdC5jcmVhdGUoaS5wcm90b3R5cGUpO2Zvcihjb25zdCB0IG9mIE9iamVjdC5rZXlzKGUpKVwiJG5hbWVcIiE9PXQmJihyW3RdPUJzKGVbdF0pKTtyZXR1cm4gcn10aHJvdyBuZXcgRXJyb3IoXCJjYW4ndCBkZXNlcmlhbGl6ZSBvYmplY3Qgb2YgdHlwZSBcIit0eXBlb2YgZSl9Y29uc3QgRnM9e1wiTGF0aW4tMSBTdXBwbGVtZW50XCI6ZT0+ZT49MTI4JiZlPD0yNTUsQXJhYmljOmU9PmU+PTE1MzYmJmU8PTE3OTEsXCJBcmFiaWMgU3VwcGxlbWVudFwiOmU9PmU+PTE4NzImJmU8PTE5MTksXCJBcmFiaWMgRXh0ZW5kZWQtQVwiOmU9PmU+PTIyMDgmJmU8PTIzMDMsXCJIYW5ndWwgSmFtb1wiOmU9PmU+PTQzNTImJmU8PTQ2MDcsXCJVbmlmaWVkIENhbmFkaWFuIEFib3JpZ2luYWwgU3lsbGFiaWNzXCI6ZT0+ZT49NTEyMCYmZTw9NTc1OSxLaG1lcjplPT5lPj02MDE2JiZlPD02MTQzLFwiVW5pZmllZCBDYW5hZGlhbiBBYm9yaWdpbmFsIFN5bGxhYmljcyBFeHRlbmRlZFwiOmU9PmU+PTYzMjAmJmU8PTYzOTksXCJHZW5lcmFsIFB1bmN0dWF0aW9uXCI6ZT0+ZT49ODE5MiYmZTw9ODMwMyxcIkxldHRlcmxpa2UgU3ltYm9sc1wiOmU9PmU+PTg0NDgmJmU8PTg1MjcsXCJOdW1iZXIgRm9ybXNcIjplPT5lPj04NTI4JiZlPD04NTkxLFwiTWlzY2VsbGFuZW91cyBUZWNobmljYWxcIjplPT5lPj04OTYwJiZlPD05MjE1LFwiQ29udHJvbCBQaWN0dXJlc1wiOmU9PmU+PTkyMTYmJmU8PTkyNzksXCJPcHRpY2FsIENoYXJhY3RlciBSZWNvZ25pdGlvblwiOmU9PmU+PTkyODAmJmU8PTkzMTEsXCJFbmNsb3NlZCBBbHBoYW51bWVyaWNzXCI6ZT0+ZT49OTMxMiYmZTw9OTQ3MSxcIkdlb21ldHJpYyBTaGFwZXNcIjplPT5lPj05NjMyJiZlPD05NzI3LFwiTWlzY2VsbGFuZW91cyBTeW1ib2xzXCI6ZT0+ZT49OTcyOCYmZTw9OTk4MyxcIk1pc2NlbGxhbmVvdXMgU3ltYm9scyBhbmQgQXJyb3dzXCI6ZT0+ZT49MTEwMDgmJmU8PTExMjYzLFwiQ0pLIFJhZGljYWxzIFN1cHBsZW1lbnRcIjplPT5lPj0xMTkwNCYmZTw9MTIwMzEsXCJLYW5neGkgUmFkaWNhbHNcIjplPT5lPj0xMjAzMiYmZTw9MTIyNTUsXCJJZGVvZ3JhcGhpYyBEZXNjcmlwdGlvbiBDaGFyYWN0ZXJzXCI6ZT0+ZT49MTIyNzImJmU8PTEyMjg3LFwiQ0pLIFN5bWJvbHMgYW5kIFB1bmN0dWF0aW9uXCI6ZT0+ZT49MTIyODgmJmU8PTEyMzUxLEhpcmFnYW5hOmU9PmU+PTEyMzUyJiZlPD0xMjQ0NyxLYXRha2FuYTplPT5lPj0xMjQ0OCYmZTw9MTI1NDMsQm9wb21vZm86ZT0+ZT49MTI1NDQmJmU8PTEyNTkxLFwiSGFuZ3VsIENvbXBhdGliaWxpdHkgSmFtb1wiOmU9PmU+PTEyNTkyJiZlPD0xMjY4NyxLYW5idW46ZT0+ZT49MTI2ODgmJmU8PTEyNzAzLFwiQm9wb21vZm8gRXh0ZW5kZWRcIjplPT5lPj0xMjcwNCYmZTw9MTI3MzUsXCJDSksgU3Ryb2tlc1wiOmU9PmU+PTEyNzM2JiZlPD0xMjc4MyxcIkthdGFrYW5hIFBob25ldGljIEV4dGVuc2lvbnNcIjplPT5lPj0xMjc4NCYmZTw9MTI3OTksXCJFbmNsb3NlZCBDSksgTGV0dGVycyBhbmQgTW9udGhzXCI6ZT0+ZT49MTI4MDAmJmU8PTEzMDU1LFwiQ0pLIENvbXBhdGliaWxpdHlcIjplPT5lPj0xMzA1NiYmZTw9MTMzMTEsXCJDSksgVW5pZmllZCBJZGVvZ3JhcGhzIEV4dGVuc2lvbiBBXCI6ZT0+ZT49MTMzMTImJmU8PTE5OTAzLFwiWWlqaW5nIEhleGFncmFtIFN5bWJvbHNcIjplPT5lPj0xOTkwNCYmZTw9MTk5NjcsXCJDSksgVW5pZmllZCBJZGVvZ3JhcGhzXCI6ZT0+ZT49MTk5NjgmJmU8PTQwOTU5LFwiWWkgU3lsbGFibGVzXCI6ZT0+ZT49NDA5NjAmJmU8PTQyMTI3LFwiWWkgUmFkaWNhbHNcIjplPT5lPj00MjEyOCYmZTw9NDIxOTEsXCJIYW5ndWwgSmFtbyBFeHRlbmRlZC1BXCI6ZT0+ZT49NDMzNjAmJmU8PTQzMzkxLFwiSGFuZ3VsIFN5bGxhYmxlc1wiOmU9PmU+PTQ0MDMyJiZlPD01NTIxNSxcIkhhbmd1bCBKYW1vIEV4dGVuZGVkLUJcIjplPT5lPj01NTIxNiYmZTw9NTUyOTUsXCJQcml2YXRlIFVzZSBBcmVhXCI6ZT0+ZT49NTczNDQmJmU8PTYzNzQzLFwiQ0pLIENvbXBhdGliaWxpdHkgSWRlb2dyYXBoc1wiOmU9PmU+PTYzNzQ0JiZlPD02NDI1NSxcIkFyYWJpYyBQcmVzZW50YXRpb24gRm9ybXMtQVwiOmU9PmU+PTY0MzM2JiZlPD02NTAyMyxcIlZlcnRpY2FsIEZvcm1zXCI6ZT0+ZT49NjUwNDAmJmU8PTY1MDU1LFwiQ0pLIENvbXBhdGliaWxpdHkgRm9ybXNcIjplPT5lPj02NTA3MiYmZTw9NjUxMDMsXCJTbWFsbCBGb3JtIFZhcmlhbnRzXCI6ZT0+ZT49NjUxMDQmJmU8PTY1MTM1LFwiQXJhYmljIFByZXNlbnRhdGlvbiBGb3Jtcy1CXCI6ZT0+ZT49NjUxMzYmJmU8PTY1Mjc5LFwiSGFsZndpZHRoIGFuZCBGdWxsd2lkdGggRm9ybXNcIjplPT5lPj02NTI4MCYmZTw9NjU1MTksXCJDSksgVW5pZmllZCBJZGVvZ3JhcGhzIEV4dGVuc2lvbiBCXCI6ZT0+ZT49MTMxMDcyJiZlPD0xNzM3OTF9O2Z1bmN0aW9uIE5zKGUpe2Zvcihjb25zdCB0IG9mIGUpaWYoanModC5jaGFyQ29kZUF0KDApKSlyZXR1cm4gITA7cmV0dXJuICExfWZ1bmN0aW9uIFVzKGUpe2Zvcihjb25zdCB0IG9mIGUpaWYoIVZzKHQuY2hhckNvZGVBdCgwKSkpcmV0dXJuICExO3JldHVybiAhMH1mdW5jdGlvbiBWcyhlKXtyZXR1cm4gIShGcy5BcmFiaWMoZSl8fEZzW1wiQXJhYmljIFN1cHBsZW1lbnRcIl0oZSl8fEZzW1wiQXJhYmljIEV4dGVuZGVkLUFcIl0oZSl8fEZzW1wiQXJhYmljIFByZXNlbnRhdGlvbiBGb3Jtcy1BXCJdKGUpfHxGc1tcIkFyYWJpYyBQcmVzZW50YXRpb24gRm9ybXMtQlwiXShlKSl9ZnVuY3Rpb24ganMoZSl7cmV0dXJuICEoNzQ2IT09ZSYmNzQ3IT09ZSYmKGU8NDM1Mnx8IShGc1tcIkJvcG9tb2ZvIEV4dGVuZGVkXCJdKGUpfHxGcy5Cb3BvbW9mbyhlKXx8RnNbXCJDSksgQ29tcGF0aWJpbGl0eSBGb3Jtc1wiXShlKSYmIShlPj02NTA5NyYmZTw9NjUxMDMpfHxGc1tcIkNKSyBDb21wYXRpYmlsaXR5IElkZW9ncmFwaHNcIl0oZSl8fEZzW1wiQ0pLIENvbXBhdGliaWxpdHlcIl0oZSl8fEZzW1wiQ0pLIFJhZGljYWxzIFN1cHBsZW1lbnRcIl0oZSl8fEZzW1wiQ0pLIFN0cm9rZXNcIl0oZSl8fCEoIUZzW1wiQ0pLIFN5bWJvbHMgYW5kIFB1bmN0dWF0aW9uXCJdKGUpfHxlPj0xMjI5NiYmZTw9MTIzMDV8fGU+PTEyMzA4JiZlPD0xMjMxOXx8MTIzMzY9PT1lKXx8RnNbXCJDSksgVW5pZmllZCBJZGVvZ3JhcGhzIEV4dGVuc2lvbiBBXCJdKGUpfHxGc1tcIkNKSyBVbmlmaWVkIElkZW9ncmFwaHNcIl0oZSl8fEZzW1wiRW5jbG9zZWQgQ0pLIExldHRlcnMgYW5kIE1vbnRoc1wiXShlKXx8RnNbXCJIYW5ndWwgQ29tcGF0aWJpbGl0eSBKYW1vXCJdKGUpfHxGc1tcIkhhbmd1bCBKYW1vIEV4dGVuZGVkLUFcIl0oZSl8fEZzW1wiSGFuZ3VsIEphbW8gRXh0ZW5kZWQtQlwiXShlKXx8RnNbXCJIYW5ndWwgSmFtb1wiXShlKXx8RnNbXCJIYW5ndWwgU3lsbGFibGVzXCJdKGUpfHxGcy5IaXJhZ2FuYShlKXx8RnNbXCJJZGVvZ3JhcGhpYyBEZXNjcmlwdGlvbiBDaGFyYWN0ZXJzXCJdKGUpfHxGcy5LYW5idW4oZSl8fEZzW1wiS2FuZ3hpIFJhZGljYWxzXCJdKGUpfHxGc1tcIkthdGFrYW5hIFBob25ldGljIEV4dGVuc2lvbnNcIl0oZSl8fEZzLkthdGFrYW5hKGUpJiYxMjU0MCE9PWV8fCEoIUZzW1wiSGFsZndpZHRoIGFuZCBGdWxsd2lkdGggRm9ybXNcIl0oZSl8fDY1Mjg4PT09ZXx8NjUyODk9PT1lfHw2NTI5Mz09PWV8fGU+PTY1MzA2JiZlPD02NTMxMHx8NjUzMzk9PT1lfHw2NTM0MT09PWV8fDY1MzQzPT09ZXx8ZT49NjUzNzEmJmU8PTY1NTAzfHw2NTUwNz09PWV8fGU+PTY1NTEyJiZlPD02NTUxOSl8fCEoIUZzW1wiU21hbGwgRm9ybSBWYXJpYW50c1wiXShlKXx8ZT49NjUxMTImJmU8PTY1MTE4fHxlPj02NTEyMyYmZTw9NjUxMjYpfHxGc1tcIlVuaWZpZWQgQ2FuYWRpYW4gQWJvcmlnaW5hbCBTeWxsYWJpY3NcIl0oZSl8fEZzW1wiVW5pZmllZCBDYW5hZGlhbiBBYm9yaWdpbmFsIFN5bGxhYmljcyBFeHRlbmRlZFwiXShlKXx8RnNbXCJWZXJ0aWNhbCBGb3Jtc1wiXShlKXx8RnNbXCJZaWppbmcgSGV4YWdyYW0gU3ltYm9sc1wiXShlKXx8RnNbXCJZaSBTeWxsYWJsZXNcIl0oZSl8fEZzW1wiWWkgUmFkaWNhbHNcIl0oZSkpKSl9ZnVuY3Rpb24gR3MoZSl7cmV0dXJuICEoanMoZSl8fGZ1bmN0aW9uKGUpe3JldHVybiAhIShGc1tcIkxhdGluLTEgU3VwcGxlbWVudFwiXShlKSYmKDE2Nz09PWV8fDE2OT09PWV8fDE3ND09PWV8fDE3Nz09PWV8fDE4OD09PWV8fDE4OT09PWV8fDE5MD09PWV8fDIxNT09PWV8fDI0Nz09PWUpfHxGc1tcIkdlbmVyYWwgUHVuY3R1YXRpb25cIl0oZSkmJig4MjE0PT09ZXx8ODIyND09PWV8fDgyMjU9PT1lfHw4MjQwPT09ZXx8ODI0MT09PWV8fDgyNTE9PT1lfHw4MjUyPT09ZXx8ODI1OD09PWV8fDgyNjM9PT1lfHw4MjY0PT09ZXx8ODI2NT09PWV8fDgyNzM9PT1lKXx8RnNbXCJMZXR0ZXJsaWtlIFN5bWJvbHNcIl0oZSl8fEZzW1wiTnVtYmVyIEZvcm1zXCJdKGUpfHxGc1tcIk1pc2NlbGxhbmVvdXMgVGVjaG5pY2FsXCJdKGUpJiYoZT49ODk2MCYmZTw9ODk2N3x8ZT49ODk3MiYmZTw9ODk5MXx8ZT49ODk5NiYmZTw9OWUzfHw5MDAzPT09ZXx8ZT49OTA4NSYmZTw9OTExNHx8ZT49OTE1MCYmZTw9OTE2NXx8OTE2Nz09PWV8fGU+PTkxNjkmJmU8PTkxNzl8fGU+PTkxODYmJmU8PTkyMTUpfHxGc1tcIkNvbnRyb2wgUGljdHVyZXNcIl0oZSkmJjkyNTEhPT1lfHxGc1tcIk9wdGljYWwgQ2hhcmFjdGVyIFJlY29nbml0aW9uXCJdKGUpfHxGc1tcIkVuY2xvc2VkIEFscGhhbnVtZXJpY3NcIl0oZSl8fEZzW1wiR2VvbWV0cmljIFNoYXBlc1wiXShlKXx8RnNbXCJNaXNjZWxsYW5lb3VzIFN5bWJvbHNcIl0oZSkmJiEoZT49OTc1NCYmZTw9OTc1OSl8fEZzW1wiTWlzY2VsbGFuZW91cyBTeW1ib2xzIGFuZCBBcnJvd3NcIl0oZSkmJihlPj0xMTAyNiYmZTw9MTEwNTV8fGU+PTExMDg4JiZlPD0xMTA5N3x8ZT49MTExOTImJmU8PTExMjQzKXx8RnNbXCJDSksgU3ltYm9scyBhbmQgUHVuY3R1YXRpb25cIl0oZSl8fEZzLkthdGFrYW5hKGUpfHxGc1tcIlByaXZhdGUgVXNlIEFyZWFcIl0oZSl8fEZzW1wiQ0pLIENvbXBhdGliaWxpdHkgRm9ybXNcIl0oZSl8fEZzW1wiU21hbGwgRm9ybSBWYXJpYW50c1wiXShlKXx8RnNbXCJIYWxmd2lkdGggYW5kIEZ1bGx3aWR0aCBGb3Jtc1wiXShlKXx8ODczND09PWV8fDg3NTY9PT1lfHw4NzU3PT09ZXx8ZT49OTk4NCYmZTw9MTAwODd8fGU+PTEwMTAyJiZlPD0xMDEzMXx8NjU1MzI9PT1lfHw2NTUzMz09PWUpfShlKSl9ZnVuY3Rpb24gcXMoZSl7cmV0dXJuIGU+PTE0MjQmJmU8PTIzMDN8fEZzW1wiQXJhYmljIFByZXNlbnRhdGlvbiBGb3Jtcy1BXCJdKGUpfHxGc1tcIkFyYWJpYyBQcmVzZW50YXRpb24gRm9ybXMtQlwiXShlKX1mdW5jdGlvbiBacyhlLHQpe3JldHVybiAhKCF0JiZxcyhlKXx8ZT49MjMwNCYmZTw9MzU4M3x8ZT49Mzg0MCYmZTw9NDI1NXx8RnMuS2htZXIoZSkpfWZ1bmN0aW9uICRzKGUpe2Zvcihjb25zdCB0IG9mIGUpaWYocXModC5jaGFyQ29kZUF0KDApKSlyZXR1cm4gITA7cmV0dXJuICExfWNvbnN0IFdzPVwiZGVmZXJyZWRcIixIcz1cImxvYWRpbmdcIixYcz1cImxvYWRlZFwiO2xldCBZcz1udWxsLEtzPVwidW5hdmFpbGFibGVcIixKcz1udWxsO2NvbnN0IFFzPWZ1bmN0aW9uKGUpe2UmJlwic3RyaW5nXCI9PXR5cGVvZiBlJiZlLmluZGV4T2YoXCJOZXR3b3JrRXJyb3JcIik+LTEmJihLcz1cImVycm9yXCIpLFlzJiZZcyhlKTt9O2Z1bmN0aW9uIGVhKCl7dGEuZmlyZShuZXcgSXQoXCJwbHVnaW5TdGF0ZUNoYW5nZVwiLHtwbHVnaW5TdGF0dXM6S3MscGx1Z2luVVJMOkpzfSkpO31jb25zdCB0YT1uZXcgenQsaWE9ZnVuY3Rpb24oKXtyZXR1cm4gS3N9LHJhPWZ1bmN0aW9uKCl7aWYoS3MhPT1Xc3x8IUpzKXRocm93IG5ldyBFcnJvcihcInJ0bC10ZXh0LXBsdWdpbiBjYW5ub3QgYmUgZG93bmxvYWRlZCB1bmxlc3MgYSBwbHVnaW5VUkwgaXMgc3BlY2lmaWVkXCIpO0tzPUhzLGVhKCksSnMmJlRlKHt1cmw6SnN9LChlPT57ZT9RcyhlKTooS3M9WHMsZWEoKSk7fSkpO30sbmE9e2FwcGx5QXJhYmljU2hhcGluZzpudWxsLHByb2Nlc3NCaWRpcmVjdGlvbmFsVGV4dDpudWxsLHByb2Nlc3NTdHlsZWRCaWRpcmVjdGlvbmFsVGV4dDpudWxsLGlzTG9hZGVkOigpPT5Lcz09PVhzfHxudWxsIT1uYS5hcHBseUFyYWJpY1NoYXBpbmcsaXNMb2FkaW5nOigpPT5Lcz09PUhzLHNldFN0YXRlKGUpe0tzPWUucGx1Z2luU3RhdHVzLEpzPWUucGx1Z2luVVJMO30saXNQYXJzZWQ6KCk9Pm51bGwhPW5hLmFwcGx5QXJhYmljU2hhcGluZyYmbnVsbCE9bmEucHJvY2Vzc0JpZGlyZWN0aW9uYWxUZXh0JiZudWxsIT1uYS5wcm9jZXNzU3R5bGVkQmlkaXJlY3Rpb25hbFRleHQsZ2V0UGx1Z2luVVJMOigpPT5Kc307Y2xhc3Mgb2F7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnpvb209ZSx0Pyh0aGlzLm5vdz10Lm5vdyx0aGlzLmZhZGVEdXJhdGlvbj10LmZhZGVEdXJhdGlvbix0aGlzLnRyYW5zaXRpb249dC50cmFuc2l0aW9uLHRoaXMucGl0Y2g9dC5waXRjaCx0aGlzLmJyaWdodG5lc3M9dC5icmlnaHRuZXNzKToodGhpcy5ub3c9MCx0aGlzLmZhZGVEdXJhdGlvbj0wLHRoaXMudHJhbnNpdGlvbj17fSx0aGlzLnBpdGNoPTAsdGhpcy5icmlnaHRuZXNzPTApO31pc1N1cHBvcnRlZFNjcmlwdChlKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtmb3IoY29uc3QgaSBvZiBlKWlmKCFacyhpLmNoYXJDb2RlQXQoMCksdCkpcmV0dXJuICExO3JldHVybiAhMH0oZSxuYS5pc0xvYWRlZCgpKX19Y2xhc3Mgc2F7Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMucHJvcGVydHk9ZSx0aGlzLnZhbHVlPXQsdGhpcy5leHByZXNzaW9uPWZ1bmN0aW9uKGUsdCxpKXtpZihmbyhlKSlyZXR1cm4gbmV3IElvKGUsdCk7aWYoVG8oZSl8fEFycmF5LmlzQXJyYXkoZSkmJmUubGVuZ3RoPjApe2NvbnN0IHI9U28oZSx0LGkpO2lmKFwiZXJyb3JcIj09PXIucmVzdWx0KXRocm93IG5ldyBFcnJvcihyLnZhbHVlLm1hcCgoZT0+YCR7ZS5rZXl9OiAke2UubWVzc2FnZX1gKSkuam9pbihcIiwgXCIpKTtyZXR1cm4gci52YWx1ZX17bGV0IGk9ZTtyZXR1cm4gXCJzdHJpbmdcIj09dHlwZW9mIGUmJlwiY29sb3JcIj09PXQudHlwZSYmKGk9aGkucGFyc2UoZSkpLHtraW5kOlwiY29uc3RhbnRcIixpc0NvbmZpZ0RlcGVuZGVudDohMSxldmFsdWF0ZTooKT0+aX19fSh2b2lkIDA9PT10P2Uuc3BlY2lmaWNhdGlvbi5kZWZhdWx0OnQsZS5zcGVjaWZpY2F0aW9uLGkpO31pc0RhdGFEcml2ZW4oKXtyZXR1cm4gXCJzb3VyY2VcIj09PXRoaXMuZXhwcmVzc2lvbi5raW5kfHxcImNvbXBvc2l0ZVwiPT09dGhpcy5leHByZXNzaW9uLmtpbmR9cG9zc2libHlFdmFsdWF0ZShlLHQsaSl7cmV0dXJuIHRoaXMucHJvcGVydHkucG9zc2libHlFdmFsdWF0ZSh0aGlzLGUsdCxpKX19Y2xhc3MgYWF7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnByb3BlcnR5PWUsdGhpcy52YWx1ZT1uZXcgc2EoZSx2b2lkIDAsdCk7fXRyYW5zaXRpb25lZChlLHQpe3JldHVybiBuZXcgY2EodGhpcy5wcm9wZXJ0eSx0aGlzLnZhbHVlLHQsayh7fSxlLnRyYW5zaXRpb24sdGhpcy50cmFuc2l0aW9uKSxlLm5vdyl9dW50cmFuc2l0aW9uZWQoKXtyZXR1cm4gbmV3IGNhKHRoaXMucHJvcGVydHksdGhpcy52YWx1ZSxudWxsLHt9LDApfX1jbGFzcyBsYXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMuX3Byb3BlcnRpZXM9ZSx0aGlzLl92YWx1ZXM9T2JqZWN0LmNyZWF0ZShlLmRlZmF1bHRUcmFuc2l0aW9uYWJsZVByb3BlcnR5VmFsdWVzKSx0aGlzLl9vcHRpb25zPXQsdGhpcy5pc0NvbmZpZ0RlcGVuZGVudD0hMTt9Z2V0VmFsdWUoZSl7cmV0dXJuICQodGhpcy5fdmFsdWVzW2VdLnZhbHVlLnZhbHVlKX1zZXRWYWx1ZShlLHQpe3RoaXMuX3ZhbHVlcy5oYXNPd25Qcm9wZXJ0eShlKXx8KHRoaXMuX3ZhbHVlc1tlXT1uZXcgYWEodGhpcy5fdmFsdWVzW2VdLnByb3BlcnR5LHRoaXMuX29wdGlvbnMpKSx0aGlzLl92YWx1ZXNbZV0udmFsdWU9bmV3IHNhKHRoaXMuX3ZhbHVlc1tlXS5wcm9wZXJ0eSxudWxsPT09dD92b2lkIDA6JCh0KSx0aGlzLl9vcHRpb25zKSx0aGlzLmlzQ29uZmlnRGVwZW5kZW50PXRoaXMuaXNDb25maWdEZXBlbmRlbnR8fHRoaXMuX3ZhbHVlc1tlXS52YWx1ZS5leHByZXNzaW9uLmlzQ29uZmlnRGVwZW5kZW50O31zZXRUcmFuc2l0aW9uT3JWYWx1ZShlLHQpe3QmJih0aGlzLl9vcHRpb25zPXQpO2NvbnN0IGk9dGhpcy5fcHJvcGVydGllcy5wcm9wZXJ0aWVzO2lmKGUpZm9yKGNvbnN0IHQgaW4gZSl7Y29uc3Qgcj1lW3RdO2lmKEcodCxcIi10cmFuc2l0aW9uXCIpKXtjb25zdCBlPXQuc2xpY2UoMCwtMTEpO2lbZV0mJnRoaXMuc2V0VHJhbnNpdGlvbihlLHIpO31lbHNlIGlbdF0mJnRoaXMuc2V0VmFsdWUodCxyKTt9fWdldFRyYW5zaXRpb24oZSl7cmV0dXJuICQodGhpcy5fdmFsdWVzW2VdLnRyYW5zaXRpb24pfXNldFRyYW5zaXRpb24oZSx0KXt0aGlzLl92YWx1ZXMuaGFzT3duUHJvcGVydHkoZSl8fCh0aGlzLl92YWx1ZXNbZV09bmV3IGFhKHRoaXMuX3ZhbHVlc1tlXS5wcm9wZXJ0eSkpLHRoaXMuX3ZhbHVlc1tlXS50cmFuc2l0aW9uPSQodCl8fHZvaWQgMDt9c2VyaWFsaXplKCl7Y29uc3QgZT17fTtmb3IoY29uc3QgdCBvZiBPYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpKXtjb25zdCBpPXRoaXMuZ2V0VmFsdWUodCk7dm9pZCAwIT09aSYmKGVbdF09aSk7Y29uc3Qgcj10aGlzLmdldFRyYW5zaXRpb24odCk7dm9pZCAwIT09ciYmKGVbYCR7dH0tdHJhbnNpdGlvbmBdPXIpO31yZXR1cm4gZX10cmFuc2l0aW9uZWQoZSx0KXtjb25zdCBpPW5ldyBoYSh0aGlzLl9wcm9wZXJ0aWVzKTtmb3IoY29uc3QgciBvZiBPYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpKWkuX3ZhbHVlc1tyXT10aGlzLl92YWx1ZXNbcl0udHJhbnNpdGlvbmVkKGUsdC5fdmFsdWVzW3JdKTtyZXR1cm4gaX11bnRyYW5zaXRpb25lZCgpe2NvbnN0IGU9bmV3IGhhKHRoaXMuX3Byb3BlcnRpZXMpO2Zvcihjb25zdCB0IG9mIE9iamVjdC5rZXlzKHRoaXMuX3ZhbHVlcykpZS5fdmFsdWVzW3RdPXRoaXMuX3ZhbHVlc1t0XS51bnRyYW5zaXRpb25lZCgpO3JldHVybiBlfX1jbGFzcyBjYXtjb25zdHJ1Y3RvcihlLHQsaSxyLG4pe2NvbnN0IG89ci5kZWxheXx8MCxzPXIuZHVyYXRpb258fDA7bj1ufHwwLHRoaXMucHJvcGVydHk9ZSx0aGlzLnZhbHVlPXQsdGhpcy5iZWdpbj1uK28sdGhpcy5lbmQ9dGhpcy5iZWdpbitzLGUuc3BlY2lmaWNhdGlvbi50cmFuc2l0aW9uJiYoci5kZWxheXx8ci5kdXJhdGlvbikmJih0aGlzLnByaW9yPWkpO31wb3NzaWJseUV2YWx1YXRlKGUsdCxpKXtjb25zdCByPWUubm93fHwwLG49dGhpcy52YWx1ZS5wb3NzaWJseUV2YWx1YXRlKGUsdCxpKSxvPXRoaXMucHJpb3I7aWYobyl7aWYocj50aGlzLmVuZClyZXR1cm4gdGhpcy5wcmlvcj1udWxsLG47aWYodGhpcy52YWx1ZS5pc0RhdGFEcml2ZW4oKSlyZXR1cm4gdGhpcy5wcmlvcj1udWxsLG47aWYocjx0aGlzLmJlZ2luKXJldHVybiBvLnBvc3NpYmx5RXZhbHVhdGUoZSx0LGkpO3tjb25zdCBzPShyLXRoaXMuYmVnaW4pLyh0aGlzLmVuZC10aGlzLmJlZ2luKTtyZXR1cm4gdGhpcy5wcm9wZXJ0eS5pbnRlcnBvbGF0ZShvLnBvc3NpYmx5RXZhbHVhdGUoZSx0LGkpLG4sTShzKSl9fXJldHVybiBufX1jbGFzcyBoYXtjb25zdHJ1Y3RvcihlKXt0aGlzLl9wcm9wZXJ0aWVzPWUsdGhpcy5fdmFsdWVzPU9iamVjdC5jcmVhdGUoZS5kZWZhdWx0VHJhbnNpdGlvbmluZ1Byb3BlcnR5VmFsdWVzKTt9cG9zc2libHlFdmFsdWF0ZShlLHQsaSl7Y29uc3Qgcj1uZXcgcGEodGhpcy5fcHJvcGVydGllcyk7Zm9yKGNvbnN0IG4gb2YgT2JqZWN0LmtleXModGhpcy5fdmFsdWVzKSlyLl92YWx1ZXNbbl09dGhpcy5fdmFsdWVzW25dLnBvc3NpYmx5RXZhbHVhdGUoZSx0LGkpO3JldHVybiByfWhhc1RyYW5zaXRpb24oKXtmb3IoY29uc3QgZSBvZiBPYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpKWlmKHRoaXMuX3ZhbHVlc1tlXS5wcmlvcilyZXR1cm4gITA7cmV0dXJuICExfX1jbGFzcyB1YXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMuX3Byb3BlcnRpZXM9ZSx0aGlzLl92YWx1ZXM9T2JqZWN0LmNyZWF0ZShlLmRlZmF1bHRQcm9wZXJ0eVZhbHVlcyksdGhpcy5fb3B0aW9ucz10LHRoaXMuaXNDb25maWdEZXBlbmRlbnQ9ITE7fWdldFZhbHVlKGUpe3JldHVybiAkKHRoaXMuX3ZhbHVlc1tlXS52YWx1ZSl9c2V0VmFsdWUoZSx0KXt0aGlzLl92YWx1ZXNbZV09bmV3IHNhKHRoaXMuX3ZhbHVlc1tlXS5wcm9wZXJ0eSxudWxsPT09dD92b2lkIDA6JCh0KSx0aGlzLl9vcHRpb25zKSx0aGlzLmlzQ29uZmlnRGVwZW5kZW50PXRoaXMuaXNDb25maWdEZXBlbmRlbnR8fHRoaXMuX3ZhbHVlc1tlXS5leHByZXNzaW9uLmlzQ29uZmlnRGVwZW5kZW50O31zZXJpYWxpemUoKXtjb25zdCBlPXt9O2Zvcihjb25zdCB0IG9mIE9iamVjdC5rZXlzKHRoaXMuX3ZhbHVlcykpe2NvbnN0IGk9dGhpcy5nZXRWYWx1ZSh0KTt2b2lkIDAhPT1pJiYoZVt0XT1pKTt9cmV0dXJuIGV9cG9zc2libHlFdmFsdWF0ZShlLHQsaSl7Y29uc3Qgcj1uZXcgcGEodGhpcy5fcHJvcGVydGllcyk7Zm9yKGNvbnN0IG4gb2YgT2JqZWN0LmtleXModGhpcy5fdmFsdWVzKSlyLl92YWx1ZXNbbl09dGhpcy5fdmFsdWVzW25dLnBvc3NpYmx5RXZhbHVhdGUoZSx0LGkpO3JldHVybiByfX1jbGFzcyBkYXtjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5wcm9wZXJ0eT1lLHRoaXMudmFsdWU9dCx0aGlzLnBhcmFtZXRlcnM9aTt9aXNDb25zdGFudCgpe3JldHVybiBcImNvbnN0YW50XCI9PT10aGlzLnZhbHVlLmtpbmR9Y29uc3RhbnRPcihlKXtyZXR1cm4gXCJjb25zdGFudFwiPT09dGhpcy52YWx1ZS5raW5kP3RoaXMudmFsdWUudmFsdWU6ZX1ldmFsdWF0ZShlLHQsaSxyKXtyZXR1cm4gdGhpcy5wcm9wZXJ0eS5ldmFsdWF0ZSh0aGlzLnZhbHVlLHRoaXMucGFyYW1ldGVycyxlLHQsaSxyKX19Y2xhc3MgcGF7Y29uc3RydWN0b3IoZSl7dGhpcy5fcHJvcGVydGllcz1lLHRoaXMuX3ZhbHVlcz1PYmplY3QuY3JlYXRlKGUuZGVmYXVsdFBvc3NpYmx5RXZhbHVhdGVkVmFsdWVzKTt9Z2V0KGUpe3JldHVybiB0aGlzLl92YWx1ZXNbZV19fWNsYXNzIGZhe2NvbnN0cnVjdG9yKGUpe3RoaXMuc3BlY2lmaWNhdGlvbj1lO31wb3NzaWJseUV2YWx1YXRlKGUsdCl7cmV0dXJuIGUuZXhwcmVzc2lvbi5ldmFsdWF0ZSh0KX1pbnRlcnBvbGF0ZShlLHQsaSl7Y29uc3Qgcj1Rclt0aGlzLnNwZWNpZmljYXRpb24udHlwZV07cmV0dXJuIHI/cihlLHQsaSk6ZX19Y2xhc3MgbWF7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnNwZWNpZmljYXRpb249ZSx0aGlzLm92ZXJyaWRlcz10O31wb3NzaWJseUV2YWx1YXRlKGUsdCxpLHIpe3JldHVybiBuZXcgZGEodGhpcyxcImNvbnN0YW50XCI9PT1lLmV4cHJlc3Npb24ua2luZHx8XCJjYW1lcmFcIj09PWUuZXhwcmVzc2lvbi5raW5kP3traW5kOlwiY29uc3RhbnRcIix2YWx1ZTplLmV4cHJlc3Npb24uZXZhbHVhdGUodCxudWxsLHt9LGkscil9OmUuZXhwcmVzc2lvbix0KX1pbnRlcnBvbGF0ZShlLHQsaSl7aWYoXCJjb25zdGFudFwiIT09ZS52YWx1ZS5raW5kfHxcImNvbnN0YW50XCIhPT10LnZhbHVlLmtpbmQpcmV0dXJuIGU7aWYodm9pZCAwPT09ZS52YWx1ZS52YWx1ZXx8dm9pZCAwPT09dC52YWx1ZS52YWx1ZSlyZXR1cm4gbmV3IGRhKHRoaXMse2tpbmQ6XCJjb25zdGFudFwiLHZhbHVlOnZvaWQgMH0sZS5wYXJhbWV0ZXJzKTtjb25zdCByPVFyW3RoaXMuc3BlY2lmaWNhdGlvbi50eXBlXTtyZXR1cm4gcj9uZXcgZGEodGhpcyx7a2luZDpcImNvbnN0YW50XCIsdmFsdWU6cihlLnZhbHVlLnZhbHVlLHQudmFsdWUudmFsdWUsaSl9LGUucGFyYW1ldGVycyk6ZX1ldmFsdWF0ZShlLHQsaSxyLG4sbyl7cmV0dXJuIFwiY29uc3RhbnRcIj09PWUua2luZD9lLnZhbHVlOmUuZXZhbHVhdGUodCxpLHIsbixvKX19Y2xhc3MgX2F7Y29uc3RydWN0b3IoZSl7dGhpcy5zcGVjaWZpY2F0aW9uPWU7fXBvc3NpYmx5RXZhbHVhdGUoZSx0LGkscil7cmV0dXJuICEhZS5leHByZXNzaW9uLmV2YWx1YXRlKHQsbnVsbCx7fSxpLHIpfWludGVycG9sYXRlKCl7cmV0dXJuICExfX1jbGFzcyBnYXtjb25zdHJ1Y3RvcihlKXt0aGlzLnByb3BlcnRpZXM9ZSx0aGlzLmRlZmF1bHRQcm9wZXJ0eVZhbHVlcz17fSx0aGlzLmRlZmF1bHRUcmFuc2l0aW9uYWJsZVByb3BlcnR5VmFsdWVzPXt9LHRoaXMuZGVmYXVsdFRyYW5zaXRpb25pbmdQcm9wZXJ0eVZhbHVlcz17fSx0aGlzLmRlZmF1bHRQb3NzaWJseUV2YWx1YXRlZFZhbHVlcz17fSx0aGlzLm92ZXJyaWRhYmxlUHJvcGVydGllcz1bXTtjb25zdCB0PW5ldyBvYSgwLHt9KTtmb3IoY29uc3QgaSBpbiBlKXtjb25zdCByPWVbaV07ci5zcGVjaWZpY2F0aW9uLm92ZXJyaWRhYmxlJiZ0aGlzLm92ZXJyaWRhYmxlUHJvcGVydGllcy5wdXNoKGkpO2NvbnN0IG49dGhpcy5kZWZhdWx0UHJvcGVydHlWYWx1ZXNbaV09bmV3IHNhKHIsdm9pZCAwKSxvPXRoaXMuZGVmYXVsdFRyYW5zaXRpb25hYmxlUHJvcGVydHlWYWx1ZXNbaV09bmV3IGFhKHIpO3RoaXMuZGVmYXVsdFRyYW5zaXRpb25pbmdQcm9wZXJ0eVZhbHVlc1tpXT1vLnVudHJhbnNpdGlvbmVkKCksdGhpcy5kZWZhdWx0UG9zc2libHlFdmFsdWF0ZWRWYWx1ZXNbaV09bi5wb3NzaWJseUV2YWx1YXRlKHQpO319fVJzKG1hLFwiRGF0YURyaXZlblByb3BlcnR5XCIpLFJzKGZhLFwiRGF0YUNvbnN0YW50UHJvcGVydHlcIiksUnMoX2EsXCJDb2xvclJhbXBQcm9wZXJ0eVwiKTtjb25zdCB5YT1cIlx1MDAxZlwiO2Z1bmN0aW9uIHhhKGUpe3JldHVybiBlLmluZGV4T2YoeWEpPj0wfWZ1bmN0aW9uIHZhKGUsdCl7cmV0dXJuIHQ/YCR7ZX0ke3lhfSR7dH1gOmV9ZnVuY3Rpb24gYmEoZSl7Y29uc3QgdD1lLmluZGV4T2YoeWEpO3JldHVybiB0Pj0wP2Uuc2xpY2UoMCx0KTplfWNvbnN0IHdhPVwiLXRyYW5zaXRpb25cIjtjbGFzcyBUYSBleHRlbmRzIHp0e2NvbnN0cnVjdG9yKGUsdCxpKXtpZihzdXBlcigpLHRoaXMuaWQ9ZS5pZCx0aGlzLnR5cGU9ZS50eXBlLHRoaXMuX2ZlYXR1cmVGaWx0ZXI9e2ZpbHRlcjooKT0+ITAsbmVlZEdlb21ldHJ5OiExLG5lZWRGZWF0dXJlOiExfSx0aGlzLl9maWx0ZXJDb21waWxlZD0hMSx0aGlzLmlzQ29uZmlnRGVwZW5kZW50PSExLFwiY3VzdG9tXCIhPT1lLnR5cGUmJih0aGlzLm1ldGFkYXRhPWUubWV0YWRhdGEsdGhpcy5taW56b29tPWUubWluem9vbSx0aGlzLm1heHpvb209ZS5tYXh6b29tLFwiYmFja2dyb3VuZFwiIT09ZS50eXBlJiZcInNreVwiIT09ZS50eXBlJiZcInNsb3RcIiE9PWUudHlwZSYmKHRoaXMuc291cmNlPWUuc291cmNlLHRoaXMuc291cmNlTGF5ZXI9ZVtcInNvdXJjZS1sYXllclwiXSx0aGlzLmZpbHRlcj1lLmZpbHRlciksdGhpcy5vcHRpb25zPWksZS5zbG90JiYodGhpcy5zbG90PWUuc2xvdCksdC5sYXlvdXQmJih0aGlzLl91bmV2YWx1YXRlZExheW91dD1uZXcgdWEodC5sYXlvdXQsaSksdGhpcy5pc0NvbmZpZ0RlcGVuZGVudD10aGlzLmlzQ29uZmlnRGVwZW5kZW50fHx0aGlzLl91bmV2YWx1YXRlZExheW91dC5pc0NvbmZpZ0RlcGVuZGVudCksdC5wYWludCkpe3RoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQ9bmV3IGxhKHQucGFpbnQsaSk7Zm9yKGNvbnN0IHQgaW4gZS5wYWludCl0aGlzLnNldFBhaW50UHJvcGVydHkodCxlLnBhaW50W3RdLHt2YWxpZGF0ZTohMX0pO2Zvcihjb25zdCB0IGluIGUubGF5b3V0KXRoaXMuc2V0TGF5b3V0UHJvcGVydHkodCxlLmxheW91dFt0XSx7dmFsaWRhdGU6ITF9KTt0aGlzLmlzQ29uZmlnRGVwZW5kZW50PXRoaXMuaXNDb25maWdEZXBlbmRlbnR8fHRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuaXNDb25maWdEZXBlbmRlbnQsdGhpcy5fdHJhbnNpdGlvbmluZ1BhaW50PXRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQudW50cmFuc2l0aW9uZWQoKSx0aGlzLnBhaW50PW5ldyBwYSh0LnBhaW50KTt9fXNldFNjb3BlKGUpe3RoaXMuc2NvcGU9ZSx0aGlzLmZxaWQ9dmEodGhpcy5pZCxlKTt9Z2V0TGF5b3V0UHJvcGVydHkoZSl7cmV0dXJuIFwidmlzaWJpbGl0eVwiPT09ZT90aGlzLnZpc2liaWxpdHk6dGhpcy5fdW5ldmFsdWF0ZWRMYXlvdXQuZ2V0VmFsdWUoZSl9c2V0TGF5b3V0UHJvcGVydHkoZSx0LGk9e30pe2lmKG51bGwhPXQmJnRoaXMuX3ZhbGlkYXRlKEVzLGBsYXllcnMuJHt0aGlzLmlkfS5sYXlvdXQuJHtlfWAsZSx0LGkpKXJldHVybjtpZihcImN1c3RvbVwiPT09dGhpcy50eXBlJiZcInZpc2liaWxpdHlcIj09PWUpcmV0dXJuIHZvaWQodGhpcy52aXNpYmlsaXR5PXQpO2NvbnN0IHI9dGhpcy5fdW5ldmFsdWF0ZWRMYXlvdXQ7ci5fcHJvcGVydGllcy5wcm9wZXJ0aWVzW2VdJiYoci5zZXRWYWx1ZShlLHQpLHRoaXMuaXNDb25maWdEZXBlbmRlbnQ9dGhpcy5pc0NvbmZpZ0RlcGVuZGVudHx8ci5pc0NvbmZpZ0RlcGVuZGVudCxcInZpc2liaWxpdHlcIj09PWUmJnRoaXMucG9zc2libHlFdmFsdWF0ZVZpc2liaWxpdHkoKSk7fXBvc3NpYmx5RXZhbHVhdGVWaXNpYmlsaXR5KCl7dGhpcy52aXNpYmlsaXR5PXRoaXMuX3VuZXZhbHVhdGVkTGF5b3V0Ll92YWx1ZXMudmlzaWJpbGl0eS5wb3NzaWJseUV2YWx1YXRlKHt6b29tOjB9KTt9Z2V0UGFpbnRQcm9wZXJ0eShlKXtyZXR1cm4gRyhlLHdhKT90aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50LmdldFRyYW5zaXRpb24oZS5zbGljZSgwLC0xMSkpOnRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuZ2V0VmFsdWUoZSl9c2V0UGFpbnRQcm9wZXJ0eShlLHQsaT17fSl7aWYobnVsbCE9dCYmdGhpcy5fdmFsaWRhdGUoVHMsYGxheWVycy4ke3RoaXMuaWR9LnBhaW50LiR7ZX1gLGUsdCxpKSlyZXR1cm4gITE7Y29uc3Qgcj10aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50LG49ci5fcHJvcGVydGllcy5wcm9wZXJ0aWVzO2lmKEcoZSx3YSkpe2NvbnN0IGk9ZS5zbGljZSgwLC0xMSk7cmV0dXJuIG5baV0mJnIuc2V0VHJhbnNpdGlvbihpLHR8fHZvaWQgMCksITF9aWYoIW5bZV0pcmV0dXJuICExO2NvbnN0IG89ci5fdmFsdWVzW2VdLHM9by52YWx1ZS5pc0RhdGFEcml2ZW4oKSxhPW8udmFsdWU7ci5zZXRWYWx1ZShlLHQpLHRoaXMuaXNDb25maWdEZXBlbmRlbnQ9dGhpcy5pc0NvbmZpZ0RlcGVuZGVudHx8ci5pc0NvbmZpZ0RlcGVuZGVudCx0aGlzLl9oYW5kbGVTcGVjaWFsUGFpbnRQcm9wZXJ0eVVwZGF0ZShlKTtjb25zdCBsPXIuX3ZhbHVlc1tlXS52YWx1ZSxjPWwuaXNEYXRhRHJpdmVuKCksaD1HKGUsXCJwYXR0ZXJuXCIpfHxcImxpbmUtZGFzaGFycmF5XCI9PT1lO3JldHVybiBjfHxzfHxofHx0aGlzLl9oYW5kbGVPdmVycmlkYWJsZVBhaW50UHJvcGVydHlVcGRhdGUoZSxhLGwpfV9oYW5kbGVTcGVjaWFsUGFpbnRQcm9wZXJ0eVVwZGF0ZShlKXt9Z2V0UHJvZ3JhbUlkcygpe3JldHVybiBudWxsfWdldERlZmF1bHRQcm9ncmFtUGFyYW1zKGUsdCl7cmV0dXJuIG51bGx9X2hhbmRsZU92ZXJyaWRhYmxlUGFpbnRQcm9wZXJ0eVVwZGF0ZShlLHQsaSl7cmV0dXJuICExfWlzSGlkZGVuKGUpe3JldHVybiAhISh0aGlzLm1pbnpvb20mJmU8dGhpcy5taW56b29tKXx8ISEodGhpcy5tYXh6b29tJiZlPj10aGlzLm1heHpvb20pfHxcIm5vbmVcIj09PXRoaXMudmlzaWJpbGl0eX11cGRhdGVUcmFuc2l0aW9ucyhlKXt0aGlzLl90cmFuc2l0aW9uaW5nUGFpbnQ9dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC50cmFuc2l0aW9uZWQoZSx0aGlzLl90cmFuc2l0aW9uaW5nUGFpbnQpO31oYXNUcmFuc2l0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYW5zaXRpb25pbmdQYWludC5oYXNUcmFuc2l0aW9uKCl9cmVjYWxjdWxhdGUoZSx0KXt0aGlzLl91bmV2YWx1YXRlZExheW91dCYmKHRoaXMubGF5b3V0PXRoaXMuX3VuZXZhbHVhdGVkTGF5b3V0LnBvc3NpYmx5RXZhbHVhdGUoZSx2b2lkIDAsdCkpLHRoaXMucGFpbnQ9dGhpcy5fdHJhbnNpdGlvbmluZ1BhaW50LnBvc3NpYmx5RXZhbHVhdGUoZSx2b2lkIDAsdCk7fXNlcmlhbGl6ZSgpe3JldHVybiBaKHtpZDp0aGlzLmlkLHR5cGU6dGhpcy50eXBlLHNsb3Q6dGhpcy5zbG90LHNvdXJjZTp0aGlzLnNvdXJjZSxcInNvdXJjZS1sYXllclwiOnRoaXMuc291cmNlTGF5ZXIsbWV0YWRhdGE6dGhpcy5tZXRhZGF0YSxtaW56b29tOnRoaXMubWluem9vbSxtYXh6b29tOnRoaXMubWF4em9vbSxmaWx0ZXI6dGhpcy5maWx0ZXIsbGF5b3V0OnRoaXMuX3VuZXZhbHVhdGVkTGF5b3V0JiZ0aGlzLl91bmV2YWx1YXRlZExheW91dC5zZXJpYWxpemUoKSxwYWludDp0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50JiZ0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50LnNlcmlhbGl6ZSgpfSwoKGUsdCk9PiEodm9pZCAwPT09ZXx8XCJsYXlvdXRcIj09PXQmJiFPYmplY3Qua2V5cyhlKS5sZW5ndGh8fFwicGFpbnRcIj09PXQmJiFPYmplY3Qua2V5cyhlKS5sZW5ndGgpKSl9X3ZhbGlkYXRlKGUsdCxpLHIsbj17fSl7cmV0dXJuICghbnx8ITEhPT1uLnZhbGlkYXRlKSYmU3ModGhpcyxlLmNhbGwobXMse2tleTp0LGxheWVyVHlwZTp0aGlzLnR5cGUsb2JqZWN0S2V5OmksdmFsdWU6cixzdHlsZVNwZWM6UHQsc3R5bGU6e2dseXBoczohMCxzcHJpdGU6ITB9fSkpfWlzM0QoKXtyZXR1cm4gITF9aXNTa3koKXtyZXR1cm4gITF9aXNUaWxlQ2xpcHBlZCgpe3JldHVybiAhMX1oYXNPZmZzY3JlZW5QYXNzKCl7cmV0dXJuICExfWhhc1NoYWRvd1Bhc3MoKXtyZXR1cm4gITF9Y2FuQ2FzdFNoYWRvd3MoKXtyZXR1cm4gITF9aGFzTGlnaHRCZWFtUGFzcygpe3JldHVybiAhMX1jdXRvZmZSYW5nZSgpe3JldHVybiAwfXJlc2l6ZSgpe31pc1N0YXRlRGVwZW5kZW50KCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5wYWludC5fdmFsdWVzKXtjb25zdCB0PXRoaXMucGFpbnQuZ2V0KGUpO2lmKHQgaW5zdGFuY2VvZiBkYSYmY28odC5wcm9wZXJ0eS5zcGVjaWZpY2F0aW9uKSYmKFwic291cmNlXCI9PT10LnZhbHVlLmtpbmR8fFwiY29tcG9zaXRlXCI9PT10LnZhbHVlLmtpbmQpJiZ0LnZhbHVlLmlzU3RhdGVEZXBlbmRlbnQpcmV0dXJuICEwfXJldHVybiAhMX1jb21waWxlRmlsdGVyKCl7dGhpcy5fZmlsdGVyQ29tcGlsZWR8fCh0aGlzLl9mZWF0dXJlRmlsdGVyPUZvKHRoaXMuZmlsdGVyKSx0aGlzLl9maWx0ZXJDb21waWxlZD0hMCk7fWludmFsaWRhdGVDb21waWxlZEZpbHRlcigpe3RoaXMuX2ZpbHRlckNvbXBpbGVkPSExO31keW5hbWljRmlsdGVyKCl7cmV0dXJuIHRoaXMuX2ZlYXR1cmVGaWx0ZXIuZHluYW1pY0ZpbHRlcn1keW5hbWljRmlsdGVyTmVlZHNGZWF0dXJlKCl7cmV0dXJuIHRoaXMuX2ZlYXR1cmVGaWx0ZXIubmVlZEZlYXR1cmV9Z2V0TGF5ZXJSZW5kZXJpbmdTdGF0cygpe3JldHVybiB0aGlzLl9zdGF0c31yZXNldExheWVyUmVuZGVyaW5nU3RhdHMoKXt0aGlzLl9zdGF0cyYmKHRoaXMuX3N0YXRzLm51bVJlbmRlcmVkVmVydGljZXNJblNoYWRvd1Bhc3M9MCx0aGlzLl9zdGF0cy5udW1SZW5kZXJlZFZlcnRpY2VzSW5UcmFuc3BhcmVudFBhc3M9MCk7fX1jbGFzcyBFYXtjb25zdHJ1Y3Rvcigpe3RoaXMuX2NoYW5nZWQ9ITEsdGhpcy5fdXBkYXRlZExheWVycz17fSx0aGlzLl9yZW1vdmVkTGF5ZXJzPXt9LHRoaXMuX3VwZGF0ZWRTb3VyY2VDYWNoZXM9e30sdGhpcy5fdXBkYXRlZFBhaW50UHJvcHM9bmV3IFNldCx0aGlzLl91cGRhdGVkSW1hZ2VzPW5ldyBTZXQ7fWlzRGlydHkoKXtyZXR1cm4gdGhpcy5fY2hhbmdlZH1zZXREaXJ0eSgpe3RoaXMuX2NoYW5nZWQ9ITA7fWdldFVwZGF0ZWRTb3VyY2VDYWNoZXMoKXtyZXR1cm4gdGhpcy5fdXBkYXRlZFNvdXJjZUNhY2hlc311cGRhdGVTb3VyY2VDYWNoZShlLHQpe3RoaXMuX3VwZGF0ZWRTb3VyY2VDYWNoZXNbZV09dCx0aGlzLnNldERpcnR5KCk7fWRpc2NhcmRTb3VyY2VDYWNoZVVwZGF0ZShlKXtkZWxldGUgdGhpcy5fdXBkYXRlZFNvdXJjZUNhY2hlc1tlXTt9dXBkYXRlTGF5ZXIoZSl7Y29uc3QgdD1lLnNjb3BlO3RoaXMuX3VwZGF0ZWRMYXllcnNbdF09dGhpcy5fdXBkYXRlZExheWVyc1t0XXx8bmV3IFNldCx0aGlzLl91cGRhdGVkTGF5ZXJzW3RdLmFkZChlLmlkKSx0aGlzLnNldERpcnR5KCk7fXJlbW92ZUxheWVyKGUpe2NvbnN0IHQ9ZS5zY29wZTt0aGlzLl9yZW1vdmVkTGF5ZXJzW3RdPXRoaXMuX3JlbW92ZWRMYXllcnNbdF18fHt9LHRoaXMuX3VwZGF0ZWRMYXllcnNbdF09dGhpcy5fdXBkYXRlZExheWVyc1t0XXx8bmV3IFNldCx0aGlzLl9yZW1vdmVkTGF5ZXJzW3RdW2UuaWRdPWUsdGhpcy5fdXBkYXRlZExheWVyc1t0XS5kZWxldGUoZS5pZCksdGhpcy5fdXBkYXRlZFBhaW50UHJvcHMuZGVsZXRlKGUuZnFpZCksdGhpcy5zZXREaXJ0eSgpO31nZXRSZW1vdmVkTGF5ZXIoZSl7cmV0dXJuIHRoaXMuX3JlbW92ZWRMYXllcnNbZS5zY29wZV0/dGhpcy5fcmVtb3ZlZExheWVyc1tlLnNjb3BlXVtlLmlkXTpudWxsfWRpc2NhcmRMYXllclJlbW92YWwoZSl7dGhpcy5fcmVtb3ZlZExheWVyc1tlLnNjb3BlXSYmZGVsZXRlIHRoaXMuX3JlbW92ZWRMYXllcnNbZS5zY29wZV1bZS5pZF07fWdldExheWVyVXBkYXRlc0J5U2NvcGUoKXtjb25zdCBlPXt9O2Zvcihjb25zdCB0IGluIHRoaXMuX3VwZGF0ZWRMYXllcnMpZVt0XT1lW3RdfHx7fSxlW3RdLnVwZGF0ZWRJZHM9QXJyYXkuZnJvbSh0aGlzLl91cGRhdGVkTGF5ZXJzW3RdLnZhbHVlcygpKTtmb3IoY29uc3QgdCBpbiB0aGlzLl9yZW1vdmVkTGF5ZXJzKWVbdF09ZVt0XXx8e30sZVt0XS5yZW1vdmVkSWRzPU9iamVjdC5rZXlzKHRoaXMuX3JlbW92ZWRMYXllcnNbdF0pO3JldHVybiBlfWdldFVwZGF0ZWRQYWludFByb3BlcnRpZXMoKXtyZXR1cm4gdGhpcy5fdXBkYXRlZFBhaW50UHJvcHN9dXBkYXRlUGFpbnRQcm9wZXJ0aWVzKGUpe3RoaXMuX3VwZGF0ZWRQYWludFByb3BzLmFkZChlLmZxaWQpLHRoaXMuc2V0RGlydHkoKTt9Z2V0VXBkYXRlZEltYWdlcygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuX3VwZGF0ZWRJbWFnZXMudmFsdWVzKCkpfXVwZGF0ZUltYWdlKGUpe3RoaXMuX3VwZGF0ZWRJbWFnZXMuYWRkKGUpLHRoaXMuc2V0RGlydHkoKTt9cmVzZXRVcGRhdGVkSW1hZ2VzKCl7dGhpcy5fdXBkYXRlZEltYWdlcy5jbGVhcigpO31yZXNldCgpe3RoaXMuX2NoYW5nZWQ9ITEsdGhpcy5fdXBkYXRlZExheWVycz17fSx0aGlzLl9yZW1vdmVkTGF5ZXJzPXt9LHRoaXMuX3VwZGF0ZWRTb3VyY2VDYWNoZXM9e30sdGhpcy5fdXBkYXRlZFBhaW50UHJvcHMuY2xlYXIoKSx0aGlzLl91cGRhdGVkSW1hZ2VzLmNsZWFyKCk7fX1jb25zdCBNYT17SW50ODpJbnQ4QXJyYXksVWludDg6VWludDhBcnJheSxJbnQxNjpJbnQxNkFycmF5LFVpbnQxNjpVaW50MTZBcnJheSxJbnQzMjpJbnQzMkFycmF5LFVpbnQzMjpVaW50MzJBcnJheSxGbG9hdDMyOkZsb2F0MzJBcnJheX07Y2xhc3MgQWF7Y29uc3RydWN0b3IoZSx0KXt0aGlzLl9zdHJ1Y3RBcnJheT1lLHRoaXMuX3BvczE9dCp0aGlzLnNpemUsdGhpcy5fcG9zMj10aGlzLl9wb3MxLzIsdGhpcy5fcG9zND10aGlzLl9wb3MxLzQsdGhpcy5fcG9zOD10aGlzLl9wb3MxLzg7fX1jbGFzcyBTYXtjb25zdHJ1Y3Rvcigpe3RoaXMuaXNUcmFuc2ZlcnJlZD0hMSx0aGlzLmNhcGFjaXR5PS0xLHRoaXMucmVzaXplKDApO31zdGF0aWMgc2VyaWFsaXplKGUsdCl7cmV0dXJuIGUuX3RyaW0oKSx0JiYoZS5pc1RyYW5zZmVycmVkPSEwLHQuYWRkKGUuYXJyYXlCdWZmZXIpKSx7bGVuZ3RoOmUubGVuZ3RoLGFycmF5QnVmZmVyOmUuYXJyYXlCdWZmZXJ9fXN0YXRpYyBkZXNlcmlhbGl6ZShlKXtjb25zdCB0PU9iamVjdC5jcmVhdGUodGhpcy5wcm90b3R5cGUpO3JldHVybiB0LmFycmF5QnVmZmVyPWUuYXJyYXlCdWZmZXIsdC5sZW5ndGg9ZS5sZW5ndGgsdC5jYXBhY2l0eT1lLmFycmF5QnVmZmVyLmJ5dGVMZW5ndGgvdC5ieXRlc1BlckVsZW1lbnQsdC5fcmVmcmVzaFZpZXdzKCksdH1fdHJpbSgpe3RoaXMubGVuZ3RoIT09dGhpcy5jYXBhY2l0eSYmKHRoaXMuY2FwYWNpdHk9dGhpcy5sZW5ndGgsdGhpcy5hcnJheUJ1ZmZlcj10aGlzLmFycmF5QnVmZmVyLnNsaWNlKDAsdGhpcy5sZW5ndGgqdGhpcy5ieXRlc1BlckVsZW1lbnQpLHRoaXMuX3JlZnJlc2hWaWV3cygpKTt9Y2xlYXIoKXt0aGlzLmxlbmd0aD0wO31yZXNpemUoZSl7dGhpcy5yZXNlcnZlKGUpLHRoaXMubGVuZ3RoPWU7fXJlc2VydmUoZSl7aWYoZT50aGlzLmNhcGFjaXR5KXt0aGlzLmNhcGFjaXR5PU1hdGgubWF4KGUsTWF0aC5mbG9vcig1KnRoaXMuY2FwYWNpdHkpLDEyOCksdGhpcy5hcnJheUJ1ZmZlcj1uZXcgQXJyYXlCdWZmZXIodGhpcy5jYXBhY2l0eSp0aGlzLmJ5dGVzUGVyRWxlbWVudCk7Y29uc3QgdD10aGlzLnVpbnQ4O3RoaXMuX3JlZnJlc2hWaWV3cygpLHQmJnRoaXMudWludDguc2V0KHQpO319X3JlZnJlc2hWaWV3cygpe3Rocm93IG5ldyBFcnJvcihcIl9yZWZyZXNoVmlld3MoKSBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggY29uY3JldGUgU3RydWN0QXJyYXkgbGF5b3V0XCIpfWRlc3Ryb3koKXt0aGlzLmludDg9dGhpcy51aW50OD10aGlzLmludDE2PXRoaXMudWludDE2PXRoaXMuaW50MzI9dGhpcy51aW50MzI9dGhpcy5mbG9hdDMyPW51bGwsdGhpcy5hcnJheUJ1ZmZlcj1udWxsO319ZnVuY3Rpb24gSWEoZSx0PTEpe2xldCBpPTAscj0wO3JldHVybiB7bWVtYmVyczplLm1hcCgoZT0+e2NvbnN0IG49TWFbZS50eXBlXS5CWVRFU19QRVJfRUxFTUVOVCxvPWk9Q2EoaSxNYXRoLm1heCh0LG4pKSxzPWUuY29tcG9uZW50c3x8MTtyZXR1cm4gcj1NYXRoLm1heChyLG4pLGkrPW4qcyx7bmFtZTplLm5hbWUsdHlwZTplLnR5cGUsY29tcG9uZW50czpzLG9mZnNldDpvfX0pKSxzaXplOkNhKGksTWF0aC5tYXgocix0KSksYWxpZ25tZW50OnR9fWZ1bmN0aW9uIENhKGUsdCl7cmV0dXJuIE1hdGguY2VpbChlL3QpKnR9Y2xhc3MgemEgZXh0ZW5kcyBTYXtfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayhlLHQpe2NvbnN0IGk9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGkrMSksdGhpcy5lbXBsYWNlKGksZSx0KX1lbXBsYWNlKGUsdCxpKXtjb25zdCByPTIqZTtyZXR1cm4gdGhpcy5pbnQxNltyKzBdPXQsdGhpcy5pbnQxNltyKzFdPWksZX19emEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD00LFJzKHphLFwiU3RydWN0QXJyYXlMYXlvdXQyaTRcIik7Y2xhc3MgUGEgZXh0ZW5kcyBTYXtfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayhlLHQsaSl7Y29uc3Qgcj10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUocisxKSx0aGlzLmVtcGxhY2UocixlLHQsaSl9ZW1wbGFjZShlLHQsaSxyKXtjb25zdCBuPTMqZTtyZXR1cm4gdGhpcy5pbnQxNltuKzBdPXQsdGhpcy5pbnQxNltuKzFdPWksdGhpcy5pbnQxNltuKzJdPXIsZX19UGEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD02LFJzKFBhLFwiU3RydWN0QXJyYXlMYXlvdXQzaTZcIik7Y2xhc3MgRGEgZXh0ZW5kcyBTYXtfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayhlLHQsaSxyKXtjb25zdCBuPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShuKzEpLHRoaXMuZW1wbGFjZShuLGUsdCxpLHIpfWVtcGxhY2UoZSx0LGkscixuKXtjb25zdCBvPTQqZTtyZXR1cm4gdGhpcy5pbnQxNltvKzBdPXQsdGhpcy5pbnQxNltvKzFdPWksdGhpcy5pbnQxNltvKzJdPXIsdGhpcy5pbnQxNltvKzNdPW4sZX19RGEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD04LFJzKERhLFwiU3RydWN0QXJyYXlMYXlvdXQ0aThcIik7Y2xhc3MgUmEgZXh0ZW5kcyBTYXtfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayhlLHQsaSxyLG4pe2NvbnN0IG89dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKG8rMSksdGhpcy5lbXBsYWNlKG8sZSx0LGkscixuKX1lbXBsYWNlKGUsdCxpLHIsbixvKXtjb25zdCBzPTUqZTtyZXR1cm4gdGhpcy5pbnQxNltzKzBdPXQsdGhpcy5pbnQxNltzKzFdPWksdGhpcy5pbnQxNltzKzJdPXIsdGhpcy5pbnQxNltzKzNdPW4sdGhpcy5pbnQxNltzKzRdPW8sZX19UmEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xMCxScyhSYSxcIlN0cnVjdEFycmF5TGF5b3V0NWkxMFwiKTtjbGFzcyBMYSBleHRlbmRzIFNhe19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKGUsdCxpLHIsbixvLHMpe2NvbnN0IGE9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGErMSksdGhpcy5lbXBsYWNlKGEsZSx0LGkscixuLG8scyl9ZW1wbGFjZShlLHQsaSxyLG4sbyxzLGEpe2NvbnN0IGw9NiplLGM9MTIqZSxoPTMqZTtyZXR1cm4gdGhpcy5pbnQxNltsKzBdPXQsdGhpcy5pbnQxNltsKzFdPWksdGhpcy51aW50OFtjKzRdPXIsdGhpcy51aW50OFtjKzVdPW4sdGhpcy51aW50OFtjKzZdPW8sdGhpcy51aW50OFtjKzddPXMsdGhpcy5mbG9hdDMyW2grMl09YSxlfX1MYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTEyLFJzKExhLFwiU3RydWN0QXJyYXlMYXlvdXQyaTR1YjFmMTJcIik7Y2xhc3Mga2EgZXh0ZW5kcyBTYXtfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2soZSx0LGkscil7Y29uc3Qgbj10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUobisxKSx0aGlzLmVtcGxhY2UobixlLHQsaSxyKX1lbXBsYWNlKGUsdCxpLHIsbil7Y29uc3Qgbz00KmU7cmV0dXJuIHRoaXMuZmxvYXQzMltvKzBdPXQsdGhpcy5mbG9hdDMyW28rMV09aSx0aGlzLmZsb2F0MzJbbysyXT1yLHRoaXMuZmxvYXQzMltvKzNdPW4sZX19a2EucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xNixScyhrYSxcIlN0cnVjdEFycmF5TGF5b3V0NGYxNlwiKTtjbGFzcyBPYSBleHRlbmRzIFNhe19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2soZSx0LGkscixuKXtjb25zdCBvPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShvKzEpLHRoaXMuZW1wbGFjZShvLGUsdCxpLHIsbil9ZW1wbGFjZShlLHQsaSxyLG4sbyl7Y29uc3Qgcz02KmUsYT0zKmU7cmV0dXJuIHRoaXMudWludDE2W3MrMF09dCx0aGlzLnVpbnQxNltzKzFdPWksdGhpcy51aW50MTZbcysyXT1yLHRoaXMudWludDE2W3MrM109bix0aGlzLmZsb2F0MzJbYSsyXT1vLGV9fU9hLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTIsUnMoT2EsXCJTdHJ1Y3RBcnJheUxheW91dDR1aTFmMTJcIik7Y2xhc3MgQmEgZXh0ZW5kcyBTYXtfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKGUsdCxpLHIpe2NvbnN0IG49dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKG4rMSksdGhpcy5lbXBsYWNlKG4sZSx0LGkscil9ZW1wbGFjZShlLHQsaSxyLG4pe2NvbnN0IG89NCplO3JldHVybiB0aGlzLnVpbnQxNltvKzBdPXQsdGhpcy51aW50MTZbbysxXT1pLHRoaXMudWludDE2W28rMl09cix0aGlzLnVpbnQxNltvKzNdPW4sZX19QmEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD04LFJzKEJhLFwiU3RydWN0QXJyYXlMYXlvdXQ0dWk4XCIpO2NsYXNzIEZhIGV4dGVuZHMgU2F7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2soZSx0LGkscixuLG8pe2NvbnN0IHM9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKHMrMSksdGhpcy5lbXBsYWNlKHMsZSx0LGkscixuLG8pfWVtcGxhY2UoZSx0LGkscixuLG8scyl7Y29uc3QgYT02KmU7cmV0dXJuIHRoaXMuaW50MTZbYSswXT10LHRoaXMuaW50MTZbYSsxXT1pLHRoaXMuaW50MTZbYSsyXT1yLHRoaXMuaW50MTZbYSszXT1uLHRoaXMuaW50MTZbYSs0XT1vLHRoaXMuaW50MTZbYSs1XT1zLGV9fUZhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTIsUnMoRmEsXCJTdHJ1Y3RBcnJheUxheW91dDZpMTJcIik7Y2xhc3MgTmEgZXh0ZW5kcyBTYXtfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2soZSx0LGkscixuLG8scyxhLGwsYyxoLHUpe2NvbnN0IGQ9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGQrMSksdGhpcy5lbXBsYWNlKGQsZSx0LGkscixuLG8scyxhLGwsYyxoLHUpfWVtcGxhY2UoZSx0LGkscixuLG8scyxhLGwsYyxoLHUsZCl7Y29uc3QgcD0xMiplO3JldHVybiB0aGlzLmludDE2W3ArMF09dCx0aGlzLmludDE2W3ArMV09aSx0aGlzLmludDE2W3ArMl09cix0aGlzLmludDE2W3ArM109bix0aGlzLnVpbnQxNltwKzRdPW8sdGhpcy51aW50MTZbcCs1XT1zLHRoaXMudWludDE2W3ArNl09YSx0aGlzLnVpbnQxNltwKzddPWwsdGhpcy5pbnQxNltwKzhdPWMsdGhpcy5pbnQxNltwKzldPWgsdGhpcy5pbnQxNltwKzEwXT11LHRoaXMuaW50MTZbcCsxMV09ZCxlfX1OYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTI0LFJzKE5hLFwiU3RydWN0QXJyYXlMYXlvdXQ0aTR1aTRpMjRcIik7Y2xhc3MgVWEgZXh0ZW5kcyBTYXtfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayhlLHQsaSxyLG4sbyl7Y29uc3Qgcz10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUocysxKSx0aGlzLmVtcGxhY2UocyxlLHQsaSxyLG4sbyl9ZW1wbGFjZShlLHQsaSxyLG4sbyxzKXtjb25zdCBhPTEwKmUsbD01KmU7cmV0dXJuIHRoaXMuaW50MTZbYSswXT10LHRoaXMuaW50MTZbYSsxXT1pLHRoaXMuaW50MTZbYSsyXT1yLHRoaXMuZmxvYXQzMltsKzJdPW4sdGhpcy5mbG9hdDMyW2wrM109byx0aGlzLmZsb2F0MzJbbCs0XT1zLGV9fVVhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MjAsUnMoVWEsXCJTdHJ1Y3RBcnJheUxheW91dDNpM2YyMFwiKTtjbGFzcyBWYSBleHRlbmRzIFNhe19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDMyPW5ldyBVaW50MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2soZSl7Y29uc3QgdD10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUodCsxKSx0aGlzLmVtcGxhY2UodCxlKX1lbXBsYWNlKGUsdCl7cmV0dXJuIHRoaXMudWludDMyWzEqZSswXT10LGV9fVZhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NCxScyhWYSxcIlN0cnVjdEFycmF5TGF5b3V0MXVsNFwiKTtjbGFzcyBqYSBleHRlbmRzIFNhe19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2soZSx0KXtjb25zdCBpPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShpKzEpLHRoaXMuZW1wbGFjZShpLGUsdCl9ZW1wbGFjZShlLHQsaSl7Y29uc3Qgcj0yKmU7cmV0dXJuIHRoaXMudWludDE2W3IrMF09dCx0aGlzLnVpbnQxNltyKzFdPWksZX19amEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD00LFJzKGphLFwiU3RydWN0QXJyYXlMYXlvdXQydWk0XCIpO2NsYXNzIEdhIGV4dGVuZHMgU2F7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQzMj1uZXcgVWludDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayhlLHQsaSxyLG4sbyxzLGEsbCxjLGgsdSxkKXtjb25zdCBwPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShwKzEpLHRoaXMuZW1wbGFjZShwLGUsdCxpLHIsbixvLHMsYSxsLGMsaCx1LGQpfWVtcGxhY2UoZSx0LGkscixuLG8scyxhLGwsYyxoLHUsZCxwKXtjb25zdCBmPTIwKmUsbT0xMCplO3JldHVybiB0aGlzLmludDE2W2YrMF09dCx0aGlzLmludDE2W2YrMV09aSx0aGlzLmludDE2W2YrMl09cix0aGlzLmludDE2W2YrM109bix0aGlzLmludDE2W2YrNF09byx0aGlzLmZsb2F0MzJbbSszXT1zLHRoaXMuZmxvYXQzMlttKzRdPWEsdGhpcy5mbG9hdDMyW20rNV09bCx0aGlzLmZsb2F0MzJbbSs2XT1jLHRoaXMuaW50MTZbZisxNF09aCx0aGlzLnVpbnQzMlttKzhdPXUsdGhpcy51aW50MTZbZisxOF09ZCx0aGlzLnVpbnQxNltmKzE5XT1wLGV9fUdhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NDAsUnMoR2EsXCJTdHJ1Y3RBcnJheUxheW91dDVpNGYxaTF1bDJ1aTQwXCIpO2NsYXNzIHFhIGV4dGVuZHMgU2F7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2soZSx0LGkscixuLG8scyl7Y29uc3QgYT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoYSsxKSx0aGlzLmVtcGxhY2UoYSxlLHQsaSxyLG4sbyxzKX1lbXBsYWNlKGUsdCxpLHIsbixvLHMsYSl7Y29uc3QgbD04KmU7cmV0dXJuIHRoaXMuaW50MTZbbCswXT10LHRoaXMuaW50MTZbbCsxXT1pLHRoaXMuaW50MTZbbCsyXT1yLHRoaXMuaW50MTZbbCs0XT1uLHRoaXMuaW50MTZbbCs1XT1vLHRoaXMuaW50MTZbbCs2XT1zLHRoaXMuaW50MTZbbCs3XT1hLGV9fXFhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTYsUnMocWEsXCJTdHJ1Y3RBcnJheUxheW91dDNpMmkyaTE2XCIpO2NsYXNzIFphIGV4dGVuZHMgU2F7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2soZSx0LGkscixuKXtjb25zdCBvPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShvKzEpLHRoaXMuZW1wbGFjZShvLGUsdCxpLHIsbil9ZW1wbGFjZShlLHQsaSxyLG4sbyl7Y29uc3Qgcz00KmUsYT04KmU7cmV0dXJuIHRoaXMuZmxvYXQzMltzKzBdPXQsdGhpcy5mbG9hdDMyW3MrMV09aSx0aGlzLmZsb2F0MzJbcysyXT1yLHRoaXMuaW50MTZbYSs2XT1uLHRoaXMuaW50MTZbYSs3XT1vLGV9fVphLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTYsUnMoWmEsXCJTdHJ1Y3RBcnJheUxheW91dDJmMWYyaTE2XCIpO2NsYXNzICRhIGV4dGVuZHMgU2F7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKGUsdCxpLHIpe2NvbnN0IG49dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKG4rMSksdGhpcy5lbXBsYWNlKG4sZSx0LGkscil9ZW1wbGFjZShlLHQsaSxyLG4pe2NvbnN0IG89MTIqZSxzPTMqZTtyZXR1cm4gdGhpcy51aW50OFtvKzBdPXQsdGhpcy51aW50OFtvKzFdPWksdGhpcy5mbG9hdDMyW3MrMV09cix0aGlzLmZsb2F0MzJbcysyXT1uLGV9fSRhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTIsUnMoJGEsXCJTdHJ1Y3RBcnJheUxheW91dDJ1YjJmMTJcIik7Y2xhc3MgV2EgZXh0ZW5kcyBTYXtfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKGUsdCxpKXtjb25zdCByPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShyKzEpLHRoaXMuZW1wbGFjZShyLGUsdCxpKX1lbXBsYWNlKGUsdCxpLHIpe2NvbnN0IG49MyplO3JldHVybiB0aGlzLnVpbnQxNltuKzBdPXQsdGhpcy51aW50MTZbbisxXT1pLHRoaXMudWludDE2W24rMl09cixlfX1XYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTYsUnMoV2EsXCJTdHJ1Y3RBcnJheUxheW91dDN1aTZcIik7Y2xhc3MgSGEgZXh0ZW5kcyBTYXtfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQzMj1uZXcgVWludDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKGUsdCxpLHIsbixvLHMsYSxsLGMsaCx1LGQscCxmLG0sXyxnLHkseCx2KXtjb25zdCBiPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShiKzEpLHRoaXMuZW1wbGFjZShiLGUsdCxpLHIsbixvLHMsYSxsLGMsaCx1LGQscCxmLG0sXyxnLHkseCx2KX1lbXBsYWNlKGUsdCxpLHIsbixvLHMsYSxsLGMsaCx1LGQscCxmLG0sXyxnLHkseCx2LGIpe2NvbnN0IHc9MzAqZSxUPTE1KmUsRT02MCplO3JldHVybiB0aGlzLmludDE2W3crMF09dCx0aGlzLmludDE2W3crMV09aSx0aGlzLmludDE2W3crMl09cix0aGlzLmZsb2F0MzJbVCsyXT1uLHRoaXMuZmxvYXQzMltUKzNdPW8sdGhpcy51aW50MTZbdys4XT1zLHRoaXMudWludDE2W3crOV09YSx0aGlzLnVpbnQzMltUKzVdPWwsdGhpcy51aW50MzJbVCs2XT1jLHRoaXMudWludDMyW1QrN109aCx0aGlzLnVpbnQxNlt3KzE2XT11LHRoaXMudWludDE2W3crMTddPWQsdGhpcy51aW50MTZbdysxOF09cCx0aGlzLmZsb2F0MzJbVCsxMF09Zix0aGlzLmZsb2F0MzJbVCsxMV09bSx0aGlzLnVpbnQ4W0UrNDhdPV8sdGhpcy51aW50OFtFKzQ5XT1nLHRoaXMudWludDhbRSs1MF09eSx0aGlzLnVpbnQzMltUKzEzXT14LHRoaXMuaW50MTZbdysyOF09dix0aGlzLnVpbnQ4W0UrNThdPWIsZX19SGEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD02MCxScyhIYSxcIlN0cnVjdEFycmF5TGF5b3V0M2kyZjJ1aTN1bDN1aTJmM3ViMXVsMWkxdWI2MFwiKTtjbGFzcyBYYSBleHRlbmRzIFNhe19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDMyPW5ldyBVaW50MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2soZSx0LGkscixuLG8scyxhLGwsYyxoLHUsZCxwLGYsbSxfLGcseSx4LHYsYix3LFQsRSxNLEEsUyxJLEMseixQKXtjb25zdCBEPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShEKzEpLHRoaXMuZW1wbGFjZShELGUsdCxpLHIsbixvLHMsYSxsLGMsaCx1LGQscCxmLG0sXyxnLHkseCx2LGIsdyxULEUsTSxBLFMsSSxDLHosUCl9ZW1wbGFjZShlLHQsaSxyLG4sbyxzLGEsbCxjLGgsdSxkLHAsZixtLF8sZyx5LHgsdixiLHcsVCxFLE0sQSxTLEksQyx6LFAsRCl7Y29uc3QgUj0yMCplLEw9NDAqZSxrPTgwKmU7cmV0dXJuIHRoaXMuZmxvYXQzMltSKzBdPXQsdGhpcy5mbG9hdDMyW1IrMV09aSx0aGlzLmludDE2W0wrNF09cix0aGlzLmludDE2W0wrNV09bix0aGlzLmludDE2W0wrNl09byx0aGlzLmludDE2W0wrN109cyx0aGlzLmludDE2W0wrOF09YSx0aGlzLmludDE2W0wrOV09bCx0aGlzLmludDE2W0wrMTBdPWMsdGhpcy5pbnQxNltMKzExXT1oLHRoaXMuaW50MTZbTCsxMl09dSx0aGlzLnVpbnQxNltMKzEzXT1kLHRoaXMudWludDE2W0wrMTRdPXAsdGhpcy51aW50MTZbTCsxNV09Zix0aGlzLnVpbnQxNltMKzE2XT1tLHRoaXMudWludDE2W0wrMTddPV8sdGhpcy51aW50MTZbTCsxOF09Zyx0aGlzLnVpbnQxNltMKzE5XT15LHRoaXMudWludDE2W0wrMjBdPXgsdGhpcy51aW50MTZbTCsyMV09dix0aGlzLnVpbnQxNltMKzIyXT1iLHRoaXMudWludDE2W0wrMjNdPXcsdGhpcy51aW50MTZbTCsyNF09VCx0aGlzLnVpbnQxNltMKzI1XT1FLHRoaXMudWludDE2W0wrMjZdPU0sdGhpcy51aW50MTZbTCsyN109QSx0aGlzLnVpbnQzMltSKzE0XT1TLHRoaXMuZmxvYXQzMltSKzE1XT1JLHRoaXMuZmxvYXQzMltSKzE2XT1DLHRoaXMuZmxvYXQzMltSKzE3XT16LHRoaXMuZmxvYXQzMltSKzE4XT1QLHRoaXMudWludDhbays3Nl09RCxlfX1YYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTgwLFJzKFhhLFwiU3RydWN0QXJyYXlMYXlvdXQyZjlpMTV1aTF1bDRmMXViODBcIik7Y2xhc3MgWWEgZXh0ZW5kcyBTYXtfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2soZSl7Y29uc3QgdD10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUodCsxKSx0aGlzLmVtcGxhY2UodCxlKX1lbXBsYWNlKGUsdCl7cmV0dXJuIHRoaXMuZmxvYXQzMlsxKmUrMF09dCxlfX1ZYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTQsUnMoWWEsXCJTdHJ1Y3RBcnJheUxheW91dDFmNFwiKTtjbGFzcyBLYSBleHRlbmRzIFNhe19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayhlLHQsaSxyLG4pe2NvbnN0IG89dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKG8rMSksdGhpcy5lbXBsYWNlKG8sZSx0LGkscixuKX1lbXBsYWNlKGUsdCxpLHIsbixvKXtjb25zdCBzPTUqZTtyZXR1cm4gdGhpcy5mbG9hdDMyW3MrMF09dCx0aGlzLmZsb2F0MzJbcysxXT1pLHRoaXMuZmxvYXQzMltzKzJdPXIsdGhpcy5mbG9hdDMyW3MrM109bix0aGlzLmZsb2F0MzJbcys0XT1vLGV9fUthLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MjAsUnMoS2EsXCJTdHJ1Y3RBcnJheUxheW91dDVmMjBcIik7Y2xhc3MgSmEgZXh0ZW5kcyBTYXtfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2soZSx0LGkscixuLG8scyl7Y29uc3QgYT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoYSsxKSx0aGlzLmVtcGxhY2UoYSxlLHQsaSxyLG4sbyxzKX1lbXBsYWNlKGUsdCxpLHIsbixvLHMsYSl7Y29uc3QgbD03KmU7cmV0dXJuIHRoaXMuZmxvYXQzMltsKzBdPXQsdGhpcy5mbG9hdDMyW2wrMV09aSx0aGlzLmZsb2F0MzJbbCsyXT1yLHRoaXMuZmxvYXQzMltsKzNdPW4sdGhpcy5mbG9hdDMyW2wrNF09byx0aGlzLmZsb2F0MzJbbCs1XT1zLHRoaXMuZmxvYXQzMltsKzZdPWEsZX19SmEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0yOCxScyhKYSxcIlN0cnVjdEFycmF5TGF5b3V0N2YyOFwiKTtjbGFzcyBRYSBleHRlbmRzIFNhe19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDMyPW5ldyBVaW50MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKGUsdCxpLHIpe2NvbnN0IG49dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKG4rMSksdGhpcy5lbXBsYWNlKG4sZSx0LGkscil9ZW1wbGFjZShlLHQsaSxyLG4pe2NvbnN0IG89NiplO3JldHVybiB0aGlzLnVpbnQzMlszKmUrMF09dCx0aGlzLnVpbnQxNltvKzJdPWksdGhpcy51aW50MTZbbyszXT1yLHRoaXMudWludDE2W28rNF09bixlfX1RYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTEyLFJzKFFhLFwiU3RydWN0QXJyYXlMYXlvdXQxdWwzdWkxMlwiKTtjbGFzcyBlbCBleHRlbmRzIFNhe19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2soZSl7Y29uc3QgdD10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUodCsxKSx0aGlzLmVtcGxhY2UodCxlKX1lbXBsYWNlKGUsdCl7cmV0dXJuIHRoaXMudWludDE2WzEqZSswXT10LGV9fWVsLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MixScyhlbCxcIlN0cnVjdEFycmF5TGF5b3V0MXVpMlwiKTtjbGFzcyB0bCBleHRlbmRzIFNhe19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayhlLHQsaSl7Y29uc3Qgcj10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUocisxKSx0aGlzLmVtcGxhY2UocixlLHQsaSl9ZW1wbGFjZShlLHQsaSxyKXtjb25zdCBuPTMqZTtyZXR1cm4gdGhpcy5mbG9hdDMyW24rMF09dCx0aGlzLmZsb2F0MzJbbisxXT1pLHRoaXMuZmxvYXQzMltuKzJdPXIsZX19dGwucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xMixScyh0bCxcIlN0cnVjdEFycmF5TGF5b3V0M2YxMlwiKTtjbGFzcyBpbCBleHRlbmRzIFNhe19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayhlLHQpe2NvbnN0IGk9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGkrMSksdGhpcy5lbXBsYWNlKGksZSx0KX1lbXBsYWNlKGUsdCxpKXtjb25zdCByPTIqZTtyZXR1cm4gdGhpcy5mbG9hdDMyW3IrMF09dCx0aGlzLmZsb2F0MzJbcisxXT1pLGV9fWlsLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9OCxScyhpbCxcIlN0cnVjdEFycmF5TGF5b3V0MmY4XCIpO2NsYXNzIHJsIGV4dGVuZHMgU2F7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKGUsdCxpLHIsbixvLHMsYSxsLGMsaCx1LGQscCxmLG0pe2NvbnN0IF89dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKF8rMSksdGhpcy5lbXBsYWNlKF8sZSx0LGkscixuLG8scyxhLGwsYyxoLHUsZCxwLGYsbSl9ZW1wbGFjZShlLHQsaSxyLG4sbyxzLGEsbCxjLGgsdSxkLHAsZixtLF8pe2NvbnN0IGc9MTYqZTtyZXR1cm4gdGhpcy5mbG9hdDMyW2crMF09dCx0aGlzLmZsb2F0MzJbZysxXT1pLHRoaXMuZmxvYXQzMltnKzJdPXIsdGhpcy5mbG9hdDMyW2crM109bix0aGlzLmZsb2F0MzJbZys0XT1vLHRoaXMuZmxvYXQzMltnKzVdPXMsdGhpcy5mbG9hdDMyW2crNl09YSx0aGlzLmZsb2F0MzJbZys3XT1sLHRoaXMuZmxvYXQzMltnKzhdPWMsdGhpcy5mbG9hdDMyW2crOV09aCx0aGlzLmZsb2F0MzJbZysxMF09dSx0aGlzLmZsb2F0MzJbZysxMV09ZCx0aGlzLmZsb2F0MzJbZysxMl09cCx0aGlzLmZsb2F0MzJbZysxM109Zix0aGlzLmZsb2F0MzJbZysxNF09bSx0aGlzLmZsb2F0MzJbZysxNV09XyxlfX1ybC5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTY0LFJzKHJsLFwiU3RydWN0QXJyYXlMYXlvdXQxNmY2NFwiKTtjbGFzcyBubCBleHRlbmRzIFNhe19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2soZSx0LGkscixuLG8scyl7Y29uc3QgYT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoYSsxKSx0aGlzLmVtcGxhY2UoYSxlLHQsaSxyLG4sbyxzKX1lbXBsYWNlKGUsdCxpLHIsbixvLHMsYSl7Y29uc3QgbD0xMCplLGM9NSplO3JldHVybiB0aGlzLnVpbnQxNltsKzBdPXQsdGhpcy51aW50MTZbbCsxXT1pLHRoaXMudWludDE2W2wrMl09cix0aGlzLnVpbnQxNltsKzNdPW4sdGhpcy5mbG9hdDMyW2MrMl09byx0aGlzLmZsb2F0MzJbYyszXT1zLHRoaXMuZmxvYXQzMltjKzRdPWEsZX19bmwucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0yMCxScyhubCxcIlN0cnVjdEFycmF5TGF5b3V0NHVpM2YyMFwiKTtjbGFzcyBvbCBleHRlbmRzIFNhe19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayhlKXtjb25zdCB0PXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZSh0KzEpLHRoaXMuZW1wbGFjZSh0LGUpfWVtcGxhY2UoZSx0KXtyZXR1cm4gdGhpcy51aW50OFsxKmUrMF09dCxlfX1vbC5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTEsUnMob2wsXCJTdHJ1Y3RBcnJheUxheW91dDF1YjFcIik7Y2xhc3Mgc2wgZXh0ZW5kcyBBYXtnZXQgcHJvamVjdGVkQW5jaG9yWCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzBdfWdldCBwcm9qZWN0ZWRBbmNob3JZKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMV19Z2V0IHByb2plY3RlZEFuY2hvclooKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisyXX1nZXQgdGlsZUFuY2hvclgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMiszXX1nZXQgdGlsZUFuY2hvclkoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMis0XX1nZXQgeDEoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzNdfWdldCB5MSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrNF19Z2V0IHgyKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCs1XX1nZXQgeTIoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzZdfWdldCBwYWRkaW5nKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMTRdfWdldCBmZWF0dXJlSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrOF19Z2V0IHNvdXJjZUxheWVySW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMThdfWdldCBidWNrZXRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxOV19fXNsLnByb3RvdHlwZS5zaXplPTQwO2NsYXNzIGFsIGV4dGVuZHMgR2F7Z2V0KGUpe3JldHVybiBuZXcgc2wodGhpcyxlKX19UnMoYWwsXCJDb2xsaXNpb25Cb3hBcnJheVwiKTtjbGFzcyBsbCBleHRlbmRzIEFhe2dldCBwcm9qZWN0ZWRBbmNob3JYKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMF19Z2V0IHByb2plY3RlZEFuY2hvclkoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxXX1nZXQgcHJvamVjdGVkQW5jaG9yWigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzJdfWdldCB0aWxlQW5jaG9yWCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMl19Z2V0IHRpbGVBbmNob3JZKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCszXX1nZXQgZ2x5cGhTdGFydEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzhdfWdldCBudW1HbHlwaHMoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrOV19Z2V0IHZlcnRleFN0YXJ0SW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrNV19Z2V0IGxpbmVTdGFydEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzZdfWdldCBsaW5lTGVuZ3RoKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzddfWdldCBzZWdtZW50KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE2XX1nZXQgbG93ZXJTaXplKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE3XX1nZXQgdXBwZXJTaXplKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE4XX1nZXQgbGluZU9mZnNldFgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzEwXX1nZXQgbGluZU9mZnNldFkoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzExXX1nZXQgd3JpdGluZ01vZGUoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDhbdGhpcy5fcG9zMSs0OF19Z2V0IHBsYWNlZE9yaWVudGF0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQ4W3RoaXMuX3BvczErNDldfXNldCBwbGFjZWRPcmllbnRhdGlvbihlKXt0aGlzLl9zdHJ1Y3RBcnJheS51aW50OFt0aGlzLl9wb3MxKzQ5XT1lO31nZXQgaGlkZGVuKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQ4W3RoaXMuX3BvczErNTBdfXNldCBoaWRkZW4oZSl7dGhpcy5fc3RydWN0QXJyYXkudWludDhbdGhpcy5fcG9zMSs1MF09ZTt9Z2V0IGNyb3NzVGlsZUlEKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzEzXX1zZXQgY3Jvc3NUaWxlSUQoZSl7dGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrMTNdPWU7fWdldCBhc3NvY2lhdGVkSWNvbkluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMjhdfWdldCBmbGlwU3RhdGUoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDhbdGhpcy5fcG9zMSs1OF19c2V0IGZsaXBTdGF0ZShlKXt0aGlzLl9zdHJ1Y3RBcnJheS51aW50OFt0aGlzLl9wb3MxKzU4XT1lO319bGwucHJvdG90eXBlLnNpemU9NjA7Y2xhc3MgY2wgZXh0ZW5kcyBIYXtnZXQoZSl7cmV0dXJuIG5ldyBsbCh0aGlzLGUpfX1ScyhjbCxcIlBsYWNlZFN5bWJvbEFycmF5XCIpO2NsYXNzIGhsIGV4dGVuZHMgQWF7Z2V0IHRpbGVBbmNob3JYKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCswXX1nZXQgdGlsZUFuY2hvclkoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzFdfWdldCBwcm9qZWN0ZWRBbmNob3JYKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrNF19Z2V0IHByb2plY3RlZEFuY2hvclkoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMis1XX1nZXQgcHJvamVjdGVkQW5jaG9yWigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzZdfWdldCByaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzddfWdldCBjZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMis4XX1nZXQgbGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzldfWdldCB2ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzEwXX1nZXQgcGxhY2VkSWNvblN5bWJvbEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMTFdfWdldCB2ZXJ0aWNhbFBsYWNlZEljb25TeW1ib2xJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzEyXX1nZXQga2V5KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzEzXX1nZXQgdGV4dEJveFN0YXJ0SW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMTRdfWdldCB0ZXh0Qm94RW5kSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMTVdfWdldCB2ZXJ0aWNhbFRleHRCb3hTdGFydEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE2XX1nZXQgdmVydGljYWxUZXh0Qm94RW5kSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMTddfWdldCBpY29uQm94U3RhcnRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxOF19Z2V0IGljb25Cb3hFbmRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxOV19Z2V0IHZlcnRpY2FsSWNvbkJveFN0YXJ0SW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMjBdfWdldCB2ZXJ0aWNhbEljb25Cb3hFbmRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisyMV19Z2V0IGZlYXR1cmVJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisyMl19Z2V0IG51bUhvcml6b250YWxHbHlwaFZlcnRpY2VzKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzIzXX1nZXQgbnVtVmVydGljYWxHbHlwaFZlcnRpY2VzKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzI0XX1nZXQgbnVtSWNvblZlcnRpY2VzKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzI1XX1nZXQgbnVtVmVydGljYWxJY29uVmVydGljZXMoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMjZdfWdldCB1c2VSdW50aW1lQ29sbGlzaW9uQ2lyY2xlcygpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisyN119Z2V0IGNyb3NzVGlsZUlEKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzE0XX1zZXQgY3Jvc3NUaWxlSUQoZSl7dGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrMTRdPWU7fWdldCB0ZXh0T2Zmc2V0MCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMTVdfWdldCB0ZXh0T2Zmc2V0MSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMTZdfWdldCBjb2xsaXNpb25DaXJjbGVEaWFtZXRlcigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMTddfWdldCB6T2Zmc2V0KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCsxOF19c2V0IHpPZmZzZXQoZSl7dGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzE4XT1lO31nZXQgaGFzSWNvblRleHRGaXQoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDhbdGhpcy5fcG9zMSs3Nl19fWhsLnByb3RvdHlwZS5zaXplPTgwO2NsYXNzIHVsIGV4dGVuZHMgWGF7Z2V0KGUpe3JldHVybiBuZXcgaGwodGhpcyxlKX19UnModWwsXCJTeW1ib2xJbnN0YW5jZUFycmF5XCIpO2NsYXNzIGRsIGV4dGVuZHMgWWF7Z2V0b2Zmc2V0WChlKXtyZXR1cm4gdGhpcy5mbG9hdDMyWzEqZSswXX19UnMoZGwsXCJHbHlwaE9mZnNldEFycmF5XCIpO2NsYXNzIHBsIGV4dGVuZHMgemF7Z2V0eChlKXtyZXR1cm4gdGhpcy5pbnQxNlsyKmUrMF19Z2V0eShlKXtyZXR1cm4gdGhpcy5pbnQxNlsyKmUrMV19fVJzKHBsLFwiU3ltYm9sTGluZVZlcnRleEFycmF5XCIpO2NsYXNzIGZsIGV4dGVuZHMgQWF7Z2V0IGZlYXR1cmVJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCswXX1nZXQgc291cmNlTGF5ZXJJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisyXX1nZXQgYnVja2V0SW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrM119Z2V0IGxheW91dFZlcnRleEFycmF5T2Zmc2V0KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzRdfX1mbC5wcm90b3R5cGUuc2l6ZT0xMjtjbGFzcyBtbCBleHRlbmRzIFFhe2dldChlKXtyZXR1cm4gbmV3IGZsKHRoaXMsZSl9fVJzKG1sLFwiRmVhdHVyZUluZGV4QXJyYXlcIik7Y2xhc3MgX2wgZXh0ZW5kcyBqYXtnZXRhX2NlbnRyb2lkX3BvczAoZSl7cmV0dXJuIHRoaXMudWludDE2WzIqZSswXX1nZXRhX2NlbnRyb2lkX3BvczEoZSl7cmV0dXJuIHRoaXMudWludDE2WzIqZSsxXX19UnMoX2wsXCJGaWxsRXh0cnVzaW9uQ2VudHJvaWRBcnJheVwiKTtjb25zdCBnbD1JYShbe25hbWU6XCJhX3Bvc1wiLGNvbXBvbmVudHM6Mix0eXBlOlwiSW50MTZcIn1dLDQpLHlsPUlhKFt7bmFtZTpcImFfcG9zXzNcIixjb21wb25lbnRzOjMsdHlwZTpcIkludDE2XCJ9LHtuYW1lOlwiYV9wb3Nfbm9ybWFsXzNcIixjb21wb25lbnRzOjMsdHlwZTpcIkludDE2XCJ9XSk7Y2xhc3MgeGx7Y29uc3RydWN0b3IoZT1bXSl7dGhpcy5zZWdtZW50cz1lO31fcHJlcGFyZVNlZ21lbnQoZSx0LGkscil7bGV0IG49dGhpcy5zZWdtZW50c1t0aGlzLnNlZ21lbnRzLmxlbmd0aC0xXTtyZXR1cm4gZT54bC5NQVhfVkVSVEVYX0FSUkFZX0xFTkdUSCYmSChgTWF4IHZlcnRpY2VzIHBlciBzZWdtZW50IGlzICR7eGwuTUFYX1ZFUlRFWF9BUlJBWV9MRU5HVEh9OiBidWNrZXQgcmVxdWVzdGVkICR7ZX1gKSwoIW58fG4udmVydGV4TGVuZ3RoK2U+eGwuTUFYX1ZFUlRFWF9BUlJBWV9MRU5HVEh8fG4uc29ydEtleSE9PXIpJiYobj17dmVydGV4T2Zmc2V0OnQscHJpbWl0aXZlT2Zmc2V0OmksdmVydGV4TGVuZ3RoOjAscHJpbWl0aXZlTGVuZ3RoOjB9LHZvaWQgMCE9PXImJihuLnNvcnRLZXk9ciksdGhpcy5zZWdtZW50cy5wdXNoKG4pKSxufXByZXBhcmVTZWdtZW50KGUsdCxpLHIpe3JldHVybiB0aGlzLl9wcmVwYXJlU2VnbWVudChlLHQubGVuZ3RoLGkubGVuZ3RoLHIpfWdldCgpe3JldHVybiB0aGlzLnNlZ21lbnRzfWRlc3Ryb3koKXtmb3IoY29uc3QgZSBvZiB0aGlzLnNlZ21lbnRzKWZvcihjb25zdCB0IGluIGUudmFvcyllLnZhb3NbdF0uZGVzdHJveSgpO31zdGF0aWMgc2ltcGxlU2VnbWVudChlLHQsaSxyKXtyZXR1cm4gbmV3IHhsKFt7dmVydGV4T2Zmc2V0OmUscHJpbWl0aXZlT2Zmc2V0OnQsdmVydGV4TGVuZ3RoOmkscHJpbWl0aXZlTGVuZ3RoOnIsdmFvczp7fSxzb3J0S2V5OjB9XSl9fWZ1bmN0aW9uIHZsKGUsdCl7cmV0dXJuIDI1NiooZT16KE1hdGguZmxvb3IoZSksMCwyNTUpKSt6KE1hdGguZmxvb3IodCksMCwyNTUpfXhsLk1BWF9WRVJURVhfQVJSQVlfTEVOR1RIPU1hdGgucG93KDIsMTYpLTEsUnMoeGwsXCJTZWdtZW50VmVjdG9yXCIpO2NvbnN0IGJsPUlhKFt7bmFtZTpcImFfcGF0dGVyblwiLGNvbXBvbmVudHM6NCx0eXBlOlwiVWludDE2XCJ9LHtuYW1lOlwiYV9waXhlbF9yYXRpb1wiLGNvbXBvbmVudHM6MSx0eXBlOlwiRmxvYXQzMlwifV0pLHdsPUlhKFt7bmFtZTpcImFfZGFzaFwiLGNvbXBvbmVudHM6NCx0eXBlOlwiVWludDE2XCJ9XSk7dmFyIFRsPXtleHBvcnRzOnt9fSxFbD17ZXhwb3J0czp7fX07IWZ1bmN0aW9uKGUpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciBpLHIsbixvLHMsYSxsLGM7Zm9yKHI9ZS5sZW5ndGgtKGk9MyZlLmxlbmd0aCksbj10LHM9MzQzMjkxODM1MyxhPTQ2MTg0NTkwNyxjPTA7YzxyOylsPTI1NSZlLmNoYXJDb2RlQXQoYyl8KDI1NSZlLmNoYXJDb2RlQXQoKytjKSk8PDh8KDI1NSZlLmNoYXJDb2RlQXQoKytjKSk8PDE2fCgyNTUmZS5jaGFyQ29kZUF0KCsrYykpPDwyNCwrK2Msbj0yNzQ5MisoNjU1MzUmKG89NSooNjU1MzUmKG49KG5ePWw9KDY1NTM1JihsPShsPSg2NTUzNSZsKSpzKygoKGw+Pj4xNikqcyY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1KTw8MTV8bD4+PjE3KSkqYSsoKChsPj4+MTYpKmEmNjU1MzUpPDwxNikmNDI5NDk2NzI5NSk8PDEzfG4+Pj4xOSkpKygoNSoobj4+PjE2KSY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1KSkrKCg1ODk2NCsobz4+PjE2KSY2NTUzNSk8PDE2KTtzd2l0Y2gobD0wLGkpe2Nhc2UgMzpsXj0oMjU1JmUuY2hhckNvZGVBdChjKzIpKTw8MTY7Y2FzZSAyOmxePSgyNTUmZS5jaGFyQ29kZUF0KGMrMSkpPDw4O2Nhc2UgMTpuXj1sPSg2NTUzNSYobD0obD0oNjU1MzUmKGxePTI1NSZlLmNoYXJDb2RlQXQoYykpKSpzKygoKGw+Pj4xNikqcyY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1KTw8MTV8bD4+PjE3KSkqYSsoKChsPj4+MTYpKmEmNjU1MzUpPDwxNikmNDI5NDk2NzI5NTt9cmV0dXJuIG5ePWUubGVuZ3RoLG49MjI0NjgyMjUwNyooNjU1MzUmKG5ePW4+Pj4xNikpKygoMjI0NjgyMjUwNyoobj4+PjE2KSY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1LG49MzI2NjQ4OTkwOSooNjU1MzUmKG5ePW4+Pj4xMykpKygoMzI2NjQ4OTkwOSoobj4+PjE2KSY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1LChuXj1uPj4+MTYpPj4+MH07fShFbCk7dmFyIE1sPUVsLmV4cG9ydHMsQWw9e2V4cG9ydHM6e319OyFmdW5jdGlvbihlKXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGkscj1lLmxlbmd0aCxuPXRecixvPTA7cj49NDspaT0xNTQwNDgzNDc3Kig2NTUzNSYoaT0yNTUmZS5jaGFyQ29kZUF0KG8pfCgyNTUmZS5jaGFyQ29kZUF0KCsrbykpPDw4fCgyNTUmZS5jaGFyQ29kZUF0KCsrbykpPDwxNnwoMjU1JmUuY2hhckNvZGVBdCgrK28pKTw8MjQpKSsoKDE1NDA0ODM0NzcqKGk+Pj4xNikmNjU1MzUpPDwxNiksbj0xNTQwNDgzNDc3Kig2NTUzNSZuKSsoKDE1NDA0ODM0NzcqKG4+Pj4xNikmNjU1MzUpPDwxNileKGk9MTU0MDQ4MzQ3NyooNjU1MzUmKGlePWk+Pj4yNCkpKygoMTU0MDQ4MzQ3NyooaT4+PjE2KSY2NTUzNSk8PDE2KSksci09NCwrK287c3dpdGNoKHIpe2Nhc2UgMzpuXj0oMjU1JmUuY2hhckNvZGVBdChvKzIpKTw8MTY7Y2FzZSAyOm5ePSgyNTUmZS5jaGFyQ29kZUF0KG8rMSkpPDw4O2Nhc2UgMTpuPTE1NDA0ODM0NzcqKDY1NTM1JihuXj0yNTUmZS5jaGFyQ29kZUF0KG8pKSkrKCgxNTQwNDgzNDc3KihuPj4+MTYpJjY1NTM1KTw8MTYpO31yZXR1cm4gbj0xNTQwNDgzNDc3Kig2NTUzNSYobl49bj4+PjEzKSkrKCgxNTQwNDgzNDc3KihuPj4+MTYpJjY1NTM1KTw8MTYpLChuXj1uPj4+MTUpPj4+MH07fShBbCk7dmFyIFNsPU1sLElsPUFsLmV4cG9ydHM7VGwuZXhwb3J0cz1TbCxUbC5leHBvcnRzLm11cm11cjM9U2wsVGwuZXhwb3J0cy5tdXJtdXIyPUlsO3ZhciBDbD1kKFRsLmV4cG9ydHMpO2NsYXNzIHpse2NvbnN0cnVjdG9yKCl7dGhpcy5pZHM9W10sdGhpcy51bmlxdWVJZHM9W10sdGhpcy5wb3NpdGlvbnM9W10sdGhpcy5pbmRleGVkPSExO31hZGQoZSx0LGkscil7dGhpcy5pZHMucHVzaChQbChlKSksdGhpcy5wb3NpdGlvbnMucHVzaCh0LGkscik7fWVhY2hQb3NpdGlvbihlLHQpe2NvbnN0IGk9UGwoZSk7bGV0IHI9MCxuPXRoaXMuaWRzLmxlbmd0aC0xO2Zvcig7cjxuOyl7Y29uc3QgZT1yK24+PjE7dGhpcy5pZHNbZV0+PWk/bj1lOnI9ZSsxO31mb3IoO3RoaXMuaWRzW3JdPT09aTspdCh0aGlzLnBvc2l0aW9uc1szKnJdLHRoaXMucG9zaXRpb25zWzMqcisxXSx0aGlzLnBvc2l0aW9uc1szKnIrMl0pLHIrKzt9c3RhdGljIHNlcmlhbGl6ZShlLHQpe2NvbnN0IGk9bmV3IEZsb2F0NjRBcnJheShlLmlkcykscj1uZXcgVWludDMyQXJyYXkoZS5wb3NpdGlvbnMpO3JldHVybiBEbChpLHIsMCxpLmxlbmd0aC0xKSx0JiYodC5hZGQoaS5idWZmZXIpLHQuYWRkKHIuYnVmZmVyKSkse2lkczppLHBvc2l0aW9uczpyfX1zdGF0aWMgZGVzZXJpYWxpemUoZSl7Y29uc3QgdD1uZXcgemw7bGV0IGk7dC5pZHM9ZS5pZHMsdC5wb3NpdGlvbnM9ZS5wb3NpdGlvbnM7Zm9yKGNvbnN0IGUgb2YgdC5pZHMpZSE9PWkmJnQudW5pcXVlSWRzLnB1c2goZSksaT1lO3JldHVybiB0LmluZGV4ZWQ9ITAsdH19ZnVuY3Rpb24gUGwoZSl7Y29uc3QgdD0rZTtyZXR1cm4gIWlzTmFOKHQpJiZOdW1iZXIuTUlOX1NBRkVfSU5URUdFUjw9dCYmdDw9TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI/dDpDbChTdHJpbmcoZSkpfWZ1bmN0aW9uIERsKGUsdCxpLHIpe2Zvcig7aTxyOyl7Y29uc3Qgbj1lW2krcj4+MV07bGV0IG89aS0xLHM9cisxO2Zvcig7Oyl7ZG97bysrO313aGlsZShlW29dPG4pO2Rve3MtLTt9d2hpbGUoZVtzXT5uKTtpZihvPj1zKWJyZWFrO1JsKGUsbyxzKSxSbCh0LDMqbywzKnMpLFJsKHQsMypvKzEsMypzKzEpLFJsKHQsMypvKzIsMypzKzIpO31zLWk8ci1zPyhEbChlLHQsaSxzKSxpPXMrMSk6KERsKGUsdCxzKzEscikscj1zKTt9fWZ1bmN0aW9uIFJsKGUsdCxpKXtjb25zdCByPWVbdF07ZVt0XT1lW2ldLGVbaV09cjt9UnMoemwsXCJGZWF0dXJlUG9zaXRpb25NYXBcIik7Y2xhc3MgTGx7Y29uc3RydWN0b3IoZSl7dGhpcy5nbD1lLmdsLHRoaXMuaW5pdGlhbGl6ZWQ9ITE7fWZldGNoVW5pZm9ybUxvY2F0aW9uKGUsdCl7cmV0dXJuIHRoaXMubG9jYXRpb258fHRoaXMuaW5pdGlhbGl6ZWR8fCh0aGlzLmxvY2F0aW9uPXRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKGUsdCksdGhpcy5pbml0aWFsaXplZD0hMCksISF0aGlzLmxvY2F0aW9ufX1jbGFzcyBrbCBleHRlbmRzIExse2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY3VycmVudD0wO31zZXQoZSx0LGkpe3RoaXMuZmV0Y2hVbmlmb3JtTG9jYXRpb24oZSx0KSYmdGhpcy5jdXJyZW50IT09aSYmKHRoaXMuY3VycmVudD1pLHRoaXMuZ2wudW5pZm9ybTFpKHRoaXMubG9jYXRpb24saSkpO319Y2xhc3MgT2wgZXh0ZW5kcyBMbHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmN1cnJlbnQ9MDt9c2V0KGUsdCxpKXt0aGlzLmZldGNoVW5pZm9ybUxvY2F0aW9uKGUsdCkmJnRoaXMuY3VycmVudCE9PWkmJih0aGlzLmN1cnJlbnQ9aSx0aGlzLmdsLnVuaWZvcm0xZih0aGlzLmxvY2F0aW9uLGkpKTt9fWNsYXNzIEJsIGV4dGVuZHMgTGx7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5jdXJyZW50PVswLDBdO31zZXQoZSx0LGkpe3RoaXMuZmV0Y2hVbmlmb3JtTG9jYXRpb24oZSx0KSYmKGlbMF09PT10aGlzLmN1cnJlbnRbMF0mJmlbMV09PT10aGlzLmN1cnJlbnRbMV18fCh0aGlzLmN1cnJlbnQ9aSx0aGlzLmdsLnVuaWZvcm0yZih0aGlzLmxvY2F0aW9uLGlbMF0saVsxXSkpKTt9fWNsYXNzIEZsIGV4dGVuZHMgTGx7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5jdXJyZW50PVswLDAsMF07fXNldChlLHQsaSl7dGhpcy5mZXRjaFVuaWZvcm1Mb2NhdGlvbihlLHQpJiYoaVswXT09PXRoaXMuY3VycmVudFswXSYmaVsxXT09PXRoaXMuY3VycmVudFsxXSYmaVsyXT09PXRoaXMuY3VycmVudFsyXXx8KHRoaXMuY3VycmVudD1pLHRoaXMuZ2wudW5pZm9ybTNmKHRoaXMubG9jYXRpb24saVswXSxpWzFdLGlbMl0pKSk7fX1jbGFzcyBObCBleHRlbmRzIExse2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY3VycmVudD1bMCwwLDAsMF07fXNldChlLHQsaSl7dGhpcy5mZXRjaFVuaWZvcm1Mb2NhdGlvbihlLHQpJiYoaVswXT09PXRoaXMuY3VycmVudFswXSYmaVsxXT09PXRoaXMuY3VycmVudFsxXSYmaVsyXT09PXRoaXMuY3VycmVudFsyXSYmaVszXT09PXRoaXMuY3VycmVudFszXXx8KHRoaXMuY3VycmVudD1pLHRoaXMuZ2wudW5pZm9ybTRmKHRoaXMubG9jYXRpb24saVswXSxpWzFdLGlbMl0saVszXSkpKTt9fWNsYXNzIFVsIGV4dGVuZHMgTGx7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5jdXJyZW50PWhpLnRyYW5zcGFyZW50O31zZXQoZSx0LGkpe3RoaXMuZmV0Y2hVbmlmb3JtTG9jYXRpb24oZSx0KSYmKGkucj09PXRoaXMuY3VycmVudC5yJiZpLmc9PT10aGlzLmN1cnJlbnQuZyYmaS5iPT09dGhpcy5jdXJyZW50LmImJmkuYT09PXRoaXMuY3VycmVudC5hfHwodGhpcy5jdXJyZW50PWksdGhpcy5nbC51bmlmb3JtNGYodGhpcy5sb2NhdGlvbixpLnIsaS5nLGkuYixpLmEpKSk7fX1jb25zdCBWbD1uZXcgRmxvYXQzMkFycmF5KDE2KTtjbGFzcyBqbCBleHRlbmRzIExse2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY3VycmVudD1WbDt9c2V0KGUsdCxpKXtpZih0aGlzLmZldGNoVW5pZm9ybUxvY2F0aW9uKGUsdCkpe2lmKGlbMTJdIT09dGhpcy5jdXJyZW50WzEyXXx8aVswXSE9PXRoaXMuY3VycmVudFswXSlyZXR1cm4gdGhpcy5jdXJyZW50PWksdm9pZCB0aGlzLmdsLnVuaWZvcm1NYXRyaXg0ZnYodGhpcy5sb2NhdGlvbiwhMSxpKTtmb3IobGV0IGU9MTtlPDE2O2UrKylpZihpW2VdIT09dGhpcy5jdXJyZW50W2VdKXt0aGlzLmN1cnJlbnQ9aSx0aGlzLmdsLnVuaWZvcm1NYXRyaXg0ZnYodGhpcy5sb2NhdGlvbiwhMSxpKTticmVha319fX1jb25zdCBHbD1uZXcgRmxvYXQzMkFycmF5KDkpO2NsYXNzIHFsIGV4dGVuZHMgTGx7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5jdXJyZW50PUdsO31zZXQoZSx0LGkpe2lmKHRoaXMuZmV0Y2hVbmlmb3JtTG9jYXRpb24oZSx0KSlmb3IobGV0IGU9MDtlPDk7ZSsrKWlmKGlbZV0hPT10aGlzLmN1cnJlbnRbZV0pe3RoaXMuY3VycmVudD1pLHRoaXMuZ2wudW5pZm9ybU1hdHJpeDNmdih0aGlzLmxvY2F0aW9uLCExLGkpO2JyZWFrfX19Y29uc3QgWmw9bmV3IEZsb2F0MzJBcnJheSg0KTtjbGFzcyAkbCBleHRlbmRzIExse2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY3VycmVudD1abDt9c2V0KGUsdCxpKXtpZih0aGlzLmZldGNoVW5pZm9ybUxvY2F0aW9uKGUsdCkpZm9yKGxldCBlPTA7ZTw0O2UrKylpZihpW2VdIT09dGhpcy5jdXJyZW50W2VdKXt0aGlzLmN1cnJlbnQ9aSx0aGlzLmdsLnVuaWZvcm1NYXRyaXgyZnYodGhpcy5sb2NhdGlvbiwhMSxpKTticmVha319fWZ1bmN0aW9uIFdsKGUpe3JldHVybiBbdmwoMjU1KmUuciwyNTUqZS5nKSx2bCgyNTUqZS5iLDI1NSplLmEpXX1jbGFzcyBIbHtjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy52YWx1ZT1lLHRoaXMudW5pZm9ybU5hbWVzPXQubWFwKChlPT5gdV8ke2V9YCkpLHRoaXMudHlwZT1pO31zZXRVbmlmb3JtKGUsdCxpLHIsbil7dC5zZXQoZSxuLHIuY29uc3RhbnRPcih0aGlzLnZhbHVlKSk7fWdldEJpbmRpbmcoZSx0KXtyZXR1cm4gXCJjb2xvclwiPT09dGhpcy50eXBlP25ldyBVbChlKTpuZXcgT2woZSl9fWNsYXNzIFhse2NvbnN0cnVjdG9yKGUsdCl7dGhpcy51bmlmb3JtTmFtZXM9dC5tYXAoKGU9PmB1XyR7ZX1gKSksdGhpcy5wYXR0ZXJuPW51bGwsdGhpcy5waXhlbFJhdGlvPTE7fXNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucyhlKXt0aGlzLnBpeGVsUmF0aW89ZS5waXhlbFJhdGlvfHwxLHRoaXMucGF0dGVybj1lLnRsLmNvbmNhdChlLmJyKTt9c2V0VW5pZm9ybShlLHQsaSxyLG4pe2NvbnN0IG89XCJ1X3BhdHRlcm5cIj09PW58fFwidV9kYXNoXCI9PT1uP3RoaXMucGF0dGVybjpcInVfcGl4ZWxfcmF0aW9cIj09PW4/dGhpcy5waXhlbFJhdGlvOm51bGw7byYmdC5zZXQoZSxuLG8pO31nZXRCaW5kaW5nKGUsdCl7cmV0dXJuIFwidV9wYXR0ZXJuXCI9PT10fHxcInVfZGFzaFwiPT09dD9uZXcgTmwoZSk6bmV3IE9sKGUpfX1jbGFzcyBZbHtjb25zdHJ1Y3RvcihlLHQsaSxyKXt0aGlzLmV4cHJlc3Npb249ZSx0aGlzLnR5cGU9aSx0aGlzLm1heFZhbHVlPTAsdGhpcy5wYWludFZlcnRleEF0dHJpYnV0ZXM9dC5tYXAoKGU9Pih7bmFtZTpgYV8ke2V9YCx0eXBlOlwiRmxvYXQzMlwiLGNvbXBvbmVudHM6XCJjb2xvclwiPT09aT8yOjEsb2Zmc2V0OjB9KSkpLHRoaXMucGFpbnRWZXJ0ZXhBcnJheT1uZXcgcjt9cG9wdWxhdGVQYWludEFycmF5KGUsdCxpLHIsbixvLHMpe2NvbnN0IGE9dGhpcy5wYWludFZlcnRleEFycmF5Lmxlbmd0aCxsPXRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZShuZXcgb2EoMCx7YnJpZ2h0bmVzczpvfSksdCx7fSxuLHIscyk7dGhpcy5wYWludFZlcnRleEFycmF5LnJlc2l6ZShlKSx0aGlzLl9zZXRQYWludFZhbHVlKGEsZSxsKTt9dXBkYXRlUGFpbnRBcnJheShlLHQsaSxyLG4sbyxzKXtjb25zdCBhPXRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZSh7em9vbTowLGJyaWdodG5lc3M6c30saSxyLHZvaWQgMCxuKTt0aGlzLl9zZXRQYWludFZhbHVlKGUsdCxhKTt9X3NldFBhaW50VmFsdWUoZSx0LGkpe2lmKFwiY29sb3JcIj09PXRoaXMudHlwZSl7Y29uc3Qgcj1XbChpKTtmb3IobGV0IGk9ZTtpPHQ7aSsrKXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5lbXBsYWNlKGksclswXSxyWzFdKTt9ZWxzZSB7Zm9yKGxldCByPWU7cjx0O3IrKyl0aGlzLnBhaW50VmVydGV4QXJyYXkuZW1wbGFjZShyLGkpO3RoaXMubWF4VmFsdWU9TWF0aC5tYXgodGhpcy5tYXhWYWx1ZSxNYXRoLmFicyhpKSk7fX11cGxvYWQoZSl7dGhpcy5wYWludFZlcnRleEFycmF5JiZ0aGlzLnBhaW50VmVydGV4QXJyYXkuYXJyYXlCdWZmZXImJih0aGlzLnBhaW50VmVydGV4QnVmZmVyJiZ0aGlzLnBhaW50VmVydGV4QnVmZmVyLmJ1ZmZlcj90aGlzLnBhaW50VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy5wYWludFZlcnRleEFycmF5KTp0aGlzLnBhaW50VmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMucGFpbnRWZXJ0ZXhBcnJheSx0aGlzLnBhaW50VmVydGV4QXR0cmlidXRlcyx0aGlzLmV4cHJlc3Npb24uaXNTdGF0ZURlcGVuZGVudHx8IXRoaXMuZXhwcmVzc2lvbi5pc0xpZ2h0Q29uc3RhbnQpKTt9ZGVzdHJveSgpe3RoaXMucGFpbnRWZXJ0ZXhCdWZmZXImJnRoaXMucGFpbnRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpO319Y2xhc3MgS2x7Y29uc3RydWN0b3IoZSx0LGkscixuLG8pe3RoaXMuZXhwcmVzc2lvbj1lLHRoaXMudW5pZm9ybU5hbWVzPXQubWFwKChlPT5gdV8ke2V9X3RgKSksdGhpcy50eXBlPWksdGhpcy51c2VJbnRlZ2VyWm9vbT1yLHRoaXMuem9vbT1uLHRoaXMubWF4VmFsdWU9MCx0aGlzLnBhaW50VmVydGV4QXR0cmlidXRlcz10Lm1hcCgoZT0+KHtuYW1lOmBhXyR7ZX1gLHR5cGU6XCJGbG9hdDMyXCIsY29tcG9uZW50czpcImNvbG9yXCI9PT1pPzQ6MixvZmZzZXQ6MH0pKSksdGhpcy5wYWludFZlcnRleEFycmF5PW5ldyBvO31wb3B1bGF0ZVBhaW50QXJyYXkoZSx0LGkscixuLG8scyl7Y29uc3QgYT10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUobmV3IG9hKHRoaXMuem9vbSx7YnJpZ2h0bmVzczpvfSksdCx7fSxuLHIscyksbD10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUobmV3IG9hKHRoaXMuem9vbSsxLHticmlnaHRuZXNzOm99KSx0LHt9LG4scixzKSxjPXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5sZW5ndGg7dGhpcy5wYWludFZlcnRleEFycmF5LnJlc2l6ZShlKSx0aGlzLl9zZXRQYWludFZhbHVlKGMsZSxhLGwpO311cGRhdGVQYWludEFycmF5KGUsdCxpLHIsbixvLHMpe2NvbnN0IGE9dGhpcy5leHByZXNzaW9uLmV2YWx1YXRlKHt6b29tOnRoaXMuem9vbSxicmlnaHRuZXNzOnN9LGkscix2b2lkIDAsbiksbD10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUoe3pvb206dGhpcy56b29tKzEsYnJpZ2h0bmVzczpzfSxpLHIsdm9pZCAwLG4pO3RoaXMuX3NldFBhaW50VmFsdWUoZSx0LGEsbCk7fV9zZXRQYWludFZhbHVlKGUsdCxpLHIpe2lmKFwiY29sb3JcIj09PXRoaXMudHlwZSl7Y29uc3Qgbj1XbChpKSxvPVdsKHIpO2ZvcihsZXQgaT1lO2k8dDtpKyspdGhpcy5wYWludFZlcnRleEFycmF5LmVtcGxhY2UoaSxuWzBdLG5bMV0sb1swXSxvWzFdKTt9ZWxzZSB7Zm9yKGxldCBuPWU7bjx0O24rKyl0aGlzLnBhaW50VmVydGV4QXJyYXkuZW1wbGFjZShuLGkscik7dGhpcy5tYXhWYWx1ZT1NYXRoLm1heCh0aGlzLm1heFZhbHVlLE1hdGguYWJzKGkpLE1hdGguYWJzKHIpKTt9fXVwbG9hZChlKXt0aGlzLnBhaW50VmVydGV4QXJyYXkmJnRoaXMucGFpbnRWZXJ0ZXhBcnJheS5hcnJheUJ1ZmZlciYmKHRoaXMucGFpbnRWZXJ0ZXhCdWZmZXImJnRoaXMucGFpbnRWZXJ0ZXhCdWZmZXIuYnVmZmVyP3RoaXMucGFpbnRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YSh0aGlzLnBhaW50VmVydGV4QXJyYXkpOnRoaXMucGFpbnRWZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5wYWludFZlcnRleEFycmF5LHRoaXMucGFpbnRWZXJ0ZXhBdHRyaWJ1dGVzLHRoaXMuZXhwcmVzc2lvbi5pc1N0YXRlRGVwZW5kZW50fHwhdGhpcy5leHByZXNzaW9uLmlzTGlnaHRDb25zdGFudCkpO31kZXN0cm95KCl7dGhpcy5wYWludFZlcnRleEJ1ZmZlciYmdGhpcy5wYWludFZlcnRleEJ1ZmZlci5kZXN0cm95KCk7fXNldFVuaWZvcm0oZSx0LGkscixuKXtjb25zdCBvPXRoaXMudXNlSW50ZWdlclpvb20/TWF0aC5mbG9vcihpLnpvb20pOmkuem9vbSxzPXoodGhpcy5leHByZXNzaW9uLmludGVycG9sYXRpb25GYWN0b3Iobyx0aGlzLnpvb20sdGhpcy56b29tKzEpLDAsMSk7dC5zZXQoZSxuLHMpO31nZXRCaW5kaW5nKGUsdCl7cmV0dXJuIG5ldyBPbChlKX19Y2xhc3MgSmx7Y29uc3RydWN0b3IoZSx0LGkscixuKXt0aGlzLmV4cHJlc3Npb249ZSx0aGlzLmxheWVySWQ9bix0aGlzLnBhaW50VmVydGV4QXR0cmlidXRlcz0oXCJhcnJheVwiPT09aT93bDpibCkubWVtYmVycztmb3IobGV0IGU9MDtlPHQubGVuZ3RoOysrZSk7dGhpcy5wYWludFZlcnRleEFycmF5PW5ldyByO31wb3B1bGF0ZVBhaW50QXJyYXkoZSx0LGkpe2NvbnN0IHI9dGhpcy5wYWludFZlcnRleEFycmF5Lmxlbmd0aDt0aGlzLnBhaW50VmVydGV4QXJyYXkucmVzaXplKGUpLHRoaXMuX3NldFBhaW50VmFsdWVzKHIsZSx0LnBhdHRlcm5zJiZ0LnBhdHRlcm5zW3RoaXMubGF5ZXJJZF0saSk7fXVwZGF0ZVBhaW50QXJyYXkoZSx0LGkscixuLG8scyl7dGhpcy5fc2V0UGFpbnRWYWx1ZXMoZSx0LGkucGF0dGVybnMmJmkucGF0dGVybnNbdGhpcy5sYXllcklkXSxvKTt9X3NldFBhaW50VmFsdWVzKGUsdCxpLHIpe2lmKCFyfHwhaSlyZXR1cm47Y29uc3Qgbj1yW2ldO2lmKCFuKXJldHVybjtjb25zdHt0bDpvLGJyOnMscGl4ZWxSYXRpbzphfT1uO2ZvcihsZXQgaT1lO2k8dDtpKyspdGhpcy5wYWludFZlcnRleEFycmF5LmVtcGxhY2UoaSxvWzBdLG9bMV0sc1swXSxzWzFdLGEpO311cGxvYWQoZSl7dGhpcy5wYWludFZlcnRleEFycmF5JiZ0aGlzLnBhaW50VmVydGV4QXJyYXkuYXJyYXlCdWZmZXImJih0aGlzLnBhaW50VmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMucGFpbnRWZXJ0ZXhBcnJheSx0aGlzLnBhaW50VmVydGV4QXR0cmlidXRlcyx0aGlzLmV4cHJlc3Npb24uaXNTdGF0ZURlcGVuZGVudHx8IXRoaXMuZXhwcmVzc2lvbi5pc0xpZ2h0Q29uc3RhbnQpKTt9ZGVzdHJveSgpe3RoaXMucGFpbnRWZXJ0ZXhCdWZmZXImJnRoaXMucGFpbnRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpO319Y2xhc3MgUWx7Y29uc3RydWN0b3IoZSx0LGk9KCgpPT4hMCkpe3RoaXMuYmluZGVycz17fSx0aGlzLl9idWZmZXJzPVtdO2NvbnN0IHI9W107Zm9yKGNvbnN0IG4gaW4gZS5wYWludC5fdmFsdWVzKXtjb25zdCBvPWUucGFpbnQuZ2V0KG4pO2lmKCFpKG4pKWNvbnRpbnVlO2lmKCEobyBpbnN0YW5jZW9mIGRhJiZjbyhvLnByb3BlcnR5LnNwZWNpZmljYXRpb24pKSljb250aW51ZTtjb25zdCBzPWljKG4sZS50eXBlKSxhPW8udmFsdWUsbD1vLnByb3BlcnR5LnNwZWNpZmljYXRpb24udHlwZSxjPSEhby5wcm9wZXJ0eS51c2VJbnRlZ2VyWm9vbSxoPVwibGluZS1kYXNoYXJyYXlcIj09PW58fG4uZW5kc1dpdGgoXCJwYXR0ZXJuXCIpLHU9XCJsaW5lLWRhc2hhcnJheVwiPT09biYmXCJjb25zdGFudFwiIT09ZS5sYXlvdXQuZ2V0KFwibGluZS1jYXBcIikudmFsdWUua2luZDtpZihcImNvbnN0YW50XCIhPT1hLmtpbmR8fHUpaWYoXCJzb3VyY2VcIj09PWEua2luZHx8dXx8aCl7Y29uc3QgdD1vYyhuLGwsXCJzb3VyY2VcIik7dGhpcy5iaW5kZXJzW25dPWg/bmV3IEpsKGEscyxsLHQsZS5pZCk6bmV3IFlsKGEscyxsLHQpLHIucHVzaChgL2FfJHtufWApO31lbHNlIHtjb25zdCBlPW9jKG4sbCxcImNvbXBvc2l0ZVwiKTt0aGlzLmJpbmRlcnNbbl09bmV3IEtsKGEscyxsLGMsdCxlKSxyLnB1c2goYC96XyR7bn1gKTt9ZWxzZSB0aGlzLmJpbmRlcnNbbl09aD9uZXcgWGwoYS52YWx1ZSxzKTpuZXcgSGwoYS52YWx1ZSxzLGwpLHIucHVzaChgL3VfJHtufWApO310aGlzLmNhY2hlS2V5PXIuc29ydCgpLmpvaW4oXCJcIik7fWdldE1heFZhbHVlKGUpe2NvbnN0IHQ9dGhpcy5iaW5kZXJzW2VdO3JldHVybiB0IGluc3RhbmNlb2YgWWx8fHQgaW5zdGFuY2VvZiBLbD90Lm1heFZhbHVlOjB9cG9wdWxhdGVQYWludEFycmF5cyhlLHQsaSxyLG4sbyxzKXtmb3IoY29uc3QgYSBpbiB0aGlzLmJpbmRlcnMpe2NvbnN0IGw9dGhpcy5iaW5kZXJzW2FdOyhsIGluc3RhbmNlb2YgWWx8fGwgaW5zdGFuY2VvZiBLbHx8bCBpbnN0YW5jZW9mIEpsKSYmbC5wb3B1bGF0ZVBhaW50QXJyYXkoZSx0LGkscixuLG8scyk7fX1zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnMoZSl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5iaW5kZXJzKXtjb25zdCBpPXRoaXMuYmluZGVyc1t0XTtpIGluc3RhbmNlb2YgWGwmJmkuc2V0Q29uc3RhbnRQYXR0ZXJuUG9zaXRpb25zKGUpO319dXBkYXRlUGFpbnRBcnJheXMoZSx0LGkscixuLG8scyxhKXtsZXQgbD0hMTtjb25zdCBjPU9iamVjdC5rZXlzKGUpLGg9MCE9PWMubGVuZ3RoLHU9aD9jOnQudW5pcXVlSWRzO2Zvcihjb25zdCBjIGluIHRoaXMuYmluZGVycyl7Y29uc3QgZD10aGlzLmJpbmRlcnNbY107aWYoKGQgaW5zdGFuY2VvZiBZbHx8ZCBpbnN0YW5jZW9mIEtsfHxkIGluc3RhbmNlb2YgSmwpJiYoITA9PT1kLmV4cHJlc3Npb24uaXNTdGF0ZURlcGVuZGVudHx8ITE9PT1kLmV4cHJlc3Npb24uaXNMaWdodENvbnN0YW50KSl7Y29uc3QgcD1uLnBhaW50LmdldChjKTtkLmV4cHJlc3Npb249cC52YWx1ZTtmb3IoY29uc3QgaSBvZiB1KXtjb25zdCBuPWVbaS50b1N0cmluZygpXTt0LmVhY2hQb3NpdGlvbihpLCgoZSx0LGkpPT57Y29uc3QgbD1yLmZlYXR1cmUoZSk7ZC51cGRhdGVQYWludEFycmF5KHQsaSxsLG4sbyxzLGEpO30pKTt9aWYoIWgpZm9yKGNvbnN0IHQgb2YgaS51bmlxdWVJZHMpe2NvbnN0IG49ZVt0LnRvU3RyaW5nKCldO2kuZWFjaFBvc2l0aW9uKHQsKChlLHQsaSk9Pntjb25zdCBsPXIuZmVhdHVyZShlKTtkLnVwZGF0ZVBhaW50QXJyYXkodCxpLGwsbixvLHMsYSk7fSkpO31sPSEwO319cmV0dXJuIGx9ZGVmaW5lcygpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgaW4gdGhpcy5iaW5kZXJzKXtjb25zdCBpPXRoaXMuYmluZGVyc1t0XTsoaSBpbnN0YW5jZW9mIEhsfHxpIGluc3RhbmNlb2YgWGwpJiZlLnB1c2goLi4uaS51bmlmb3JtTmFtZXMubWFwKChlPT5gI2RlZmluZSBIQVNfVU5JRk9STV8ke2V9YCkpKTt9cmV0dXJuIGV9Z2V0QmluZGVyQXR0cmlidXRlcygpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgaW4gdGhpcy5iaW5kZXJzKXtjb25zdCBpPXRoaXMuYmluZGVyc1t0XTtpZihpIGluc3RhbmNlb2YgWWx8fGkgaW5zdGFuY2VvZiBLbHx8aSBpbnN0YW5jZW9mIEpsKWZvcihsZXQgdD0wO3Q8aS5wYWludFZlcnRleEF0dHJpYnV0ZXMubGVuZ3RoO3QrKyllLnB1c2goaS5wYWludFZlcnRleEF0dHJpYnV0ZXNbdF0ubmFtZSk7fXJldHVybiBlfWdldEJpbmRlclVuaWZvcm1zKCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgdCBpbiB0aGlzLmJpbmRlcnMpe2NvbnN0IGk9dGhpcy5iaW5kZXJzW3RdO2lmKGkgaW5zdGFuY2VvZiBIbHx8aSBpbnN0YW5jZW9mIFhsfHxpIGluc3RhbmNlb2YgS2wpZm9yKGNvbnN0IHQgb2YgaS51bmlmb3JtTmFtZXMpZS5wdXNoKHQpO31yZXR1cm4gZX1nZXRQYWludFZlcnRleEJ1ZmZlcnMoKXtyZXR1cm4gdGhpcy5fYnVmZmVyc31nZXRVbmlmb3JtcyhlKXtjb25zdCB0PVtdO2Zvcihjb25zdCBpIGluIHRoaXMuYmluZGVycyl7Y29uc3Qgcj10aGlzLmJpbmRlcnNbaV07aWYociBpbnN0YW5jZW9mIEhsfHxyIGluc3RhbmNlb2YgWGx8fHIgaW5zdGFuY2VvZiBLbClmb3IoY29uc3QgbiBvZiByLnVuaWZvcm1OYW1lcyl0LnB1c2goe25hbWU6bixwcm9wZXJ0eTppLGJpbmRpbmc6ci5nZXRCaW5kaW5nKGUsbil9KTt9cmV0dXJuIHR9c2V0VW5pZm9ybXMoZSx0LGkscixuKXtmb3IoY29uc3R7bmFtZTp0LHByb3BlcnR5Om8sYmluZGluZzpzfW9mIGkpdGhpcy5iaW5kZXJzW29dLnNldFVuaWZvcm0oZSxzLG4sci5nZXQobyksdCk7fXVwZGF0ZVBhaW50QnVmZmVycygpe3RoaXMuX2J1ZmZlcnM9W107Zm9yKGNvbnN0IGUgaW4gdGhpcy5iaW5kZXJzKXtjb25zdCB0PXRoaXMuYmluZGVyc1tlXTsodCBpbnN0YW5jZW9mIFlsfHx0IGluc3RhbmNlb2YgS2x8fHQgaW5zdGFuY2VvZiBKbCkmJnQucGFpbnRWZXJ0ZXhCdWZmZXImJnRoaXMuX2J1ZmZlcnMucHVzaCh0LnBhaW50VmVydGV4QnVmZmVyKTt9fXVwbG9hZChlKXtmb3IoY29uc3QgdCBpbiB0aGlzLmJpbmRlcnMpe2NvbnN0IGk9dGhpcy5iaW5kZXJzW3RdOyhpIGluc3RhbmNlb2YgWWx8fGkgaW5zdGFuY2VvZiBLbHx8aSBpbnN0YW5jZW9mIEpsKSYmaS51cGxvYWQoZSk7fXRoaXMudXBkYXRlUGFpbnRCdWZmZXJzKCk7fWRlc3Ryb3koKXtmb3IoY29uc3QgZSBpbiB0aGlzLmJpbmRlcnMpe2NvbnN0IHQ9dGhpcy5iaW5kZXJzW2VdOyh0IGluc3RhbmNlb2YgWWx8fHQgaW5zdGFuY2VvZiBLbHx8dCBpbnN0YW5jZW9mIEpsKSYmdC5kZXN0cm95KCk7fX19Y2xhc3MgZWN7Y29uc3RydWN0b3IoZSx0LGk9KCgpPT4hMCkpe3RoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zPXt9O2Zvcihjb25zdCByIG9mIGUpdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbci5pZF09bmV3IFFsKHIsdCxpKTt0aGlzLm5lZWRzVXBsb2FkPSExLHRoaXMuX2ZlYXR1cmVNYXA9bmV3IHpsLHRoaXMuX2ZlYXR1cmVNYXBXaXRob3V0SWRzPW5ldyB6bCx0aGlzLl9idWZmZXJPZmZzZXQ9MCx0aGlzLl9pZGxlc3NDb3VudGVyPTA7fXBvcHVsYXRlUGFpbnRBcnJheXMoZSx0LGkscixuLG8scyxhKXtmb3IoY29uc3QgaSBpbiB0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucyl0aGlzLnByb2dyYW1Db25maWd1cmF0aW9uc1tpXS5wb3B1bGF0ZVBhaW50QXJyYXlzKGUsdCxyLG4sbyxzLGEpO3ZvaWQgMCE9PXQuaWQ/dGhpcy5fZmVhdHVyZU1hcC5hZGQodC5pZCxpLHRoaXMuX2J1ZmZlck9mZnNldCxlKToodGhpcy5fZmVhdHVyZU1hcFdpdGhvdXRJZHMuYWRkKHRoaXMuX2lkbGVzc0NvdW50ZXIsaSx0aGlzLl9idWZmZXJPZmZzZXQsZSksdGhpcy5faWRsZXNzQ291bnRlcis9MSksdGhpcy5fYnVmZmVyT2Zmc2V0PWUsdGhpcy5uZWVkc1VwbG9hZD0hMDt9dXBkYXRlUGFpbnRBcnJheXMoZSx0LGkscixuLG8pe2Zvcihjb25zdCBzIG9mIGkpdGhpcy5uZWVkc1VwbG9hZD10aGlzLnByb2dyYW1Db25maWd1cmF0aW9uc1tzLmlkXS51cGRhdGVQYWludEFycmF5cyhlLHRoaXMuX2ZlYXR1cmVNYXAsdGhpcy5fZmVhdHVyZU1hcFdpdGhvdXRJZHMsdCxzLHIsbixvfHwwKXx8dGhpcy5uZWVkc1VwbG9hZDt9Z2V0KGUpe3JldHVybiB0aGlzLnByb2dyYW1Db25maWd1cmF0aW9uc1tlXX11cGxvYWQoZSl7aWYodGhpcy5uZWVkc1VwbG9hZCl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMpdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbdF0udXBsb2FkKGUpO3RoaXMubmVlZHNVcGxvYWQ9ITE7fX1kZXN0cm95KCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMpdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbZV0uZGVzdHJveSgpO319Y29uc3QgdGM9e1widGV4dC1vcGFjaXR5XCI6W1wib3BhY2l0eVwiXSxcImljb24tb3BhY2l0eVwiOltcIm9wYWNpdHlcIl0sXCJ0ZXh0LWNvbG9yXCI6W1wiZmlsbF9jb2xvclwiXSxcImljb24tY29sb3JcIjpbXCJmaWxsX2NvbG9yXCJdLFwidGV4dC1lbWlzc2l2ZS1zdHJlbmd0aFwiOltcImVtaXNzaXZlX3N0cmVuZ3RoXCJdLFwiaWNvbi1lbWlzc2l2ZS1zdHJlbmd0aFwiOltcImVtaXNzaXZlX3N0cmVuZ3RoXCJdLFwidGV4dC1oYWxvLWNvbG9yXCI6W1wiaGFsb19jb2xvclwiXSxcImljb24taGFsby1jb2xvclwiOltcImhhbG9fY29sb3JcIl0sXCJ0ZXh0LWhhbG8tYmx1clwiOltcImhhbG9fYmx1clwiXSxcImljb24taGFsby1ibHVyXCI6W1wiaGFsb19ibHVyXCJdLFwidGV4dC1oYWxvLXdpZHRoXCI6W1wiaGFsb193aWR0aFwiXSxcImljb24taGFsby13aWR0aFwiOltcImhhbG9fd2lkdGhcIl0sXCJsaW5lLWdhcC13aWR0aFwiOltcImdhcHdpZHRoXCJdLFwibGluZS1wYXR0ZXJuXCI6W1wicGF0dGVyblwiLFwicGl4ZWxfcmF0aW9cIl0sXCJmaWxsLXBhdHRlcm5cIjpbXCJwYXR0ZXJuXCIsXCJwaXhlbF9yYXRpb1wiXSxcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIjpbXCJwYXR0ZXJuXCIsXCJwaXhlbF9yYXRpb1wiXSxcImxpbmUtZGFzaGFycmF5XCI6W1wiZGFzaFwiXX07ZnVuY3Rpb24gaWMoZSx0KXtyZXR1cm4gdGNbZV18fFtlLnJlcGxhY2UoYCR7dH0tYCxcIlwiKS5yZXBsYWNlKC8tL2csXCJfXCIpXX1jb25zdCByYz17XCJsaW5lLXBhdHRlcm5cIjp7c291cmNlOk9hLGNvbXBvc2l0ZTpPYX0sXCJmaWxsLXBhdHRlcm5cIjp7c291cmNlOk9hLGNvbXBvc2l0ZTpPYX0sXCJmaWxsLWV4dHJ1c2lvbi1wYXR0ZXJuXCI6e3NvdXJjZTpPYSxjb21wb3NpdGU6T2F9LFwibGluZS1kYXNoYXJyYXlcIjp7c291cmNlOkJhLGNvbXBvc2l0ZTpCYX19LG5jPXtjb2xvcjp7c291cmNlOmlsLGNvbXBvc2l0ZTprYX0sbnVtYmVyOntzb3VyY2U6WWEsY29tcG9zaXRlOmlsfX07ZnVuY3Rpb24gb2MoZSx0LGkpe2NvbnN0IHI9cmNbZV07cmV0dXJuIHImJnJbaV18fG5jW3RdW2ldfVJzKEhsLFwiQ29uc3RhbnRCaW5kZXJcIiksUnMoWGwsXCJQYXR0ZXJuQ29uc3RhbnRCaW5kZXJcIiksUnMoWWwsXCJTb3VyY2VFeHByZXNzaW9uQmluZGVyXCIpLFJzKEpsLFwiUGF0dGVybkNvbXBvc2l0ZUJpbmRlclwiKSxScyhLbCxcIkNvbXBvc2l0ZUV4cHJlc3Npb25CaW5kZXJcIiksUnMoUWwsXCJQcm9ncmFtQ29uZmlndXJhdGlvblwiLHtvbWl0OltcIl9idWZmZXJzXCJdfSksUnMoZWMsXCJQcm9ncmFtQ29uZmlndXJhdGlvblNldFwiKTtjbGFzcyBzY3tjb25zdHJ1Y3RvcihlLHQpe2UmJih0P3RoaXMuc2V0U291dGhXZXN0KGUpLnNldE5vcnRoRWFzdCh0KTo0PT09ZS5sZW5ndGg/dGhpcy5zZXRTb3V0aFdlc3QoW2VbMF0sZVsxXV0pLnNldE5vcnRoRWFzdChbZVsyXSxlWzNdXSk6dGhpcy5zZXRTb3V0aFdlc3QoZVswXSkuc2V0Tm9ydGhFYXN0KGVbMV0pKTt9c2V0Tm9ydGhFYXN0KGUpe3JldHVybiB0aGlzLl9uZT1lIGluc3RhbmNlb2YgV2Q/bmV3IFdkKGUubG5nLGUubGF0KTpXZC5jb252ZXJ0KGUpLHRoaXN9c2V0U291dGhXZXN0KGUpe3JldHVybiB0aGlzLl9zdz1lIGluc3RhbmNlb2YgV2Q/bmV3IFdkKGUubG5nLGUubGF0KTpXZC5jb252ZXJ0KGUpLHRoaXN9ZXh0ZW5kKGUpe2NvbnN0IHQ9dGhpcy5fc3csaT10aGlzLl9uZTtsZXQgcixuO2lmKGUgaW5zdGFuY2VvZiBXZClyPWUsbj1lO2Vsc2Uge2lmKCEoZSBpbnN0YW5jZW9mIHNjKSlyZXR1cm4gQXJyYXkuaXNBcnJheShlKT80PT09ZS5sZW5ndGh8fGUuZXZlcnkoQXJyYXkuaXNBcnJheSk/dGhpcy5leHRlbmQoc2MuY29udmVydChlKSk6dGhpcy5leHRlbmQoV2QuY29udmVydChlKSk6XCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiZlLmhhc093blByb3BlcnR5KFwibGF0XCIpJiYoZS5oYXNPd25Qcm9wZXJ0eShcImxvblwiKXx8ZS5oYXNPd25Qcm9wZXJ0eShcImxuZ1wiKSk/dGhpcy5leHRlbmQoV2QuY29udmVydChlKSk6dGhpcztpZihyPWUuX3N3LG49ZS5fbmUsIXJ8fCFuKXJldHVybiB0aGlzfXJldHVybiB0fHxpPyh0LmxuZz1NYXRoLm1pbihyLmxuZyx0LmxuZyksdC5sYXQ9TWF0aC5taW4oci5sYXQsdC5sYXQpLGkubG5nPU1hdGgubWF4KG4ubG5nLGkubG5nKSxpLmxhdD1NYXRoLm1heChuLmxhdCxpLmxhdCkpOih0aGlzLl9zdz1uZXcgV2Qoci5sbmcsci5sYXQpLHRoaXMuX25lPW5ldyBXZChuLmxuZyxuLmxhdCkpLHRoaXN9Z2V0Q2VudGVyKCl7cmV0dXJuIG5ldyBXZCgodGhpcy5fc3cubG5nK3RoaXMuX25lLmxuZykvMiwodGhpcy5fc3cubGF0K3RoaXMuX25lLmxhdCkvMil9Z2V0U291dGhXZXN0KCl7cmV0dXJuIHRoaXMuX3N3fWdldE5vcnRoRWFzdCgpe3JldHVybiB0aGlzLl9uZX1nZXROb3J0aFdlc3QoKXtyZXR1cm4gbmV3IFdkKHRoaXMuZ2V0V2VzdCgpLHRoaXMuZ2V0Tm9ydGgoKSl9Z2V0U291dGhFYXN0KCl7cmV0dXJuIG5ldyBXZCh0aGlzLmdldEVhc3QoKSx0aGlzLmdldFNvdXRoKCkpfWdldFdlc3QoKXtyZXR1cm4gdGhpcy5fc3cubG5nfWdldFNvdXRoKCl7cmV0dXJuIHRoaXMuX3N3LmxhdH1nZXRFYXN0KCl7cmV0dXJuIHRoaXMuX25lLmxuZ31nZXROb3J0aCgpe3JldHVybiB0aGlzLl9uZS5sYXR9dG9BcnJheSgpe3JldHVybiBbdGhpcy5fc3cudG9BcnJheSgpLHRoaXMuX25lLnRvQXJyYXkoKV19dG9TdHJpbmcoKXtyZXR1cm4gYExuZ0xhdEJvdW5kcygke3RoaXMuX3N3LnRvU3RyaW5nKCl9LCAke3RoaXMuX25lLnRvU3RyaW5nKCl9KWB9aXNFbXB0eSgpe3JldHVybiAhKHRoaXMuX3N3JiZ0aGlzLl9uZSl9Y29udGFpbnMoZSl7Y29uc3R7bG5nOnQsbGF0Oml9PVdkLmNvbnZlcnQoZSk7bGV0IHI9dGhpcy5fc3cubG5nPD10JiZ0PD10aGlzLl9uZS5sbmc7cmV0dXJuIHRoaXMuX3N3LmxuZz50aGlzLl9uZS5sbmcmJihyPXRoaXMuX3N3LmxuZz49dCYmdD49dGhpcy5fbmUubG5nKSx0aGlzLl9zdy5sYXQ8PWkmJmk8PXRoaXMuX25lLmxhdCYmcn1zdGF0aWMgY29udmVydChlKXtyZXR1cm4gIWV8fGUgaW5zdGFuY2VvZiBzYz9lOm5ldyBzYyhlKX19dmFyIGFjPXt9LGxjPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShsYyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxsYy5zZXRNYXRyaXhBcnJheVR5cGU9ZnVuY3Rpb24oZSl7bGMuQVJSQVlfVFlQRT1oYz1lO30sbGMudG9SYWRpYW49ZnVuY3Rpb24oZSl7cmV0dXJuIGUqZGN9LGxjLmVxdWFscz1mdW5jdGlvbihlLHQpe3JldHVybiBNYXRoLmFicyhlLXQpPD1jYypNYXRoLm1heCgxLE1hdGguYWJzKGUpLE1hdGguYWJzKHQpKX0sbGMuUkFORE9NPWxjLkFSUkFZX1RZUEU9bGMuRVBTSUxPTj12b2lkIDA7dmFyIGNjPTFlLTY7bGMuRVBTSUxPTj1jYzt2YXIgaGM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEZsb2F0MzJBcnJheT9GbG9hdDMyQXJyYXk6QXJyYXk7bGMuQVJSQVlfVFlQRT1oYzt2YXIgdWM9TWF0aC5yYW5kb207bGMuUkFORE9NPXVjO3ZhciBkYz1NYXRoLlBJLzE4MDtNYXRoLmh5cG90fHwoTWF0aC5oeXBvdD1mdW5jdGlvbigpe2Zvcih2YXIgZT0wLHQ9YXJndW1lbnRzLmxlbmd0aDt0LS07KWUrPWFyZ3VtZW50c1t0XSphcmd1bWVudHNbdF07cmV0dXJuIE1hdGguc3FydChlKX0pO3ZhciBwYz17fTtmdW5jdGlvbiBmYyhlKXtyZXR1cm4gZmM9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0sZmMoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHBjLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHBjLmNyZWF0ZT1mdW5jdGlvbigpe3ZhciBlPW5ldyBtYy5BUlJBWV9UWVBFKDQpO3JldHVybiBtYy5BUlJBWV9UWVBFIT1GbG9hdDMyQXJyYXkmJihlWzFdPTAsZVsyXT0wKSxlWzBdPTEsZVszXT0xLGV9LHBjLmNsb25lPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBtYy5BUlJBWV9UWVBFKDQpO3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0WzNdPWVbM10sdH0scGMuY29weT1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPXRbMF0sZVsxXT10WzFdLGVbMl09dFsyXSxlWzNdPXRbM10sZX0scGMuaWRlbnRpdHk9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF09MSxlWzFdPTAsZVsyXT0wLGVbM109MSxlfSxwYy5mcm9tVmFsdWVzPWZ1bmN0aW9uKGUsdCxpLHIpe3ZhciBuPW5ldyBtYy5BUlJBWV9UWVBFKDQpO3JldHVybiBuWzBdPWUsblsxXT10LG5bMl09aSxuWzNdPXIsbn0scGMuc2V0PWZ1bmN0aW9uKGUsdCxpLHIsbil7cmV0dXJuIGVbMF09dCxlWzFdPWksZVsyXT1yLGVbM109bixlfSxwYy50cmFuc3Bvc2U9ZnVuY3Rpb24oZSx0KXtpZihlPT09dCl7dmFyIGk9dFsxXTtlWzFdPXRbMl0sZVsyXT1pO31lbHNlIGVbMF09dFswXSxlWzFdPXRbMl0sZVsyXT10WzFdLGVbM109dFszXTtyZXR1cm4gZX0scGMuaW52ZXJ0PWZ1bmN0aW9uKGUsdCl7dmFyIGk9dFswXSxyPXRbMV0sbj10WzJdLG89dFszXSxzPWkqby1uKnI7cmV0dXJuIHM/KGVbMF09byoocz0xL3MpLGVbMV09LXIqcyxlWzJdPS1uKnMsZVszXT1pKnMsZSk6bnVsbH0scGMuYWRqb2ludD1mdW5jdGlvbihlLHQpe3ZhciBpPXRbMF07cmV0dXJuIGVbMF09dFszXSxlWzFdPS10WzFdLGVbMl09LXRbMl0sZVszXT1pLGV9LHBjLmRldGVybWluYW50PWZ1bmN0aW9uKGUpe3JldHVybiBlWzBdKmVbM10tZVsyXSplWzFdfSxwYy5tdWx0aXBseT1nYyxwYy5yb3RhdGU9ZnVuY3Rpb24oZSx0LGkpe3ZhciByPXRbMF0sbj10WzFdLG89dFsyXSxzPXRbM10sYT1NYXRoLnNpbihpKSxsPU1hdGguY29zKGkpO3JldHVybiBlWzBdPXIqbCtvKmEsZVsxXT1uKmwrcyphLGVbMl09ciotYStvKmwsZVszXT1uKi1hK3MqbCxlfSxwYy5zY2FsZT1mdW5jdGlvbihlLHQsaSl7dmFyIHI9dFsxXSxuPXRbMl0sbz10WzNdLHM9aVswXSxhPWlbMV07cmV0dXJuIGVbMF09dFswXSpzLGVbMV09cipzLGVbMl09biphLGVbM109byphLGV9LHBjLmZyb21Sb3RhdGlvbj1mdW5jdGlvbihlLHQpe3ZhciBpPU1hdGguc2luKHQpLHI9TWF0aC5jb3ModCk7cmV0dXJuIGVbMF09cixlWzFdPWksZVsyXT0taSxlWzNdPXIsZX0scGMuZnJvbVNjYWxpbmc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT10WzBdLGVbMV09MCxlWzJdPTAsZVszXT10WzFdLGV9LHBjLnN0cj1mdW5jdGlvbihlKXtyZXR1cm4gXCJtYXQyKFwiK2VbMF0rXCIsIFwiK2VbMV0rXCIsIFwiK2VbMl0rXCIsIFwiK2VbM10rXCIpXCJ9LHBjLmZyb2I9ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGguaHlwb3QoZVswXSxlWzFdLGVbMl0sZVszXSl9LHBjLkxEVT1mdW5jdGlvbihlLHQsaSxyKXtyZXR1cm4gZVsyXT1yWzJdL3JbMF0saVswXT1yWzBdLGlbMV09clsxXSxpWzNdPXJbM10tZVsyXSppWzFdLFtlLHQsaV19LHBjLmFkZD1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIGVbMF09dFswXStpWzBdLGVbMV09dFsxXStpWzFdLGVbMl09dFsyXStpWzJdLGVbM109dFszXStpWzNdLGV9LHBjLnN1YnRyYWN0PXljLHBjLmV4YWN0RXF1YWxzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09PT10WzBdJiZlWzFdPT09dFsxXSYmZVsyXT09PXRbMl0mJmVbM109PT10WzNdfSxwYy5lcXVhbHM9ZnVuY3Rpb24oZSx0KXt2YXIgaT1lWzBdLHI9ZVsxXSxuPWVbMl0sbz1lWzNdLHM9dFswXSxhPXRbMV0sbD10WzJdLGM9dFszXTtyZXR1cm4gTWF0aC5hYnMoaS1zKTw9bWMuRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGkpLE1hdGguYWJzKHMpKSYmTWF0aC5hYnMoci1hKTw9bWMuRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKHIpLE1hdGguYWJzKGEpKSYmTWF0aC5hYnMobi1sKTw9bWMuRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKG4pLE1hdGguYWJzKGwpKSYmTWF0aC5hYnMoby1jKTw9bWMuRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKG8pLE1hdGguYWJzKGMpKX0scGMubXVsdGlwbHlTY2FsYXI9ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBlWzBdPXRbMF0qaSxlWzFdPXRbMV0qaSxlWzJdPXRbMl0qaSxlWzNdPXRbM10qaSxlfSxwYy5tdWx0aXBseVNjYWxhckFuZEFkZD1mdW5jdGlvbihlLHQsaSxyKXtyZXR1cm4gZVswXT10WzBdK2lbMF0qcixlWzFdPXRbMV0raVsxXSpyLGVbMl09dFsyXStpWzJdKnIsZVszXT10WzNdK2lbM10qcixlfSxwYy5zdWI9cGMubXVsPXZvaWQgMDt2YXIgbWM9ZnVuY3Rpb24oZSx0KXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7aWYobnVsbD09PWV8fFwib2JqZWN0XCIhPT1mYyhlKSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZSlyZXR1cm4ge2RlZmF1bHQ6ZX07dmFyIGk9X2Modm9pZCAwKTtpZihpJiZpLmhhcyhlKSlyZXR1cm4gaS5nZXQoZSk7dmFyIHI9e30sbj1PYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7Zm9yKHZhciBvIGluIGUpaWYoXCJkZWZhdWx0XCIhPT1vJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxvKSl7dmFyIHM9bj9PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbyk6bnVsbDtzJiYocy5nZXR8fHMuc2V0KT9PYmplY3QuZGVmaW5lUHJvcGVydHkocixvLHMpOnJbb109ZVtvXTt9cmV0dXJuIHIuZGVmYXVsdD1lLGkmJmkuc2V0KGUscikscn0obGMpO2Z1bmN0aW9uIF9jKGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIFdlYWtNYXApcmV0dXJuIG51bGw7dmFyIHQ9bmV3IFdlYWtNYXAsaT1uZXcgV2Vha01hcDtyZXR1cm4gKF9jPWZ1bmN0aW9uKGUpe3JldHVybiBlP2k6dH0pKGUpfWZ1bmN0aW9uIGdjKGUsdCxpKXt2YXIgcj10WzBdLG49dFsxXSxvPXRbMl0scz10WzNdLGE9aVswXSxsPWlbMV0sYz1pWzJdLGg9aVszXTtyZXR1cm4gZVswXT1yKmErbypsLGVbMV09biphK3MqbCxlWzJdPXIqYytvKmgsZVszXT1uKmMrcypoLGV9ZnVuY3Rpb24geWMoZSx0LGkpe3JldHVybiBlWzBdPXRbMF0taVswXSxlWzFdPXRbMV0taVsxXSxlWzJdPXRbMl0taVsyXSxlWzNdPXRbM10taVszXSxlfXBjLm11bD1nYyxwYy5zdWI9eWM7dmFyIHhjPXt9O2Z1bmN0aW9uIHZjKGUpe3JldHVybiB2Yz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSx2YyhlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoeGMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSkseGMuY3JlYXRlPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IGJjLkFSUkFZX1RZUEUoNik7cmV0dXJuIGJjLkFSUkFZX1RZUEUhPUZsb2F0MzJBcnJheSYmKGVbMV09MCxlWzJdPTAsZVs0XT0wLGVbNV09MCksZVswXT0xLGVbM109MSxlfSx4Yy5jbG9uZT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgYmMuQVJSQVlfVFlQRSg2KTtyZXR1cm4gdFswXT1lWzBdLHRbMV09ZVsxXSx0WzJdPWVbMl0sdFszXT1lWzNdLHRbNF09ZVs0XSx0WzVdPWVbNV0sdH0seGMuY29weT1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPXRbMF0sZVsxXT10WzFdLGVbMl09dFsyXSxlWzNdPXRbM10sZVs0XT10WzRdLGVbNV09dFs1XSxlfSx4Yy5pZGVudGl0eT1mdW5jdGlvbihlKXtyZXR1cm4gZVswXT0xLGVbMV09MCxlWzJdPTAsZVszXT0xLGVbNF09MCxlWzVdPTAsZX0seGMuZnJvbVZhbHVlcz1mdW5jdGlvbihlLHQsaSxyLG4sbyl7dmFyIHM9bmV3IGJjLkFSUkFZX1RZUEUoNik7cmV0dXJuIHNbMF09ZSxzWzFdPXQsc1syXT1pLHNbM109cixzWzRdPW4sc1s1XT1vLHN9LHhjLnNldD1mdW5jdGlvbihlLHQsaSxyLG4sbyxzKXtyZXR1cm4gZVswXT10LGVbMV09aSxlWzJdPXIsZVszXT1uLGVbNF09byxlWzVdPXMsZX0seGMuaW52ZXJ0PWZ1bmN0aW9uKGUsdCl7dmFyIGk9dFswXSxyPXRbMV0sbj10WzJdLG89dFszXSxzPXRbNF0sYT10WzVdLGw9aSpvLXIqbjtyZXR1cm4gbD8oZVswXT1vKihsPTEvbCksZVsxXT0tcipsLGVbMl09LW4qbCxlWzNdPWkqbCxlWzRdPShuKmEtbypzKSpsLGVbNV09KHIqcy1pKmEpKmwsZSk6bnVsbH0seGMuZGV0ZXJtaW5hbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF0qZVszXS1lWzFdKmVbMl19LHhjLm11bHRpcGx5PVRjLHhjLnJvdGF0ZT1mdW5jdGlvbihlLHQsaSl7dmFyIHI9dFswXSxuPXRbMV0sbz10WzJdLHM9dFszXSxhPXRbNF0sbD10WzVdLGM9TWF0aC5zaW4oaSksaD1NYXRoLmNvcyhpKTtyZXR1cm4gZVswXT1yKmgrbypjLGVbMV09bipoK3MqYyxlWzJdPXIqLWMrbypoLGVbM109biotYytzKmgsZVs0XT1hLGVbNV09bCxlfSx4Yy5zY2FsZT1mdW5jdGlvbihlLHQsaSl7dmFyIHI9dFsxXSxuPXRbMl0sbz10WzNdLHM9dFs0XSxhPXRbNV0sbD1pWzBdLGM9aVsxXTtyZXR1cm4gZVswXT10WzBdKmwsZVsxXT1yKmwsZVsyXT1uKmMsZVszXT1vKmMsZVs0XT1zLGVbNV09YSxlfSx4Yy50cmFuc2xhdGU9ZnVuY3Rpb24oZSx0LGkpe3ZhciByPXRbMF0sbj10WzFdLG89dFsyXSxzPXRbM10sYT10WzRdLGw9dFs1XSxjPWlbMF0saD1pWzFdO3JldHVybiBlWzBdPXIsZVsxXT1uLGVbMl09byxlWzNdPXMsZVs0XT1yKmMrbypoK2EsZVs1XT1uKmMrcypoK2wsZX0seGMuZnJvbVJvdGF0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIGk9TWF0aC5zaW4odCkscj1NYXRoLmNvcyh0KTtyZXR1cm4gZVswXT1yLGVbMV09aSxlWzJdPS1pLGVbM109cixlWzRdPTAsZVs1XT0wLGV9LHhjLmZyb21TY2FsaW5nPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09dFswXSxlWzFdPTAsZVsyXT0wLGVbM109dFsxXSxlWzRdPTAsZVs1XT0wLGV9LHhjLmZyb21UcmFuc2xhdGlvbj1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPTEsZVsxXT0wLGVbMl09MCxlWzNdPTEsZVs0XT10WzBdLGVbNV09dFsxXSxlfSx4Yy5zdHI9ZnVuY3Rpb24oZSl7cmV0dXJuIFwibWF0MmQoXCIrZVswXStcIiwgXCIrZVsxXStcIiwgXCIrZVsyXStcIiwgXCIrZVszXStcIiwgXCIrZVs0XStcIiwgXCIrZVs1XStcIilcIn0seGMuZnJvYj1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5oeXBvdChlWzBdLGVbMV0sZVsyXSxlWzNdLGVbNF0sZVs1XSwxKX0seGMuYWRkPWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gZVswXT10WzBdK2lbMF0sZVsxXT10WzFdK2lbMV0sZVsyXT10WzJdK2lbMl0sZVszXT10WzNdK2lbM10sZVs0XT10WzRdK2lbNF0sZVs1XT10WzVdK2lbNV0sZX0seGMuc3VidHJhY3Q9RWMseGMubXVsdGlwbHlTY2FsYXI9ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBlWzBdPXRbMF0qaSxlWzFdPXRbMV0qaSxlWzJdPXRbMl0qaSxlWzNdPXRbM10qaSxlWzRdPXRbNF0qaSxlWzVdPXRbNV0qaSxlfSx4Yy5tdWx0aXBseVNjYWxhckFuZEFkZD1mdW5jdGlvbihlLHQsaSxyKXtyZXR1cm4gZVswXT10WzBdK2lbMF0qcixlWzFdPXRbMV0raVsxXSpyLGVbMl09dFsyXStpWzJdKnIsZVszXT10WzNdK2lbM10qcixlWzRdPXRbNF0raVs0XSpyLGVbNV09dFs1XStpWzVdKnIsZX0seGMuZXhhY3RFcXVhbHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT09PXRbMF0mJmVbMV09PT10WzFdJiZlWzJdPT09dFsyXSYmZVszXT09PXRbM10mJmVbNF09PT10WzRdJiZlWzVdPT09dFs1XX0seGMuZXF1YWxzPWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZVswXSxyPWVbMV0sbj1lWzJdLG89ZVszXSxzPWVbNF0sYT1lWzVdLGw9dFswXSxjPXRbMV0saD10WzJdLHU9dFszXSxkPXRbNF0scD10WzVdO3JldHVybiBNYXRoLmFicyhpLWwpPD1iYy5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoaSksTWF0aC5hYnMobCkpJiZNYXRoLmFicyhyLWMpPD1iYy5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMociksTWF0aC5hYnMoYykpJiZNYXRoLmFicyhuLWgpPD1iYy5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMobiksTWF0aC5hYnMoaCkpJiZNYXRoLmFicyhvLXUpPD1iYy5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMobyksTWF0aC5hYnModSkpJiZNYXRoLmFicyhzLWQpPD1iYy5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMocyksTWF0aC5hYnMoZCkpJiZNYXRoLmFicyhhLXApPD1iYy5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYSksTWF0aC5hYnMocCkpfSx4Yy5zdWI9eGMubXVsPXZvaWQgMDt2YXIgYmM9ZnVuY3Rpb24oZSx0KXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7aWYobnVsbD09PWV8fFwib2JqZWN0XCIhPT12YyhlKSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZSlyZXR1cm4ge2RlZmF1bHQ6ZX07dmFyIGk9d2Modm9pZCAwKTtpZihpJiZpLmhhcyhlKSlyZXR1cm4gaS5nZXQoZSk7dmFyIHI9e30sbj1PYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7Zm9yKHZhciBvIGluIGUpaWYoXCJkZWZhdWx0XCIhPT1vJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxvKSl7dmFyIHM9bj9PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbyk6bnVsbDtzJiYocy5nZXR8fHMuc2V0KT9PYmplY3QuZGVmaW5lUHJvcGVydHkocixvLHMpOnJbb109ZVtvXTt9cmV0dXJuIHIuZGVmYXVsdD1lLGkmJmkuc2V0KGUscikscn0obGMpO2Z1bmN0aW9uIHdjKGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIFdlYWtNYXApcmV0dXJuIG51bGw7dmFyIHQ9bmV3IFdlYWtNYXAsaT1uZXcgV2Vha01hcDtyZXR1cm4gKHdjPWZ1bmN0aW9uKGUpe3JldHVybiBlP2k6dH0pKGUpfWZ1bmN0aW9uIFRjKGUsdCxpKXt2YXIgcj10WzBdLG49dFsxXSxvPXRbMl0scz10WzNdLGE9dFs0XSxsPXRbNV0sYz1pWzBdLGg9aVsxXSx1PWlbMl0sZD1pWzNdLHA9aVs0XSxmPWlbNV07cmV0dXJuIGVbMF09cipjK28qaCxlWzFdPW4qYytzKmgsZVsyXT1yKnUrbypkLGVbM109bip1K3MqZCxlWzRdPXIqcCtvKmYrYSxlWzVdPW4qcCtzKmYrbCxlfWZ1bmN0aW9uIEVjKGUsdCxpKXtyZXR1cm4gZVswXT10WzBdLWlbMF0sZVsxXT10WzFdLWlbMV0sZVsyXT10WzJdLWlbMl0sZVszXT10WzNdLWlbM10sZVs0XT10WzRdLWlbNF0sZVs1XT10WzVdLWlbNV0sZX14Yy5tdWw9VGMseGMuc3ViPUVjO3ZhciBNYz17fTtmdW5jdGlvbiBBYyhlKXtyZXR1cm4gQWM9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0sQWMoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KE1jLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLE1jLmNyZWF0ZT1mdW5jdGlvbigpe3ZhciBlPW5ldyBTYy5BUlJBWV9UWVBFKDkpO3JldHVybiBTYy5BUlJBWV9UWVBFIT1GbG9hdDMyQXJyYXkmJihlWzFdPTAsZVsyXT0wLGVbM109MCxlWzVdPTAsZVs2XT0wLGVbN109MCksZVswXT0xLGVbNF09MSxlWzhdPTEsZX0sTWMuZnJvbU1hdDQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT10WzBdLGVbMV09dFsxXSxlWzJdPXRbMl0sZVszXT10WzRdLGVbNF09dFs1XSxlWzVdPXRbNl0sZVs2XT10WzhdLGVbN109dFs5XSxlWzhdPXRbMTBdLGV9LE1jLmNsb25lPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBTYy5BUlJBWV9UWVBFKDkpO3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0WzNdPWVbM10sdFs0XT1lWzRdLHRbNV09ZVs1XSx0WzZdPWVbNl0sdFs3XT1lWzddLHRbOF09ZVs4XSx0fSxNYy5jb3B5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09dFswXSxlWzFdPXRbMV0sZVsyXT10WzJdLGVbM109dFszXSxlWzRdPXRbNF0sZVs1XT10WzVdLGVbNl09dFs2XSxlWzddPXRbN10sZVs4XT10WzhdLGV9LE1jLmZyb21WYWx1ZXM9ZnVuY3Rpb24oZSx0LGkscixuLG8scyxhLGwpe3ZhciBjPW5ldyBTYy5BUlJBWV9UWVBFKDkpO3JldHVybiBjWzBdPWUsY1sxXT10LGNbMl09aSxjWzNdPXIsY1s0XT1uLGNbNV09byxjWzZdPXMsY1s3XT1hLGNbOF09bCxjfSxNYy5zZXQ9ZnVuY3Rpb24oZSx0LGkscixuLG8scyxhLGwsYyl7cmV0dXJuIGVbMF09dCxlWzFdPWksZVsyXT1yLGVbM109bixlWzRdPW8sZVs1XT1zLGVbNl09YSxlWzddPWwsZVs4XT1jLGV9LE1jLmlkZW50aXR5PWZ1bmN0aW9uKGUpe3JldHVybiBlWzBdPTEsZVsxXT0wLGVbMl09MCxlWzNdPTAsZVs0XT0xLGVbNV09MCxlWzZdPTAsZVs3XT0wLGVbOF09MSxlfSxNYy50cmFuc3Bvc2U9ZnVuY3Rpb24oZSx0KXtpZihlPT09dCl7dmFyIGk9dFsxXSxyPXRbMl0sbj10WzVdO2VbMV09dFszXSxlWzJdPXRbNl0sZVszXT1pLGVbNV09dFs3XSxlWzZdPXIsZVs3XT1uO31lbHNlIGVbMF09dFswXSxlWzFdPXRbM10sZVsyXT10WzZdLGVbM109dFsxXSxlWzRdPXRbNF0sZVs1XT10WzddLGVbNl09dFsyXSxlWzddPXRbNV0sZVs4XT10WzhdO3JldHVybiBlfSxNYy5pbnZlcnQ9ZnVuY3Rpb24oZSx0KXt2YXIgaT10WzBdLHI9dFsxXSxuPXRbMl0sbz10WzNdLHM9dFs0XSxhPXRbNV0sbD10WzZdLGM9dFs3XSxoPXRbOF0sdT1oKnMtYSpjLGQ9LWgqbythKmwscD1jKm8tcypsLGY9aSp1K3IqZCtuKnA7cmV0dXJuIGY/KGVbMF09dSooZj0xL2YpLGVbMV09KC1oKnIrbipjKSpmLGVbMl09KGEqci1uKnMpKmYsZVszXT1kKmYsZVs0XT0oaCppLW4qbCkqZixlWzVdPSgtYSppK24qbykqZixlWzZdPXAqZixlWzddPSgtYyppK3IqbCkqZixlWzhdPShzKmktcipvKSpmLGUpOm51bGx9LE1jLmFkam9pbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgaT10WzBdLHI9dFsxXSxuPXRbMl0sbz10WzNdLHM9dFs0XSxhPXRbNV0sbD10WzZdLGM9dFs3XSxoPXRbOF07cmV0dXJuIGVbMF09cypoLWEqYyxlWzFdPW4qYy1yKmgsZVsyXT1yKmEtbipzLGVbM109YSpsLW8qaCxlWzRdPWkqaC1uKmwsZVs1XT1uKm8taSphLGVbNl09bypjLXMqbCxlWzddPXIqbC1pKmMsZVs4XT1pKnMtcipvLGV9LE1jLmRldGVybWluYW50PWZ1bmN0aW9uKGUpe3ZhciB0PWVbM10saT1lWzRdLHI9ZVs1XSxuPWVbNl0sbz1lWzddLHM9ZVs4XTtyZXR1cm4gZVswXSoocyppLXIqbykrZVsxXSooLXMqdCtyKm4pK2VbMl0qKG8qdC1pKm4pfSxNYy5tdWx0aXBseT1DYyxNYy50cmFuc2xhdGU9ZnVuY3Rpb24oZSx0LGkpe3ZhciByPXRbMF0sbj10WzFdLG89dFsyXSxzPXRbM10sYT10WzRdLGw9dFs1XSxjPXRbNl0saD10WzddLHU9dFs4XSxkPWlbMF0scD1pWzFdO3JldHVybiBlWzBdPXIsZVsxXT1uLGVbMl09byxlWzNdPXMsZVs0XT1hLGVbNV09bCxlWzZdPWQqcitwKnMrYyxlWzddPWQqbitwKmEraCxlWzhdPWQqbytwKmwrdSxlfSxNYy5yb3RhdGU9ZnVuY3Rpb24oZSx0LGkpe3ZhciByPXRbMF0sbj10WzFdLG89dFsyXSxzPXRbM10sYT10WzRdLGw9dFs1XSxjPXRbNl0saD10WzddLHU9dFs4XSxkPU1hdGguc2luKGkpLHA9TWF0aC5jb3MoaSk7cmV0dXJuIGVbMF09cCpyK2QqcyxlWzFdPXAqbitkKmEsZVsyXT1wKm8rZCpsLGVbM109cCpzLWQqcixlWzRdPXAqYS1kKm4sZVs1XT1wKmwtZCpvLGVbNl09YyxlWzddPWgsZVs4XT11LGV9LE1jLnNjYWxlPWZ1bmN0aW9uKGUsdCxpKXt2YXIgcj1pWzBdLG49aVsxXTtyZXR1cm4gZVswXT1yKnRbMF0sZVsxXT1yKnRbMV0sZVsyXT1yKnRbMl0sZVszXT1uKnRbM10sZVs0XT1uKnRbNF0sZVs1XT1uKnRbNV0sZVs2XT10WzZdLGVbN109dFs3XSxlWzhdPXRbOF0sZX0sTWMuZnJvbVRyYW5zbGF0aW9uPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09MSxlWzFdPTAsZVsyXT0wLGVbM109MCxlWzRdPTEsZVs1XT0wLGVbNl09dFswXSxlWzddPXRbMV0sZVs4XT0xLGV9LE1jLmZyb21Sb3RhdGlvbj1mdW5jdGlvbihlLHQpe3ZhciBpPU1hdGguc2luKHQpLHI9TWF0aC5jb3ModCk7cmV0dXJuIGVbMF09cixlWzFdPWksZVsyXT0wLGVbM109LWksZVs0XT1yLGVbNV09MCxlWzZdPTAsZVs3XT0wLGVbOF09MSxlfSxNYy5mcm9tU2NhbGluZz1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPXRbMF0sZVsxXT0wLGVbMl09MCxlWzNdPTAsZVs0XT10WzFdLGVbNV09MCxlWzZdPTAsZVs3XT0wLGVbOF09MSxlfSxNYy5mcm9tTWF0MmQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT10WzBdLGVbMV09dFsxXSxlWzJdPTAsZVszXT10WzJdLGVbNF09dFszXSxlWzVdPTAsZVs2XT10WzRdLGVbN109dFs1XSxlWzhdPTEsZX0sTWMuZnJvbVF1YXQ9ZnVuY3Rpb24oZSx0KXt2YXIgaT10WzBdLHI9dFsxXSxuPXRbMl0sbz10WzNdLHM9aStpLGE9cityLGw9bituLGM9aSpzLGg9cipzLHU9ciphLGQ9bipzLHA9biphLGY9bipsLG09bypzLF89byphLGc9bypsO3JldHVybiBlWzBdPTEtdS1mLGVbM109aC1nLGVbNl09ZCtfLGVbMV09aCtnLGVbNF09MS1jLWYsZVs3XT1wLW0sZVsyXT1kLV8sZVs1XT1wK20sZVs4XT0xLWMtdSxlfSxNYy5ub3JtYWxGcm9tTWF0ND1mdW5jdGlvbihlLHQpe3ZhciBpPXRbMF0scj10WzFdLG49dFsyXSxvPXRbM10scz10WzRdLGE9dFs1XSxsPXRbNl0sYz10WzddLGg9dFs4XSx1PXRbOV0sZD10WzEwXSxwPXRbMTFdLGY9dFsxMl0sbT10WzEzXSxfPXRbMTRdLGc9dFsxNV0seT1pKmEtcipzLHg9aSpsLW4qcyx2PWkqYy1vKnMsYj1yKmwtbiphLHc9cipjLW8qYSxUPW4qYy1vKmwsRT1oKm0tdSpmLE09aCpfLWQqZixBPWgqZy1wKmYsUz11Kl8tZCptLEk9dSpnLXAqbSxDPWQqZy1wKl8sej15KkMteCpJK3YqUytiKkEtdypNK1QqRTtyZXR1cm4gej8oZVswXT0oYSpDLWwqSStjKlMpKih6PTEveiksZVsxXT0obCpBLXMqQy1jKk0pKnosZVsyXT0ocypJLWEqQStjKkUpKnosZVszXT0obipJLXIqQy1vKlMpKnosZVs0XT0oaSpDLW4qQStvKk0pKnosZVs1XT0ocipBLWkqSS1vKkUpKnosZVs2XT0obSpULV8qdytnKmIpKnosZVs3XT0oXyp2LWYqVC1nKngpKnosZVs4XT0oZip3LW0qditnKnkpKnosZSk6bnVsbH0sTWMucHJvamVjdGlvbj1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIGVbMF09Mi90LGVbMV09MCxlWzJdPTAsZVszXT0wLGVbNF09LTIvaSxlWzVdPTAsZVs2XT0tMSxlWzddPTEsZVs4XT0xLGV9LE1jLnN0cj1mdW5jdGlvbihlKXtyZXR1cm4gXCJtYXQzKFwiK2VbMF0rXCIsIFwiK2VbMV0rXCIsIFwiK2VbMl0rXCIsIFwiK2VbM10rXCIsIFwiK2VbNF0rXCIsIFwiK2VbNV0rXCIsIFwiK2VbNl0rXCIsIFwiK2VbN10rXCIsIFwiK2VbOF0rXCIpXCJ9LE1jLmZyb2I9ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGguaHlwb3QoZVswXSxlWzFdLGVbMl0sZVszXSxlWzRdLGVbNV0sZVs2XSxlWzddLGVbOF0pfSxNYy5hZGQ9ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBlWzBdPXRbMF0raVswXSxlWzFdPXRbMV0raVsxXSxlWzJdPXRbMl0raVsyXSxlWzNdPXRbM10raVszXSxlWzRdPXRbNF0raVs0XSxlWzVdPXRbNV0raVs1XSxlWzZdPXRbNl0raVs2XSxlWzddPXRbN10raVs3XSxlWzhdPXRbOF0raVs4XSxlfSxNYy5zdWJ0cmFjdD16YyxNYy5tdWx0aXBseVNjYWxhcj1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIGVbMF09dFswXSppLGVbMV09dFsxXSppLGVbMl09dFsyXSppLGVbM109dFszXSppLGVbNF09dFs0XSppLGVbNV09dFs1XSppLGVbNl09dFs2XSppLGVbN109dFs3XSppLGVbOF09dFs4XSppLGV9LE1jLm11bHRpcGx5U2NhbGFyQW5kQWRkPWZ1bmN0aW9uKGUsdCxpLHIpe3JldHVybiBlWzBdPXRbMF0raVswXSpyLGVbMV09dFsxXStpWzFdKnIsZVsyXT10WzJdK2lbMl0qcixlWzNdPXRbM10raVszXSpyLGVbNF09dFs0XStpWzRdKnIsZVs1XT10WzVdK2lbNV0qcixlWzZdPXRbNl0raVs2XSpyLGVbN109dFs3XStpWzddKnIsZVs4XT10WzhdK2lbOF0qcixlfSxNYy5leGFjdEVxdWFscz1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPT09dFswXSYmZVsxXT09PXRbMV0mJmVbMl09PT10WzJdJiZlWzNdPT09dFszXSYmZVs0XT09PXRbNF0mJmVbNV09PT10WzVdJiZlWzZdPT09dFs2XSYmZVs3XT09PXRbN10mJmVbOF09PT10WzhdfSxNYy5lcXVhbHM9ZnVuY3Rpb24oZSx0KXt2YXIgaT1lWzBdLHI9ZVsxXSxuPWVbMl0sbz1lWzNdLHM9ZVs0XSxhPWVbNV0sbD1lWzZdLGM9ZVs3XSxoPWVbOF0sdT10WzBdLGQ9dFsxXSxwPXRbMl0sZj10WzNdLG09dFs0XSxfPXRbNV0sZz10WzZdLHk9dFs3XSx4PXRbOF07cmV0dXJuIE1hdGguYWJzKGktdSk8PVNjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhpKSxNYXRoLmFicyh1KSkmJk1hdGguYWJzKHItZCk8PVNjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhyKSxNYXRoLmFicyhkKSkmJk1hdGguYWJzKG4tcCk8PVNjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhuKSxNYXRoLmFicyhwKSkmJk1hdGguYWJzKG8tZik8PVNjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhvKSxNYXRoLmFicyhmKSkmJk1hdGguYWJzKHMtbSk8PVNjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhzKSxNYXRoLmFicyhtKSkmJk1hdGguYWJzKGEtXyk8PVNjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhKSxNYXRoLmFicyhfKSkmJk1hdGguYWJzKGwtZyk8PVNjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhsKSxNYXRoLmFicyhnKSkmJk1hdGguYWJzKGMteSk8PVNjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhjKSxNYXRoLmFicyh5KSkmJk1hdGguYWJzKGgteCk8PVNjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhoKSxNYXRoLmFicyh4KSl9LE1jLnN1Yj1NYy5tdWw9dm9pZCAwO3ZhciBTYz1mdW5jdGlvbihlLHQpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTtpZihudWxsPT09ZXx8XCJvYmplY3RcIiE9PUFjKGUpJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXJldHVybiB7ZGVmYXVsdDplfTt2YXIgaT1JYyh2b2lkIDApO2lmKGkmJmkuaGFzKGUpKXJldHVybiBpLmdldChlKTt2YXIgcj17fSxuPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtmb3IodmFyIG8gaW4gZSlpZihcImRlZmF1bHRcIiE9PW8mJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG8pKXt2YXIgcz1uP09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxvKTpudWxsO3MmJihzLmdldHx8cy5zZXQpP09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLG8scyk6cltvXT1lW29dO31yZXR1cm4gci5kZWZhdWx0PWUsaSYmaS5zZXQoZSxyKSxyfShsYyk7ZnVuY3Rpb24gSWMoZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgV2Vha01hcClyZXR1cm4gbnVsbDt2YXIgdD1uZXcgV2Vha01hcCxpPW5ldyBXZWFrTWFwO3JldHVybiAoSWM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/aTp0fSkoZSl9ZnVuY3Rpb24gQ2MoZSx0LGkpe3ZhciByPXRbMF0sbj10WzFdLG89dFsyXSxzPXRbM10sYT10WzRdLGw9dFs1XSxjPXRbNl0saD10WzddLHU9dFs4XSxkPWlbMF0scD1pWzFdLGY9aVsyXSxtPWlbM10sXz1pWzRdLGc9aVs1XSx5PWlbNl0seD1pWzddLHY9aVs4XTtyZXR1cm4gZVswXT1kKnIrcCpzK2YqYyxlWzFdPWQqbitwKmErZipoLGVbMl09ZCpvK3AqbCtmKnUsZVszXT1tKnIrXypzK2cqYyxlWzRdPW0qbitfKmErZypoLGVbNV09bSpvK18qbCtnKnUsZVs2XT15KnIreCpzK3YqYyxlWzddPXkqbit4KmErdipoLGVbOF09eSpvK3gqbCt2KnUsZX1mdW5jdGlvbiB6YyhlLHQsaSl7cmV0dXJuIGVbMF09dFswXS1pWzBdLGVbMV09dFsxXS1pWzFdLGVbMl09dFsyXS1pWzJdLGVbM109dFszXS1pWzNdLGVbNF09dFs0XS1pWzRdLGVbNV09dFs1XS1pWzVdLGVbNl09dFs2XS1pWzZdLGVbN109dFs3XS1pWzddLGVbOF09dFs4XS1pWzhdLGV9TWMubXVsPUNjLE1jLnN1Yj16Yzt2YXIgUGM9e307ZnVuY3Rpb24gRGMoZSl7cmV0dXJuIERjPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LERjKGUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShQYyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxQYy5jcmVhdGU9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgUmMuQVJSQVlfVFlQRSgxNik7cmV0dXJuIFJjLkFSUkFZX1RZUEUhPUZsb2F0MzJBcnJheSYmKGVbMV09MCxlWzJdPTAsZVszXT0wLGVbNF09MCxlWzZdPTAsZVs3XT0wLGVbOF09MCxlWzldPTAsZVsxMV09MCxlWzEyXT0wLGVbMTNdPTAsZVsxNF09MCksZVswXT0xLGVbNV09MSxlWzEwXT0xLGVbMTVdPTEsZX0sUGMuY2xvbmU9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFJjLkFSUkFZX1RZUEUoMTYpO3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0WzNdPWVbM10sdFs0XT1lWzRdLHRbNV09ZVs1XSx0WzZdPWVbNl0sdFs3XT1lWzddLHRbOF09ZVs4XSx0WzldPWVbOV0sdFsxMF09ZVsxMF0sdFsxMV09ZVsxMV0sdFsxMl09ZVsxMl0sdFsxM109ZVsxM10sdFsxNF09ZVsxNF0sdFsxNV09ZVsxNV0sdH0sUGMuY29weT1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPXRbMF0sZVsxXT10WzFdLGVbMl09dFsyXSxlWzNdPXRbM10sZVs0XT10WzRdLGVbNV09dFs1XSxlWzZdPXRbNl0sZVs3XT10WzddLGVbOF09dFs4XSxlWzldPXRbOV0sZVsxMF09dFsxMF0sZVsxMV09dFsxMV0sZVsxMl09dFsxMl0sZVsxM109dFsxM10sZVsxNF09dFsxNF0sZVsxNV09dFsxNV0sZX0sUGMuZnJvbVZhbHVlcz1mdW5jdGlvbihlLHQsaSxyLG4sbyxzLGEsbCxjLGgsdSxkLHAsZixtKXt2YXIgXz1uZXcgUmMuQVJSQVlfVFlQRSgxNik7cmV0dXJuIF9bMF09ZSxfWzFdPXQsX1syXT1pLF9bM109cixfWzRdPW4sX1s1XT1vLF9bNl09cyxfWzddPWEsX1s4XT1sLF9bOV09YyxfWzEwXT1oLF9bMTFdPXUsX1sxMl09ZCxfWzEzXT1wLF9bMTRdPWYsX1sxNV09bSxffSxQYy5zZXQ9ZnVuY3Rpb24oZSx0LGkscixuLG8scyxhLGwsYyxoLHUsZCxwLGYsbSxfKXtyZXR1cm4gZVswXT10LGVbMV09aSxlWzJdPXIsZVszXT1uLGVbNF09byxlWzVdPXMsZVs2XT1hLGVbN109bCxlWzhdPWMsZVs5XT1oLGVbMTBdPXUsZVsxMV09ZCxlWzEyXT1wLGVbMTNdPWYsZVsxNF09bSxlWzE1XT1fLGV9LFBjLmlkZW50aXR5PWtjLFBjLnRyYW5zcG9zZT1mdW5jdGlvbihlLHQpe2lmKGU9PT10KXt2YXIgaT10WzFdLHI9dFsyXSxuPXRbM10sbz10WzZdLHM9dFs3XSxhPXRbMTFdO2VbMV09dFs0XSxlWzJdPXRbOF0sZVszXT10WzEyXSxlWzRdPWksZVs2XT10WzldLGVbN109dFsxM10sZVs4XT1yLGVbOV09byxlWzExXT10WzE0XSxlWzEyXT1uLGVbMTNdPXMsZVsxNF09YTt9ZWxzZSBlWzBdPXRbMF0sZVsxXT10WzRdLGVbMl09dFs4XSxlWzNdPXRbMTJdLGVbNF09dFsxXSxlWzVdPXRbNV0sZVs2XT10WzldLGVbN109dFsxM10sZVs4XT10WzJdLGVbOV09dFs2XSxlWzEwXT10WzEwXSxlWzExXT10WzE0XSxlWzEyXT10WzNdLGVbMTNdPXRbN10sZVsxNF09dFsxMV0sZVsxNV09dFsxNV07cmV0dXJuIGV9LFBjLmludmVydD1mdW5jdGlvbihlLHQpe3ZhciBpPXRbMF0scj10WzFdLG49dFsyXSxvPXRbM10scz10WzRdLGE9dFs1XSxsPXRbNl0sYz10WzddLGg9dFs4XSx1PXRbOV0sZD10WzEwXSxwPXRbMTFdLGY9dFsxMl0sbT10WzEzXSxfPXRbMTRdLGc9dFsxNV0seT1pKmEtcipzLHg9aSpsLW4qcyx2PWkqYy1vKnMsYj1yKmwtbiphLHc9cipjLW8qYSxUPW4qYy1vKmwsRT1oKm0tdSpmLE09aCpfLWQqZixBPWgqZy1wKmYsUz11Kl8tZCptLEk9dSpnLXAqbSxDPWQqZy1wKl8sej15KkMteCpJK3YqUytiKkEtdypNK1QqRTtyZXR1cm4gej8oZVswXT0oYSpDLWwqSStjKlMpKih6PTEveiksZVsxXT0obipJLXIqQy1vKlMpKnosZVsyXT0obSpULV8qdytnKmIpKnosZVszXT0oZCp3LXUqVC1wKmIpKnosZVs0XT0obCpBLXMqQy1jKk0pKnosZVs1XT0oaSpDLW4qQStvKk0pKnosZVs2XT0oXyp2LWYqVC1nKngpKnosZVs3XT0oaCpULWQqditwKngpKnosZVs4XT0ocypJLWEqQStjKkUpKnosZVs5XT0ocipBLWkqSS1vKkUpKnosZVsxMF09KGYqdy1tKnYrZyp5KSp6LGVbMTFdPSh1KnYtaCp3LXAqeSkqeixlWzEyXT0oYSpNLXMqUy1sKkUpKnosZVsxM109KGkqUy1yKk0rbipFKSp6LGVbMTRdPShtKngtZipiLV8qeSkqeixlWzE1XT0oaCpiLXUqeCtkKnkpKnosZSk6bnVsbH0sUGMuYWRqb2ludD1mdW5jdGlvbihlLHQpe3ZhciBpPXRbMF0scj10WzFdLG49dFsyXSxvPXRbM10scz10WzRdLGE9dFs1XSxsPXRbNl0sYz10WzddLGg9dFs4XSx1PXRbOV0sZD10WzEwXSxwPXRbMTFdLGY9dFsxMl0sbT10WzEzXSxfPXRbMTRdLGc9dFsxNV07cmV0dXJuIGVbMF09YSooZCpnLXAqXyktdSoobCpnLWMqXykrbSoobCpwLWMqZCksZVsxXT0tKHIqKGQqZy1wKl8pLXUqKG4qZy1vKl8pK20qKG4qcC1vKmQpKSxlWzJdPXIqKGwqZy1jKl8pLWEqKG4qZy1vKl8pK20qKG4qYy1vKmwpLGVbM109LShyKihsKnAtYypkKS1hKihuKnAtbypkKSt1KihuKmMtbypsKSksZVs0XT0tKHMqKGQqZy1wKl8pLWgqKGwqZy1jKl8pK2YqKGwqcC1jKmQpKSxlWzVdPWkqKGQqZy1wKl8pLWgqKG4qZy1vKl8pK2YqKG4qcC1vKmQpLGVbNl09LShpKihsKmctYypfKS1zKihuKmctbypfKStmKihuKmMtbypsKSksZVs3XT1pKihsKnAtYypkKS1zKihuKnAtbypkKStoKihuKmMtbypsKSxlWzhdPXMqKHUqZy1wKm0pLWgqKGEqZy1jKm0pK2YqKGEqcC1jKnUpLGVbOV09LShpKih1KmctcCptKS1oKihyKmctbyptKStmKihyKnAtbyp1KSksZVsxMF09aSooYSpnLWMqbSktcyoocipnLW8qbSkrZioocipjLW8qYSksZVsxMV09LShpKihhKnAtYyp1KS1zKihyKnAtbyp1KStoKihyKmMtbyphKSksZVsxMl09LShzKih1Kl8tZCptKS1oKihhKl8tbCptKStmKihhKmQtbCp1KSksZVsxM109aSoodSpfLWQqbSktaCoocipfLW4qbSkrZioocipkLW4qdSksZVsxNF09LShpKihhKl8tbCptKS1zKihyKl8tbiptKStmKihyKmwtbiphKSksZVsxNV09aSooYSpkLWwqdSktcyoocipkLW4qdSkraCoocipsLW4qYSksZX0sUGMuZGV0ZXJtaW5hbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXSxpPWVbMV0scj1lWzJdLG49ZVszXSxvPWVbNF0scz1lWzVdLGE9ZVs2XSxsPWVbN10sYz1lWzhdLGg9ZVs5XSx1PWVbMTBdLGQ9ZVsxMV0scD1lWzEyXSxmPWVbMTNdLG09ZVsxNF0sXz1lWzE1XTtyZXR1cm4gKHQqcy1pKm8pKih1Kl8tZCptKS0odCphLXIqbykqKGgqXy1kKmYpKyh0KmwtbipvKSooaCptLXUqZikrKGkqYS1yKnMpKihjKl8tZCpwKS0oaSpsLW4qcykqKGMqbS11KnApKyhyKmwtbiphKSooYypmLWgqcCl9LFBjLm11bHRpcGx5PU9jLFBjLnRyYW5zbGF0ZT1mdW5jdGlvbihlLHQsaSl7dmFyIHIsbixvLHMsYSxsLGMsaCx1LGQscCxmLG09aVswXSxfPWlbMV0sZz1pWzJdO3JldHVybiB0PT09ZT8oZVsxMl09dFswXSptK3RbNF0qXyt0WzhdKmcrdFsxMl0sZVsxM109dFsxXSptK3RbNV0qXyt0WzldKmcrdFsxM10sZVsxNF09dFsyXSptK3RbNl0qXyt0WzEwXSpnK3RbMTRdLGVbMTVdPXRbM10qbSt0WzddKl8rdFsxMV0qZyt0WzE1XSk6KG49dFsxXSxvPXRbMl0scz10WzNdLGE9dFs0XSxsPXRbNV0sYz10WzZdLGg9dFs3XSx1PXRbOF0sZD10WzldLHA9dFsxMF0sZj10WzExXSxlWzBdPXI9dFswXSxlWzFdPW4sZVsyXT1vLGVbM109cyxlWzRdPWEsZVs1XT1sLGVbNl09YyxlWzddPWgsZVs4XT11LGVbOV09ZCxlWzEwXT1wLGVbMTFdPWYsZVsxMl09ciptK2EqXyt1KmcrdFsxMl0sZVsxM109biptK2wqXytkKmcrdFsxM10sZVsxNF09byptK2MqXytwKmcrdFsxNF0sZVsxNV09cyptK2gqXytmKmcrdFsxNV0pLGV9LFBjLnNjYWxlPWZ1bmN0aW9uKGUsdCxpKXt2YXIgcj1pWzBdLG49aVsxXSxvPWlbMl07cmV0dXJuIGVbMF09dFswXSpyLGVbMV09dFsxXSpyLGVbMl09dFsyXSpyLGVbM109dFszXSpyLGVbNF09dFs0XSpuLGVbNV09dFs1XSpuLGVbNl09dFs2XSpuLGVbN109dFs3XSpuLGVbOF09dFs4XSpvLGVbOV09dFs5XSpvLGVbMTBdPXRbMTBdKm8sZVsxMV09dFsxMV0qbyxlWzEyXT10WzEyXSxlWzEzXT10WzEzXSxlWzE0XT10WzE0XSxlWzE1XT10WzE1XSxlfSxQYy5yb3RhdGU9ZnVuY3Rpb24oZSx0LGkscil7dmFyIG4sbyxzLGEsbCxjLGgsdSxkLHAsZixtLF8sZyx5LHgsdixiLHcsVCxFLE0sQSxTLEk9clswXSxDPXJbMV0sej1yWzJdLFA9TWF0aC5oeXBvdChJLEMseik7cmV0dXJuIFA8UmMuRVBTSUxPTj9udWxsOihJKj1QPTEvUCxDKj1QLHoqPVAsbj1NYXRoLnNpbihpKSxvPU1hdGguY29zKGkpLGw9dFsxXSxjPXRbMl0saD10WzNdLGQ9dFs1XSxwPXRbNl0sZj10WzddLF89dFs5XSxnPXRbMTBdLHk9dFsxMV0sdz1JKkMqKHM9MS1vKS16Km4sVD1DKkMqcytvLEU9eipDKnMrSSpuLE09SSp6KnMrQypuLEE9Qyp6KnMtSSpuLFM9eip6KnMrbyxlWzBdPShhPXRbMF0pKih4PUkqSSpzK28pKyh1PXRbNF0pKih2PUMqSSpzK3oqbikrKG09dFs4XSkqKGI9eipJKnMtQypuKSxlWzFdPWwqeCtkKnYrXypiLGVbMl09Yyp4K3AqditnKmIsZVszXT1oKngrZip2K3kqYixlWzRdPWEqdyt1KlQrbSpFLGVbNV09bCp3K2QqVCtfKkUsZVs2XT1jKncrcCpUK2cqRSxlWzddPWgqdytmKlQreSpFLGVbOF09YSpNK3UqQSttKlMsZVs5XT1sKk0rZCpBK18qUyxlWzEwXT1jKk0rcCpBK2cqUyxlWzExXT1oKk0rZipBK3kqUyx0IT09ZSYmKGVbMTJdPXRbMTJdLGVbMTNdPXRbMTNdLGVbMTRdPXRbMTRdLGVbMTVdPXRbMTVdKSxlKX0sUGMucm90YXRlWD1mdW5jdGlvbihlLHQsaSl7dmFyIHI9TWF0aC5zaW4oaSksbj1NYXRoLmNvcyhpKSxvPXRbNF0scz10WzVdLGE9dFs2XSxsPXRbN10sYz10WzhdLGg9dFs5XSx1PXRbMTBdLGQ9dFsxMV07cmV0dXJuIHQhPT1lJiYoZVswXT10WzBdLGVbMV09dFsxXSxlWzJdPXRbMl0sZVszXT10WzNdLGVbMTJdPXRbMTJdLGVbMTNdPXRbMTNdLGVbMTRdPXRbMTRdLGVbMTVdPXRbMTVdKSxlWzRdPW8qbitjKnIsZVs1XT1zKm4raCpyLGVbNl09YSpuK3UqcixlWzddPWwqbitkKnIsZVs4XT1jKm4tbypyLGVbOV09aCpuLXMqcixlWzEwXT11Km4tYSpyLGVbMTFdPWQqbi1sKnIsZX0sUGMucm90YXRlWT1mdW5jdGlvbihlLHQsaSl7dmFyIHI9TWF0aC5zaW4oaSksbj1NYXRoLmNvcyhpKSxvPXRbMF0scz10WzFdLGE9dFsyXSxsPXRbM10sYz10WzhdLGg9dFs5XSx1PXRbMTBdLGQ9dFsxMV07cmV0dXJuIHQhPT1lJiYoZVs0XT10WzRdLGVbNV09dFs1XSxlWzZdPXRbNl0sZVs3XT10WzddLGVbMTJdPXRbMTJdLGVbMTNdPXRbMTNdLGVbMTRdPXRbMTRdLGVbMTVdPXRbMTVdKSxlWzBdPW8qbi1jKnIsZVsxXT1zKm4taCpyLGVbMl09YSpuLXUqcixlWzNdPWwqbi1kKnIsZVs4XT1vKnIrYypuLGVbOV09cypyK2gqbixlWzEwXT1hKnIrdSpuLGVbMTFdPWwqcitkKm4sZX0sUGMucm90YXRlWj1mdW5jdGlvbihlLHQsaSl7dmFyIHI9TWF0aC5zaW4oaSksbj1NYXRoLmNvcyhpKSxvPXRbMF0scz10WzFdLGE9dFsyXSxsPXRbM10sYz10WzRdLGg9dFs1XSx1PXRbNl0sZD10WzddO3JldHVybiB0IT09ZSYmKGVbOF09dFs4XSxlWzldPXRbOV0sZVsxMF09dFsxMF0sZVsxMV09dFsxMV0sZVsxMl09dFsxMl0sZVsxM109dFsxM10sZVsxNF09dFsxNF0sZVsxNV09dFsxNV0pLGVbMF09bypuK2MqcixlWzFdPXMqbitoKnIsZVsyXT1hKm4rdSpyLGVbM109bCpuK2QqcixlWzRdPWMqbi1vKnIsZVs1XT1oKm4tcypyLGVbNl09dSpuLWEqcixlWzddPWQqbi1sKnIsZX0sUGMuZnJvbVRyYW5zbGF0aW9uPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09MSxlWzFdPTAsZVsyXT0wLGVbM109MCxlWzRdPTAsZVs1XT0xLGVbNl09MCxlWzddPTAsZVs4XT0wLGVbOV09MCxlWzEwXT0xLGVbMTFdPTAsZVsxMl09dFswXSxlWzEzXT10WzFdLGVbMTRdPXRbMl0sZVsxNV09MSxlfSxQYy5mcm9tU2NhbGluZz1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPXRbMF0sZVsxXT0wLGVbMl09MCxlWzNdPTAsZVs0XT0wLGVbNV09dFsxXSxlWzZdPTAsZVs3XT0wLGVbOF09MCxlWzldPTAsZVsxMF09dFsyXSxlWzExXT0wLGVbMTJdPTAsZVsxM109MCxlWzE0XT0wLGVbMTVdPTEsZX0sUGMuZnJvbVJvdGF0aW9uPWZ1bmN0aW9uKGUsdCxpKXt2YXIgcixuLG8scz1pWzBdLGE9aVsxXSxsPWlbMl0sYz1NYXRoLmh5cG90KHMsYSxsKTtyZXR1cm4gYzxSYy5FUFNJTE9OP251bGw6KHMqPWM9MS9jLGEqPWMsbCo9YyxyPU1hdGguc2luKHQpLG49TWF0aC5jb3ModCksZVswXT1zKnMqKG89MS1uKStuLGVbMV09YSpzKm8rbCpyLGVbMl09bCpzKm8tYSpyLGVbM109MCxlWzRdPXMqYSpvLWwqcixlWzVdPWEqYSpvK24sZVs2XT1sKmEqbytzKnIsZVs3XT0wLGVbOF09cypsKm8rYSpyLGVbOV09YSpsKm8tcypyLGVbMTBdPWwqbCpvK24sZVsxMV09MCxlWzEyXT0wLGVbMTNdPTAsZVsxNF09MCxlWzE1XT0xLGUpfSxQYy5mcm9tWFJvdGF0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIGk9TWF0aC5zaW4odCkscj1NYXRoLmNvcyh0KTtyZXR1cm4gZVswXT0xLGVbMV09MCxlWzJdPTAsZVszXT0wLGVbNF09MCxlWzVdPXIsZVs2XT1pLGVbN109MCxlWzhdPTAsZVs5XT0taSxlWzEwXT1yLGVbMTFdPTAsZVsxMl09MCxlWzEzXT0wLGVbMTRdPTAsZVsxNV09MSxlfSxQYy5mcm9tWVJvdGF0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIGk9TWF0aC5zaW4odCkscj1NYXRoLmNvcyh0KTtyZXR1cm4gZVswXT1yLGVbMV09MCxlWzJdPS1pLGVbM109MCxlWzRdPTAsZVs1XT0xLGVbNl09MCxlWzddPTAsZVs4XT1pLGVbOV09MCxlWzEwXT1yLGVbMTFdPTAsZVsxMl09MCxlWzEzXT0wLGVbMTRdPTAsZVsxNV09MSxlfSxQYy5mcm9tWlJvdGF0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIGk9TWF0aC5zaW4odCkscj1NYXRoLmNvcyh0KTtyZXR1cm4gZVswXT1yLGVbMV09aSxlWzJdPTAsZVszXT0wLGVbNF09LWksZVs1XT1yLGVbNl09MCxlWzddPTAsZVs4XT0wLGVbOV09MCxlWzEwXT0xLGVbMTFdPTAsZVsxMl09MCxlWzEzXT0wLGVbMTRdPTAsZVsxNV09MSxlfSxQYy5mcm9tUm90YXRpb25UcmFuc2xhdGlvbj1CYyxQYy5mcm9tUXVhdDI9ZnVuY3Rpb24oZSx0KXt2YXIgaT1uZXcgUmMuQVJSQVlfVFlQRSgzKSxyPS10WzBdLG49LXRbMV0sbz0tdFsyXSxzPXRbM10sYT10WzRdLGw9dFs1XSxjPXRbNl0saD10WzddLHU9cipyK24qbitvKm8rcypzO3JldHVybiB1PjA/KGlbMF09MiooYSpzK2gqcitsKm8tYypuKS91LGlbMV09MioobCpzK2gqbitjKnItYSpvKS91LGlbMl09MiooYypzK2gqbythKm4tbCpyKS91KTooaVswXT0yKihhKnMraCpyK2wqby1jKm4pLGlbMV09MioobCpzK2gqbitjKnItYSpvKSxpWzJdPTIqKGMqcytoKm8rYSpuLWwqcikpLEJjKGUsdCxpKSxlfSxQYy5nZXRUcmFuc2xhdGlvbj1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPXRbMTJdLGVbMV09dFsxM10sZVsyXT10WzE0XSxlfSxQYy5nZXRTY2FsaW5nPUZjLFBjLmdldFJvdGF0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIGk9bmV3IFJjLkFSUkFZX1RZUEUoMyk7RmMoaSx0KTt2YXIgcj0xL2lbMF0sbj0xL2lbMV0sbz0xL2lbMl0scz10WzBdKnIsYT10WzFdKm4sbD10WzJdKm8sYz10WzRdKnIsaD10WzVdKm4sdT10WzZdKm8sZD10WzhdKnIscD10WzldKm4sZj10WzEwXSpvLG09cytoK2YsXz0wO3JldHVybiBtPjA/KF89MipNYXRoLnNxcnQobSsxKSxlWzNdPS4yNSpfLGVbMF09KHUtcCkvXyxlWzFdPShkLWwpL18sZVsyXT0oYS1jKS9fKTpzPmgmJnM+Zj8oXz0yKk1hdGguc3FydCgxK3MtaC1mKSxlWzNdPSh1LXApL18sZVswXT0uMjUqXyxlWzFdPShhK2MpL18sZVsyXT0oZCtsKS9fKTpoPmY/KF89MipNYXRoLnNxcnQoMStoLXMtZiksZVszXT0oZC1sKS9fLGVbMF09KGErYykvXyxlWzFdPS4yNSpfLGVbMl09KHUrcCkvXyk6KF89MipNYXRoLnNxcnQoMStmLXMtaCksZVszXT0oYS1jKS9fLGVbMF09KGQrbCkvXyxlWzFdPSh1K3ApL18sZVsyXT0uMjUqXyksZX0sUGMuZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZT1mdW5jdGlvbihlLHQsaSxyKXt2YXIgbj10WzBdLG89dFsxXSxzPXRbMl0sYT10WzNdLGw9bituLGM9bytvLGg9cytzLHU9bipsLGQ9bipjLHA9bipoLGY9bypjLG09bypoLF89cypoLGc9YSpsLHk9YSpjLHg9YSpoLHY9clswXSxiPXJbMV0sdz1yWzJdO3JldHVybiBlWzBdPSgxLShmK18pKSp2LGVbMV09KGQreCkqdixlWzJdPShwLXkpKnYsZVszXT0wLGVbNF09KGQteCkqYixlWzVdPSgxLSh1K18pKSpiLGVbNl09KG0rZykqYixlWzddPTAsZVs4XT0ocCt5KSp3LGVbOV09KG0tZykqdyxlWzEwXT0oMS0odStmKSkqdyxlWzExXT0wLGVbMTJdPWlbMF0sZVsxM109aVsxXSxlWzE0XT1pWzJdLGVbMTVdPTEsZX0sUGMuZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZU9yaWdpbj1mdW5jdGlvbihlLHQsaSxyLG4pe3ZhciBvPXRbMF0scz10WzFdLGE9dFsyXSxsPXRbM10sYz1vK28saD1zK3MsdT1hK2EsZD1vKmMscD1vKmgsZj1vKnUsbT1zKmgsXz1zKnUsZz1hKnUseT1sKmMseD1sKmgsdj1sKnUsYj1yWzBdLHc9clsxXSxUPXJbMl0sRT1uWzBdLE09blsxXSxBPW5bMl0sUz0oMS0obStnKSkqYixJPShwK3YpKmIsQz0oZi14KSpiLHo9KHAtdikqdyxQPSgxLShkK2cpKSp3LEQ9KF8reSkqdyxSPShmK3gpKlQsTD0oXy15KSpULGs9KDEtKGQrbSkpKlQ7cmV0dXJuIGVbMF09UyxlWzFdPUksZVsyXT1DLGVbM109MCxlWzRdPXosZVs1XT1QLGVbNl09RCxlWzddPTAsZVs4XT1SLGVbOV09TCxlWzEwXT1rLGVbMTFdPTAsZVsxMl09aVswXStFLShTKkUreipNK1IqQSksZVsxM109aVsxXStNLShJKkUrUCpNK0wqQSksZVsxNF09aVsyXStBLShDKkUrRCpNK2sqQSksZVsxNV09MSxlfSxQYy5mcm9tUXVhdD1mdW5jdGlvbihlLHQpe3ZhciBpPXRbMF0scj10WzFdLG49dFsyXSxvPXRbM10scz1pK2ksYT1yK3IsbD1uK24sYz1pKnMsaD1yKnMsdT1yKmEsZD1uKnMscD1uKmEsZj1uKmwsbT1vKnMsXz1vKmEsZz1vKmw7cmV0dXJuIGVbMF09MS11LWYsZVsxXT1oK2csZVsyXT1kLV8sZVszXT0wLGVbNF09aC1nLGVbNV09MS1jLWYsZVs2XT1wK20sZVs3XT0wLGVbOF09ZCtfLGVbOV09cC1tLGVbMTBdPTEtYy11LGVbMTFdPTAsZVsxMl09MCxlWzEzXT0wLGVbMTRdPTAsZVsxNV09MSxlfSxQYy5mcnVzdHVtPWZ1bmN0aW9uKGUsdCxpLHIsbixvLHMpe3ZhciBhPTEvKGktdCksbD0xLyhuLXIpLGM9MS8oby1zKTtyZXR1cm4gZVswXT0yKm8qYSxlWzFdPTAsZVsyXT0wLGVbM109MCxlWzRdPTAsZVs1XT0yKm8qbCxlWzZdPTAsZVs3XT0wLGVbOF09KGkrdCkqYSxlWzldPShuK3IpKmwsZVsxMF09KHMrbykqYyxlWzExXT0tMSxlWzEyXT0wLGVbMTNdPTAsZVsxNF09cypvKjIqYyxlWzE1XT0wLGV9LFBjLnBlcnNwZWN0aXZlTk89TmMsUGMucGVyc3BlY3RpdmVaTz1mdW5jdGlvbihlLHQsaSxyLG4pe3ZhciBvLHM9MS9NYXRoLnRhbih0LzIpO3JldHVybiBlWzBdPXMvaSxlWzFdPTAsZVsyXT0wLGVbM109MCxlWzRdPTAsZVs1XT1zLGVbNl09MCxlWzddPTAsZVs4XT0wLGVbOV09MCxlWzExXT0tMSxlWzEyXT0wLGVbMTNdPTAsZVsxNV09MCxudWxsIT1uJiZuIT09MS8wPyhlWzEwXT1uKihvPTEvKHItbikpLGVbMTRdPW4qcipvKTooZVsxMF09LTEsZVsxNF09LXIpLGV9LFBjLnBlcnNwZWN0aXZlRnJvbUZpZWxkT2ZWaWV3PWZ1bmN0aW9uKGUsdCxpLHIpe3ZhciBuPU1hdGgudGFuKHQudXBEZWdyZWVzKk1hdGguUEkvMTgwKSxvPU1hdGgudGFuKHQuZG93bkRlZ3JlZXMqTWF0aC5QSS8xODApLHM9TWF0aC50YW4odC5sZWZ0RGVncmVlcypNYXRoLlBJLzE4MCksYT1NYXRoLnRhbih0LnJpZ2h0RGVncmVlcypNYXRoLlBJLzE4MCksbD0yLyhzK2EpLGM9Mi8obitvKTtyZXR1cm4gZVswXT1sLGVbMV09MCxlWzJdPTAsZVszXT0wLGVbNF09MCxlWzVdPWMsZVs2XT0wLGVbN109MCxlWzhdPS0ocy1hKSpsKi41LGVbOV09KG4tbykqYyouNSxlWzEwXT1yLyhpLXIpLGVbMTFdPS0xLGVbMTJdPTAsZVsxM109MCxlWzE0XT1yKmkvKGktciksZVsxNV09MCxlfSxQYy5vcnRob05PPVVjLFBjLm9ydGhvWk89ZnVuY3Rpb24oZSx0LGkscixuLG8scyl7dmFyIGE9MS8odC1pKSxsPTEvKHItbiksYz0xLyhvLXMpO3JldHVybiBlWzBdPS0yKmEsZVsxXT0wLGVbMl09MCxlWzNdPTAsZVs0XT0wLGVbNV09LTIqbCxlWzZdPTAsZVs3XT0wLGVbOF09MCxlWzldPTAsZVsxMF09YyxlWzExXT0wLGVbMTJdPSh0K2kpKmEsZVsxM109KG4rcikqbCxlWzE0XT1vKmMsZVsxNV09MSxlfSxQYy5sb29rQXQ9ZnVuY3Rpb24oZSx0LGkscil7dmFyIG4sbyxzLGEsbCxjLGgsdSxkLHAsZj10WzBdLG09dFsxXSxfPXRbMl0sZz1yWzBdLHk9clsxXSx4PXJbMl0sdj1pWzBdLGI9aVsxXSx3PWlbMl07cmV0dXJuIE1hdGguYWJzKGYtdik8UmMuRVBTSUxPTiYmTWF0aC5hYnMobS1iKTxSYy5FUFNJTE9OJiZNYXRoLmFicyhfLXcpPFJjLkVQU0lMT04/a2MoZSk6KGg9Zi12LHU9bS1iLGQ9Xy13LG49eSooZCo9cD0xL01hdGguaHlwb3QoaCx1LGQpKS14Kih1Kj1wKSxvPXgqKGgqPXApLWcqZCxzPWcqdS15KmgsKHA9TWF0aC5oeXBvdChuLG8scykpPyhuKj1wPTEvcCxvKj1wLHMqPXApOihuPTAsbz0wLHM9MCksYT11KnMtZCpvLGw9ZCpuLWgqcyxjPWgqby11Km4sKHA9TWF0aC5oeXBvdChhLGwsYykpPyhhKj1wPTEvcCxsKj1wLGMqPXApOihhPTAsbD0wLGM9MCksZVswXT1uLGVbMV09YSxlWzJdPWgsZVszXT0wLGVbNF09byxlWzVdPWwsZVs2XT11LGVbN109MCxlWzhdPXMsZVs5XT1jLGVbMTBdPWQsZVsxMV09MCxlWzEyXT0tKG4qZitvKm0rcypfKSxlWzEzXT0tKGEqZitsKm0rYypfKSxlWzE0XT0tKGgqZit1Km0rZCpfKSxlWzE1XT0xLGUpfSxQYy50YXJnZXRUbz1mdW5jdGlvbihlLHQsaSxyKXt2YXIgbj10WzBdLG89dFsxXSxzPXRbMl0sYT1yWzBdLGw9clsxXSxjPXJbMl0saD1uLWlbMF0sdT1vLWlbMV0sZD1zLWlbMl0scD1oKmgrdSp1K2QqZDtwPjAmJihoKj1wPTEvTWF0aC5zcXJ0KHApLHUqPXAsZCo9cCk7dmFyIGY9bCpkLWMqdSxtPWMqaC1hKmQsXz1hKnUtbCpoO3JldHVybiAocD1mKmYrbSptK18qXyk+MCYmKGYqPXA9MS9NYXRoLnNxcnQocCksbSo9cCxfKj1wKSxlWzBdPWYsZVsxXT1tLGVbMl09XyxlWzNdPTAsZVs0XT11Kl8tZCptLGVbNV09ZCpmLWgqXyxlWzZdPWgqbS11KmYsZVs3XT0wLGVbOF09aCxlWzldPXUsZVsxMF09ZCxlWzExXT0wLGVbMTJdPW4sZVsxM109byxlWzE0XT1zLGVbMTVdPTEsZX0sUGMuc3RyPWZ1bmN0aW9uKGUpe3JldHVybiBcIm1hdDQoXCIrZVswXStcIiwgXCIrZVsxXStcIiwgXCIrZVsyXStcIiwgXCIrZVszXStcIiwgXCIrZVs0XStcIiwgXCIrZVs1XStcIiwgXCIrZVs2XStcIiwgXCIrZVs3XStcIiwgXCIrZVs4XStcIiwgXCIrZVs5XStcIiwgXCIrZVsxMF0rXCIsIFwiK2VbMTFdK1wiLCBcIitlWzEyXStcIiwgXCIrZVsxM10rXCIsIFwiK2VbMTRdK1wiLCBcIitlWzE1XStcIilcIn0sUGMuZnJvYj1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5oeXBvdChlWzBdLGVbMV0sZVsyXSxlWzNdLGVbNF0sZVs1XSxlWzZdLGVbN10sZVs4XSxlWzldLGVbMTBdLGVbMTFdLGVbMTJdLGVbMTNdLGVbMTRdLGVbMTVdKX0sUGMuYWRkPWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gZVswXT10WzBdK2lbMF0sZVsxXT10WzFdK2lbMV0sZVsyXT10WzJdK2lbMl0sZVszXT10WzNdK2lbM10sZVs0XT10WzRdK2lbNF0sZVs1XT10WzVdK2lbNV0sZVs2XT10WzZdK2lbNl0sZVs3XT10WzddK2lbN10sZVs4XT10WzhdK2lbOF0sZVs5XT10WzldK2lbOV0sZVsxMF09dFsxMF0raVsxMF0sZVsxMV09dFsxMV0raVsxMV0sZVsxMl09dFsxMl0raVsxMl0sZVsxM109dFsxM10raVsxM10sZVsxNF09dFsxNF0raVsxNF0sZVsxNV09dFsxNV0raVsxNV0sZX0sUGMuc3VidHJhY3Q9VmMsUGMubXVsdGlwbHlTY2FsYXI9ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBlWzBdPXRbMF0qaSxlWzFdPXRbMV0qaSxlWzJdPXRbMl0qaSxlWzNdPXRbM10qaSxlWzRdPXRbNF0qaSxlWzVdPXRbNV0qaSxlWzZdPXRbNl0qaSxlWzddPXRbN10qaSxlWzhdPXRbOF0qaSxlWzldPXRbOV0qaSxlWzEwXT10WzEwXSppLGVbMTFdPXRbMTFdKmksZVsxMl09dFsxMl0qaSxlWzEzXT10WzEzXSppLGVbMTRdPXRbMTRdKmksZVsxNV09dFsxNV0qaSxlfSxQYy5tdWx0aXBseVNjYWxhckFuZEFkZD1mdW5jdGlvbihlLHQsaSxyKXtyZXR1cm4gZVswXT10WzBdK2lbMF0qcixlWzFdPXRbMV0raVsxXSpyLGVbMl09dFsyXStpWzJdKnIsZVszXT10WzNdK2lbM10qcixlWzRdPXRbNF0raVs0XSpyLGVbNV09dFs1XStpWzVdKnIsZVs2XT10WzZdK2lbNl0qcixlWzddPXRbN10raVs3XSpyLGVbOF09dFs4XStpWzhdKnIsZVs5XT10WzldK2lbOV0qcixlWzEwXT10WzEwXStpWzEwXSpyLGVbMTFdPXRbMTFdK2lbMTFdKnIsZVsxMl09dFsxMl0raVsxMl0qcixlWzEzXT10WzEzXStpWzEzXSpyLGVbMTRdPXRbMTRdK2lbMTRdKnIsZVsxNV09dFsxNV0raVsxNV0qcixlfSxQYy5leGFjdEVxdWFscz1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPT09dFswXSYmZVsxXT09PXRbMV0mJmVbMl09PT10WzJdJiZlWzNdPT09dFszXSYmZVs0XT09PXRbNF0mJmVbNV09PT10WzVdJiZlWzZdPT09dFs2XSYmZVs3XT09PXRbN10mJmVbOF09PT10WzhdJiZlWzldPT09dFs5XSYmZVsxMF09PT10WzEwXSYmZVsxMV09PT10WzExXSYmZVsxMl09PT10WzEyXSYmZVsxM109PT10WzEzXSYmZVsxNF09PT10WzE0XSYmZVsxNV09PT10WzE1XX0sUGMuZXF1YWxzPWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZVswXSxyPWVbMV0sbj1lWzJdLG89ZVszXSxzPWVbNF0sYT1lWzVdLGw9ZVs2XSxjPWVbN10saD1lWzhdLHU9ZVs5XSxkPWVbMTBdLHA9ZVsxMV0sZj1lWzEyXSxtPWVbMTNdLF89ZVsxNF0sZz1lWzE1XSx5PXRbMF0seD10WzFdLHY9dFsyXSxiPXRbM10sdz10WzRdLFQ9dFs1XSxFPXRbNl0sTT10WzddLEE9dFs4XSxTPXRbOV0sST10WzEwXSxDPXRbMTFdLHo9dFsxMl0sUD10WzEzXSxEPXRbMTRdLFI9dFsxNV07cmV0dXJuIE1hdGguYWJzKGkteSk8PVJjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhpKSxNYXRoLmFicyh5KSkmJk1hdGguYWJzKHIteCk8PVJjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhyKSxNYXRoLmFicyh4KSkmJk1hdGguYWJzKG4tdik8PVJjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhuKSxNYXRoLmFicyh2KSkmJk1hdGguYWJzKG8tYik8PVJjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhvKSxNYXRoLmFicyhiKSkmJk1hdGguYWJzKHMtdyk8PVJjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhzKSxNYXRoLmFicyh3KSkmJk1hdGguYWJzKGEtVCk8PVJjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhKSxNYXRoLmFicyhUKSkmJk1hdGguYWJzKGwtRSk8PVJjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhsKSxNYXRoLmFicyhFKSkmJk1hdGguYWJzKGMtTSk8PVJjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhjKSxNYXRoLmFicyhNKSkmJk1hdGguYWJzKGgtQSk8PVJjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhoKSxNYXRoLmFicyhBKSkmJk1hdGguYWJzKHUtUyk8PVJjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyh1KSxNYXRoLmFicyhTKSkmJk1hdGguYWJzKGQtSSk8PVJjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhkKSxNYXRoLmFicyhJKSkmJk1hdGguYWJzKHAtQyk8PVJjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhwKSxNYXRoLmFicyhDKSkmJk1hdGguYWJzKGYteik8PVJjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhmKSxNYXRoLmFicyh6KSkmJk1hdGguYWJzKG0tUCk8PVJjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhtKSxNYXRoLmFicyhQKSkmJk1hdGguYWJzKF8tRCk8PVJjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhfKSxNYXRoLmFicyhEKSkmJk1hdGguYWJzKGctUik8PVJjLkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhnKSxNYXRoLmFicyhSKSl9LFBjLnN1Yj1QYy5tdWw9UGMub3J0aG89UGMucGVyc3BlY3RpdmU9dm9pZCAwO3ZhciBSYz1mdW5jdGlvbihlLHQpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTtpZihudWxsPT09ZXx8XCJvYmplY3RcIiE9PURjKGUpJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXJldHVybiB7ZGVmYXVsdDplfTt2YXIgaT1MYyh2b2lkIDApO2lmKGkmJmkuaGFzKGUpKXJldHVybiBpLmdldChlKTt2YXIgcj17fSxuPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtmb3IodmFyIG8gaW4gZSlpZihcImRlZmF1bHRcIiE9PW8mJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG8pKXt2YXIgcz1uP09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxvKTpudWxsO3MmJihzLmdldHx8cy5zZXQpP09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLG8scyk6cltvXT1lW29dO31yZXR1cm4gci5kZWZhdWx0PWUsaSYmaS5zZXQoZSxyKSxyfShsYyk7ZnVuY3Rpb24gTGMoZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgV2Vha01hcClyZXR1cm4gbnVsbDt2YXIgdD1uZXcgV2Vha01hcCxpPW5ldyBXZWFrTWFwO3JldHVybiAoTGM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/aTp0fSkoZSl9ZnVuY3Rpb24ga2MoZSl7cmV0dXJuIGVbMF09MSxlWzFdPTAsZVsyXT0wLGVbM109MCxlWzRdPTAsZVs1XT0xLGVbNl09MCxlWzddPTAsZVs4XT0wLGVbOV09MCxlWzEwXT0xLGVbMTFdPTAsZVsxMl09MCxlWzEzXT0wLGVbMTRdPTAsZVsxNV09MSxlfWZ1bmN0aW9uIE9jKGUsdCxpKXt2YXIgcj10WzBdLG49dFsxXSxvPXRbMl0scz10WzNdLGE9dFs0XSxsPXRbNV0sYz10WzZdLGg9dFs3XSx1PXRbOF0sZD10WzldLHA9dFsxMF0sZj10WzExXSxtPXRbMTJdLF89dFsxM10sZz10WzE0XSx5PXRbMTVdLHg9aVswXSx2PWlbMV0sYj1pWzJdLHc9aVszXTtyZXR1cm4gZVswXT14KnIrdiphK2IqdSt3Km0sZVsxXT14Km4rdipsK2IqZCt3Kl8sZVsyXT14Km8rdipjK2IqcCt3KmcsZVszXT14KnMrdipoK2IqZit3KnksZVs0XT0oeD1pWzRdKSpyKyh2PWlbNV0pKmErKGI9aVs2XSkqdSsodz1pWzddKSptLGVbNV09eCpuK3YqbCtiKmQrdypfLGVbNl09eCpvK3YqYytiKnArdypnLGVbN109eCpzK3YqaCtiKmYrdyp5LGVbOF09KHg9aVs4XSkqcisodj1pWzldKSphKyhiPWlbMTBdKSp1Kyh3PWlbMTFdKSptLGVbOV09eCpuK3YqbCtiKmQrdypfLGVbMTBdPXgqbyt2KmMrYipwK3cqZyxlWzExXT14KnMrdipoK2IqZit3KnksZVsxMl09KHg9aVsxMl0pKnIrKHY9aVsxM10pKmErKGI9aVsxNF0pKnUrKHc9aVsxNV0pKm0sZVsxM109eCpuK3YqbCtiKmQrdypfLGVbMTRdPXgqbyt2KmMrYipwK3cqZyxlWzE1XT14KnMrdipoK2IqZit3KnksZX1mdW5jdGlvbiBCYyhlLHQsaSl7dmFyIHI9dFswXSxuPXRbMV0sbz10WzJdLHM9dFszXSxhPXIrcixsPW4rbixjPW8rbyxoPXIqYSx1PXIqbCxkPXIqYyxwPW4qbCxmPW4qYyxtPW8qYyxfPXMqYSxnPXMqbCx5PXMqYztyZXR1cm4gZVswXT0xLShwK20pLGVbMV09dSt5LGVbMl09ZC1nLGVbM109MCxlWzRdPXUteSxlWzVdPTEtKGgrbSksZVs2XT1mK18sZVs3XT0wLGVbOF09ZCtnLGVbOV09Zi1fLGVbMTBdPTEtKGgrcCksZVsxMV09MCxlWzEyXT1pWzBdLGVbMTNdPWlbMV0sZVsxNF09aVsyXSxlWzE1XT0xLGV9ZnVuY3Rpb24gRmMoZSx0KXt2YXIgaT10WzRdLHI9dFs1XSxuPXRbNl0sbz10WzhdLHM9dFs5XSxhPXRbMTBdO3JldHVybiBlWzBdPU1hdGguaHlwb3QodFswXSx0WzFdLHRbMl0pLGVbMV09TWF0aC5oeXBvdChpLHIsbiksZVsyXT1NYXRoLmh5cG90KG8scyxhKSxlfWZ1bmN0aW9uIE5jKGUsdCxpLHIsbil7dmFyIG8scz0xL01hdGgudGFuKHQvMik7cmV0dXJuIGVbMF09cy9pLGVbMV09MCxlWzJdPTAsZVszXT0wLGVbNF09MCxlWzVdPXMsZVs2XT0wLGVbN109MCxlWzhdPTAsZVs5XT0wLGVbMTFdPS0xLGVbMTJdPTAsZVsxM109MCxlWzE1XT0wLG51bGwhPW4mJm4hPT0xLzA/KGVbMTBdPShuK3IpKihvPTEvKHItbikpLGVbMTRdPTIqbipyKm8pOihlWzEwXT0tMSxlWzE0XT0tMipyKSxlfWZ1bmN0aW9uIFVjKGUsdCxpLHIsbixvLHMpe3ZhciBhPTEvKHQtaSksbD0xLyhyLW4pLGM9MS8oby1zKTtyZXR1cm4gZVswXT0tMiphLGVbMV09MCxlWzJdPTAsZVszXT0wLGVbNF09MCxlWzVdPS0yKmwsZVs2XT0wLGVbN109MCxlWzhdPTAsZVs5XT0wLGVbMTBdPTIqYyxlWzExXT0wLGVbMTJdPSh0K2kpKmEsZVsxM109KG4rcikqbCxlWzE0XT0ocytvKSpjLGVbMTVdPTEsZX1mdW5jdGlvbiBWYyhlLHQsaSl7cmV0dXJuIGVbMF09dFswXS1pWzBdLGVbMV09dFsxXS1pWzFdLGVbMl09dFsyXS1pWzJdLGVbM109dFszXS1pWzNdLGVbNF09dFs0XS1pWzRdLGVbNV09dFs1XS1pWzVdLGVbNl09dFs2XS1pWzZdLGVbN109dFs3XS1pWzddLGVbOF09dFs4XS1pWzhdLGVbOV09dFs5XS1pWzldLGVbMTBdPXRbMTBdLWlbMTBdLGVbMTFdPXRbMTFdLWlbMTFdLGVbMTJdPXRbMTJdLWlbMTJdLGVbMTNdPXRbMTNdLWlbMTNdLGVbMTRdPXRbMTRdLWlbMTRdLGVbMTVdPXRbMTVdLWlbMTVdLGV9UGMucGVyc3BlY3RpdmU9TmMsUGMub3J0aG89VWMsUGMubXVsPU9jLFBjLnN1Yj1WYzt2YXIgamM9e30sR2M9e307ZnVuY3Rpb24gcWMoZSl7cmV0dXJuIHFjPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LHFjKGUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShHYyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxHYy5jcmVhdGU9V2MsR2MuY2xvbmU9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFpjLkFSUkFZX1RZUEUoMyk7cmV0dXJuIHRbMF09ZVswXSx0WzFdPWVbMV0sdFsyXT1lWzJdLHR9LEdjLmxlbmd0aD1IYyxHYy5mcm9tVmFsdWVzPWZ1bmN0aW9uKGUsdCxpKXt2YXIgcj1uZXcgWmMuQVJSQVlfVFlQRSgzKTtyZXR1cm4gclswXT1lLHJbMV09dCxyWzJdPWkscn0sR2MuY29weT1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPXRbMF0sZVsxXT10WzFdLGVbMl09dFsyXSxlfSxHYy5zZXQ9ZnVuY3Rpb24oZSx0LGkscil7cmV0dXJuIGVbMF09dCxlWzFdPWksZVsyXT1yLGV9LEdjLmFkZD1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIGVbMF09dFswXStpWzBdLGVbMV09dFsxXStpWzFdLGVbMl09dFsyXStpWzJdLGV9LEdjLnN1YnRyYWN0PVhjLEdjLm11bHRpcGx5PVljLEdjLmRpdmlkZT1LYyxHYy5jZWlsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09TWF0aC5jZWlsKHRbMF0pLGVbMV09TWF0aC5jZWlsKHRbMV0pLGVbMl09TWF0aC5jZWlsKHRbMl0pLGV9LEdjLmZsb29yPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09TWF0aC5mbG9vcih0WzBdKSxlWzFdPU1hdGguZmxvb3IodFsxXSksZVsyXT1NYXRoLmZsb29yKHRbMl0pLGV9LEdjLm1pbj1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIGVbMF09TWF0aC5taW4odFswXSxpWzBdKSxlWzFdPU1hdGgubWluKHRbMV0saVsxXSksZVsyXT1NYXRoLm1pbih0WzJdLGlbMl0pLGV9LEdjLm1heD1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIGVbMF09TWF0aC5tYXgodFswXSxpWzBdKSxlWzFdPU1hdGgubWF4KHRbMV0saVsxXSksZVsyXT1NYXRoLm1heCh0WzJdLGlbMl0pLGV9LEdjLnJvdW5kPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09TWF0aC5yb3VuZCh0WzBdKSxlWzFdPU1hdGgucm91bmQodFsxXSksZVsyXT1NYXRoLnJvdW5kKHRbMl0pLGV9LEdjLnNjYWxlPWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gZVswXT10WzBdKmksZVsxXT10WzFdKmksZVsyXT10WzJdKmksZX0sR2Muc2NhbGVBbmRBZGQ9ZnVuY3Rpb24oZSx0LGkscil7cmV0dXJuIGVbMF09dFswXStpWzBdKnIsZVsxXT10WzFdK2lbMV0qcixlWzJdPXRbMl0raVsyXSpyLGV9LEdjLmRpc3RhbmNlPUpjLEdjLnNxdWFyZWREaXN0YW5jZT1RYyxHYy5zcXVhcmVkTGVuZ3RoPWVoLEdjLm5lZ2F0ZT1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPS10WzBdLGVbMV09LXRbMV0sZVsyXT0tdFsyXSxlfSxHYy5pbnZlcnNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09MS90WzBdLGVbMV09MS90WzFdLGVbMl09MS90WzJdLGV9LEdjLm5vcm1hbGl6ZT1mdW5jdGlvbihlLHQpe3ZhciBpPXRbMF0scj10WzFdLG49dFsyXSxvPWkqaStyKnIrbipuO3JldHVybiBvPjAmJihvPTEvTWF0aC5zcXJ0KG8pKSxlWzBdPXRbMF0qbyxlWzFdPXRbMV0qbyxlWzJdPXRbMl0qbyxlfSxHYy5kb3Q9dGgsR2MuY3Jvc3M9ZnVuY3Rpb24oZSx0LGkpe3ZhciByPXRbMF0sbj10WzFdLG89dFsyXSxzPWlbMF0sYT1pWzFdLGw9aVsyXTtyZXR1cm4gZVswXT1uKmwtbyphLGVbMV09bypzLXIqbCxlWzJdPXIqYS1uKnMsZX0sR2MubGVycD1mdW5jdGlvbihlLHQsaSxyKXt2YXIgbj10WzBdLG89dFsxXSxzPXRbMl07cmV0dXJuIGVbMF09bityKihpWzBdLW4pLGVbMV09bytyKihpWzFdLW8pLGVbMl09cytyKihpWzJdLXMpLGV9LEdjLmhlcm1pdGU9ZnVuY3Rpb24oZSx0LGkscixuLG8pe3ZhciBzPW8qbyxhPXMqKDIqby0zKSsxLGw9cyooby0yKStvLGM9cyooby0xKSxoPXMqKDMtMipvKTtyZXR1cm4gZVswXT10WzBdKmEraVswXSpsK3JbMF0qYytuWzBdKmgsZVsxXT10WzFdKmEraVsxXSpsK3JbMV0qYytuWzFdKmgsZVsyXT10WzJdKmEraVsyXSpsK3JbMl0qYytuWzJdKmgsZX0sR2MuYmV6aWVyPWZ1bmN0aW9uKGUsdCxpLHIsbixvKXt2YXIgcz0xLW8sYT1zKnMsbD1vKm8sYz1hKnMsaD0zKm8qYSx1PTMqbCpzLGQ9bCpvO3JldHVybiBlWzBdPXRbMF0qYytpWzBdKmgrclswXSp1K25bMF0qZCxlWzFdPXRbMV0qYytpWzFdKmgrclsxXSp1K25bMV0qZCxlWzJdPXRbMl0qYytpWzJdKmgrclsyXSp1K25bMl0qZCxlfSxHYy5yYW5kb209ZnVuY3Rpb24oZSx0KXt0PXR8fDE7dmFyIGk9MipaYy5SQU5ET00oKSpNYXRoLlBJLHI9MipaYy5SQU5ET00oKS0xLG49TWF0aC5zcXJ0KDEtcipyKSp0O3JldHVybiBlWzBdPU1hdGguY29zKGkpKm4sZVsxXT1NYXRoLnNpbihpKSpuLGVbMl09cip0LGV9LEdjLnRyYW5zZm9ybU1hdDQ9ZnVuY3Rpb24oZSx0LGkpe3ZhciByPXRbMF0sbj10WzFdLG89dFsyXSxzPWlbM10qcitpWzddKm4raVsxMV0qbytpWzE1XTtyZXR1cm4gZVswXT0oaVswXSpyK2lbNF0qbitpWzhdKm8raVsxMl0pLyhzPXN8fDEpLGVbMV09KGlbMV0qcitpWzVdKm4raVs5XSpvK2lbMTNdKS9zLGVbMl09KGlbMl0qcitpWzZdKm4raVsxMF0qbytpWzE0XSkvcyxlfSxHYy50cmFuc2Zvcm1NYXQzPWZ1bmN0aW9uKGUsdCxpKXt2YXIgcj10WzBdLG49dFsxXSxvPXRbMl07cmV0dXJuIGVbMF09cippWzBdK24qaVszXStvKmlbNl0sZVsxXT1yKmlbMV0rbippWzRdK28qaVs3XSxlWzJdPXIqaVsyXStuKmlbNV0rbyppWzhdLGV9LEdjLnRyYW5zZm9ybVF1YXQ9ZnVuY3Rpb24oZSx0LGkpe3ZhciByPWlbMF0sbj1pWzFdLG89aVsyXSxzPXRbMF0sYT10WzFdLGw9dFsyXSxjPW4qbC1vKmEsaD1vKnMtcipsLHU9ciphLW4qcyxkPW4qdS1vKmgscD1vKmMtcip1LGY9cipoLW4qYyxtPTIqaVszXTtyZXR1cm4gaCo9bSx1Kj1tLHAqPTIsZio9MixlWzBdPXMrKGMqPW0pKyhkKj0yKSxlWzFdPWEraCtwLGVbMl09bCt1K2YsZX0sR2Mucm90YXRlWD1mdW5jdGlvbihlLHQsaSxyKXt2YXIgbj1bXSxvPVtdO3JldHVybiBuWzBdPXRbMF0taVswXSxuWzFdPXRbMV0taVsxXSxuWzJdPXRbMl0taVsyXSxvWzBdPW5bMF0sb1sxXT1uWzFdKk1hdGguY29zKHIpLW5bMl0qTWF0aC5zaW4ociksb1syXT1uWzFdKk1hdGguc2luKHIpK25bMl0qTWF0aC5jb3MociksZVswXT1vWzBdK2lbMF0sZVsxXT1vWzFdK2lbMV0sZVsyXT1vWzJdK2lbMl0sZX0sR2Mucm90YXRlWT1mdW5jdGlvbihlLHQsaSxyKXt2YXIgbj1bXSxvPVtdO3JldHVybiBuWzBdPXRbMF0taVswXSxuWzFdPXRbMV0taVsxXSxuWzJdPXRbMl0taVsyXSxvWzBdPW5bMl0qTWF0aC5zaW4ocikrblswXSpNYXRoLmNvcyhyKSxvWzFdPW5bMV0sb1syXT1uWzJdKk1hdGguY29zKHIpLW5bMF0qTWF0aC5zaW4ociksZVswXT1vWzBdK2lbMF0sZVsxXT1vWzFdK2lbMV0sZVsyXT1vWzJdK2lbMl0sZX0sR2Mucm90YXRlWj1mdW5jdGlvbihlLHQsaSxyKXt2YXIgbj1bXSxvPVtdO3JldHVybiBuWzBdPXRbMF0taVswXSxuWzFdPXRbMV0taVsxXSxuWzJdPXRbMl0taVsyXSxvWzBdPW5bMF0qTWF0aC5jb3MociktblsxXSpNYXRoLnNpbihyKSxvWzFdPW5bMF0qTWF0aC5zaW4ocikrblsxXSpNYXRoLmNvcyhyKSxvWzJdPW5bMl0sZVswXT1vWzBdK2lbMF0sZVsxXT1vWzFdK2lbMV0sZVsyXT1vWzJdK2lbMl0sZX0sR2MuYW5nbGU9ZnVuY3Rpb24oZSx0KXt2YXIgaT1lWzBdLHI9ZVsxXSxuPWVbMl0sbz10WzBdLHM9dFsxXSxhPXRbMl0sbD1NYXRoLnNxcnQoaSppK3IqcituKm4pKk1hdGguc3FydChvKm8rcypzK2EqYSksYz1sJiZ0aChlLHQpL2w7cmV0dXJuIE1hdGguYWNvcyhNYXRoLm1pbihNYXRoLm1heChjLC0xKSwxKSl9LEdjLnplcm89ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF09MCxlWzFdPTAsZVsyXT0wLGV9LEdjLnN0cj1mdW5jdGlvbihlKXtyZXR1cm4gXCJ2ZWMzKFwiK2VbMF0rXCIsIFwiK2VbMV0rXCIsIFwiK2VbMl0rXCIpXCJ9LEdjLmV4YWN0RXF1YWxzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09PT10WzBdJiZlWzFdPT09dFsxXSYmZVsyXT09PXRbMl19LEdjLmVxdWFscz1mdW5jdGlvbihlLHQpe3ZhciBpPWVbMF0scj1lWzFdLG49ZVsyXSxvPXRbMF0scz10WzFdLGE9dFsyXTtyZXR1cm4gTWF0aC5hYnMoaS1vKTw9WmMuRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGkpLE1hdGguYWJzKG8pKSYmTWF0aC5hYnMoci1zKTw9WmMuRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKHIpLE1hdGguYWJzKHMpKSYmTWF0aC5hYnMobi1hKTw9WmMuRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKG4pLE1hdGguYWJzKGEpKX0sR2MuZm9yRWFjaD1HYy5zcXJMZW49R2MubGVuPUdjLnNxckRpc3Q9R2MuZGlzdD1HYy5kaXY9R2MubXVsPUdjLnN1Yj12b2lkIDA7dmFyIFpjPWZ1bmN0aW9uKGUsdCl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO2lmKG51bGw9PT1lfHxcIm9iamVjdFwiIT09cWMoZSkmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpcmV0dXJuIHtkZWZhdWx0OmV9O3ZhciBpPSRjKHZvaWQgMCk7aWYoaSYmaS5oYXMoZSkpcmV0dXJuIGkuZ2V0KGUpO3ZhciByPXt9LG49T2JqZWN0LmRlZmluZVByb3BlcnR5JiZPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO2Zvcih2YXIgbyBpbiBlKWlmKFwiZGVmYXVsdFwiIT09byYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbykpe3ZhciBzPW4/T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLG8pOm51bGw7cyYmKHMuZ2V0fHxzLnNldCk/T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsbyxzKTpyW29dPWVbb107fXJldHVybiByLmRlZmF1bHQ9ZSxpJiZpLnNldChlLHIpLHJ9KGxjKTtmdW5jdGlvbiAkYyhlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBXZWFrTWFwKXJldHVybiBudWxsO3ZhciB0PW5ldyBXZWFrTWFwLGk9bmV3IFdlYWtNYXA7cmV0dXJuICgkYz1mdW5jdGlvbihlKXtyZXR1cm4gZT9pOnR9KShlKX1mdW5jdGlvbiBXYygpe3ZhciBlPW5ldyBaYy5BUlJBWV9UWVBFKDMpO3JldHVybiBaYy5BUlJBWV9UWVBFIT1GbG9hdDMyQXJyYXkmJihlWzBdPTAsZVsxXT0wLGVbMl09MCksZX1mdW5jdGlvbiBIYyhlKXtyZXR1cm4gTWF0aC5oeXBvdChlWzBdLGVbMV0sZVsyXSl9ZnVuY3Rpb24gWGMoZSx0LGkpe3JldHVybiBlWzBdPXRbMF0taVswXSxlWzFdPXRbMV0taVsxXSxlWzJdPXRbMl0taVsyXSxlfWZ1bmN0aW9uIFljKGUsdCxpKXtyZXR1cm4gZVswXT10WzBdKmlbMF0sZVsxXT10WzFdKmlbMV0sZVsyXT10WzJdKmlbMl0sZX1mdW5jdGlvbiBLYyhlLHQsaSl7cmV0dXJuIGVbMF09dFswXS9pWzBdLGVbMV09dFsxXS9pWzFdLGVbMl09dFsyXS9pWzJdLGV9ZnVuY3Rpb24gSmMoZSx0KXtyZXR1cm4gTWF0aC5oeXBvdCh0WzBdLWVbMF0sdFsxXS1lWzFdLHRbMl0tZVsyXSl9ZnVuY3Rpb24gUWMoZSx0KXt2YXIgaT10WzBdLWVbMF0scj10WzFdLWVbMV0sbj10WzJdLWVbMl07cmV0dXJuIGkqaStyKnIrbipufWZ1bmN0aW9uIGVoKGUpe3ZhciB0PWVbMF0saT1lWzFdLHI9ZVsyXTtyZXR1cm4gdCp0K2kqaStyKnJ9ZnVuY3Rpb24gdGgoZSx0KXtyZXR1cm4gZVswXSp0WzBdK2VbMV0qdFsxXStlWzJdKnRbMl19R2Muc3ViPVhjLEdjLm11bD1ZYyxHYy5kaXY9S2MsR2MuZGlzdD1KYyxHYy5zcXJEaXN0PVFjLEdjLmxlbj1IYyxHYy5zcXJMZW49ZWg7dmFyIGloLHJoPShpaD1XYygpLGZ1bmN0aW9uKGUsdCxpLHIsbixvKXt2YXIgcyxhO2Zvcih0fHwodD0zKSxpfHwoaT0wKSxhPXI/TWF0aC5taW4ocip0K2ksZS5sZW5ndGgpOmUubGVuZ3RoLHM9aTtzPGE7cys9dClpaFswXT1lW3NdLGloWzFdPWVbcysxXSxpaFsyXT1lW3MrMl0sbihpaCxpaCxvKSxlW3NdPWloWzBdLGVbcysxXT1paFsxXSxlW3MrMl09aWhbMl07cmV0dXJuIGV9KTtHYy5mb3JFYWNoPXJoO3ZhciBuaD17fTtmdW5jdGlvbiBvaChlKXtyZXR1cm4gb2g9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0sb2goZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KG5oLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG5oLmNyZWF0ZT1saCxuaC5jbG9uZT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgc2guQVJSQVlfVFlQRSg0KTtyZXR1cm4gdFswXT1lWzBdLHRbMV09ZVsxXSx0WzJdPWVbMl0sdFszXT1lWzNdLHR9LG5oLmZyb21WYWx1ZXM9ZnVuY3Rpb24oZSx0LGkscil7dmFyIG49bmV3IHNoLkFSUkFZX1RZUEUoNCk7cmV0dXJuIG5bMF09ZSxuWzFdPXQsblsyXT1pLG5bM109cixufSxuaC5jb3B5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09dFswXSxlWzFdPXRbMV0sZVsyXT10WzJdLGVbM109dFszXSxlfSxuaC5zZXQ9ZnVuY3Rpb24oZSx0LGkscixuKXtyZXR1cm4gZVswXT10LGVbMV09aSxlWzJdPXIsZVszXT1uLGV9LG5oLmFkZD1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIGVbMF09dFswXStpWzBdLGVbMV09dFsxXStpWzFdLGVbMl09dFsyXStpWzJdLGVbM109dFszXStpWzNdLGV9LG5oLnN1YnRyYWN0PWNoLG5oLm11bHRpcGx5PWhoLG5oLmRpdmlkZT11aCxuaC5jZWlsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09TWF0aC5jZWlsKHRbMF0pLGVbMV09TWF0aC5jZWlsKHRbMV0pLGVbMl09TWF0aC5jZWlsKHRbMl0pLGVbM109TWF0aC5jZWlsKHRbM10pLGV9LG5oLmZsb29yPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09TWF0aC5mbG9vcih0WzBdKSxlWzFdPU1hdGguZmxvb3IodFsxXSksZVsyXT1NYXRoLmZsb29yKHRbMl0pLGVbM109TWF0aC5mbG9vcih0WzNdKSxlfSxuaC5taW49ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBlWzBdPU1hdGgubWluKHRbMF0saVswXSksZVsxXT1NYXRoLm1pbih0WzFdLGlbMV0pLGVbMl09TWF0aC5taW4odFsyXSxpWzJdKSxlWzNdPU1hdGgubWluKHRbM10saVszXSksZX0sbmgubWF4PWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gZVswXT1NYXRoLm1heCh0WzBdLGlbMF0pLGVbMV09TWF0aC5tYXgodFsxXSxpWzFdKSxlWzJdPU1hdGgubWF4KHRbMl0saVsyXSksZVszXT1NYXRoLm1heCh0WzNdLGlbM10pLGV9LG5oLnJvdW5kPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09TWF0aC5yb3VuZCh0WzBdKSxlWzFdPU1hdGgucm91bmQodFsxXSksZVsyXT1NYXRoLnJvdW5kKHRbMl0pLGVbM109TWF0aC5yb3VuZCh0WzNdKSxlfSxuaC5zY2FsZT1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIGVbMF09dFswXSppLGVbMV09dFsxXSppLGVbMl09dFsyXSppLGVbM109dFszXSppLGV9LG5oLnNjYWxlQW5kQWRkPWZ1bmN0aW9uKGUsdCxpLHIpe3JldHVybiBlWzBdPXRbMF0raVswXSpyLGVbMV09dFsxXStpWzFdKnIsZVsyXT10WzJdK2lbMl0qcixlWzNdPXRbM10raVszXSpyLGV9LG5oLmRpc3RhbmNlPWRoLG5oLnNxdWFyZWREaXN0YW5jZT1waCxuaC5sZW5ndGg9Zmgsbmguc3F1YXJlZExlbmd0aD1taCxuaC5uZWdhdGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT0tdFswXSxlWzFdPS10WzFdLGVbMl09LXRbMl0sZVszXT0tdFszXSxlfSxuaC5pbnZlcnNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09MS90WzBdLGVbMV09MS90WzFdLGVbMl09MS90WzJdLGVbM109MS90WzNdLGV9LG5oLm5vcm1hbGl6ZT1mdW5jdGlvbihlLHQpe3ZhciBpPXRbMF0scj10WzFdLG49dFsyXSxvPXRbM10scz1pKmkrcipyK24qbitvKm87cmV0dXJuIHM+MCYmKHM9MS9NYXRoLnNxcnQocykpLGVbMF09aSpzLGVbMV09cipzLGVbMl09bipzLGVbM109bypzLGV9LG5oLmRvdD1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdKnRbMF0rZVsxXSp0WzFdK2VbMl0qdFsyXStlWzNdKnRbM119LG5oLmNyb3NzPWZ1bmN0aW9uKGUsdCxpLHIpe3ZhciBuPWlbMF0qclsxXS1pWzFdKnJbMF0sbz1pWzBdKnJbMl0taVsyXSpyWzBdLHM9aVswXSpyWzNdLWlbM10qclswXSxhPWlbMV0qclsyXS1pWzJdKnJbMV0sbD1pWzFdKnJbM10taVszXSpyWzFdLGM9aVsyXSpyWzNdLWlbM10qclsyXSxoPXRbMF0sdT10WzFdLGQ9dFsyXSxwPXRbM107cmV0dXJuIGVbMF09dSpjLWQqbCtwKmEsZVsxXT0taCpjK2Qqcy1wKm8sZVsyXT1oKmwtdSpzK3AqbixlWzNdPS1oKmErdSpvLWQqbixlfSxuaC5sZXJwPWZ1bmN0aW9uKGUsdCxpLHIpe3ZhciBuPXRbMF0sbz10WzFdLHM9dFsyXSxhPXRbM107cmV0dXJuIGVbMF09bityKihpWzBdLW4pLGVbMV09bytyKihpWzFdLW8pLGVbMl09cytyKihpWzJdLXMpLGVbM109YStyKihpWzNdLWEpLGV9LG5oLnJhbmRvbT1mdW5jdGlvbihlLHQpe3ZhciBpLHIsbixvLHMsYTt0PXR8fDE7ZG97cz0oaT0yKnNoLlJBTkRPTSgpLTEpKmkrKHI9MipzaC5SQU5ET00oKS0xKSpyO313aGlsZShzPj0xKTtkb3thPShuPTIqc2guUkFORE9NKCktMSkqbisobz0yKnNoLlJBTkRPTSgpLTEpKm87fXdoaWxlKGE+PTEpO3ZhciBsPU1hdGguc3FydCgoMS1zKS9hKTtyZXR1cm4gZVswXT10KmksZVsxXT10KnIsZVsyXT10Km4qbCxlWzNdPXQqbypsLGV9LG5oLnRyYW5zZm9ybU1hdDQ9ZnVuY3Rpb24oZSx0LGkpe3ZhciByPXRbMF0sbj10WzFdLG89dFsyXSxzPXRbM107cmV0dXJuIGVbMF09aVswXSpyK2lbNF0qbitpWzhdKm8raVsxMl0qcyxlWzFdPWlbMV0qcitpWzVdKm4raVs5XSpvK2lbMTNdKnMsZVsyXT1pWzJdKnIraVs2XSpuK2lbMTBdKm8raVsxNF0qcyxlWzNdPWlbM10qcitpWzddKm4raVsxMV0qbytpWzE1XSpzLGV9LG5oLnRyYW5zZm9ybVF1YXQ9ZnVuY3Rpb24oZSx0LGkpe3ZhciByPXRbMF0sbj10WzFdLG89dFsyXSxzPWlbMF0sYT1pWzFdLGw9aVsyXSxjPWlbM10saD1jKnIrYSpvLWwqbix1PWMqbitsKnItcypvLGQ9YypvK3Mqbi1hKnIscD0tcypyLWEqbi1sKm87cmV0dXJuIGVbMF09aCpjK3AqLXMrdSotbC1kKi1hLGVbMV09dSpjK3AqLWErZCotcy1oKi1sLGVbMl09ZCpjK3AqLWwraCotYS11Ki1zLGVbM109dFszXSxlfSxuaC56ZXJvPWZ1bmN0aW9uKGUpe3JldHVybiBlWzBdPTAsZVsxXT0wLGVbMl09MCxlWzNdPTAsZX0sbmguc3RyPWZ1bmN0aW9uKGUpe3JldHVybiBcInZlYzQoXCIrZVswXStcIiwgXCIrZVsxXStcIiwgXCIrZVsyXStcIiwgXCIrZVszXStcIilcIn0sbmguZXhhY3RFcXVhbHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT09PXRbMF0mJmVbMV09PT10WzFdJiZlWzJdPT09dFsyXSYmZVszXT09PXRbM119LG5oLmVxdWFscz1mdW5jdGlvbihlLHQpe3ZhciBpPWVbMF0scj1lWzFdLG49ZVsyXSxvPWVbM10scz10WzBdLGE9dFsxXSxsPXRbMl0sYz10WzNdO3JldHVybiBNYXRoLmFicyhpLXMpPD1zaC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoaSksTWF0aC5hYnMocykpJiZNYXRoLmFicyhyLWEpPD1zaC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMociksTWF0aC5hYnMoYSkpJiZNYXRoLmFicyhuLWwpPD1zaC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMobiksTWF0aC5hYnMobCkpJiZNYXRoLmFicyhvLWMpPD1zaC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMobyksTWF0aC5hYnMoYykpfSxuaC5mb3JFYWNoPW5oLnNxckxlbj1uaC5sZW49bmguc3FyRGlzdD1uaC5kaXN0PW5oLmRpdj1uaC5tdWw9bmguc3ViPXZvaWQgMDt2YXIgc2g9ZnVuY3Rpb24oZSx0KXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7aWYobnVsbD09PWV8fFwib2JqZWN0XCIhPT1vaChlKSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZSlyZXR1cm4ge2RlZmF1bHQ6ZX07dmFyIGk9YWgodm9pZCAwKTtpZihpJiZpLmhhcyhlKSlyZXR1cm4gaS5nZXQoZSk7dmFyIHI9e30sbj1PYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7Zm9yKHZhciBvIGluIGUpaWYoXCJkZWZhdWx0XCIhPT1vJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxvKSl7dmFyIHM9bj9PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbyk6bnVsbDtzJiYocy5nZXR8fHMuc2V0KT9PYmplY3QuZGVmaW5lUHJvcGVydHkocixvLHMpOnJbb109ZVtvXTt9cmV0dXJuIHIuZGVmYXVsdD1lLGkmJmkuc2V0KGUscikscn0obGMpO2Z1bmN0aW9uIGFoKGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIFdlYWtNYXApcmV0dXJuIG51bGw7dmFyIHQ9bmV3IFdlYWtNYXAsaT1uZXcgV2Vha01hcDtyZXR1cm4gKGFoPWZ1bmN0aW9uKGUpe3JldHVybiBlP2k6dH0pKGUpfWZ1bmN0aW9uIGxoKCl7dmFyIGU9bmV3IHNoLkFSUkFZX1RZUEUoNCk7cmV0dXJuIHNoLkFSUkFZX1RZUEUhPUZsb2F0MzJBcnJheSYmKGVbMF09MCxlWzFdPTAsZVsyXT0wLGVbM109MCksZX1mdW5jdGlvbiBjaChlLHQsaSl7cmV0dXJuIGVbMF09dFswXS1pWzBdLGVbMV09dFsxXS1pWzFdLGVbMl09dFsyXS1pWzJdLGVbM109dFszXS1pWzNdLGV9ZnVuY3Rpb24gaGgoZSx0LGkpe3JldHVybiBlWzBdPXRbMF0qaVswXSxlWzFdPXRbMV0qaVsxXSxlWzJdPXRbMl0qaVsyXSxlWzNdPXRbM10qaVszXSxlfWZ1bmN0aW9uIHVoKGUsdCxpKXtyZXR1cm4gZVswXT10WzBdL2lbMF0sZVsxXT10WzFdL2lbMV0sZVsyXT10WzJdL2lbMl0sZVszXT10WzNdL2lbM10sZX1mdW5jdGlvbiBkaChlLHQpe3JldHVybiBNYXRoLmh5cG90KHRbMF0tZVswXSx0WzFdLWVbMV0sdFsyXS1lWzJdLHRbM10tZVszXSl9ZnVuY3Rpb24gcGgoZSx0KXt2YXIgaT10WzBdLWVbMF0scj10WzFdLWVbMV0sbj10WzJdLWVbMl0sbz10WzNdLWVbM107cmV0dXJuIGkqaStyKnIrbipuK28qb31mdW5jdGlvbiBmaChlKXtyZXR1cm4gTWF0aC5oeXBvdChlWzBdLGVbMV0sZVsyXSxlWzNdKX1mdW5jdGlvbiBtaChlKXt2YXIgdD1lWzBdLGk9ZVsxXSxyPWVbMl0sbj1lWzNdO3JldHVybiB0KnQraSppK3IqcituKm59bmguc3ViPWNoLG5oLm11bD1oaCxuaC5kaXY9dWgsbmguZGlzdD1kaCxuaC5zcXJEaXN0PXBoLG5oLmxlbj1maCxuaC5zcXJMZW49bWg7dmFyIF9oPWZ1bmN0aW9uKCl7dmFyIGU9bGgoKTtyZXR1cm4gZnVuY3Rpb24odCxpLHIsbixvLHMpe3ZhciBhLGw7Zm9yKGl8fChpPTQpLHJ8fChyPTApLGw9bj9NYXRoLm1pbihuKmkrcix0Lmxlbmd0aCk6dC5sZW5ndGgsYT1yO2E8bDthKz1pKWVbMF09dFthXSxlWzFdPXRbYSsxXSxlWzJdPXRbYSsyXSxlWzNdPXRbYSszXSxvKGUsZSxzKSx0W2FdPWVbMF0sdFthKzFdPWVbMV0sdFthKzJdPWVbMl0sdFthKzNdPWVbM107cmV0dXJuIHR9fSgpO2Z1bmN0aW9uIGdoKGUpe3JldHVybiBnaD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSxnaChlKX1uaC5mb3JFYWNoPV9oLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShqYyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxqYy5jcmVhdGU9RWgsamMuaWRlbnRpdHk9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF09MCxlWzFdPTAsZVsyXT0wLGVbM109MSxlfSxqYy5zZXRBeGlzQW5nbGU9TWgsamMuZ2V0QXhpc0FuZ2xlPWZ1bmN0aW9uKGUsdCl7dmFyIGk9MipNYXRoLmFjb3ModFszXSkscj1NYXRoLnNpbihpLzIpO3JldHVybiByPnloLkVQU0lMT04/KGVbMF09dFswXS9yLGVbMV09dFsxXS9yLGVbMl09dFsyXS9yKTooZVswXT0xLGVbMV09MCxlWzJdPTApLGl9LGpjLmdldEFuZ2xlPWZ1bmN0aW9uKGUsdCl7dmFyIGk9RGgoZSx0KTtyZXR1cm4gTWF0aC5hY29zKDIqaSppLTEpfSxqYy5tdWx0aXBseT1BaCxqYy5yb3RhdGVYPWZ1bmN0aW9uKGUsdCxpKXtpKj0uNTt2YXIgcj10WzBdLG49dFsxXSxvPXRbMl0scz10WzNdLGE9TWF0aC5zaW4oaSksbD1NYXRoLmNvcyhpKTtyZXR1cm4gZVswXT1yKmwrcyphLGVbMV09bipsK28qYSxlWzJdPW8qbC1uKmEsZVszXT1zKmwtciphLGV9LGpjLnJvdGF0ZVk9ZnVuY3Rpb24oZSx0LGkpe2kqPS41O3ZhciByPXRbMF0sbj10WzFdLG89dFsyXSxzPXRbM10sYT1NYXRoLnNpbihpKSxsPU1hdGguY29zKGkpO3JldHVybiBlWzBdPXIqbC1vKmEsZVsxXT1uKmwrcyphLGVbMl09bypsK3IqYSxlWzNdPXMqbC1uKmEsZX0samMucm90YXRlWj1mdW5jdGlvbihlLHQsaSl7aSo9LjU7dmFyIHI9dFswXSxuPXRbMV0sbz10WzJdLHM9dFszXSxhPU1hdGguc2luKGkpLGw9TWF0aC5jb3MoaSk7cmV0dXJuIGVbMF09cipsK24qYSxlWzFdPW4qbC1yKmEsZVsyXT1vKmwrcyphLGVbM109cypsLW8qYSxlfSxqYy5jYWxjdWxhdGVXPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dFswXSxyPXRbMV0sbj10WzJdO3JldHVybiBlWzBdPWksZVsxXT1yLGVbMl09bixlWzNdPU1hdGguc3FydChNYXRoLmFicygxLWkqaS1yKnItbipuKSksZX0samMuZXhwPVNoLGpjLmxuPUloLGpjLnBvdz1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIEloKGUsdCksUGgoZSxlLGkpLFNoKGUsZSksZX0samMuc2xlcnA9Q2gsamMucmFuZG9tPWZ1bmN0aW9uKGUpe3ZhciB0PXloLlJBTkRPTSgpLGk9eWguUkFORE9NKCkscj15aC5SQU5ET00oKSxuPU1hdGguc3FydCgxLXQpLG89TWF0aC5zcXJ0KHQpO3JldHVybiBlWzBdPW4qTWF0aC5zaW4oMipNYXRoLlBJKmkpLGVbMV09bipNYXRoLmNvcygyKk1hdGguUEkqaSksZVsyXT1vKk1hdGguc2luKDIqTWF0aC5QSSpyKSxlWzNdPW8qTWF0aC5jb3MoMipNYXRoLlBJKnIpLGV9LGpjLmludmVydD1mdW5jdGlvbihlLHQpe3ZhciBpPXRbMF0scj10WzFdLG49dFsyXSxvPXRbM10scz1pKmkrcipyK24qbitvKm8sYT1zPzEvczowO3JldHVybiBlWzBdPS1pKmEsZVsxXT0tciphLGVbMl09LW4qYSxlWzNdPW8qYSxlfSxqYy5jb25qdWdhdGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT0tdFswXSxlWzFdPS10WzFdLGVbMl09LXRbMl0sZVszXT10WzNdLGV9LGpjLmZyb21NYXQzPXpoLGpjLmZyb21FdWxlcj1mdW5jdGlvbihlLHQsaSxyKXt2YXIgbj0uNSpNYXRoLlBJLzE4MDt0Kj1uLGkqPW4scio9bjt2YXIgbz1NYXRoLnNpbih0KSxzPU1hdGguY29zKHQpLGE9TWF0aC5zaW4oaSksbD1NYXRoLmNvcyhpKSxjPU1hdGguc2luKHIpLGg9TWF0aC5jb3Mocik7cmV0dXJuIGVbMF09bypsKmgtcyphKmMsZVsxXT1zKmEqaCtvKmwqYyxlWzJdPXMqbCpjLW8qYSpoLGVbM109cypsKmgrbyphKmMsZX0samMuc3RyPWZ1bmN0aW9uKGUpe3JldHVybiBcInF1YXQoXCIrZVswXStcIiwgXCIrZVsxXStcIiwgXCIrZVsyXStcIiwgXCIrZVszXStcIilcIn0samMuc2V0QXhlcz1qYy5zcWxlcnA9amMucm90YXRpb25Ubz1qYy5lcXVhbHM9amMuZXhhY3RFcXVhbHM9amMubm9ybWFsaXplPWpjLnNxckxlbj1qYy5zcXVhcmVkTGVuZ3RoPWpjLmxlbj1qYy5sZW5ndGg9amMubGVycD1qYy5kb3Q9amMuc2NhbGU9amMubXVsPWpjLmFkZD1qYy5zZXQ9amMuY29weT1qYy5mcm9tVmFsdWVzPWpjLmNsb25lPXZvaWQgMDt2YXIgeWg9VGgobGMpLHhoPVRoKE1jKSx2aD1UaChHYyksYmg9VGgobmgpO2Z1bmN0aW9uIHdoKGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIFdlYWtNYXApcmV0dXJuIG51bGw7dmFyIHQ9bmV3IFdlYWtNYXAsaT1uZXcgV2Vha01hcDtyZXR1cm4gKHdoPWZ1bmN0aW9uKGUpe3JldHVybiBlP2k6dH0pKGUpfWZ1bmN0aW9uIFRoKGUsdCl7aWYoIXQmJmUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTtpZihudWxsPT09ZXx8XCJvYmplY3RcIiE9PWdoKGUpJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXJldHVybiB7ZGVmYXVsdDplfTt2YXIgaT13aCh0KTtpZihpJiZpLmhhcyhlKSlyZXR1cm4gaS5nZXQoZSk7dmFyIHI9e30sbj1PYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7Zm9yKHZhciBvIGluIGUpaWYoXCJkZWZhdWx0XCIhPT1vJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxvKSl7dmFyIHM9bj9PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbyk6bnVsbDtzJiYocy5nZXR8fHMuc2V0KT9PYmplY3QuZGVmaW5lUHJvcGVydHkocixvLHMpOnJbb109ZVtvXTt9cmV0dXJuIHIuZGVmYXVsdD1lLGkmJmkuc2V0KGUscikscn1mdW5jdGlvbiBFaCgpe3ZhciBlPW5ldyB5aC5BUlJBWV9UWVBFKDQpO3JldHVybiB5aC5BUlJBWV9UWVBFIT1GbG9hdDMyQXJyYXkmJihlWzBdPTAsZVsxXT0wLGVbMl09MCksZVszXT0xLGV9ZnVuY3Rpb24gTWgoZSx0LGkpe2kqPS41O3ZhciByPU1hdGguc2luKGkpO3JldHVybiBlWzBdPXIqdFswXSxlWzFdPXIqdFsxXSxlWzJdPXIqdFsyXSxlWzNdPU1hdGguY29zKGkpLGV9ZnVuY3Rpb24gQWgoZSx0LGkpe3ZhciByPXRbMF0sbj10WzFdLG89dFsyXSxzPXRbM10sYT1pWzBdLGw9aVsxXSxjPWlbMl0saD1pWzNdO3JldHVybiBlWzBdPXIqaCtzKmErbipjLW8qbCxlWzFdPW4qaCtzKmwrbyphLXIqYyxlWzJdPW8qaCtzKmMrcipsLW4qYSxlWzNdPXMqaC1yKmEtbipsLW8qYyxlfWZ1bmN0aW9uIFNoKGUsdCl7dmFyIGk9dFswXSxyPXRbMV0sbj10WzJdLG89dFszXSxzPU1hdGguc3FydChpKmkrcipyK24qbiksYT1NYXRoLmV4cChvKSxsPXM+MD9hKk1hdGguc2luKHMpL3M6MDtyZXR1cm4gZVswXT1pKmwsZVsxXT1yKmwsZVsyXT1uKmwsZVszXT1hKk1hdGguY29zKHMpLGV9ZnVuY3Rpb24gSWgoZSx0KXt2YXIgaT10WzBdLHI9dFsxXSxuPXRbMl0sbz10WzNdLHM9TWF0aC5zcXJ0KGkqaStyKnIrbipuKSxhPXM+MD9NYXRoLmF0YW4yKHMsbykvczowO3JldHVybiBlWzBdPWkqYSxlWzFdPXIqYSxlWzJdPW4qYSxlWzNdPS41Kk1hdGgubG9nKGkqaStyKnIrbipuK28qbyksZX1mdW5jdGlvbiBDaChlLHQsaSxyKXt2YXIgbixvLHMsYSxsLGM9dFswXSxoPXRbMV0sdT10WzJdLGQ9dFszXSxwPWlbMF0sZj1pWzFdLG09aVsyXSxfPWlbM107cmV0dXJuIChvPWMqcCtoKmYrdSptK2QqXyk8MCYmKG89LW8scD0tcCxmPS1mLG09LW0sXz0tXyksMS1vPnloLkVQU0lMT04/KG49TWF0aC5hY29zKG8pLHM9TWF0aC5zaW4obiksYT1NYXRoLnNpbigoMS1yKSpuKS9zLGw9TWF0aC5zaW4ocipuKS9zKTooYT0xLXIsbD1yKSxlWzBdPWEqYytsKnAsZVsxXT1hKmgrbCpmLGVbMl09YSp1K2wqbSxlWzNdPWEqZCtsKl8sZX1mdW5jdGlvbiB6aChlLHQpe3ZhciBpLHI9dFswXSt0WzRdK3RbOF07aWYocj4wKWk9TWF0aC5zcXJ0KHIrMSksZVszXT0uNSppLGVbMF09KHRbNV0tdFs3XSkqKGk9LjUvaSksZVsxXT0odFs2XS10WzJdKSppLGVbMl09KHRbMV0tdFszXSkqaTtlbHNlIHt2YXIgbj0wO3RbNF0+dFswXSYmKG49MSksdFs4XT50WzMqbituXSYmKG49Mik7dmFyIG89KG4rMSklMyxzPShuKzIpJTM7aT1NYXRoLnNxcnQodFszKm4rbl0tdFszKm8rb10tdFszKnMrc10rMSksZVtuXT0uNSppLGVbM109KHRbMypvK3NdLXRbMypzK29dKSooaT0uNS9pKSxlW29dPSh0WzMqbytuXSt0WzMqbitvXSkqaSxlW3NdPSh0WzMqcytuXSt0WzMqbitzXSkqaTt9cmV0dXJuIGV9amMuY2xvbmU9YmguY2xvbmUsamMuZnJvbVZhbHVlcz1iaC5mcm9tVmFsdWVzLGpjLmNvcHk9YmguY29weSxqYy5zZXQ9Ymguc2V0LGpjLmFkZD1iaC5hZGQsamMubXVsPUFoO3ZhciBQaD1iaC5zY2FsZTtqYy5zY2FsZT1QaDt2YXIgRGg9YmguZG90O2pjLmRvdD1EaCxqYy5sZXJwPWJoLmxlcnA7dmFyIFJoPWJoLmxlbmd0aDtqYy5sZW5ndGg9UmgsamMubGVuPVJoO3ZhciBMaD1iaC5zcXVhcmVkTGVuZ3RoO2pjLnNxdWFyZWRMZW5ndGg9TGgsamMuc3FyTGVuPUxoO3ZhciBraD1iaC5ub3JtYWxpemU7amMubm9ybWFsaXplPWtoLGpjLmV4YWN0RXF1YWxzPWJoLmV4YWN0RXF1YWxzLGpjLmVxdWFscz1iaC5lcXVhbHM7dmFyIE9oLEJoLEZoLE5oPShPaD12aC5jcmVhdGUoKSxCaD12aC5mcm9tVmFsdWVzKDEsMCwwKSxGaD12aC5mcm9tVmFsdWVzKDAsMSwwKSxmdW5jdGlvbihlLHQsaSl7dmFyIHI9dmguZG90KHQsaSk7cmV0dXJuIHI8LS45OTk5OTk/KHZoLmNyb3NzKE9oLEJoLHQpLHZoLmxlbihPaCk8MWUtNiYmdmguY3Jvc3MoT2gsRmgsdCksdmgubm9ybWFsaXplKE9oLE9oKSxNaChlLE9oLE1hdGguUEkpLGUpOnI+Ljk5OTk5OT8oZVswXT0wLGVbMV09MCxlWzJdPTAsZVszXT0xLGUpOih2aC5jcm9zcyhPaCx0LGkpLGVbMF09T2hbMF0sZVsxXT1PaFsxXSxlWzJdPU9oWzJdLGVbM109MStyLGtoKGUsZSkpfSk7amMucm90YXRpb25Ubz1OaDt2YXIgVWgsVmgsamg9KFVoPUVoKCksVmg9RWgoKSxmdW5jdGlvbihlLHQsaSxyLG4sbyl7cmV0dXJuIENoKFVoLHQsbixvKSxDaChWaCxpLHIsbyksQ2goZSxVaCxWaCwyKm8qKDEtbykpLGV9KTtqYy5zcWxlcnA9amg7dmFyIEdoLHFoPShHaD14aC5jcmVhdGUoKSxmdW5jdGlvbihlLHQsaSxyKXtyZXR1cm4gR2hbMF09aVswXSxHaFszXT1pWzFdLEdoWzZdPWlbMl0sR2hbMV09clswXSxHaFs0XT1yWzFdLEdoWzddPXJbMl0sR2hbMl09LXRbMF0sR2hbNV09LXRbMV0sR2hbOF09LXRbMl0sa2goZSx6aChlLEdoKSl9KTtqYy5zZXRBeGVzPXFoO3ZhciBaaD17fTtmdW5jdGlvbiAkaChlKXtyZXR1cm4gJGg9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0sJGgoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KFpoLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLFpoLmNyZWF0ZT1mdW5jdGlvbigpe3ZhciBlPW5ldyBXaC5BUlJBWV9UWVBFKDgpO3JldHVybiBXaC5BUlJBWV9UWVBFIT1GbG9hdDMyQXJyYXkmJihlWzBdPTAsZVsxXT0wLGVbMl09MCxlWzRdPTAsZVs1XT0wLGVbNl09MCxlWzddPTApLGVbM109MSxlfSxaaC5jbG9uZT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgV2guQVJSQVlfVFlQRSg4KTtyZXR1cm4gdFswXT1lWzBdLHRbMV09ZVsxXSx0WzJdPWVbMl0sdFszXT1lWzNdLHRbNF09ZVs0XSx0WzVdPWVbNV0sdFs2XT1lWzZdLHRbN109ZVs3XSx0fSxaaC5mcm9tVmFsdWVzPWZ1bmN0aW9uKGUsdCxpLHIsbixvLHMsYSl7dmFyIGw9bmV3IFdoLkFSUkFZX1RZUEUoOCk7cmV0dXJuIGxbMF09ZSxsWzFdPXQsbFsyXT1pLGxbM109cixsWzRdPW4sbFs1XT1vLGxbNl09cyxsWzddPWEsbH0sWmguZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25WYWx1ZXM9ZnVuY3Rpb24oZSx0LGkscixuLG8scyl7dmFyIGE9bmV3IFdoLkFSUkFZX1RZUEUoOCk7YVswXT1lLGFbMV09dCxhWzJdPWksYVszXT1yO3ZhciBsPS41Km4sYz0uNSpvLGg9LjUqcztyZXR1cm4gYVs0XT1sKnIrYyppLWgqdCxhWzVdPWMqcitoKmUtbCppLGFbNl09aCpyK2wqdC1jKmUsYVs3XT0tbCplLWMqdC1oKmksYX0sWmguZnJvbVJvdGF0aW9uVHJhbnNsYXRpb249SmgsWmguZnJvbVRyYW5zbGF0aW9uPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09MCxlWzFdPTAsZVsyXT0wLGVbM109MSxlWzRdPS41KnRbMF0sZVs1XT0uNSp0WzFdLGVbNl09LjUqdFsyXSxlWzddPTAsZX0sWmguZnJvbVJvdGF0aW9uPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09dFswXSxlWzFdPXRbMV0sZVsyXT10WzJdLGVbM109dFszXSxlWzRdPTAsZVs1XT0wLGVbNl09MCxlWzddPTAsZX0sWmguZnJvbU1hdDQ9ZnVuY3Rpb24oZSx0KXt2YXIgaT1IaC5jcmVhdGUoKTtYaC5nZXRSb3RhdGlvbihpLHQpO3ZhciByPW5ldyBXaC5BUlJBWV9UWVBFKDMpO3JldHVybiBYaC5nZXRUcmFuc2xhdGlvbihyLHQpLEpoKGUsaSxyKSxlfSxaaC5jb3B5PVFoLFpoLmlkZW50aXR5PWZ1bmN0aW9uKGUpe3JldHVybiBlWzBdPTAsZVsxXT0wLGVbMl09MCxlWzNdPTEsZVs0XT0wLGVbNV09MCxlWzZdPTAsZVs3XT0wLGV9LFpoLnNldD1mdW5jdGlvbihlLHQsaSxyLG4sbyxzLGEsbCl7cmV0dXJuIGVbMF09dCxlWzFdPWksZVsyXT1yLGVbM109bixlWzRdPW8sZVs1XT1zLGVbNl09YSxlWzddPWwsZX0sWmguZ2V0RHVhbD1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPXRbNF0sZVsxXT10WzVdLGVbMl09dFs2XSxlWzNdPXRbN10sZX0sWmguc2V0RHVhbD1mdW5jdGlvbihlLHQpe3JldHVybiBlWzRdPXRbMF0sZVs1XT10WzFdLGVbNl09dFsyXSxlWzddPXRbM10sZX0sWmguZ2V0VHJhbnNsYXRpb249ZnVuY3Rpb24oZSx0KXt2YXIgaT10WzRdLHI9dFs1XSxuPXRbNl0sbz10WzddLHM9LXRbMF0sYT0tdFsxXSxsPS10WzJdLGM9dFszXTtyZXR1cm4gZVswXT0yKihpKmMrbypzK3IqbC1uKmEpLGVbMV09MioocipjK28qYStuKnMtaSpsKSxlWzJdPTIqKG4qYytvKmwraSphLXIqcyksZX0sWmgudHJhbnNsYXRlPWZ1bmN0aW9uKGUsdCxpKXt2YXIgcj10WzBdLG49dFsxXSxvPXRbMl0scz10WzNdLGE9LjUqaVswXSxsPS41KmlbMV0sYz0uNSppWzJdLGg9dFs0XSx1PXRbNV0sZD10WzZdLHA9dFs3XTtyZXR1cm4gZVswXT1yLGVbMV09bixlWzJdPW8sZVszXT1zLGVbNF09cyphK24qYy1vKmwraCxlWzVdPXMqbCtvKmEtcipjK3UsZVs2XT1zKmMrcipsLW4qYStkLGVbN109LXIqYS1uKmwtbypjK3AsZX0sWmgucm90YXRlWD1mdW5jdGlvbihlLHQsaSl7dmFyIHI9LXRbMF0sbj0tdFsxXSxvPS10WzJdLHM9dFszXSxhPXRbNF0sbD10WzVdLGM9dFs2XSxoPXRbN10sdT1hKnMraCpyK2wqby1jKm4sZD1sKnMraCpuK2Mqci1hKm8scD1jKnMraCpvK2Eqbi1sKnIsZj1oKnMtYSpyLWwqbi1jKm87cmV0dXJuIEhoLnJvdGF0ZVgoZSx0LGkpLGVbNF09dSoocz1lWzNdKStmKihyPWVbMF0pK2QqKG89ZVsyXSktcCoobj1lWzFdKSxlWzVdPWQqcytmKm4rcCpyLXUqbyxlWzZdPXAqcytmKm8rdSpuLWQqcixlWzddPWYqcy11KnItZCpuLXAqbyxlfSxaaC5yb3RhdGVZPWZ1bmN0aW9uKGUsdCxpKXt2YXIgcj0tdFswXSxuPS10WzFdLG89LXRbMl0scz10WzNdLGE9dFs0XSxsPXRbNV0sYz10WzZdLGg9dFs3XSx1PWEqcytoKnIrbCpvLWMqbixkPWwqcytoKm4rYypyLWEqbyxwPWMqcytoKm8rYSpuLWwqcixmPWgqcy1hKnItbCpuLWMqbztyZXR1cm4gSGgucm90YXRlWShlLHQsaSksZVs0XT11KihzPWVbM10pK2YqKHI9ZVswXSkrZCoobz1lWzJdKS1wKihuPWVbMV0pLGVbNV09ZCpzK2YqbitwKnItdSpvLGVbNl09cCpzK2Yqbyt1Km4tZCpyLGVbN109ZipzLXUqci1kKm4tcCpvLGV9LFpoLnJvdGF0ZVo9ZnVuY3Rpb24oZSx0LGkpe3ZhciByPS10WzBdLG49LXRbMV0sbz0tdFsyXSxzPXRbM10sYT10WzRdLGw9dFs1XSxjPXRbNl0saD10WzddLHU9YSpzK2gqcitsKm8tYypuLGQ9bCpzK2gqbitjKnItYSpvLHA9YypzK2gqbythKm4tbCpyLGY9aCpzLWEqci1sKm4tYypvO3JldHVybiBIaC5yb3RhdGVaKGUsdCxpKSxlWzRdPXUqKHM9ZVszXSkrZioocj1lWzBdKStkKihvPWVbMl0pLXAqKG49ZVsxXSksZVs1XT1kKnMrZipuK3Aqci11Km8sZVs2XT1wKnMrZipvK3Uqbi1kKnIsZVs3XT1mKnMtdSpyLWQqbi1wKm8sZX0sWmgucm90YXRlQnlRdWF0QXBwZW5kPWZ1bmN0aW9uKGUsdCxpKXt2YXIgcj1pWzBdLG49aVsxXSxvPWlbMl0scz1pWzNdLGE9dFswXSxsPXRbMV0sYz10WzJdLGg9dFszXTtyZXR1cm4gZVswXT1hKnMraCpyK2wqby1jKm4sZVsxXT1sKnMraCpuK2Mqci1hKm8sZVsyXT1jKnMraCpvK2Eqbi1sKnIsZVszXT1oKnMtYSpyLWwqbi1jKm8sZVs0XT0oYT10WzRdKSpzKyhoPXRbN10pKnIrKGw9dFs1XSkqby0oYz10WzZdKSpuLGVbNV09bCpzK2gqbitjKnItYSpvLGVbNl09YypzK2gqbythKm4tbCpyLGVbN109aCpzLWEqci1sKm4tYypvLGV9LFpoLnJvdGF0ZUJ5UXVhdFByZXBlbmQ9ZnVuY3Rpb24oZSx0LGkpe3ZhciByPXRbMF0sbj10WzFdLG89dFsyXSxzPXRbM10sYT1pWzBdLGw9aVsxXSxjPWlbMl0saD1pWzNdO3JldHVybiBlWzBdPXIqaCtzKmErbipjLW8qbCxlWzFdPW4qaCtzKmwrbyphLXIqYyxlWzJdPW8qaCtzKmMrcipsLW4qYSxlWzNdPXMqaC1yKmEtbipsLW8qYyxlWzRdPXIqKGg9aVs3XSkrcyooYT1pWzRdKStuKihjPWlbNl0pLW8qKGw9aVs1XSksZVs1XT1uKmgrcypsK28qYS1yKmMsZVs2XT1vKmgrcypjK3IqbC1uKmEsZVs3XT1zKmgtciphLW4qbC1vKmMsZX0sWmgucm90YXRlQXJvdW5kQXhpcz1mdW5jdGlvbihlLHQsaSxyKXtpZihNYXRoLmFicyhyKTxXaC5FUFNJTE9OKXJldHVybiBRaChlLHQpO3ZhciBuPU1hdGguaHlwb3QoaVswXSxpWzFdLGlbMl0pO3IqPS41O3ZhciBvPU1hdGguc2luKHIpLHM9byppWzBdL24sYT1vKmlbMV0vbixsPW8qaVsyXS9uLGM9TWF0aC5jb3MociksaD10WzBdLHU9dFsxXSxkPXRbMl0scD10WzNdO2VbMF09aCpjK3Aqcyt1KmwtZCphLGVbMV09dSpjK3AqYStkKnMtaCpsLGVbMl09ZCpjK3AqbCtoKmEtdSpzLGVbM109cCpjLWgqcy11KmEtZCpsO3ZhciBmPXRbNF0sbT10WzVdLF89dFs2XSxnPXRbN107cmV0dXJuIGVbNF09ZipjK2cqcyttKmwtXyphLGVbNV09bSpjK2cqYStfKnMtZipsLGVbNl09XypjK2cqbCtmKmEtbSpzLGVbN109ZypjLWYqcy1tKmEtXypsLGV9LFpoLmFkZD1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIGVbMF09dFswXStpWzBdLGVbMV09dFsxXStpWzFdLGVbMl09dFsyXStpWzJdLGVbM109dFszXStpWzNdLGVbNF09dFs0XStpWzRdLGVbNV09dFs1XStpWzVdLGVbNl09dFs2XStpWzZdLGVbN109dFs3XStpWzddLGV9LFpoLm11bHRpcGx5PWV1LFpoLnNjYWxlPWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gZVswXT10WzBdKmksZVsxXT10WzFdKmksZVsyXT10WzJdKmksZVszXT10WzNdKmksZVs0XT10WzRdKmksZVs1XT10WzVdKmksZVs2XT10WzZdKmksZVs3XT10WzddKmksZX0sWmgubGVycD1mdW5jdGlvbihlLHQsaSxyKXt2YXIgbj0xLXI7cmV0dXJuIHR1KHQsaSk8MCYmKHI9LXIpLGVbMF09dFswXSpuK2lbMF0qcixlWzFdPXRbMV0qbitpWzFdKnIsZVsyXT10WzJdKm4raVsyXSpyLGVbM109dFszXSpuK2lbM10qcixlWzRdPXRbNF0qbitpWzRdKnIsZVs1XT10WzVdKm4raVs1XSpyLGVbNl09dFs2XSpuK2lbNl0qcixlWzddPXRbN10qbitpWzddKnIsZX0sWmguaW52ZXJ0PWZ1bmN0aW9uKGUsdCl7dmFyIGk9cnUodCk7cmV0dXJuIGVbMF09LXRbMF0vaSxlWzFdPS10WzFdL2ksZVsyXT0tdFsyXS9pLGVbM109dFszXS9pLGVbNF09LXRbNF0vaSxlWzVdPS10WzVdL2ksZVs2XT0tdFs2XS9pLGVbN109dFs3XS9pLGV9LFpoLmNvbmp1Z2F0ZT1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPS10WzBdLGVbMV09LXRbMV0sZVsyXT0tdFsyXSxlWzNdPXRbM10sZVs0XT0tdFs0XSxlWzVdPS10WzVdLGVbNl09LXRbNl0sZVs3XT10WzddLGV9LFpoLm5vcm1hbGl6ZT1mdW5jdGlvbihlLHQpe3ZhciBpPXJ1KHQpO2lmKGk+MCl7aT1NYXRoLnNxcnQoaSk7dmFyIHI9dFswXS9pLG49dFsxXS9pLG89dFsyXS9pLHM9dFszXS9pLGE9dFs0XSxsPXRbNV0sYz10WzZdLGg9dFs3XSx1PXIqYStuKmwrbypjK3MqaDtlWzBdPXIsZVsxXT1uLGVbMl09byxlWzNdPXMsZVs0XT0oYS1yKnUpL2ksZVs1XT0obC1uKnUpL2ksZVs2XT0oYy1vKnUpL2ksZVs3XT0oaC1zKnUpL2k7fXJldHVybiBlfSxaaC5zdHI9ZnVuY3Rpb24oZSl7cmV0dXJuIFwicXVhdDIoXCIrZVswXStcIiwgXCIrZVsxXStcIiwgXCIrZVsyXStcIiwgXCIrZVszXStcIiwgXCIrZVs0XStcIiwgXCIrZVs1XStcIiwgXCIrZVs2XStcIiwgXCIrZVs3XStcIilcIn0sWmguZXhhY3RFcXVhbHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT09PXRbMF0mJmVbMV09PT10WzFdJiZlWzJdPT09dFsyXSYmZVszXT09PXRbM10mJmVbNF09PT10WzRdJiZlWzVdPT09dFs1XSYmZVs2XT09PXRbNl0mJmVbN109PT10WzddfSxaaC5lcXVhbHM9ZnVuY3Rpb24oZSx0KXt2YXIgaT1lWzBdLHI9ZVsxXSxuPWVbMl0sbz1lWzNdLHM9ZVs0XSxhPWVbNV0sbD1lWzZdLGM9ZVs3XSxoPXRbMF0sdT10WzFdLGQ9dFsyXSxwPXRbM10sZj10WzRdLG09dFs1XSxfPXRbNl0sZz10WzddO3JldHVybiBNYXRoLmFicyhpLWgpPD1XaC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoaSksTWF0aC5hYnMoaCkpJiZNYXRoLmFicyhyLXUpPD1XaC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMociksTWF0aC5hYnModSkpJiZNYXRoLmFicyhuLWQpPD1XaC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMobiksTWF0aC5hYnMoZCkpJiZNYXRoLmFicyhvLXApPD1XaC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMobyksTWF0aC5hYnMocCkpJiZNYXRoLmFicyhzLWYpPD1XaC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMocyksTWF0aC5hYnMoZikpJiZNYXRoLmFicyhhLW0pPD1XaC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYSksTWF0aC5hYnMobSkpJiZNYXRoLmFicyhsLV8pPD1XaC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMobCksTWF0aC5hYnMoXykpJiZNYXRoLmFicyhjLWcpPD1XaC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYyksTWF0aC5hYnMoZykpfSxaaC5zcXJMZW49Wmguc3F1YXJlZExlbmd0aD1aaC5sZW49WmgubGVuZ3RoPVpoLmRvdD1aaC5tdWw9Wmguc2V0UmVhbD1aaC5nZXRSZWFsPXZvaWQgMDt2YXIgV2g9S2gobGMpLEhoPUtoKGpjKSxYaD1LaChQYyk7ZnVuY3Rpb24gWWgoZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgV2Vha01hcClyZXR1cm4gbnVsbDt2YXIgdD1uZXcgV2Vha01hcCxpPW5ldyBXZWFrTWFwO3JldHVybiAoWWg9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/aTp0fSkoZSl9ZnVuY3Rpb24gS2goZSx0KXtpZighdCYmZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO2lmKG51bGw9PT1lfHxcIm9iamVjdFwiIT09JGgoZSkmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpcmV0dXJuIHtkZWZhdWx0OmV9O3ZhciBpPVloKHQpO2lmKGkmJmkuaGFzKGUpKXJldHVybiBpLmdldChlKTt2YXIgcj17fSxuPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtmb3IodmFyIG8gaW4gZSlpZihcImRlZmF1bHRcIiE9PW8mJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG8pKXt2YXIgcz1uP09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxvKTpudWxsO3MmJihzLmdldHx8cy5zZXQpP09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLG8scyk6cltvXT1lW29dO31yZXR1cm4gci5kZWZhdWx0PWUsaSYmaS5zZXQoZSxyKSxyfWZ1bmN0aW9uIEpoKGUsdCxpKXt2YXIgcj0uNSppWzBdLG49LjUqaVsxXSxvPS41KmlbMl0scz10WzBdLGE9dFsxXSxsPXRbMl0sYz10WzNdO3JldHVybiBlWzBdPXMsZVsxXT1hLGVbMl09bCxlWzNdPWMsZVs0XT1yKmMrbipsLW8qYSxlWzVdPW4qYytvKnMtcipsLGVbNl09bypjK3IqYS1uKnMsZVs3XT0tcipzLW4qYS1vKmwsZX1mdW5jdGlvbiBRaChlLHQpe3JldHVybiBlWzBdPXRbMF0sZVsxXT10WzFdLGVbMl09dFsyXSxlWzNdPXRbM10sZVs0XT10WzRdLGVbNV09dFs1XSxlWzZdPXRbNl0sZVs3XT10WzddLGV9ZnVuY3Rpb24gZXUoZSx0LGkpe3ZhciByPXRbMF0sbj10WzFdLG89dFsyXSxzPXRbM10sYT1pWzRdLGw9aVs1XSxjPWlbNl0saD1pWzddLHU9dFs0XSxkPXRbNV0scD10WzZdLGY9dFs3XSxtPWlbMF0sXz1pWzFdLGc9aVsyXSx5PWlbM107cmV0dXJuIGVbMF09cip5K3MqbStuKmctbypfLGVbMV09bip5K3MqXytvKm0tcipnLGVbMl09byp5K3MqZytyKl8tbiptLGVbM109cyp5LXIqbS1uKl8tbypnLGVbNF09cipoK3MqYStuKmMtbypsK3UqeStmKm0rZCpnLXAqXyxlWzVdPW4qaCtzKmwrbyphLXIqYytkKnkrZipfK3AqbS11KmcsZVs2XT1vKmgrcypjK3IqbC1uKmErcCp5K2YqZyt1Kl8tZCptLGVbN109cypoLXIqYS1uKmwtbypjK2YqeS11Km0tZCpfLXAqZyxlfVpoLmdldFJlYWw9SGguY29weSxaaC5zZXRSZWFsPUhoLmNvcHksWmgubXVsPWV1O3ZhciB0dT1IaC5kb3Q7WmguZG90PXR1O3ZhciBpdT1IaC5sZW5ndGg7WmgubGVuZ3RoPWl1LFpoLmxlbj1pdTt2YXIgcnU9SGguc3F1YXJlZExlbmd0aDtaaC5zcXVhcmVkTGVuZ3RoPXJ1LFpoLnNxckxlbj1ydTt2YXIgbnU9e307ZnVuY3Rpb24gb3UoZSl7cmV0dXJuIG91PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LG91KGUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShudSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxudS5jcmVhdGU9bHUsbnUuY2xvbmU9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHN1LkFSUkFZX1RZUEUoMik7cmV0dXJuIHRbMF09ZVswXSx0WzFdPWVbMV0sdH0sbnUuZnJvbVZhbHVlcz1mdW5jdGlvbihlLHQpe3ZhciBpPW5ldyBzdS5BUlJBWV9UWVBFKDIpO3JldHVybiBpWzBdPWUsaVsxXT10LGl9LG51LmNvcHk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT10WzBdLGVbMV09dFsxXSxlfSxudS5zZXQ9ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBlWzBdPXQsZVsxXT1pLGV9LG51LmFkZD1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIGVbMF09dFswXStpWzBdLGVbMV09dFsxXStpWzFdLGV9LG51LnN1YnRyYWN0PWN1LG51Lm11bHRpcGx5PWh1LG51LmRpdmlkZT11dSxudS5jZWlsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09TWF0aC5jZWlsKHRbMF0pLGVbMV09TWF0aC5jZWlsKHRbMV0pLGV9LG51LmZsb29yPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09TWF0aC5mbG9vcih0WzBdKSxlWzFdPU1hdGguZmxvb3IodFsxXSksZX0sbnUubWluPWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gZVswXT1NYXRoLm1pbih0WzBdLGlbMF0pLGVbMV09TWF0aC5taW4odFsxXSxpWzFdKSxlfSxudS5tYXg9ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBlWzBdPU1hdGgubWF4KHRbMF0saVswXSksZVsxXT1NYXRoLm1heCh0WzFdLGlbMV0pLGV9LG51LnJvdW5kPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09TWF0aC5yb3VuZCh0WzBdKSxlWzFdPU1hdGgucm91bmQodFsxXSksZX0sbnUuc2NhbGU9ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBlWzBdPXRbMF0qaSxlWzFdPXRbMV0qaSxlfSxudS5zY2FsZUFuZEFkZD1mdW5jdGlvbihlLHQsaSxyKXtyZXR1cm4gZVswXT10WzBdK2lbMF0qcixlWzFdPXRbMV0raVsxXSpyLGV9LG51LmRpc3RhbmNlPWR1LG51LnNxdWFyZWREaXN0YW5jZT1wdSxudS5sZW5ndGg9ZnUsbnUuc3F1YXJlZExlbmd0aD1tdSxudS5uZWdhdGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT0tdFswXSxlWzFdPS10WzFdLGV9LG51LmludmVyc2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT0xL3RbMF0sZVsxXT0xL3RbMV0sZX0sbnUubm9ybWFsaXplPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dFswXSxyPXRbMV0sbj1pKmkrcipyO3JldHVybiBuPjAmJihuPTEvTWF0aC5zcXJ0KG4pKSxlWzBdPXRbMF0qbixlWzFdPXRbMV0qbixlfSxudS5kb3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXSp0WzBdK2VbMV0qdFsxXX0sbnUuY3Jvc3M9ZnVuY3Rpb24oZSx0LGkpe3ZhciByPXRbMF0qaVsxXS10WzFdKmlbMF07cmV0dXJuIGVbMF09ZVsxXT0wLGVbMl09cixlfSxudS5sZXJwPWZ1bmN0aW9uKGUsdCxpLHIpe3ZhciBuPXRbMF0sbz10WzFdO3JldHVybiBlWzBdPW4rciooaVswXS1uKSxlWzFdPW8rciooaVsxXS1vKSxlfSxudS5yYW5kb209ZnVuY3Rpb24oZSx0KXt0PXR8fDE7dmFyIGk9MipzdS5SQU5ET00oKSpNYXRoLlBJO3JldHVybiBlWzBdPU1hdGguY29zKGkpKnQsZVsxXT1NYXRoLnNpbihpKSp0LGV9LG51LnRyYW5zZm9ybU1hdDI9ZnVuY3Rpb24oZSx0LGkpe3ZhciByPXRbMF0sbj10WzFdO3JldHVybiBlWzBdPWlbMF0qcitpWzJdKm4sZVsxXT1pWzFdKnIraVszXSpuLGV9LG51LnRyYW5zZm9ybU1hdDJkPWZ1bmN0aW9uKGUsdCxpKXt2YXIgcj10WzBdLG49dFsxXTtyZXR1cm4gZVswXT1pWzBdKnIraVsyXSpuK2lbNF0sZVsxXT1pWzFdKnIraVszXSpuK2lbNV0sZX0sbnUudHJhbnNmb3JtTWF0Mz1mdW5jdGlvbihlLHQsaSl7dmFyIHI9dFswXSxuPXRbMV07cmV0dXJuIGVbMF09aVswXSpyK2lbM10qbitpWzZdLGVbMV09aVsxXSpyK2lbNF0qbitpWzddLGV9LG51LnRyYW5zZm9ybU1hdDQ9ZnVuY3Rpb24oZSx0LGkpe3ZhciByPXRbMF0sbj10WzFdO3JldHVybiBlWzBdPWlbMF0qcitpWzRdKm4raVsxMl0sZVsxXT1pWzFdKnIraVs1XSpuK2lbMTNdLGV9LG51LnJvdGF0ZT1mdW5jdGlvbihlLHQsaSxyKXt2YXIgbj10WzBdLWlbMF0sbz10WzFdLWlbMV0scz1NYXRoLnNpbihyKSxhPU1hdGguY29zKHIpO3JldHVybiBlWzBdPW4qYS1vKnMraVswXSxlWzFdPW4qcytvKmEraVsxXSxlfSxudS5hbmdsZT1mdW5jdGlvbihlLHQpe3ZhciBpPWVbMF0scj1lWzFdLG49dFswXSxvPXRbMV0scz1NYXRoLnNxcnQoaSppK3IqcikqTWF0aC5zcXJ0KG4qbitvKm8pO3JldHVybiBNYXRoLmFjb3MoTWF0aC5taW4oTWF0aC5tYXgocyYmKGkqbityKm8pL3MsLTEpLDEpKX0sbnUuemVybz1mdW5jdGlvbihlKXtyZXR1cm4gZVswXT0wLGVbMV09MCxlfSxudS5zdHI9ZnVuY3Rpb24oZSl7cmV0dXJuIFwidmVjMihcIitlWzBdK1wiLCBcIitlWzFdK1wiKVwifSxudS5leGFjdEVxdWFscz1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPT09dFswXSYmZVsxXT09PXRbMV19LG51LmVxdWFscz1mdW5jdGlvbihlLHQpe3ZhciBpPWVbMF0scj1lWzFdLG49dFswXSxvPXRbMV07cmV0dXJuIE1hdGguYWJzKGktbik8PXN1LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhpKSxNYXRoLmFicyhuKSkmJk1hdGguYWJzKHItbyk8PXN1LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhyKSxNYXRoLmFicyhvKSl9LG51LmZvckVhY2g9bnUuc3FyTGVuPW51LnNxckRpc3Q9bnUuZGlzdD1udS5kaXY9bnUubXVsPW51LnN1Yj1udS5sZW49dm9pZCAwO3ZhciBzdT1mdW5jdGlvbihlLHQpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTtpZihudWxsPT09ZXx8XCJvYmplY3RcIiE9PW91KGUpJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXJldHVybiB7ZGVmYXVsdDplfTt2YXIgaT1hdSh2b2lkIDApO2lmKGkmJmkuaGFzKGUpKXJldHVybiBpLmdldChlKTt2YXIgcj17fSxuPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtmb3IodmFyIG8gaW4gZSlpZihcImRlZmF1bHRcIiE9PW8mJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG8pKXt2YXIgcz1uP09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxvKTpudWxsO3MmJihzLmdldHx8cy5zZXQpP09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLG8scyk6cltvXT1lW29dO31yZXR1cm4gci5kZWZhdWx0PWUsaSYmaS5zZXQoZSxyKSxyfShsYyk7ZnVuY3Rpb24gYXUoZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgV2Vha01hcClyZXR1cm4gbnVsbDt2YXIgdD1uZXcgV2Vha01hcCxpPW5ldyBXZWFrTWFwO3JldHVybiAoYXU9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/aTp0fSkoZSl9ZnVuY3Rpb24gbHUoKXt2YXIgZT1uZXcgc3UuQVJSQVlfVFlQRSgyKTtyZXR1cm4gc3UuQVJSQVlfVFlQRSE9RmxvYXQzMkFycmF5JiYoZVswXT0wLGVbMV09MCksZX1mdW5jdGlvbiBjdShlLHQsaSl7cmV0dXJuIGVbMF09dFswXS1pWzBdLGVbMV09dFsxXS1pWzFdLGV9ZnVuY3Rpb24gaHUoZSx0LGkpe3JldHVybiBlWzBdPXRbMF0qaVswXSxlWzFdPXRbMV0qaVsxXSxlfWZ1bmN0aW9uIHV1KGUsdCxpKXtyZXR1cm4gZVswXT10WzBdL2lbMF0sZVsxXT10WzFdL2lbMV0sZX1mdW5jdGlvbiBkdShlLHQpe3JldHVybiBNYXRoLmh5cG90KHRbMF0tZVswXSx0WzFdLWVbMV0pfWZ1bmN0aW9uIHB1KGUsdCl7dmFyIGk9dFswXS1lWzBdLHI9dFsxXS1lWzFdO3JldHVybiBpKmkrcipyfWZ1bmN0aW9uIGZ1KGUpe3JldHVybiBNYXRoLmh5cG90KGVbMF0sZVsxXSl9ZnVuY3Rpb24gbXUoZSl7dmFyIHQ9ZVswXSxpPWVbMV07cmV0dXJuIHQqdCtpKml9bnUubGVuPWZ1LG51LnN1Yj1jdSxudS5tdWw9aHUsbnUuZGl2PXV1LG51LmRpc3Q9ZHUsbnUuc3FyRGlzdD1wdSxudS5zcXJMZW49bXU7dmFyIF91PWZ1bmN0aW9uKCl7dmFyIGU9bHUoKTtyZXR1cm4gZnVuY3Rpb24odCxpLHIsbixvLHMpe3ZhciBhLGw7Zm9yKGl8fChpPTIpLHJ8fChyPTApLGw9bj9NYXRoLm1pbihuKmkrcix0Lmxlbmd0aCk6dC5sZW5ndGgsYT1yO2E8bDthKz1pKWVbMF09dFthXSxlWzFdPXRbYSsxXSxvKGUsZSxzKSx0W2FdPWVbMF0sdFthKzFdPWVbMV07cmV0dXJuIHR9fSgpO2Z1bmN0aW9uIGd1KGUpe3JldHVybiBndT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSxndShlKX1udS5mb3JFYWNoPV91LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhYyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgeXU9YWMudmVjND1EdT1hYy52ZWMzPWFjLnZlYzI9YWMucXVhdDI9SXU9YWMucXVhdD1BdT1hYy5tYXQ0PUV1PWFjLm1hdDM9YWMubWF0MmQ9YnU9YWMubWF0Mj1hYy5nbE1hdHJpeD12b2lkIDAseHU9a3UobGMpO2FjLmdsTWF0cml4PXh1O3ZhciB2dT1rdShwYyksYnU9YWMubWF0Mj12dSx3dT1rdSh4Yyk7YWMubWF0MmQ9d3U7dmFyIFR1PWt1KE1jKSxFdT1hYy5tYXQzPVR1LE11PWt1KFBjKSxBdT1hYy5tYXQ0PU11LFN1PWt1KGpjKSxJdT1hYy5xdWF0PVN1LEN1PWt1KFpoKTthYy5xdWF0Mj1DdTt2YXIgenU9a3UobnUpO2FjLnZlYzI9enU7dmFyIFB1PWt1KEdjKSxEdT1hYy52ZWMzPVB1LFJ1PWt1KG5oKTtmdW5jdGlvbiBMdShlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBXZWFrTWFwKXJldHVybiBudWxsO3ZhciB0PW5ldyBXZWFrTWFwLGk9bmV3IFdlYWtNYXA7cmV0dXJuIChMdT1mdW5jdGlvbihlKXtyZXR1cm4gZT9pOnR9KShlKX1mdW5jdGlvbiBrdShlLHQpe2lmKCF0JiZlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7aWYobnVsbD09PWV8fFwib2JqZWN0XCIhPT1ndShlKSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZSlyZXR1cm4ge2RlZmF1bHQ6ZX07dmFyIGk9THUodCk7aWYoaSYmaS5oYXMoZSkpcmV0dXJuIGkuZ2V0KGUpO3ZhciByPXt9LG49T2JqZWN0LmRlZmluZVByb3BlcnR5JiZPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO2Zvcih2YXIgbyBpbiBlKWlmKFwiZGVmYXVsdFwiIT09byYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbykpe3ZhciBzPW4/T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLG8pOm51bGw7cyYmKHMuZ2V0fHxzLnNldCk/T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsbyxzKTpyW29dPWVbb107fXJldHVybiByLmRlZmF1bHQ9ZSxpJiZpLnNldChlLHIpLHJ9eXU9YWMudmVjND1SdTtjb25zdCBPdT1JYShbe3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcImFfZ2xvYmVfcG9zXCIsY29tcG9uZW50czozfSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwiYV91dlwiLGNvbXBvbmVudHM6Mn1dKSx7bWVtYmVyczpCdX09T3UsRnU9SWEoW3tuYW1lOlwiYV9wb3NfM1wiLGNvbXBvbmVudHM6Myx0eXBlOlwiSW50MTZcIn1dKTt2YXIgTnU9SWEoW3tuYW1lOlwiYV9wb3NcIix0eXBlOlwiSW50MTZcIixjb21wb25lbnRzOjJ9XSksVXU9e307IWZ1bmN0aW9uKGUsdCl7IWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0LHIpe3ZhciBuPWkoMjU2KmUsMjU2Kih0PU1hdGgucG93KDIsciktdC0xKSxyKSxvPWkoMjU2KihlKzEpLDI1NioodCsxKSxyKTtyZXR1cm4gblswXStcIixcIituWzFdK1wiLFwiK29bMF0rXCIsXCIrb1sxXX1mdW5jdGlvbiBpKGUsdCxpKXt2YXIgcj0yKk1hdGguUEkqNjM3ODEzNy8yNTYvTWF0aC5wb3coMixpKTtyZXR1cm4gW2Uqci0yKk1hdGguUEkqNjM3ODEzNy8yLHQqci0yKk1hdGguUEkqNjM3ODEzNy8yXX1lLmdldFVSTD1mdW5jdGlvbihlLGkscixuLG8scyl7cmV0dXJuIHM9c3x8e30sZStcIj9cIitbXCJiYm94PVwiK3QocixuLG8pLFwiZm9ybWF0PVwiKyhzLmZvcm1hdHx8XCJpbWFnZS9wbmdcIiksXCJzZXJ2aWNlPVwiKyhzLnNlcnZpY2V8fFwiV01TXCIpLFwidmVyc2lvbj1cIisocy52ZXJzaW9ufHxcIjEuMS4xXCIpLFwicmVxdWVzdD1cIisocy5yZXF1ZXN0fHxcIkdldE1hcFwiKSxcInNycz1cIisocy5zcnN8fFwiRVBTRzozODU3XCIpLFwid2lkdGg9XCIrKHMud2lkdGh8fDI1NiksXCJoZWlnaHQ9XCIrKHMuaGVpZ2h0fHwyNTYpLFwibGF5ZXJzPVwiK2ldLmpvaW4oXCImXCIpfSxlLmdldFRpbGVCQm94PXQsZS5nZXRNZXJjQ29vcmRzPWksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7fSh0KTt9KDAsVXUpO3ZhciBWdT1VdTtjbGFzcyBqdXtjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy56PWUsdGhpcy54PXQsdGhpcy55PWksdGhpcy5rZXk9WnUoMCxlLGUsdCxpKTt9ZXF1YWxzKGUpe3JldHVybiB0aGlzLno9PT1lLnomJnRoaXMueD09PWUueCYmdGhpcy55PT09ZS55fXVybChlLHQpe2NvbnN0IGk9VnUuZ2V0VGlsZUJCb3godGhpcy54LHRoaXMueSx0aGlzLnopLHI9ZnVuY3Rpb24oZSx0LGkpe2xldCByLG49XCJcIjtmb3IobGV0IG89ZTtvPjA7by0tKXI9MTw8by0xLG4rPSh0JnI/MTowKSsoaSZyPzI6MCk7cmV0dXJuIG59KHRoaXMueix0aGlzLngsdGhpcy55KTtyZXR1cm4gZVsodGhpcy54K3RoaXMueSklZS5sZW5ndGhdLnJlcGxhY2UoXCJ7cHJlZml4fVwiLCh0aGlzLnglMTYpLnRvU3RyaW5nKDE2KSsodGhpcy55JTE2KS50b1N0cmluZygxNikpLnJlcGxhY2UoL3t6fS9nLFN0cmluZyh0aGlzLnopKS5yZXBsYWNlKC97eH0vZyxTdHJpbmcodGhpcy54KSkucmVwbGFjZSgve3l9L2csU3RyaW5nKFwidG1zXCI9PT10P01hdGgucG93KDIsdGhpcy56KS10aGlzLnktMTp0aGlzLnkpKS5yZXBsYWNlKFwie3F1YWRrZXl9XCIscikucmVwbGFjZShcIntiYm94LWVwc2ctMzg1N31cIixpKX10b1N0cmluZygpe3JldHVybiBgJHt0aGlzLnp9LyR7dGhpcy54fS8ke3RoaXMueX1gfX1jbGFzcyBHdXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMud3JhcD1lLHRoaXMuY2Fub25pY2FsPXQsdGhpcy5rZXk9WnUoZSx0LnosdC56LHQueCx0LnkpO319Y2xhc3MgcXV7Y29uc3RydWN0b3IoZSx0LGkscixuKXt0aGlzLm92ZXJzY2FsZWRaPWUsdGhpcy53cmFwPXQsdGhpcy5jYW5vbmljYWw9bmV3IGp1KGksK3IsK24pLHRoaXMua2V5PTA9PT10JiZlPT09aT90aGlzLmNhbm9uaWNhbC5rZXk6WnUodCxlLGkscixuKTt9ZXF1YWxzKGUpe3JldHVybiB0aGlzLm92ZXJzY2FsZWRaPT09ZS5vdmVyc2NhbGVkWiYmdGhpcy53cmFwPT09ZS53cmFwJiZ0aGlzLmNhbm9uaWNhbC5lcXVhbHMoZS5jYW5vbmljYWwpfXNjYWxlZFRvKGUpe2NvbnN0IHQ9dGhpcy5jYW5vbmljYWwuei1lO3JldHVybiBlPnRoaXMuY2Fub25pY2FsLno/bmV3IHF1KGUsdGhpcy53cmFwLHRoaXMuY2Fub25pY2FsLnosdGhpcy5jYW5vbmljYWwueCx0aGlzLmNhbm9uaWNhbC55KTpuZXcgcXUoZSx0aGlzLndyYXAsZSx0aGlzLmNhbm9uaWNhbC54Pj50LHRoaXMuY2Fub25pY2FsLnk+PnQpfWNhbGN1bGF0ZVNjYWxlZEtleShlLHQ9ITApe2lmKHRoaXMub3ZlcnNjYWxlZFo9PT1lJiZ0KXJldHVybiB0aGlzLmtleTtpZihlPnRoaXMuY2Fub25pY2FsLnopcmV0dXJuIFp1KHRoaXMud3JhcCordCxlLHRoaXMuY2Fub25pY2FsLnosdGhpcy5jYW5vbmljYWwueCx0aGlzLmNhbm9uaWNhbC55KTt7Y29uc3QgaT10aGlzLmNhbm9uaWNhbC56LWU7cmV0dXJuIFp1KHRoaXMud3JhcCordCxlLGUsdGhpcy5jYW5vbmljYWwueD4+aSx0aGlzLmNhbm9uaWNhbC55Pj5pKX19aXNDaGlsZE9mKGUpe2lmKGUud3JhcCE9PXRoaXMud3JhcClyZXR1cm4gITE7Y29uc3QgdD10aGlzLmNhbm9uaWNhbC56LWUuY2Fub25pY2FsLno7cmV0dXJuIDA9PT1lLm92ZXJzY2FsZWRafHxlLm92ZXJzY2FsZWRaPHRoaXMub3ZlcnNjYWxlZFomJmUuY2Fub25pY2FsLno8dGhpcy5jYW5vbmljYWwueiYmZS5jYW5vbmljYWwueD09PXRoaXMuY2Fub25pY2FsLng+PnQmJmUuY2Fub25pY2FsLnk9PT10aGlzLmNhbm9uaWNhbC55Pj50fWNoaWxkcmVuKGUpe2lmKHRoaXMub3ZlcnNjYWxlZFo+PWUpcmV0dXJuIFtuZXcgcXUodGhpcy5vdmVyc2NhbGVkWisxLHRoaXMud3JhcCx0aGlzLmNhbm9uaWNhbC56LHRoaXMuY2Fub25pY2FsLngsdGhpcy5jYW5vbmljYWwueSldO2NvbnN0IHQ9dGhpcy5jYW5vbmljYWwueisxLGk9Mip0aGlzLmNhbm9uaWNhbC54LHI9Mip0aGlzLmNhbm9uaWNhbC55O3JldHVybiBbbmV3IHF1KHQsdGhpcy53cmFwLHQsaSxyKSxuZXcgcXUodCx0aGlzLndyYXAsdCxpKzEsciksbmV3IHF1KHQsdGhpcy53cmFwLHQsaSxyKzEpLG5ldyBxdSh0LHRoaXMud3JhcCx0LGkrMSxyKzEpXX1pc0xlc3NUaGFuKGUpe3JldHVybiB0aGlzLndyYXA8ZS53cmFwfHwhKHRoaXMud3JhcD5lLndyYXApJiYodGhpcy5vdmVyc2NhbGVkWjxlLm92ZXJzY2FsZWRafHwhKHRoaXMub3ZlcnNjYWxlZFo+ZS5vdmVyc2NhbGVkWikmJih0aGlzLmNhbm9uaWNhbC54PGUuY2Fub25pY2FsLnh8fCEodGhpcy5jYW5vbmljYWwueD5lLmNhbm9uaWNhbC54KSYmdGhpcy5jYW5vbmljYWwueTxlLmNhbm9uaWNhbC55KSl9d3JhcHBlZCgpe3JldHVybiBuZXcgcXUodGhpcy5vdmVyc2NhbGVkWiwwLHRoaXMuY2Fub25pY2FsLnosdGhpcy5jYW5vbmljYWwueCx0aGlzLmNhbm9uaWNhbC55KX11bndyYXBUbyhlKXtyZXR1cm4gbmV3IHF1KHRoaXMub3ZlcnNjYWxlZFosZSx0aGlzLmNhbm9uaWNhbC56LHRoaXMuY2Fub25pY2FsLngsdGhpcy5jYW5vbmljYWwueSl9b3ZlcnNjYWxlRmFjdG9yKCl7cmV0dXJuIE1hdGgucG93KDIsdGhpcy5vdmVyc2NhbGVkWi10aGlzLmNhbm9uaWNhbC56KX10b1Vud3JhcHBlZCgpe3JldHVybiBuZXcgR3UodGhpcy53cmFwLHRoaXMuY2Fub25pY2FsKX10b1N0cmluZygpe3JldHVybiBgJHt0aGlzLm92ZXJzY2FsZWRafS8ke3RoaXMuY2Fub25pY2FsLnh9LyR7dGhpcy5jYW5vbmljYWwueX1gfX1mdW5jdGlvbiBadShlLHQsaSxyLG4pe2NvbnN0IG89MTw8TWF0aC5taW4oaSwyMik7bGV0IHM9byoobiVvKStyJW87cmV0dXJuIGUmJmk8MjImJihzKz1vKm8qKChlPDA/LTIqZS0xOjIqZSklKDE8PDIqKDIyLWkpKSkpLDE2KigzMipzK2kpKyh0LWkpfWNvbnN0ICR1PVtlPT57bGV0IHQ9ZS5jYW5vbmljYWwueC0xLGk9ZS53cmFwO3JldHVybiB0PDAmJih0PSgxPDxlLmNhbm9uaWNhbC56KS0xLGktLSksbmV3IHF1KGUub3ZlcnNjYWxlZFosaSxlLmNhbm9uaWNhbC56LHQsZS5jYW5vbmljYWwueSl9LGU9PntsZXQgdD1lLmNhbm9uaWNhbC54KzEsaT1lLndyYXA7cmV0dXJuIHQ9PT0xPDxlLmNhbm9uaWNhbC56JiYodD0wLGkrKyksbmV3IHF1KGUub3ZlcnNjYWxlZFosaSxlLmNhbm9uaWNhbC56LHQsZS5jYW5vbmljYWwueSl9LGU9Pm5ldyBxdShlLm92ZXJzY2FsZWRaLGUud3JhcCxlLmNhbm9uaWNhbC56LGUuY2Fub25pY2FsLngsKDA9PT1lLmNhbm9uaWNhbC55PzE8PGUuY2Fub25pY2FsLno6ZS5jYW5vbmljYWwueSktMSksZT0+bmV3IHF1KGUub3ZlcnNjYWxlZFosZS53cmFwLGUuY2Fub25pY2FsLnosZS5jYW5vbmljYWwueCxlLmNhbm9uaWNhbC55PT09KDE8PGUuY2Fub25pY2FsLnopLTE/MDplLmNhbm9uaWNhbC55KzEpXTtScyhqdSxcIkNhbm9uaWNhbFRpbGVJRFwiKSxScyhxdSxcIk92ZXJzY2FsZWRUaWxlSURcIix7b21pdDpbXCJwcm9qTWF0cml4XCIsXCJleHBhbmRlZFByb2pNYXRyaXhcIl19KTtjbGFzcyBXdXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMucG9zPWUsdGhpcy5kaXI9dDt9aW50ZXJzZWN0c1BsYW5lKGUsdCxpKXtjb25zdCByPUR1LmRvdCh0LHRoaXMuZGlyKTtpZihNYXRoLmFicyhyKTwxZS02KXJldHVybiAhMTtjb25zdCBuPSgoZVswXS10aGlzLnBvc1swXSkqdFswXSsoZVsxXS10aGlzLnBvc1sxXSkqdFsxXSsoZVsyXS10aGlzLnBvc1syXSkqdFsyXSkvcjtyZXR1cm4gaVswXT10aGlzLnBvc1swXSt0aGlzLmRpclswXSpuLGlbMV09dGhpcy5wb3NbMV0rdGhpcy5kaXJbMV0qbixpWzJdPXRoaXMucG9zWzJdK3RoaXMuZGlyWzJdKm4sITB9Y2xvc2VzdFBvaW50T25TcGhlcmUoZSx0LGkpe2lmKER1LmVxdWFscyh0aGlzLnBvcyxlKXx8MD09PXQpcmV0dXJuIGlbMF09aVsxXT1pWzJdPTAsITE7Y29uc3RbcixuLG9dPXRoaXMuZGlyLHM9dGhpcy5wb3NbMF0tZVswXSxhPXRoaXMucG9zWzFdLWVbMV0sbD10aGlzLnBvc1syXS1lWzJdLGM9cipyK24qbitvKm8saD0yKihzKnIrYSpuK2wqbyksdT1oKmgtNCpjKihzKnMrYSphK2wqbC10KnQpO2lmKHU8MCl7Y29uc3QgZT1NYXRoLm1heCgtaC8yLDApLGM9cytyKmUsdT1hK24qZSxkPWwrbyplLHA9TWF0aC5oeXBvdChjLHUsZCk7cmV0dXJuIGlbMF09Yyp0L3AsaVsxXT11KnQvcCxpWzJdPWQqdC9wLCExfXtjb25zdCBlPSgtaC1NYXRoLnNxcnQodSkpLygyKmMpO2lmKGU8MCl7Y29uc3QgZT1NYXRoLmh5cG90KHMsYSxsKTtyZXR1cm4gaVswXT1zKnQvZSxpWzFdPWEqdC9lLGlbMl09bCp0L2UsITF9cmV0dXJuIGlbMF09cytyKmUsaVsxXT1hK24qZSxpWzJdPWwrbyplLCEwfX19Y2xhc3MgSHV7Y29uc3RydWN0b3IoZSx0LGkscixuKXt0aGlzLlRMPWUsdGhpcy5UUj10LHRoaXMuQlI9aSx0aGlzLkJMPXIsdGhpcy5ob3Jpem9uPW47fXN0YXRpYyBmcm9tSW52UHJvamVjdGlvbk1hdHJpeChlLHQsaSl7Y29uc3Qgcj1bLTEsMSwxXSxuPVsxLDEsMV0sbz1bMSwtMSwxXSxzPVstMSwtMSwxXSxhPUR1LnRyYW5zZm9ybU1hdDQocixyLGUpLGw9RHUudHJhbnNmb3JtTWF0NChuLG4sZSksYz1EdS50cmFuc2Zvcm1NYXQ0KG8sbyxlKSxoPUR1LnRyYW5zZm9ybU1hdDQocyxzLGUpO3JldHVybiBuZXcgSHUoYSxsLGMsaCx0L2kpfX1mdW5jdGlvbiBYdShlLHQsaSl7bGV0IHI9MS8wLG49LTEvMDtjb25zdCBvPVtdO2Zvcihjb25zdCBzIG9mIGUpe0R1LnN1YihvLHMsdCk7Y29uc3QgZT1EdS5kb3QobyxpKTtyPU1hdGgubWluKHIsZSksbj1NYXRoLm1heChuLGUpO31yZXR1cm4gW3Isbl19ZnVuY3Rpb24gWXUoZSx0KXtsZXQgaT0hMDtmb3IobGV0IHI9MDtyPGUucGxhbmVzLmxlbmd0aDtyKyspe2NvbnN0IG49ZS5wbGFuZXNbcl07bGV0IG89MDtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKylvKz1EdS5kb3Qobix0W2VdKStuWzNdPj0wO2lmKDA9PT1vKXJldHVybiAwO28hPT10Lmxlbmd0aCYmKGk9ITEpO31yZXR1cm4gaT8yOjF9ZnVuY3Rpb24gS3UoZSx0KXtmb3IoY29uc3QgaSBvZiBlLnByb2plY3Rpb25zKXtjb25zdCByPVh1KHQsZS5wb2ludHNbMF0saS5heGlzKTtpZihpLnByb2plY3Rpb25bMV08clswXXx8aS5wcm9qZWN0aW9uWzBdPnJbMV0pcmV0dXJuIDB9cmV0dXJuIDF9ZnVuY3Rpb24gSnUoZSx0KXtsZXQgaT0wO2NvbnN0IHI9WzAsMCwwLDBdO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXJbMF09ZVtuXVswXSxyWzFdPWVbbl1bMV0sclsyXT1lW25dWzJdLHJbM109MSx5dS5kb3Qocix0KT49MCYmaSsrO3JldHVybiBpfWNsYXNzIFF1e2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5wb2ludHM9ZXx8bmV3IEFycmF5KDgpLmZpbGwoWzAsMCwwXSksdGhpcy5wbGFuZXM9dHx8bmV3IEFycmF5KDYpLmZpbGwoWzAsMCwwLDBdKSx0aGlzLmJvdW5kcz1lZC5mcm9tUG9pbnRzKHRoaXMucG9pbnRzKSx0aGlzLnByb2plY3Rpb25zPVtdLHRoaXMuZnJ1c3R1bUVkZ2VzPVtEdS5zdWIoW10sdGhpcy5wb2ludHNbMl0sdGhpcy5wb2ludHNbM10pLER1LnN1YihbXSx0aGlzLnBvaW50c1swXSx0aGlzLnBvaW50c1szXSksRHUuc3ViKFtdLHRoaXMucG9pbnRzWzRdLHRoaXMucG9pbnRzWzBdKSxEdS5zdWIoW10sdGhpcy5wb2ludHNbNV0sdGhpcy5wb2ludHNbMV0pLER1LnN1YihbXSx0aGlzLnBvaW50c1s2XSx0aGlzLnBvaW50c1syXSksRHUuc3ViKFtdLHRoaXMucG9pbnRzWzddLHRoaXMucG9pbnRzWzNdKV07Zm9yKGNvbnN0IGUgb2YgdGhpcy5mcnVzdHVtRWRnZXMpe2NvbnN0IHQ9WzAsLWVbMl0sZVsxXV0saT1bZVsyXSwwLC1lWzBdXTt0aGlzLnByb2plY3Rpb25zLnB1c2goe2F4aXM6dCxwcm9qZWN0aW9uOlh1KHRoaXMucG9pbnRzLHRoaXMucG9pbnRzWzBdLHQpfSksdGhpcy5wcm9qZWN0aW9ucy5wdXNoKHtheGlzOmkscHJvamVjdGlvbjpYdSh0aGlzLnBvaW50cyx0aGlzLnBvaW50c1swXSxpKX0pO319c3RhdGljIGZyb21JbnZQcm9qZWN0aW9uTWF0cml4KGUsdCxpLHIpe2NvbnN0IG49TWF0aC5wb3coMixpKSxvPVtbLTEsMSwtMSwxXSxbMSwxLC0xLDFdLFsxLC0xLC0xLDFdLFstMSwtMSwtMSwxXSxbLTEsMSwxLDFdLFsxLDEsMSwxXSxbMSwtMSwxLDFdLFstMSwtMSwxLDFdXS5tYXAoKGk9Pntjb25zdCBvPXl1LnRyYW5zZm9ybU1hdDQoW10saSxlKSxzPTEvb1szXS90Km47cmV0dXJuIHl1Lm11bChvLG8sW3MscyxyPzEvb1szXTpzLHNdKX0pKSxzPVtbMCwxLDJdLFs2LDUsNF0sWzAsMyw3XSxbMiwxLDVdLFszLDIsNl0sWzAsNCw1XV0ubWFwKChlPT57Y29uc3QgdD1EdS5zdWIoW10sb1tlWzBdXSxvW2VbMV1dKSxpPUR1LnN1YihbXSxvW2VbMl1dLG9bZVsxXV0pLHI9RHUubm9ybWFsaXplKFtdLER1LmNyb3NzKFtdLHQsaSkpLG49LUR1LmRvdChyLG9bZVsxXV0pO3JldHVybiByLmNvbmNhdChuKX0pKSxhPVtdO2ZvcihsZXQgZT0wO2U8by5sZW5ndGg7ZSsrKWEucHVzaChbb1tlXVswXSxvW2VdWzFdLG9bZV1bMl1dKTtyZXR1cm4gbmV3IFF1KGEscyl9aW50ZXJzZWN0c1ByZWNpc2UoZSx0LGkpe2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKWlmKCFKdShlLHRbaV0pKXJldHVybiAwO2ZvcihsZXQgdD0wO3Q8dGhpcy5wbGFuZXMubGVuZ3RoO3QrKylpZighSnUoZSx0aGlzLnBsYW5lc1t0XSkpcmV0dXJuIDA7Zm9yKGNvbnN0IHQgb2YgaSlmb3IoY29uc3QgaSBvZiB0aGlzLmZydXN0dW1FZGdlcyl7Y29uc3Qgcj1EdS5jcm9zcyhbXSx0LGkpLG49RHUubGVuZ3RoKHIpO2lmKDA9PT1uKWNvbnRpbnVlO0R1LnNjYWxlKHIsciwxL24pO2NvbnN0IG89WHUodGhpcy5wb2ludHMsdGhpcy5wb2ludHNbMF0scikscz1YdShlLHRoaXMucG9pbnRzWzBdLHIpO2lmKG9bMF0+c1sxXXx8c1swXT5vWzFdKXJldHVybiAwfXJldHVybiAxfX1jbGFzcyBlZHtzdGF0aWMgZnJvbVBvaW50cyhlKXtjb25zdCB0PVsxLzAsMS8wLDEvMF0saT1bLTEvMCwtMS8wLC0xLzBdO2Zvcihjb25zdCByIG9mIGUpRHUubWluKHQsdCxyKSxEdS5tYXgoaSxpLHIpO3JldHVybiBuZXcgZWQodCxpKX1zdGF0aWMgZnJvbVRpbGVJZEFuZEhlaWdodChlLHQsaSl7Y29uc3Qgcj0xPDxlLmNhbm9uaWNhbC56LG49ZS5jYW5vbmljYWwueCxvPWUuY2Fub25pY2FsLnk7cmV0dXJuIG5ldyBlZChbbi9yLG8vcix0XSxbKG4rMSkvciwobysxKS9yLGldKX1zdGF0aWMgYXBwbHlUcmFuc2Zvcm0oZSx0KXtjb25zdCBpPWUuZ2V0Q29ybmVycygpO2ZvcihsZXQgZT0wO2U8aS5sZW5ndGg7KytlKUR1LnRyYW5zZm9ybU1hdDQoaVtlXSxpW2VdLHQpO3JldHVybiBlZC5mcm9tUG9pbnRzKGkpfXN0YXRpYyBwcm9qZWN0QWFiYkNvcm5lcnMoZSx0KXtjb25zdCBpPWUuZ2V0Q29ybmVycygpO2ZvcihsZXQgZT0wO2U8aS5sZW5ndGg7KytlKUR1LnRyYW5zZm9ybU1hdDQoaVtlXSxpW2VdLHQpO3JldHVybiBpfWNvbnN0cnVjdG9yKGUsdCl7dGhpcy5taW49ZSx0aGlzLm1heD10LHRoaXMuY2VudGVyPUR1LnNjYWxlKFtdLER1LmFkZChbXSx0aGlzLm1pbix0aGlzLm1heCksLjUpO31xdWFkcmFudChlKXtjb25zdCB0PVtlJTI9PTAsZTwyXSxpPUR1LmNsb25lKHRoaXMubWluKSxyPUR1LmNsb25lKHRoaXMubWF4KTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKylpW2VdPXRbZV0/dGhpcy5taW5bZV06dGhpcy5jZW50ZXJbZV0scltlXT10W2VdP3RoaXMuY2VudGVyW2VdOnRoaXMubWF4W2VdO3JldHVybiByWzJdPXRoaXMubWF4WzJdLG5ldyBlZChpLHIpfWRpc3RhbmNlWChlKXtyZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4odGhpcy5tYXhbMF0sZVswXSksdGhpcy5taW5bMF0pLWVbMF19ZGlzdGFuY2VZKGUpe3JldHVybiBNYXRoLm1heChNYXRoLm1pbih0aGlzLm1heFsxXSxlWzFdKSx0aGlzLm1pblsxXSktZVsxXX1kaXN0YW5jZVooZSl7cmV0dXJuIE1hdGgubWF4KE1hdGgubWluKHRoaXMubWF4WzJdLGVbMl0pLHRoaXMubWluWzJdKS1lWzJdfWdldENvcm5lcnMoKXtjb25zdCBlPXRoaXMubWluLHQ9dGhpcy5tYXg7cmV0dXJuIFtbZVswXSxlWzFdLGVbMl1dLFt0WzBdLGVbMV0sZVsyXV0sW3RbMF0sdFsxXSxlWzJdXSxbZVswXSx0WzFdLGVbMl1dLFtlWzBdLGVbMV0sdFsyXV0sW3RbMF0sZVsxXSx0WzJdXSxbdFswXSx0WzFdLHRbMl1dLFtlWzBdLHRbMV0sdFsyXV1dfWludGVyc2VjdHMoZSl7cmV0dXJuIHRoaXMuaW50ZXJzZWN0c0FhYmIoZS5ib3VuZHMpP1l1KGUsdGhpcy5nZXRDb3JuZXJzKCkpOjB9aW50ZXJzZWN0c0ZsYXQoZSl7cmV0dXJuIHRoaXMuaW50ZXJzZWN0c0FhYmIoZS5ib3VuZHMpP1l1KGUsW1t0aGlzLm1pblswXSx0aGlzLm1pblsxXSwwXSxbdGhpcy5tYXhbMF0sdGhpcy5taW5bMV0sMF0sW3RoaXMubWF4WzBdLHRoaXMubWF4WzFdLDBdLFt0aGlzLm1pblswXSx0aGlzLm1heFsxXSwwXV0pOjB9aW50ZXJzZWN0c1ByZWNpc2UoZSx0KXtyZXR1cm4gdHx8dGhpcy5pbnRlcnNlY3RzKGUpP0t1KGUsdGhpcy5nZXRDb3JuZXJzKCkpOjB9aW50ZXJzZWN0c1ByZWNpc2VGbGF0KGUsdCl7cmV0dXJuIHR8fHRoaXMuaW50ZXJzZWN0c0ZsYXQoZSk/S3UoZSxbW3RoaXMubWluWzBdLHRoaXMubWluWzFdLDBdLFt0aGlzLm1heFswXSx0aGlzLm1pblsxXSwwXSxbdGhpcy5tYXhbMF0sdGhpcy5tYXhbMV0sMF0sW3RoaXMubWluWzBdLHRoaXMubWF4WzFdLDBdXSk6MH1pbnRlcnNlY3RzQWFiYihlKXtmb3IobGV0IHQ9MDt0PDM7Kyt0KWlmKHRoaXMubWluW3RdPmUubWF4W3RdfHxlLm1pblt0XT50aGlzLm1heFt0XSlyZXR1cm4gITE7cmV0dXJuICEwfWludGVyc2VjdHNBYWJiWFkoZSl7cmV0dXJuICEodGhpcy5taW5bMF0+ZS5tYXhbMF18fGUubWluWzBdPnRoaXMubWF4WzBdfHx0aGlzLm1pblsxXT5lLm1heFsxXXx8ZS5taW5bMV0+dGhpcy5tYXhbMV0pfWVuY2Fwc3VsYXRlKGUpe2ZvcihsZXQgdD0wO3Q8Mzt0KyspdGhpcy5taW5bdF09TWF0aC5taW4odGhpcy5taW5bdF0sZS5taW5bdF0pLHRoaXMubWF4W3RdPU1hdGgubWF4KHRoaXMubWF4W3RdLGUubWF4W3RdKTt9ZW5jYXBzdWxhdGVQb2ludChlKXtmb3IobGV0IHQ9MDt0PDM7dCsrKXRoaXMubWluW3RdPU1hdGgubWluKHRoaXMubWluW3RdLGVbdF0pLHRoaXMubWF4W3RdPU1hdGgubWF4KHRoaXMubWF4W3RdLGVbdF0pO31jbG9zZXN0UG9pbnQoZSl7cmV0dXJuIFtNYXRoLm1heChNYXRoLm1pbih0aGlzLm1heFswXSxlWzBdKSx0aGlzLm1pblswXSksTWF0aC5tYXgoTWF0aC5taW4odGhpcy5tYXhbMV0sZVsxXSksdGhpcy5taW5bMV0pLE1hdGgubWF4KE1hdGgubWluKHRoaXMubWF4WzJdLGVbMl0pLHRoaXMubWluWzJdKV19fVJzKGVkLFwiQWFiYlwiKTtjb25zdCB0ZD01LGlkPTYscmQ9Y3IvTWF0aC5QSS8yLG5kPTE2MzgzLG9kPTY0LHNkPVtvZCwzMiwxNl0sYWQ9LXJkLGxkPXJkLGNkPVtuZXcgZWQoW2FkLGFkLGFkXSxbbGQsbGQsbGRdKSxuZXcgZWQoW2FkLGFkLGFkXSxbMCwwLGxkXSksbmV3IGVkKFswLGFkLGFkXSxbbGQsMCxsZF0pLG5ldyBlZChbYWQsMCxhZF0sWzAsbGQsbGRdKSxuZXcgZWQoWzAsMCxhZF0sW2xkLGxkLGxkXSldO2Z1bmN0aW9uIGhkKGUpe3JldHVybiBlKnJkL3FkfWZ1bmN0aW9uIHVkKGUsdCxpLHI9ITApe2NvbnN0IG49RHUuc2NhbGUoW10sZS5fY2FtZXJhLnBvc2l0aW9uLGUud29ybGRTaXplKSxvPVt0LGksMSwxXTt5dS50cmFuc2Zvcm1NYXQ0KG8sbyxlLnBpeGVsTWF0cml4SW52ZXJzZSkseXUuc2NhbGUobyxvLDEvb1szXSk7Y29uc3Qgcz1EdS5zdWIoW10sbyxuKSxhPUR1Lm5vcm1hbGl6ZShbXSxzKSxsPWUuZ2xvYmVNYXRyaXgsYz1bbFsxMl0sbFsxM10sbFsxNF1dLGg9RHUuc3ViKFtdLGMsbiksdT1EdS5sZW5ndGgoaCksZD1EdS5ub3JtYWxpemUoW10saCkscD1lLndvcmxkU2l6ZS8oMipNYXRoLlBJKSxmPUR1LmRvdChkLGEpLG09TWF0aC5hc2luKHAvdSk7aWYobTxNYXRoLmFjb3MoZikpe2lmKCFyKXJldHVybiBudWxsO2NvbnN0IGU9W10sdD1bXTtEdS5zY2FsZShlLGEsdS9mKSxEdS5ub3JtYWxpemUodCxEdS5zdWIodCxlLGgpKSxEdS5ub3JtYWxpemUoYSxEdS5hZGQoYSxoLER1LnNjYWxlKGEsdCxNYXRoLnRhbihtKSp1KSkpO31jb25zdCBfPVtdO25ldyBXdShuLGEpLmNsb3Nlc3RQb2ludE9uU3BoZXJlKGMscCxfKTtjb25zdCBnPUR1Lm5vcm1hbGl6ZShbXSxuZShsLDApKSx5PUR1Lm5vcm1hbGl6ZShbXSxuZShsLDEpKSx4PUR1Lm5vcm1hbGl6ZShbXSxuZShsLDIpKSx2PUR1LmRvdChnLF8pLGI9RHUuZG90KHksXyksdz1EdS5kb3QoeCxfKSxFPVQoTWF0aC5hc2luKC1iL3ApKTtsZXQgTT1UKE1hdGguYXRhbjIodix3KSk7TT1lLmNlbnRlci5sbmcrZnVuY3Rpb24oZSx0KXtjb25zdCBpPSh0LWUrMTgwKSUzNjAtMTgwO3JldHVybiBpPC0xODA/aSszNjA6aX0oZS5jZW50ZXIubG5nLE0pO2NvbnN0IEE9S2QoTSksUz16KEpkKEUpLDAsMSk7cmV0dXJuIG5ldyBscChBLFMpfWNsYXNzIGRke2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLmE9RHUuc3ViKFtdLGUsaSksdGhpcy5iPUR1LnN1YihbXSx0LGkpLHRoaXMuY2VudGVyPWk7Y29uc3Qgcj1EdS5ub3JtYWxpemUoW10sdGhpcy5hKSxuPUR1Lm5vcm1hbGl6ZShbXSx0aGlzLmIpO3RoaXMuYW5nbGU9TWF0aC5hY29zKER1LmRvdChyLG4pKTt9fWZ1bmN0aW9uIHBkKGUsdCl7aWYoMD09PWUuYW5nbGUpcmV0dXJuIG51bGw7bGV0IGk7cmV0dXJuIGk9MD09PWUuYVt0XT8xL2UuYW5nbGUqLjUqTWF0aC5QSToxL2UuYW5nbGUqTWF0aC5hdGFuKGUuYlt0XS9lLmFbdF0vTWF0aC5zaW4oZS5hbmdsZSktMS9NYXRoLnRhbihlLmFuZ2xlKSksaTwwfHxpPjE/bnVsbDpmdW5jdGlvbihlLHQsaSxyKXtjb25zdCBuPU1hdGguc2luKGkpO3JldHVybiBlKihNYXRoLnNpbigoMS1yKSppKS9uKSt0KihNYXRoLnNpbihyKmkpL24pfShlLmFbdF0sZS5iW3RdLGUuYW5nbGUseihpLDAsMSkpK2UuY2VudGVyW3RdfWZ1bmN0aW9uIGZkKGUpe2lmKGUuejw9MSlyZXR1cm4gY2RbZS56KzIqZS55K2UueF07Y29uc3QgdD12ZCh4ZChlKSk7cmV0dXJuIGVkLmZyb21Qb2ludHModCl9ZnVuY3Rpb24gbWQoZSx0LGkpe3JldHVybiBEdS5zY2FsZShlLGUsMS1pKSxEdS5zY2FsZUFuZEFkZChlLGUsdCxpKX1mdW5jdGlvbiBfZChlLHQpe2NvbnN0IGk9RGQodC56b29tKTtpZigwPT09aSlyZXR1cm4gZmQoZSk7Y29uc3Qgcj14ZChlKSxuPXZkKHIpLG89S2Qoci5nZXRXZXN0KCkpKnQud29ybGRTaXplLHM9S2Qoci5nZXRFYXN0KCkpKnQud29ybGRTaXplLGE9SmQoci5nZXROb3J0aCgpKSp0LndvcmxkU2l6ZSxsPUpkKHIuZ2V0U291dGgoKSkqdC53b3JsZFNpemUsYz1bbyxhLDBdLGg9W3MsYSwwXSx1PVtvLGwsMF0sZD1bcyxsLDBdLHA9QXUuaW52ZXJ0KFtdLHQuZ2xvYmVNYXRyaXgpO3JldHVybiBEdS50cmFuc2Zvcm1NYXQ0KGMsYyxwKSxEdS50cmFuc2Zvcm1NYXQ0KGgsaCxwKSxEdS50cmFuc2Zvcm1NYXQ0KHUsdSxwKSxEdS50cmFuc2Zvcm1NYXQ0KGQsZCxwKSxuWzBdPW1kKG5bMF0sdSxpKSxuWzFdPW1kKG5bMV0sZCxpKSxuWzJdPW1kKG5bMl0saCxpKSxuWzNdPW1kKG5bM10sYyxpKSxlZC5mcm9tUG9pbnRzKG4pfWZ1bmN0aW9uIGdkKGUsdCxpKXtmb3IoY29uc3QgciBvZiBlKUR1LnRyYW5zZm9ybU1hdDQocixyLHQpLER1LnNjYWxlKHIscixpKTt9ZnVuY3Rpb24geWQoZSx0LGkscil7Y29uc3Qgbj10L2Uud29ybGRTaXplLG89ZS5nbG9iZU1hdHJpeDtpZihpLno8PTEpe2NvbnN0IGU9ZmQoaSkuZ2V0Q29ybmVycygpO3JldHVybiBnZChlLG8sbiksZWQuZnJvbVBvaW50cyhlKX1jb25zdCBzPXhkKGksciksYT12ZChzKTtnZChhLG8sbik7Y29uc3QgbD1OdW1iZXIuTUFYX1ZBTFVFLGM9Wy1sLC1sLC1sXSxoPVtsLGwsbF07aWYocy5jb250YWlucyhlLmNlbnRlcikpe2Zvcihjb25zdCBlIG9mIGEpRHUubWluKGgsaCxlKSxEdS5tYXgoYyxjLGUpO2NbMl09MDtjb25zdCB0PWUucG9pbnQsaT1bdC54Km4sdC55Km4sMF07cmV0dXJuIER1Lm1pbihoLGgsaSksRHUubWF4KGMsYyxpKSxuZXcgZWQoaCxjKX1jb25zdCB1PVtvWzEyXSpuLG9bMTNdKm4sb1sxNF0qbl0sZD1zLmdldENlbnRlcigpLHA9eihlLmNlbnRlci5sYXQsLXJwLHJwKSxmPXooZC5sYXQsLXJwLHJwKSxtPUtkKGUuY2VudGVyLmxuZyksXz1KZChwKTtsZXQgZz1tLUtkKGQubG5nKTtjb25zdCB5PV8tSmQoZik7Zz4uNT9nLT0xOmc8LS41JiYoZys9MSk7bGV0IHg9MDtpZihNYXRoLmFicyhnKT5NYXRoLmFicyh5KSl4PWc+PTA/MTozO2Vsc2Uge3g9eT49MD8wOjI7Y29uc3QgZT1bb1s0XSpuLG9bNV0qbixvWzZdKm5dLHQ9LU1hdGguc2luKHcoeT49MD9zLmdldFNvdXRoKCk6cy5nZXROb3J0aCgpKSkqcmQ7RHUuc2NhbGVBbmRBZGQodSx1LGUsdCk7fWNvbnN0IHY9YVt4XSxiPWFbKHgrMSklNF0sVD1uZXcgZGQodixiLHUpLEU9W3BkKFQsMCl8fHZbMF0scGQoVCwxKXx8dlsxXSxwZChULDIpfHx2WzJdXSxNPURkKGUuem9vbSk7aWYoTT4wKXtjb25zdCByPWZ1bmN0aW9uKHt4OmUseTp0LHo6aX0scixuLG8scyl7Y29uc3QgYT0xLygxPDxpKTtsZXQgbD1lKmEsYz1sK2EsaD10KmEsdT1oK2EsZD0wO2NvbnN0IHA9KGwrYykvMi1vO3JldHVybiBwPi41P2Q9LTE6cDwtLjUmJihkPTEpLGw9KChsK2QpKnItKG8qPXIpKSpuK28sYz0oKGMrZCkqci1vKSpuK28saD0oaCpyLShzKj1yKSkqbitzLHU9KHUqci1zKSpuK3MsW1tsLHUsMF0sW2MsdSwwXSxbYyxoLDBdLFtsLGgsMF1dfShpLHQsZS5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCxtLF8pO2ZvcihsZXQgZT0wO2U8YS5sZW5ndGg7ZSsrKW1kKGFbZV0scltlXSxNKTtjb25zdCBuPUR1LmFkZChbXSxyW3hdLHJbKHgrMSklNF0pO0R1LnNjYWxlKG4sbiwuNSksbWQoRSxuLE0pO31mb3IoY29uc3QgZSBvZiBhKUR1Lm1pbihoLGgsZSksRHUubWF4KGMsYyxlKTtyZXR1cm4gaFsyXT1NYXRoLm1pbih2WzJdLGJbMl0pLER1Lm1pbihoLGgsRSksRHUubWF4KGMsYyxFKSxuZXcgZWQoaCxjKX1mdW5jdGlvbiB4ZCh7eDplLHk6dCx6Oml9LHI9ITEpe2NvbnN0IG49MS8oMTw8aSksbz1uZXcgV2QoZXAoZSpuKSx0PT09KDE8PGkpLTEmJnI/LTkwOnRwKCh0KzEpKm4pKSxzPW5ldyBXZChlcCgoZSsxKSpuKSwwPT09dCYmcj85MDp0cCh0Km4pKTtyZXR1cm4gbmV3IHNjKG8scyl9ZnVuY3Rpb24gdmQoZSl7Y29uc3QgdD13KGUuZ2V0Tm9ydGgoKSksaT13KGUuZ2V0U291dGgoKSkscj1NYXRoLmNvcyh0KSxuPU1hdGguY29zKGkpLG89TWF0aC5zaW4odCkscz1NYXRoLnNpbihpKSxhPWUuZ2V0V2VzdCgpLGw9ZS5nZXRFYXN0KCk7cmV0dXJuIFtiZChuLHMsYSksYmQobixzLGwpLGJkKHIsbyxsKSxiZChyLG8sYSldfWZ1bmN0aW9uIGJkKGUsdCxpLHI9cmQpe3JldHVybiBpPXcoaSksW2UqTWF0aC5zaW4oaSkqciwtdCpyLGUqTWF0aC5jb3MoaSkqcl19ZnVuY3Rpb24gd2QoZSx0LGkpe3JldHVybiBiZChNYXRoLmNvcyh3KGUpKSxNYXRoLnNpbih3KGUpKSx0LGkpfWZ1bmN0aW9uIFRkKGUsdCxpLHIpe2NvbnN0IG49MTw8aS56LG89KGUvY3IraS54KS9uO3JldHVybiB3ZCh0cCgodC9jcitpLnkpL24pLGVwKG8pLHIpfWZ1bmN0aW9uIEVkKHttaW46ZSxtYXg6dH0pe3JldHVybiBuZC9NYXRoLm1heCh0WzBdLWVbMF0sdFsxXS1lWzFdLHRbMl0tZVsyXSl9Y29uc3QgTWQ9bmV3IEZsb2F0NjRBcnJheSgxNik7ZnVuY3Rpb24gQWQoZSl7Y29uc3QgdD1FZChlKSxpPUF1LmZyb21TY2FsaW5nKE1kLFt0LHQsdF0pO3JldHVybiBBdS50cmFuc2xhdGUoaSxpLER1Lm5lZ2F0ZShbXSxlLm1pbikpfWZ1bmN0aW9uIFNkKGUpe2NvbnN0IHQ9QXUuZnJvbVRyYW5zbGF0aW9uKE1kLGUubWluKSxpPTEvRWQoZSk7cmV0dXJuIEF1LnNjYWxlKHQsdCxbaSxpLGldKX1mdW5jdGlvbiBJZChlKXtjb25zdCB0PWNyLygyKk1hdGguUEkpO3JldHVybiBlLygyKk1hdGguUEkpL3R9ZnVuY3Rpb24gQ2QoZSx0KXtyZXR1cm4gY3IvKDUxMipNYXRoLnBvdygyLGUpKSpFZChmZCh0KSl9ZnVuY3Rpb24gemQoZSx0LGkscixuKXtjb25zdCBvPUlkKGkpLHM9W2UsdCwtaS8oMipNYXRoLlBJKV0sYT1BdS5pZGVudGl0eShuZXcgRmxvYXQ2NEFycmF5KDE2KSk7cmV0dXJuIEF1LnRyYW5zbGF0ZShhLGEscyksQXUuc2NhbGUoYSxhLFtvLG8sb10pLEF1LnJvdGF0ZVgoYSxhLHcoLW4pKSxBdS5yb3RhdGVZKGEsYSx3KC1yKSksYX1mdW5jdGlvbiBQZChlKXtjb25zdCB0PWUucGl4ZWxzUGVyTWV0ZXIsaT10L1FkKDEsZS5jZW50ZXIubGF0KSxyPUF1LmlkZW50aXR5KG5ldyBGbG9hdDY0QXJyYXkoMTYpKTtyZXR1cm4gQXUudHJhbnNsYXRlKHIscixbZS5wb2ludC54LGUucG9pbnQueSwwXSksQXUuc2NhbGUocixyLFtpLGksdF0pLEZsb2F0MzJBcnJheS5mcm9tKHIpfWZ1bmN0aW9uIERkKGUpe3JldHVybiBQKHRkLGlkLGUpfWZ1bmN0aW9uIFJkKGUsdCxpKXtjb25zdCByPUF1LmlkZW50aXR5KG5ldyBGbG9hdDY0QXJyYXkoMTYpKSxuPSh0LygxPDxlKS0uNSkqTWF0aC5QSSoyO3JldHVybiBBdS5yb3RhdGVZKHIsaS5nbG9iZU1hdHJpeCxuKSxGbG9hdDMyQXJyYXkuZnJvbShyKX1mdW5jdGlvbiBMZChlLHQsaSl7Y29uc3Qgcj1EZChpLnpvb20pLG49ZS5zdHlsZS5tYXAuX2FudGlhbGlhcyxvPXQub3B0aW9ucy5leHRTdGFuZGFyZERlcml2YXRpdmVzRm9yY2VPZmZ8fGUudGVycmFpbiYmZS50ZXJyYWluLmV4YWdnZXJhdGlvbigpPjA7cmV0dXJuIDA9PT1yJiYhbiYmIW99ZnVuY3Rpb24ga2QoZSx0LGkscil7Y29uc3Qgbj10LmdldE5vcnRoKCksbz10LmdldFNvdXRoKCkscz10LmdldFdlc3QoKSxhPXQuZ2V0RWFzdCgpLGw9MTw8ZS56LGM9YS1zLGg9bi1vLHU9Yy9vZCxkPS1oL3NkW2ldLHA9WzAsdSwwLGQsMCwwLG4scywwXTtpZihlLno+MCl7Y29uc3QgZT0xODAvcjtFdS5tdWx0aXBseShwLHAsW2UvYysxLDAsMCwwLGUvaCsxLDAsLS41KmUvdSwuNSplL2QsMV0pO31yZXR1cm4gcFsyXT1sLHBbNV09ZS54LHBbOF09ZS55LHB9ZnVuY3Rpb24gT2QoZSl7Y29uc3QgdD1ycC01O2U9eihlLC10LHQpL3QqOTA7Y29uc3QgaT1NYXRoLnBvdyhNYXRoLmFicyhNYXRoLnNpbih3KGUpKSksMyk7cmV0dXJuIE1hdGgucm91bmQoaSooc2QubGVuZ3RoLTEpKX1mdW5jdGlvbiBCZChlKXtjb25zdCB0PVswLDAsMF0saT1BdS5pZGVudGl0eShuZXcgRmxvYXQ2NEFycmF5KDE2KSk7cmV0dXJuIEF1Lm11bHRpcGx5KGksZS5waXhlbE1hdHJpeCxlLmdsb2JlTWF0cml4KSxEdS50cmFuc2Zvcm1NYXQ0KHQsdCxpKSxuZXcgeSh0WzBdLHRbMV0pfWZ1bmN0aW9uIEZkKGUsdCl7Y29uc3QgaT13ZCh0LmxhdCx0LmxuZykscj1mdW5jdGlvbihlKXtjb25zdCB0PXdkKGUuX2NlbnRlci5sYXQsZS5fY2VudGVyLmxuZyksaT1EdS5mcm9tVmFsdWVzKDAsMSwwKTtsZXQgcj1EdS5jcm9zcyhbXSxpLHQpO2NvbnN0IG49QXUuZnJvbVJvdGF0aW9uKFtdLC1lLmFuZ2xlLHQpO3I9RHUudHJhbnNmb3JtTWF0NChyLHIsbiksQXUuZnJvbVJvdGF0aW9uKG4sLWUuX3BpdGNoLHIpO2NvbnN0IG89RHUubm9ybWFsaXplKFtdLHQpO3JldHVybiBEdS5zY2FsZShvLG8saGQoZS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlL2UucGl4ZWxzUGVyTWV0ZXIpKSxEdS50cmFuc2Zvcm1NYXQ0KG8sbyxuKSxEdS5hZGQoW10sdCxvKX0oZSksbj1EdS5zdWJ0cmFjdChbXSxyLGkpO3JldHVybiBEdS5hbmdsZShuLGkpfWZ1bmN0aW9uIE5kKGUsdCl7cmV0dXJuIEZkKGUsdCk+TWF0aC5QSS8yKjEuMDF9Y29uc3QgVWQ9dyg4NSksVmQ9TWF0aC5jb3MoVWQpLGpkPU1hdGguc2luKFVkKTtjbGFzcyBHZHtjb25zdHJ1Y3RvcihlKXt0aGlzLl9jcmVhdGVHcmlkKGUpLHRoaXMuX2NyZWF0ZVBvbGVzKGUpO31kZXN0cm95KCl7dGhpcy5fcG9sZUluZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLl9ncmlkQnVmZmVyLmRlc3Ryb3koKSx0aGlzLl9ncmlkSW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuX3BvbGVOb3J0aFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5fcG9sZVNvdXRoVmVydGV4QnVmZmVyLmRlc3Ryb3koKTtmb3IoY29uc3QgZSBvZiB0aGlzLl9wb2xlU2VnbWVudHMpZS5kZXN0cm95KCk7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fZ3JpZFNlZ21lbnRzKWUud2l0aFNraXJ0cy5kZXN0cm95KCksZS53aXRob3V0U2tpcnRzLmRlc3Ryb3koKTt9X2ZpbGxHcmlkTWVzaFdpdGhMb2RzKGUsdCl7Y29uc3QgaT1uZXcgemEscj1uZXcgV2Esbj1bXSxvPWUrMSsyLHM9dFswXSsxLGE9dFswXSsxKygxK3QubGVuZ3RoKSxsPShlLHQsaSk9PntsZXQgcj1lPT09by0xP2UtMjowPT09ZT9lOmUtMTtyZXR1cm4gcis9aT8yNDU3NTowLFtyLHRdfTtmb3IobGV0IGU9MDtlPG87KytlKWkuZW1wbGFjZUJhY2soLi4ubChlLDAsITApKTtmb3IobGV0IGU9MDtlPHM7KytlKWZvcihsZXQgdD0wO3Q8bzsrK3QpaS5lbXBsYWNlQmFjayguLi5sKHQsZSwoMD09PXR8fHQ9PT1vLTEpJiYhMCkpO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7KytlKXtjb25zdCByPXRbZV07Zm9yKGxldCBlPTA7ZTxvOysrZSlpLmVtcGxhY2VCYWNrKC4uLmwoZSxyLCEwKSk7fWZvcihsZXQgZT0wO2U8dC5sZW5ndGg7KytlKXtjb25zdCBzPXIubGVuZ3RoLGw9dFtlXSsxKzIsYz1uZXcgV2E7Zm9yKGxldCBpPTA7aTxsLTE7aSsrKXtjb25zdCBuPWk9PT1sLTIscz1uP28qKGEtdC5sZW5ndGgrZS1pKTpvO2ZvcihsZXQgZT0wO2U8by0xO2UrKyl7Y29uc3QgdD1pKm8rZTswPT09aXx8bnx8MD09PWV8fGU9PT1vLTI/KGMuZW1wbGFjZUJhY2sodCsxLHQsdCtzKSxjLmVtcGxhY2VCYWNrKHQrcyx0K3MrMSx0KzEpKTooci5lbXBsYWNlQmFjayh0KzEsdCx0K3MpLHIuZW1wbGFjZUJhY2sodCtzLHQrcysxLHQrMSkpO319Y29uc3QgaD14bC5zaW1wbGVTZWdtZW50KDAscyxpLmxlbmd0aCxyLmxlbmd0aC1zKTtmb3IobGV0IGU9MDtlPGMudWludDE2Lmxlbmd0aDtlKz0zKXIuZW1wbGFjZUJhY2soYy51aW50MTZbZV0sYy51aW50MTZbZSsxXSxjLnVpbnQxNltlKzJdKTtjb25zdCB1PXhsLnNpbXBsZVNlZ21lbnQoMCxzLGkubGVuZ3RoLHIubGVuZ3RoLXMpO24ucHVzaCh7d2l0aG91dFNraXJ0czpoLHdpdGhTa2lydHM6dX0pO31yZXR1cm4ge3ZlcnRpY2VzOmksaW5kaWNlczpyLHNlZ21lbnRzOm59fV9jcmVhdGVHcmlkKGUpe2NvbnN0IHQ9dGhpcy5fZmlsbEdyaWRNZXNoV2l0aExvZHMob2Qsc2QpO3RoaXMuX2dyaWRTZWdtZW50cz10LnNlZ21lbnRzLHRoaXMuX2dyaWRCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodC52ZXJ0aWNlcyxOdS5tZW1iZXJzKSx0aGlzLl9ncmlkSW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcih0LmluZGljZXMsITApO31fY3JlYXRlUG9sZXMoZSl7Y29uc3QgdD1uZXcgV2E7Zm9yKGxldCBlPTA7ZTw9b2Q7ZSsrKXQuZW1wbGFjZUJhY2soMCxlKzEsZSsyKTt0aGlzLl9wb2xlSW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcih0LCEwKTtjb25zdCBpPW5ldyBLYSxyPW5ldyBLYSxuPW5ldyBLYSxvPW5ldyBLYTt0aGlzLl9wb2xlU2VnbWVudHM9W107Zm9yKGxldCBlPTAsdD0wO2U8dGQ7ZSsrKXtjb25zdCBzPTM2MC8oMTw8ZSk7aS5lbXBsYWNlQmFjaygwLC1yZCwwLC41LDApLHIuZW1wbGFjZUJhY2soMCwtcmQsMCwuNSwxKSxuLmVtcGxhY2VCYWNrKDAsLXJkLDAsLjUsLjUpLG8uZW1wbGFjZUJhY2soMCwtcmQsMCwuNSwuNSk7Zm9yKGxldCBlPTA7ZTw9b2Q7ZSsrKXtsZXQgdD1lL29kLGE9MDtjb25zdCBsPUtyKDAscyx0KSxbYyxoLHVdPWJkKFZkLGpkLGwscmQpO2kuZW1wbGFjZUJhY2soYyxoLHUsdCxhKSxyLmVtcGxhY2VCYWNrKGMsaCx1LHQsMS1hKTtjb25zdCBkPXcobCk7dD0uNSsuNSpNYXRoLnNpbihkKSxhPS41Ky41Kk1hdGguY29zKGQpLG4uZW1wbGFjZUJhY2soYyxoLHUsdCxhKSxvLmVtcGxhY2VCYWNrKGMsaCx1LHQsMS1hKTt9dGhpcy5fcG9sZVNlZ21lbnRzLnB1c2goeGwuc2ltcGxlU2VnbWVudCh0LDAsNjYsNjQpKSx0Kz02Njt9dGhpcy5fcG9sZU5vcnRoVmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKGksQnUsITEpLHRoaXMuX3BvbGVTb3V0aFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcihyLEJ1LCExKSx0aGlzLl90ZXh0dXJlZFBvbGVOb3J0aFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcihuLEJ1LCExKSx0aGlzLl90ZXh0dXJlZFBvbGVTb3V0aFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcihvLEJ1LCExKTt9Z2V0R3JpZEJ1ZmZlcnMoZSx0KXtyZXR1cm4gW3RoaXMuX2dyaWRCdWZmZXIsdGhpcy5fZ3JpZEluZGV4QnVmZmVyLHQ/dGhpcy5fZ3JpZFNlZ21lbnRzW2VdLndpdGhTa2lydHM6dGhpcy5fZ3JpZFNlZ21lbnRzW2VdLndpdGhvdXRTa2lydHNdfWdldFBvbGVCdWZmZXJzKGUsdCl7cmV0dXJuIFt0P3RoaXMuX3RleHR1cmVkUG9sZU5vcnRoVmVydGV4QnVmZmVyOnRoaXMuX3BvbGVOb3J0aFZlcnRleEJ1ZmZlcix0P3RoaXMuX3RleHR1cmVkUG9sZVNvdXRoVmVydGV4QnVmZmVyOnRoaXMuX3BvbGVTb3V0aFZlcnRleEJ1ZmZlcix0aGlzLl9wb2xlSW5kZXhCdWZmZXIsdGhpcy5fcG9sZVNlZ21lbnRzW2VdXX19Y29uc3QgcWQ9NjM3MTAwOC44LFpkPTIqTWF0aC5QSSpxZDtjbGFzcyAkZHtjb25zdHJ1Y3RvcihlLHQpe2lmKGlzTmFOKGUpfHxpc05hTih0KSl0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgTG5nTGF0IG9iamVjdDogKCR7ZX0sICR7dH0pYCk7aWYodGhpcy5sbmc9K2UsdGhpcy5sYXQ9K3QsdGhpcy5sYXQ+OTB8fHRoaXMubGF0PC05MCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIExuZ0xhdCBsYXRpdHVkZSB2YWx1ZTogbXVzdCBiZSBiZXR3ZWVuIC05MCBhbmQgOTBcIil9d3JhcCgpe3JldHVybiBuZXcgJGQoRCh0aGlzLmxuZywtMTgwLDE4MCksdGhpcy5sYXQpfXRvQXJyYXkoKXtyZXR1cm4gW3RoaXMubG5nLHRoaXMubGF0XX10b1N0cmluZygpe3JldHVybiBgTG5nTGF0KCR7dGhpcy5sbmd9LCAke3RoaXMubGF0fSlgfWRpc3RhbmNlVG8oZSl7Y29uc3QgdD1NYXRoLlBJLzE4MCxpPXRoaXMubGF0KnQscj1lLmxhdCp0LG49TWF0aC5zaW4oaSkqTWF0aC5zaW4ocikrTWF0aC5jb3MoaSkqTWF0aC5jb3MocikqTWF0aC5jb3MoKGUubG5nLXRoaXMubG5nKSp0KTtyZXR1cm4gcWQqTWF0aC5hY29zKE1hdGgubWluKG4sMSkpfXRvQm91bmRzKGU9MCl7Y29uc3QgdD0zNjAqZS80MDA3NTAxNyxpPXQvTWF0aC5jb3MoTWF0aC5QSS8xODAqdGhpcy5sYXQpO3JldHVybiBuZXcgc2MobmV3ICRkKHRoaXMubG5nLWksdGhpcy5sYXQtdCksbmV3ICRkKHRoaXMubG5nK2ksdGhpcy5sYXQrdCkpfXRvRWNlZihlKXtjb25zdCB0PWhkKGUpO3JldHVybiB3ZCh0aGlzLmxhdCx0aGlzLmxuZyxyZCt0KX1zdGF0aWMgY29udmVydChlKXtpZihlIGluc3RhbmNlb2YgJGQpcmV0dXJuIGU7aWYoQXJyYXkuaXNBcnJheShlKSYmKDI9PT1lLmxlbmd0aHx8Mz09PWUubGVuZ3RoKSlyZXR1cm4gbmV3ICRkKE51bWJlcihlWzBdKSxOdW1iZXIoZVsxXSkpO2lmKCFBcnJheS5pc0FycmF5KGUpJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUpcmV0dXJuIG5ldyAkZChOdW1iZXIoXCJsbmdcImluIGU/ZS5sbmc6ZS5sb24pLE51bWJlcihlLmxhdCkpO3Rocm93IG5ldyBFcnJvcihcImBMbmdMYXRMaWtlYCBhcmd1bWVudCBtdXN0IGJlIHNwZWNpZmllZCBhcyBhIExuZ0xhdCBpbnN0YW5jZSwgYW4gb2JqZWN0IHtsbmc6IDxsbmc+LCBsYXQ6IDxsYXQ+fSwgYW4gb2JqZWN0IHtsb246IDxsbmc+LCBsYXQ6IDxsYXQ+fSwgb3IgYW4gYXJyYXkgb2YgWzxsbmc+LCA8bGF0Pl1cIil9fXZhciBXZD0kZDtjb25zdCBIZD0wLFhkPTI1LjU7ZnVuY3Rpb24gWWQoZSl7cmV0dXJuIFpkKk1hdGguY29zKGUqTWF0aC5QSS8xODApfWZ1bmN0aW9uIEtkKGUpe3JldHVybiAoMTgwK2UpLzM2MH1mdW5jdGlvbiBKZChlKXtyZXR1cm4gKDE4MC0xODAvTWF0aC5QSSpNYXRoLmxvZyhNYXRoLnRhbihNYXRoLlBJLzQrZSpNYXRoLlBJLzM2MCkpKS8zNjB9ZnVuY3Rpb24gUWQoZSx0KXtyZXR1cm4gZS9ZZCh0KX1mdW5jdGlvbiBlcChlKXtyZXR1cm4gMzYwKmUtMTgwfWZ1bmN0aW9uIHRwKGUpe3JldHVybiAzNjAvTWF0aC5QSSpNYXRoLmF0YW4oTWF0aC5leHAoKDE4MC0zNjAqZSkqTWF0aC5QSS8xODApKS05MH1mdW5jdGlvbiBpcChlLHQpe3JldHVybiBlKllkKHRwKHQpKX1jb25zdCBycD04NS4wNTExMjk7ZnVuY3Rpb24gbnAoZSl7cmV0dXJuIE1hdGguY29zKHcoeihlLC1ycCxycCkpKX1mdW5jdGlvbiBvcChlLHQpe2NvbnN0IGk9eih0LEhkLFhkKSxyPU1hdGgucG93KDIsaSk7cmV0dXJuIG5wKGUpKlpkLyg1MTIqcil9ZnVuY3Rpb24gc3AoZSl7cmV0dXJuIDEvTWF0aC5jb3MoZSpNYXRoLlBJLzE4MCl9ZnVuY3Rpb24gYXAoZSx0PTApe2NvbnN0IGk9TWF0aC5leHAoTWF0aC5QSSooMS0oZS55K3QvY3IpLygxPDxlLnopKjIpKTtyZXR1cm4gODAxNTAwMzQqaS8oaSppKzEpL2NyLygxPDxlLnopfWNsYXNzIGxwe2NvbnN0cnVjdG9yKGUsdCxpPTApe3RoaXMueD0rZSx0aGlzLnk9K3QsdGhpcy56PStpO31zdGF0aWMgZnJvbUxuZ0xhdChlLHQ9MCl7Y29uc3QgaT1XZC5jb252ZXJ0KGUpO3JldHVybiBuZXcgbHAoS2QoaS5sbmcpLEpkKGkubGF0KSxRZCh0LGkubGF0KSl9dG9MbmdMYXQoKXtyZXR1cm4gbmV3IFdkKGVwKHRoaXMueCksdHAodGhpcy55KSl9dG9BbHRpdHVkZSgpe3JldHVybiBpcCh0aGlzLnosdGhpcy55KX1tZXRlckluTWVyY2F0b3JDb29yZGluYXRlVW5pdHMoKXtyZXR1cm4gMS9aZCpzcCh0cCh0aGlzLnkpKX19ZnVuY3Rpb24gY3AoZSx0LGkscixuLG8scyxhLGwpe2NvbnN0IGM9KHQrcikvMixoPShpK24pLzIsdT1uZXcgeShjLGgpO2EodSksZnVuY3Rpb24oZSx0LGkscixuLG8pe2NvbnN0IHM9aS1uLGE9ci1vO3JldHVybiBNYXRoLmFicygoci10KSpzLShpLWUpKmEpL01hdGguaHlwb3QocyxhKX0odS54LHUueSxvLngsby55LHMueCxzLnkpPj1sPyhjcChlLHQsaSxjLGgsbyx1LGEsbCksY3AoZSxjLGgscixuLHUscyxhLGwpKTplLnB1c2gocyk7fWZ1bmN0aW9uIGhwKGUsdCxpKXtsZXQgcj1lWzBdLG49ci54LG89ci55O3Qocik7Y29uc3Qgcz1bcl07Zm9yKGxldCBhPTE7YTxlLmxlbmd0aDthKyspe2NvbnN0IGw9ZVthXSx7eDpjLHk6aH09bDt0KGwpLGNwKHMsbixvLGMsaCxyLGwsdCxpKSxuPWMsbz1oLHI9bDt9cmV0dXJuIHN9ZnVuY3Rpb24gdXAoZSx0LGkscil7aWYocih0LGkpKXtjb25zdCBuPXQuYWRkKGkpLl9tdWx0KC41KTt1cChlLHQsbixyKSx1cChlLG4saSxyKTt9ZWxzZSBlLnB1c2goaSk7fWZ1bmN0aW9uIGRwKGUsdCl7bGV0IGk9ZVswXTtjb25zdCByPVtpXTtmb3IobGV0IG49MTtuPGUubGVuZ3RoO24rKyl7Y29uc3Qgbz1lW25dO3VwKHIsaSxvLHQpLGk9bzt9cmV0dXJuIHJ9Y29uc3QgcHA9TWF0aC5wb3coMiwxNCktMSxmcD0tcHAtMTtmdW5jdGlvbiBtcChlLHQpe2NvbnN0IGk9TWF0aC5yb3VuZChlLngqdCkscj1NYXRoLnJvdW5kKGUueSp0KTtyZXR1cm4gZS54PXooaSxmcCxwcCksZS55PXoocixmcCxwcCksKGk8ZS54fHxpPmUueCsxfHxyPGUueXx8cj5lLnkrMSkmJkgoXCJHZW9tZXRyeSBleGNlZWRzIGFsbG93ZWQgZXh0ZW50LCByZWR1Y2UgeW91ciB2ZWN0b3IgdGlsZSBidWZmZXIgc2l6ZVwiKSxlfWZ1bmN0aW9uIF9wKGUsdCxpKXtjb25zdCByPWUubG9hZEdlb21ldHJ5KCksbj1lLmV4dGVudCxvPWNyL247aWYodCYmaSYmaS5wcm9qZWN0aW9uLmlzUmVwcm9qZWN0ZWRJblRpbGVTcGFjZSl7Y29uc3Qgbz0xPDx0Lnose3NjYWxlOnMseDphLHk6bCxwcm9qZWN0aW9uOmN9PWksaD1lPT57Y29uc3QgaT1lcCgodC54K2UueC9uKS9vKSxyPXRwKCh0LnkrZS55L24pL28pLGg9Yy5wcm9qZWN0KGkscik7ZS54PShoLngqcy1hKSpuLGUueT0oaC55KnMtbCkqbjt9O2ZvcihsZXQgdD0wO3Q8ci5sZW5ndGg7dCsrKWlmKDEhPT1lLnR5cGUpclt0XT1ocChyW3RdLGgsMSk7ZWxzZSB7Y29uc3QgZT1bXTtmb3IoY29uc3QgaSBvZiByW3RdKWkueDwwfHxpLng+PW58fGkueTwwfHxpLnk+PW58fChoKGkpLGUucHVzaChpKSk7clt0XT1lO319Zm9yKGNvbnN0IGUgb2Ygcilmb3IoY29uc3QgdCBvZiBlKW1wKHQsbyk7cmV0dXJuIHJ9ZnVuY3Rpb24gZ3AoZSx0KXtyZXR1cm4ge3R5cGU6ZS50eXBlLGlkOmUuaWQscHJvcGVydGllczplLnByb3BlcnRpZXMsZ2VvbWV0cnk6dD9fcChlKTpbXX19ZnVuY3Rpb24geXAoZSx0LGkscixuKXtlLmVtcGxhY2VCYWNrKDIqdCsocisxKS8yLDIqaSsobisxKS8yKTt9ZnVuY3Rpb24geHAoZSx0LGkpe2NvbnN0IHI9MTYzODQ7ZS5lbXBsYWNlQmFjayh0LngsdC55LHQueixpWzBdKnIsaVsxXSpyLGlbMl0qcik7fWNsYXNzIHZwe2NvbnN0cnVjdG9yKGUpe3RoaXMuem9vbT1lLnpvb20sdGhpcy5vdmVyc2NhbGluZz1lLm92ZXJzY2FsaW5nLHRoaXMubGF5ZXJzPWUubGF5ZXJzLHRoaXMubGF5ZXJJZHM9dGhpcy5sYXllcnMubWFwKChlPT5lLmZxaWQpKSx0aGlzLmluZGV4PWUuaW5kZXgsdGhpcy5oYXNQYXR0ZXJuPSExLHRoaXMucHJvamVjdGlvbj1lLnByb2plY3Rpb24sdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheT1uZXcgemEsdGhpcy5pbmRleEFycmF5PW5ldyBXYSx0aGlzLnNlZ21lbnRzPW5ldyB4bCx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucz1uZXcgZWMoZS5sYXllcnMsZS56b29tKSx0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJJZHM9dGhpcy5sYXllcnMuZmlsdGVyKChlPT5lLmlzU3RhdGVEZXBlbmRlbnQoKSkpLm1hcCgoZT0+ZS5pZCkpO31wb3B1bGF0ZShlLHQsaSxyKXtjb25zdCBuPXRoaXMubGF5ZXJzWzBdLG89W107bGV0IHM9bnVsbDtcImNpcmNsZVwiPT09bi50eXBlJiYocz1uLmxheW91dC5nZXQoXCJjaXJjbGUtc29ydC1rZXlcIikpO2Zvcihjb25zdHtmZWF0dXJlOnQsaWQ6bixpbmRleDphLHNvdXJjZUxheWVySW5kZXg6bH1vZiBlKXtjb25zdCBlPXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLm5lZWRHZW9tZXRyeSxjPWdwKHQsZSk7aWYoIXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLmZpbHRlcihuZXcgb2EodGhpcy56b29tKSxjLGkpKWNvbnRpbnVlO2NvbnN0IGg9cz9zLmV2YWx1YXRlKGMse30saSk6dm9pZCAwLHU9e2lkOm4scHJvcGVydGllczp0LnByb3BlcnRpZXMsdHlwZTp0LnR5cGUsc291cmNlTGF5ZXJJbmRleDpsLGluZGV4OmEsZ2VvbWV0cnk6ZT9jLmdlb21ldHJ5Ol9wKHQsaSxyKSxwYXR0ZXJuczp7fSxzb3J0S2V5Omh9O28ucHVzaCh1KTt9cyYmby5zb3J0KCgoZSx0KT0+ZS5zb3J0S2V5LXQuc29ydEtleSkpO2xldCBhPW51bGw7XCJnbG9iZVwiPT09ci5wcm9qZWN0aW9uLm5hbWUmJih0aGlzLmdsb2JlRXh0VmVydGV4QXJyYXk9bmV3IEZhLGE9ci5wcm9qZWN0aW9uKTtmb3IoY29uc3QgciBvZiBvKXtjb25zdHtnZW9tZXRyeTpuLGluZGV4Om8sc291cmNlTGF5ZXJJbmRleDpzfT1yLGw9ZVtvXS5mZWF0dXJlO3RoaXMuYWRkRmVhdHVyZShyLG4sbyx0LmF2YWlsYWJsZUltYWdlcyxpLGEsdC5icmlnaHRuZXNzKSx0LmZlYXR1cmVJbmRleC5pbnNlcnQobCxuLG8scyx0aGlzLmluZGV4KTt9fXVwZGF0ZShlLHQsaSxyLG4pe2NvbnN0IG89MCE9PU9iamVjdC5rZXlzKGUpLmxlbmd0aDtvJiYhdGhpcy5zdGF0ZURlcGVuZGVudExheWVycy5sZW5ndGh8fHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwZGF0ZVBhaW50QXJyYXlzKGUsdCxvP3RoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnM6dGhpcy5sYXllcnMsaSxyLG4pO31pc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aH11cGxvYWRQZW5kaW5nKCl7cmV0dXJuICF0aGlzLnVwbG9hZGVkfHx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZH11cGxvYWQoZSl7dGhpcy51cGxvYWRlZHx8KHRoaXMubGF5b3V0VmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMubGF5b3V0VmVydGV4QXJyYXksZ2wubWVtYmVycyksdGhpcy5pbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kZXhBcnJheSksdGhpcy5nbG9iZUV4dFZlcnRleEFycmF5JiYodGhpcy5nbG9iZUV4dFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmdsb2JlRXh0VmVydGV4QXJyYXkseWwubWVtYmVycykpKSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGxvYWQoZSksdGhpcy51cGxvYWRlZD0hMDt9ZGVzdHJveSgpe3RoaXMubGF5b3V0VmVydGV4QnVmZmVyJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSx0aGlzLmdsb2JlRXh0VmVydGV4QnVmZmVyJiZ0aGlzLmdsb2JlRXh0VmVydGV4QnVmZmVyLmRlc3Ryb3koKSk7fWFkZEZlYXR1cmUoZSx0LGkscixuLG8scyl7Zm9yKGNvbnN0IGkgb2YgdClmb3IoY29uc3QgdCBvZiBpKXtjb25zdCBpPXQueCxyPXQueTtpZihpPDB8fGk+PWNyfHxyPDB8fHI+PWNyKWNvbnRpbnVlO2lmKG8pe2NvbnN0IGU9by5wcm9qZWN0VGlsZVBvaW50KGkscixuKSx0PW8udXBWZWN0b3IobixpLHIpLHM9dGhpcy5nbG9iZUV4dFZlcnRleEFycmF5O3hwKHMsZSx0KSx4cChzLGUsdCkseHAocyxlLHQpLHhwKHMsZSx0KTt9Y29uc3Qgcz10aGlzLnNlZ21lbnRzLnByZXBhcmVTZWdtZW50KDQsdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSx0aGlzLmluZGV4QXJyYXksZS5zb3J0S2V5KSxhPXMudmVydGV4TGVuZ3RoO3lwKHRoaXMubGF5b3V0VmVydGV4QXJyYXksaSxyLC0xLC0xKSx5cCh0aGlzLmxheW91dFZlcnRleEFycmF5LGksciwxLC0xKSx5cCh0aGlzLmxheW91dFZlcnRleEFycmF5LGksciwxLDEpLHlwKHRoaXMubGF5b3V0VmVydGV4QXJyYXksaSxyLC0xLDEpLHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhhLGErMSxhKzIpLHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhhLGErMixhKzMpLHMudmVydGV4TGVuZ3RoKz00LHMucHJpbWl0aXZlTGVuZ3RoKz0yO310aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5wb3B1bGF0ZVBhaW50QXJyYXlzKHRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RoLGUsaSx7fSxyLG4scyk7fX1mdW5jdGlvbiBicChlLHQpe2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKWlmKHpwKHQsZVtpXSkpcmV0dXJuICEwO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKWlmKHpwKGUsdFtpXSkpcmV0dXJuICEwO3JldHVybiAhIU1wKGUsdCl9ZnVuY3Rpb24gd3AoZSx0LGkpe3JldHVybiAhIXpwKGUsdCl8fCEhU3AodCxlLGkpfWZ1bmN0aW9uIFRwKGUsdCl7aWYoMT09PWUubGVuZ3RoKXJldHVybiBDcCh0LGVbMF0pO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKXtjb25zdCByPXRbaV07Zm9yKGxldCB0PTA7dDxyLmxlbmd0aDt0KyspaWYoenAoZSxyW3RdKSlyZXR1cm4gITB9Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspaWYoQ3AodCxlW2ldKSlyZXR1cm4gITA7Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspaWYoTXAoZSx0W2ldKSlyZXR1cm4gITA7cmV0dXJuICExfWZ1bmN0aW9uIEVwKGUsdCxpKXtpZihlLmxlbmd0aD4xKXtpZihNcChlLHQpKXJldHVybiAhMDtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKylpZihTcCh0W3JdLGUsaSkpcmV0dXJuICEwfWZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKFNwKGVbcl0sdCxpKSlyZXR1cm4gITA7cmV0dXJuICExfWZ1bmN0aW9uIE1wKGUsdCl7aWYoMD09PWUubGVuZ3RofHwwPT09dC5sZW5ndGgpcmV0dXJuICExO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGgtMTtpKyspe2NvbnN0IHI9ZVtpXSxuPWVbaSsxXTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoLTE7ZSsrKWlmKEFwKHIsbix0W2VdLHRbZSsxXSkpcmV0dXJuICEwfXJldHVybiAhMX1mdW5jdGlvbiBBcChlLHQsaSxyKXtyZXR1cm4gWChlLGkscikhPT1YKHQsaSxyKSYmWChlLHQsaSkhPT1YKGUsdCxyKX1mdW5jdGlvbiBTcChlLHQsaSl7Y29uc3Qgcj1pKmk7aWYoMT09PXQubGVuZ3RoKXJldHVybiBlLmRpc3RTcXIodFswXSk8cjtmb3IobGV0IGk9MTtpPHQubGVuZ3RoO2krKylpZihJcChlLHRbaS0xXSx0W2ldKTxyKXJldHVybiAhMDtyZXR1cm4gITF9ZnVuY3Rpb24gSXAoZSx0LGkpe2NvbnN0IHI9dC5kaXN0U3FyKGkpO2lmKDA9PT1yKXJldHVybiBlLmRpc3RTcXIodCk7Y29uc3Qgbj0oKGUueC10LngpKihpLngtdC54KSsoZS55LXQueSkqKGkueS10LnkpKS9yO3JldHVybiBlLmRpc3RTcXIobjwwP3Q6bj4xP2k6aS5zdWIodCkuX211bHQobikuX2FkZCh0KSl9ZnVuY3Rpb24gQ3AoZSx0KXtsZXQgaSxyLG4sbz0hMTtmb3IobGV0IHM9MDtzPGUubGVuZ3RoO3MrKyl7aT1lW3NdO2ZvcihsZXQgZT0wLHM9aS5sZW5ndGgtMTtlPGkubGVuZ3RoO3M9ZSsrKXI9aVtlXSxuPWlbc10sci55PnQueSE9bi55PnQueSYmdC54PChuLngtci54KSoodC55LXIueSkvKG4ueS1yLnkpK3IueCYmKG89IW8pO31yZXR1cm4gb31mdW5jdGlvbiB6cChlLHQpe2xldCBpPSExO2ZvcihsZXQgcj0wLG49ZS5sZW5ndGgtMTtyPGUubGVuZ3RoO249cisrKXtjb25zdCBvPWVbcl0scz1lW25dO28ueT50LnkhPXMueT50LnkmJnQueDwocy54LW8ueCkqKHQueS1vLnkpLyhzLnktby55KStvLngmJihpPSFpKTt9cmV0dXJuIGl9ZnVuY3Rpb24gUHAoZSx0LGkscixuKXtmb3IoY29uc3QgbyBvZiBlKWlmKHQ8PW8ueCYmaTw9by55JiZyPj1vLngmJm4+PW8ueSlyZXR1cm4gITA7Y29uc3Qgbz1bbmV3IHkodCxpKSxuZXcgeSh0LG4pLG5ldyB5KHIsbiksbmV3IHkocixpKV07aWYoZS5sZW5ndGg+Milmb3IoY29uc3QgdCBvZiBvKWlmKHpwKGUsdCkpcmV0dXJuICEwO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGgtMTt0KyspaWYoRHAoZVt0XSxlW3QrMV0sbykpcmV0dXJuICEwO3JldHVybiAhMX1mdW5jdGlvbiBEcChlLHQsaSl7Y29uc3Qgcj1pWzBdLG49aVsyXTtpZihlLng8ci54JiZ0Lng8ci54fHxlLng+bi54JiZ0Lng+bi54fHxlLnk8ci55JiZ0Lnk8ci55fHxlLnk+bi55JiZ0Lnk+bi55KXJldHVybiAhMTtjb25zdCBvPVgoZSx0LGlbMF0pO3JldHVybiBvIT09WChlLHQsaVsxXSl8fG8hPT1YKGUsdCxpWzJdKXx8byE9PVgoZSx0LGlbM10pfWZ1bmN0aW9uIFJwKGUsdCxpLHIsbixvKXtsZXQgcz10LnktZS55LGE9ZS54LXQueDtpZihvPW98fDApe2NvbnN0IGU9cypzK2EqYTtpZigwPT09ZSlyZXR1cm4gITA7Y29uc3QgdD1NYXRoLnNxcnQoZSk7cy89dCxhLz10O31yZXR1cm4gISgoaS54LWUueCkqcysoaS55LWUueSkqYS1vPDB8fChyLngtZS54KSpzKyhyLnktZS55KSphLW88MHx8KG4ueC1lLngpKnMrKG4ueS1lLnkpKmEtbzwwKX1mdW5jdGlvbiBMcChlLHQsaSxyLG4sbyxzKXtyZXR1cm4gIShScChlLHQscixuLG8scyl8fFJwKHQsaSxyLG4sbyxzKXx8UnAoaSxlLHIsbixvLHMpfHxScChyLG4sZSx0LGkscyl8fFJwKG4sbyxlLHQsaSxzKXx8UnAobyxyLGUsdCxpLHMpKX1mdW5jdGlvbiBrcChlLHQsaSl7Y29uc3Qgcj10LnBhaW50LmdldChlKS52YWx1ZTtyZXR1cm4gXCJjb25zdGFudFwiPT09ci5raW5kP3IudmFsdWU6aS5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KHQuaWQpLmdldE1heFZhbHVlKGUpfWZ1bmN0aW9uIE9wKGUpe3JldHVybiBNYXRoLnNxcnQoZVswXSplWzBdK2VbMV0qZVsxXSl9ZnVuY3Rpb24gQnAoZSx0LGkscixuKXtpZighdFswXSYmIXRbMV0pcmV0dXJuIGU7Y29uc3Qgbz15LmNvbnZlcnQodCkuX211bHQobik7XCJ2aWV3cG9ydFwiPT09aSYmby5fcm90YXRlKC1yKTtjb25zdCBzPVtdO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXMucHVzaChlW3RdLnN1YihvKSk7cmV0dXJuIHN9ZnVuY3Rpb24gRnAoZSx0LGkscil7Y29uc3Qgbj15LmNvbnZlcnQoZSkuX211bHQocik7cmV0dXJuIFwidmlld3BvcnRcIj09PXQmJm4uX3JvdGF0ZSgtaSksbn1Scyh2cCxcIkNpcmNsZUJ1Y2tldFwiLHtvbWl0OltcImxheWVyc1wiXX0pO2NvbnN0IE5wPW5ldyBnYSh7XCJjaXJjbGUtc29ydC1rZXlcIjpuZXcgbWEoUHQubGF5b3V0X2NpcmNsZVtcImNpcmNsZS1zb3J0LWtleVwiXSksdmlzaWJpbGl0eTpuZXcgZmEoUHQubGF5b3V0X2NpcmNsZS52aXNpYmlsaXR5KX0pO3ZhciBVcD17cGFpbnQ6bmV3IGdhKHtcImNpcmNsZS1yYWRpdXNcIjpuZXcgbWEoUHQucGFpbnRfY2lyY2xlW1wiY2lyY2xlLXJhZGl1c1wiXSksXCJjaXJjbGUtY29sb3JcIjpuZXcgbWEoUHQucGFpbnRfY2lyY2xlW1wiY2lyY2xlLWNvbG9yXCJdKSxcImNpcmNsZS1ibHVyXCI6bmV3IG1hKFB0LnBhaW50X2NpcmNsZVtcImNpcmNsZS1ibHVyXCJdKSxcImNpcmNsZS1vcGFjaXR5XCI6bmV3IG1hKFB0LnBhaW50X2NpcmNsZVtcImNpcmNsZS1vcGFjaXR5XCJdKSxcImNpcmNsZS10cmFuc2xhdGVcIjpuZXcgZmEoUHQucGFpbnRfY2lyY2xlW1wiY2lyY2xlLXRyYW5zbGF0ZVwiXSksXCJjaXJjbGUtdHJhbnNsYXRlLWFuY2hvclwiOm5ldyBmYShQdC5wYWludF9jaXJjbGVbXCJjaXJjbGUtdHJhbnNsYXRlLWFuY2hvclwiXSksXCJjaXJjbGUtcGl0Y2gtc2NhbGVcIjpuZXcgZmEoUHQucGFpbnRfY2lyY2xlW1wiY2lyY2xlLXBpdGNoLXNjYWxlXCJdKSxcImNpcmNsZS1waXRjaC1hbGlnbm1lbnRcIjpuZXcgZmEoUHQucGFpbnRfY2lyY2xlW1wiY2lyY2xlLXBpdGNoLWFsaWdubWVudFwiXSksXCJjaXJjbGUtc3Ryb2tlLXdpZHRoXCI6bmV3IG1hKFB0LnBhaW50X2NpcmNsZVtcImNpcmNsZS1zdHJva2Utd2lkdGhcIl0pLFwiY2lyY2xlLXN0cm9rZS1jb2xvclwiOm5ldyBtYShQdC5wYWludF9jaXJjbGVbXCJjaXJjbGUtc3Ryb2tlLWNvbG9yXCJdKSxcImNpcmNsZS1zdHJva2Utb3BhY2l0eVwiOm5ldyBtYShQdC5wYWludF9jaXJjbGVbXCJjaXJjbGUtc3Ryb2tlLW9wYWNpdHlcIl0pLFwiY2lyY2xlLWVtaXNzaXZlLXN0cmVuZ3RoXCI6bmV3IGZhKFB0LnBhaW50X2NpcmNsZVtcImNpcmNsZS1lbWlzc2l2ZS1zdHJlbmd0aFwiXSl9KSxsYXlvdXQ6TnB9O2NvbnN0IFZwPUF1LmNyZWF0ZSgpLGpwPShlLHQsaSxyLG4sbyk9Pntjb25zdCBzPWUudHJhbnNmb3JtLGE9XCJnbG9iZVwiPT09cy5wcm9qZWN0aW9uLm5hbWU7bGV0IGw7aWYoXCJtYXBcIj09PW8ucGFpbnQuZ2V0KFwiY2lyY2xlLXBpdGNoLWFsaWdubWVudFwiKSlpZihhKXtjb25zdCBlPUNkKHMuem9vbSx0LmNhbm9uaWNhbCkqcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbDtsPUZsb2F0MzJBcnJheS5mcm9tKFtlLDAsMCxlXSk7fWVsc2UgbD1zLmNhbGN1bGF0ZVBpeGVsc1RvVGlsZVVuaXRzTWF0cml4KGkpO2Vsc2UgbD1uZXcgRmxvYXQzMkFycmF5KFtzLnBpeGVsc1RvR0xVbml0c1swXSwwLDAscy5waXhlbHNUb0dMVW5pdHNbMV1dKTtjb25zdCBjPXt1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6ZS50cmFuc2Zvcm0uZ2V0Q2FtZXJhVG9DZW50ZXJEaXN0YW5jZShzLnByb2plY3Rpb24pLHVfbWF0cml4OmUudHJhbnNsYXRlUG9zTWF0cml4KHQucHJvak1hdHJpeCxpLG8ucGFpbnQuZ2V0KFwiY2lyY2xlLXRyYW5zbGF0ZVwiKSxvLnBhaW50LmdldChcImNpcmNsZS10cmFuc2xhdGUtYW5jaG9yXCIpKSx1X2RldmljZV9waXhlbF9yYXRpbzpkdC5kZXZpY2VQaXhlbFJhdGlvLHVfZXh0cnVkZV9zY2FsZTpsLHVfaW52X3JvdF9tYXRyaXg6VnAsdV9tZXJjX2NlbnRlcjpbMCwwXSx1X3RpbGVfaWQ6WzAsMCwwXSx1X3pvb21fdHJhbnNpdGlvbjowLHVfdXBfZGlyOlswLDAsMF0sdV9lbWlzc2l2ZV9zdHJlbmd0aDpvLnBhaW50LmdldChcImNpcmNsZS1lbWlzc2l2ZS1zdHJlbmd0aFwiKX07aWYoYSl7Yy51X2ludl9yb3RfbWF0cml4PXIsYy51X21lcmNfY2VudGVyPW4sYy51X3RpbGVfaWQ9W3QuY2Fub25pY2FsLngsdC5jYW5vbmljYWwueSwxPDx0LmNhbm9uaWNhbC56XSxjLnVfem9vbV90cmFuc2l0aW9uPURkKHMuem9vbSk7Y29uc3QgZT1uWzBdKmNyLGk9blsxXSpjcjtjLnVfdXBfZGlyPXMucHJvamVjdGlvbi51cFZlY3RvcihuZXcganUoMCwwLDApLGUsaSk7fXJldHVybiBjfSxHcD1lPT57Y29uc3QgdD1bXTtyZXR1cm4gXCJtYXBcIj09PWUucGFpbnQuZ2V0KFwiY2lyY2xlLXBpdGNoLWFsaWdubWVudFwiKSYmdC5wdXNoKFwiUElUQ0hfV0lUSF9NQVBcIiksXCJtYXBcIj09PWUucGFpbnQuZ2V0KFwiY2lyY2xlLXBpdGNoLXNjYWxlXCIpJiZ0LnB1c2goXCJTQ0FMRV9XSVRIX01BUFwiKSx0fTtmdW5jdGlvbiBxcChlLHQsaSxyLG4sbyxzLGEsbCl7aWYobyYmZS5xdWVyeUdlb21ldHJ5LmlzQWJvdmVIb3Jpem9uKXJldHVybiAhMTtvJiYobCo9ZS5waXhlbFRvVGlsZVVuaXRzRmFjdG9yKTtjb25zdCBjPWUudGlsZUlELmNhbm9uaWNhbCxoPWkucHJvamVjdGlvbi51cFZlY3RvclNjYWxlKGMsaS5jZW50ZXIubGF0LGkud29ybGRTaXplKS5tZXRlcnNUb1RpbGU7Zm9yKGNvbnN0IHUgb2YgdClmb3IoY29uc3QgdCBvZiB1KXtjb25zdCB1PXQuYWRkKGEpLGQ9biYmaS5lbGV2YXRpb24/aS5lbGV2YXRpb24uZXhhZ2dlcmF0aW9uKCkqbi5nZXRFbGV2YXRpb25BdCh1LngsdS55LCEwKTowLHA9aS5wcm9qZWN0aW9uLnByb2plY3RUaWxlUG9pbnQodS54LHUueSxjKTtpZihkPjApe2NvbnN0IGU9aS5wcm9qZWN0aW9uLnVwVmVjdG9yKGMsdS54LHUueSk7cC54Kz1lWzBdKmgqZCxwLnkrPWVbMV0qaCpkLHAueis9ZVsyXSpoKmQ7fWNvbnN0IGY9bz91OlpwKHAueCxwLnkscC56LHIpLG09bz9lLnRpbGVzcGFjZVJheXMubWFwKChlPT5IcChlLGQpKSk6ZS5xdWVyeUdlb21ldHJ5LnNjcmVlbkdlb21ldHJ5LF89eXUudHJhbnNmb3JtTWF0NChbXSxbcC54LHAueSxwLnosMV0scik7aWYoIXMmJm8/bCo9X1szXS9pLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2U6cyYmIW8mJihsKj1pLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UvX1szXSksbyl7Y29uc3QgZT10cCgodC55L2NyK2MueSkvKDE8PGMueikpO2wvPWkucHJvamVjdGlvbi5waXhlbHNQZXJNZXRlcihlLDEpL1FkKDEsZSk7fWlmKHdwKG0sZixsKSlyZXR1cm4gITB9cmV0dXJuICExfWZ1bmN0aW9uIFpwKGUsdCxpLHIpe2NvbnN0IG49eXUudHJhbnNmb3JtTWF0NChbXSxbZSx0LGksMV0scik7cmV0dXJuIG5ldyB5KG5bMF0vblszXSxuWzFdL25bM10pfWNvbnN0ICRwPUR1LmZyb21WYWx1ZXMoMCwwLDApLFdwPUR1LmZyb21WYWx1ZXMoMCwwLDEpO2Z1bmN0aW9uIEhwKGUsdCl7Y29uc3QgaT1EdS5jcmVhdGUoKTtyZXR1cm4gJHBbMl09dCxlLmludGVyc2VjdHNQbGFuZSgkcCxXcCxpKSxuZXcgeShpWzBdLGlbMV0pfWNsYXNzIFhwIGV4dGVuZHMgdnB7fWZ1bmN0aW9uIFlwKGUse3dpZHRoOnQsaGVpZ2h0Oml9LHIsbil7aWYobil7aWYobiBpbnN0YW5jZW9mIFVpbnQ4Q2xhbXBlZEFycmF5KW49bmV3IFVpbnQ4QXJyYXkobi5idWZmZXIpO2Vsc2UgaWYobi5sZW5ndGghPT10Kmkqcil0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm1pc21hdGNoZWQgaW1hZ2Ugc2l6ZVwiKX1lbHNlIG49bmV3IFVpbnQ4QXJyYXkodCppKnIpO3JldHVybiBlLndpZHRoPXQsZS5oZWlnaHQ9aSxlLmRhdGE9bixlfWZ1bmN0aW9uIEtwKGUsdCxpKXtjb25zdHt3aWR0aDpyLGhlaWdodDpufT10O3I9PT1lLndpZHRoJiZuPT09ZS5oZWlnaHR8fChKcChlLHQse3g6MCx5OjB9LHt4OjAseTowfSx7d2lkdGg6TWF0aC5taW4oZS53aWR0aCxyKSxoZWlnaHQ6TWF0aC5taW4oZS5oZWlnaHQsbil9LGkpLGUud2lkdGg9cixlLmhlaWdodD1uLGUuZGF0YT10LmRhdGEpO31mdW5jdGlvbiBKcChlLHQsaSxyLG4sbyl7aWYoMD09PW4ud2lkdGh8fDA9PT1uLmhlaWdodClyZXR1cm4gdDtpZihuLndpZHRoPmUud2lkdGh8fG4uaGVpZ2h0PmUuaGVpZ2h0fHxpLng+ZS53aWR0aC1uLndpZHRofHxpLnk+ZS5oZWlnaHQtbi5oZWlnaHQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJvdXQgb2YgcmFuZ2Ugc291cmNlIGNvb3JkaW5hdGVzIGZvciBpbWFnZSBjb3B5XCIpO2lmKG4ud2lkdGg+dC53aWR0aHx8bi5oZWlnaHQ+dC5oZWlnaHR8fHIueD50LndpZHRoLW4ud2lkdGh8fHIueT50LmhlaWdodC1uLmhlaWdodCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm91dCBvZiByYW5nZSBkZXN0aW5hdGlvbiBjb29yZGluYXRlcyBmb3IgaW1hZ2UgY29weVwiKTtjb25zdCBzPWUuZGF0YSxhPXQuZGF0YTtmb3IobGV0IGw9MDtsPG4uaGVpZ2h0O2wrKyl7Y29uc3QgYz0oKGkueStsKSplLndpZHRoK2kueCkqbyxoPSgoci55K2wpKnQud2lkdGgrci54KSpvO2ZvcihsZXQgZT0wO2U8bi53aWR0aCpvO2UrKylhW2grZV09c1tjK2VdO31yZXR1cm4gdH1ScyhYcCxcIkhlYXRtYXBCdWNrZXRcIix7b21pdDpbXCJsYXllcnNcIl19KTtjbGFzcyBRcHtjb25zdHJ1Y3RvcihlLHQpe1lwKHRoaXMsZSwxLHQpO31yZXNpemUoZSl7S3AodGhpcyxuZXcgUXAoZSksMSk7fWNsb25lKCl7cmV0dXJuIG5ldyBRcCh7d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHR9LG5ldyBVaW50OEFycmF5KHRoaXMuZGF0YSkpfXN0YXRpYyBjb3B5KGUsdCxpLHIsbil7SnAoZSx0LGkscixuLDEpO319Y2xhc3MgZWZ7Y29uc3RydWN0b3IoZSx0KXtZcCh0aGlzLGUsNCx0KTt9cmVzaXplKGUpe0twKHRoaXMsbmV3IGVmKGUpLDQpO31yZXBsYWNlKGUsdCl7dD90aGlzLmRhdGEuc2V0KGUpOnRoaXMuZGF0YT1lIGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXk/bmV3IFVpbnQ4QXJyYXkoZS5idWZmZXIpOmU7fWNsb25lKCl7cmV0dXJuIG5ldyBlZih7d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHR9LG5ldyBVaW50OEFycmF5KHRoaXMuZGF0YSkpfXN0YXRpYyBjb3B5KGUsdCxpLHIsbil7SnAoZSx0LGkscixuLDQpO319Y2xhc3MgdGZ7Y29uc3RydWN0b3IoZSx0KXt0aGlzLndpZHRoPWUud2lkdGgsdGhpcy5oZWlnaHQ9ZS5oZWlnaHQsdGhpcy5kYXRhPXQgaW5zdGFuY2VvZiBVaW50OEFycmF5P25ldyBGbG9hdDMyQXJyYXkodC5idWZmZXIpOnQ7fX1ScyhRcCxcIkFscGhhSW1hZ2VcIiksUnMoZWYsXCJSR0JBSW1hZ2VcIik7Y29uc3QgcmY9bmV3IGdhKHt2aXNpYmlsaXR5Om5ldyBmYShQdC5sYXlvdXRfaGVhdG1hcC52aXNpYmlsaXR5KX0pO3ZhciBuZj17cGFpbnQ6bmV3IGdhKHtcImhlYXRtYXAtcmFkaXVzXCI6bmV3IG1hKFB0LnBhaW50X2hlYXRtYXBbXCJoZWF0bWFwLXJhZGl1c1wiXSksXCJoZWF0bWFwLXdlaWdodFwiOm5ldyBtYShQdC5wYWludF9oZWF0bWFwW1wiaGVhdG1hcC13ZWlnaHRcIl0pLFwiaGVhdG1hcC1pbnRlbnNpdHlcIjpuZXcgZmEoUHQucGFpbnRfaGVhdG1hcFtcImhlYXRtYXAtaW50ZW5zaXR5XCJdKSxcImhlYXRtYXAtY29sb3JcIjpuZXcgX2EoUHQucGFpbnRfaGVhdG1hcFtcImhlYXRtYXAtY29sb3JcIl0pLFwiaGVhdG1hcC1vcGFjaXR5XCI6bmV3IGZhKFB0LnBhaW50X2hlYXRtYXBbXCJoZWF0bWFwLW9wYWNpdHlcIl0pfSksbGF5b3V0OnJmfTtmdW5jdGlvbiBvZihlKXtjb25zdCB0PXt9LGk9ZS5yZXNvbHV0aW9ufHwyNTYscj1lLmNsaXBzP2UuY2xpcHMubGVuZ3RoOjEsbj1lLmltYWdlfHxuZXcgZWYoe3dpZHRoOmksaGVpZ2h0OnJ9KSxvPShpLHIsbyk9Pnt0W2UuZXZhbHVhdGlvbktleV09bztjb25zdCBzPWUuZXhwcmVzc2lvbi5ldmFsdWF0ZSh0KTtzJiYobi5kYXRhW2krciswXT1NYXRoLmZsb29yKDI1NSpzLnIvcy5hKSxuLmRhdGFbaStyKzFdPU1hdGguZmxvb3IoMjU1KnMuZy9zLmEpLG4uZGF0YVtpK3IrMl09TWF0aC5mbG9vcigyNTUqcy5iL3MuYSksbi5kYXRhW2krciszXT1NYXRoLmZsb29yKDI1NSpzLmEpKTt9O2lmKGUuY2xpcHMpZm9yKGxldCB0PTAsbj0wO3Q8cjsrK3Qsbis9NCppKWZvcihsZXQgcj0wLHM9MDtyPGk7cisrLHMrPTQpe2NvbnN0IGE9ci8oaS0xKSx7c3RhcnQ6bCxlbmQ6Y309ZS5jbGlwc1t0XTtvKG4scyxsKigxLWEpK2MqYSk7fWVsc2UgZm9yKGxldCBlPTAsdD0wO2U8aTtlKyssdCs9NClvKDAsdCxlLyhpLTEpKTtyZXR1cm4gbn1jb25zdCBzZj1uZXcgZ2Eoe3Zpc2liaWxpdHk6bmV3IGZhKFB0LmxheW91dF9oaWxsc2hhZGUudmlzaWJpbGl0eSl9KTt2YXIgYWY9e3BhaW50Om5ldyBnYSh7XCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWRpcmVjdGlvblwiOm5ldyBmYShQdC5wYWludF9oaWxsc2hhZGVbXCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWRpcmVjdGlvblwiXSksXCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWFuY2hvclwiOm5ldyBmYShQdC5wYWludF9oaWxsc2hhZGVbXCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWFuY2hvclwiXSksXCJoaWxsc2hhZGUtZXhhZ2dlcmF0aW9uXCI6bmV3IGZhKFB0LnBhaW50X2hpbGxzaGFkZVtcImhpbGxzaGFkZS1leGFnZ2VyYXRpb25cIl0pLFwiaGlsbHNoYWRlLXNoYWRvdy1jb2xvclwiOm5ldyBmYShQdC5wYWludF9oaWxsc2hhZGVbXCJoaWxsc2hhZGUtc2hhZG93LWNvbG9yXCJdKSxcImhpbGxzaGFkZS1oaWdobGlnaHQtY29sb3JcIjpuZXcgZmEoUHQucGFpbnRfaGlsbHNoYWRlW1wiaGlsbHNoYWRlLWhpZ2hsaWdodC1jb2xvclwiXSksXCJoaWxsc2hhZGUtYWNjZW50LWNvbG9yXCI6bmV3IGZhKFB0LnBhaW50X2hpbGxzaGFkZVtcImhpbGxzaGFkZS1hY2NlbnQtY29sb3JcIl0pLFwiaGlsbHNoYWRlLWVtaXNzaXZlLXN0cmVuZ3RoXCI6bmV3IGZhKFB0LnBhaW50X2hpbGxzaGFkZVtcImhpbGxzaGFkZS1lbWlzc2l2ZS1zdHJlbmd0aFwiXSl9KSxsYXlvdXQ6c2Z9O2NvbnN0IGxmPUlhKFt7bmFtZTpcImFfcG9zXCIsY29tcG9uZW50czoyLHR5cGU6XCJJbnQxNlwifV0sNCkse21lbWJlcnM6Y2Z9PWxmO3ZhciBoZj17ZXhwb3J0czp7fX07ZnVuY3Rpb24gdWYoZSx0LGkpe2k9aXx8Mjt2YXIgcixuLG8scyxhLGwsYyxoPXQmJnQubGVuZ3RoLHU9aD90WzBdKmk6ZS5sZW5ndGgsZD1kZihlLDAsdSxpLCEwKSxwPVtdO2lmKCFkfHxkLm5leHQ9PT1kLnByZXYpcmV0dXJuIHA7aWYoaCYmKGQ9ZnVuY3Rpb24oZSx0LGkscil7dmFyIG4sbyxzLGE9W107Zm9yKG49MCxvPXQubGVuZ3RoO248bztuKyspKHM9ZGYoZSx0W25dKnIsbjxvLTE/dFtuKzFdKnI6ZS5sZW5ndGgsciwhMSkpPT09cy5uZXh0JiYocy5zdGVpbmVyPSEwKSxhLnB1c2goVGYocykpO2ZvcihhLnNvcnQoeGYpLG49MDtuPGEubGVuZ3RoO24rKylpPXZmKGFbbl0saSk7cmV0dXJuIGl9KGUsdCxkLGkpKSxlLmxlbmd0aD44MCppKXtyPW89ZVswXSxuPXM9ZVsxXTtmb3IodmFyIGY9aTtmPHU7Zis9aSkoYT1lW2ZdKTxyJiYocj1hKSwobD1lW2YrMV0pPG4mJihuPWwpLGE+byYmKG89YSksbD5zJiYocz1sKTtjPTAhPT0oYz1NYXRoLm1heChvLXIscy1uKSk/MzI3NjcvYzowO31yZXR1cm4gZmYoZCxwLGkscixuLGMsMCkscH1mdW5jdGlvbiBkZihlLHQsaSxyLG4pe3ZhciBvLHM7aWYobj09PU9mKGUsdCxpLHIpPjApZm9yKG89dDtvPGk7bys9cilzPVJmKG8sZVtvXSxlW28rMV0scyk7ZWxzZSBmb3Iobz1pLXI7bz49dDtvLT1yKXM9UmYobyxlW29dLGVbbysxXSxzKTtyZXR1cm4gcyYmU2YocyxzLm5leHQpJiYoTGYocykscz1zLm5leHQpLHN9ZnVuY3Rpb24gcGYoZSx0KXtpZighZSlyZXR1cm4gZTt0fHwodD1lKTt2YXIgaSxyPWU7ZG97aWYoaT0hMSxyLnN0ZWluZXJ8fCFTZihyLHIubmV4dCkmJjAhPT1BZihyLnByZXYscixyLm5leHQpKXI9ci5uZXh0O2Vsc2Uge2lmKExmKHIpLChyPXQ9ci5wcmV2KT09PXIubmV4dClicmVhaztpPSEwO319d2hpbGUoaXx8ciE9PXQpO3JldHVybiB0fWZ1bmN0aW9uIGZmKGUsdCxpLHIsbixvLHMpe2lmKGUpeyFzJiZvJiZmdW5jdGlvbihlLHQsaSxyKXt2YXIgbj1lO2RvezA9PT1uLnomJihuLno9d2Yobi54LG4ueSx0LGkscikpLG4ucHJldlo9bi5wcmV2LG4ubmV4dFo9bi5uZXh0LG49bi5uZXh0O313aGlsZShuIT09ZSk7bi5wcmV2Wi5uZXh0Wj1udWxsLG4ucHJldlo9bnVsbCxmdW5jdGlvbihlKXt2YXIgdCxpLHIsbixvLHMsYSxsLGM9MTtkb3tmb3IoaT1lLGU9bnVsbCxvPW51bGwscz0wO2k7KXtmb3IocysrLHI9aSxhPTAsdD0wO3Q8YyYmKGErKyxyPXIubmV4dFopO3QrKyk7Zm9yKGw9YzthPjB8fGw+MCYmcjspMCE9PWEmJigwPT09bHx8IXJ8fGkuejw9ci56KT8obj1pLGk9aS5uZXh0WixhLS0pOihuPXIscj1yLm5leHRaLGwtLSksbz9vLm5leHRaPW46ZT1uLG4ucHJldlo9byxvPW47aT1yO31vLm5leHRaPW51bGwsYyo9Mjt9d2hpbGUocz4xKX0obik7fShlLHIsbixvKTtmb3IodmFyIGEsbCxjPWU7ZS5wcmV2IT09ZS5uZXh0OylpZihhPWUucHJldixsPWUubmV4dCxvP19mKGUscixuLG8pOm1mKGUpKXQucHVzaChhLmkvaXwwKSx0LnB1c2goZS5pL2l8MCksdC5wdXNoKGwuaS9pfDApLExmKGUpLGU9bC5uZXh0LGM9bC5uZXh0O2Vsc2UgaWYoKGU9bCk9PT1jKXtzPzE9PT1zP2ZmKGU9Z2YocGYoZSksdCxpKSx0LGkscixuLG8sMik6Mj09PXMmJnlmKGUsdCxpLHIsbixvKTpmZihwZihlKSx0LGkscixuLG8sMSk7YnJlYWt9fX1mdW5jdGlvbiBtZihlKXt2YXIgdD1lLnByZXYsaT1lLHI9ZS5uZXh0O2lmKEFmKHQsaSxyKT49MClyZXR1cm4gITE7Zm9yKHZhciBuPXQueCxvPWkueCxzPXIueCxhPXQueSxsPWkueSxjPXIueSxoPW48bz9uPHM/bjpzOm88cz9vOnMsdT1hPGw/YTxjP2E6YzpsPGM/bDpjLGQ9bj5vP24+cz9uOnM6bz5zP286cyxwPWE+bD9hPmM/YTpjOmw+Yz9sOmMsZj1yLm5leHQ7ZiE9PXQ7KXtpZihmLng+PWgmJmYueDw9ZCYmZi55Pj11JiZmLnk8PXAmJkVmKG4sYSxvLGwscyxjLGYueCxmLnkpJiZBZihmLnByZXYsZixmLm5leHQpPj0wKXJldHVybiAhMTtmPWYubmV4dDt9cmV0dXJuICEwfWZ1bmN0aW9uIF9mKGUsdCxpLHIpe3ZhciBuPWUucHJldixvPWUscz1lLm5leHQ7aWYoQWYobixvLHMpPj0wKXJldHVybiAhMTtmb3IodmFyIGE9bi54LGw9by54LGM9cy54LGg9bi55LHU9by55LGQ9cy55LHA9YTxsP2E8Yz9hOmM6bDxjP2w6YyxmPWg8dT9oPGQ/aDpkOnU8ZD91OmQsbT1hPmw/YT5jP2E6YzpsPmM/bDpjLF89aD51P2g+ZD9oOmQ6dT5kP3U6ZCxnPXdmKHAsZix0LGkscikseT13ZihtLF8sdCxpLHIpLHg9ZS5wcmV2Wix2PWUubmV4dFo7eCYmeC56Pj1nJiZ2JiZ2Lno8PXk7KXtpZih4Lng+PXAmJngueDw9bSYmeC55Pj1mJiZ4Lnk8PV8mJnghPT1uJiZ4IT09cyYmRWYoYSxoLGwsdSxjLGQseC54LHgueSkmJkFmKHgucHJldix4LHgubmV4dCk+PTApcmV0dXJuICExO2lmKHg9eC5wcmV2Wix2Lng+PXAmJnYueDw9bSYmdi55Pj1mJiZ2Lnk8PV8mJnYhPT1uJiZ2IT09cyYmRWYoYSxoLGwsdSxjLGQsdi54LHYueSkmJkFmKHYucHJldix2LHYubmV4dCk+PTApcmV0dXJuICExO3Y9di5uZXh0Wjt9Zm9yKDt4JiZ4Lno+PWc7KXtpZih4Lng+PXAmJngueDw9bSYmeC55Pj1mJiZ4Lnk8PV8mJnghPT1uJiZ4IT09cyYmRWYoYSxoLGwsdSxjLGQseC54LHgueSkmJkFmKHgucHJldix4LHgubmV4dCk+PTApcmV0dXJuICExO3g9eC5wcmV2Wjt9Zm9yKDt2JiZ2Lno8PXk7KXtpZih2Lng+PXAmJnYueDw9bSYmdi55Pj1mJiZ2Lnk8PV8mJnYhPT1uJiZ2IT09cyYmRWYoYSxoLGwsdSxjLGQsdi54LHYueSkmJkFmKHYucHJldix2LHYubmV4dCk+PTApcmV0dXJuICExO3Y9di5uZXh0Wjt9cmV0dXJuICEwfWZ1bmN0aW9uIGdmKGUsdCxpKXt2YXIgcj1lO2Rve3ZhciBuPXIucHJldixvPXIubmV4dC5uZXh0OyFTZihuLG8pJiZJZihuLHIsci5uZXh0LG8pJiZQZihuLG8pJiZQZihvLG4pJiYodC5wdXNoKG4uaS9pfDApLHQucHVzaChyLmkvaXwwKSx0LnB1c2goby5pL2l8MCksTGYociksTGYoci5uZXh0KSxyPWU9bykscj1yLm5leHQ7fXdoaWxlKHIhPT1lKTtyZXR1cm4gcGYocil9ZnVuY3Rpb24geWYoZSx0LGkscixuLG8pe3ZhciBzPWU7ZG97Zm9yKHZhciBhPXMubmV4dC5uZXh0O2EhPT1zLnByZXY7KXtpZihzLmkhPT1hLmkmJk1mKHMsYSkpe3ZhciBsPURmKHMsYSk7cmV0dXJuIHM9cGYocyxzLm5leHQpLGw9cGYobCxsLm5leHQpLGZmKHMsdCxpLHIsbixvLDApLHZvaWQgZmYobCx0LGkscixuLG8sMCl9YT1hLm5leHQ7fXM9cy5uZXh0O313aGlsZShzIT09ZSl9ZnVuY3Rpb24geGYoZSx0KXtyZXR1cm4gZS54LXQueH1mdW5jdGlvbiB2ZihlLHQpe3ZhciBpPWZ1bmN0aW9uKGUsdCl7dmFyIGkscj10LG49ZS54LG89ZS55LHM9LTEvMDtkb3tpZihvPD1yLnkmJm8+PXIubmV4dC55JiZyLm5leHQueSE9PXIueSl7dmFyIGE9ci54KyhvLXIueSkqKHIubmV4dC54LXIueCkvKHIubmV4dC55LXIueSk7aWYoYTw9biYmYT5zJiYocz1hLGk9ci54PHIubmV4dC54P3I6ci5uZXh0LGE9PT1uKSlyZXR1cm4gaX1yPXIubmV4dDt9d2hpbGUociE9PXQpO2lmKCFpKXJldHVybiBudWxsO3ZhciBsLGM9aSxoPWkueCx1PWkueSxkPTEvMDtyPWk7ZG97bj49ci54JiZyLng+PWgmJm4hPT1yLngmJkVmKG88dT9uOnMsbyxoLHUsbzx1P3M6bixvLHIueCxyLnkpJiYobD1NYXRoLmFicyhvLXIueSkvKG4tci54KSxQZihyLGUpJiYobDxkfHxsPT09ZCYmKHIueD5pLnh8fHIueD09PWkueCYmYmYoaSxyKSkpJiYoaT1yLGQ9bCkpLHI9ci5uZXh0O313aGlsZShyIT09Yyk7cmV0dXJuIGl9KGUsdCk7aWYoIWkpcmV0dXJuIHQ7dmFyIHI9RGYoaSxlKTtyZXR1cm4gcGYocixyLm5leHQpLHBmKGksaS5uZXh0KX1mdW5jdGlvbiBiZihlLHQpe3JldHVybiBBZihlLnByZXYsZSx0LnByZXYpPDAmJkFmKHQubmV4dCxlLGUubmV4dCk8MH1mdW5jdGlvbiB3ZihlLHQsaSxyLG4pe3JldHVybiAoZT0xNDMxNjU1NzY1JigoZT04NTg5OTM0NTkmKChlPTI1MjY0NTEzNSYoKGU9MTY3MTE5MzUmKChlPShlLWkpKm58MCl8ZTw8OCkpfGU8PDQpKXxlPDwyKSl8ZTw8MSkpfCh0PTE0MzE2NTU3NjUmKCh0PTg1ODk5MzQ1OSYoKHQ9MjUyNjQ1MTM1JigodD0xNjcxMTkzNSYoKHQ9KHQtcikqbnwwKXx0PDw4KSl8dDw8NCkpfHQ8PDIpKXx0PDwxKSk8PDF9ZnVuY3Rpb24gVGYoZSl7dmFyIHQ9ZSxpPWU7ZG97KHQueDxpLnh8fHQueD09PWkueCYmdC55PGkueSkmJihpPXQpLHQ9dC5uZXh0O313aGlsZSh0IT09ZSk7cmV0dXJuIGl9ZnVuY3Rpb24gRWYoZSx0LGkscixuLG8scyxhKXtyZXR1cm4gKG4tcykqKHQtYSk+PShlLXMpKihvLWEpJiYoZS1zKSooci1hKT49KGktcykqKHQtYSkmJihpLXMpKihvLWEpPj0obi1zKSooci1hKX1mdW5jdGlvbiBNZihlLHQpe3JldHVybiBlLm5leHQuaSE9PXQuaSYmZS5wcmV2LmkhPT10LmkmJiFmdW5jdGlvbihlLHQpe3ZhciBpPWU7ZG97aWYoaS5pIT09ZS5pJiZpLm5leHQuaSE9PWUuaSYmaS5pIT09dC5pJiZpLm5leHQuaSE9PXQuaSYmSWYoaSxpLm5leHQsZSx0KSlyZXR1cm4gITA7aT1pLm5leHQ7fXdoaWxlKGkhPT1lKTtyZXR1cm4gITF9KGUsdCkmJihQZihlLHQpJiZQZih0LGUpJiZmdW5jdGlvbihlLHQpe3ZhciBpPWUscj0hMSxuPShlLngrdC54KS8yLG89KGUueSt0LnkpLzI7ZG97aS55Pm8hPWkubmV4dC55Pm8mJmkubmV4dC55IT09aS55JiZuPChpLm5leHQueC1pLngpKihvLWkueSkvKGkubmV4dC55LWkueSkraS54JiYocj0hciksaT1pLm5leHQ7fXdoaWxlKGkhPT1lKTtyZXR1cm4gcn0oZSx0KSYmKEFmKGUucHJldixlLHQucHJldil8fEFmKGUsdC5wcmV2LHQpKXx8U2YoZSx0KSYmQWYoZS5wcmV2LGUsZS5uZXh0KT4wJiZBZih0LnByZXYsdCx0Lm5leHQpPjApfWZ1bmN0aW9uIEFmKGUsdCxpKXtyZXR1cm4gKHQueS1lLnkpKihpLngtdC54KS0odC54LWUueCkqKGkueS10LnkpfWZ1bmN0aW9uIFNmKGUsdCl7cmV0dXJuIGUueD09PXQueCYmZS55PT09dC55fWZ1bmN0aW9uIElmKGUsdCxpLHIpe3ZhciBuPXpmKEFmKGUsdCxpKSksbz16ZihBZihlLHQscikpLHM9emYoQWYoaSxyLGUpKSxhPXpmKEFmKGkscix0KSk7cmV0dXJuIG4hPT1vJiZzIT09YXx8ISgwIT09bnx8IUNmKGUsaSx0KSl8fCEoMCE9PW98fCFDZihlLHIsdCkpfHwhKDAhPT1zfHwhQ2YoaSxlLHIpKXx8ISgwIT09YXx8IUNmKGksdCxyKSl9ZnVuY3Rpb24gQ2YoZSx0LGkpe3JldHVybiB0Lng8PU1hdGgubWF4KGUueCxpLngpJiZ0Lng+PU1hdGgubWluKGUueCxpLngpJiZ0Lnk8PU1hdGgubWF4KGUueSxpLnkpJiZ0Lnk+PU1hdGgubWluKGUueSxpLnkpfWZ1bmN0aW9uIHpmKGUpe3JldHVybiBlPjA/MTplPDA/LTE6MH1mdW5jdGlvbiBQZihlLHQpe3JldHVybiBBZihlLnByZXYsZSxlLm5leHQpPDA/QWYoZSx0LGUubmV4dCk+PTAmJkFmKGUsZS5wcmV2LHQpPj0wOkFmKGUsdCxlLnByZXYpPDB8fEFmKGUsZS5uZXh0LHQpPDB9ZnVuY3Rpb24gRGYoZSx0KXt2YXIgaT1uZXcga2YoZS5pLGUueCxlLnkpLHI9bmV3IGtmKHQuaSx0LngsdC55KSxuPWUubmV4dCxvPXQucHJldjtyZXR1cm4gZS5uZXh0PXQsdC5wcmV2PWUsaS5uZXh0PW4sbi5wcmV2PWksci5uZXh0PWksaS5wcmV2PXIsby5uZXh0PXIsci5wcmV2PW8scn1mdW5jdGlvbiBSZihlLHQsaSxyKXt2YXIgbj1uZXcga2YoZSx0LGkpO3JldHVybiByPyhuLm5leHQ9ci5uZXh0LG4ucHJldj1yLHIubmV4dC5wcmV2PW4sci5uZXh0PW4pOihuLnByZXY9bixuLm5leHQ9biksbn1mdW5jdGlvbiBMZihlKXtlLm5leHQucHJldj1lLnByZXYsZS5wcmV2Lm5leHQ9ZS5uZXh0LGUucHJldlomJihlLnByZXZaLm5leHRaPWUubmV4dFopLGUubmV4dFomJihlLm5leHRaLnByZXZaPWUucHJldlopO31mdW5jdGlvbiBrZihlLHQsaSl7dGhpcy5pPWUsdGhpcy54PXQsdGhpcy55PWksdGhpcy5wcmV2PW51bGwsdGhpcy5uZXh0PW51bGwsdGhpcy56PTAsdGhpcy5wcmV2Wj1udWxsLHRoaXMubmV4dFo9bnVsbCx0aGlzLnN0ZWluZXI9ITE7fWZ1bmN0aW9uIE9mKGUsdCxpLHIpe2Zvcih2YXIgbj0wLG89dCxzPWktcjtvPGk7bys9ciluKz0oZVtzXS1lW29dKSooZVtvKzFdK2VbcysxXSkscz1vO3JldHVybiBufWhmLmV4cG9ydHM9dWYsaGYuZXhwb3J0cy5kZWZhdWx0PXVmLHVmLmRldmlhdGlvbj1mdW5jdGlvbihlLHQsaSxyKXt2YXIgbj10JiZ0Lmxlbmd0aCxvPU1hdGguYWJzKE9mKGUsMCxuP3RbMF0qaTplLmxlbmd0aCxpKSk7aWYobilmb3IodmFyIHM9MCxhPXQubGVuZ3RoO3M8YTtzKyspby09TWF0aC5hYnMoT2YoZSx0W3NdKmksczxhLTE/dFtzKzFdKmk6ZS5sZW5ndGgsaSkpO3ZhciBsPTA7Zm9yKHM9MDtzPHIubGVuZ3RoO3MrPTMpe3ZhciBjPXJbc10qaSxoPXJbcysxXSppLHU9cltzKzJdKmk7bCs9TWF0aC5hYnMoKGVbY10tZVt1XSkqKGVbaCsxXS1lW2MrMV0pLShlW2NdLWVbaF0pKihlW3UrMV0tZVtjKzFdKSk7fXJldHVybiAwPT09byYmMD09PWw/MDpNYXRoLmFicygobC1vKS9vKX0sdWYuZmxhdHRlbj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9ZVswXVswXS5sZW5ndGgsaT17dmVydGljZXM6W10saG9sZXM6W10sZGltZW5zaW9uczp0fSxyPTAsbj0wO248ZS5sZW5ndGg7bisrKXtmb3IodmFyIG89MDtvPGVbbl0ubGVuZ3RoO28rKylmb3IodmFyIHM9MDtzPHQ7cysrKWkudmVydGljZXMucHVzaChlW25dW29dW3NdKTtuPjAmJmkuaG9sZXMucHVzaChyKz1lW24tMV0ubGVuZ3RoKTt9cmV0dXJuIGl9O3ZhciBCZj1kKGhmLmV4cG9ydHMpO2Z1bmN0aW9uIEZmKGUsdCl7Y29uc3QgaT1lLmxlbmd0aDtpZihpPD0xKXJldHVybiBbZV07Y29uc3Qgcj1bXTtsZXQgbixvO2ZvcihsZXQgdD0wO3Q8aTt0Kyspe2NvbnN0IGk9WShlW3RdKTswIT09aSYmKGVbdF0uYXJlYT1NYXRoLmFicyhpKSx2b2lkIDA9PT1vJiYobz1pPDApLG89PT1pPDA/KG4mJnIucHVzaChuKSxuPVtlW3RdXSk6bi5wdXNoKGVbdF0pKTt9aWYobiYmci5wdXNoKG4pLHQ+MSlmb3IobGV0IGU9MDtlPHIubGVuZ3RoO2UrKylyW2VdLmxlbmd0aDw9dHx8KEZpKHJbZV0sdCwxLHJbZV0ubGVuZ3RoLTEsTmYpLHJbZV09cltlXS5zbGljZSgwLHQpKTtyZXR1cm4gcn1mdW5jdGlvbiBOZihlLHQpe3JldHVybiB0LmFyZWEtZS5hcmVhfWZ1bmN0aW9uIFVmKGUsdCxpKXtjb25zdCByPWkucGF0dGVybkRlcGVuZGVuY2llcztsZXQgbj0hMTtmb3IoY29uc3QgaSBvZiB0KXtjb25zdCB0PWkucGFpbnQuZ2V0KGAke2V9LXBhdHRlcm5gKTt0LmlzQ29uc3RhbnQoKXx8KG49ITApO2NvbnN0IG89dC5jb25zdGFudE9yKG51bGwpO28mJihuPSEwLHJbb109ITApO31yZXR1cm4gbn1mdW5jdGlvbiBWZihlLHQsaSxyLG4pe2NvbnN0IG89bi5wYXR0ZXJuRGVwZW5kZW5jaWVzO2Zvcihjb25zdCBzIG9mIHQpe2NvbnN0IHQ9cy5wYWludC5nZXQoYCR7ZX0tcGF0dGVybmApLnZhbHVlO2lmKFwiY29uc3RhbnRcIiE9PXQua2luZCl7bGV0IGU9dC5ldmFsdWF0ZSh7em9vbTpyfSxpLHt9LG4uYXZhaWxhYmxlSW1hZ2VzKTtlPWUmJmUubmFtZT9lLm5hbWU6ZSxvW2VdPSEwLGkucGF0dGVybnNbcy5pZF09ZTt9fXJldHVybiBpfWNsYXNzIGpme2NvbnN0cnVjdG9yKGUpe3RoaXMuem9vbT1lLnpvb20sdGhpcy5vdmVyc2NhbGluZz1lLm92ZXJzY2FsaW5nLHRoaXMubGF5ZXJzPWUubGF5ZXJzLHRoaXMubGF5ZXJJZHM9dGhpcy5sYXllcnMubWFwKChlPT5lLmZxaWQpKSx0aGlzLmluZGV4PWUuaW5kZXgsdGhpcy5oYXNQYXR0ZXJuPSExLHRoaXMucGF0dGVybkZlYXR1cmVzPVtdLHRoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IHphLHRoaXMuaW5kZXhBcnJheT1uZXcgV2EsdGhpcy5pbmRleEFycmF5Mj1uZXcgamEsdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnM9bmV3IGVjKGUubGF5ZXJzLGUuem9vbSksdGhpcy5zZWdtZW50cz1uZXcgeGwsdGhpcy5zZWdtZW50czI9bmV3IHhsLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcklkcz10aGlzLmxheWVycy5maWx0ZXIoKGU9PmUuaXNTdGF0ZURlcGVuZGVudCgpKSkubWFwKChlPT5lLmlkKSksdGhpcy5wcm9qZWN0aW9uPWUucHJvamVjdGlvbjt9cG9wdWxhdGUoZSx0LGkscil7dGhpcy5oYXNQYXR0ZXJuPVVmKFwiZmlsbFwiLHRoaXMubGF5ZXJzLHQpO2NvbnN0IG49dGhpcy5sYXllcnNbMF0ubGF5b3V0LmdldChcImZpbGwtc29ydC1rZXlcIiksbz1bXTtmb3IoY29uc3R7ZmVhdHVyZTpzLGlkOmEsaW5kZXg6bCxzb3VyY2VMYXllckluZGV4OmN9b2YgZSl7Y29uc3QgZT10aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5uZWVkR2VvbWV0cnksaD1ncChzLGUpO2lmKCF0aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5maWx0ZXIobmV3IG9hKHRoaXMuem9vbSksaCxpKSljb250aW51ZTtjb25zdCB1PW4/bi5ldmFsdWF0ZShoLHt9LGksdC5hdmFpbGFibGVJbWFnZXMpOnZvaWQgMCxkPXtpZDphLHByb3BlcnRpZXM6cy5wcm9wZXJ0aWVzLHR5cGU6cy50eXBlLHNvdXJjZUxheWVySW5kZXg6YyxpbmRleDpsLGdlb21ldHJ5OmU/aC5nZW9tZXRyeTpfcChzLGkscikscGF0dGVybnM6e30sc29ydEtleTp1fTtvLnB1c2goZCk7fW4mJm8uc29ydCgoKGUsdCk9PmUuc29ydEtleS10LnNvcnRLZXkpKTtmb3IoY29uc3QgciBvZiBvKXtjb25zdHtnZW9tZXRyeTpuLGluZGV4Om8sc291cmNlTGF5ZXJJbmRleDpzfT1yO2lmKHRoaXMuaGFzUGF0dGVybil7Y29uc3QgZT1WZihcImZpbGxcIix0aGlzLmxheWVycyxyLHRoaXMuem9vbSx0KTt0aGlzLnBhdHRlcm5GZWF0dXJlcy5wdXNoKGUpO31lbHNlIHRoaXMuYWRkRmVhdHVyZShyLG4sbyxpLHt9LHQuYXZhaWxhYmxlSW1hZ2VzLHQuYnJpZ2h0bmVzcyk7dC5mZWF0dXJlSW5kZXguaW5zZXJ0KGVbb10uZmVhdHVyZSxuLG8scyx0aGlzLmluZGV4KTt9fXVwZGF0ZShlLHQsaSxyLG4pe2NvbnN0IG89MCE9PU9iamVjdC5rZXlzKGUpLmxlbmd0aDtvJiYhdGhpcy5zdGF0ZURlcGVuZGVudExheWVycy5sZW5ndGh8fHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwZGF0ZVBhaW50QXJyYXlzKGUsdCxvP3RoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnM6dGhpcy5sYXllcnMsaSxyLG4pO31hZGRGZWF0dXJlcyhlLHQsaSxyLG4sbyl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5wYXR0ZXJuRmVhdHVyZXMpdGhpcy5hZGRGZWF0dXJlKGUsZS5nZW9tZXRyeSxlLmluZGV4LHQsaSxyLG8pO31pc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aH11cGxvYWRQZW5kaW5nKCl7cmV0dXJuICF0aGlzLnVwbG9hZGVkfHx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZH11cGxvYWQoZSl7dGhpcy51cGxvYWRlZHx8KHRoaXMubGF5b3V0VmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMubGF5b3V0VmVydGV4QXJyYXksY2YpLHRoaXMuaW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLmluZGV4QXJyYXkpLHRoaXMuaW5kZXhCdWZmZXIyPWUuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRleEFycmF5MikpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwbG9hZChlKSx0aGlzLnVwbG9hZGVkPSEwO31kZXN0cm95KCl7dGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXImJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlcjIuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzMi5kZXN0cm95KCkpO31hZGRGZWF0dXJlKGUsdCxpLHIsbixvPVtdLHMpe2Zvcihjb25zdCBlIG9mIEZmKHQsNTAwKSl7bGV0IHQ9MDtmb3IoY29uc3QgaSBvZiBlKXQrPWkubGVuZ3RoO2NvbnN0IGk9dGhpcy5zZWdtZW50cy5wcmVwYXJlU2VnbWVudCh0LHRoaXMubGF5b3V0VmVydGV4QXJyYXksdGhpcy5pbmRleEFycmF5KSxyPWkudmVydGV4TGVuZ3RoLG49W10sbz1bXTtmb3IoY29uc3QgdCBvZiBlKXtpZigwPT09dC5sZW5ndGgpY29udGludWU7dCE9PWVbMF0mJm8ucHVzaChuLmxlbmd0aC8yKTtjb25zdCBpPXRoaXMuc2VnbWVudHMyLnByZXBhcmVTZWdtZW50KHQubGVuZ3RoLHRoaXMubGF5b3V0VmVydGV4QXJyYXksdGhpcy5pbmRleEFycmF5Mikscj1pLnZlcnRleExlbmd0aDt0aGlzLmxheW91dFZlcnRleEFycmF5LmVtcGxhY2VCYWNrKHRbMF0ueCx0WzBdLnkpLHRoaXMuaW5kZXhBcnJheTIuZW1wbGFjZUJhY2socit0Lmxlbmd0aC0xLHIpLG4ucHVzaCh0WzBdLngpLG4ucHVzaCh0WzBdLnkpO2ZvcihsZXQgZT0xO2U8dC5sZW5ndGg7ZSsrKXRoaXMubGF5b3V0VmVydGV4QXJyYXkuZW1wbGFjZUJhY2sodFtlXS54LHRbZV0ueSksdGhpcy5pbmRleEFycmF5Mi5lbXBsYWNlQmFjayhyK2UtMSxyK2UpLG4ucHVzaCh0W2VdLngpLG4ucHVzaCh0W2VdLnkpO2kudmVydGV4TGVuZ3RoKz10Lmxlbmd0aCxpLnByaW1pdGl2ZUxlbmd0aCs9dC5sZW5ndGg7fWNvbnN0IHM9QmYobixvKTtmb3IobGV0IGU9MDtlPHMubGVuZ3RoO2UrPTMpdGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKHIrc1tlXSxyK3NbZSsxXSxyK3NbZSsyXSk7aS52ZXJ0ZXhMZW5ndGgrPXQsaS5wcmltaXRpdmVMZW5ndGgrPXMubGVuZ3RoLzM7fXRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnBvcHVsYXRlUGFpbnRBcnJheXModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgsZSxpLG4sbyxyLHMpO319UnMoamYsXCJGaWxsQnVja2V0XCIse29taXQ6W1wibGF5ZXJzXCIsXCJwYXR0ZXJuRmVhdHVyZXNcIl19KTtjb25zdCBHZj1uZXcgZ2Eoe1wiZmlsbC1zb3J0LWtleVwiOm5ldyBtYShQdC5sYXlvdXRfZmlsbFtcImZpbGwtc29ydC1rZXlcIl0pLHZpc2liaWxpdHk6bmV3IGZhKFB0LmxheW91dF9maWxsLnZpc2liaWxpdHkpfSk7dmFyIHFmPXtwYWludDpuZXcgZ2Eoe1wiZmlsbC1hbnRpYWxpYXNcIjpuZXcgZmEoUHQucGFpbnRfZmlsbFtcImZpbGwtYW50aWFsaWFzXCJdKSxcImZpbGwtb3BhY2l0eVwiOm5ldyBtYShQdC5wYWludF9maWxsW1wiZmlsbC1vcGFjaXR5XCJdKSxcImZpbGwtY29sb3JcIjpuZXcgbWEoUHQucGFpbnRfZmlsbFtcImZpbGwtY29sb3JcIl0pLFwiZmlsbC1vdXRsaW5lLWNvbG9yXCI6bmV3IG1hKFB0LnBhaW50X2ZpbGxbXCJmaWxsLW91dGxpbmUtY29sb3JcIl0pLFwiZmlsbC10cmFuc2xhdGVcIjpuZXcgZmEoUHQucGFpbnRfZmlsbFtcImZpbGwtdHJhbnNsYXRlXCJdKSxcImZpbGwtdHJhbnNsYXRlLWFuY2hvclwiOm5ldyBmYShQdC5wYWludF9maWxsW1wiZmlsbC10cmFuc2xhdGUtYW5jaG9yXCJdKSxcImZpbGwtcGF0dGVyblwiOm5ldyBtYShQdC5wYWludF9maWxsW1wiZmlsbC1wYXR0ZXJuXCJdKSxcImZpbGwtZW1pc3NpdmUtc3RyZW5ndGhcIjpuZXcgZmEoUHQucGFpbnRfZmlsbFtcImZpbGwtZW1pc3NpdmUtc3RyZW5ndGhcIl0pfSksbGF5b3V0OkdmfTtjb25zdCBaZj1JYShbe25hbWU6XCJhX3Bvc19ub3JtYWxfZWRcIixjb21wb25lbnRzOjQsdHlwZTpcIkludDE2XCJ9XSksJGY9SWEoW3tuYW1lOlwiYV9wb3NfZW5kXCIsY29tcG9uZW50czo0LHR5cGU6XCJJbnQxNlwifSx7bmFtZTpcImFfYW5ndWxhcl9vZmZzZXRfZmFjdG9yXCIsY29tcG9uZW50czoxLHR5cGU6XCJJbnQxNlwifV0pLFdmPUlhKFt7bmFtZTpcImFfY2VudHJvaWRfcG9zXCIsY29tcG9uZW50czoyLHR5cGU6XCJVaW50MTZcIn1dKSxIZj1JYShbe25hbWU6XCJhX2hpZGRlbl9ieV9sYW5kbWFya1wiLGNvbXBvbmVudHM6MSx0eXBlOlwiVWludDhcIn1dKSxYZj1JYShbe25hbWU6XCJhX3Bvc18zXCIsY29tcG9uZW50czozLHR5cGU6XCJJbnQxNlwifSx7bmFtZTpcImFfcG9zX25vcm1hbF8zXCIsY29tcG9uZW50czozLHR5cGU6XCJJbnQxNlwifV0pLHttZW1iZXJzOllmfT1aZjt2YXIgS2Y9e30sSmY9XyxRZj1lbTtmdW5jdGlvbiBlbShlLHQsaSxyLG4pe3RoaXMucHJvcGVydGllcz17fSx0aGlzLmV4dGVudD1pLHRoaXMudHlwZT0wLHRoaXMuX3BiZj1lLHRoaXMuX2dlb21ldHJ5PS0xLHRoaXMuX2tleXM9cix0aGlzLl92YWx1ZXM9bixlLnJlYWRGaWVsZHModG0sdGhpcyx0KTt9ZnVuY3Rpb24gdG0oZSx0LGkpezE9PWU/dC5pZD1pLnJlYWRWYXJpbnQoKToyPT1lP2Z1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPWUucmVhZFZhcmludCgpK2UucG9zO2UucG9zPGk7KXt2YXIgcj10Ll9rZXlzW2UucmVhZFZhcmludCgpXSxuPXQuX3ZhbHVlc1tlLnJlYWRWYXJpbnQoKV07dC5wcm9wZXJ0aWVzW3JdPW47fX0oaSx0KTozPT1lP3QudHlwZT1pLnJlYWRWYXJpbnQoKTo0PT1lJiYodC5fZ2VvbWV0cnk9aS5wb3MpO31mdW5jdGlvbiBpbShlKXtmb3IodmFyIHQsaSxyPTAsbj0wLG89ZS5sZW5ndGgscz1vLTE7bjxvO3M9bisrKXIrPSgoaT1lW3NdKS54LSh0PWVbbl0pLngpKih0LnkraS55KTtyZXR1cm4gcn1lbS50eXBlcz1bXCJVbmtub3duXCIsXCJQb2ludFwiLFwiTGluZVN0cmluZ1wiLFwiUG9seWdvblwiXSxlbS5wcm90b3R5cGUubG9hZEdlb21ldHJ5PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fcGJmO2UucG9zPXRoaXMuX2dlb21ldHJ5O2Zvcih2YXIgdCxpPWUucmVhZFZhcmludCgpK2UucG9zLHI9MSxuPTAsbz0wLHM9MCxhPVtdO2UucG9zPGk7KXtpZihuPD0wKXt2YXIgbD1lLnJlYWRWYXJpbnQoKTtyPTcmbCxuPWw+PjM7fWlmKG4tLSwxPT09cnx8Mj09PXIpbys9ZS5yZWFkU1ZhcmludCgpLHMrPWUucmVhZFNWYXJpbnQoKSwxPT09ciYmKHQmJmEucHVzaCh0KSx0PVtdKSx0LnB1c2gobmV3IEpmKG8scykpO2Vsc2Uge2lmKDchPT1yKXRocm93IG5ldyBFcnJvcihcInVua25vd24gY29tbWFuZCBcIityKTt0JiZ0LnB1c2godFswXS5jbG9uZSgpKTt9fXJldHVybiB0JiZhLnB1c2godCksYX0sZW0ucHJvdG90eXBlLmJib3g9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9wYmY7ZS5wb3M9dGhpcy5fZ2VvbWV0cnk7Zm9yKHZhciB0PWUucmVhZFZhcmludCgpK2UucG9zLGk9MSxyPTAsbj0wLG89MCxzPTEvMCxhPS0xLzAsbD0xLzAsYz0tMS8wO2UucG9zPHQ7KXtpZihyPD0wKXt2YXIgaD1lLnJlYWRWYXJpbnQoKTtpPTcmaCxyPWg+PjM7fWlmKHItLSwxPT09aXx8Mj09PWkpKG4rPWUucmVhZFNWYXJpbnQoKSk8cyYmKHM9biksbj5hJiYoYT1uKSwobys9ZS5yZWFkU1ZhcmludCgpKTxsJiYobD1vKSxvPmMmJihjPW8pO2Vsc2UgaWYoNyE9PWkpdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBjb21tYW5kIFwiK2kpfXJldHVybiBbcyxsLGEsY119LGVtLnByb3RvdHlwZS50b0dlb0pTT049ZnVuY3Rpb24oZSx0LGkpe3ZhciByLG4sbz10aGlzLmV4dGVudCpNYXRoLnBvdygyLGkpLHM9dGhpcy5leHRlbnQqZSxhPXRoaXMuZXh0ZW50KnQsbD10aGlzLmxvYWRHZW9tZXRyeSgpLGM9ZW0udHlwZXNbdGhpcy50eXBlXTtmdW5jdGlvbiBoKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgaT1lW3RdO2VbdF09WzM2MCooaS54K3MpL28tMTgwLDM2MC9NYXRoLlBJKk1hdGguYXRhbihNYXRoLmV4cCgoMTgwLTM2MCooaS55K2EpL28pKk1hdGguUEkvMTgwKSktOTBdO319c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSAxOnZhciB1PVtdO2ZvcihyPTA7cjxsLmxlbmd0aDtyKyspdVtyXT1sW3JdWzBdO2gobD11KTticmVhaztjYXNlIDI6Zm9yKHI9MDtyPGwubGVuZ3RoO3IrKyloKGxbcl0pO2JyZWFrO2Nhc2UgMzpmb3IobD1mdW5jdGlvbihlKXt2YXIgdD1lLmxlbmd0aDtpZih0PD0xKXJldHVybiBbZV07Zm9yKHZhciBpLHIsbj1bXSxvPTA7bzx0O28rKyl7dmFyIHM9aW0oZVtvXSk7MCE9PXMmJih2b2lkIDA9PT1yJiYocj1zPDApLHI9PT1zPDA/KGkmJm4ucHVzaChpKSxpPVtlW29dXSk6aS5wdXNoKGVbb10pKTt9cmV0dXJuIGkmJm4ucHVzaChpKSxufShsKSxyPTA7cjxsLmxlbmd0aDtyKyspZm9yKG49MDtuPGxbcl0ubGVuZ3RoO24rKyloKGxbcl1bbl0pO30xPT09bC5sZW5ndGg/bD1sWzBdOmM9XCJNdWx0aVwiK2M7dmFyIGQ9e3R5cGU6XCJGZWF0dXJlXCIsZ2VvbWV0cnk6e3R5cGU6Yyxjb29yZGluYXRlczpsfSxwcm9wZXJ0aWVzOnRoaXMucHJvcGVydGllc307cmV0dXJuIFwiaWRcImluIHRoaXMmJihkLmlkPXRoaXMuaWQpLGR9O3ZhciBybT1RZixubT1vbTtmdW5jdGlvbiBvbShlLHQpe3RoaXMudmVyc2lvbj0xLHRoaXMubmFtZT1udWxsLHRoaXMuZXh0ZW50PTQwOTYsdGhpcy5sZW5ndGg9MCx0aGlzLl9wYmY9ZSx0aGlzLl9rZXlzPVtdLHRoaXMuX3ZhbHVlcz1bXSx0aGlzLl9mZWF0dXJlcz1bXSxlLnJlYWRGaWVsZHMoc20sdGhpcyx0KSx0aGlzLmxlbmd0aD10aGlzLl9mZWF0dXJlcy5sZW5ndGg7fWZ1bmN0aW9uIHNtKGUsdCxpKXsxNT09PWU/dC52ZXJzaW9uPWkucmVhZFZhcmludCgpOjE9PT1lP3QubmFtZT1pLnJlYWRTdHJpbmcoKTo1PT09ZT90LmV4dGVudD1pLnJlYWRWYXJpbnQoKToyPT09ZT90Ll9mZWF0dXJlcy5wdXNoKGkucG9zKTozPT09ZT90Ll9rZXlzLnB1c2goaS5yZWFkU3RyaW5nKCkpOjQ9PT1lJiZ0Ll92YWx1ZXMucHVzaChmdW5jdGlvbihlKXtmb3IodmFyIHQ9bnVsbCxpPWUucmVhZFZhcmludCgpK2UucG9zO2UucG9zPGk7KXt2YXIgcj1lLnJlYWRWYXJpbnQoKT4+Mzt0PTE9PT1yP2UucmVhZFN0cmluZygpOjI9PT1yP2UucmVhZEZsb2F0KCk6Mz09PXI/ZS5yZWFkRG91YmxlKCk6ND09PXI/ZS5yZWFkVmFyaW50NjQoKTo1PT09cj9lLnJlYWRWYXJpbnQoKTo2PT09cj9lLnJlYWRTVmFyaW50KCk6Nz09PXI/ZS5yZWFkQm9vbGVhbigpOm51bGw7fXJldHVybiB0fShpKSk7fW9tLnByb3RvdHlwZS5mZWF0dXJlPWZ1bmN0aW9uKGUpe2lmKGU8MHx8ZT49dGhpcy5fZmVhdHVyZXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcImZlYXR1cmUgaW5kZXggb3V0IG9mIGJvdW5kc1wiKTt0aGlzLl9wYmYucG9zPXRoaXMuX2ZlYXR1cmVzW2VdO3ZhciB0PXRoaXMuX3BiZi5yZWFkVmFyaW50KCkrdGhpcy5fcGJmLnBvcztyZXR1cm4gbmV3IHJtKHRoaXMuX3BiZix0LHRoaXMuZXh0ZW50LHRoaXMuX2tleXMsdGhpcy5fdmFsdWVzKX07dmFyIGFtPW5tO2Z1bmN0aW9uIGxtKGUsdCxpKXtpZigzPT09ZSl7dmFyIHI9bmV3IGFtKGksaS5yZWFkVmFyaW50KCkraS5wb3MpO3IubGVuZ3RoJiYodFtyLm5hbWVdPXIpO319dmFyIGNtPUtmLlZlY3RvclRpbGU9ZnVuY3Rpb24oZSx0KXt0aGlzLmxheWVycz1lLnJlYWRGaWVsZHMobG0se30sdCk7fSxobT1LZi5WZWN0b3JUaWxlRmVhdHVyZT1RZjtmdW5jdGlvbiB1bShlLHQsaSxyKXtjb25zdCBuPVtdLG89MD09PXI/KGUsdCxpLHIsbixvKT0+e2UucHVzaChuZXcgeShvLGkrKG8tdCkvKHItdCkqKG4taSkpKTt9OihlLHQsaSxyLG4sbyk9PntlLnB1c2gobmV3IHkodCsoby1pKS8obi1pKSooci10KSxvKSk7fTtmb3IoY29uc3QgcyBvZiBlKXtjb25zdCBlPVtdO2Zvcihjb25zdCBuIG9mIHMpe2lmKG4ubGVuZ3RoPD0yKWNvbnRpbnVlO2NvbnN0IHM9W107Zm9yKGxldCBlPTA7ZTxuLmxlbmd0aC0xO2UrKyl7Y29uc3QgYT1uW2VdLngsbD1uW2VdLnksYz1uW2UrMV0ueCxoPW5bZSsxXS55LHU9MD09PXI/YTpsLGQ9MD09PXI/YzpoO3U8dD9kPnQmJm8ocyxhLGwsYyxoLHQpOnU+aT9kPGkmJm8ocyxhLGwsYyxoLGkpOnMucHVzaChuW2VdKSxkPHQmJnU+PXQmJm8ocyxhLGwsYyxoLHQpLGQ+aSYmdTw9aSYmbyhzLGEsbCxjLGgsaSk7fWxldCBhPW5bbi5sZW5ndGgtMV07Y29uc3QgbD0wPT09cj9hLng6YS55O2w+PXQmJmw8PWkmJnMucHVzaChhKSxzLmxlbmd0aCYmKGE9c1tzLmxlbmd0aC0xXSxzWzBdLng9PT1hLngmJnNbMF0ueT09PWEueXx8cy5wdXNoKHNbMF0pLGUucHVzaChzKSk7fWUubGVuZ3RoJiZuLnB1c2goZSk7fXJldHVybiBufUtmLlZlY3RvclRpbGVMYXllcj1ubTtjbGFzcyBkbXtjb25zdHJ1Y3RvcihlKXt0aGlzLl9zdHJpbmdUb051bWJlcj17fSx0aGlzLl9udW1iZXJUb1N0cmluZz1bXTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3QgaT1lW3RdO3RoaXMuX3N0cmluZ1RvTnVtYmVyW2ldPXQsdGhpcy5fbnVtYmVyVG9TdHJpbmdbdF09aTt9fWVuY29kZShlKXtyZXR1cm4gdGhpcy5fc3RyaW5nVG9OdW1iZXJbZV19ZGVjb2RlKGUpe3JldHVybiB0aGlzLl9udW1iZXJUb1N0cmluZ1tlXX19dmFyIHBtPXtcbi8qISBpZWVlNzU0LiBCU0QtMy1DbGF1c2UgTGljZW5zZS4gRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnL29wZW5zb3VyY2U+ICovXG5yZWFkOmZ1bmN0aW9uKGUsdCxpLHIsbil7dmFyIG8scyxhPTgqbi1yLTEsbD0oMTw8YSktMSxjPWw+PjEsaD0tNyx1PWk/bi0xOjAsZD1pPy0xOjEscD1lW3QrdV07Zm9yKHUrPWQsbz1wJigxPDwtaCktMSxwPj49LWgsaCs9YTtoPjA7bz0yNTYqbytlW3QrdV0sdSs9ZCxoLT04KTtmb3Iocz1vJigxPDwtaCktMSxvPj49LWgsaCs9cjtoPjA7cz0yNTYqcytlW3QrdV0sdSs9ZCxoLT04KTtpZigwPT09bylvPTEtYztlbHNlIHtpZihvPT09bClyZXR1cm4gcz9OYU46MS8wKihwPy0xOjEpO3MrPU1hdGgucG93KDIsciksby09Yzt9cmV0dXJuIChwPy0xOjEpKnMqTWF0aC5wb3coMixvLXIpfSx3cml0ZTpmdW5jdGlvbihlLHQsaSxyLG4sbyl7dmFyIHMsYSxsLGM9OCpvLW4tMSxoPSgxPDxjKS0xLHU9aD4+MSxkPTIzPT09bj9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAscD1yPzA6by0xLGY9cj8xOi0xLG09dDwwfHwwPT09dCYmMS90PDA/MTowO2Zvcih0PU1hdGguYWJzKHQpLGlzTmFOKHQpfHx0PT09MS8wPyhhPWlzTmFOKHQpPzE6MCxzPWgpOihzPU1hdGguZmxvb3IoTWF0aC5sb2codCkvTWF0aC5MTjIpLHQqKGw9TWF0aC5wb3coMiwtcykpPDEmJihzLS0sbCo9MiksKHQrPXMrdT49MT9kL2w6ZCpNYXRoLnBvdygyLDEtdSkpKmw+PTImJihzKyssbC89Mikscyt1Pj1oPyhhPTAscz1oKTpzK3U+PTE/KGE9KHQqbC0xKSpNYXRoLnBvdygyLG4pLHMrPXUpOihhPXQqTWF0aC5wb3coMix1LTEpKk1hdGgucG93KDIsbikscz0wKSk7bj49ODtlW2krcF09MjU1JmEscCs9ZixhLz0yNTYsbi09OCk7Zm9yKHM9czw8bnxhLGMrPW47Yz4wO2VbaStwXT0yNTUmcyxwKz1mLHMvPTI1NixjLT04KTtlW2krcC1mXXw9MTI4Km07fX0sZm09X20sbW09cG07ZnVuY3Rpb24gX20oZSl7dGhpcy5idWY9QXJyYXlCdWZmZXIuaXNWaWV3JiZBcnJheUJ1ZmZlci5pc1ZpZXcoZSk/ZTpuZXcgVWludDhBcnJheShlfHwwKSx0aGlzLnBvcz0wLHRoaXMudHlwZT0wLHRoaXMubGVuZ3RoPXRoaXMuYnVmLmxlbmd0aDt9X20uVmFyaW50PTAsX20uRml4ZWQ2ND0xLF9tLkJ5dGVzPTIsX20uRml4ZWQzMj01O3ZhciBnbT00Mjk0OTY3Mjk2LHltPTEvZ20seG09XCJ1bmRlZmluZWRcIj09dHlwZW9mIFRleHREZWNvZGVyP251bGw6bmV3IFRleHREZWNvZGVyKFwidXRmOFwiKTtmdW5jdGlvbiB2bShlKXtyZXR1cm4gZS50eXBlPT09X20uQnl0ZXM/ZS5yZWFkVmFyaW50KCkrZS5wb3M6ZS5wb3MrMX1mdW5jdGlvbiBibShlLHQsaSl7cmV0dXJuIGk/NDI5NDk2NzI5Nip0KyhlPj4+MCk6NDI5NDk2NzI5NioodD4+PjApKyhlPj4+MCl9ZnVuY3Rpb24gd20oZSx0LGkpe3ZhciByPXQ8PTE2MzgzPzE6dDw9MjA5NzE1MT8yOnQ8PTI2ODQzNTQ1NT8zOk1hdGguZmxvb3IoTWF0aC5sb2codCkvKDcqTWF0aC5MTjIpKTtpLnJlYWxsb2Mocik7Zm9yKHZhciBuPWkucG9zLTE7bj49ZTtuLS0paS5idWZbbityXT1pLmJ1ZltuXTt9ZnVuY3Rpb24gVG0oZSx0KXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl0LndyaXRlVmFyaW50KGVbaV0pO31mdW5jdGlvbiBFbShlLHQpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXQud3JpdGVTVmFyaW50KGVbaV0pO31mdW5jdGlvbiBNbShlLHQpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXQud3JpdGVGbG9hdChlW2ldKTt9ZnVuY3Rpb24gQW0oZSx0KXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl0LndyaXRlRG91YmxlKGVbaV0pO31mdW5jdGlvbiBTbShlLHQpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXQud3JpdGVCb29sZWFuKGVbaV0pO31mdW5jdGlvbiBJbShlLHQpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXQud3JpdGVGaXhlZDMyKGVbaV0pO31mdW5jdGlvbiBDbShlLHQpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXQud3JpdGVTRml4ZWQzMihlW2ldKTt9ZnVuY3Rpb24gem0oZSx0KXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl0LndyaXRlRml4ZWQ2NChlW2ldKTt9ZnVuY3Rpb24gUG0oZSx0KXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl0LndyaXRlU0ZpeGVkNjQoZVtpXSk7fWZ1bmN0aW9uIERtKGUsdCl7cmV0dXJuIChlW3RdfGVbdCsxXTw8OHxlW3QrMl08PDE2KSsxNjc3NzIxNiplW3QrM119ZnVuY3Rpb24gUm0oZSx0LGkpe2VbaV09dCxlW2krMV09dD4+PjgsZVtpKzJdPXQ+Pj4xNixlW2krM109dD4+PjI0O31mdW5jdGlvbiBMbShlLHQpe3JldHVybiAoZVt0XXxlW3QrMV08PDh8ZVt0KzJdPDwxNikrKGVbdCszXTw8MjQpfV9tLnByb3RvdHlwZT17ZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuYnVmPW51bGw7fSxyZWFkRmllbGRzOmZ1bmN0aW9uKGUsdCxpKXtmb3IoaT1pfHx0aGlzLmxlbmd0aDt0aGlzLnBvczxpOyl7dmFyIHI9dGhpcy5yZWFkVmFyaW50KCksbj1yPj4zLG89dGhpcy5wb3M7dGhpcy50eXBlPTcmcixlKG4sdCx0aGlzKSx0aGlzLnBvcz09PW8mJnRoaXMuc2tpcChyKTt9cmV0dXJuIHR9LHJlYWRNZXNzYWdlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMucmVhZEZpZWxkcyhlLHQsdGhpcy5yZWFkVmFyaW50KCkrdGhpcy5wb3MpfSxyZWFkRml4ZWQzMjpmdW5jdGlvbigpe3ZhciBlPURtKHRoaXMuYnVmLHRoaXMucG9zKTtyZXR1cm4gdGhpcy5wb3MrPTQsZX0scmVhZFNGaXhlZDMyOmZ1bmN0aW9uKCl7dmFyIGU9TG0odGhpcy5idWYsdGhpcy5wb3MpO3JldHVybiB0aGlzLnBvcys9NCxlfSxyZWFkRml4ZWQ2NDpmdW5jdGlvbigpe3ZhciBlPURtKHRoaXMuYnVmLHRoaXMucG9zKStEbSh0aGlzLmJ1Zix0aGlzLnBvcys0KSpnbTtyZXR1cm4gdGhpcy5wb3MrPTgsZX0scmVhZFNGaXhlZDY0OmZ1bmN0aW9uKCl7dmFyIGU9RG0odGhpcy5idWYsdGhpcy5wb3MpK0xtKHRoaXMuYnVmLHRoaXMucG9zKzQpKmdtO3JldHVybiB0aGlzLnBvcys9OCxlfSxyZWFkRmxvYXQ6ZnVuY3Rpb24oKXt2YXIgZT1tbS5yZWFkKHRoaXMuYnVmLHRoaXMucG9zLCEwLDIzLDQpO3JldHVybiB0aGlzLnBvcys9NCxlfSxyZWFkRG91YmxlOmZ1bmN0aW9uKCl7dmFyIGU9bW0ucmVhZCh0aGlzLmJ1Zix0aGlzLnBvcywhMCw1Miw4KTtyZXR1cm4gdGhpcy5wb3MrPTgsZX0scmVhZFZhcmludDpmdW5jdGlvbihlKXt2YXIgdCxpLHI9dGhpcy5idWY7cmV0dXJuIHQ9MTI3JihpPXJbdGhpcy5wb3MrK10pLGk8MTI4P3Q6KHR8PSgxMjcmKGk9clt0aGlzLnBvcysrXSkpPDw3LGk8MTI4P3Q6KHR8PSgxMjcmKGk9clt0aGlzLnBvcysrXSkpPDwxNCxpPDEyOD90Oih0fD0oMTI3JihpPXJbdGhpcy5wb3MrK10pKTw8MjEsaTwxMjg/dDpmdW5jdGlvbihlLHQsaSl7dmFyIHIsbixvPWkuYnVmO2lmKHI9KDExMiYobj1vW2kucG9zKytdKSk+PjQsbjwxMjgpcmV0dXJuIGJtKGUscix0KTtpZihyfD0oMTI3JihuPW9baS5wb3MrK10pKTw8MyxuPDEyOClyZXR1cm4gYm0oZSxyLHQpO2lmKHJ8PSgxMjcmKG49b1tpLnBvcysrXSkpPDwxMCxuPDEyOClyZXR1cm4gYm0oZSxyLHQpO2lmKHJ8PSgxMjcmKG49b1tpLnBvcysrXSkpPDwxNyxuPDEyOClyZXR1cm4gYm0oZSxyLHQpO2lmKHJ8PSgxMjcmKG49b1tpLnBvcysrXSkpPDwyNCxuPDEyOClyZXR1cm4gYm0oZSxyLHQpO2lmKHJ8PSgxJihuPW9baS5wb3MrK10pKTw8MzEsbjwxMjgpcmV0dXJuIGJtKGUscix0KTt0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCB2YXJpbnQgbm90IG1vcmUgdGhhbiAxMCBieXRlc1wiKX0odHw9KDE1JihpPXJbdGhpcy5wb3NdKSk8PDI4LGUsdGhpcykpKSl9LHJlYWRWYXJpbnQ2NDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlYWRWYXJpbnQoITApfSxyZWFkU1ZhcmludDpmdW5jdGlvbigpe3ZhciBlPXRoaXMucmVhZFZhcmludCgpO3JldHVybiBlJTI9PTE/KGUrMSkvLTI6ZS8yfSxyZWFkQm9vbGVhbjpmdW5jdGlvbigpe3JldHVybiBCb29sZWFuKHRoaXMucmVhZFZhcmludCgpKX0scmVhZFN0cmluZzpmdW5jdGlvbigpe3ZhciBlPXRoaXMucmVhZFZhcmludCgpK3RoaXMucG9zLHQ9dGhpcy5wb3M7cmV0dXJuIHRoaXMucG9zPWUsZS10Pj0xMiYmeG0/ZnVuY3Rpb24oZSx0LGkpe3JldHVybiB4bS5kZWNvZGUoZS5zdWJhcnJheSh0LGkpKX0odGhpcy5idWYsdCxlKTpmdW5jdGlvbihlLHQsaSl7Zm9yKHZhciByPVwiXCIsbj10O248aTspe3ZhciBvLHMsYSxsPWVbbl0sYz1udWxsLGg9bD4yMzk/NDpsPjIyMz8zOmw+MTkxPzI6MTtpZihuK2g+aSlicmVhazsxPT09aD9sPDEyOCYmKGM9bCk6Mj09PWg/MTI4PT0oMTkyJihvPWVbbisxXSkpJiYoYz0oMzEmbCk8PDZ8NjMmbyk8PTEyNyYmKGM9bnVsbCk6Mz09PWg/KHM9ZVtuKzJdLDEyOD09KDE5MiYobz1lW24rMV0pKSYmMTI4PT0oMTkyJnMpJiYoKGM9KDE1JmwpPDwxMnwoNjMmbyk8PDZ8NjMmcyk8PTIwNDd8fGM+PTU1Mjk2JiZjPD01NzM0MykmJihjPW51bGwpKTo0PT09aCYmKHM9ZVtuKzJdLGE9ZVtuKzNdLDEyOD09KDE5MiYobz1lW24rMV0pKSYmMTI4PT0oMTkyJnMpJiYxMjg9PSgxOTImYSkmJigoYz0oMTUmbCk8PDE4fCg2MyZvKTw8MTJ8KDYzJnMpPDw2fDYzJmEpPD02NTUzNXx8Yz49MTExNDExMikmJihjPW51bGwpKSxudWxsPT09Yz8oYz02NTUzMyxoPTEpOmM+NjU1MzUmJihjLT02NTUzNixyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGM+Pj4xMCYxMDIzfDU1Mjk2KSxjPTU2MzIwfDEwMjMmYykscis9U3RyaW5nLmZyb21DaGFyQ29kZShjKSxuKz1oO31yZXR1cm4gcn0odGhpcy5idWYsdCxlKX0scmVhZEJ5dGVzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yZWFkVmFyaW50KCkrdGhpcy5wb3MsdD10aGlzLmJ1Zi5zdWJhcnJheSh0aGlzLnBvcyxlKTtyZXR1cm4gdGhpcy5wb3M9ZSx0fSxyZWFkUGFja2VkVmFyaW50OmZ1bmN0aW9uKGUsdCl7aWYodGhpcy50eXBlIT09X20uQnl0ZXMpcmV0dXJuIGUucHVzaCh0aGlzLnJlYWRWYXJpbnQodCkpO3ZhciBpPXZtKHRoaXMpO2ZvcihlPWV8fFtdO3RoaXMucG9zPGk7KWUucHVzaCh0aGlzLnJlYWRWYXJpbnQodCkpO3JldHVybiBlfSxyZWFkUGFja2VkU1ZhcmludDpmdW5jdGlvbihlKXtpZih0aGlzLnR5cGUhPT1fbS5CeXRlcylyZXR1cm4gZS5wdXNoKHRoaXMucmVhZFNWYXJpbnQoKSk7dmFyIHQ9dm0odGhpcyk7Zm9yKGU9ZXx8W107dGhpcy5wb3M8dDspZS5wdXNoKHRoaXMucmVhZFNWYXJpbnQoKSk7cmV0dXJuIGV9LHJlYWRQYWNrZWRCb29sZWFuOmZ1bmN0aW9uKGUpe2lmKHRoaXMudHlwZSE9PV9tLkJ5dGVzKXJldHVybiBlLnB1c2godGhpcy5yZWFkQm9vbGVhbigpKTt2YXIgdD12bSh0aGlzKTtmb3IoZT1lfHxbXTt0aGlzLnBvczx0OyllLnB1c2godGhpcy5yZWFkQm9vbGVhbigpKTtyZXR1cm4gZX0scmVhZFBhY2tlZEZsb2F0OmZ1bmN0aW9uKGUpe2lmKHRoaXMudHlwZSE9PV9tLkJ5dGVzKXJldHVybiBlLnB1c2godGhpcy5yZWFkRmxvYXQoKSk7dmFyIHQ9dm0odGhpcyk7Zm9yKGU9ZXx8W107dGhpcy5wb3M8dDspZS5wdXNoKHRoaXMucmVhZEZsb2F0KCkpO3JldHVybiBlfSxyZWFkUGFja2VkRG91YmxlOmZ1bmN0aW9uKGUpe2lmKHRoaXMudHlwZSE9PV9tLkJ5dGVzKXJldHVybiBlLnB1c2godGhpcy5yZWFkRG91YmxlKCkpO3ZhciB0PXZtKHRoaXMpO2ZvcihlPWV8fFtdO3RoaXMucG9zPHQ7KWUucHVzaCh0aGlzLnJlYWREb3VibGUoKSk7cmV0dXJuIGV9LHJlYWRQYWNrZWRGaXhlZDMyOmZ1bmN0aW9uKGUpe2lmKHRoaXMudHlwZSE9PV9tLkJ5dGVzKXJldHVybiBlLnB1c2godGhpcy5yZWFkRml4ZWQzMigpKTt2YXIgdD12bSh0aGlzKTtmb3IoZT1lfHxbXTt0aGlzLnBvczx0OyllLnB1c2godGhpcy5yZWFkRml4ZWQzMigpKTtyZXR1cm4gZX0scmVhZFBhY2tlZFNGaXhlZDMyOmZ1bmN0aW9uKGUpe2lmKHRoaXMudHlwZSE9PV9tLkJ5dGVzKXJldHVybiBlLnB1c2godGhpcy5yZWFkU0ZpeGVkMzIoKSk7dmFyIHQ9dm0odGhpcyk7Zm9yKGU9ZXx8W107dGhpcy5wb3M8dDspZS5wdXNoKHRoaXMucmVhZFNGaXhlZDMyKCkpO3JldHVybiBlfSxyZWFkUGFja2VkRml4ZWQ2NDpmdW5jdGlvbihlKXtpZih0aGlzLnR5cGUhPT1fbS5CeXRlcylyZXR1cm4gZS5wdXNoKHRoaXMucmVhZEZpeGVkNjQoKSk7dmFyIHQ9dm0odGhpcyk7Zm9yKGU9ZXx8W107dGhpcy5wb3M8dDspZS5wdXNoKHRoaXMucmVhZEZpeGVkNjQoKSk7cmV0dXJuIGV9LHJlYWRQYWNrZWRTRml4ZWQ2NDpmdW5jdGlvbihlKXtpZih0aGlzLnR5cGUhPT1fbS5CeXRlcylyZXR1cm4gZS5wdXNoKHRoaXMucmVhZFNGaXhlZDY0KCkpO3ZhciB0PXZtKHRoaXMpO2ZvcihlPWV8fFtdO3RoaXMucG9zPHQ7KWUucHVzaCh0aGlzLnJlYWRTRml4ZWQ2NCgpKTtyZXR1cm4gZX0sc2tpcDpmdW5jdGlvbihlKXt2YXIgdD03JmU7aWYodD09PV9tLlZhcmludClmb3IoO3RoaXMuYnVmW3RoaXMucG9zKytdPjEyNzspO2Vsc2UgaWYodD09PV9tLkJ5dGVzKXRoaXMucG9zPXRoaXMucmVhZFZhcmludCgpK3RoaXMucG9zO2Vsc2UgaWYodD09PV9tLkZpeGVkMzIpdGhpcy5wb3MrPTQ7ZWxzZSB7aWYodCE9PV9tLkZpeGVkNjQpdGhyb3cgbmV3IEVycm9yKFwiVW5pbXBsZW1lbnRlZCB0eXBlOiBcIit0KTt0aGlzLnBvcys9ODt9fSx3cml0ZVRhZzpmdW5jdGlvbihlLHQpe3RoaXMud3JpdGVWYXJpbnQoZTw8M3x0KTt9LHJlYWxsb2M6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMubGVuZ3RofHwxNjt0PHRoaXMucG9zK2U7KXQqPTI7aWYodCE9PXRoaXMubGVuZ3RoKXt2YXIgaT1uZXcgVWludDhBcnJheSh0KTtpLnNldCh0aGlzLmJ1ZiksdGhpcy5idWY9aSx0aGlzLmxlbmd0aD10O319LGZpbmlzaDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aD10aGlzLnBvcyx0aGlzLnBvcz0wLHRoaXMuYnVmLnN1YmFycmF5KDAsdGhpcy5sZW5ndGgpfSx3cml0ZUZpeGVkMzI6ZnVuY3Rpb24oZSl7dGhpcy5yZWFsbG9jKDQpLFJtKHRoaXMuYnVmLGUsdGhpcy5wb3MpLHRoaXMucG9zKz00O30sd3JpdGVTRml4ZWQzMjpmdW5jdGlvbihlKXt0aGlzLnJlYWxsb2MoNCksUm0odGhpcy5idWYsZSx0aGlzLnBvcyksdGhpcy5wb3MrPTQ7fSx3cml0ZUZpeGVkNjQ6ZnVuY3Rpb24oZSl7dGhpcy5yZWFsbG9jKDgpLFJtKHRoaXMuYnVmLC0xJmUsdGhpcy5wb3MpLFJtKHRoaXMuYnVmLE1hdGguZmxvb3IoZSp5bSksdGhpcy5wb3MrNCksdGhpcy5wb3MrPTg7fSx3cml0ZVNGaXhlZDY0OmZ1bmN0aW9uKGUpe3RoaXMucmVhbGxvYyg4KSxSbSh0aGlzLmJ1ZiwtMSZlLHRoaXMucG9zKSxSbSh0aGlzLmJ1ZixNYXRoLmZsb29yKGUqeW0pLHRoaXMucG9zKzQpLHRoaXMucG9zKz04O30sd3JpdGVWYXJpbnQ6ZnVuY3Rpb24oZSl7KGU9K2V8fDApPjI2ODQzNTQ1NXx8ZTwwP2Z1bmN0aW9uKGUsdCl7dmFyIGkscjtpZihlPj0wPyhpPWUlNDI5NDk2NzI5NnwwLHI9ZS80Mjk0OTY3Mjk2fDApOihyPX4oLWUvNDI5NDk2NzI5NiksNDI5NDk2NzI5NV4oaT1+KC1lJTQyOTQ5NjcyOTYpKT9pPWkrMXwwOihpPTAscj1yKzF8MCkpLGU+PTB4MTAwMDAwMDAwMDAwMDAwMDB8fGU8LTB4MTAwMDAwMDAwMDAwMDAwMDApdGhyb3cgbmV3IEVycm9yKFwiR2l2ZW4gdmFyaW50IGRvZXNuJ3QgZml0IGludG8gMTAgYnl0ZXNcIik7dC5yZWFsbG9jKDEwKSxmdW5jdGlvbihlLHQsaSl7aS5idWZbaS5wb3MrK109MTI3JmV8MTI4LGU+Pj49NyxpLmJ1ZltpLnBvcysrXT0xMjcmZXwxMjgsZT4+Pj03LGkuYnVmW2kucG9zKytdPTEyNyZlfDEyOCxlPj4+PTcsaS5idWZbaS5wb3MrK109MTI3JmV8MTI4LGkuYnVmW2kucG9zXT0xMjcmKGU+Pj49Nyk7fShpLDAsdCksZnVuY3Rpb24oZSx0KXt2YXIgaT0oNyZlKTw8NDt0LmJ1Zlt0LnBvcysrXXw9aXwoKGU+Pj49Myk/MTI4OjApLGUmJih0LmJ1Zlt0LnBvcysrXT0xMjcmZXwoKGU+Pj49Nyk/MTI4OjApLGUmJih0LmJ1Zlt0LnBvcysrXT0xMjcmZXwoKGU+Pj49Nyk/MTI4OjApLGUmJih0LmJ1Zlt0LnBvcysrXT0xMjcmZXwoKGU+Pj49Nyk/MTI4OjApLGUmJih0LmJ1Zlt0LnBvcysrXT0xMjcmZXwoKGU+Pj49Nyk/MTI4OjApLGUmJih0LmJ1Zlt0LnBvcysrXT0xMjcmZSkpKSkpO30ocix0KTt9KGUsdGhpcyk6KHRoaXMucmVhbGxvYyg0KSx0aGlzLmJ1Zlt0aGlzLnBvcysrXT0xMjcmZXwoZT4xMjc/MTI4OjApLGU8PTEyN3x8KHRoaXMuYnVmW3RoaXMucG9zKytdPTEyNyYoZT4+Pj03KXwoZT4xMjc/MTI4OjApLGU8PTEyN3x8KHRoaXMuYnVmW3RoaXMucG9zKytdPTEyNyYoZT4+Pj03KXwoZT4xMjc/MTI4OjApLGU8PTEyN3x8KHRoaXMuYnVmW3RoaXMucG9zKytdPWU+Pj43JjEyNykpKSk7fSx3cml0ZVNWYXJpbnQ6ZnVuY3Rpb24oZSl7dGhpcy53cml0ZVZhcmludChlPDA/MiotZS0xOjIqZSk7fSx3cml0ZUJvb2xlYW46ZnVuY3Rpb24oZSl7dGhpcy53cml0ZVZhcmludChCb29sZWFuKGUpKTt9LHdyaXRlU3RyaW5nOmZ1bmN0aW9uKGUpe2U9U3RyaW5nKGUpLHRoaXMucmVhbGxvYyg0KmUubGVuZ3RoKSx0aGlzLnBvcysrO3ZhciB0PXRoaXMucG9zO3RoaXMucG9zPWZ1bmN0aW9uKGUsdCxpKXtmb3IodmFyIHIsbixvPTA7bzx0Lmxlbmd0aDtvKyspe2lmKChyPXQuY2hhckNvZGVBdChvKSk+NTUyOTUmJnI8NTczNDQpe2lmKCFuKXtyPjU2MzE5fHxvKzE9PT10Lmxlbmd0aD8oZVtpKytdPTIzOSxlW2krK109MTkxLGVbaSsrXT0xODkpOm49cjtjb250aW51ZX1pZihyPDU2MzIwKXtlW2krK109MjM5LGVbaSsrXT0xOTEsZVtpKytdPTE4OSxuPXI7Y29udGludWV9cj1uLTU1Mjk2PDwxMHxyLTU2MzIwfDY1NTM2LG49bnVsbDt9ZWxzZSBuJiYoZVtpKytdPTIzOSxlW2krK109MTkxLGVbaSsrXT0xODksbj1udWxsKTtyPDEyOD9lW2krK109cjoocjwyMDQ4P2VbaSsrXT1yPj42fDE5Mjoocjw2NTUzNj9lW2krK109cj4+MTJ8MjI0OihlW2krK109cj4+MTh8MjQwLGVbaSsrXT1yPj4xMiY2M3wxMjgpLGVbaSsrXT1yPj42JjYzfDEyOCksZVtpKytdPTYzJnJ8MTI4KTt9cmV0dXJuIGl9KHRoaXMuYnVmLGUsdGhpcy5wb3MpO3ZhciBpPXRoaXMucG9zLXQ7aT49MTI4JiZ3bSh0LGksdGhpcyksdGhpcy5wb3M9dC0xLHRoaXMud3JpdGVWYXJpbnQoaSksdGhpcy5wb3MrPWk7fSx3cml0ZUZsb2F0OmZ1bmN0aW9uKGUpe3RoaXMucmVhbGxvYyg0KSxtbS53cml0ZSh0aGlzLmJ1ZixlLHRoaXMucG9zLCEwLDIzLDQpLHRoaXMucG9zKz00O30sd3JpdGVEb3VibGU6ZnVuY3Rpb24oZSl7dGhpcy5yZWFsbG9jKDgpLG1tLndyaXRlKHRoaXMuYnVmLGUsdGhpcy5wb3MsITAsNTIsOCksdGhpcy5wb3MrPTg7fSx3cml0ZUJ5dGVzOmZ1bmN0aW9uKGUpe3ZhciB0PWUubGVuZ3RoO3RoaXMud3JpdGVWYXJpbnQodCksdGhpcy5yZWFsbG9jKHQpO2Zvcih2YXIgaT0wO2k8dDtpKyspdGhpcy5idWZbdGhpcy5wb3MrK109ZVtpXTt9LHdyaXRlUmF3TWVzc2FnZTpmdW5jdGlvbihlLHQpe3RoaXMucG9zKys7dmFyIGk9dGhpcy5wb3M7ZSh0LHRoaXMpO3ZhciByPXRoaXMucG9zLWk7cj49MTI4JiZ3bShpLHIsdGhpcyksdGhpcy5wb3M9aS0xLHRoaXMud3JpdGVWYXJpbnQociksdGhpcy5wb3MrPXI7fSx3cml0ZU1lc3NhZ2U6ZnVuY3Rpb24oZSx0LGkpe3RoaXMud3JpdGVUYWcoZSxfbS5CeXRlcyksdGhpcy53cml0ZVJhd01lc3NhZ2UodCxpKTt9LHdyaXRlUGFja2VkVmFyaW50OmZ1bmN0aW9uKGUsdCl7dC5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKGUsVG0sdCk7fSx3cml0ZVBhY2tlZFNWYXJpbnQ6ZnVuY3Rpb24oZSx0KXt0Lmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UoZSxFbSx0KTt9LHdyaXRlUGFja2VkQm9vbGVhbjpmdW5jdGlvbihlLHQpe3QubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZShlLFNtLHQpO30sd3JpdGVQYWNrZWRGbG9hdDpmdW5jdGlvbihlLHQpe3QubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZShlLE1tLHQpO30sd3JpdGVQYWNrZWREb3VibGU6ZnVuY3Rpb24oZSx0KXt0Lmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UoZSxBbSx0KTt9LHdyaXRlUGFja2VkRml4ZWQzMjpmdW5jdGlvbihlLHQpe3QubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZShlLEltLHQpO30sd3JpdGVQYWNrZWRTRml4ZWQzMjpmdW5jdGlvbihlLHQpe3QubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZShlLENtLHQpO30sd3JpdGVQYWNrZWRGaXhlZDY0OmZ1bmN0aW9uKGUsdCl7dC5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKGUsem0sdCk7fSx3cml0ZVBhY2tlZFNGaXhlZDY0OmZ1bmN0aW9uKGUsdCl7dC5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKGUsUG0sdCk7fSx3cml0ZUJ5dGVzRmllbGQ6ZnVuY3Rpb24oZSx0KXt0aGlzLndyaXRlVGFnKGUsX20uQnl0ZXMpLHRoaXMud3JpdGVCeXRlcyh0KTt9LHdyaXRlRml4ZWQzMkZpZWxkOmZ1bmN0aW9uKGUsdCl7dGhpcy53cml0ZVRhZyhlLF9tLkZpeGVkMzIpLHRoaXMud3JpdGVGaXhlZDMyKHQpO30sd3JpdGVTRml4ZWQzMkZpZWxkOmZ1bmN0aW9uKGUsdCl7dGhpcy53cml0ZVRhZyhlLF9tLkZpeGVkMzIpLHRoaXMud3JpdGVTRml4ZWQzMih0KTt9LHdyaXRlRml4ZWQ2NEZpZWxkOmZ1bmN0aW9uKGUsdCl7dGhpcy53cml0ZVRhZyhlLF9tLkZpeGVkNjQpLHRoaXMud3JpdGVGaXhlZDY0KHQpO30sd3JpdGVTRml4ZWQ2NEZpZWxkOmZ1bmN0aW9uKGUsdCl7dGhpcy53cml0ZVRhZyhlLF9tLkZpeGVkNjQpLHRoaXMud3JpdGVTRml4ZWQ2NCh0KTt9LHdyaXRlVmFyaW50RmllbGQ6ZnVuY3Rpb24oZSx0KXt0aGlzLndyaXRlVGFnKGUsX20uVmFyaW50KSx0aGlzLndyaXRlVmFyaW50KHQpO30sd3JpdGVTVmFyaW50RmllbGQ6ZnVuY3Rpb24oZSx0KXt0aGlzLndyaXRlVGFnKGUsX20uVmFyaW50KSx0aGlzLndyaXRlU1ZhcmludCh0KTt9LHdyaXRlU3RyaW5nRmllbGQ6ZnVuY3Rpb24oZSx0KXt0aGlzLndyaXRlVGFnKGUsX20uQnl0ZXMpLHRoaXMud3JpdGVTdHJpbmcodCk7fSx3cml0ZUZsb2F0RmllbGQ6ZnVuY3Rpb24oZSx0KXt0aGlzLndyaXRlVGFnKGUsX20uRml4ZWQzMiksdGhpcy53cml0ZUZsb2F0KHQpO30sd3JpdGVEb3VibGVGaWVsZDpmdW5jdGlvbihlLHQpe3RoaXMud3JpdGVUYWcoZSxfbS5GaXhlZDY0KSx0aGlzLndyaXRlRG91YmxlKHQpO30sd3JpdGVCb29sZWFuRmllbGQ6ZnVuY3Rpb24oZSx0KXt0aGlzLndyaXRlVmFyaW50RmllbGQoZSxCb29sZWFuKHQpKTt9fTt2YXIga209ZChmbSk7Y29uc3QgT209W1widGlsZVwiLFwibGF5ZXJcIixcInNvdXJjZVwiLFwic291cmNlTGF5ZXJcIixcInN0YXRlXCJdO2NsYXNzIEJte2NvbnN0cnVjdG9yKGUsdCxpLHIsbil7dGhpcy50eXBlPVwiRmVhdHVyZVwiLHRoaXMuX3ZlY3RvclRpbGVGZWF0dXJlPWUsdGhpcy5fej10LHRoaXMuX3g9aSx0aGlzLl95PXIsdGhpcy5wcm9wZXJ0aWVzPWUucHJvcGVydGllcyx0aGlzLmlkPW47fWdldCBnZW9tZXRyeSgpe3JldHVybiB2b2lkIDA9PT10aGlzLl9nZW9tZXRyeSYmKHRoaXMuX2dlb21ldHJ5PXRoaXMuX3ZlY3RvclRpbGVGZWF0dXJlLnRvR2VvSlNPTih0aGlzLl94LHRoaXMuX3ksdGhpcy5feikuZ2VvbWV0cnkpLHRoaXMuX2dlb21ldHJ5fXNldCBnZW9tZXRyeShlKXt0aGlzLl9nZW9tZXRyeT1lO310b0pTT04oKXtjb25zdCBlPXt0eXBlOlwiRmVhdHVyZVwiLHN0YXRlOnZvaWQgMCxnZW9tZXRyeTp0aGlzLmdlb21ldHJ5LHByb3BlcnRpZXM6dGhpcy5wcm9wZXJ0aWVzfTt2b2lkIDAhPT10aGlzLmlkJiYoZS5pZD10aGlzLmlkKTtmb3IoY29uc3QgdCBvZiBPbSl2b2lkIDAhPT10aGlzW3RdJiYoZVt0XT10aGlzW3RdKTtyZXR1cm4gZX19Y2xhc3MgRm17Y29uc3RydWN0b3IoKXt0aGlzLnN0YXRlPXt9LHRoaXMuc3RhdGVDaGFuZ2VzPXt9LHRoaXMuZGVsZXRlZFN0YXRlcz17fTt9dXBkYXRlU3RhdGUoZSx0LGkpe2NvbnN0IHI9U3RyaW5nKHQpO2lmKHRoaXMuc3RhdGVDaGFuZ2VzW2VdPXRoaXMuc3RhdGVDaGFuZ2VzW2VdfHx7fSx0aGlzLnN0YXRlQ2hhbmdlc1tlXVtyXT10aGlzLnN0YXRlQ2hhbmdlc1tlXVtyXXx8e30sayh0aGlzLnN0YXRlQ2hhbmdlc1tlXVtyXSxpKSxudWxsPT09dGhpcy5kZWxldGVkU3RhdGVzW2VdKXt0aGlzLmRlbGV0ZWRTdGF0ZXNbZV09e307Zm9yKGNvbnN0IHQgaW4gdGhpcy5zdGF0ZVtlXSl0IT09ciYmKHRoaXMuZGVsZXRlZFN0YXRlc1tlXVt0XT1udWxsKTt9ZWxzZSBpZih0aGlzLmRlbGV0ZWRTdGF0ZXNbZV0mJm51bGw9PT10aGlzLmRlbGV0ZWRTdGF0ZXNbZV1bcl0pe3RoaXMuZGVsZXRlZFN0YXRlc1tlXVtyXT17fTtmb3IoY29uc3QgdCBpbiB0aGlzLnN0YXRlW2VdW3JdKWlbdF18fCh0aGlzLmRlbGV0ZWRTdGF0ZXNbZV1bcl1bdF09bnVsbCk7fWVsc2UgZm9yKGNvbnN0IHQgaW4gaSl0aGlzLmRlbGV0ZWRTdGF0ZXNbZV0mJnRoaXMuZGVsZXRlZFN0YXRlc1tlXVtyXSYmbnVsbD09PXRoaXMuZGVsZXRlZFN0YXRlc1tlXVtyXVt0XSYmZGVsZXRlIHRoaXMuZGVsZXRlZFN0YXRlc1tlXVtyXVt0XTt9cmVtb3ZlRmVhdHVyZVN0YXRlKGUsdCxpKXtpZihudWxsPT09dGhpcy5kZWxldGVkU3RhdGVzW2VdKXJldHVybjtjb25zdCByPVN0cmluZyh0KTtpZih0aGlzLmRlbGV0ZWRTdGF0ZXNbZV09dGhpcy5kZWxldGVkU3RhdGVzW2VdfHx7fSxpJiZ2b2lkIDAhPT10KW51bGwhPT10aGlzLmRlbGV0ZWRTdGF0ZXNbZV1bcl0mJih0aGlzLmRlbGV0ZWRTdGF0ZXNbZV1bcl09dGhpcy5kZWxldGVkU3RhdGVzW2VdW3JdfHx7fSx0aGlzLmRlbGV0ZWRTdGF0ZXNbZV1bcl1baV09bnVsbCk7ZWxzZSBpZih2b2lkIDAhPT10KWlmKHRoaXMuc3RhdGVDaGFuZ2VzW2VdJiZ0aGlzLnN0YXRlQ2hhbmdlc1tlXVtyXSlmb3IoaSBpbiB0aGlzLmRlbGV0ZWRTdGF0ZXNbZV1bcl09e30sdGhpcy5zdGF0ZUNoYW5nZXNbZV1bcl0pdGhpcy5kZWxldGVkU3RhdGVzW2VdW3JdW2ldPW51bGw7ZWxzZSB0aGlzLmRlbGV0ZWRTdGF0ZXNbZV1bcl09bnVsbDtlbHNlIHRoaXMuZGVsZXRlZFN0YXRlc1tlXT1udWxsO31nZXRTdGF0ZShlLHQpe2NvbnN0IGk9U3RyaW5nKHQpLHI9ayh7fSwodGhpcy5zdGF0ZVtlXXx8e30pW2ldLCh0aGlzLnN0YXRlQ2hhbmdlc1tlXXx8e30pW2ldKTtpZihudWxsPT09dGhpcy5kZWxldGVkU3RhdGVzW2VdKXJldHVybiB7fTtpZih0aGlzLmRlbGV0ZWRTdGF0ZXNbZV0pe2NvbnN0IGk9dGhpcy5kZWxldGVkU3RhdGVzW2VdW3RdO2lmKG51bGw9PT1pKXJldHVybiB7fTtmb3IoY29uc3QgZSBpbiBpKWRlbGV0ZSByW2VdO31yZXR1cm4gcn1pbml0aWFsaXplVGlsZVN0YXRlKGUsdCl7ZS5zZXRGZWF0dXJlU3RhdGUodGhpcy5zdGF0ZSx0KTt9Y29hbGVzY2VDaGFuZ2VzKGUsdCl7Y29uc3QgaT17fTtmb3IoY29uc3QgZSBpbiB0aGlzLnN0YXRlQ2hhbmdlcyl7dGhpcy5zdGF0ZVtlXT10aGlzLnN0YXRlW2VdfHx7fTtjb25zdCB0PXt9O2Zvcihjb25zdCBpIGluIHRoaXMuc3RhdGVDaGFuZ2VzW2VdKXRoaXMuc3RhdGVbZV1baV18fCh0aGlzLnN0YXRlW2VdW2ldPXt9KSxrKHRoaXMuc3RhdGVbZV1baV0sdGhpcy5zdGF0ZUNoYW5nZXNbZV1baV0pLHRbaV09dGhpcy5zdGF0ZVtlXVtpXTtpW2VdPXQ7fWZvcihjb25zdCBlIGluIHRoaXMuZGVsZXRlZFN0YXRlcyl7dGhpcy5zdGF0ZVtlXT10aGlzLnN0YXRlW2VdfHx7fTtjb25zdCB0PXt9O2lmKG51bGw9PT10aGlzLmRlbGV0ZWRTdGF0ZXNbZV0pZm9yKGNvbnN0IGkgaW4gdGhpcy5zdGF0ZVtlXSl0W2ldPXt9LHRoaXMuc3RhdGVbZV1baV09e307ZWxzZSBmb3IoY29uc3QgaSBpbiB0aGlzLmRlbGV0ZWRTdGF0ZXNbZV0pe2lmKG51bGw9PT10aGlzLmRlbGV0ZWRTdGF0ZXNbZV1baV0pdGhpcy5zdGF0ZVtlXVtpXT17fTtlbHNlIGlmKHRoaXMuc3RhdGVbZV1baV0pZm9yKGNvbnN0IHQgb2YgT2JqZWN0LmtleXModGhpcy5kZWxldGVkU3RhdGVzW2VdW2ldKSlkZWxldGUgdGhpcy5zdGF0ZVtlXVtpXVt0XTt0W2ldPXRoaXMuc3RhdGVbZV1baV07fWlbZV09aVtlXXx8e30sayhpW2VdLHQpO31pZih0aGlzLnN0YXRlQ2hhbmdlcz17fSx0aGlzLmRlbGV0ZWRTdGF0ZXM9e30sMCE9PU9iamVjdC5rZXlzKGkpLmxlbmd0aClmb3IoY29uc3QgciBpbiBlKWVbcl0uc2V0RmVhdHVyZVN0YXRlKGksdCk7fX1jbGFzcyBObXtjb25zdHJ1Y3RvcihlKXt0aGlzLnNpemU9ZSx0aGlzLm1pbmltdW1zPVtdLHRoaXMubWF4aW11bXM9W10sdGhpcy5sZWF2ZXM9W107fWdldEVsZXZhdGlvbihlLHQpe2NvbnN0IGk9dGhpcy50b0lkeChlLHQpO3JldHVybiB7bWluOnRoaXMubWluaW11bXNbaV0sbWF4OnRoaXMubWF4aW11bXNbaV19fWlzTGVhZihlLHQpe3JldHVybiB0aGlzLmxlYXZlc1t0aGlzLnRvSWR4KGUsdCldfXRvSWR4KGUsdCl7cmV0dXJuIHQqdGhpcy5zaXplK2V9fWZ1bmN0aW9uIFVtKGUsdCxpLHIpe2xldCBuPTAsbz1OdW1iZXIuTUFYX1ZBTFVFO2ZvcihsZXQgcz0wO3M8MztzKyspaWYoTWF0aC5hYnMocltzXSk8MWUtMTUpe2lmKGlbc108ZVtzXXx8aVtzXT50W3NdKXJldHVybiBudWxsfWVsc2Uge2NvbnN0IGE9MS9yW3NdO2xldCBsPShlW3NdLWlbc10pKmEsYz0odFtzXS1pW3NdKSphO2lmKGw+Yyl7Y29uc3QgZT1sO2w9YyxjPWU7fWlmKGw+biYmKG49bCksYzxvJiYobz1jKSxuPm8pcmV0dXJuIG51bGx9cmV0dXJuIG59ZnVuY3Rpb24gVm0oZSx0LGkscixuLG8scyxhLGwsYyxoKXtjb25zdCB1PXItZSxkPW4tdCxwPW8taSxmPXMtZSxtPWEtdCxfPWwtaSxnPWhbMV0qXy1oWzJdKm0seT1oWzJdKmYtaFswXSpfLHg9aFswXSptLWhbMV0qZix2PXUqZytkKnkrcCp4O2lmKE1hdGguYWJzKHYpPDFlLTE1KXJldHVybiBudWxsO2NvbnN0IGI9MS92LHc9Y1swXS1lLFQ9Y1sxXS10LEU9Y1syXS1pLE09KHcqZytUKnkrRSp4KSpiO2lmKE08MHx8TT4xKXJldHVybiBudWxsO2NvbnN0IEE9VCpwLUUqZCxTPUUqdS13KnAsST13KmQtVCp1LEM9KGhbMF0qQStoWzFdKlMraFsyXSpJKSpiO3JldHVybiBDPDB8fE0rQz4xP251bGw6KGYqQSttKlMrXypJKSpifWZ1bmN0aW9uIGptKGUsdCxpKXtyZXR1cm4gKGUtdCkvKGktdCl9ZnVuY3Rpb24gR20oZSx0LGkscixuLG8scyxhLGwpe2NvbnN0IGM9MTw8aSxoPW8tcix1PXMtbixkPShlKzEpL2MqaCtyLHA9KHQrMCkvYyp1K24sZj0odCsxKS9jKnUrbjthWzBdPShlKzApL2MqaCtyLGFbMV09cCxsWzBdPWQsbFsxXT1mO31jbGFzcyBxbXtjb25zdHJ1Y3RvcihlKXtpZih0aGlzLm1heGltdW1zPVtdLHRoaXMubWluaW11bXM9W10sdGhpcy5sZWF2ZXM9W10sdGhpcy5jaGlsZE9mZnNldHM9W10sdGhpcy5ub2RlQ291bnQ9MCx0aGlzLmRlbT1lLHRoaXMuX3NpYmxpbmdPZmZzZXQ9W1swLDBdLFsxLDBdLFswLDFdLFsxLDFdXSwhdGhpcy5kZW0pcmV0dXJuO2NvbnN0IHQ9ZnVuY3Rpb24oZSl7Y29uc3QgdD1NYXRoLmNlaWwoTWF0aC5sb2cyKGUuZGltLzgpKSxpPVtdO2xldCByPU1hdGguY2VpbChNYXRoLnBvdygyLHQpKTtjb25zdCBuPTEvcixvPShlLHQsaSxyLG4pPT57Y29uc3Qgbz1yPzE6MCxzPShlKzEpKmktbyxhPXQqaSxsPSh0KzEpKmktbztuWzBdPWUqaSxuWzFdPWEsblsyXT1zLG5bM109bDt9O2xldCBzPW5ldyBObShyKTtjb25zdCBhPVtdO2ZvcihsZXQgdD0wO3Q8cipyO3QrKyl7byh0JXIsTWF0aC5mbG9vcih0L3IpLG4sITEsYSk7Y29uc3QgaT0kbShhWzBdLGFbMV0sZSksbD0kbShhWzJdLGFbMV0sZSksYz0kbShhWzJdLGFbM10sZSksaD0kbShhWzBdLGFbM10sZSk7cy5taW5pbXVtcy5wdXNoKE1hdGgubWluKGksbCxjLGgpKSxzLm1heGltdW1zLnB1c2goTWF0aC5tYXgoaSxsLGMsaCkpLHMubGVhdmVzLnB1c2goMSk7fWZvcihpLnB1c2gocyksci89MjtyPj0xO3IvPTIpe2NvbnN0IGU9aVtpLmxlbmd0aC0xXTtzPW5ldyBObShyKTtmb3IobGV0IHQ9MDt0PHIqcjt0Kyspe28odCVyLE1hdGguZmxvb3IodC9yKSwyLCEwLGEpO2NvbnN0IGk9ZS5nZXRFbGV2YXRpb24oYVswXSxhWzFdKSxuPWUuZ2V0RWxldmF0aW9uKGFbMl0sYVsxXSksbD1lLmdldEVsZXZhdGlvbihhWzJdLGFbM10pLGM9ZS5nZXRFbGV2YXRpb24oYVswXSxhWzNdKSxoPWUuaXNMZWFmKGFbMF0sYVsxXSksdT1lLmlzTGVhZihhWzJdLGFbMV0pLGQ9ZS5pc0xlYWYoYVsyXSxhWzNdKSxwPWUuaXNMZWFmKGFbMF0sYVszXSksZj1NYXRoLm1pbihpLm1pbixuLm1pbixsLm1pbixjLm1pbiksbT1NYXRoLm1heChpLm1heCxuLm1heCxsLm1heCxjLm1heCksXz1oJiZ1JiZkJiZwO3MubWF4aW11bXMucHVzaChtKSxzLm1pbmltdW1zLnB1c2goZikscy5sZWF2ZXMucHVzaChtLWY8PTUmJl8/MTowKTt9aS5wdXNoKHMpO31yZXR1cm4gaX0odGhpcy5kZW0pLGk9dC5sZW5ndGgtMSxyPXRbaV07dGhpcy5fYWRkTm9kZShyLm1pbmltdW1zWzBdLHIubWF4aW11bXNbMF0sci5sZWF2ZXNbMF0pLHRoaXMuX2NvbnN0cnVjdCh0LDAsMCxpLDApO31yYXljYXN0Um9vdChlLHQsaSxyLG4sbyxzPTEpe3JldHVybiBVbShbZSx0LC0xMDBdLFtpLHIsdGhpcy5tYXhpbXVtc1swXSpzXSxuLG8pfXJheWNhc3QoZSx0LGkscixuLG8scz0xKXtpZighdGhpcy5ub2RlQ291bnQpcmV0dXJuIG51bGw7Y29uc3QgYT10aGlzLnJheWNhc3RSb290KGUsdCxpLHIsbixvLHMpO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7Y29uc3QgbD1bXSxjPVtdLGg9W10sdT1bXSxkPVt7aWR4OjAsdDphLG5vZGV4OjAsbm9kZXk6MCxkZXB0aDowfV07Zm9yKDtkLmxlbmd0aD4wOyl7Y29uc3R7aWR4OmEsdDpwLG5vZGV4OmYsbm9kZXk6bSxkZXB0aDpffT1kLnBvcCgpO2lmKHRoaXMubGVhdmVzW2FdKXtHbShmLG0sXyxlLHQsaSxyLGgsdSk7Y29uc3QgYT0xPDxfLGw9KGYrMCkvYSxjPShmKzEpL2EsZD0obSswKS9hLGc9KG0rMSkvYSx5PSRtKGwsZCx0aGlzLmRlbSkqcyx4PSRtKGMsZCx0aGlzLmRlbSkqcyx2PSRtKGMsZyx0aGlzLmRlbSkqcyxiPSRtKGwsZyx0aGlzLmRlbSkqcyx3PVZtKGhbMF0saFsxXSx5LHVbMF0saFsxXSx4LHVbMF0sdVsxXSx2LG4sbyksVD1WbSh1WzBdLHVbMV0sdixoWzBdLHVbMV0sYixoWzBdLGhbMV0seSxuLG8pLEU9TWF0aC5taW4obnVsbCE9PXc/dzpOdW1iZXIuTUFYX1ZBTFVFLG51bGwhPT1UP1Q6TnVtYmVyLk1BWF9WQUxVRSk7aWYoRSE9PU51bWJlci5NQVhfVkFMVUUpcmV0dXJuIEU7e2NvbnN0IGU9RHUuc2NhbGVBbmRBZGQoW10sbixvLHApO2lmKFptKHkseCxiLHYsam0oZVswXSxoWzBdLHVbMF0pLGptKGVbMV0saFsxXSx1WzFdKSk+PWVbMl0pcmV0dXJuIHB9Y29udGludWV9bGV0IGc9MDtmb3IobGV0IGQ9MDtkPHRoaXMuX3NpYmxpbmdPZmZzZXQubGVuZ3RoO2QrKyl7R20oKGY8PDEpK3RoaXMuX3NpYmxpbmdPZmZzZXRbZF1bMF0sKG08PDEpK3RoaXMuX3NpYmxpbmdPZmZzZXRbZF1bMV0sXysxLGUsdCxpLHIsaCx1KSxoWzJdPS0xMDAsdVsyXT10aGlzLm1heGltdW1zW3RoaXMuY2hpbGRPZmZzZXRzW2FdK2RdKnM7Y29uc3QgcD1VbShoLHUsbixvKTtpZihudWxsIT1wKXtjb25zdCBlPXA7bFtkXT1lO2xldCB0PSExO2ZvcihsZXQgaT0wO2k8ZyYmIXQ7aSsrKWU+PWxbY1tpXV0mJihjLnNwbGljZShpLDAsZCksdD0hMCk7dHx8KGNbZ109ZCksZysrO319Zm9yKGxldCBlPTA7ZTxnO2UrKyl7Y29uc3QgdD1jW2VdO2QucHVzaCh7aWR4OnRoaXMuY2hpbGRPZmZzZXRzW2FdK3QsdDpsW3RdLG5vZGV4OihmPDwxKSt0aGlzLl9zaWJsaW5nT2Zmc2V0W3RdWzBdLG5vZGV5OihtPDwxKSt0aGlzLl9zaWJsaW5nT2Zmc2V0W3RdWzFdLGRlcHRoOl8rMX0pO319cmV0dXJuIG51bGx9X2FkZE5vZGUoZSx0LGkpe3JldHVybiB0aGlzLm1pbmltdW1zLnB1c2goZSksdGhpcy5tYXhpbXVtcy5wdXNoKHQpLHRoaXMubGVhdmVzLnB1c2goaSksdGhpcy5jaGlsZE9mZnNldHMucHVzaCgwKSx0aGlzLm5vZGVDb3VudCsrfV9jb25zdHJ1Y3QoZSx0LGkscixuKXtpZigxPT09ZVtyXS5pc0xlYWYodCxpKSlyZXR1cm47dGhpcy5jaGlsZE9mZnNldHNbbl18fCh0aGlzLmNoaWxkT2Zmc2V0c1tuXT10aGlzLm5vZGVDb3VudCk7Y29uc3Qgbz1yLTEscz1lW29dO2xldCBhPTAsbD0wO2ZvcihsZXQgZT0wO2U8dGhpcy5fc2libGluZ09mZnNldC5sZW5ndGg7ZSsrKXtjb25zdCByPTIqdCt0aGlzLl9zaWJsaW5nT2Zmc2V0W2VdWzBdLG49MippK3RoaXMuX3NpYmxpbmdPZmZzZXRbZV1bMV0sbz1zLmdldEVsZXZhdGlvbihyLG4pLGM9cy5pc0xlYWYocixuKSxoPXRoaXMuX2FkZE5vZGUoby5taW4sby5tYXgsYyk7YyYmKGF8PTE8PGUpLGx8fChsPWgpO31mb3IobGV0IHI9MDtyPHRoaXMuX3NpYmxpbmdPZmZzZXQubGVuZ3RoO3IrKylhJjE8PHJ8fHRoaXMuX2NvbnN0cnVjdChlLDIqdCt0aGlzLl9zaWJsaW5nT2Zmc2V0W3JdWzBdLDIqaSt0aGlzLl9zaWJsaW5nT2Zmc2V0W3JdWzFdLG8sbCtyKTt9fWZ1bmN0aW9uIFptKGUsdCxpLHIsbixvKXtyZXR1cm4gS3IoS3IoZSxpLG8pLEtyKHQscixvKSxuKX1mdW5jdGlvbiAkbShlLHQsaSl7Y29uc3Qgcj1pLmRpbSxuPXooZSpyLS41LDAsci0xKSxvPXoodCpyLS41LDAsci0xKSxzPU1hdGguZmxvb3IobiksYT1NYXRoLmZsb29yKG8pLGw9TWF0aC5taW4ocysxLHItMSksYz1NYXRoLm1pbihhKzEsci0xKTtyZXR1cm4gWm0oaS5nZXQocyxhKSxpLmdldChsLGEpLGkuZ2V0KHMsYyksaS5nZXQobCxjKSxuLXMsby1hKX1jb25zdCBXbT17bWFwYm94Ols2NTUzLjYsMjUuNiwuMSwxZTRdLHRlcnJhcml1bTpbMjU2LDEsMS8yNTYsMzI3NjhdfTtmdW5jdGlvbiBIbShlLHQsaSl7cmV0dXJuICgyNTYqZSoyNTYrMjU2KnQraSkvMTAtMWU0fWZ1bmN0aW9uIFhtKGUsdCxpKXtyZXR1cm4gMjU2KmUrdCtpLzI1Ni0zMjc2OH1jbGFzcyBZbXtnZXQgdHJlZSgpe3JldHVybiB0aGlzLl90cmVlfHx0aGlzLl9idWlsZFF1YWRUcmVlKCksdGhpcy5fdHJlZX1jb25zdHJ1Y3RvcihlLHQsaSxyPSExKXtpZih0aGlzLnVpZD1lLHQuaGVpZ2h0IT09dC53aWR0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkRFTSB0aWxlcyBtdXN0IGJlIHNxdWFyZVwiKTtpZihpJiZcIm1hcGJveFwiIT09aSYmXCJ0ZXJyYXJpdW1cIiE9PWkpcmV0dXJuIEgoYFwiJHtpfVwiIGlzIG5vdCBhIHZhbGlkIGVuY29kaW5nIHR5cGUuIFZhbGlkIHR5cGVzIGluY2x1ZGUgXCJtYXBib3hcIiBhbmQgXCJ0ZXJyYXJpdW1cIi5gKTt0aGlzLnN0cmlkZT10LmhlaWdodDtjb25zdCBuPXRoaXMuZGltPXQuaGVpZ2h0LTIsbz1uZXcgVWludDMyQXJyYXkodC5kYXRhLmJ1ZmZlcik7aWYodGhpcy5waXhlbHM9bmV3IFVpbnQ4QXJyYXkodC5kYXRhLmJ1ZmZlciksdGhpcy5mbG9hdFZpZXc9bmV3IEZsb2F0MzJBcnJheSh0LmRhdGEuYnVmZmVyKSx0aGlzLmJvcmRlclJlYWR5PXIsdGhpcy5fbW9kaWZpZWRGb3JTb3VyY2VzPXt9LCFyKXtmb3IobGV0IGU9MDtlPG47ZSsrKW9bdGhpcy5faWR4KC0xLGUpXT1vW3RoaXMuX2lkeCgwLGUpXSxvW3RoaXMuX2lkeChuLGUpXT1vW3RoaXMuX2lkeChuLTEsZSldLG9bdGhpcy5faWR4KGUsLTEpXT1vW3RoaXMuX2lkeChlLDApXSxvW3RoaXMuX2lkeChlLG4pXT1vW3RoaXMuX2lkeChlLG4tMSldO29bdGhpcy5faWR4KC0xLC0xKV09b1t0aGlzLl9pZHgoMCwwKV0sb1t0aGlzLl9pZHgobiwtMSldPW9bdGhpcy5faWR4KG4tMSwwKV0sb1t0aGlzLl9pZHgoLTEsbildPW9bdGhpcy5faWR4KDAsbi0xKV0sb1t0aGlzLl9pZHgobixuKV09b1t0aGlzLl9pZHgobi0xLG4tMSldO31jb25zdCBzPVwidGVycmFyaXVtXCI9PT1pP1htOkhtO2ZvcihsZXQgZT0wO2U8by5sZW5ndGg7KytlKXtjb25zdCB0PTQqZTt0aGlzLmZsb2F0Vmlld1tlXT1zKHRoaXMucGl4ZWxzW3RdLHRoaXMucGl4ZWxzW3QrMV0sdGhpcy5waXhlbHNbdCsyXSk7fXRoaXMuX3RpbWVzdGFtcD1kdC5ub3coKTt9X2J1aWxkUXVhZFRyZWUoKXt0aGlzLl90cmVlPW5ldyBxbSh0aGlzKTt9Z2V0KGUsdCxpPSExKXtpJiYoZT16KGUsLTEsdGhpcy5kaW0pLHQ9eih0LC0xLHRoaXMuZGltKSk7Y29uc3Qgcj10aGlzLl9pZHgoZSx0KTtyZXR1cm4gdGhpcy5mbG9hdFZpZXdbcl19c2V0KGUsdCxpKXtjb25zdCByPXRoaXMuX2lkeChlLHQpLG49dGhpcy5mbG9hdFZpZXdbcl07cmV0dXJuIHRoaXMuZmxvYXRWaWV3W3JdPWksaS1ufXN0YXRpYyBnZXRVbnBhY2tWZWN0b3IoZSl7cmV0dXJuIFdtW2VdfV9pZHgoZSx0KXtpZihlPC0xfHxlPj10aGlzLmRpbSsxfHx0PC0xfHx0Pj10aGlzLmRpbSsxKXRocm93IG5ldyBSYW5nZUVycm9yKFwib3V0IG9mIHJhbmdlIHNvdXJjZSBjb29yZGluYXRlcyBmb3IgREVNIGRhdGFcIik7cmV0dXJuICh0KzEpKnRoaXMuc3RyaWRlKyhlKzEpfXN0YXRpYyBwYWNrKGUsdCl7Y29uc3QgaT1bMCwwLDAsMF0scj1ZbS5nZXRVbnBhY2tWZWN0b3IodCk7bGV0IG49TWF0aC5mbG9vcigoZStyWzNdKS9yWzJdKTtyZXR1cm4gaVsyXT1uJTI1NixuPU1hdGguZmxvb3Iobi8yNTYpLGlbMV09biUyNTYsbj1NYXRoLmZsb29yKG4vMjU2KSxpWzBdPW4saX1nZXRQaXhlbHMoKXtyZXR1cm4gbmV3IHRmKHt3aWR0aDp0aGlzLnN0cmlkZSxoZWlnaHQ6dGhpcy5zdHJpZGV9LHRoaXMucGl4ZWxzKX1iYWNrZmlsbEJvcmRlcihlLHQsaSl7aWYodGhpcy5kaW0hPT1lLmRpbSl0aHJvdyBuZXcgRXJyb3IoXCJkZW0gZGltZW5zaW9uIG1pc21hdGNoXCIpO2xldCByPXQqdGhpcy5kaW0sbj10KnRoaXMuZGltK3RoaXMuZGltLG89aSp0aGlzLmRpbSxzPWkqdGhpcy5kaW0rdGhpcy5kaW07c3dpdGNoKHQpe2Nhc2UtMTpyPW4tMTticmVhaztjYXNlIDE6bj1yKzE7fXN3aXRjaChpKXtjYXNlLTE6bz1zLTE7YnJlYWs7Y2FzZSAxOnM9bysxO31jb25zdCBhPS10KnRoaXMuZGltLGw9LWkqdGhpcy5kaW07Zm9yKGxldCB0PW87dDxzO3QrKylmb3IobGV0IGk9cjtpPG47aSsrKXtjb25zdCByPTQqdGhpcy5faWR4KGksdCksbj00KnRoaXMuX2lkeChpK2EsdCtsKTt0aGlzLnBpeGVsc1tyKzBdPWUucGl4ZWxzW24rMF0sdGhpcy5waXhlbHNbcisxXT1lLnBpeGVsc1tuKzFdLHRoaXMucGl4ZWxzW3IrMl09ZS5waXhlbHNbbisyXSx0aGlzLnBpeGVsc1tyKzNdPWUucGl4ZWxzW24rM107fX1vbkRlc2VyaWFsaXplKCl7dGhpcy5fdHJlZSYmKHRoaXMuX3RyZWUuZGVtPXRoaXMpO319UnMoWW0sXCJERU1EYXRhXCIpLFJzKHFtLFwiRGVtTWluTWF4UXVhZFRyZWVcIix7b21pdDpbXCJkZW1cIl19KTtjbGFzcyBLbXtpc0RhdGFBdmFpbGFibGVBdFBvaW50KGUpe2NvbnN0IHQ9dGhpcy5fc291cmNlKCk7aWYodGhpcy5pc1VzaW5nTW9ja1NvdXJjZSgpfHwhdHx8ZS55PDB8fGUueT4xKXJldHVybiAhMTtjb25zdCBpPXQuZ2V0U291cmNlKCkubWF4em9vbSxyPTE8PGksbj1NYXRoLmZsb29yKGUueCksbz1NYXRoLmZsb29yKChlLngtbikqcikscz1NYXRoLmZsb29yKGUueSpyKSxhPXRoaXMuZmluZERFTVRpbGVGb3IobmV3IHF1KGksbixpLG8scykpO3JldHVybiAhKCFhfHwhYS5kZW0pfWdldEF0UG9pbnRPclplcm8oZSx0PTApe3JldHVybiB0aGlzLmdldEF0UG9pbnQoZSx0KXx8MH1nZXRBdFBvaW50KGUsdCxpPSEwKXtpZih0aGlzLmlzVXNpbmdNb2NrU291cmNlKCkpcmV0dXJuIG51bGw7bnVsbD09dCYmKHQ9bnVsbCk7Y29uc3Qgcj10aGlzLl9zb3VyY2UoKTtpZighcilyZXR1cm4gdDtpZihlLnk8MHx8ZS55PjEpcmV0dXJuIHQ7Y29uc3Qgbj1yLmdldFNvdXJjZSgpLm1heHpvb20sbz0xPDxuLHM9TWF0aC5mbG9vcihlLngpLGE9ZS54LXMsbD1uZXcgcXUobixzLG4sTWF0aC5mbG9vcihhKm8pLE1hdGguZmxvb3IoZS55Km8pKSxjPXRoaXMuZmluZERFTVRpbGVGb3IobCk7aWYoIWN8fCFjLmRlbSlyZXR1cm4gdDtjb25zdCBoPWMuZGVtLHU9MTw8Yy50aWxlSUQuY2Fub25pY2FsLnosZD0oYSp1LWMudGlsZUlELmNhbm9uaWNhbC54KSpoLmRpbSxwPShlLnkqdS1jLnRpbGVJRC5jYW5vbmljYWwueSkqaC5kaW0sZj1NYXRoLmZsb29yKGQpLG09TWF0aC5mbG9vcihwKTtyZXR1cm4gKGk/dGhpcy5leGFnZ2VyYXRpb24oKToxKSpLcihLcihoLmdldChmLG0pLGguZ2V0KGYsbSsxKSxwLW0pLEtyKGguZ2V0KGYrMSxtKSxoLmdldChmKzEsbSsxKSxwLW0pLGQtZil9Z2V0QXRUaWxlT2Zmc2V0KGUsdCxpKXtjb25zdCByPTE8PGUuY2Fub25pY2FsLno7cmV0dXJuIHRoaXMuZ2V0QXRQb2ludE9yWmVybyhuZXcgbHAoZS53cmFwKyhlLmNhbm9uaWNhbC54K3QvY3IpL3IsKGUuY2Fub25pY2FsLnkraS9jcikvcikpfWdldEF0VGlsZU9mZnNldEZ1bmMoZSx0LGkscil7cmV0dXJuIG49Pntjb25zdCBvPXRoaXMuZ2V0QXRUaWxlT2Zmc2V0KGUsbi54LG4ueSkscz1yLnVwVmVjdG9yKGUuY2Fub25pY2FsLG4ueCxuLnkpLGE9ci51cFZlY3RvclNjYWxlKGUuY2Fub25pY2FsLHQsaSkubWV0ZXJzVG9UaWxlO3JldHVybiBEdS5zY2FsZShzLHMsbyphKSxzfX1nZXRGb3JUaWxlUG9pbnRzKGUsdCxpLHIpe2lmKHRoaXMuaXNVc2luZ01vY2tTb3VyY2UoKSlyZXR1cm4gITE7Y29uc3Qgbj1KbS5jcmVhdGUodGhpcyxlLHIpO3JldHVybiAhIW4mJih0LmZvckVhY2goKGU9PntlWzJdPXRoaXMuZXhhZ2dlcmF0aW9uKCkqbi5nZXRFbGV2YXRpb25BdChlWzBdLGVbMV0saSk7fSkpLCEwKX1nZXRNaW5NYXhGb3JUaWxlKGUpe2lmKHRoaXMuaXNVc2luZ01vY2tTb3VyY2UoKSlyZXR1cm4gbnVsbDtjb25zdCB0PXRoaXMuZmluZERFTVRpbGVGb3IoZSk7aWYoIXR8fCF0LmRlbSlyZXR1cm4gbnVsbDtjb25zdCBpPXQuZGVtLnRyZWUscj10LnRpbGVJRCxuPTE8PGUuY2Fub25pY2FsLnotci5jYW5vbmljYWwuejtsZXQgbz1lLmNhbm9uaWNhbC54L24tci5jYW5vbmljYWwueCxzPWUuY2Fub25pY2FsLnkvbi1yLmNhbm9uaWNhbC55LGE9MDtmb3IobGV0IHQ9MDt0PGUuY2Fub25pY2FsLnotci5jYW5vbmljYWwueiYmIWkubGVhdmVzW2FdO3QrKyl7byo9MixzKj0yO2NvbnN0IGU9MipNYXRoLmZsb29yKHMpK01hdGguZmxvb3Iobyk7YT1pLmNoaWxkT2Zmc2V0c1thXStlLG8lPTEscyU9MTt9cmV0dXJuIHttaW46dGhpcy5leGFnZ2VyYXRpb24oKSppLm1pbmltdW1zW2FdLG1heDp0aGlzLmV4YWdnZXJhdGlvbigpKmkubWF4aW11bXNbYV19fWdldE1pbkVsZXZhdGlvbkJlbG93TVNMKCl7dGhyb3cgbmV3IEVycm9yKFwiUHVyZSB2aXJ0dWFsIG1ldGhvZCBjYWxsZWQuXCIpfXJheWNhc3QoZSx0LGkpe3Rocm93IG5ldyBFcnJvcihcIlB1cmUgdmlydHVhbCBtZXRob2QgY2FsbGVkLlwiKX1wb2ludENvb3JkaW5hdGUoZSl7dGhyb3cgbmV3IEVycm9yKFwiUHVyZSB2aXJ0dWFsIG1ldGhvZCBjYWxsZWQuXCIpfV9zb3VyY2UoKXt0aHJvdyBuZXcgRXJyb3IoXCJQdXJlIHZpcnR1YWwgbWV0aG9kIGNhbGxlZC5cIil9aXNVc2luZ01vY2tTb3VyY2UoKXt0aHJvdyBuZXcgRXJyb3IoXCJQdXJlIHZpcnR1YWwgbWV0aG9kIGNhbGxlZC5cIil9ZXhhZ2dlcmF0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiUHVyZSB2aXJ0dWFsIG1ldGhvZCBjYWxsZWQuXCIpfWZpbmRERU1UaWxlRm9yKGUpe3Rocm93IG5ldyBFcnJvcihcIlB1cmUgdmlydHVhbCBtZXRob2QgY2FsbGVkLlwiKX1nZXQgdmlzaWJsZURlbVRpbGVzKCl7dGhyb3cgbmV3IEVycm9yKFwiR2V0dGVyIG11c3QgYmUgaW1wbGVtZW50ZWQgaW4gc3ViY2xhc3MuXCIpfWdldE1pbk1heEZvclZpc2libGVUaWxlcygpe2NvbnN0IGU9dGhpcy52aXNpYmxlRGVtVGlsZXM7aWYoMD09PWUubGVuZ3RoKXJldHVybiBudWxsO2xldCB0PSExLGk9TnVtYmVyLk1BWF9WQUxVRSxyPU51bWJlci5NSU5fVkFMVUU7Zm9yKGNvbnN0IG4gb2YgZSl7Y29uc3QgZT10aGlzLmdldE1pbk1heEZvclRpbGUobi50aWxlSUQpO2UmJihpPU1hdGgubWluKGksZS5taW4pLHI9TWF0aC5tYXgocixlLm1heCksdD0hMCk7fXJldHVybiB0P3ttaW46aSxtYXg6cn06bnVsbH19Y2xhc3MgSm17Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMuX2RlbVRpbGU9ZSx0aGlzLl9kZW09dGhpcy5fZGVtVGlsZS5kZW0sdGhpcy5fc2NhbGU9dCx0aGlzLl9vZmZzZXQ9aTt9c3RhdGljIGNyZWF0ZShlLHQsaSl7Y29uc3Qgcj1pfHxlLmZpbmRERU1UaWxlRm9yKHQpO2lmKCFyfHwhci5kZW0pcmV0dXJuO2NvbnN0IG49ci5kZW0sbz1yLnRpbGVJRCxzPTE8PHQuY2Fub25pY2FsLnotby5jYW5vbmljYWwuejtyZXR1cm4gbmV3IEptKHIsbi5kaW0vY3IvcyxbKHQuY2Fub25pY2FsLngvcy1vLmNhbm9uaWNhbC54KSpuLmRpbSwodC5jYW5vbmljYWwueS9zLW8uY2Fub25pY2FsLnkpKm4uZGltXSl9dGlsZUNvb3JkVG9QaXhlbChlLHQpe2NvbnN0IGk9dCp0aGlzLl9zY2FsZSt0aGlzLl9vZmZzZXRbMV0scj1NYXRoLmZsb29yKGUqdGhpcy5fc2NhbGUrdGhpcy5fb2Zmc2V0WzBdKSxuPU1hdGguZmxvb3IoaSk7cmV0dXJuIG5ldyB5KHIsbil9Z2V0RWxldmF0aW9uQXQoZSx0LGkscil7Y29uc3Qgbj1lKnRoaXMuX3NjYWxlK3RoaXMuX29mZnNldFswXSxvPXQqdGhpcy5fc2NhbGUrdGhpcy5fb2Zmc2V0WzFdLHM9TWF0aC5mbG9vcihuKSxhPU1hdGguZmxvb3IobyksbD10aGlzLl9kZW07cmV0dXJuIHI9ISFyLGk/S3IoS3IobC5nZXQocyxhLHIpLGwuZ2V0KHMsYSsxLHIpLG8tYSksS3IobC5nZXQocysxLGEsciksbC5nZXQocysxLGErMSxyKSxvLWEpLG4tcyk6bC5nZXQocyxhLHIpfWdldEVsZXZhdGlvbkF0UGl4ZWwoZSx0LGkpe3JldHVybiB0aGlzLl9kZW0uZ2V0KGUsdCwhIWkpfWdldE1ldGVyVG9ERU0oZSl7cmV0dXJuICgxPDx0aGlzLl9kZW1UaWxlLnRpbGVJRC5jYW5vbmljYWwueikqUWQoMSxlKSp0aGlzLl9kZW0uc3RyaWRlfX1jbGFzcyBRbXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMudGlsZUlEPWUsdGhpcy54PWUuY2Fub25pY2FsLngsdGhpcy55PWUuY2Fub25pY2FsLnksdGhpcy56PWUuY2Fub25pY2FsLnosdGhpcy5ncmlkPW5ldyBQcyhjciwxNiwwKSx0aGlzLmZlYXR1cmVJbmRleEFycmF5PW5ldyBtbCx0aGlzLnByb21vdGVJZD10O31pbnNlcnQoZSx0LGkscixuLG89MCl7Y29uc3Qgcz10aGlzLmZlYXR1cmVJbmRleEFycmF5Lmxlbmd0aDt0aGlzLmZlYXR1cmVJbmRleEFycmF5LmVtcGxhY2VCYWNrKGkscixuLG8pO2NvbnN0IGE9dGhpcy5ncmlkO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXtjb25zdCBpPXRbZV0scj1bMS8wLDEvMCwtMS8wLC0xLzBdO2ZvcihsZXQgZT0wO2U8aS5sZW5ndGg7ZSsrKXtjb25zdCB0PWlbZV07clswXT1NYXRoLm1pbihyWzBdLHQueCksclsxXT1NYXRoLm1pbihyWzFdLHQueSksclsyXT1NYXRoLm1heChyWzJdLHQueCksclszXT1NYXRoLm1heChyWzNdLHQueSk7fXJbMF08Y3ImJnJbMV08Y3ImJnJbMl0+PTAmJnJbM10+PTAmJmEuaW5zZXJ0KHMsclswXSxyWzFdLHJbMl0sclszXSk7fX1sb2FkVlRMYXllcnMoKXtpZighdGhpcy52dExheWVycyl7dGhpcy52dExheWVycz1uZXcgY20obmV3IGttKHRoaXMucmF3VGlsZURhdGEpKS5sYXllcnMsdGhpcy5zb3VyY2VMYXllckNvZGVyPW5ldyBkbSh0aGlzLnZ0TGF5ZXJzP09iamVjdC5rZXlzKHRoaXMudnRMYXllcnMpLnNvcnQoKTpbXCJfZ2VvanNvblRpbGVMYXllclwiXSksdGhpcy52dEZlYXR1cmVzPXt9O2Zvcihjb25zdCBlIGluIHRoaXMudnRMYXllcnMpdGhpcy52dEZlYXR1cmVzW2VdPVtdO31yZXR1cm4gdGhpcy52dExheWVyc31xdWVyeShlLHQsaSxyKXt0aGlzLmxvYWRWVExheWVycygpO2NvbnN0IG49ZS5wYXJhbXN8fHt9LG89Rm8obi5maWx0ZXIpLHM9ZS50aWxlUmVzdWx0LGE9ZS50cmFuc2Zvcm0sbD1zLmJ1ZmZlcmVkVGlsZXNwYWNlQm91bmRzLGM9dGhpcy5ncmlkLnF1ZXJ5KGwubWluLngsbC5taW4ueSxsLm1heC54LGwubWF4LnksKChlLHQsaSxyKT0+UHAocy5idWZmZXJlZFRpbGVzcGFjZUdlb21ldHJ5LGUsdCxpLHIpKSk7Yy5zb3J0KHRfKTtsZXQgaD1udWxsO2EuZWxldmF0aW9uJiZjLmxlbmd0aD4wJiYoaD1KbS5jcmVhdGUoYS5lbGV2YXRpb24sdGhpcy50aWxlSUQpKTtjb25zdCB1PXt9O2xldCBkO2ZvcihsZXQgYT0wO2E8Yy5sZW5ndGg7YSsrKXtjb25zdCBsPWNbYV07aWYobD09PWQpY29udGludWU7ZD1sO2NvbnN0IHA9dGhpcy5mZWF0dXJlSW5kZXhBcnJheS5nZXQobCk7bGV0IGY9bnVsbDt0aGlzLmxvYWRNYXRjaGluZ0ZlYXR1cmUodSxwLG8sbi5sYXllcnMsbi5hdmFpbGFibGVJbWFnZXMsdCxpLHIsKCh0LGkscixuPTApPT4oZnx8KGY9X3AodCx0aGlzLnRpbGVJRC5jYW5vbmljYWwsZS50aWxlVHJhbnNmb3JtKSksaS5xdWVyeUludGVyc2VjdHNGZWF0dXJlKHMsdCxyLGYsdGhpcy56LGUudHJhbnNmb3JtLGUucGl4ZWxQb3NNYXRyaXgsaCxuKSkpKTt9cmV0dXJuIHV9bG9hZE1hdGNoaW5nRmVhdHVyZShlLHQsaSxyLG4sbyxzLGEsbCl7Y29uc3R7ZmVhdHVyZUluZGV4OmMsYnVja2V0SW5kZXg6aCxzb3VyY2VMYXllckluZGV4OnUsbGF5b3V0VmVydGV4QXJyYXlPZmZzZXQ6ZH09dCxwPXRoaXMuYnVja2V0TGF5ZXJJRHNbaF07aWYociYmIWZ1bmN0aW9uKGUsdCl7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspaWYodC5pbmRleE9mKGVbaV0pPj0wKXJldHVybiAhMDtyZXR1cm4gITF9KHIscCkpcmV0dXJuO2NvbnN0IGY9dGhpcy5zb3VyY2VMYXllckNvZGVyLmRlY29kZSh1KSxtPXRoaXMudnRMYXllcnNbZl0uZmVhdHVyZShjKTtpZihpLm5lZWRHZW9tZXRyeSl7Y29uc3QgZT1ncChtLCEwKTtpZighaS5maWx0ZXIobmV3IG9hKHRoaXMudGlsZUlELm92ZXJzY2FsZWRaKSxlLHRoaXMudGlsZUlELmNhbm9uaWNhbCkpcmV0dXJufWVsc2UgaWYoIWkuZmlsdGVyKG5ldyBvYSh0aGlzLnRpbGVJRC5vdmVyc2NhbGVkWiksbSkpcmV0dXJuO2NvbnN0IF89dGhpcy5nZXRJZChtLGYpO2ZvcihsZXQgdD0wO3Q8cC5sZW5ndGg7dCsrKXtjb25zdCBpPXBbdF07aWYociYmci5pbmRleE9mKGkpPDApY29udGludWU7Y29uc3QgaD1vW2ldO2lmKCFoKWNvbnRpbnVlO2xldCB1PXt9O3ZvaWQgMCE9PV8mJmEmJih1PWEuZ2V0U3RhdGUoaC5zb3VyY2VMYXllcnx8XCJfZ2VvanNvblRpbGVMYXllclwiLF8pKTtjb25zdCBmPWsoe30sc1tpXSk7Zi5wYWludD1lXyhmLnBhaW50LGgucGFpbnQsbSx1LG4pLGYubGF5b3V0PWVfKGYubGF5b3V0LGgubGF5b3V0LG0sdSxuKTtjb25zdCBnPSFsfHxsKG0saCx1LGQpO2lmKCFnKWNvbnRpbnVlO2NvbnN0IHk9bmV3IEJtKG0sdGhpcy56LHRoaXMueCx0aGlzLnksXyk7eS5sYXllcj1mO2xldCB4PWVbaV07dm9pZCAwPT09eCYmKHg9ZVtpXT1bXSkseC5wdXNoKHtmZWF0dXJlSW5kZXg6YyxmZWF0dXJlOnksaW50ZXJzZWN0aW9uWjpnfSk7fX1sb29rdXBTeW1ib2xGZWF0dXJlcyhlLHQsaSxyLG4sbyxzLGEpe2NvbnN0IGw9e307dGhpcy5sb2FkVlRMYXllcnMoKTtjb25zdCBjPUZvKG4pO2Zvcihjb25zdCBuIG9mIGUpdGhpcy5sb2FkTWF0Y2hpbmdGZWF0dXJlKGwse2J1Y2tldEluZGV4Omksc291cmNlTGF5ZXJJbmRleDpyLGZlYXR1cmVJbmRleDpuLGxheW91dFZlcnRleEFycmF5T2Zmc2V0OjB9LGMsbyxzLGEsdCk7cmV0dXJuIGx9bG9hZEZlYXR1cmUoZSl7Y29uc3R7ZmVhdHVyZUluZGV4OnQsc291cmNlTGF5ZXJJbmRleDppfT1lO3RoaXMubG9hZFZUTGF5ZXJzKCk7Y29uc3Qgcj10aGlzLnNvdXJjZUxheWVyQ29kZXIuZGVjb2RlKGkpLG49dGhpcy52dEZlYXR1cmVzW3JdO2lmKG5bdF0pcmV0dXJuIG5bdF07Y29uc3Qgbz10aGlzLnZ0TGF5ZXJzW3JdLmZlYXR1cmUodCk7cmV0dXJuIG5bdF09byxvfWhhc0xheWVyKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuYnVja2V0TGF5ZXJJRHMpZm9yKGNvbnN0IGkgb2YgdClpZihlPT09aSlyZXR1cm4gITA7cmV0dXJuICExfWdldElkKGUsdCl7bGV0IGk9ZS5pZDtpZih0aGlzLnByb21vdGVJZCl7Y29uc3Qgcj1cInN0cmluZ1wiPT10eXBlb2YgdGhpcy5wcm9tb3RlSWQ/dGhpcy5wcm9tb3RlSWQ6dGhpcy5wcm9tb3RlSWRbdF07bnVsbCE9ciYmKGk9ZS5wcm9wZXJ0aWVzW3JdKSxcImJvb2xlYW5cIj09dHlwZW9mIGkmJihpPU51bWJlcihpKSk7fXJldHVybiBpfX1mdW5jdGlvbiBlXyhlLHQsaSxyLG4pe3JldHVybiBxKGUsKChlLG8pPT57Y29uc3Qgcz10IGluc3RhbmNlb2YgcGE/dC5nZXQobyk6bnVsbDtyZXR1cm4gcyYmcy5ldmFsdWF0ZT9zLmV2YWx1YXRlKGkscixuKTpzfSkpfWZ1bmN0aW9uIHRfKGUsdCl7cmV0dXJuIHQtZX1ScyhRbSxcIkZlYXR1cmVJbmRleFwiLHtvbWl0OltcInJhd1RpbGVEYXRhXCIsXCJzb3VyY2VMYXllckNvZGVyXCJdfSk7Y29uc3QgaV89SWEoW3tuYW1lOlwiYV9wb3Nfb2Zmc2V0XCIsY29tcG9uZW50czo0LHR5cGU6XCJJbnQxNlwifSx7bmFtZTpcImFfdGV4X3NpemVcIixjb21wb25lbnRzOjQsdHlwZTpcIlVpbnQxNlwifSx7bmFtZTpcImFfcGl4ZWxvZmZzZXRcIixjb21wb25lbnRzOjQsdHlwZTpcIkludDE2XCJ9XSw0KSxyXz1JYShbe25hbWU6XCJhX2dsb2JlX2FuY2hvclwiLGNvbXBvbmVudHM6Myx0eXBlOlwiSW50MTZcIn0se25hbWU6XCJhX2dsb2JlX25vcm1hbFwiLGNvbXBvbmVudHM6Myx0eXBlOlwiRmxvYXQzMlwifV0sNCksbl89SWEoW3tuYW1lOlwiYV9wcm9qZWN0ZWRfcG9zXCIsY29tcG9uZW50czo0LHR5cGU6XCJGbG9hdDMyXCJ9XSw0KTtJYShbe25hbWU6XCJhX2ZhZGVfb3BhY2l0eVwiLGNvbXBvbmVudHM6MSx0eXBlOlwiVWludDMyXCJ9XSw0KTtjb25zdCBvXz1JYShbe25hbWU6XCJhX3pfb2Zmc2V0XCIsY29tcG9uZW50czoxLHR5cGU6XCJGbG9hdDMyXCJ9XSw0KSxzXz1JYShbe25hbWU6XCJhX3RleGJcIixjb21wb25lbnRzOjIsdHlwZTpcIlVpbnQxNlwifV0pLGFfPUlhKFt7bmFtZTpcImFfcGxhY2VkXCIsY29tcG9uZW50czoyLHR5cGU6XCJVaW50OFwifSx7bmFtZTpcImFfc2hpZnRcIixjb21wb25lbnRzOjIsdHlwZTpcIkZsb2F0MzJcIn1dKSxsXz1JYShbe25hbWU6XCJhX3NpemVfc2NhbGVcIixjb21wb25lbnRzOjEsdHlwZTpcIkZsb2F0MzJcIn0se25hbWU6XCJhX3BhZGRpbmdcIixjb21wb25lbnRzOjIsdHlwZTpcIkZsb2F0MzJcIn0se25hbWU6XCJhX3pfb2Zmc2V0XCIsY29tcG9uZW50czoxLHR5cGU6XCJGbG9hdDMyXCJ9XSk7SWEoW3t0eXBlOlwiSW50MTZcIixuYW1lOlwicHJvamVjdGVkQW5jaG9yWFwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInByb2plY3RlZEFuY2hvcllcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJwcm9qZWN0ZWRBbmNob3JaXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwidGlsZUFuY2hvclhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJ0aWxlQW5jaG9yWVwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwieDFcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcInkxXCJ9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJ4MlwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwieTJcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJwYWRkaW5nXCJ9LHt0eXBlOlwiVWludDMyXCIsbmFtZTpcImZlYXR1cmVJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJzb3VyY2VMYXllckluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcImJ1Y2tldEluZGV4XCJ9XSk7Y29uc3QgY189SWEoW3tuYW1lOlwiYV9wb3NcIixjb21wb25lbnRzOjMsdHlwZTpcIkludDE2XCJ9LHtuYW1lOlwiYV9hbmNob3JfcG9zXCIsY29tcG9uZW50czoyLHR5cGU6XCJJbnQxNlwifSx7bmFtZTpcImFfZXh0cnVkZVwiLGNvbXBvbmVudHM6Mix0eXBlOlwiSW50MTZcIn1dLDQpLGhfPUlhKFt7bmFtZTpcImFfcG9zXzJmXCIsY29tcG9uZW50czoyLHR5cGU6XCJGbG9hdDMyXCJ9LHtuYW1lOlwiYV9yYWRpdXNcIixjb21wb25lbnRzOjEsdHlwZTpcIkZsb2F0MzJcIn0se25hbWU6XCJhX2ZsYWdzXCIsY29tcG9uZW50czoyLHR5cGU6XCJJbnQxNlwifV0sNCk7SWEoW3tuYW1lOlwidHJpYW5nbGVcIixjb21wb25lbnRzOjMsdHlwZTpcIlVpbnQxNlwifV0pLElhKFt7dHlwZTpcIkludDE2XCIsbmFtZTpcInByb2plY3RlZEFuY2hvclhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJwcm9qZWN0ZWRBbmNob3JZXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwicHJvamVjdGVkQW5jaG9yWlwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwidGlsZUFuY2hvclhcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcInRpbGVBbmNob3JZXCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcImdseXBoU3RhcnRJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJudW1HbHlwaHNcIn0se3R5cGU6XCJVaW50MzJcIixuYW1lOlwidmVydGV4U3RhcnRJbmRleFwifSx7dHlwZTpcIlVpbnQzMlwiLG5hbWU6XCJsaW5lU3RhcnRJbmRleFwifSx7dHlwZTpcIlVpbnQzMlwiLG5hbWU6XCJsaW5lTGVuZ3RoXCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInNlZ21lbnRcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwibG93ZXJTaXplXCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInVwcGVyU2l6ZVwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwibGluZU9mZnNldFhcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcImxpbmVPZmZzZXRZXCJ9LHt0eXBlOlwiVWludDhcIixuYW1lOlwid3JpdGluZ01vZGVcIn0se3R5cGU6XCJVaW50OFwiLG5hbWU6XCJwbGFjZWRPcmllbnRhdGlvblwifSx7dHlwZTpcIlVpbnQ4XCIsbmFtZTpcImhpZGRlblwifSx7dHlwZTpcIlVpbnQzMlwiLG5hbWU6XCJjcm9zc1RpbGVJRFwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcImFzc29jaWF0ZWRJY29uSW5kZXhcIn0se3R5cGU6XCJVaW50OFwiLG5hbWU6XCJmbGlwU3RhdGVcIn1dKSxJYShbe3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcInRpbGVBbmNob3JYXCJ9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJ0aWxlQW5jaG9yWVwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInByb2plY3RlZEFuY2hvclhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJwcm9qZWN0ZWRBbmNob3JZXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwicHJvamVjdGVkQW5jaG9yWlwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInJpZ2h0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4XCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwiY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4XCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwibGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleFwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4XCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwicGxhY2VkSWNvblN5bWJvbEluZGV4XCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwidmVydGljYWxQbGFjZWRJY29uU3ltYm9sSW5kZXhcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwia2V5XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInRleHRCb3hTdGFydEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInRleHRCb3hFbmRJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJ2ZXJ0aWNhbFRleHRCb3hTdGFydEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInZlcnRpY2FsVGV4dEJveEVuZEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcImljb25Cb3hTdGFydEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcImljb25Cb3hFbmRJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJ2ZXJ0aWNhbEljb25Cb3hTdGFydEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInZlcnRpY2FsSWNvbkJveEVuZEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcImZlYXR1cmVJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJudW1Ib3Jpem9udGFsR2x5cGhWZXJ0aWNlc1wifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJudW1WZXJ0aWNhbEdseXBoVmVydGljZXNcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwibnVtSWNvblZlcnRpY2VzXCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcIm51bVZlcnRpY2FsSWNvblZlcnRpY2VzXCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInVzZVJ1bnRpbWVDb2xsaXNpb25DaXJjbGVzXCJ9LHt0eXBlOlwiVWludDMyXCIsbmFtZTpcImNyb3NzVGlsZUlEXCJ9LHt0eXBlOlwiRmxvYXQzMlwiLGNvbXBvbmVudHM6MixuYW1lOlwidGV4dE9mZnNldFwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwiY29sbGlzaW9uQ2lyY2xlRGlhbWV0ZXJcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcInpPZmZzZXRcIn0se3R5cGU6XCJVaW50OFwiLG5hbWU6XCJoYXNJY29uVGV4dEZpdFwifV0pLElhKFt7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwib2Zmc2V0WFwifV0pLElhKFt7dHlwZTpcIkludDE2XCIsbmFtZTpcInhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJ5XCJ9XSk7dmFyIHVfPTI0O2NvbnN0IGRfPTEyODtmdW5jdGlvbiBwXyhlLHQpe2NvbnN0e2V4cHJlc3Npb246aX09dDtpZihcImNvbnN0YW50XCI9PT1pLmtpbmQpcmV0dXJuIHtraW5kOlwiY29uc3RhbnRcIixsYXlvdXRTaXplOmkuZXZhbHVhdGUobmV3IG9hKGUrMSkpfTtpZihcInNvdXJjZVwiPT09aS5raW5kKXJldHVybiB7a2luZDpcInNvdXJjZVwifTt7Y29uc3R7em9vbVN0b3BzOnQsaW50ZXJwb2xhdGlvblR5cGU6cn09aTtsZXQgbj0wO2Zvcig7bjx0Lmxlbmd0aCYmdFtuXTw9ZTspbisrO249TWF0aC5tYXgoMCxuLTEpO2xldCBvPW47Zm9yKDtvPHQubGVuZ3RoJiZ0W29dPGUrMTspbysrO289TWF0aC5taW4odC5sZW5ndGgtMSxvKTtjb25zdCBzPXRbbl0sYT10W29dO3JldHVybiBcImNvbXBvc2l0ZVwiPT09aS5raW5kP3traW5kOlwiY29tcG9zaXRlXCIsbWluWm9vbTpzLG1heFpvb206YSxpbnRlcnBvbGF0aW9uVHlwZTpyfTp7a2luZDpcImNhbWVyYVwiLG1pblpvb206cyxtYXhab29tOmEsbWluU2l6ZTppLmV2YWx1YXRlKG5ldyBvYShzKSksbWF4U2l6ZTppLmV2YWx1YXRlKG5ldyBvYShhKSksaW50ZXJwb2xhdGlvblR5cGU6cn19fWZ1bmN0aW9uIGZfKGUse3VTaXplOnQsdVNpemVUOml9LHtsb3dlclNpemU6cix1cHBlclNpemU6bn0pe3JldHVybiBcInNvdXJjZVwiPT09ZS5raW5kP3IvZF86XCJjb21wb3NpdGVcIj09PWUua2luZD9LcihyL2RfLG4vZF8saSk6dH1mdW5jdGlvbiBtXyhlLHQpe2xldCBpPTAscj0wO2lmKFwiY29uc3RhbnRcIj09PWUua2luZClyPWUubGF5b3V0U2l6ZTtlbHNlIGlmKFwic291cmNlXCIhPT1lLmtpbmQpe2NvbnN0e2ludGVycG9sYXRpb25UeXBlOm4sbWluWm9vbTpvLG1heFpvb206c309ZSxhPW4/eihibi5pbnRlcnBvbGF0aW9uRmFjdG9yKG4sdCxvLHMpLDAsMSk6MDtcImNhbWVyYVwiPT09ZS5raW5kP3I9S3IoZS5taW5TaXplLGUubWF4U2l6ZSxhKTppPWE7fXJldHVybiB7dVNpemVUOmksdVNpemU6cn19dmFyIF9fPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLFNJWkVfUEFDS19GQUNUT1I6ZF8sZXZhbHVhdGVTaXplRm9yRmVhdHVyZTpmXyxldmFsdWF0ZVNpemVGb3Jab29tOm1fLGdldFNpemVEYXRhOnBffSk7ZnVuY3Rpb24gZ18oZSx0LGkpe3JldHVybiBlLnNlY3Rpb25zLmZvckVhY2goKGU9PntlLnRleHQ9ZnVuY3Rpb24oZSx0LGkpe2NvbnN0IHI9dC5sYXlvdXQuZ2V0KFwidGV4dC10cmFuc2Zvcm1cIikuZXZhbHVhdGUoaSx7fSk7cmV0dXJuIFwidXBwZXJjYXNlXCI9PT1yP2U9ZS50b0xvY2FsZVVwcGVyQ2FzZSgpOlwibG93ZXJjYXNlXCI9PT1yJiYoZT1lLnRvTG9jYWxlTG93ZXJDYXNlKCkpLG5hLmFwcGx5QXJhYmljU2hhcGluZyYmKGU9bmEuYXBwbHlBcmFiaWNTaGFwaW5nKGUpKSxlfShlLnRleHQsdCxpKTt9KSksZX1jb25zdCB5Xz17XCIhXCI6XCLvuJVcIixcIiNcIjpcIu+8g1wiLCQ6XCLvvIRcIixcIiVcIjpcIu+8hVwiLFwiJlwiOlwi77yGXCIsXCIoXCI6XCLvuLVcIixcIilcIjpcIu+4tlwiLFwiKlwiOlwi77yKXCIsXCIrXCI6XCLvvItcIixcIixcIjpcIu+4kFwiLFwiLVwiOlwi77iyXCIsXCIuXCI6XCLjg7tcIixcIi9cIjpcIu+8j1wiLFwiOlwiOlwi77iTXCIsXCI7XCI6XCLvuJRcIixcIjxcIjpcIu+4v1wiLFwiPVwiOlwi77ydXCIsXCI+XCI6XCLvuYBcIixcIj9cIjpcIu+4llwiLFwiQFwiOlwi77ygXCIsXCJbXCI6XCLvuYdcIixcIlxcXFxcIjpcIu+8vFwiLFwiXVwiOlwi77mIXCIsXCJeXCI6XCLvvL5cIixfOlwi77izXCIsXCJgXCI6XCLvvYBcIixcIntcIjpcIu+4t1wiLFwifFwiOlwi4oCVXCIsXCJ9XCI6XCLvuLhcIixcIn5cIjpcIu+9nlwiLFwiwqJcIjpcIu+/oFwiLFwiwqNcIjpcIu+/oVwiLFwiwqVcIjpcIu+/pVwiLFwiwqZcIjpcIu+/pFwiLFwiwqxcIjpcIu+/olwiLFwiwq9cIjpcIu+/o1wiLFwi4oCTXCI6XCLvuLJcIixcIuKAlFwiOlwi77ixXCIsXCLigJhcIjpcIu+5g1wiLFwi4oCZXCI6XCLvuYRcIixcIuKAnFwiOlwi77mBXCIsXCLigJ1cIjpcIu+5glwiLFwi4oCmXCI6XCLvuJlcIixcIuKAp1wiOlwi44O7XCIsXCLigqlcIjpcIu+/plwiLFwi44CBXCI6XCLvuJFcIixcIuOAglwiOlwi77iSXCIsXCLjgIhcIjpcIu+4v1wiLFwi44CJXCI6XCLvuYBcIixcIuOAilwiOlwi77i9XCIsXCLjgItcIjpcIu+4vlwiLFwi44CMXCI6XCLvuYFcIixcIuOAjVwiOlwi77mCXCIsXCLjgI5cIjpcIu+5g1wiLFwi44CPXCI6XCLvuYRcIixcIuOAkFwiOlwi77i7XCIsXCLjgJFcIjpcIu+4vFwiLFwi44CUXCI6XCLvuLlcIixcIuOAlVwiOlwi77i6XCIsXCLjgJZcIjpcIu+4l1wiLFwi44CXXCI6XCLvuJhcIixcIu+8gVwiOlwi77iVXCIsXCLvvIhcIjpcIu+4tVwiLFwi77yJXCI6XCLvuLZcIixcIu+8jFwiOlwi77iQXCIsXCLvvI1cIjpcIu+4slwiLFwi77yOXCI6XCLjg7tcIixcIu+8mlwiOlwi77iTXCIsXCLvvJtcIjpcIu+4lFwiLFwi77ycXCI6XCLvuL9cIixcIu+8nlwiOlwi77mAXCIsXCLvvJ9cIjpcIu+4llwiLFwi77y7XCI6XCLvuYdcIixcIu+8vVwiOlwi77mIXCIsXCLvvL9cIjpcIu+4s1wiLFwi772bXCI6XCLvuLdcIixcIu+9nFwiOlwi4oCVXCIsXCLvvZ1cIjpcIu+4uFwiLFwi772fXCI6XCLvuLVcIixcIu+9oFwiOlwi77i2XCIsXCLvvaFcIjpcIu+4klwiLFwi772iXCI6XCLvuYFcIixcIu+9o1wiOlwi77mCXCIsXCLihpBcIjpcIuKGkVwiLFwi4oaSXCI6XCLihpNcIn07ZnVuY3Rpb24geF8oZSl7cmV0dXJuIFwi77i2XCI9PT1lfHxcIu+5iFwiPT09ZXx8XCLvuLhcIj09PWV8fFwi77mEXCI9PT1lfHxcIu+5glwiPT09ZXx8XCLvuL5cIj09PWV8fFwi77i8XCI9PT1lfHxcIu+4ulwiPT09ZXx8XCLvuJhcIj09PWV8fFwi77mAXCI9PT1lfHxcIu+4kFwiPT09ZXx8XCLvuJNcIj09PWV8fFwi77iUXCI9PT1lfHxcIu+9gFwiPT09ZXx8XCLvv6NcIj09PWV8fFwi77iRXCI9PT1lfHxcIu+4klwiPT09ZX1mdW5jdGlvbiB2XyhlKXtyZXR1cm4gXCLvuLVcIj09PWV8fFwi77mHXCI9PT1lfHxcIu+4t1wiPT09ZXx8XCLvuYNcIj09PWV8fFwi77mBXCI9PT1lfHxcIu+4vVwiPT09ZXx8XCLvuLtcIj09PWV8fFwi77i5XCI9PT1lfHxcIu+4l1wiPT09ZXx8XCLvuL9cIj09PWV9Y29uc3QgYl89MztmdW5jdGlvbiB3XyhlLHQsaSl7dC5nbHlwaHM9W10sMT09PWUmJmkucmVhZE1lc3NhZ2UoVF8sdCk7fWZ1bmN0aW9uIFRfKGUsdCxpKXtpZigzPT09ZSl7Y29uc3R7aWQ6ZSxiaXRtYXA6cix3aWR0aDpuLGhlaWdodDpvLGxlZnQ6cyx0b3A6YSxhZHZhbmNlOmx9PWkucmVhZE1lc3NhZ2UoRV8se30pO3QuZ2x5cGhzLnB1c2goe2lkOmUsYml0bWFwOm5ldyBRcCh7d2lkdGg6bisyKmJfLGhlaWdodDpvKzIqYl99LHIpLG1ldHJpY3M6e3dpZHRoOm4saGVpZ2h0Om8sbGVmdDpzLHRvcDphLGFkdmFuY2U6bH19KTt9ZWxzZSA0PT09ZT90LmFzY2VuZGVyPWkucmVhZFNWYXJpbnQoKTo1PT09ZSYmKHQuZGVzY2VuZGVyPWkucmVhZFNWYXJpbnQoKSk7fWZ1bmN0aW9uIEVfKGUsdCxpKXsxPT09ZT90LmlkPWkucmVhZFZhcmludCgpOjI9PT1lP3QuYml0bWFwPWkucmVhZEJ5dGVzKCk6Mz09PWU/dC53aWR0aD1pLnJlYWRWYXJpbnQoKTo0PT09ZT90LmhlaWdodD1pLnJlYWRWYXJpbnQoKTo1PT09ZT90LmxlZnQ9aS5yZWFkU1ZhcmludCgpOjY9PT1lP3QudG9wPWkucmVhZFNWYXJpbnQoKTo3PT09ZSYmKHQuYWR2YW5jZT1pLnJlYWRWYXJpbnQoKSk7fWNvbnN0IE1fPWJfLEFfPXtob3Jpem9udGFsOjEsdmVydGljYWw6Mixob3Jpem9udGFsT25seTozfSxTXz0tMTc7Y2xhc3MgSV97Y29uc3RydWN0b3IoKXt0aGlzLnNjYWxlPTEsdGhpcy5mb250U3RhY2s9XCJcIix0aGlzLmltYWdlTmFtZT1udWxsO31zdGF0aWMgZm9yVGV4dChlLHQpe2NvbnN0IGk9bmV3IElfO3JldHVybiBpLnNjYWxlPWV8fDEsaS5mb250U3RhY2s9dCxpfXN0YXRpYyBmb3JJbWFnZShlKXtjb25zdCB0PW5ldyBJXztyZXR1cm4gdC5pbWFnZU5hbWU9ZSx0fX1jbGFzcyBDX3tjb25zdHJ1Y3Rvcigpe3RoaXMudGV4dD1cIlwiLHRoaXMuc2VjdGlvbkluZGV4PVtdLHRoaXMuc2VjdGlvbnM9W10sdGhpcy5pbWFnZVNlY3Rpb25JRD1udWxsO31zdGF0aWMgZnJvbUZlYXR1cmUoZSx0KXtjb25zdCBpPW5ldyBDXztmb3IobGV0IHI9MDtyPGUuc2VjdGlvbnMubGVuZ3RoO3IrKyl7Y29uc3Qgbj1lLnNlY3Rpb25zW3JdO24uaW1hZ2U/aS5hZGRJbWFnZVNlY3Rpb24obik6aS5hZGRUZXh0U2VjdGlvbihuLHQpO31yZXR1cm4gaX1sZW5ndGgoKXtyZXR1cm4gdGhpcy50ZXh0Lmxlbmd0aH1nZXRTZWN0aW9uKGUpe3JldHVybiB0aGlzLnNlY3Rpb25zW3RoaXMuc2VjdGlvbkluZGV4W2VdXX1nZXRTZWN0aW9ucygpe3JldHVybiB0aGlzLnNlY3Rpb25zfWdldFNlY3Rpb25JbmRleChlKXtyZXR1cm4gdGhpcy5zZWN0aW9uSW5kZXhbZV19Z2V0Q29kZVBvaW50KGUpe3JldHVybiB0aGlzLnRleHQuY29kZVBvaW50QXQoZSl9dmVydGljYWxpemVQdW5jdHVhdGlvbihlKXt0aGlzLnRleHQ9ZnVuY3Rpb24oZSx0KXtsZXQgaT1cIlwiO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKXtjb25zdCBuPWUuY2hhckNvZGVBdChyKzEpfHxudWxsLG89ZS5jaGFyQ29kZUF0KHItMSl8fG51bGw7aSs9IXQmJihuJiZHcyhuKSYmIXlfW2VbcisxXV18fG8mJkdzKG8pJiYheV9bZVtyLTFdXSl8fCF5X1tlW3JdXT9lW3JdOnlfW2Vbcl1dO31yZXR1cm4gaX0odGhpcy50ZXh0LGUpO310cmltKCl7bGV0IGU9MDtmb3IobGV0IHQ9MDt0PHRoaXMudGV4dC5sZW5ndGgmJlBfW3RoaXMudGV4dC5jaGFyQ29kZUF0KHQpXTt0KyspZSsrO2xldCB0PXRoaXMudGV4dC5sZW5ndGg7Zm9yKGxldCBpPXRoaXMudGV4dC5sZW5ndGgtMTtpPj0wJiZpPj1lJiZQX1t0aGlzLnRleHQuY2hhckNvZGVBdChpKV07aS0tKXQtLTt0aGlzLnRleHQ9dGhpcy50ZXh0LnN1YnN0cmluZyhlLHQpLHRoaXMuc2VjdGlvbkluZGV4PXRoaXMuc2VjdGlvbkluZGV4LnNsaWNlKGUsdCk7fXN1YnN0cmluZyhlLHQpe2NvbnN0IGk9bmV3IENfO3JldHVybiBpLnRleHQ9dGhpcy50ZXh0LnN1YnN0cmluZyhlLHQpLGkuc2VjdGlvbkluZGV4PXRoaXMuc2VjdGlvbkluZGV4LnNsaWNlKGUsdCksaS5zZWN0aW9ucz10aGlzLnNlY3Rpb25zLGl9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy50ZXh0fWdldE1heFNjYWxlKCl7cmV0dXJuIHRoaXMuc2VjdGlvbkluZGV4LnJlZHVjZSgoKGUsdCk9Pk1hdGgubWF4KGUsdGhpcy5zZWN0aW9uc1t0XS5zY2FsZSkpLDApfWFkZFRleHRTZWN0aW9uKGUsdCl7dGhpcy50ZXh0Kz1lLnRleHQsdGhpcy5zZWN0aW9ucy5wdXNoKElfLmZvclRleHQoZS5zY2FsZSxlLmZvbnRTdGFja3x8dCkpO2NvbnN0IGk9dGhpcy5zZWN0aW9ucy5sZW5ndGgtMTtmb3IobGV0IHQ9MDt0PGUudGV4dC5sZW5ndGg7Kyt0KXRoaXMuc2VjdGlvbkluZGV4LnB1c2goaSk7fWFkZEltYWdlU2VjdGlvbihlKXtjb25zdCB0PWUuaW1hZ2U/ZS5pbWFnZS5uYW1lUHJpbWFyeTpcIlwiO2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gdm9pZCBIKFwiQ2FuJ3QgYWRkIEZvcm1hdHRlZFNlY3Rpb24gd2l0aCBhbiBlbXB0eSBpbWFnZS5cIik7Y29uc3QgaT10aGlzLmdldE5leHRJbWFnZVNlY3Rpb25DaGFyQ29kZSgpO2k/KHRoaXMudGV4dCs9U3RyaW5nLmZyb21Db2RlUG9pbnQoaSksdGhpcy5zZWN0aW9ucy5wdXNoKElfLmZvckltYWdlKHQpKSx0aGlzLnNlY3Rpb25JbmRleC5wdXNoKHRoaXMuc2VjdGlvbnMubGVuZ3RoLTEpKTpIKFwiUmVhY2hlZCBtYXhpbXVtIG51bWJlciBvZiBpbWFnZXMgNjQwMVwiKTt9Z2V0TmV4dEltYWdlU2VjdGlvbkNoYXJDb2RlKCl7cmV0dXJuIHRoaXMuaW1hZ2VTZWN0aW9uSUQ/dGhpcy5pbWFnZVNlY3Rpb25JRD49NjM3NDM/bnVsbDorK3RoaXMuaW1hZ2VTZWN0aW9uSUQ6KHRoaXMuaW1hZ2VTZWN0aW9uSUQ9NTczNDQsdGhpcy5pbWFnZVNlY3Rpb25JRCl9fWZ1bmN0aW9uIHpfKGUsdCxpLHIsbixvLHMsYSxsLGMsaCx1LGQscCxmKXtjb25zdCBtPUNfLmZyb21GZWF0dXJlKGUsbik7dT09PUFfLnZlcnRpY2FsJiZtLnZlcnRpY2FsaXplUHVuY3R1YXRpb24oZCk7bGV0IF89W107Y29uc3QgZz1mdW5jdGlvbihlLHQsaSxyLG4sbyl7aWYoIWUpcmV0dXJuIFtdO2NvbnN0IHM9W10sYT1mdW5jdGlvbihlLHQsaSxyLG4sbyl7bGV0IHM9MDtmb3IobGV0IGk9MDtpPGUubGVuZ3RoKCk7aSsrKXtjb25zdCBhPWUuZ2V0U2VjdGlvbihpKTtzKz1SXyhlLmdldENvZGVQb2ludChpKSxhLHIsbix0LG8pO31yZXR1cm4gcy9NYXRoLm1heCgxLE1hdGguY2VpbChzL2kpKX0oZSx0LGkscixuLG8pLGw9ZS50ZXh0LmluZGV4T2YoXCLigItcIik+PTA7bGV0IGM9MDtmb3IobGV0IGk9MDtpPGUubGVuZ3RoKCk7aSsrKXtjb25zdCB1PWUuZ2V0U2VjdGlvbihpKSxkPWUuZ2V0Q29kZVBvaW50KGkpO2lmKFBfW2RdfHwoYys9Ul8oZCx1LHIsbix0LG8pKSxpPGUubGVuZ3RoKCktMSl7Y29uc3QgdD0hKChoPWQpPDExOTA0fHwhKEZzW1wiQm9wb21vZm8gRXh0ZW5kZWRcIl0oaCl8fEZzLkJvcG9tb2ZvKGgpfHxGc1tcIkNKSyBDb21wYXRpYmlsaXR5IEZvcm1zXCJdKGgpfHxGc1tcIkNKSyBDb21wYXRpYmlsaXR5IElkZW9ncmFwaHNcIl0oaCl8fEZzW1wiQ0pLIENvbXBhdGliaWxpdHlcIl0oaCl8fEZzW1wiQ0pLIFJhZGljYWxzIFN1cHBsZW1lbnRcIl0oaCl8fEZzW1wiQ0pLIFN0cm9rZXNcIl0oaCl8fEZzW1wiQ0pLIFN5bWJvbHMgYW5kIFB1bmN0dWF0aW9uXCJdKGgpfHxGc1tcIkNKSyBVbmlmaWVkIElkZW9ncmFwaHMgRXh0ZW5zaW9uIEFcIl0oaCl8fEZzW1wiQ0pLIFVuaWZpZWQgSWRlb2dyYXBoc1wiXShoKXx8RnNbXCJFbmNsb3NlZCBDSksgTGV0dGVycyBhbmQgTW9udGhzXCJdKGgpfHxGc1tcIkhhbGZ3aWR0aCBhbmQgRnVsbHdpZHRoIEZvcm1zXCJdKGgpfHxGcy5IaXJhZ2FuYShoKXx8RnNbXCJJZGVvZ3JhcGhpYyBEZXNjcmlwdGlvbiBDaGFyYWN0ZXJzXCJdKGgpfHxGc1tcIkthbmd4aSBSYWRpY2Fsc1wiXShoKXx8RnNbXCJLYXRha2FuYSBQaG9uZXRpYyBFeHRlbnNpb25zXCJdKGgpfHxGcy5LYXRha2FuYShoKXx8RnNbXCJWZXJ0aWNhbCBGb3Jtc1wiXShoKXx8RnNbXCJZaSBSYWRpY2Fsc1wiXShoKXx8RnNbXCJZaSBTeWxsYWJsZXNcIl0oaCkpKTsoRF9bZF18fHR8fHUuaW1hZ2VOYW1lKSYmcy5wdXNoKE9fKGkrMSxjLGEscyxrXyhkLGUuZ2V0Q29kZVBvaW50KGkrMSksdCYmbCksITEpKTt9fXZhciBoO3JldHVybiBCXyhPXyhlLmxlbmd0aCgpLGMsYSxzLDAsITApKX0obSxjLG8sdCxyLHApLHtwcm9jZXNzQmlkaXJlY3Rpb25hbFRleHQ6eSxwcm9jZXNzU3R5bGVkQmlkaXJlY3Rpb25hbFRleHQ6eH09bmE7aWYoeSYmMT09PW0uc2VjdGlvbnMubGVuZ3RoKXtjb25zdCBlPXkobS50b1N0cmluZygpLGcpO2Zvcihjb25zdCB0IG9mIGUpe2NvbnN0IGU9bmV3IENfO2UudGV4dD10LGUuc2VjdGlvbnM9bS5zZWN0aW9ucztmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyllLnNlY3Rpb25JbmRleC5wdXNoKDApO18ucHVzaChlKTt9fWVsc2UgaWYoeCl7Y29uc3QgZT14KG0udGV4dCxtLnNlY3Rpb25JbmRleCxnKTtmb3IoY29uc3QgdCBvZiBlKXtjb25zdCBlPW5ldyBDXztlLnRleHQ9dFswXSxlLnNlY3Rpb25JbmRleD10WzFdLGUuc2VjdGlvbnM9bS5zZWN0aW9ucyxfLnB1c2goZSk7fX1lbHNlIF89ZnVuY3Rpb24oZSx0KXtjb25zdCBpPVtdLHI9ZS50ZXh0O2xldCBuPTA7Zm9yKGNvbnN0IHIgb2YgdClpLnB1c2goZS5zdWJzdHJpbmcobixyKSksbj1yO3JldHVybiBuPHIubGVuZ3RoJiZpLnB1c2goZS5zdWJzdHJpbmcobixyLmxlbmd0aCkpLGl9KG0sZyk7Y29uc3Qgdj1bXSxiPXtwb3NpdGlvbmVkTGluZXM6dix0ZXh0Om0udG9TdHJpbmcoKSx0b3A6aFsxXSxib3R0b206aFsxXSxsZWZ0OmhbMF0scmlnaHQ6aFswXSx3cml0aW5nTW9kZTp1LGljb25zSW5UZXh0OiExLHZlcnRpY2FsaXphYmxlOiExLGhhc0Jhc2VsaW5lOiExfTtyZXR1cm4gZnVuY3Rpb24oZSx0LGkscixuLG8scyxhLGwsYyxoLHUpe2xldCBkPTAscD0wLGY9MDtjb25zdCBtPVwicmlnaHRcIj09PWE/MTpcImxlZnRcIj09PWE/MDouNTtsZXQgXz0hMTtmb3IoY29uc3QgZSBvZiBuKXtjb25zdCBpPWUuZ2V0U2VjdGlvbnMoKTtmb3IoY29uc3QgZSBvZiBpKXtpZihlLmltYWdlTmFtZSljb250aW51ZTtjb25zdCBpPXRbZS5mb250U3RhY2tdO2lmKGkmJihfPXZvaWQgMCE9PWkuYXNjZW5kZXImJnZvaWQgMCE9PWkuZGVzY2VuZGVyLCFfKSlicmVha31pZighXylicmVha31sZXQgZz0wO2Zvcihjb25zdCBzIG9mIG4pe3MudHJpbSgpO2NvbnN0IG49cy5nZXRNYXhTY2FsZSgpLGE9KG4tMSkqdV8seD17cG9zaXRpb25lZEdseXBoczpbXSxsaW5lT2Zmc2V0OjB9O2UucG9zaXRpb25lZExpbmVzW2ddPXg7Y29uc3Qgdj14LnBvc2l0aW9uZWRHbHlwaHM7bGV0IGI9MDtpZighcy5sZW5ndGgoKSl7cCs9bywrK2c7Y29udGludWV9bGV0IHc9MCxUPTA7Zm9yKGxldCBvPTA7bzxzLmxlbmd0aCgpO28rKyl7Y29uc3QgYT1zLmdldFNlY3Rpb24obyksZj1zLmdldFNlY3Rpb25JbmRleChvKSxtPXMuZ2V0Q29kZVBvaW50KG8pO2xldCBnPWEuc2NhbGUseD1udWxsLEU9bnVsbCxNPW51bGwsQT11XyxTPTA7Y29uc3QgST0hKGw9PT1BXy5ob3Jpem9udGFsfHwhaCYmIWpzKG0pfHxoJiYoUF9bbV18fCh5PW0sRnMuQXJhYmljKHkpfHxGc1tcIkFyYWJpYyBTdXBwbGVtZW50XCJdKHkpfHxGc1tcIkFyYWJpYyBFeHRlbmRlZC1BXCJdKHkpfHxGc1tcIkFyYWJpYyBQcmVzZW50YXRpb24gRm9ybXMtQVwiXSh5KXx8RnNbXCJBcmFiaWMgUHJlc2VudGF0aW9uIEZvcm1zLUJcIl0oeSkpKSk7aWYoYS5pbWFnZU5hbWUpe2NvbnN0IHQ9clthLmltYWdlTmFtZV07aWYoIXQpY29udGludWU7TT1hLmltYWdlTmFtZSxlLmljb25zSW5UZXh0PWUuaWNvbnNJblRleHR8fCEwLEU9dC5wYWRkZWRSZWN0O2NvbnN0IGk9dC5kaXNwbGF5U2l6ZTtnPWcqdV8vdSx4PXt3aWR0aDppWzBdLGhlaWdodDppWzFdLGxlZnQ6MCx0b3A6LU1fLGFkdmFuY2U6ST9pWzFdOmlbMF0sbG9jYWxHbHlwaDohMX0sUz1fPy14LmhlaWdodCpnOlNfK24qdV8taVsxXSpnLEE9eC5hZHZhbmNlO2NvbnN0IG89KEk/aVswXTppWzFdKSpnLXVfKm47bz4wJiZvPmImJihiPW8pO31lbHNlIHtjb25zdCBlPWlbYS5mb250U3RhY2tdO2lmKCFlKWNvbnRpbnVlO2VbbV0mJihFPWVbbV0pO2NvbnN0IHI9dFthLmZvbnRTdGFja107aWYoIXIpY29udGludWU7Y29uc3Qgbz1yLmdseXBoc1ttXTtpZighbyljb250aW51ZTtpZih4PW8ubWV0cmljcyxBPTgyMDMhPT1tP3VfOjAsXyl7Y29uc3QgZT12b2lkIDAhPT1yLmFzY2VuZGVyP01hdGguYWJzKHIuYXNjZW5kZXIpOjAsdD12b2lkIDAhPT1yLmRlc2NlbmRlcj9NYXRoLmFicyhyLmRlc2NlbmRlcik6MCxpPShlK3QpKmc7dzxpJiYodz1pLFQ9KGUtdCkvMipnKSxTPS1lKmc7fWVsc2UgUz1TXysobi1nKSp1Xzt9ST8oZS52ZXJ0aWNhbGl6YWJsZT0hMCx2LnB1c2goe2dseXBoOm0saW1hZ2VOYW1lOk0seDpkLHk6cCtTLHZlcnRpY2FsOkksc2NhbGU6Zyxsb2NhbEdseXBoOngubG9jYWxHbHlwaCxmb250U3RhY2s6YS5mb250U3RhY2ssc2VjdGlvbkluZGV4OmYsbWV0cmljczp4LHJlY3Q6RX0pLGQrPUEqZytjKToodi5wdXNoKHtnbHlwaDptLGltYWdlTmFtZTpNLHg6ZCx5OnArUyx2ZXJ0aWNhbDpJLHNjYWxlOmcsbG9jYWxHbHlwaDp4LmxvY2FsR2x5cGgsZm9udFN0YWNrOmEuZm9udFN0YWNrLHNlY3Rpb25JbmRleDpmLG1ldHJpY3M6eCxyZWN0OkV9KSxkKz14LmFkdmFuY2UqZytjKTt9MCE9PXYubGVuZ3RoJiYoZj1NYXRoLm1heChkLWMsZiksXz9OXyh2LG0sYixULG8qbi8yKTpOXyh2LG0sYiwwLG8vMikpLGQ9MDtjb25zdCBFPW8qbitiO3gubGluZU9mZnNldD1NYXRoLm1heChiLGEpLHArPUUsKytnO312YXIgeTtjb25zdCB4PXAse2hvcml6b250YWxBbGlnbjp2LHZlcnRpY2FsQWxpZ246Yn09Rl8ocyk7KChmdW5jdGlvbihlLHQsaSxyLG4sbyl7Y29uc3Qgcz0odC1pKSpuLGE9LW8qcjtmb3IoY29uc3QgdCBvZiBlKWZvcihjb25zdCBlIG9mIHQucG9zaXRpb25lZEdseXBocyllLngrPXMsZS55Kz1hO30pKShlLnBvc2l0aW9uZWRMaW5lcyxtLHYsYixmLHgpLGUudG9wKz0tYip4LGUuYm90dG9tPWUudG9wK3gsZS5sZWZ0Kz0tdipmLGUucmlnaHQ9ZS5sZWZ0K2YsZS5oYXNCYXNlbGluZT1fO30oYix0LGkscixfLHMsYSxsLHUsYyxkLGYpLCFmdW5jdGlvbihlKXtmb3IoY29uc3QgdCBvZiBlKWlmKDAhPT10LnBvc2l0aW9uZWRHbHlwaHMubGVuZ3RoKXJldHVybiAhMTtyZXR1cm4gITB9KHYpJiZifWNvbnN0IFBfPXs5OiEwLDEwOiEwLDExOiEwLDEyOiEwLDEzOiEwLDMyOiEwfSxEXz17MTA6ITAsMzI6ITAsMzg6ITAsNDA6ITAsNDE6ITAsNDM6ITAsNDU6ITAsNDc6ITAsMTczOiEwLDE4MzohMCw4MjAzOiEwLDgyMDg6ITAsODIxMTohMCw4MjMxOiEwfTtmdW5jdGlvbiBSXyhlLHQsaSxyLG4sbyl7aWYodC5pbWFnZU5hbWUpe2NvbnN0IGU9clt0LmltYWdlTmFtZV07cmV0dXJuIGU/ZS5kaXNwbGF5U2l6ZVswXSp0LnNjYWxlKnVfL28rbjowfXtjb25zdCByPWlbdC5mb250U3RhY2tdLG89ciYmci5nbHlwaHNbZV07cmV0dXJuIG8/by5tZXRyaWNzLmFkdmFuY2UqdC5zY2FsZStuOjB9fWZ1bmN0aW9uIExfKGUsdCxpLHIpe2NvbnN0IG49TWF0aC5wb3coZS10LDIpO3JldHVybiByP2U8dD9uLzI6MipuOm4rTWF0aC5hYnMoaSkqaX1mdW5jdGlvbiBrXyhlLHQsaSl7bGV0IHI9MDtyZXR1cm4gMTA9PT1lJiYoci09MWU0KSxpJiYocis9MTUwKSw0MCE9PWUmJjY1Mjg4IT09ZXx8KHIrPTUwKSw0MSE9PXQmJjY1Mjg5IT09dHx8KHIrPTUwKSxyfWZ1bmN0aW9uIE9fKGUsdCxpLHIsbixvKXtsZXQgcz1udWxsLGE9TF8odCxpLG4sbyk7Zm9yKGNvbnN0IGUgb2Ygcil7Y29uc3Qgcj1MXyh0LWUueCxpLG4sbykrZS5iYWRuZXNzO3I8PWEmJihzPWUsYT1yKTt9cmV0dXJuIHtpbmRleDplLHg6dCxwcmlvckJyZWFrOnMsYmFkbmVzczphfX1mdW5jdGlvbiBCXyhlKXtyZXR1cm4gZT9CXyhlLnByaW9yQnJlYWspLmNvbmNhdChlLmluZGV4KTpbXX1mdW5jdGlvbiBGXyhlKXtsZXQgdD0uNSxpPS41O3N3aXRjaChlKXtjYXNlXCJyaWdodFwiOmNhc2VcInRvcC1yaWdodFwiOmNhc2VcImJvdHRvbS1yaWdodFwiOnQ9MTticmVhaztjYXNlXCJsZWZ0XCI6Y2FzZVwidG9wLWxlZnRcIjpjYXNlXCJib3R0b20tbGVmdFwiOnQ9MDt9c3dpdGNoKGUpe2Nhc2VcImJvdHRvbVwiOmNhc2VcImJvdHRvbS1yaWdodFwiOmNhc2VcImJvdHRvbS1sZWZ0XCI6aT0xO2JyZWFrO2Nhc2VcInRvcFwiOmNhc2VcInRvcC1yaWdodFwiOmNhc2VcInRvcC1sZWZ0XCI6aT0wO31yZXR1cm4ge2hvcml6b250YWxBbGlnbjp0LHZlcnRpY2FsQWxpZ246aX19ZnVuY3Rpb24gTl8oZSx0LGkscixuKXtpZighKHR8fGl8fHJ8fG4pKXJldHVybjtjb25zdCBvPWUubGVuZ3RoLTEscz1lW29dLGE9KHMueCtzLm1ldHJpY3MuYWR2YW5jZSpzLnNjYWxlKSp0O2ZvcihsZXQgdD0wO3Q8PW87dCsrKWVbdF0ueC09YSxlW3RdLnkrPWkrcituO31mdW5jdGlvbiBVXyhlLHQsaSxyKXtjb25zdHtob3Jpem9udGFsQWxpZ246bix2ZXJ0aWNhbEFsaWduOm99PUZfKHIpLHM9aVswXS1lLmRpc3BsYXlTaXplWzBdKm4sYT1pWzFdLWUuZGlzcGxheVNpemVbMV0qbztyZXR1cm4ge2ltYWdlUHJpbWFyeTplLGltYWdlU2Vjb25kYXJ5OnQsdG9wOmEsYm90dG9tOmErZS5kaXNwbGF5U2l6ZVsxXSxsZWZ0OnMscmlnaHQ6cytlLmRpc3BsYXlTaXplWzBdfX1mdW5jdGlvbiBWXyhlLHQsaSxyLG4sbyl7Y29uc3Qgcz1lLmltYWdlUHJpbWFyeTtsZXQgYTtpZihzLmNvbnRlbnQpe2NvbnN0IGU9cy5jb250ZW50LHQ9cy5waXhlbFJhdGlvfHwxO2E9W2VbMF0vdCxlWzFdL3Qscy5kaXNwbGF5U2l6ZVswXS1lWzJdL3Qscy5kaXNwbGF5U2l6ZVsxXS1lWzNdL3RdO31jb25zdCBsPXQubGVmdCpvLGM9dC5yaWdodCpvO2xldCBoLHUsZCxwO1wid2lkdGhcIj09PWl8fFwiYm90aFwiPT09aT8ocD1uWzBdK2wtclszXSx1PW5bMF0rYytyWzFdKToocD1uWzBdKyhsK2Mtcy5kaXNwbGF5U2l6ZVswXSkvMix1PXArcy5kaXNwbGF5U2l6ZVswXSk7Y29uc3QgZj10LnRvcCpvLG09dC5ib3R0b20qbztyZXR1cm4gXCJoZWlnaHRcIj09PWl8fFwiYm90aFwiPT09aT8oaD1uWzFdK2YtclswXSxkPW5bMV0rbStyWzJdKTooaD1uWzFdKyhmK20tcy5kaXNwbGF5U2l6ZVsxXSkvMixkPWgrcy5kaXNwbGF5U2l6ZVsxXSkse2ltYWdlUHJpbWFyeTpzLGltYWdlU2Vjb25kYXJ5OnZvaWQgMCx0b3A6aCxyaWdodDp1LGJvdHRvbTpkLGxlZnQ6cCxjb2xsaXNpb25QYWRkaW5nOmF9fWNsYXNzIGpfIGV4dGVuZHMgeXtjb25zdHJ1Y3RvcihlLHQsaSxyLG4pe3N1cGVyKGUsdCksdGhpcy5hbmdsZT1yLHRoaXMuej1pLHZvaWQgMCE9PW4mJih0aGlzLnNlZ21lbnQ9bik7fWNsb25lKCl7cmV0dXJuIG5ldyBqXyh0aGlzLngsdGhpcy55LHRoaXMueix0aGlzLmFuZ2xlLHRoaXMuc2VnbWVudCl9fWZ1bmN0aW9uIEdfKGUsdCxpLHIsbil7aWYodm9pZCAwPT09dC5zZWdtZW50KXJldHVybiAhMDtsZXQgbz10LHM9dC5zZWdtZW50KzEsYT0wO2Zvcig7YT4taS8yOyl7aWYocy0tLHM8MClyZXR1cm4gITE7YS09ZVtzXS5kaXN0KG8pLG89ZVtzXTt9YSs9ZVtzXS5kaXN0KGVbcysxXSkscysrO2NvbnN0IGw9W107bGV0IGM9MDtmb3IoO2E8aS8yOyl7Y29uc3QgdD1lW3NdLGk9ZVtzKzFdO2lmKCFpKXJldHVybiAhMTtsZXQgbz1lW3MtMV0uYW5nbGVUbyh0KS10LmFuZ2xlVG8oaSk7Zm9yKG89TWF0aC5hYnMoKG8rMypNYXRoLlBJKSUoMipNYXRoLlBJKS1NYXRoLlBJKSxsLnB1c2goe2Rpc3RhbmNlOmEsYW5nbGVEZWx0YTpvfSksYys9bzthLWxbMF0uZGlzdGFuY2U+cjspYy09bC5zaGlmdCgpLmFuZ2xlRGVsdGE7aWYoYz5uKXJldHVybiAhMTtzKyssYSs9dC5kaXN0KGkpO31yZXR1cm4gITB9ZnVuY3Rpb24gcV8oZSl7bGV0IHQ9MDtmb3IobGV0IGk9MDtpPGUubGVuZ3RoLTE7aSsrKXQrPWVbaV0uZGlzdChlW2krMV0pO3JldHVybiB0fWZ1bmN0aW9uIFpfKGUsdCxpKXtyZXR1cm4gZT8uNip0Kmk6MH1mdW5jdGlvbiAkXyhlLHQpe3JldHVybiBNYXRoLm1heChlP2UucmlnaHQtZS5sZWZ0OjAsdD90LnJpZ2h0LXQubGVmdDowKX1mdW5jdGlvbiBXXyhlLHQsaSxyLG4sbyl7Y29uc3Qgcz1aXyhpLG4sbyksYT0kXyhpLHIpKm87bGV0IGw9MDtjb25zdCBjPXFfKGUpLzI7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aC0xO2krKyl7Y29uc3Qgcj1lW2ldLG49ZVtpKzFdLG89ci5kaXN0KG4pO2lmKGwrbz5jKXtjb25zdCBoPShjLWwpL28sdT1LcihyLngsbi54LGgpLGQ9S3Ioci55LG4ueSxoKSxwPW5ldyBqXyh1LGQsMCxuLmFuZ2xlVG8ociksaSk7cmV0dXJuICFzfHxHXyhlLHAsYSxzLHQpP3A6dm9pZCAwfWwrPW87fX1mdW5jdGlvbiBIXyhlLHQsaSxyLG4sbyxzLGEsbCl7Y29uc3QgYz1aXyhyLG8scyksaD0kXyhyLG4pLHU9aCpzLGQ9MD09PWVbMF0ueHx8ZVswXS54PT09bHx8MD09PWVbMF0ueXx8ZVswXS55PT09bDtyZXR1cm4gdC11PHQvNCYmKHQ9dSt0LzQpLFhfKGUsZD90LzIqYSV0OihoLzIrMipvKSpzKmEldCx0LGMsaSx1LGQsITEsbCl9ZnVuY3Rpb24gWF8oZSx0LGkscixuLG8scyxhLGwpe2NvbnN0IGM9by8yLGg9cV8oZSk7bGV0IHU9MCxkPXQtaSxwPVtdO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGgtMTt0Kyspe2NvbnN0IHM9ZVt0XSxhPWVbdCsxXSxmPXMuZGlzdChhKSxtPWEuYW5nbGVUbyhzKTtmb3IoO2QraTx1K2Y7KXtkKz1pO2NvbnN0IF89KGQtdSkvZixnPUtyKHMueCxhLngsXykseT1LcihzLnksYS55LF8pO2lmKGc+PTAmJmc8bCYmeT49MCYmeTxsJiZkLWM+PTAmJmQrYzw9aCl7Y29uc3QgaT1uZXcgal8oZyx5LDAsbSx0KTtyJiYhR18oZSxpLG8scixuKXx8cC5wdXNoKGkpO319dSs9Zjt9cmV0dXJuIGF8fHAubGVuZ3RofHxzfHwocD1YXyhlLHUvMixpLHIsbixvLHMsITAsbCkpLHB9ZnVuY3Rpb24gWV8oZSx0LGkscixuKXtjb25zdCBvPVtdO2ZvcihsZXQgcz0wO3M8ZS5sZW5ndGg7cysrKXtjb25zdCBhPWVbc107bGV0IGw7Zm9yKGxldCBlPTA7ZTxhLmxlbmd0aC0xO2UrKyl7bGV0IHM9YVtlXSxjPWFbZSsxXTtzLng8dCYmYy54PHR8fChzLng8dD9zPW5ldyB5KHQscy55Kyh0LXMueCkvKGMueC1zLngpKihjLnktcy55KSkuX3JvdW5kKCk6Yy54PHQmJihjPW5ldyB5KHQscy55Kyh0LXMueCkvKGMueC1zLngpKihjLnktcy55KSkuX3JvdW5kKCkpLHMueTxpJiZjLnk8aXx8KHMueTxpP3M9bmV3IHkocy54KyhpLXMueSkvKGMueS1zLnkpKihjLngtcy54KSxpKS5fcm91bmQoKTpjLnk8aSYmKGM9bmV3IHkocy54KyhpLXMueSkvKGMueS1zLnkpKihjLngtcy54KSxpKS5fcm91bmQoKSkscy54Pj1yJiZjLng+PXJ8fChzLng+PXI/cz1uZXcgeShyLHMueSsoci1zLngpLyhjLngtcy54KSooYy55LXMueSkpLl9yb3VuZCgpOmMueD49ciYmKGM9bmV3IHkocixzLnkrKHItcy54KS8oYy54LXMueCkqKGMueS1zLnkpKS5fcm91bmQoKSkscy55Pj1uJiZjLnk+PW58fChzLnk+PW4/cz1uZXcgeShzLngrKG4tcy55KS8oYy55LXMueSkqKGMueC1zLngpLG4pLl9yb3VuZCgpOmMueT49biYmKGM9bmV3IHkocy54KyhuLXMueSkvKGMueS1zLnkpKihjLngtcy54KSxuKS5fcm91bmQoKSksbCYmcy5lcXVhbHMobFtsLmxlbmd0aC0xXSl8fChsPVtzXSxvLnB1c2gobCkpLGwucHVzaChjKSkpKSk7fX1yZXR1cm4gb31mdW5jdGlvbiBLXyhlKXtsZXQgdD0wLGk9MDtmb3IoY29uc3QgciBvZiBlKXQrPXIudypyLmgsaT1NYXRoLm1heChpLHIudyk7ZS5zb3J0KCgoZSx0KT0+dC5oLWUuaCkpO2NvbnN0IHI9W3t4OjAseTowLHc6TWF0aC5tYXgoTWF0aC5jZWlsKE1hdGguc3FydCh0Ly45NSkpLGkpLGg6MS8wfV07bGV0IG49MCxvPTA7Zm9yKGNvbnN0IHQgb2YgZSlmb3IobGV0IGU9ci5sZW5ndGgtMTtlPj0wO2UtLSl7Y29uc3QgaT1yW2VdO2lmKCEodC53Pmkud3x8dC5oPmkuaCkpe2lmKHQueD1pLngsdC55PWkueSxvPU1hdGgubWF4KG8sdC55K3QuaCksbj1NYXRoLm1heChuLHQueCt0LncpLHQudz09PWkudyYmdC5oPT09aS5oKXtjb25zdCB0PXIucG9wKCk7ZTxyLmxlbmd0aCYmKHJbZV09dCk7fWVsc2UgdC5oPT09aS5oPyhpLngrPXQudyxpLnctPXQudyk6dC53PT09aS53PyhpLnkrPXQuaCxpLmgtPXQuaCk6KHIucHVzaCh7eDppLngrdC53LHk6aS55LHc6aS53LXQudyxoOnQuaH0pLGkueSs9dC5oLGkuaC09dC5oKTticmVha319cmV0dXJuIHt3Om4saDpvLGZpbGw6dC8obipvKXx8MH19UnMoal8sXCJBbmNob3JcIik7Y29uc3QgSl89MTtjbGFzcyBRX3tjb25zdHJ1Y3RvcihlLHtwaXhlbFJhdGlvOnQsdmVyc2lvbjppLHN0cmV0Y2hYOnIsc3RyZXRjaFk6bixjb250ZW50Om99KXt0aGlzLnBhZGRlZFJlY3Q9ZSx0aGlzLnBpeGVsUmF0aW89dCx0aGlzLnN0cmV0Y2hYPXIsdGhpcy5zdHJldGNoWT1uLHRoaXMuY29udGVudD1vLHRoaXMudmVyc2lvbj1pO31nZXQgdGwoKXtyZXR1cm4gW3RoaXMucGFkZGVkUmVjdC54K0pfLHRoaXMucGFkZGVkUmVjdC55K0pfXX1nZXQgYnIoKXtyZXR1cm4gW3RoaXMucGFkZGVkUmVjdC54K3RoaXMucGFkZGVkUmVjdC53LUpfLHRoaXMucGFkZGVkUmVjdC55K3RoaXMucGFkZGVkUmVjdC5oLUpfXX1nZXQgZGlzcGxheVNpemUoKXtyZXR1cm4gWyh0aGlzLnBhZGRlZFJlY3Qudy0yKkpfKS90aGlzLnBpeGVsUmF0aW8sKHRoaXMucGFkZGVkUmVjdC5oLTIqSl8pL3RoaXMucGl4ZWxSYXRpb119fWNsYXNzIGVne2NvbnN0cnVjdG9yKGUsdCl7Y29uc3QgaT17fSxyPXt9O3RoaXMuaGF2ZVJlbmRlckNhbGxiYWNrcz1bXTtjb25zdCBuPVtdO3RoaXMuYWRkSW1hZ2VzKGUsaSxuKSx0aGlzLmFkZEltYWdlcyh0LHIsbik7Y29uc3R7dzpvLGg6c309S18obiksYT1uZXcgZWYoe3dpZHRoOm98fDEsaGVpZ2h0OnN8fDF9KTtmb3IoY29uc3QgdCBpbiBlKXtjb25zdCByPWVbdF0sbj1pW3RdLnBhZGRlZFJlY3Q7ZWYuY29weShyLmRhdGEsYSx7eDowLHk6MH0se3g6bi54K0pfLHk6bi55K0pffSxyLmRhdGEpO31mb3IoY29uc3QgZSBpbiB0KXtjb25zdCBpPXRbZV0sbj1yW2VdLnBhZGRlZFJlY3Qsbz1uLngrSl8scz1uLnkrSl8sbD1pLmRhdGEud2lkdGgsYz1pLmRhdGEuaGVpZ2h0O2VmLmNvcHkoaS5kYXRhLGEse3g6MCx5OjB9LHt4Om8seTpzfSxpLmRhdGEpLGVmLmNvcHkoaS5kYXRhLGEse3g6MCx5OmMtMX0se3g6byx5OnMtMX0se3dpZHRoOmwsaGVpZ2h0OjF9KSxlZi5jb3B5KGkuZGF0YSxhLHt4OjAseTowfSx7eDpvLHk6cytjfSx7d2lkdGg6bCxoZWlnaHQ6MX0pLGVmLmNvcHkoaS5kYXRhLGEse3g6bC0xLHk6MH0se3g6by0xLHk6c30se3dpZHRoOjEsaGVpZ2h0OmN9KSxlZi5jb3B5KGkuZGF0YSxhLHt4OjAseTowfSx7eDpvK2wseTpzfSx7d2lkdGg6MSxoZWlnaHQ6Y30pO310aGlzLmltYWdlPWEsdGhpcy5pY29uUG9zaXRpb25zPWksdGhpcy5wYXR0ZXJuUG9zaXRpb25zPXI7fWFkZEltYWdlcyhlLHQsaSl7Zm9yKGNvbnN0IHIgaW4gZSl7Y29uc3Qgbj1lW3JdLG89e3g6MCx5OjAsdzpuLmRhdGEud2lkdGgrMipKXyxoOm4uZGF0YS5oZWlnaHQrMipKX307aS5wdXNoKG8pLHRbcl09bmV3IFFfKG8sbiksbi5oYXNSZW5kZXJDYWxsYmFjayYmdGhpcy5oYXZlUmVuZGVyQ2FsbGJhY2tzLnB1c2gocik7fX1wYXRjaFVwZGF0ZWRJbWFnZXMoZSx0LGkpe3RoaXMuaGF2ZVJlbmRlckNhbGxiYWNrcz10aGlzLmhhdmVSZW5kZXJDYWxsYmFja3MuZmlsdGVyKCh0PT5lLmhhc0ltYWdlKHQsaSkpKSxlLmRpc3BhdGNoUmVuZGVyQ2FsbGJhY2tzKHRoaXMuaGF2ZVJlbmRlckNhbGxiYWNrcyxpKTtmb3IoY29uc3QgciBpbiBlLmdldFVwZGF0ZWRJbWFnZXMoaSkpdGhpcy5wYXRjaFVwZGF0ZWRJbWFnZSh0aGlzLmljb25Qb3NpdGlvbnNbcl0sZS5nZXRJbWFnZShyLGkpLHQpLHRoaXMucGF0Y2hVcGRhdGVkSW1hZ2UodGhpcy5wYXR0ZXJuUG9zaXRpb25zW3JdLGUuZ2V0SW1hZ2UocixpKSx0KTt9cGF0Y2hVcGRhdGVkSW1hZ2UoZSx0LGkpe2lmKCFlfHwhdClyZXR1cm47aWYoZS52ZXJzaW9uPT09dC52ZXJzaW9uKXJldHVybjtlLnZlcnNpb249dC52ZXJzaW9uO2NvbnN0W3Isbl09ZS50bDtpLnVwZGF0ZSh0LmRhdGEsdm9pZCAwLHt4OnIseTpufSk7fX1ScyhRXyxcIkltYWdlUG9zaXRpb25cIiksUnMoZWcsXCJJbWFnZUF0bGFzXCIpO2NvbnN0IHRnPTFlMjA7ZnVuY3Rpb24gaWcoZSx0LGkscixuLG8scyxhLGwpe2ZvcihsZXQgYz10O2M8dCtyO2MrKylyZyhlLGkqbytjLG8sbixzLGEsbCk7Zm9yKGxldCBjPWk7YzxpK247YysrKXJnKGUsYypvK3QsMSxyLHMsYSxsKTt9ZnVuY3Rpb24gcmcoZSx0LGkscixuLG8scyl7b1swXT0wLHNbMF09LXRnLHNbMV09dGcsblswXT1lW3RdO2ZvcihsZXQgYT0xLGw9MCxjPTA7YTxyO2ErKyl7blthXT1lW3QrYSppXTtjb25zdCByPWEqYTtkb3tjb25zdCBlPW9bbF07Yz0oblthXS1uW2VdK3ItZSplKS8oYS1lKS8yO313aGlsZShjPD1zW2xdJiYtLWw+LTEpO2wrKyxvW2xdPWEsc1tsXT1jLHNbbCsxXT10Zzt9Zm9yKGxldCBhPTAsbD0wO2E8cjthKyspe2Zvcig7c1tsKzFdPGE7KWwrKztjb25zdCByPW9bbF0sYz1hLXI7ZVt0K2EqaV09bltyXStjKmM7fX1jb25zdCBuZz0yO2NsYXNzIG9ne2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLnJlcXVlc3RNYW5hZ2VyPWUsdGhpcy5sb2NhbEdseXBoTW9kZT10LHRoaXMubG9jYWxGb250RmFtaWx5PWksdGhpcy51cmxzPXt9LHRoaXMuZW50cmllcz17fSx0aGlzLmxvY2FsR2x5cGhzPXsyMDA6e30sNDAwOnt9LDUwMDp7fSw5MDA6e319O31zZXRVUkwoZSx0KXt0aGlzLnVybHNbdF09ZTt9Z2V0R2x5cGhzKGUsdCxpKXtjb25zdCByPVtdLG89dGhpcy51cmxzW3RdfHxuLkdMWVBIU19VUkw7Zm9yKGNvbnN0IHQgaW4gZSlmb3IoY29uc3QgaSBvZiBlW3RdKXIucHVzaCh7c3RhY2s6dCxpZDppfSk7UihyLCgoe3N0YWNrOmUsaWQ6dH0saSk9PntsZXQgcj10aGlzLmVudHJpZXNbZV07cnx8KHI9dGhpcy5lbnRyaWVzW2VdPXtnbHlwaHM6e30scmVxdWVzdHM6e30scmFuZ2VzOnt9LGFzY2VuZGVyOnZvaWQgMCxkZXNjZW5kZXI6dm9pZCAwfSk7bGV0IG49ci5nbHlwaHNbdF07aWYodm9pZCAwIT09bilyZXR1cm4gdm9pZCBpKG51bGwse3N0YWNrOmUsaWQ6dCxnbHlwaDpufSk7aWYobj10aGlzLl90aW55U0RGKHIsZSx0KSxuKXJldHVybiByLmdseXBoc1t0XT1uLHZvaWQgaShudWxsLHtzdGFjazplLGlkOnQsZ2x5cGg6bn0pO2NvbnN0IHM9TWF0aC5mbG9vcih0LzI1Nik7aWYoMjU2KnM+NjU1MzUpcmV0dXJuIHZvaWQgaShuZXcgRXJyb3IoXCJnbHlwaHMgPiA2NTUzNSBub3Qgc3VwcG9ydGVkXCIpKTtpZihyLnJhbmdlc1tzXSlyZXR1cm4gdm9pZCBpKG51bGwse3N0YWNrOmUsaWQ6dCxnbHlwaDpufSk7bGV0IGE9ci5yZXF1ZXN0c1tzXTthfHwoYT1yLnJlcXVlc3RzW3NdPVtdLG9nLmxvYWRHbHlwaFJhbmdlKGUscyxvLHRoaXMucmVxdWVzdE1hbmFnZXIsKChlLHQpPT57aWYodCl7ci5hc2NlbmRlcj10LmFzY2VuZGVyLHIuZGVzY2VuZGVyPXQuZGVzY2VuZGVyO2Zvcihjb25zdCBlIGluIHQuZ2x5cGhzKXRoaXMuX2RvZXNDaGFyU3VwcG9ydExvY2FsR2x5cGgoK2UpfHwoci5nbHlwaHNbK2VdPXQuZ2x5cGhzWytlXSk7ci5yYW5nZXNbc109ITA7fWZvcihjb25zdCBpIG9mIGEpaShlLHQpO2RlbGV0ZSByLnJlcXVlc3RzW3NdO30pKSksYS5wdXNoKCgocixuKT0+e3I/aShyKTpuJiZpKG51bGwse3N0YWNrOmUsaWQ6dCxnbHlwaDpuLmdseXBoc1t0XXx8bnVsbH0pO30pKTt9KSwoKGUsdCk9PntpZihlKWkoZSk7ZWxzZSBpZih0KXtjb25zdCBlPXt9O2Zvcihjb25zdHtzdGFjazppLGlkOnIsZ2x5cGg6bn1vZiB0KXZvaWQgMD09PWVbaV0mJihlW2ldPXt9KSx2b2lkIDA9PT1lW2ldLmdseXBocyYmKGVbaV0uZ2x5cGhzPXt9KSxlW2ldLmdseXBoc1tyXT1uJiZ7aWQ6bi5pZCxiaXRtYXA6bi5iaXRtYXAuY2xvbmUoKSxtZXRyaWNzOm4ubWV0cmljc30sZVtpXS5hc2NlbmRlcj10aGlzLmVudHJpZXNbaV0uYXNjZW5kZXIsZVtpXS5kZXNjZW5kZXI9dGhpcy5lbnRyaWVzW2ldLmRlc2NlbmRlcjtpKG51bGwsZSk7fX0pKTt9X2RvZXNDaGFyU3VwcG9ydExvY2FsR2x5cGgoZSl7cmV0dXJuIDAhPT10aGlzLmxvY2FsR2x5cGhNb2RlJiYoMj09PXRoaXMubG9jYWxHbHlwaE1vZGU/ISF0aGlzLmxvY2FsRm9udEZhbWlseTohIXRoaXMubG9jYWxGb250RmFtaWx5JiYoRnNbXCJDSksgVW5pZmllZCBJZGVvZ3JhcGhzXCJdKGUpfHxGc1tcIkhhbmd1bCBTeWxsYWJsZXNcIl0oZSl8fEZzLkhpcmFnYW5hKGUpfHxGcy5LYXRha2FuYShlKXx8RnNbXCJDSksgU3ltYm9scyBhbmQgUHVuY3R1YXRpb25cIl0oZSl8fEZzW1wiQ0pLIFVuaWZpZWQgSWRlb2dyYXBocyBFeHRlbnNpb24gQVwiXShlKXx8RnNbXCJDSksgVW5pZmllZCBJZGVvZ3JhcGhzIEV4dGVuc2lvbiBCXCJdKGUpKSl9X3RpbnlTREYoZSx0LGkpe2NvbnN0IHI9dGhpcy5sb2NhbEZvbnRGYW1pbHk7aWYoIXJ8fCF0aGlzLl9kb2VzQ2hhclN1cHBvcnRMb2NhbEdseXBoKGkpKXJldHVybjtsZXQgbj1lLnRpbnlTREY7aWYoIW4pe2xldCBpPVwiNDAwXCI7L2JvbGQvaS50ZXN0KHQpP2k9XCI5MDBcIjovbWVkaXVtL2kudGVzdCh0KT9pPVwiNTAwXCI6L2xpZ2h0L2kudGVzdCh0KSYmKGk9XCIyMDBcIiksbj1lLnRpbnlTREY9bmV3IG9nLlRpbnlTREYoe2ZvbnRGYW1pbHk6cixmb250V2VpZ2h0OmksZm9udFNpemU6MjQqbmcsYnVmZmVyOjMqbmcscmFkaXVzOjgqbmd9KSxuLmZvbnRXZWlnaHQ9aTt9aWYodGhpcy5sb2NhbEdseXBoc1tuLmZvbnRXZWlnaHRdW2ldKXJldHVybiB0aGlzLmxvY2FsR2x5cGhzW24uZm9udFdlaWdodF1baV07Y29uc3Qgbz1TdHJpbmcuZnJvbUNvZGVQb2ludChpKSx7ZGF0YTpzLHdpZHRoOmEsaGVpZ2h0OmwsZ2x5cGhXaWR0aDpjLGdseXBoSGVpZ2h0OmgsZ2x5cGhMZWZ0OnUsZ2x5cGhUb3A6ZCxnbHlwaEFkdmFuY2U6cH09bi5kcmF3KG8pO3JldHVybiB0aGlzLmxvY2FsR2x5cGhzW24uZm9udFdlaWdodF1baV09e2lkOmksYml0bWFwOm5ldyBRcCh7d2lkdGg6YSxoZWlnaHQ6bH0scyksbWV0cmljczp7d2lkdGg6Yy9uZyxoZWlnaHQ6aC9uZyxsZWZ0OnUvbmcsdG9wOmQvbmctMjcsYWR2YW5jZTpwL25nLGxvY2FsR2x5cGg6ITB9fX19b2cubG9hZEdseXBoUmFuZ2U9ZnVuY3Rpb24oZSx0LGkscixuKXtjb25zdCBvPTI1Nip0LHM9bysyNTUsYT1yLnRyYW5zZm9ybVJlcXVlc3Qoci5ub3JtYWxpemVHbHlwaHNVUkwoaSkucmVwbGFjZShcIntmb250c3RhY2t9XCIsZSkucmVwbGFjZShcIntyYW5nZX1cIixgJHtvfS0ke3N9YCkseWUuR2x5cGhzKTtUZShhLCgoZSx0KT0+e2lmKGUpbihlKTtlbHNlIGlmKHQpe2NvbnN0IGU9e30saT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGttKGUpLnJlYWRGaWVsZHMod18se30pfSh0KTtmb3IoY29uc3QgdCBvZiBpLmdseXBocyllW3QuaWRdPXQ7bihudWxsLHtnbHlwaHM6ZSxhc2NlbmRlcjppLmFzY2VuZGVyLGRlc2NlbmRlcjppLmRlc2NlbmRlcn0pO319KSk7fSxvZy5UaW55U0RGPWNsYXNze2NvbnN0cnVjdG9yKHtmb250U2l6ZTplPTI0LGJ1ZmZlcjp0PTMscmFkaXVzOmk9OCxjdXRvZmY6cj0uMjUsZm9udEZhbWlseTpuPVwic2Fucy1zZXJpZlwiLGZvbnRXZWlnaHQ6bz1cIm5vcm1hbFwiLGZvbnRTdHlsZTpzPVwibm9ybWFsXCJ9PXt9KXt0aGlzLmJ1ZmZlcj10LHRoaXMuY3V0b2ZmPXIsdGhpcy5yYWRpdXM9aTtjb25zdCBhPXRoaXMuc2l6ZT1lKzQqdCxsPXRoaXMuX2NyZWF0ZUNhbnZhcyhhKSxjPXRoaXMuY3R4PWwuZ2V0Q29udGV4dChcIjJkXCIse3dpbGxSZWFkRnJlcXVlbnRseTohMH0pO2MuZm9udD1gJHtzfSAke299ICR7ZX1weCAke259YCxjLnRleHRCYXNlbGluZT1cImFscGhhYmV0aWNcIixjLnRleHRBbGlnbj1cImxlZnRcIixjLmZpbGxTdHlsZT1cImJsYWNrXCIsdGhpcy5ncmlkT3V0ZXI9bmV3IEZsb2F0NjRBcnJheShhKmEpLHRoaXMuZ3JpZElubmVyPW5ldyBGbG9hdDY0QXJyYXkoYSphKSx0aGlzLmY9bmV3IEZsb2F0NjRBcnJheShhKSx0aGlzLno9bmV3IEZsb2F0NjRBcnJheShhKzEpLHRoaXMudj1uZXcgVWludDE2QXJyYXkoYSk7fV9jcmVhdGVDYW52YXMoZSl7Y29uc3QgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3JldHVybiB0LndpZHRoPXQuaGVpZ2h0PWUsdH1kcmF3KGUpe2NvbnN0e3dpZHRoOnQsYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQ6aSxhY3R1YWxCb3VuZGluZ0JveERlc2NlbnQ6cixhY3R1YWxCb3VuZGluZ0JveExlZnQ6bixhY3R1YWxCb3VuZGluZ0JveFJpZ2h0Om99PXRoaXMuY3R4Lm1lYXN1cmVUZXh0KGUpLHM9TWF0aC5jZWlsKGkpLGE9TWF0aC5tYXgoMCxNYXRoLm1pbih0aGlzLnNpemUtdGhpcy5idWZmZXIsTWF0aC5jZWlsKG8tbikpKSxsPU1hdGgubWluKHRoaXMuc2l6ZS10aGlzLmJ1ZmZlcixzK01hdGguY2VpbChyKSksYz1hKzIqdGhpcy5idWZmZXIsaD1sKzIqdGhpcy5idWZmZXIsdT1NYXRoLm1heChjKmgsMCksZD1uZXcgVWludDhDbGFtcGVkQXJyYXkodSkscD17ZGF0YTpkLHdpZHRoOmMsaGVpZ2h0OmgsZ2x5cGhXaWR0aDphLGdseXBoSGVpZ2h0OmwsZ2x5cGhUb3A6cyxnbHlwaExlZnQ6MCxnbHlwaEFkdmFuY2U6dH07aWYoMD09PWF8fDA9PT1sKXJldHVybiBwO2NvbnN0e2N0eDpmLGJ1ZmZlcjptLGdyaWRJbm5lcjpfLGdyaWRPdXRlcjpnfT10aGlzO2YuY2xlYXJSZWN0KG0sbSxhLGwpLGYuZmlsbFRleHQoZSxtLG0rcyk7Y29uc3QgeT1mLmdldEltYWdlRGF0YShtLG0sYSxsKTtnLmZpbGwodGcsMCx1KSxfLmZpbGwoMCwwLHUpO2ZvcihsZXQgZT0wO2U8bDtlKyspZm9yKGxldCB0PTA7dDxhO3QrKyl7Y29uc3QgaT15LmRhdGFbNCooZSphK3QpKzNdLzI1NTtpZigwPT09aSljb250aW51ZTtjb25zdCByPShlK20pKmMrdCttO2lmKDE9PT1pKWdbcl09MCxfW3JdPXRnO2Vsc2Uge2NvbnN0IGU9LjUtaTtnW3JdPWU+MD9lKmU6MCxfW3JdPWU8MD9lKmU6MDt9fWlnKGcsMCwwLGMsaCxjLHRoaXMuZix0aGlzLnYsdGhpcy56KSxpZyhfLG0sbSxhLGwsYyx0aGlzLmYsdGhpcy52LHRoaXMueik7Zm9yKGxldCBlPTA7ZTx1O2UrKyl7Y29uc3QgdD1NYXRoLnNxcnQoZ1tlXSktTWF0aC5zcXJ0KF9bZV0pO2RbZV09TWF0aC5yb3VuZCgyNTUtMjU1Kih0L3RoaXMucmFkaXVzK3RoaXMuY3V0b2ZmKSk7fXJldHVybiBwfX07Y29uc3Qgc2c9Sl87ZnVuY3Rpb24gYWcoZSx0LGkscil7Y29uc3Qgbj1bXSxvPWUuaW1hZ2VQcmltYXJ5LHM9by5waXhlbFJhdGlvLGE9by5wYWRkZWRSZWN0LnctMipzZyxsPW8ucGFkZGVkUmVjdC5oLTIqc2csYz1lLnJpZ2h0LWUubGVmdCxoPWUuYm90dG9tLWUudG9wLHU9by5zdHJldGNoWHx8W1swLGFdXSxkPW8uc3RyZXRjaFl8fFtbMCxsXV0scD0oZSx0KT0+ZSt0WzFdLXRbMF0sZj11LnJlZHVjZShwLDApLG09ZC5yZWR1Y2UocCwwKSxfPWEtZixnPWwtbTtsZXQgeD0wLHY9ZixiPTAsdz1tLFQ9MCxFPV8sTT0wLEE9ZztpZihvLmNvbnRlbnQmJnIpe2NvbnN0IGU9by5jb250ZW50O3g9bGcodSwwLGVbMF0pLGI9bGcoZCwwLGVbMV0pLHY9bGcodSxlWzBdLGVbMl0pLHc9bGcoZCxlWzFdLGVbM10pLFQ9ZVswXS14LE09ZVsxXS1iLEU9ZVsyXS1lWzBdLXYsQT1lWzNdLWVbMV0tdzt9Y29uc3QgUz0ocixuLGEsbCk9Pntjb25zdCB1PWhnKHIuc3RyZXRjaC14LHYsYyxlLmxlZnQpLGQ9dWcoci5maXhlZC1ULEUsci5zdHJldGNoLGYpLHA9aGcobi5zdHJldGNoLWIsdyxoLGUudG9wKSxfPXVnKG4uZml4ZWQtTSxBLG4uc3RyZXRjaCxtKSxnPWhnKGEuc3RyZXRjaC14LHYsYyxlLmxlZnQpLFM9dWcoYS5maXhlZC1ULEUsYS5zdHJldGNoLGYpLEk9aGcobC5zdHJldGNoLWIsdyxoLGUudG9wKSxDPXVnKGwuZml4ZWQtTSxBLGwuc3RyZXRjaCxtKSx6PW5ldyB5KHUscCksUD1uZXcgeShnLHApLEQ9bmV3IHkoZyxJKSxSPW5ldyB5KHUsSSksTD1uZXcgeShkL3MsXy9zKSxrPW5ldyB5KFMvcyxDL3MpLE89dCpNYXRoLlBJLzE4MDtpZihPKXtjb25zdCBlPU1hdGguc2luKE8pLHQ9TWF0aC5jb3MoTyksaT1bdCwtZSxlLHRdO3ouX21hdE11bHQoaSksUC5fbWF0TXVsdChpKSxSLl9tYXRNdWx0KGkpLEQuX21hdE11bHQoaSk7fWNvbnN0IEI9ci5zdHJldGNoK3IuZml4ZWQsRj1hLnN0cmV0Y2grYS5maXhlZCxOPW4uc3RyZXRjaCtuLmZpeGVkLFU9bC5zdHJldGNoK2wuZml4ZWQsVj1lLmltYWdlU2Vjb25kYXJ5O3JldHVybiB7dGw6eix0cjpQLGJsOlIsYnI6RCx0ZXhQcmltYXJ5Ont4Om8ucGFkZGVkUmVjdC54K3NnK0IseTpvLnBhZGRlZFJlY3QueStzZytOLHc6Ri1CLGg6VS1OfSx0ZXhTZWNvbmRhcnk6Vj97eDpWLnBhZGRlZFJlY3QueCtzZytCLHk6Vi5wYWRkZWRSZWN0Lnkrc2crTix3OkYtQixoOlUtTn06dm9pZCAwLHdyaXRpbmdNb2RlOnZvaWQgMCxnbHlwaE9mZnNldDpbMCwwXSxzZWN0aW9uSW5kZXg6MCxwaXhlbE9mZnNldFRMOkwscGl4ZWxPZmZzZXRCUjprLG1pbkZvbnRTY2FsZVg6RS9zL2MsbWluRm9udFNjYWxlWTpBL3MvaCxpc1NERjppfX07aWYociYmKG8uc3RyZXRjaFh8fG8uc3RyZXRjaFkpKXtjb25zdCBlPWNnKHUsXyxmKSx0PWNnKGQsZyxtKTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoLTE7aSsrKXtjb25zdCByPWVbaV0sbz1lW2krMV07Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aC0xO2UrKyluLnB1c2goUyhyLHRbZV0sbyx0W2UrMV0pKTt9fWVsc2Ugbi5wdXNoKFMoe2ZpeGVkOjAsc3RyZXRjaDotMX0se2ZpeGVkOjAsc3RyZXRjaDotMX0se2ZpeGVkOjAsc3RyZXRjaDphKzF9LHtmaXhlZDowLHN0cmV0Y2g6bCsxfSkpO3JldHVybiBufWZ1bmN0aW9uIGxnKGUsdCxpKXtsZXQgcj0wO2Zvcihjb25zdCBuIG9mIGUpcis9TWF0aC5tYXgodCxNYXRoLm1pbihpLG5bMV0pKS1NYXRoLm1heCh0LE1hdGgubWluKGksblswXSkpO3JldHVybiByfWZ1bmN0aW9uIGNnKGUsdCxpKXtjb25zdCByPVt7Zml4ZWQ6LXNnLHN0cmV0Y2g6MH1dO2Zvcihjb25zdFt0LGldb2YgZSl7Y29uc3QgZT1yW3IubGVuZ3RoLTFdO3IucHVzaCh7Zml4ZWQ6dC1lLnN0cmV0Y2gsc3RyZXRjaDplLnN0cmV0Y2h9KSxyLnB1c2goe2ZpeGVkOnQtZS5zdHJldGNoLHN0cmV0Y2g6ZS5zdHJldGNoKyhpLXQpfSk7fXJldHVybiByLnB1c2goe2ZpeGVkOnQrc2csc3RyZXRjaDppfSkscn1mdW5jdGlvbiBoZyhlLHQsaSxyKXtyZXR1cm4gZS90Kmkrcn1mdW5jdGlvbiB1ZyhlLHQsaSxyKXtyZXR1cm4gZS10Kmkvcn1mdW5jdGlvbiBkZyhlLHQsaSxyKXtjb25zdCBuPXQrZS5wb3NpdGlvbmVkTGluZXNbcl0ubGluZU9mZnNldDtyZXR1cm4gMD09PXI/aStuLzI6aSsobisodCtlLnBvc2l0aW9uZWRMaW5lc1tyLTFdLmxpbmVPZmZzZXQpKS8yfWZ1bmN0aW9uIHBnKGUsdD0xLGk9ITEpe2xldCByPTEvMCxuPTEvMCxvPS0xLzAscz0tMS8wO2NvbnN0IGE9ZVswXTtmb3IobGV0IGU9MDtlPGEubGVuZ3RoO2UrKyl7Y29uc3QgdD1hW2VdOyghZXx8dC54PHIpJiYocj10LngpLCghZXx8dC55PG4pJiYobj10LnkpLCghZXx8dC54Pm8pJiYobz10LngpLCghZXx8dC55PnMpJiYocz10LnkpO31jb25zdCBsPU1hdGgubWluKG8tcixzLW4pO2xldCBjPWwvMjtjb25zdCBoPW5ldyBscihbXSxmZyk7aWYoMD09PWwpcmV0dXJuIG5ldyB5KHIsbik7Zm9yKGxldCB0PXI7dDxvO3QrPWwpZm9yKGxldCBpPW47aTxzO2krPWwpaC5wdXNoKG5ldyBtZyh0K2MsaStjLGMsZSkpO2xldCB1PWZ1bmN0aW9uKGUpe2xldCB0PTAsaT0wLHI9MDtjb25zdCBuPWVbMF07Zm9yKGxldCBlPTAsbz1uLmxlbmd0aCxzPW8tMTtlPG87cz1lKyspe2NvbnN0IG89bltlXSxhPW5bc10sbD1vLngqYS55LWEueCpvLnk7aSs9KG8ueCthLngpKmwscis9KG8ueSthLnkpKmwsdCs9MypsO31yZXR1cm4gbmV3IG1nKGkvdCxyL3QsMCxlKX0oZSksZD1oLmxlbmd0aDtmb3IoO2gubGVuZ3RoOyl7Y29uc3Qgcj1oLnBvcCgpOyhyLmQ+dS5kfHwhdS5kKSYmKHU9cixpJiZjb25zb2xlLmxvZyhcImZvdW5kIGJlc3QgJWQgYWZ0ZXIgJWQgcHJvYmVzXCIsTWF0aC5yb3VuZCgxZTQqci5kKS8xZTQsZCkpLHIubWF4LXUuZDw9dHx8KGM9ci5oLzIsaC5wdXNoKG5ldyBtZyhyLnAueC1jLHIucC55LWMsYyxlKSksaC5wdXNoKG5ldyBtZyhyLnAueCtjLHIucC55LWMsYyxlKSksaC5wdXNoKG5ldyBtZyhyLnAueC1jLHIucC55K2MsYyxlKSksaC5wdXNoKG5ldyBtZyhyLnAueCtjLHIucC55K2MsYyxlKSksZCs9NCk7fXJldHVybiBpJiYoY29uc29sZS5sb2coYG51bSBwcm9iZXM6ICR7ZH1gKSxjb25zb2xlLmxvZyhgYmVzdCBkaXN0YW5jZTogJHt1LmR9YCkpLHUucH1mdW5jdGlvbiBmZyhlLHQpe3JldHVybiB0Lm1heC1lLm1heH1jbGFzcyBtZ3tjb25zdHJ1Y3RvcihlLHQsaSxyKXt0aGlzLnA9bmV3IHkoZSx0KSx0aGlzLmg9aSx0aGlzLmQ9ZnVuY3Rpb24oZSx0KXtsZXQgaT0hMSxyPTEvMDtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyl7Y29uc3Qgbz10W25dO2ZvcihsZXQgdD0wLG49by5sZW5ndGgscz1uLTE7dDxuO3M9dCsrKXtjb25zdCBuPW9bdF0sYT1vW3NdO24ueT5lLnkhPWEueT5lLnkmJmUueDwoYS54LW4ueCkqKGUueS1uLnkpLyhhLnktbi55KStuLngmJihpPSFpKSxyPU1hdGgubWluKHIsSXAoZSxuLGEpKTt9fXJldHVybiAoaT8xOi0xKSpNYXRoLnNxcnQocil9KHRoaXMucCxyKSx0aGlzLm1heD10aGlzLmQrdGhpcy5oKk1hdGguU1FSVDI7fX1jb25zdCBfZz03LGdnPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSx5Zz1NYXRoLnNxcnQoMik7ZnVuY3Rpb24geGcoZSxbdCxpXSl7bGV0IHI9MCxuPTA7aWYoaT09PWdnKXt0PDAmJih0PTApO2NvbnN0IGk9dC95Zztzd2l0Y2goZSl7Y2FzZVwidG9wLXJpZ2h0XCI6Y2FzZVwidG9wLWxlZnRcIjpuPWktX2c7YnJlYWs7Y2FzZVwiYm90dG9tLXJpZ2h0XCI6Y2FzZVwiYm90dG9tLWxlZnRcIjpuPS1pK19nO2JyZWFrO2Nhc2VcImJvdHRvbVwiOm49LXQrX2c7YnJlYWs7Y2FzZVwidG9wXCI6bj10LV9nO31zd2l0Y2goZSl7Y2FzZVwidG9wLXJpZ2h0XCI6Y2FzZVwiYm90dG9tLXJpZ2h0XCI6cj0taTticmVhaztjYXNlXCJ0b3AtbGVmdFwiOmNhc2VcImJvdHRvbS1sZWZ0XCI6cj1pO2JyZWFrO2Nhc2VcImxlZnRcIjpyPXQ7YnJlYWs7Y2FzZVwicmlnaHRcIjpyPS10O319ZWxzZSB7c3dpdGNoKHQ9TWF0aC5hYnModCksaT1NYXRoLmFicyhpKSxlKXtjYXNlXCJ0b3AtcmlnaHRcIjpjYXNlXCJ0b3AtbGVmdFwiOmNhc2VcInRvcFwiOm49aS1fZzticmVhaztjYXNlXCJib3R0b20tcmlnaHRcIjpjYXNlXCJib3R0b20tbGVmdFwiOmNhc2VcImJvdHRvbVwiOm49LWkrX2c7fXN3aXRjaChlKXtjYXNlXCJ0b3AtcmlnaHRcIjpjYXNlXCJib3R0b20tcmlnaHRcIjpjYXNlXCJyaWdodFwiOnI9LXQ7YnJlYWs7Y2FzZVwidG9wLWxlZnRcIjpjYXNlXCJib3R0b20tbGVmdFwiOmNhc2VcImxlZnRcIjpyPXQ7fX1yZXR1cm4gW3Isbl19ZnVuY3Rpb24gdmcoZSx0LGkscixuLG8scyxhLGwsYyxoKXtlLmNyZWF0ZUFycmF5cygpLGUudGlsZVBpeGVsUmF0aW89Y3IvKDUxMiplLm92ZXJzY2FsaW5nKSxlLmNvbXBhcmVUZXh0PXt9LGUuaWNvbnNOZWVkTGluZWFyPSExO2NvbnN0IHU9ZS5sYXllcnNbMF0ubGF5b3V0LGQ9ZS5sYXllcnNbMF0uX3VuZXZhbHVhdGVkTGF5b3V0Ll92YWx1ZXMscD17fTtpZihcImNvbXBvc2l0ZVwiPT09ZS50ZXh0U2l6ZURhdGEua2luZCl7Y29uc3R7bWluWm9vbTp0LG1heFpvb206aX09ZS50ZXh0U2l6ZURhdGE7cC5jb21wb3NpdGVUZXh0U2l6ZXM9W2RbXCJ0ZXh0LXNpemVcIl0ucG9zc2libHlFdmFsdWF0ZShuZXcgb2EodCksYSksZFtcInRleHQtc2l6ZVwiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBvYShpKSxhKV07fWlmKFwiY29tcG9zaXRlXCI9PT1lLmljb25TaXplRGF0YS5raW5kKXtjb25zdHttaW5ab29tOnQsbWF4Wm9vbTppfT1lLmljb25TaXplRGF0YTtwLmNvbXBvc2l0ZUljb25TaXplcz1bZFtcImljb24tc2l6ZVwiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBvYSh0KSxhKSxkW1wiaWNvbi1zaXplXCJdLnBvc3NpYmx5RXZhbHVhdGUobmV3IG9hKGkpLGEpXTt9cC5sYXlvdXRUZXh0U2l6ZT1kW1widGV4dC1zaXplXCJdLnBvc3NpYmx5RXZhbHVhdGUobmV3IG9hKGwrMSksYSkscC5sYXlvdXRJY29uU2l6ZT1kW1wiaWNvbi1zaXplXCJdLnBvc3NpYmx5RXZhbHVhdGUobmV3IG9hKGwrMSksYSkscC50ZXh0TWF4U2l6ZT1kW1widGV4dC1zaXplXCJdLnBvc3NpYmx5RXZhbHVhdGUobmV3IG9hKDE4KSxhKTtjb25zdCBmPVwibWFwXCI9PT11LmdldChcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIpJiZcInBvaW50XCIhPT11LmdldChcInN5bWJvbC1wbGFjZW1lbnRcIiksbT11LmdldChcInRleHQtc2l6ZVwiKTtsZXQgXz0hMTtmb3IoY29uc3QgdCBvZiBlLmZlYXR1cmVzKWlmKHQuaWNvbiYmdC5pY29uLm5hbWVTZWNvbmRhcnkpe189ITA7YnJlYWt9Zm9yKGNvbnN0IG8gb2YgZS5mZWF0dXJlcyl7Y29uc3QgbD11LmdldChcInRleHQtZm9udFwiKS5ldmFsdWF0ZShvLHt9LGEpLmpvaW4oXCIsXCIpLGQ9bS5ldmFsdWF0ZShvLHt9LGEpLGc9cC5sYXlvdXRUZXh0U2l6ZS5ldmFsdWF0ZShvLHt9LGEpLHk9KHAubGF5b3V0SWNvblNpemUuZXZhbHVhdGUobyx7fSxhKSx7aG9yaXpvbnRhbDp7fSx2ZXJ0aWNhbDp2b2lkIDB9KSx4PW8udGV4dDtsZXQgdixiPVswLDBdO2lmKHgpe2NvbnN0IHI9eC50b1N0cmluZygpLHM9dS5nZXQoXCJ0ZXh0LWxldHRlci1zcGFjaW5nXCIpLmV2YWx1YXRlKG8se30sYSkqdV8sYz11LmdldChcInRleHQtbGluZS1oZWlnaHRcIikuZXZhbHVhdGUobyx7fSxhKSp1XyxoPVVzKHIpP3M6MCxwPXUuZ2V0KFwidGV4dC1hbmNob3JcIikuZXZhbHVhdGUobyx7fSxhKSxtPXUuZ2V0KFwidGV4dC12YXJpYWJsZS1hbmNob3JcIik7aWYoIW0pe2NvbnN0IGU9dS5nZXQoXCJ0ZXh0LXJhZGlhbC1vZmZzZXRcIikuZXZhbHVhdGUobyx7fSxhKTtiPWU/eGcocCxbZSp1XyxnZ10pOnUuZ2V0KFwidGV4dC1vZmZzZXRcIikuZXZhbHVhdGUobyx7fSxhKS5tYXAoKGU9PmUqdV8pKTt9bGV0IF89Zj9cImNlbnRlclwiOnUuZ2V0KFwidGV4dC1qdXN0aWZ5XCIpLmV2YWx1YXRlKG8se30sYSk7Y29uc3Qgdj1cInBvaW50XCI9PT11LmdldChcInN5bWJvbC1wbGFjZW1lbnRcIiksdz12P3UuZ2V0KFwidGV4dC1tYXgtd2lkdGhcIikuZXZhbHVhdGUobyx7fSxhKSp1XzoxLzAsVD1vPT57ZS5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiZOcyhyKSYmKHkudmVydGljYWw9el8oeCx0LGksbixsLHcsYyxwLG8saCxiLEFfLnZlcnRpY2FsLCEwLGcsZCkpO307aWYoIWYmJm0pe2NvbnN0IGU9XCJhdXRvXCI9PT1fP20ubWFwKChlPT5iZyhlKSkpOltfXTtsZXQgcj0hMTtmb3IobGV0IG89MDtvPGUubGVuZ3RoO28rKyl7Y29uc3Qgcz1lW29dO2lmKCF5Lmhvcml6b250YWxbc10paWYocil5Lmhvcml6b250YWxbc109eS5ob3Jpem9udGFsWzBdO2Vsc2Uge2NvbnN0IGU9el8oeCx0LGksbixsLHcsYyxcImNlbnRlclwiLHMsaCxiLEFfLmhvcml6b250YWwsITEsZyxkKTtlJiYoeS5ob3Jpem9udGFsW3NdPWUscj0xPT09ZS5wb3NpdGlvbmVkTGluZXMubGVuZ3RoKTt9fVQoXCJsZWZ0XCIpO31lbHNlIHtpZihcImF1dG9cIj09PV8mJihfPWJnKHApKSx2fHx1LmdldChcInRleHQtd3JpdGluZy1tb2RlXCIpLmluZGV4T2YoXCJob3Jpem9udGFsXCIpPj0wfHwhTnMocikpe2NvbnN0IGU9el8oeCx0LGksbixsLHcsYyxwLF8saCxiLEFfLmhvcml6b250YWwsITEsZyxkKTtlJiYoeS5ob3Jpem9udGFsW19dPWUpO31UKHY/XCJsZWZ0XCI6Xyk7fX1sZXQgdz0hMTtpZihvLmljb24mJm8uaWNvbi5uYW1lUHJpbWFyeSl7Y29uc3QgdD1yW28uaWNvbi5uYW1lUHJpbWFyeV07dCYmKHY9VV8obltvLmljb24ubmFtZVByaW1hcnldLG8uaWNvbi5uYW1lU2Vjb25kYXJ5P25bby5pY29uLm5hbWVTZWNvbmRhcnldOnZvaWQgMCx1LmdldChcImljb24tb2Zmc2V0XCIpLmV2YWx1YXRlKG8se30sYSksdS5nZXQoXCJpY29uLWFuY2hvclwiKS5ldmFsdWF0ZShvLHt9LGEpKSx3PXQuc2RmLHZvaWQgMD09PWUuc2RmSWNvbnM/ZS5zZGZJY29ucz10LnNkZjplLnNkZkljb25zIT09dC5zZGYmJkgoXCJTdHlsZSBzaGVldCB3YXJuaW5nOiBDYW5ub3QgbWl4IFNERiBhbmQgbm9uLVNERiBpY29ucyBpbiBvbmUgYnVmZmVyXCIpLCh0LnBpeGVsUmF0aW8hPT1lLnBpeGVsUmF0aW98fDAhPT11LmdldChcImljb24tcm90YXRlXCIpLmNvbnN0YW50T3IoMSkpJiYoZS5pY29uc05lZWRMaW5lYXI9ITApKTt9Y29uc3QgVD1BZyh5Lmhvcml6b250YWwpfHx5LnZlcnRpY2FsO2UuaWNvbnNJblRleHR8fChlLmljb25zSW5UZXh0PSEhVCYmVC5pY29uc0luVGV4dCksKFR8fHYpJiZ3ZyhlLG8seSx2LHIscCxnLDAsYix3LHMsYSxjLGgsXyk7fW8mJmUuZ2VuZXJhdGVDb2xsaXNpb25EZWJ1Z0J1ZmZlcnMobCxlLmNvbGxpc2lvbkJveEFycmF5KTt9ZnVuY3Rpb24gYmcoZSl7c3dpdGNoKGUpe2Nhc2VcInJpZ2h0XCI6Y2FzZVwidG9wLXJpZ2h0XCI6Y2FzZVwiYm90dG9tLXJpZ2h0XCI6cmV0dXJuIFwicmlnaHRcIjtjYXNlXCJsZWZ0XCI6Y2FzZVwidG9wLWxlZnRcIjpjYXNlXCJib3R0b20tbGVmdFwiOnJldHVybiBcImxlZnRcIn1yZXR1cm4gXCJjZW50ZXJcIn1mdW5jdGlvbiB3ZyhlLHQsaSxyLG4sbyxzLGEsbCxjLGgsdSxkLHAsZil7bGV0IG09by50ZXh0TWF4U2l6ZS5ldmFsdWF0ZSh0LHt9LHUpO3ZvaWQgMD09PW0mJihtPXMpO2NvbnN0IF89ZS5sYXllcnNbMF0ubGF5b3V0LGc9Xy5nZXQoXCJpY29uLW9mZnNldFwiKS5ldmFsdWF0ZSh0LHt9LHUpLHk9QWcoaS5ob3Jpem9udGFsKXx8aS52ZXJ0aWNhbCx4PVwiZ2xvYmVcIj09PWQubmFtZSx2PXVfLGI9cy92LFQ9ZS50aWxlUGl4ZWxSYXRpbyptL3YsRT0oRD1lLm92ZXJzY2FsaW5nLGUuem9vbT4xOCYmRD4yJiYoRD4+PTEpLE1hdGgubWF4KGNyLyg1MTIqRCksMSkqXy5nZXQoXCJzeW1ib2wtc3BhY2luZ1wiKSksTT1fLmdldChcInRleHQtcGFkZGluZ1wiKSplLnRpbGVQaXhlbFJhdGlvLEE9Xy5nZXQoXCJpY29uLXBhZGRpbmdcIikqZS50aWxlUGl4ZWxSYXRpbyxTPXcoXy5nZXQoXCJ0ZXh0LW1heC1hbmdsZVwiKSksST1cIm1hcFwiPT09Xy5nZXQoXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiKSYmXCJwb2ludFwiIT09Xy5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpLEM9XCJtYXBcIj09PV8uZ2V0KFwiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnRcIikmJlwicG9pbnRcIiE9PV8uZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKSx6PV8uZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKSxQPUUvMjt2YXIgRDtjb25zdCBSPV8uZ2V0KFwiaWNvbi10ZXh0LWZpdFwiKS5ldmFsdWF0ZSh0LHt9LHUpLEw9Xy5nZXQoXCJpY29uLXRleHQtZml0LXBhZGRpbmdcIikuZXZhbHVhdGUodCx7fSx1KSxrPVwibm9uZVwiIT09UjtsZXQgTzshMT09PWUuaGFzQW55SWNvblRleHRGaXQmJmsmJihlLmhhc0FueUljb25UZXh0Rml0PSEwKSxyJiZrJiYoZS5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiZpLnZlcnRpY2FsJiYoTz1WXyhyLGkudmVydGljYWwsUixMLGcsYikpLHkmJihyPVZfKHIseSxSLEwsZyxiKSkpO2NvbnN0IEI9KHMsYSxtKT0+e2lmKGEueDwwfHxhLng+PWNyfHxhLnk8MHx8YS55Pj1jcilyZXR1cm47bGV0IF89bnVsbDtpZih4KXtjb25zdHt4OmUseTp0LHo6aX09ZC5wcm9qZWN0VGlsZVBvaW50KGEueCxhLnksbSk7Xz17YW5jaG9yOm5ldyBqXyhlLHQsaSwwLHZvaWQgMCksdXA6ZC51cFZlY3RvcihtLGEueCxhLnkpfTt9IWZ1bmN0aW9uKGUsdCxpLHIsbixvLHMsYSxsLGMsaCx1LGQscCxmLG0sXyxnLHkseCx2LGIsdyxULEUsTSxBKXtjb25zdCBTPWUuYWRkVG9MaW5lVmVydGV4QXJyYXkodCxyKTtsZXQgSSxDLHosUCxELFIsTCxrPTAsTz0wLEI9MCxGPTAsTj0tMSxVPS0xO2NvbnN0IFY9e307bGV0IGo9Q2woXCJcIik7Y29uc3QgRz1pP2kuYW5jaG9yOnQscT1cIm5vbmVcIiE9PWwubGF5b3V0LmdldChcImljb24tdGV4dC1maXRcIikuZXZhbHVhdGUodix7fSxFKTtsZXQgWj0wLCQ9MDtpZih2b2lkIDA9PT1sLl91bmV2YWx1YXRlZExheW91dC5nZXRWYWx1ZShcInRleHQtcmFkaWFsLW9mZnNldFwiKT9bWiwkXT1sLmxheW91dC5nZXQoXCJ0ZXh0LW9mZnNldFwiKS5ldmFsdWF0ZSh2LHt9LEUpLm1hcCgoZT0+ZSp1XykpOihaPWwubGF5b3V0LmdldChcInRleHQtcmFkaWFsLW9mZnNldFwiKS5ldmFsdWF0ZSh2LHt9LEUpKnVfLCQ9Z2cpLGUuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmbi52ZXJ0aWNhbCl7Y29uc3QgZT1uLnZlcnRpY2FsO2lmKGYpUj1JZyhlKSxhJiYoTD1JZyhhKSk7ZWxzZSB7Y29uc3QgaT1sLmxheW91dC5nZXQoXCJ0ZXh0LXJvdGF0ZVwiKS5ldmFsdWF0ZSh2LHt9LEUpKzkwO3o9U2coYyxHLHQsaCx1LGQsZSxwLGksbSksYSYmKFA9U2coYyxHLHQsaCx1LGQsYSxnLGkpKTt9fWlmKG8pe2NvbnN0IHI9bC5sYXlvdXQuZ2V0KFwiaWNvbi1yb3RhdGVcIikuZXZhbHVhdGUodix7fSxFKSxuPWFnKG8scix3LHEpLHM9YT9hZyhhLHIsdyxxKTp2b2lkIDA7Qz1TZyhjLEcsdCxoLHUsZCxvLGcsciksaz00Km4ubGVuZ3RoO2NvbnN0IHA9ZS5pY29uU2l6ZURhdGE7bGV0IGY9bnVsbDtcInNvdXJjZVwiPT09cC5raW5kPyhmPVtkXypsLmxheW91dC5nZXQoXCJpY29uLXNpemVcIikuZXZhbHVhdGUodix7fSxFKV0sZlswXT5FZyYmSChgJHtlLmxheWVySWRzWzBdfTogVmFsdWUgZm9yIFwiaWNvbi1zaXplXCIgaXMgPj0gJHtUZ30uIFJlZHVjZSB5b3VyIFwiaWNvbi1zaXplXCIuYCkpOlwiY29tcG9zaXRlXCI9PT1wLmtpbmQmJihmPVtkXypiLmNvbXBvc2l0ZUljb25TaXplc1swXS5ldmFsdWF0ZSh2LHt9LEUpLGRfKmIuY29tcG9zaXRlSWNvblNpemVzWzFdLmV2YWx1YXRlKHYse30sRSldLChmWzBdPkVnfHxmWzFdPkVnKSYmSChgJHtlLmxheWVySWRzWzBdfTogVmFsdWUgZm9yIFwiaWNvbi1zaXplXCIgaXMgPj0gJHtUZ30uIFJlZHVjZSB5b3VyIFwiaWNvbi1zaXplXCIuYCkpLGUuYWRkU3ltYm9scyhlLmljb24sbixmLHgseSx2LCExLGksdCxTLmxpbmVTdGFydEluZGV4LFMubGluZUxlbmd0aCwtMSxULEUsTSxBKSxOPWUuaWNvbi5wbGFjZWRTeW1ib2xBcnJheS5sZW5ndGgtMSxzJiYoTz00KnMubGVuZ3RoLGUuYWRkU3ltYm9scyhlLmljb24scyxmLHgseSx2LEFfLnZlcnRpY2FsLGksdCxTLmxpbmVTdGFydEluZGV4LFMubGluZUxlbmd0aCwtMSxULEUsTSxBKSxVPWUuaWNvbi5wbGFjZWRTeW1ib2xBcnJheS5sZW5ndGgtMSk7fWZvcihjb25zdCByIGluIG4uaG9yaXpvbnRhbCl7Y29uc3Qgbz1uLmhvcml6b250YWxbcl07SXx8KGo9Q2woby50ZXh0KSxmP0Q9SWcobyk6ST1TZyhjLEcsdCxoLHUsZCxvLHAsbC5sYXlvdXQuZ2V0KFwidGV4dC1yb3RhdGVcIikuZXZhbHVhdGUodix7fSxFKSxtKSk7Y29uc3QgYT0xPT09by5wb3NpdGlvbmVkTGluZXMubGVuZ3RoO2lmKEIrPU1nKGUsaSx0LG8scyxsLGYsdixtLFMsbi52ZXJ0aWNhbD9BXy5ob3Jpem9udGFsOkFfLmhvcml6b250YWxPbmx5LGE/T2JqZWN0LmtleXMobi5ob3Jpem9udGFsKTpbcl0sVixOLGIsVCxFLE0pLGEpYnJlYWt9bi52ZXJ0aWNhbCYmKEYrPU1nKGUsaSx0LG4udmVydGljYWwscyxsLGYsdixtLFMsQV8udmVydGljYWwsW1widmVydGljYWxcIl0sVixVLGIsVCxFLE0pKTtsZXQgVz0tMTtjb25zdCBYPShlLHQpPT5lP01hdGgubWF4KGUsdCk6dDtXPVgoRCxXKSxXPVgoUixXKSxXPVgoTCxXKTtjb25zdCBZPVc+LTE/MTowO2UuZ2x5cGhPZmZzZXRBcnJheS5sZW5ndGg+PWd5Lk1BWF9HTFlQSFMmJkgoXCJUb28gbWFueSBnbHlwaHMgYmVpbmcgcmVuZGVyZWQgaW4gYSB0aWxlLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvaXNzdWVzLzI5MDdcIiksdm9pZCAwIT09di5zb3J0S2V5JiZlLmFkZFRvU29ydEtleVJhbmdlcyhlLnN5bWJvbEluc3RhbmNlcy5sZW5ndGgsdi5zb3J0S2V5KSxlLnN5bWJvbEluc3RhbmNlcy5lbXBsYWNlQmFjayh0LngsdC55LEcueCxHLnksRy56LFYucmlnaHQ+PTA/Vi5yaWdodDotMSxWLmNlbnRlcj49MD9WLmNlbnRlcjotMSxWLmxlZnQ+PTA/Vi5sZWZ0Oi0xLFYudmVydGljYWw+PTA/Vi52ZXJ0aWNhbDotMSxOLFUsaix2b2lkIDAhPT1JP0k6ZS5jb2xsaXNpb25Cb3hBcnJheS5sZW5ndGgsdm9pZCAwIT09ST9JKzE6ZS5jb2xsaXNpb25Cb3hBcnJheS5sZW5ndGgsdm9pZCAwIT09ej96OmUuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLHZvaWQgMCE9PXo/eisxOmUuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLHZvaWQgMCE9PUM/QzplLmNvbGxpc2lvbkJveEFycmF5Lmxlbmd0aCx2b2lkIDAhPT1DP0MrMTplLmNvbGxpc2lvbkJveEFycmF5Lmxlbmd0aCxQfHxlLmNvbGxpc2lvbkJveEFycmF5Lmxlbmd0aCxQP1ArMTplLmNvbGxpc2lvbkJveEFycmF5Lmxlbmd0aCxoLEIsRixrLE8sWSwwLFosJCxXLDAscT8xOjApO30oZSxhLF8scyxpLHIsbixPLGUubGF5ZXJzWzBdLGUuY29sbGlzaW9uQm94QXJyYXksdC5pbmRleCx0LnNvdXJjZUxheWVySW5kZXgsZS5pbmRleCxNLEksbCwwLEEsQyxnLHQsbyxjLGgsdSxwLGYpO307aWYoXCJsaW5lXCI9PT16KWZvcihjb25zdCBuIG9mIFlfKHQuZ2VvbWV0cnksMCwwLGNyLGNyKSl7Y29uc3QgdD1IXyhuLEUsUyxpLnZlcnRpY2FsfHx5LHIsdixULGUub3ZlcnNjYWxpbmcsY3IpO2Zvcihjb25zdCBpIG9mIHQpeSYmQ2coZSx5LnRleHQsUCxpKXx8QihuLGksdSk7fWVsc2UgaWYoXCJsaW5lLWNlbnRlclwiPT09eil7Zm9yKGNvbnN0IGUgb2YgdC5nZW9tZXRyeSlpZihlLmxlbmd0aD4xKXtjb25zdCB0PVdfKGUsUyxpLnZlcnRpY2FsfHx5LHIsdixUKTt0JiZCKGUsdCx1KTt9fWVsc2UgaWYoXCJQb2x5Z29uXCI9PT10LnR5cGUpZm9yKGNvbnN0IGUgb2YgRmYodC5nZW9tZXRyeSwwKSl7Y29uc3QgdD1wZyhlLDE2KTtCKGVbMF0sbmV3IGpfKHQueCx0LnksMCwwLHZvaWQgMCksdSk7fWVsc2UgaWYoXCJMaW5lU3RyaW5nXCI9PT10LnR5cGUpZm9yKGNvbnN0IGUgb2YgdC5nZW9tZXRyeSlCKGUsbmV3IGpfKGVbMF0ueCxlWzBdLnksMCwwLHZvaWQgMCksdSk7ZWxzZSBpZihcIlBvaW50XCI9PT10LnR5cGUpZm9yKGNvbnN0IGUgb2YgdC5nZW9tZXRyeSlmb3IoY29uc3QgdCBvZiBlKUIoW3RdLG5ldyBqXyh0LngsdC55LDAsMCx2b2lkIDApLHUpO31jb25zdCBUZz0yNTUsRWc9VGcqZF87ZnVuY3Rpb24gTWcoZSx0LGkscixuLG8scyxhLGwsYyxoLHUsZCxwLGYsbSxfLGcpe2NvbnN0IHg9ZnVuY3Rpb24oZSx0LGkscixuLG8scyxhKXtjb25zdCBsPVtdO2lmKDA9PT10LnBvc2l0aW9uZWRMaW5lcy5sZW5ndGgpcmV0dXJuIGw7Y29uc3QgYz1yLmxheW91dC5nZXQoXCJ0ZXh0LXJvdGF0ZVwiKS5ldmFsdWF0ZShvLHt9KSpNYXRoLlBJLzE4MCxoPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZVswXSxpPWVbMV0scj10Kmk7cmV0dXJuIHI+MD9bdCwtaV06cjwwP1stdCxpXTowPT09dD9baSx0XTpbaSwtdF19KGkpO2xldCB1PU1hdGguYWJzKHQudG9wLXQuYm90dG9tKTtmb3IoY29uc3QgZSBvZiB0LnBvc2l0aW9uZWRMaW5lcyl1LT1lLmxpbmVPZmZzZXQ7Y29uc3QgZD10LnBvc2l0aW9uZWRMaW5lcy5sZW5ndGgscD11L2Q7bGV0IGY9dC50b3AtaVsxXTtmb3IobGV0IGU9MDtlPGQ7KytlKXtjb25zdCByPXQucG9zaXRpb25lZExpbmVzW2VdO2Y9ZGcodCxwLGYsZSk7Zm9yKGNvbnN0IGUgb2Ygci5wb3NpdGlvbmVkR2x5cGhzKXtpZighZS5yZWN0KWNvbnRpbnVlO2NvbnN0IHI9ZS5yZWN0fHx7fTtsZXQgbz1NXysxLHU9ITAsZD0xLHA9MDtpZihlLmltYWdlTmFtZSl7Y29uc3QgdD1zW2UuaW1hZ2VOYW1lXTtpZighdCljb250aW51ZTtpZih0LnNkZil7SChcIlNERiBpbWFnZXMgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gZm9ybWF0dGVkIHRleHQgYW5kIHdpbGwgYmUgaWdub3JlZC5cIik7Y29udGludWV9dT0hMSxkPXQucGl4ZWxSYXRpbyxvPUpfL2Q7fWNvbnN0IG09KG58fGEpJiZlLnZlcnRpY2FsLF89ZS5tZXRyaWNzLmFkdmFuY2UqZS5zY2FsZS8yLGc9ZS5tZXRyaWNzLHg9ZS5yZWN0O2lmKG51bGw9PT14KWNvbnRpbnVlO2EmJnQudmVydGljYWxpemFibGUmJihwPWUuaW1hZ2VOYW1lP18tZS5tZXRyaWNzLndpZHRoKmUuc2NhbGUvMjowKTtjb25zdCB2PW4/W2UueCtfLGUueV06WzAsMF07bGV0IGI9WzAsMF0sdz1bMCwwXSxUPSExO258fChtPyh3PVtlLngrXytoWzBdLGUueStoWzFdLXBdLFQ9ITApOmI9W2UueCtfK2lbMF0sZS55K2lbMV0tcF0pO2NvbnN0IEU9eC53KmUuc2NhbGUvKGQqKGUubG9jYWxHbHlwaD9uZzoxKSksTT14LmgqZS5zY2FsZS8oZCooZS5sb2NhbEdseXBoP25nOjEpKTtsZXQgQSxTLEksQztpZihtKXtjb25zdCB0PWUueS1mLGk9bmV3IHkoLV8sXy10KSxyPS1NYXRoLlBJLzIsbj1uZXcgeSguLi53KTtBPW5ldyB5KC1fK2JbMF0sYlsxXSksQS5fcm90YXRlQXJvdW5kKHIsaSkuX2FkZChuKSxBLngrPS10K18sQS55LT0oZy5sZWZ0LW8pKmUuc2NhbGU7Y29uc3Qgcz1lLmltYWdlTmFtZT9nLmFkdmFuY2UqZS5zY2FsZTp1XyplLnNjYWxlLGE9U3RyaW5nLmZyb21Db2RlUG9pbnQoZS5nbHlwaCk7eF8oYSk/QS54Kz0oMS1vKSplLnNjYWxlOnZfKGEpP0EueCs9cy1nLmhlaWdodCplLnNjYWxlKygtby0xKSplLnNjYWxlOkEueCs9ZS5pbWFnZU5hbWV8fGcud2lkdGgrMipvPT09eC53JiZnLmhlaWdodCsyKm89PT14Lmg/KHMtTSkvMjoocy0oZy5oZWlnaHQrMipvKSplLnNjYWxlKS8yLFM9bmV3IHkoQS54LEEueS1FKSxJPW5ldyB5KEEueCtNLEEueSksQz1uZXcgeShBLngrTSxBLnktRSk7fWVsc2Uge2NvbnN0IHQ9KGcubGVmdC1vKSplLnNjYWxlLV8rYlswXSxpPSgtZy50b3AtbykqZS5zY2FsZStiWzFdLHI9dCtFLG49aStNO0E9bmV3IHkodCxpKSxTPW5ldyB5KHIsaSksST1uZXcgeSh0LG4pLEM9bmV3IHkocixuKTt9aWYoYyl7bGV0IGU7ZT1uP25ldyB5KDAsMCk6VD9uZXcgeShoWzBdLGhbMV0pOm5ldyB5KGlbMF0saVsxXSksQS5fcm90YXRlQXJvdW5kKGMsZSksUy5fcm90YXRlQXJvdW5kKGMsZSksSS5fcm90YXRlQXJvdW5kKGMsZSksQy5fcm90YXRlQXJvdW5kKGMsZSk7fWNvbnN0IHo9bmV3IHkoMCwwKSxQPW5ldyB5KDAsMCk7bC5wdXNoKHt0bDpBLHRyOlMsYmw6SSxicjpDLHRleFByaW1hcnk6cix0ZXhTZWNvbmRhcnk6dm9pZCAwLHdyaXRpbmdNb2RlOnQud3JpdGluZ01vZGUsZ2x5cGhPZmZzZXQ6dixzZWN0aW9uSW5kZXg6ZS5zZWN0aW9uSW5kZXgsaXNTREY6dSxwaXhlbE9mZnNldFRMOnoscGl4ZWxPZmZzZXRCUjpQLG1pbkZvbnRTY2FsZVg6MCxtaW5Gb250U2NhbGVZOjB9KTt9fXJldHVybiBsfSgwLHIsbCxvLHMsYSxuLGUuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCksdj1lLnRleHRTaXplRGF0YTtsZXQgYj1udWxsO1wic291cmNlXCI9PT12LmtpbmQ/KGI9W2RfKm8ubGF5b3V0LmdldChcInRleHQtc2l6ZVwiKS5ldmFsdWF0ZShhLHt9LF8pXSxiWzBdPkVnJiZIKGAke2UubGF5ZXJJZHNbMF19OiBWYWx1ZSBmb3IgXCJ0ZXh0LXNpemVcIiBpcyA+PSAke1RnfS4gUmVkdWNlIHlvdXIgXCJ0ZXh0LXNpemVcIi5gKSk6XCJjb21wb3NpdGVcIj09PXYua2luZCYmKGI9W2RfKmYuY29tcG9zaXRlVGV4dFNpemVzWzBdLmV2YWx1YXRlKGEse30sXyksZF8qZi5jb21wb3NpdGVUZXh0U2l6ZXNbMV0uZXZhbHVhdGUoYSx7fSxfKV0sKGJbMF0+RWd8fGJbMV0+RWcpJiZIKGAke2UubGF5ZXJJZHNbMF19OiBWYWx1ZSBmb3IgXCJ0ZXh0LXNpemVcIiBpcyA+PSAke1RnfS4gUmVkdWNlIHlvdXIgXCJ0ZXh0LXNpemVcIi5gKSksZS5hZGRTeW1ib2xzKGUudGV4dCx4LGIsbCxzLGEsaCx0LGksYy5saW5lU3RhcnRJbmRleCxjLmxpbmVMZW5ndGgscCxtLF8sZywhMSk7Zm9yKGNvbnN0IHQgb2YgdSlkW3RdPWUudGV4dC5wbGFjZWRTeW1ib2xBcnJheS5sZW5ndGgtMTtyZXR1cm4gNCp4Lmxlbmd0aH1mdW5jdGlvbiBBZyhlKXtmb3IoY29uc3QgdCBpbiBlKXJldHVybiBlW3RdO3JldHVybiBudWxsfWZ1bmN0aW9uIFNnKGUsdCxpLHIsbixvLHMsYSxsLGMpe2xldCBoPXMudG9wLHU9cy5ib3R0b20sZD1zLmxlZnQscD1zLnJpZ2h0O2NvbnN0IGY9cy5jb2xsaXNpb25QYWRkaW5nO2lmKGYmJihkLT1mWzBdLGgtPWZbMV0scCs9ZlsyXSx1Kz1mWzNdKSxsKXtjb25zdCBlPW5ldyB5KGQsaCksdD1uZXcgeShwLGgpLGk9bmV3IHkoZCx1KSxyPW5ldyB5KHAsdSksbj13KGwpO2xldCBvPW5ldyB5KDAsMCk7YyYmKG89bmV3IHkoY1swXSxjWzFdKSksZS5fcm90YXRlQXJvdW5kKG4sbyksdC5fcm90YXRlQXJvdW5kKG4sbyksaS5fcm90YXRlQXJvdW5kKG4sbyksci5fcm90YXRlQXJvdW5kKG4sbyksZD1NYXRoLm1pbihlLngsdC54LGkueCxyLngpLHA9TWF0aC5tYXgoZS54LHQueCxpLngsci54KSxoPU1hdGgubWluKGUueSx0LnksaS55LHIueSksdT1NYXRoLm1heChlLnksdC55LGkueSxyLnkpO31yZXR1cm4gZS5lbXBsYWNlQmFjayh0LngsdC55LHQueixpLngsaS55LGQsaCxwLHUsYSxyLG4sbyksZS5sZW5ndGgtMX1mdW5jdGlvbiBJZyhlKXtlLmNvbGxpc2lvblBhZGRpbmcmJihlLnRvcC09ZS5jb2xsaXNpb25QYWRkaW5nWzFdLGUuYm90dG9tKz1lLmNvbGxpc2lvblBhZGRpbmdbM10pO2NvbnN0IHQ9ZS5ib3R0b20tZS50b3A7cmV0dXJuIHQ+MD9NYXRoLm1heCgxMCx0KTpudWxsfWZ1bmN0aW9uIENnKGUsdCxpLHIpe2NvbnN0IG49ZS5jb21wYXJlVGV4dDtpZih0IGluIG4pe2NvbnN0IGU9blt0XTtmb3IobGV0IHQ9ZS5sZW5ndGgtMTt0Pj0wO3QtLSlpZihyLmRpc3QoZVt0XSk8aSlyZXR1cm4gITB9ZWxzZSBuW3RdPVtdO3JldHVybiBuW3RdLnB1c2gociksITF9ZnVuY3Rpb24gemcoZSx0KXtjb25zdCBpPWUuZm92QWJvdmVDZW50ZXIscj1lLmVsZXZhdGlvbj9lLmVsZXZhdGlvbi5nZXRNaW5FbGV2YXRpb25CZWxvd01TTCgpKnQ6MCxuPShlLl9jYW1lcmEucG9zaXRpb25bMl0qZS53b3JsZFNpemUtcikvTWF0aC5jb3MoZS5fcGl0Y2gpLG89TWF0aC5zaW4oaSkqbi9NYXRoLnNpbihNYXRoLm1heChNYXRoLlBJLzItZS5fcGl0Y2gtaSwuMDEpKSxzPU1hdGguc2luKGUuX3BpdGNoKSpvK247cmV0dXJuIE1hdGgubWluKDEuMDEqcyxuKigxL2UuX2hvcml6b25TaGlmdCkpfWZ1bmN0aW9uIFBnKGUsdCl7aWYoIXQuaXNSZXByb2plY3RlZEluVGlsZVNwYWNlKXJldHVybiB7c2NhbGU6MTw8ZS56LHg6ZS54LHk6ZS55LHgyOmUueCsxLHkyOmUueSsxLHByb2plY3Rpb246dH07Y29uc3QgaT1NYXRoLnBvdygyLC1lLnopLHI9ZS54Kmksbj0oZS54KzEpKmksbz1lLnkqaSxzPShlLnkrMSkqaSxhPWVwKHIpLGw9ZXAobiksYz10cChvKSxoPXRwKHMpLHU9dC5wcm9qZWN0KGEsYyksZD10LnByb2plY3QobCxjKSxwPXQucHJvamVjdChsLGgpLGY9dC5wcm9qZWN0KGEsaCk7bGV0IG09TWF0aC5taW4odS54LGQueCxwLngsZi54KSxfPU1hdGgubWluKHUueSxkLnkscC55LGYueSksZz1NYXRoLm1heCh1LngsZC54LHAueCxmLngpLHk9TWF0aC5tYXgodS55LGQueSxwLnksZi55KTtjb25zdCB4PWkvMTY7ZnVuY3Rpb24gdihlLGkscixuLG8scyl7Y29uc3QgYT0ocitvKS8yLGw9KG4rcykvMixjPXQucHJvamVjdChlcChhKSx0cChsKSksaD1NYXRoLm1heCgwLG0tYy54LF8tYy55LGMueC1nLGMueS15KTttPU1hdGgubWluKG0sYy54KSxnPU1hdGgubWF4KGcsYy54KSxfPU1hdGgubWluKF8sYy55KSx5PU1hdGgubWF4KHksYy55KSxoPngmJih2KGUsYyxyLG4sYSxsKSx2KGMsaSxhLGwsbyxzKSk7fXYodSxkLHIsbyxuLG8pLHYoZCxwLG4sbyxuLHMpLHYocCxmLG4scyxyLHMpLHYoZix1LHIscyxyLG8pLG0tPXgsXy09eCxnKz14LHkrPXg7Y29uc3QgYj0xL01hdGgubWF4KGctbSx5LV8pO3JldHVybiB7c2NhbGU6Yix4Om0qYix5Ol8qYix4MjpnKmIseTI6eSpiLHByb2plY3Rpb246dH19ZnVuY3Rpb24gRGcoZSx0LGkscixuLG8scyxhLGwpe2lmKFwiZ2xvYmVcIj09PWwubmFtZSlyZXR1cm4geWQoZSx0LG5ldyBqdShpLHIsbiksITEpO2NvbnN0IGM9UGcoe3o6aSx4OnIseTpufSxsKTtyZXR1cm4gbmV3IGVkKFsobytjLngvYy5zY2FsZSkqdCx0KihjLnkvYy5zY2FsZSksc10sWyhvK2MueDIvYy5zY2FsZSkqdCx0KihjLnkyL2Muc2NhbGUpLGFdKX1mdW5jdGlvbiBSZyhlLHt4OnQseTppfSxyPTApe3JldHVybiBuZXcgeSgoKHQtcikqZS5zY2FsZS1lLngpKmNyLChpKmUuc2NhbGUtZS55KSpjcil9ZnVuY3Rpb24gTGcoZSx0LGk9MCl7cmV0dXJuIER1LmZyb21WYWx1ZXMoKCh0LngtaSkqZS5zY2FsZS1lLngpKmNyLCh0LnkqZS5zY2FsZS1lLnkpKmNyLGlwKHQueix0LnkpKX1jb25zdCBrZz1BdS5pZGVudGl0eShuZXcgRmxvYXQzMkFycmF5KDE2KSk7Y2xhc3MgT2d7Y29uc3RydWN0b3IoZSl7dGhpcy5zcGVjPWUsdGhpcy5uYW1lPWUubmFtZSx0aGlzLndyYXA9ITEsdGhpcy5yZXF1aXJlc0RyYXBpbmc9ITEsdGhpcy5zdXBwb3J0c1dvcmxkQ29waWVzPSExLHRoaXMuc3VwcG9ydHNUZXJyYWluPSExLHRoaXMuc3VwcG9ydHNGb2c9ITEsdGhpcy5zdXBwb3J0c0ZyZWVDYW1lcmE9ITEsdGhpcy56QXhpc1VuaXQ9XCJtZXRlcnNcIix0aGlzLmlzUmVwcm9qZWN0ZWRJblRpbGVTcGFjZT0hMCx0aGlzLnVuc3VwcG9ydGVkTGF5ZXJzPVtcImN1c3RvbVwiXSx0aGlzLmNlbnRlcj1bMCwwXSx0aGlzLnJhbmdlPVszLjUsN107fXByb2plY3QoZSx0KXtyZXR1cm4ge3g6MCx5OjAsejowfX11bnByb2plY3QoZSx0KXtyZXR1cm4gbmV3IFdkKDAsMCl9cHJvamVjdFRpbGVQb2ludChlLHQsaSl7cmV0dXJuIHt4OmUseTp0LHo6MH19bG9jYXRpb25Qb2ludChlLHQsaT0hMCl7cmV0dXJuIGUuX2Nvb3JkaW5hdGVQb2ludChlLmxvY2F0aW9uQ29vcmRpbmF0ZSh0KSxpKX1waXhlbHNQZXJNZXRlcihlLHQpe3JldHVybiBRZCgxLGUpKnR9cGl4ZWxTcGFjZUNvbnZlcnNpb24oZSx0LGkpe3JldHVybiAxfWZhcnRoZXN0UGl4ZWxEaXN0YW5jZShlKXtyZXR1cm4gemcoZSxlLnBpeGVsc1Blck1ldGVyKX1wb2ludENvb3JkaW5hdGUoZSx0LGkscil7Y29uc3Qgbj1lLmhvcml6b25MaW5lRnJvbVRvcCghMSksbz1uZXcgeSh0LE1hdGgubWF4KG4saSkpO3JldHVybiBlLnJheUludGVyc2VjdGlvbkNvb3JkaW5hdGUoZS5wb2ludFJheUludGVyc2VjdGlvbihvLHIpKX1wb2ludENvb3JkaW5hdGUzRChlLHQsaSl7Y29uc3Qgcj1uZXcgeSh0LGkpO2lmKGUuZWxldmF0aW9uKXJldHVybiBlLmVsZXZhdGlvbi5wb2ludENvb3JkaW5hdGUocik7e2NvbnN0IHQ9dGhpcy5wb2ludENvb3JkaW5hdGUoZSxyLngsci55LDApO3JldHVybiBbdC54LHQueSx0LnpdfX1pc1BvaW50QWJvdmVIb3Jpem9uKGUsdCl7aWYoZS5lbGV2YXRpb24pcmV0dXJuICF0aGlzLnBvaW50Q29vcmRpbmF0ZTNEKGUsdC54LHQueSk7Y29uc3QgaT1lLmhvcml6b25MaW5lRnJvbVRvcCgpO3JldHVybiB0Lnk8aX1jcmVhdGVJbnZlcnNpb25NYXRyaXgoZSx0KXtyZXR1cm4ga2d9Y3JlYXRlVGlsZU1hdHJpeChlLHQsaSl7bGV0IHIsbixvO2NvbnN0IHM9aS5jYW5vbmljYWwsYT1BdS5pZGVudGl0eShuZXcgRmxvYXQ2NEFycmF5KDE2KSk7aWYodGhpcy5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2Upe2NvbnN0IGw9UGcocyx0aGlzKTtyPTEsbj1sLngraS53cmFwKmwuc2NhbGUsbz1sLnksQXUuc2NhbGUoYSxhLFtyL2wuc2NhbGUsci9sLnNjYWxlLGUucGl4ZWxzUGVyTWV0ZXIvdF0pO31lbHNlIHI9dC9lLnpvb21TY2FsZShzLnopLG49KHMueCtNYXRoLnBvdygyLHMueikqaS53cmFwKSpyLG89cy55KnI7cmV0dXJuIEF1LnRyYW5zbGF0ZShhLGEsW24sbywwXSksQXUuc2NhbGUoYSxhLFtyL2NyLHIvY3IsMV0pLGF9dXBWZWN0b3IoZSx0LGkpe3JldHVybiBbMCwwLDFdfXVwVmVjdG9yU2NhbGUoZSx0LGkpe3JldHVybiB7bWV0ZXJzVG9UaWxlOjF9fX1jbGFzcyBCZyBleHRlbmRzIE9ne2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMucmFuZ2U9WzQsN10sdGhpcy5jZW50ZXI9ZS5jZW50ZXJ8fFstOTYsMzcuNV07Y29uc3RbdCxpXT10aGlzLnBhcmFsbGVscz1lLnBhcmFsbGVsc3x8WzI5LjUsNDUuNV0scj1NYXRoLnNpbih3KHQpKTt0aGlzLm49KHIrTWF0aC5zaW4odyhpKSkpLzIsdGhpcy5jPTErciooMip0aGlzLm4tciksdGhpcy5yMD1NYXRoLnNxcnQodGhpcy5jKS90aGlzLm47fXByb2plY3QoZSx0KXtjb25zdHtuOmksYzpyLHIwOm59PXRoaXMsbz13KGUtdGhpcy5jZW50ZXJbMF0pLHM9dyh0KSxhPU1hdGguc3FydChyLTIqaSpNYXRoLnNpbihzKSkvaTtyZXR1cm4ge3g6YSpNYXRoLnNpbihvKmkpLHk6YSpNYXRoLmNvcyhvKmkpLW4sejowfX11bnByb2plY3QoZSx0KXtjb25zdHtuOmksYzpyLHIwOm59PXRoaXMsbz1uK3Q7bGV0IHM9TWF0aC5hdGFuMihlLE1hdGguYWJzKG8pKSpNYXRoLnNpZ24obyk7byppPDAmJihzLT1NYXRoLlBJKk1hdGguc2lnbihlKSpNYXRoLnNpZ24obykpO2NvbnN0IGE9dyh0aGlzLmNlbnRlclswXSkqaTtzPUQocywtTWF0aC5QSS1hLE1hdGguUEktYSk7Y29uc3QgbD16KFQocy9pKSt0aGlzLmNlbnRlclswXSwtMTgwLDE4MCksYz1NYXRoLmFzaW4oeigoci0oZSplK28qbykqaSppKS8oMippKSwtMSwxKSksaD16KFQoYyksLXJwLHJwKTtyZXR1cm4gbmV3IFdkKGwsaCl9fWNvbnN0IEZnPTEuMzQwMjY0LE5nPS0uMDgxMTA2LFVnPTg5M2UtNixWZz0uMDAzNzk2LGpnPU1hdGguc3FydCgzKS8yO2NsYXNzIEdnIGV4dGVuZHMgT2d7cHJvamVjdChlLHQpe3Q9dC8xODAqTWF0aC5QSSxlPWUvMTgwKk1hdGguUEk7Y29uc3QgaT1NYXRoLmFzaW4oamcqTWF0aC5zaW4odCkpLHI9aSppLG49cipyKnI7cmV0dXJuIHt4Oi41KihlKk1hdGguY29zKGkpLyhqZyooRmcrMypOZypyK24qKDcqVWcrOSpWZypyKSkpL01hdGguUEkrLjUpLHk6MS0uNSooaSooRmcrTmcqcituKihVZytWZypyKSkvTWF0aC5QSSsxKSx6OjB9fXVucHJvamVjdChlLHQpe2U9KDIqZS0uNSkqTWF0aC5QSTtsZXQgaT10PSgyKigxLXQpLTEpKk1hdGguUEkscj1pKmksbj1yKnIqcjtmb3IobGV0IGUsbyxzLGE9MDthPDEyJiYobz1pKihGZytOZypyK24qKFVnK1ZnKnIpKS10LHM9RmcrMypOZypyK24qKDcqVWcrOSpWZypyKSxlPW8vcyxpPXooaS1lLC1NYXRoLlBJLzMsTWF0aC5QSS8zKSxyPWkqaSxuPXIqcipyLCEoTWF0aC5hYnMoZSk8MWUtMTIpKTsrK2EpO2NvbnN0IG89amcqZSooRmcrMypOZypyK24qKDcqVWcrOSpWZypyKSkvTWF0aC5jb3MoaSkscz1NYXRoLmFzaW4oTWF0aC5zaW4oaSkvamcpLGE9eigxODAqby9NYXRoLlBJLC0xODAsMTgwKSxsPXooMTgwKnMvTWF0aC5QSSwtcnAscnApO3JldHVybiBuZXcgV2QoYSxsKX19Y2xhc3MgcWcgZXh0ZW5kcyBPZ3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLndyYXA9ITAsdGhpcy5zdXBwb3J0c1dvcmxkQ29waWVzPSEwO31wcm9qZWN0KGUsdCl7cmV0dXJuIHt4Oi41K2UvMzYwLHk6LjUtdC8zNjAsejowfX11bnByb2plY3QoZSx0KXtjb25zdCBpPTM2MCooZS0uNSkscj16KDM2MCooLjUtdCksLXJwLHJwKTtyZXR1cm4gbmV3IFdkKGkscil9fWNvbnN0IFpnPU1hdGguUEkvMjtmdW5jdGlvbiAkZyhlKXtyZXR1cm4gTWF0aC50YW4oKFpnK2UpLzIpfWNsYXNzIFdnIGV4dGVuZHMgT2d7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5jZW50ZXI9ZS5jZW50ZXJ8fFswLDMwXTtjb25zdFt0LGldPXRoaXMucGFyYWxsZWxzPWUucGFyYWxsZWxzfHxbMzAsMzBdO2xldCByPXcodCksbj13KGkpO3RoaXMuc291dGhlcm5DZW50ZXI9cituPDAsdGhpcy5zb3V0aGVybkNlbnRlciYmKHI9LXIsbj0tbik7Y29uc3Qgbz1NYXRoLmNvcyhyKSxzPSRnKHIpO3RoaXMubj1yPT09bj9NYXRoLnNpbihyKTpNYXRoLmxvZyhvL01hdGguY29zKG4pKS9NYXRoLmxvZygkZyhuKS9zKSx0aGlzLmY9bypNYXRoLnBvdygkZyhyKSx0aGlzLm4pL3RoaXMubjt9cHJvamVjdChlLHQpe3Q9dyh0KSx0aGlzLnNvdXRoZXJuQ2VudGVyJiYodD0tdCksZT13KGUtdGhpcy5jZW50ZXJbMF0pO2NvbnN0IGk9MWUtNix7bjpyLGY6bn09dGhpcztuPjA/dDwtWmcraSYmKHQ9LVpnK2kpOnQ+WmctaSYmKHQ9WmctaSk7Y29uc3Qgbz1uL01hdGgucG93KCRnKHQpLHIpO2xldCBzPW8qTWF0aC5zaW4ociplKSxhPW4tbypNYXRoLmNvcyhyKmUpO3JldHVybiBzPS41KihzL01hdGguUEkrLjUpLGE9LjUqKGEvTWF0aC5QSSsuNSkse3g6cyx5OnRoaXMuc291dGhlcm5DZW50ZXI/YToxLWEsejowfX11bnByb2plY3QoZSx0KXtlPSgyKmUtLjUpKk1hdGguUEksdGhpcy5zb3V0aGVybkNlbnRlciYmKHQ9MS10KSx0PSgyKigxLXQpLS41KSpNYXRoLlBJO2NvbnN0e246aSxmOnJ9PXRoaXMsbj1yLXQsbz1NYXRoLnNpZ24obikscz1NYXRoLnNpZ24oaSkqTWF0aC5zcXJ0KGUqZStuKm4pO2xldCBhPU1hdGguYXRhbjIoZSxNYXRoLmFicyhuKSkqbztuKmk8MCYmKGEtPU1hdGguUEkqTWF0aC5zaWduKGUpKm8pO2NvbnN0IGw9eihUKGEvaSkrdGhpcy5jZW50ZXJbMF0sLTE4MCwxODApLGM9eihUKDIqTWF0aC5hdGFuKE1hdGgucG93KHIvcywxL2kpKS1aZyksLXJwLHJwKTtyZXR1cm4gbmV3IFdkKGwsdGhpcy5zb3V0aGVybkNlbnRlcj8tYzpjKX19Y2xhc3MgSGcgZXh0ZW5kcyBPZ3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLndyYXA9ITAsdGhpcy5zdXBwb3J0c1dvcmxkQ29waWVzPSEwLHRoaXMuc3VwcG9ydHNUZXJyYWluPSEwLHRoaXMuc3VwcG9ydHNGb2c9ITAsdGhpcy5zdXBwb3J0c0ZyZWVDYW1lcmE9ITAsdGhpcy5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2U9ITEsdGhpcy51bnN1cHBvcnRlZExheWVycz1bXSx0aGlzLnJhbmdlPW51bGw7fXByb2plY3QoZSx0KXtyZXR1cm4ge3g6S2QoZSkseTpKZCh0KSx6OjB9fXVucHJvamVjdChlLHQpe2NvbnN0IGk9ZXAoZSkscj10cCh0KTtyZXR1cm4gbmV3IFdkKGkscil9fWNvbnN0IFhnPXcocnApO2NsYXNzIFlnIGV4dGVuZHMgT2d7cHJvamVjdChlLHQpe2NvbnN0IGk9KHQ9dyh0KSkqdCxyPWkqaTtyZXR1cm4ge3g6LjUqKChlPXcoZSkpKiguODcwNy0uMTMxOTc5KmkrcioociooLjAwMzk3MSppLS4wMDE1MjkqciktLjAxMzc5MSkpL01hdGguUEkrLjUpLHk6MS0uNSoodCooMS4wMDcyMjYraSooLjAxNTA4NStyKiguMDI4ODc0KmktLjA0NDQ3NS0uMDA1OTE2KnIpKSkvTWF0aC5QSSsxKSx6OjB9fXVucHJvamVjdChlLHQpe2U9KDIqZS0uNSkqTWF0aC5QSTtsZXQgaT10PSgyKigxLXQpLTEpKk1hdGguUEkscj0yNSxuPTAsbz1pKmk7ZG97bz1pKmk7Y29uc3QgZT1vKm87bj0oaSooMS4wMDcyMjYrbyooLjAxNTA4NStlKiguMDI4ODc0Km8tLjA0NDQ3NS0uMDA1OTE2KmUpKSktdCkvKDEuMDA3MjI2K28qKC4wNDUyNTUrZSooLjI1OTg2NipvLS4zMTEzMjUtLjAwNTkxNioxMSplKSkpLGk9eihpLW4sLVhnLFhnKTt9d2hpbGUoTWF0aC5hYnMobik+MWUtNiYmLS1yPjApO289aSppO2NvbnN0IHM9eihUKGUvKC44NzA3K28qKG8qKG8qbypvKiguMDAzOTcxLS4wMDE1MjkqbyktLjAxMzc5MSktLjEzMTk3OSkpKSwtMTgwLDE4MCksYT1UKGkpO3JldHVybiBuZXcgV2QocyxhKX19Y29uc3QgS2c9dyhycCk7Y2xhc3MgSmcgZXh0ZW5kcyBPZ3twcm9qZWN0KGUsdCl7dD13KHQpLGU9dyhlKTtjb25zdCBpPU1hdGguY29zKHQpLHI9Mi9NYXRoLlBJLG49TWF0aC5hY29zKGkqTWF0aC5jb3MoZS8yKSksbz1NYXRoLnNpbihuKS9uLHM9LjUqKGUqcisyKmkqTWF0aC5zaW4oZS8yKS9vKXx8MCxhPS41Kih0K01hdGguc2luKHQpL28pfHwwO3JldHVybiB7eDouNSoocy9NYXRoLlBJKy41KSx5OjEtLjUqKGEvTWF0aC5QSSsxKSx6OjB9fXVucHJvamVjdChlLHQpe2xldCBpPWU9KDIqZS0uNSkqTWF0aC5QSSxyPXQ9KDIqKDEtdCktMSkqTWF0aC5QSSxuPTI1O2NvbnN0IG89MWUtNjtsZXQgcz0wLGE9MDtkb3tjb25zdCBuPU1hdGguY29zKHIpLG89TWF0aC5zaW4ociksbD0yKm8qbixjPW8qbyxoPW4qbix1PU1hdGguY29zKGkvMiksZD1NYXRoLnNpbihpLzIpLHA9Mip1KmQsZj1kKmQsbT0xLWgqdSp1LF89bT8xL206MCxnPW0/TWF0aC5hY29zKG4qdSkqTWF0aC5zcXJ0KDEvbSk6MCx5PS41KigyKmcqbipkKzIqaS9NYXRoLlBJKS1lLHg9LjUqKGcqbytyKS10LHY9LjUqXyooaCpmK2cqbip1KmMpKzEvTWF0aC5QSSxiPV8qKHAqbC80LWcqbypkKSx3PS4xMjUqXyoobCpkLWcqbypoKnApLFQ9LjUqXyooYyp1K2cqZipuKSsuNSxFPWIqdy1UKnY7cz0oeCpiLXkqVCkvRSxhPSh5KncteCp2KS9FLGk9eihpLXMsLU1hdGguUEksTWF0aC5QSSkscj16KHItYSwtS2csS2cpO313aGlsZSgoTWF0aC5hYnMocyk+b3x8TWF0aC5hYnMoYSk+bykmJi0tbj4wKTtyZXR1cm4gbmV3IFdkKFQoaSksVChyKSl9fWNsYXNzIFFnIGV4dGVuZHMgT2d7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5jZW50ZXI9ZS5jZW50ZXJ8fFswLDBdLHRoaXMucGFyYWxsZWxzPWUucGFyYWxsZWxzfHxbMCwwXSx0aGlzLmNvc1BoaT1NYXRoLm1heCguMDEsTWF0aC5jb3Modyh0aGlzLnBhcmFsbGVsc1swXSkpKSx0aGlzLnNjYWxlPTEvKDIqTWF0aC5tYXgoTWF0aC5QSSp0aGlzLmNvc1BoaSwxL3RoaXMuY29zUGhpKSksdGhpcy53cmFwPSEwLHRoaXMuc3VwcG9ydHNXb3JsZENvcGllcz0hMDt9cHJvamVjdChlLHQpe2NvbnN0e3NjYWxlOmksY29zUGhpOnJ9PXRoaXM7cmV0dXJuIHt4OncoZSkqcippKy41LHk6LU1hdGguc2luKHcodCkpL3IqaSsuNSx6OjB9fXVucHJvamVjdChlLHQpe2NvbnN0e3NjYWxlOmksY29zUGhpOnJ9PXRoaXMsbj0tKHQtLjUpL2ksbz16KFQoKGUtLjUpL2kpL3IsLTE4MCwxODApLHM9TWF0aC5hc2luKHoobipyLC0xLDEpKSxhPXooVChzKSwtcnAscnApO3JldHVybiBuZXcgV2QobyxhKX19Y2xhc3MgZXkgZXh0ZW5kcyBIZ3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLnJlcXVpcmVzRHJhcGluZz0hMCx0aGlzLnN1cHBvcnRzV29ybGRDb3BpZXM9ITEsdGhpcy5zdXBwb3J0c0ZvZz0hMCx0aGlzLnpBeGlzVW5pdD1cInBpeGVsc1wiLHRoaXMudW5zdXBwb3J0ZWRMYXllcnM9W1wiZGVidWdcIl0sdGhpcy5yYW5nZT1bMyw1XTt9cHJvamVjdFRpbGVQb2ludChlLHQsaSl7Y29uc3Qgcj1UZChlLHQsaSksbj1BZChmZChpKSk7cmV0dXJuIER1LnRyYW5zZm9ybU1hdDQocixyLG4pLHt4OnJbMF0seTpyWzFdLHo6clsyXX19bG9jYXRpb25Qb2ludChlLHQpe2NvbnN0IGk9d2QodC5sYXQsdC5sbmcpLHI9RHUubm9ybWFsaXplKFtdLGkpLG49ZS5lbGV2YXRpb24/ZS5lbGV2YXRpb24uZ2V0QXRQb2ludE9yWmVybyhlLmxvY2F0aW9uQ29vcmRpbmF0ZSh0KSxlLl9jZW50ZXJBbHRpdHVkZSk6ZS5fY2VudGVyQWx0aXR1ZGUsbz1RZCgxLDApKmNyKm47RHUuc2NhbGVBbmRBZGQoaSxpLHIsbyk7Y29uc3Qgcz1BdS5pZGVudGl0eShuZXcgRmxvYXQ2NEFycmF5KDE2KSk7cmV0dXJuIEF1Lm11bHRpcGx5KHMsZS5waXhlbE1hdHJpeCxlLmdsb2JlTWF0cml4KSxEdS50cmFuc2Zvcm1NYXQ0KGksaSxzKSxuZXcgeShpWzBdLGlbMV0pfXBpeGVsc1Blck1ldGVyKGUsdCl7cmV0dXJuIFFkKDEsMCkqdH1waXhlbFNwYWNlQ29udmVyc2lvbihlLHQsaSl7Y29uc3Qgcj1RZCgxLGUpKnQsbj1LcihRZCgxLDQ1KSp0LHIsaSk7cmV0dXJuIHRoaXMucGl4ZWxzUGVyTWV0ZXIoZSx0KS9ufWNyZWF0ZVRpbGVNYXRyaXgoZSx0LGkpe2NvbnN0IHI9U2QoZmQoaS5jYW5vbmljYWwpKTtyZXR1cm4gQXUubXVsdGlwbHkobmV3IEZsb2F0NjRBcnJheSgxNiksZS5nbG9iZU1hdHJpeCxyKX1jcmVhdGVJbnZlcnNpb25NYXRyaXgoZSx0KXtjb25zdHtjZW50ZXI6aX09ZSxyPUFkKGZkKHQpKTtyZXR1cm4gQXUucm90YXRlWShyLHIsdyhpLmxuZykpLEF1LnJvdGF0ZVgocixyLHcoaS5sYXQpKSxBdS5zY2FsZShyLHIsW2UuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwsZS5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCwxXSksRmxvYXQzMkFycmF5LmZyb20ocil9cG9pbnRDb29yZGluYXRlKGUsdCxpLHIpe3JldHVybiB1ZChlLHQsaSwhMCl8fG5ldyBscCgwLDApfXBvaW50Q29vcmRpbmF0ZTNEKGUsdCxpKXtjb25zdCByPXRoaXMucG9pbnRDb29yZGluYXRlKGUsdCxpLDApO3JldHVybiBbci54LHIueSxyLnpdfWlzUG9pbnRBYm92ZUhvcml6b24oZSx0KXtyZXR1cm4gIXVkKGUsdC54LHQueSwhMSl9ZmFydGhlc3RQaXhlbERpc3RhbmNlKGUpe2NvbnN0IHQ9ZnVuY3Rpb24oZSx0KXtjb25zdCBpPWUuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSxyPWUuX2NlbnRlckFsdGl0dWRlKnQsbj1lLl9jYW1lcmEsbz1lLl9jYW1lcmEuZm9yd2FyZCgpLHM9RHUuYWRkKFtdLER1LnNjYWxlKFtdLG8sLWkpLFswLDAscl0pLGE9ZS53b3JsZFNpemUvKDIqTWF0aC5QSSksbD1bMCwwLC1hXSxjPWUud2lkdGgvZS5oZWlnaHQsaD1NYXRoLnRhbihlLmZvdkFib3ZlQ2VudGVyKSx1PUR1LnNjYWxlKFtdLG4udXAoKSxoKSxkPUR1LnNjYWxlKFtdLG4ucmlnaHQoKSxoKmMpLHA9RHUubm9ybWFsaXplKFtdLER1LmFkZChbXSxEdS5hZGQoW10sbyx1KSxkKSksZj1bXTtsZXQgbTtpZihuZXcgV3UocyxwKS5jbG9zZXN0UG9pbnRPblNwaGVyZShsLGEsZikpe2NvbnN0IHQ9RHUuYWRkKFtdLGYsbCksaT1EdS5zdWIoW10sdCxzKTttPU1hdGguY29zKGUuZm92QWJvdmVDZW50ZXIpKkR1Lmxlbmd0aChpKTt9ZWxzZSB7Y29uc3QgZT1EdS5zdWIoW10scyxsKSx0PUR1LnN1YihbXSxsLHMpO0R1Lm5vcm1hbGl6ZSh0LHQpO2NvbnN0IGk9RHUubGVuZ3RoKGUpLWE7bT1NYXRoLnNxcnQoaSooaSsyKmEpKTtjb25zdCByPU1hdGguYWNvcyhtLyhhK2kpKS1NYXRoLmFjb3MoRHUuZG90KG8sdCkpO20qPU1hdGguY29zKHIpO31yZXR1cm4gMS4wMSptfShlLHRoaXMucGl4ZWxzUGVyTWV0ZXIoZS5jZW50ZXIubGF0LGUud29ybGRTaXplKSksaT1EZChlLnpvb20pO2lmKGk+MCl7Y29uc3Qgcj16ZyhlLFFkKDEsZS5jZW50ZXIubGF0KSplLndvcmxkU2l6ZSksbj1lLndvcmxkU2l6ZS8oMipNYXRoLlBJKSxvPU1hdGgubWF4KGUud2lkdGgsZS5oZWlnaHQpL2Uud29ybGRTaXplKk1hdGguUEk7cmV0dXJuIEtyKHQscituKigxLU1hdGguY29zKG8pKSxNYXRoLnBvdyhpLDEwKSl9cmV0dXJuIHR9dXBWZWN0b3IoZSx0LGkpe3JldHVybiBUZCh0LGksZSwxKX11cFZlY3RvclNjYWxlKGUpe3JldHVybiB7bWV0ZXJzVG9UaWxlOmhkKEVkKGZkKGUpKSl9fX1mdW5jdGlvbiB0eShlKXtjb25zdCB0PWUucGFyYWxsZWxzLGk9ISF0JiZNYXRoLmFicyh0WzBdK3RbMV0pPC4wMTtzd2l0Y2goZS5uYW1lKXtjYXNlXCJtZXJjYXRvclwiOnJldHVybiBuZXcgSGcoZSk7Y2FzZVwiZXF1aXJlY3Rhbmd1bGFyXCI6cmV0dXJuIG5ldyBxZyhlKTtjYXNlXCJuYXR1cmFsRWFydGhcIjpyZXR1cm4gbmV3IFlnKGUpO2Nhc2VcImVxdWFsRWFydGhcIjpyZXR1cm4gbmV3IEdnKGUpO2Nhc2VcIndpbmtlbFRyaXBlbFwiOnJldHVybiBuZXcgSmcoZSk7Y2FzZVwiYWxiZXJzXCI6cmV0dXJuIGk/bmV3IFFnKGUpOm5ldyBCZyhlKTtjYXNlXCJsYW1iZXJ0Q29uZm9ybWFsQ29uaWNcIjpyZXR1cm4gaT9uZXcgUWcoZSk6bmV3IFdnKGUpO2Nhc2VcImdsb2JlXCI6cmV0dXJuIG5ldyBleShlKX10aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcHJvamVjdGlvbiBuYW1lOiAke2UubmFtZX1gKX1jb25zdCBpeT1uZXcgZ2Eoe1wic3ltYm9sLXBsYWNlbWVudFwiOm5ldyBmYShQdC5sYXlvdXRfc3ltYm9sW1wic3ltYm9sLXBsYWNlbWVudFwiXSksXCJzeW1ib2wtc3BhY2luZ1wiOm5ldyBmYShQdC5sYXlvdXRfc3ltYm9sW1wic3ltYm9sLXNwYWNpbmdcIl0pLFwic3ltYm9sLWF2b2lkLWVkZ2VzXCI6bmV3IGZhKFB0LmxheW91dF9zeW1ib2xbXCJzeW1ib2wtYXZvaWQtZWRnZXNcIl0pLFwic3ltYm9sLXNvcnQta2V5XCI6bmV3IG1hKFB0LmxheW91dF9zeW1ib2xbXCJzeW1ib2wtc29ydC1rZXlcIl0pLFwic3ltYm9sLXotb3JkZXJcIjpuZXcgZmEoUHQubGF5b3V0X3N5bWJvbFtcInN5bWJvbC16LW9yZGVyXCJdKSxcInN5bWJvbC16LWVsZXZhdGVcIjpuZXcgZmEoUHQubGF5b3V0X3N5bWJvbFtcInN5bWJvbC16LWVsZXZhdGVcIl0pLFwiaWNvbi1hbGxvdy1vdmVybGFwXCI6bmV3IGZhKFB0LmxheW91dF9zeW1ib2xbXCJpY29uLWFsbG93LW92ZXJsYXBcIl0pLFwiaWNvbi1pZ25vcmUtcGxhY2VtZW50XCI6bmV3IGZhKFB0LmxheW91dF9zeW1ib2xbXCJpY29uLWlnbm9yZS1wbGFjZW1lbnRcIl0pLFwiaWNvbi1vcHRpb25hbFwiOm5ldyBmYShQdC5sYXlvdXRfc3ltYm9sW1wiaWNvbi1vcHRpb25hbFwiXSksXCJpY29uLXJvdGF0aW9uLWFsaWdubWVudFwiOm5ldyBmYShQdC5sYXlvdXRfc3ltYm9sW1wiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnRcIl0pLFwiaWNvbi1zaXplXCI6bmV3IG1hKFB0LmxheW91dF9zeW1ib2xbXCJpY29uLXNpemVcIl0pLFwiaWNvbi10ZXh0LWZpdFwiOm5ldyBtYShQdC5sYXlvdXRfc3ltYm9sW1wiaWNvbi10ZXh0LWZpdFwiXSksXCJpY29uLXRleHQtZml0LXBhZGRpbmdcIjpuZXcgbWEoUHQubGF5b3V0X3N5bWJvbFtcImljb24tdGV4dC1maXQtcGFkZGluZ1wiXSksXCJpY29uLWltYWdlXCI6bmV3IG1hKFB0LmxheW91dF9zeW1ib2xbXCJpY29uLWltYWdlXCJdKSxcImljb24tcm90YXRlXCI6bmV3IG1hKFB0LmxheW91dF9zeW1ib2xbXCJpY29uLXJvdGF0ZVwiXSksXCJpY29uLXBhZGRpbmdcIjpuZXcgZmEoUHQubGF5b3V0X3N5bWJvbFtcImljb24tcGFkZGluZ1wiXSksXCJpY29uLWtlZXAtdXByaWdodFwiOm5ldyBmYShQdC5sYXlvdXRfc3ltYm9sW1wiaWNvbi1rZWVwLXVwcmlnaHRcIl0pLFwiaWNvbi1vZmZzZXRcIjpuZXcgbWEoUHQubGF5b3V0X3N5bWJvbFtcImljb24tb2Zmc2V0XCJdKSxcImljb24tYW5jaG9yXCI6bmV3IG1hKFB0LmxheW91dF9zeW1ib2xbXCJpY29uLWFuY2hvclwiXSksXCJpY29uLXBpdGNoLWFsaWdubWVudFwiOm5ldyBmYShQdC5sYXlvdXRfc3ltYm9sW1wiaWNvbi1waXRjaC1hbGlnbm1lbnRcIl0pLFwidGV4dC1waXRjaC1hbGlnbm1lbnRcIjpuZXcgZmEoUHQubGF5b3V0X3N5bWJvbFtcInRleHQtcGl0Y2gtYWxpZ25tZW50XCJdKSxcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCI6bmV3IGZhKFB0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiXSksXCJ0ZXh0LWZpZWxkXCI6bmV3IG1hKFB0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LWZpZWxkXCJdKSxcInRleHQtZm9udFwiOm5ldyBtYShQdC5sYXlvdXRfc3ltYm9sW1widGV4dC1mb250XCJdKSxcInRleHQtc2l6ZVwiOm5ldyBtYShQdC5sYXlvdXRfc3ltYm9sW1widGV4dC1zaXplXCJdKSxcInRleHQtbWF4LXdpZHRoXCI6bmV3IG1hKFB0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LW1heC13aWR0aFwiXSksXCJ0ZXh0LWxpbmUtaGVpZ2h0XCI6bmV3IG1hKFB0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LWxpbmUtaGVpZ2h0XCJdKSxcInRleHQtbGV0dGVyLXNwYWNpbmdcIjpuZXcgbWEoUHQubGF5b3V0X3N5bWJvbFtcInRleHQtbGV0dGVyLXNwYWNpbmdcIl0pLFwidGV4dC1qdXN0aWZ5XCI6bmV3IG1hKFB0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LWp1c3RpZnlcIl0pLFwidGV4dC1yYWRpYWwtb2Zmc2V0XCI6bmV3IG1hKFB0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LXJhZGlhbC1vZmZzZXRcIl0pLFwidGV4dC12YXJpYWJsZS1hbmNob3JcIjpuZXcgZmEoUHQubGF5b3V0X3N5bWJvbFtcInRleHQtdmFyaWFibGUtYW5jaG9yXCJdKSxcInRleHQtYW5jaG9yXCI6bmV3IG1hKFB0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LWFuY2hvclwiXSksXCJ0ZXh0LW1heC1hbmdsZVwiOm5ldyBmYShQdC5sYXlvdXRfc3ltYm9sW1widGV4dC1tYXgtYW5nbGVcIl0pLFwidGV4dC13cml0aW5nLW1vZGVcIjpuZXcgZmEoUHQubGF5b3V0X3N5bWJvbFtcInRleHQtd3JpdGluZy1tb2RlXCJdKSxcInRleHQtcm90YXRlXCI6bmV3IG1hKFB0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LXJvdGF0ZVwiXSksXCJ0ZXh0LXBhZGRpbmdcIjpuZXcgZmEoUHQubGF5b3V0X3N5bWJvbFtcInRleHQtcGFkZGluZ1wiXSksXCJ0ZXh0LWtlZXAtdXByaWdodFwiOm5ldyBmYShQdC5sYXlvdXRfc3ltYm9sW1widGV4dC1rZWVwLXVwcmlnaHRcIl0pLFwidGV4dC10cmFuc2Zvcm1cIjpuZXcgbWEoUHQubGF5b3V0X3N5bWJvbFtcInRleHQtdHJhbnNmb3JtXCJdKSxcInRleHQtb2Zmc2V0XCI6bmV3IG1hKFB0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LW9mZnNldFwiXSksXCJ0ZXh0LWFsbG93LW92ZXJsYXBcIjpuZXcgZmEoUHQubGF5b3V0X3N5bWJvbFtcInRleHQtYWxsb3ctb3ZlcmxhcFwiXSksXCJ0ZXh0LWlnbm9yZS1wbGFjZW1lbnRcIjpuZXcgZmEoUHQubGF5b3V0X3N5bWJvbFtcInRleHQtaWdub3JlLXBsYWNlbWVudFwiXSksXCJ0ZXh0LW9wdGlvbmFsXCI6bmV3IGZhKFB0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LW9wdGlvbmFsXCJdKSx2aXNpYmlsaXR5Om5ldyBmYShQdC5sYXlvdXRfc3ltYm9sLnZpc2liaWxpdHkpfSk7dmFyIHJ5PXtwYWludDpuZXcgZ2Eoe1wiaWNvbi1vcGFjaXR5XCI6bmV3IG1hKFB0LnBhaW50X3N5bWJvbFtcImljb24tb3BhY2l0eVwiXSksXCJpY29uLWVtaXNzaXZlLXN0cmVuZ3RoXCI6bmV3IG1hKFB0LnBhaW50X3N5bWJvbFtcImljb24tZW1pc3NpdmUtc3RyZW5ndGhcIl0pLFwidGV4dC1lbWlzc2l2ZS1zdHJlbmd0aFwiOm5ldyBtYShQdC5wYWludF9zeW1ib2xbXCJ0ZXh0LWVtaXNzaXZlLXN0cmVuZ3RoXCJdKSxcImljb24tY29sb3JcIjpuZXcgbWEoUHQucGFpbnRfc3ltYm9sW1wiaWNvbi1jb2xvclwiXSksXCJpY29uLWhhbG8tY29sb3JcIjpuZXcgbWEoUHQucGFpbnRfc3ltYm9sW1wiaWNvbi1oYWxvLWNvbG9yXCJdKSxcImljb24taGFsby13aWR0aFwiOm5ldyBtYShQdC5wYWludF9zeW1ib2xbXCJpY29uLWhhbG8td2lkdGhcIl0pLFwiaWNvbi1oYWxvLWJsdXJcIjpuZXcgbWEoUHQucGFpbnRfc3ltYm9sW1wiaWNvbi1oYWxvLWJsdXJcIl0pLFwiaWNvbi10cmFuc2xhdGVcIjpuZXcgZmEoUHQucGFpbnRfc3ltYm9sW1wiaWNvbi10cmFuc2xhdGVcIl0pLFwiaWNvbi10cmFuc2xhdGUtYW5jaG9yXCI6bmV3IGZhKFB0LnBhaW50X3N5bWJvbFtcImljb24tdHJhbnNsYXRlLWFuY2hvclwiXSksXCJpY29uLWltYWdlLWNyb3NzLWZhZGVcIjpuZXcgbWEoUHQucGFpbnRfc3ltYm9sW1wiaWNvbi1pbWFnZS1jcm9zcy1mYWRlXCJdKSxcInRleHQtb3BhY2l0eVwiOm5ldyBtYShQdC5wYWludF9zeW1ib2xbXCJ0ZXh0LW9wYWNpdHlcIl0pLFwidGV4dC1jb2xvclwiOm5ldyBtYShQdC5wYWludF9zeW1ib2xbXCJ0ZXh0LWNvbG9yXCJdLHtydW50aW1lVHlwZTpadCxnZXRPdmVycmlkZTplPT5lLnRleHRDb2xvcixoYXNPdmVycmlkZTplPT4hIWUudGV4dENvbG9yfSksXCJ0ZXh0LWhhbG8tY29sb3JcIjpuZXcgbWEoUHQucGFpbnRfc3ltYm9sW1widGV4dC1oYWxvLWNvbG9yXCJdKSxcInRleHQtaGFsby13aWR0aFwiOm5ldyBtYShQdC5wYWludF9zeW1ib2xbXCJ0ZXh0LWhhbG8td2lkdGhcIl0pLFwidGV4dC1oYWxvLWJsdXJcIjpuZXcgbWEoUHQucGFpbnRfc3ltYm9sW1widGV4dC1oYWxvLWJsdXJcIl0pLFwidGV4dC10cmFuc2xhdGVcIjpuZXcgZmEoUHQucGFpbnRfc3ltYm9sW1widGV4dC10cmFuc2xhdGVcIl0pLFwidGV4dC10cmFuc2xhdGUtYW5jaG9yXCI6bmV3IGZhKFB0LnBhaW50X3N5bWJvbFtcInRleHQtdHJhbnNsYXRlLWFuY2hvclwiXSksXCJpY29uLWNvbG9yLXNhdHVyYXRpb25cIjpuZXcgZmEoUHQucGFpbnRfc3ltYm9sW1wiaWNvbi1jb2xvci1zYXR1cmF0aW9uXCJdKX0pLGxheW91dDppeX07Y2xhc3Mgbnl7Y29uc3RydWN0b3IoZSl7dGhpcy50eXBlPWUucHJvcGVydHkub3ZlcnJpZGVzP2UucHJvcGVydHkub3ZlcnJpZGVzLnJ1bnRpbWVUeXBlOlZ0LHRoaXMuZGVmYXVsdFZhbHVlPWU7fWV2YWx1YXRlKGUpe2lmKGUuZm9ybWF0dGVkU2VjdGlvbil7Y29uc3QgdD10aGlzLmRlZmF1bHRWYWx1ZS5wcm9wZXJ0eS5vdmVycmlkZXM7aWYodCYmdC5oYXNPdmVycmlkZShlLmZvcm1hdHRlZFNlY3Rpb24pKXJldHVybiB0LmdldE92ZXJyaWRlKGUuZm9ybWF0dGVkU2VjdGlvbil9cmV0dXJuIGUuZmVhdHVyZSYmZS5mZWF0dXJlU3RhdGU/dGhpcy5kZWZhdWx0VmFsdWUuZXZhbHVhdGUoZS5mZWF0dXJlLGUuZmVhdHVyZVN0YXRlKTp0aGlzLmRlZmF1bHRWYWx1ZS5wcm9wZXJ0eS5zcGVjaWZpY2F0aW9uLmRlZmF1bHR9ZWFjaENoaWxkKGUpe3RoaXMuZGVmYXVsdFZhbHVlLmlzQ29uc3RhbnQoKXx8ZSh0aGlzLmRlZmF1bHRWYWx1ZS52YWx1ZS5fc3R5bGVFeHByZXNzaW9uLmV4cHJlc3Npb24pO31vdXRwdXREZWZpbmVkKCl7cmV0dXJuICExfXNlcmlhbGl6ZSgpe3JldHVybiBudWxsfX1ScyhueSxcIkZvcm1hdFNlY3Rpb25PdmVycmlkZVwiLHtvbWl0OltcImRlZmF1bHRWYWx1ZVwiXX0pO2NsYXNzIG95IGV4dGVuZHMgVGF7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHJ5LHQpO31yZWNhbGN1bGF0ZShlLHQpe3N1cGVyLnJlY2FsY3VsYXRlKGUsdCksXCJhdXRvXCI9PT10aGlzLmxheW91dC5nZXQoXCJpY29uLXJvdGF0aW9uLWFsaWdubWVudFwiKSYmKHRoaXMubGF5b3V0Ll92YWx1ZXNbXCJpY29uLXJvdGF0aW9uLWFsaWdubWVudFwiXT1cInBvaW50XCIhPT10aGlzLmxheW91dC5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpP1wibWFwXCI6XCJ2aWV3cG9ydFwiKSxcImF1dG9cIj09PXRoaXMubGF5b3V0LmdldChcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIpJiYodGhpcy5sYXlvdXQuX3ZhbHVlc1tcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCJdPVwicG9pbnRcIiE9PXRoaXMubGF5b3V0LmdldChcInN5bWJvbC1wbGFjZW1lbnRcIik/XCJtYXBcIjpcInZpZXdwb3J0XCIpLFwiYXV0b1wiPT09dGhpcy5sYXlvdXQuZ2V0KFwidGV4dC1waXRjaC1hbGlnbm1lbnRcIikmJih0aGlzLmxheW91dC5fdmFsdWVzW1widGV4dC1waXRjaC1hbGlnbm1lbnRcIl09dGhpcy5sYXlvdXQuZ2V0KFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIikpLFwiYXV0b1wiPT09dGhpcy5sYXlvdXQuZ2V0KFwiaWNvbi1waXRjaC1hbGlnbm1lbnRcIikmJih0aGlzLmxheW91dC5fdmFsdWVzW1wiaWNvbi1waXRjaC1hbGlnbm1lbnRcIl09dGhpcy5sYXlvdXQuZ2V0KFwiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnRcIikpO2NvbnN0IGk9dGhpcy5sYXlvdXQuZ2V0KFwidGV4dC13cml0aW5nLW1vZGVcIik7aWYoaSl7Y29uc3QgZT1bXTtmb3IoY29uc3QgdCBvZiBpKWUuaW5kZXhPZih0KTwwJiZlLnB1c2godCk7dGhpcy5sYXlvdXQuX3ZhbHVlc1tcInRleHQtd3JpdGluZy1tb2RlXCJdPWU7fWVsc2UgdGhpcy5sYXlvdXQuX3ZhbHVlc1tcInRleHQtd3JpdGluZy1tb2RlXCJdPVwicG9pbnRcIj09PXRoaXMubGF5b3V0LmdldChcInN5bWJvbC1wbGFjZW1lbnRcIik/W1wiaG9yaXpvbnRhbFwiXTpbXCJob3Jpem9udGFsXCIsXCJ2ZXJ0aWNhbFwiXTt0aGlzLl9zZXRQYWludE92ZXJyaWRlcygpO31nZXRWYWx1ZUFuZFJlc29sdmVUb2tlbnMoZSx0LGkscil7Y29uc3Qgbj10aGlzLmxheW91dC5nZXQoZSkuZXZhbHVhdGUodCx7fSxpLHIpLG89dGhpcy5fdW5ldmFsdWF0ZWRMYXlvdXQuX3ZhbHVlc1tlXTtyZXR1cm4gby5pc0RhdGFEcml2ZW4oKXx8VG8oby52YWx1ZSl8fCFuP246ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5yZXBsYWNlKC97KFtee31dKyl9L2csKCh0LGkpPT5pIGluIGU/U3RyaW5nKGVbaV0pOlwiXCIpKX0odC5wcm9wZXJ0aWVzLG4pfWNyZWF0ZUJ1Y2tldChlKXtyZXR1cm4gbmV3IGd5KGUpfXF1ZXJ5UmFkaXVzKCl7cmV0dXJuIDB9cXVlcnlJbnRlcnNlY3RzRmVhdHVyZSgpe3JldHVybiAhMX1fc2V0UGFpbnRPdmVycmlkZXMoKXtmb3IoY29uc3QgZSBvZiByeS5wYWludC5vdmVycmlkYWJsZVByb3BlcnRpZXMpe2lmKCFveS5oYXNQYWludE92ZXJyaWRlKHRoaXMubGF5b3V0LGUpKWNvbnRpbnVlO2NvbnN0IHQ9dGhpcy5wYWludC5nZXQoZSksaT1uZXcgbnkodCkscj1uZXcgd28oaSx0LnByb3BlcnR5LnNwZWNpZmljYXRpb24pO2xldCBuPW51bGw7bj1cImNvbnN0YW50XCI9PT10LnZhbHVlLmtpbmR8fFwic291cmNlXCI9PT10LnZhbHVlLmtpbmQ/bmV3IE1vKFwic291cmNlXCIscik6bmV3IEFvKFwiY29tcG9zaXRlXCIscix0LnZhbHVlLnpvb21TdG9wcyx0LnZhbHVlLl9pbnRlcnBvbGF0aW9uVHlwZSksdGhpcy5wYWludC5fdmFsdWVzW2VdPW5ldyBkYSh0LnByb3BlcnR5LG4sdC5wYXJhbWV0ZXJzKTt9fV9oYW5kbGVPdmVycmlkYWJsZVBhaW50UHJvcGVydHlVcGRhdGUoZSx0LGkpe3JldHVybiAhKCF0aGlzLmxheW91dHx8dC5pc0RhdGFEcml2ZW4oKXx8aS5pc0RhdGFEcml2ZW4oKSkmJm95Lmhhc1BhaW50T3ZlcnJpZGUodGhpcy5sYXlvdXQsZSl9c3RhdGljIGhhc1BhaW50T3ZlcnJpZGUoZSx0KXtjb25zdCBpPWUuZ2V0KFwidGV4dC1maWVsZFwiKSxyPXJ5LnBhaW50LnByb3BlcnRpZXNbdF07bGV0IG49ITE7Y29uc3Qgbz1lPT57Zm9yKGNvbnN0IHQgb2YgZSlpZihyLm92ZXJyaWRlcyYmci5vdmVycmlkZXMuaGFzT3ZlcnJpZGUodCkpcmV0dXJuIHZvaWQobj0hMCl9O2lmKFwiY29uc3RhbnRcIj09PWkudmFsdWUua2luZCYmaS52YWx1ZS52YWx1ZSBpbnN0YW5jZW9mIHBpKW8oaS52YWx1ZS52YWx1ZS5zZWN0aW9ucyk7ZWxzZSBpZihcInNvdXJjZVwiPT09aS52YWx1ZS5raW5kKXtjb25zdCBlPXQ9PntufHwodCBpbnN0YW5jZW9mIHZpJiZnaSh0LnZhbHVlKT09PVh0P28odC52YWx1ZS5zZWN0aW9ucyk6dCBpbnN0YW5jZW9mIE1pP28odC5zZWN0aW9ucyk6dC5lYWNoQ2hpbGQoZSkpO30sdD1pLnZhbHVlO3QuX3N0eWxlRXhwcmVzc2lvbiYmZSh0Ll9zdHlsZUV4cHJlc3Npb24uZXhwcmVzc2lvbik7fXJldHVybiBufWdldFByb2dyYW1JZHMoKXtjb25zdCBlPTAhPT10aGlzLnBhaW50LmdldChcImljb24tb3BhY2l0eVwiKS5jb25zdGFudE9yKDEpLHQ9MCE9PXRoaXMucGFpbnQuZ2V0KFwidGV4dC1vcGFjaXR5XCIpLmNvbnN0YW50T3IoMSksaT1bXTtyZXR1cm4gZSYmaS5wdXNoKFwic3ltYm9sSWNvblwiKSx0JiZpLnB1c2goXCJzeW1ib2xTREZcIiksaX1nZXREZWZhdWx0UHJvZ3JhbVBhcmFtcyhlLHQpe3JldHVybiB7Y29uZmlnOm5ldyBRbCh0aGlzLHQpLG92ZXJyaWRlRm9nOiExfX19Y29uc3Qgc3k9aG0udHlwZXMsYXk9W3tuYW1lOlwiYV9mYWRlX29wYWNpdHlcIixjb21wb25lbnRzOjEsdHlwZTpcIlVpbnQ4XCIsb2Zmc2V0OjB9XTtmdW5jdGlvbiBseShlLHQsaSxyLG4sbyxzLGEsbCxjLGgsdSxkKXtjb25zdCBwPWE/TWF0aC5taW4oRWcsTWF0aC5yb3VuZChhWzBdKSk6MCxmPWE/TWF0aC5taW4oRWcsTWF0aC5yb3VuZChhWzFdKSk6MDtlLmVtcGxhY2VCYWNrKHQsaSxNYXRoLnJvdW5kKDMyKnIpLE1hdGgucm91bmQoMzIqbiksbyxzLChwPDwxKSsobD8xOjApLGYsMTYqYywxNipoLDI1Nip1LDI1NipkKTt9ZnVuY3Rpb24gY3koZSx0LGkpe2UuZW1wbGFjZUJhY2sodCxpKTt9ZnVuY3Rpb24gaHkoZSx0LGkscixuLG8scyl7ZS5lbXBsYWNlQmFjayh0LGkscixuLG8scyk7fWZ1bmN0aW9uIHV5KGUsdCxpLHIsbil7Y29uc3Qgbz01KnQrMjtlLmZsb2F0MzJbbyswXT1pLGUuZmxvYXQzMltvKzFdPXIsZS5mbG9hdDMyW28rMl09bjt9ZnVuY3Rpb24gZHkoZSx0LGkscixuKXtlLmVtcGxhY2VCYWNrKHQsaSxyLG4pLGUuZW1wbGFjZUJhY2sodCxpLHIsbiksZS5lbXBsYWNlQmFjayh0LGkscixuKSxlLmVtcGxhY2VCYWNrKHQsaSxyLG4pO31mdW5jdGlvbiBweShlKXtmb3IoY29uc3QgdCBvZiBlLnNlY3Rpb25zKWlmKCRzKHQudGV4dCkpcmV0dXJuICEwO3JldHVybiAhMX1jbGFzcyBmeXtjb25zdHJ1Y3RvcihlKXt0aGlzLmxheW91dFZlcnRleEFycmF5PW5ldyBOYSx0aGlzLmluZGV4QXJyYXk9bmV3IFdhLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zPWUsdGhpcy5zZWdtZW50cz1uZXcgeGwsdGhpcy5keW5hbWljTGF5b3V0VmVydGV4QXJyYXk9bmV3IGthLHRoaXMub3BhY2l0eVZlcnRleEFycmF5PW5ldyBWYSx0aGlzLnBsYWNlZFN5bWJvbEFycmF5PW5ldyBjbCx0aGlzLmljb25UcmFuc2l0aW9uaW5nVmVydGV4QXJyYXk9bmV3IGphLHRoaXMuZ2xvYmVFeHRWZXJ0ZXhBcnJheT1uZXcgVWEsdGhpcy56T2Zmc2V0VmVydGV4QXJyYXk9bmV3IFlhO31pc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aCYmMD09PXRoaXMuaW5kZXhBcnJheS5sZW5ndGgmJjA9PT10aGlzLmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgmJjA9PT10aGlzLm9wYWNpdHlWZXJ0ZXhBcnJheS5sZW5ndGgmJjA9PT10aGlzLmljb25UcmFuc2l0aW9uaW5nVmVydGV4QXJyYXkubGVuZ3RofXVwbG9hZChlLHQsaSxyLG4pe3RoaXMuaXNFbXB0eSgpfHwoaSYmKHRoaXMubGF5b3V0VmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMubGF5b3V0VmVydGV4QXJyYXksaV8ubWVtYmVycyksdGhpcy5pbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kZXhBcnJheSx0KSx0aGlzLmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5keW5hbWljTGF5b3V0VmVydGV4QXJyYXksbl8ubWVtYmVycywhMCksdGhpcy5vcGFjaXR5VmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMub3BhY2l0eVZlcnRleEFycmF5LGF5LCEwKSx0aGlzLmljb25UcmFuc2l0aW9uaW5nVmVydGV4QXJyYXkubGVuZ3RoPjAmJih0aGlzLmljb25UcmFuc2l0aW9uaW5nVmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMuaWNvblRyYW5zaXRpb25pbmdWZXJ0ZXhBcnJheSxzXy5tZW1iZXJzLCEwKSksdGhpcy5nbG9iZUV4dFZlcnRleEFycmF5Lmxlbmd0aD4wJiYodGhpcy5nbG9iZUV4dFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmdsb2JlRXh0VmVydGV4QXJyYXkscl8ubWVtYmVycywhMCkpLCF0aGlzLnpPZmZzZXRWZXJ0ZXhCdWZmZXImJih0aGlzLnpPZmZzZXRWZXJ0ZXhBcnJheS5sZW5ndGg+MHx8bikmJih0aGlzLnpPZmZzZXRWZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy56T2Zmc2V0VmVydGV4QXJyYXksb18ubWVtYmVycywhMCkpLHRoaXMub3BhY2l0eVZlcnRleEJ1ZmZlci5pdGVtU2l6ZT0xKSwoaXx8cikmJnRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwbG9hZChlKSk7fWRlc3Ryb3koKXt0aGlzLmxheW91dFZlcnRleEJ1ZmZlciYmKHRoaXMubGF5b3V0VmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmluZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5kZXN0cm95KCksdGhpcy5zZWdtZW50cy5kZXN0cm95KCksdGhpcy5keW5hbWljTGF5b3V0VmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLm9wYWNpdHlWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaWNvblRyYW5zaXRpb25pbmdWZXJ0ZXhCdWZmZXImJnRoaXMuaWNvblRyYW5zaXRpb25pbmdWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuZ2xvYmVFeHRWZXJ0ZXhCdWZmZXImJnRoaXMuZ2xvYmVFeHRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuek9mZnNldFZlcnRleEJ1ZmZlciYmdGhpcy56T2Zmc2V0VmVydGV4QnVmZmVyLmRlc3Ryb3koKSk7fX1ScyhmeSxcIlN5bWJvbEJ1ZmZlcnNcIik7Y2xhc3MgbXl7Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IGUsdGhpcy5sYXlvdXRBdHRyaWJ1dGVzPXQsdGhpcy5pbmRleEFycmF5PW5ldyBpLHRoaXMuc2VnbWVudHM9bmV3IHhsLHRoaXMuY29sbGlzaW9uVmVydGV4QXJyYXk9bmV3ICRhLHRoaXMuY29sbGlzaW9uVmVydGV4QXJyYXlFeHQ9bmV3IGthO311cGxvYWQoZSl7dGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSx0aGlzLmxheW91dEF0dHJpYnV0ZXMpLHRoaXMuaW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLmluZGV4QXJyYXkpLHRoaXMuY29sbGlzaW9uVmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMuY29sbGlzaW9uVmVydGV4QXJyYXksYV8ubWVtYmVycywhMCksdGhpcy5jb2xsaXNpb25WZXJ0ZXhCdWZmZXJFeHQ9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5jb2xsaXNpb25WZXJ0ZXhBcnJheUV4dCxsXy5tZW1iZXJzLCEwKTt9ZGVzdHJveSgpe3RoaXMubGF5b3V0VmVydGV4QnVmZmVyJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuc2VnbWVudHMuZGVzdHJveSgpLHRoaXMuY29sbGlzaW9uVmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmNvbGxpc2lvblZlcnRleEJ1ZmZlckV4dC5kZXN0cm95KCkpO319UnMobXksXCJDb2xsaXNpb25CdWZmZXJzXCIpO2NsYXNzIF95e2NvbnN0cnVjdG9yKGUpe3RoaXMuY29sbGlzaW9uQm94QXJyYXk9ZS5jb2xsaXNpb25Cb3hBcnJheSx0aGlzLnpvb209ZS56b29tLHRoaXMub3ZlcnNjYWxpbmc9ZS5vdmVyc2NhbGluZyx0aGlzLmxheWVycz1lLmxheWVycyx0aGlzLmxheWVySWRzPXRoaXMubGF5ZXJzLm1hcCgoZT0+ZS5mcWlkKSksdGhpcy5pbmRleD1lLmluZGV4LHRoaXMucGl4ZWxSYXRpbz1lLnBpeGVsUmF0aW8sdGhpcy5zb3VyY2VMYXllckluZGV4PWUuc291cmNlTGF5ZXJJbmRleCx0aGlzLmhhc1BhdHRlcm49ITEsdGhpcy5oYXNSVExUZXh0PSExLHRoaXMuZnVsbHlDbGlwcGVkPSExLHRoaXMuaGFzQW55SWNvblRleHRGaXQ9ITEsdGhpcy5zb3J0S2V5UmFuZ2VzPVtdLHRoaXMuY29sbGlzaW9uQ2lyY2xlQXJyYXk9W10sdGhpcy5wbGFjZW1lbnRJbnZQcm9qTWF0cml4PUF1LmlkZW50aXR5KFtdKSx0aGlzLnBsYWNlbWVudFZpZXdwb3J0TWF0cml4PUF1LmlkZW50aXR5KFtdKTtjb25zdCB0PXRoaXMubGF5ZXJzWzBdLl91bmV2YWx1YXRlZExheW91dC5fdmFsdWVzO3RoaXMudGV4dFNpemVEYXRhPXBfKHRoaXMuem9vbSx0W1widGV4dC1zaXplXCJdKSx0aGlzLmljb25TaXplRGF0YT1wXyh0aGlzLnpvb20sdFtcImljb24tc2l6ZVwiXSk7Y29uc3QgaT10aGlzLmxheWVyc1swXS5sYXlvdXQscj1pLmdldChcInN5bWJvbC1zb3J0LWtleVwiKSxuPWkuZ2V0KFwic3ltYm9sLXotb3JkZXJcIik7dGhpcy5jYW5PdmVybGFwPWkuZ2V0KFwidGV4dC1hbGxvdy1vdmVybGFwXCIpfHxpLmdldChcImljb24tYWxsb3ctb3ZlcmxhcFwiKXx8aS5nZXQoXCJ0ZXh0LWlnbm9yZS1wbGFjZW1lbnRcIil8fGkuZ2V0KFwiaWNvbi1pZ25vcmUtcGxhY2VtZW50XCIpLHRoaXMuc29ydEZlYXR1cmVzQnlLZXk9XCJ2aWV3cG9ydC15XCIhPT1uJiZ2b2lkIDAhPT1yLmNvbnN0YW50T3IoMSksdGhpcy5zb3J0RmVhdHVyZXNCeVk9KFwidmlld3BvcnQteVwiPT09bnx8XCJhdXRvXCI9PT1uJiYhdGhpcy5zb3J0RmVhdHVyZXNCeUtleSkmJnRoaXMuY2FuT3ZlcmxhcCx0aGlzLndyaXRpbmdNb2Rlcz1pLmdldChcInRleHQtd3JpdGluZy1tb2RlXCIpLm1hcCgoZT0+QV9bZV0pKSx0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJJZHM9dGhpcy5sYXllcnMuZmlsdGVyKChlPT5lLmlzU3RhdGVEZXBlbmRlbnQoKSkpLm1hcCgoZT0+ZS5pZCkpLHRoaXMuc291cmNlSUQ9ZS5zb3VyY2VJRCx0aGlzLnByb2plY3Rpb249ZS5wcm9qZWN0aW9uLHRoaXMuaGFzQW55Wk9mZnNldD0hMSx0aGlzLnpPZmZzZXRTb3J0RGlydHk9ITEsdGhpcy56T2Zmc2V0QnVmZmVyc05lZWRVcGxvYWQ9aS5nZXQoXCJzeW1ib2wtei1lbGV2YXRlXCIpO31jcmVhdGVBcnJheXMoKXt0aGlzLnRleHQ9bmV3IGZ5KG5ldyBlYyh0aGlzLmxheWVycyx0aGlzLnpvb20sKGU9Pi9edGV4dC8udGVzdChlKSkpKSx0aGlzLmljb249bmV3IGZ5KG5ldyBlYyh0aGlzLmxheWVycyx0aGlzLnpvb20sKGU9Pi9eaWNvbi8udGVzdChlKSkpKSx0aGlzLmdseXBoT2Zmc2V0QXJyYXk9bmV3IGRsLHRoaXMubGluZVZlcnRleEFycmF5PW5ldyBwbCx0aGlzLnN5bWJvbEluc3RhbmNlcz1uZXcgdWw7fWNhbGN1bGF0ZUdseXBoRGVwZW5kZW5jaWVzKGUsdCxpLHIsbil7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspe2NvbnN0IG89ZS5jb2RlUG9pbnRBdChpKTtpZih2b2lkIDA9PT1vKWJyZWFrO2lmKHRbb109ITAsciYmbiYmbzw9NjU1MzUpe2NvbnN0IHI9eV9bZS5jaGFyQXQoaSldO3ImJih0W3IuY2hhckNvZGVBdCgwKV09ITApO319fXBvcHVsYXRlKGUsdCxpLHIpe2NvbnN0IG49dGhpcy5sYXllcnNbMF0sbz1uLmxheW91dCxzPVwiZ2xvYmVcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lLGE9by5nZXQoXCJ0ZXh0LWZvbnRcIiksbD1vLmdldChcInRleHQtZmllbGRcIiksYz1vLmdldChcImljb24taW1hZ2VcIiksaD0oXCJjb25zdGFudFwiIT09bC52YWx1ZS5raW5kfHxsLnZhbHVlLnZhbHVlIGluc3RhbmNlb2YgcGkmJiFsLnZhbHVlLnZhbHVlLmlzRW1wdHkoKXx8bC52YWx1ZS52YWx1ZS50b1N0cmluZygpLmxlbmd0aD4wKSYmKFwiY29uc3RhbnRcIiE9PWEudmFsdWUua2luZHx8YS52YWx1ZS52YWx1ZS5sZW5ndGg+MCksdT1cImNvbnN0YW50XCIhPT1jLnZhbHVlLmtpbmR8fCEhYy52YWx1ZS52YWx1ZXx8T2JqZWN0LmtleXMoYy5wYXJhbWV0ZXJzKS5sZW5ndGg+MCxkPW8uZ2V0KFwic3ltYm9sLXNvcnQta2V5XCIpO2lmKHRoaXMuZmVhdHVyZXM9W10sIWgmJiF1KXJldHVybjtjb25zdCBwPXQuaWNvbkRlcGVuZGVuY2llcyxmPXQuZ2x5cGhEZXBlbmRlbmNpZXMsbT10LmF2YWlsYWJsZUltYWdlcyxfPW5ldyBvYSh0aGlzLnpvb20pO2Zvcihjb25zdHtmZWF0dXJlOnQsaWQ6bCxpbmRleDpjLHNvdXJjZUxheWVySW5kZXg6Z31vZiBlKXtjb25zdCBlPW4uX2ZlYXR1cmVGaWx0ZXIubmVlZEdlb21ldHJ5LHk9Z3AodCxlKTtpZighbi5fZmVhdHVyZUZpbHRlci5maWx0ZXIoXyx5LGkpKWNvbnRpbnVlO2lmKGV8fCh5Lmdlb21ldHJ5PV9wKHQsaSxyKSkscyYmMSE9PXQudHlwZSYmaS56PD01KXtjb25zdCBlPXkuZ2VvbWV0cnksdD0uOTgwNzg1MjgwNTYscj0oZSxyKT0+e2NvbnN0IG49VGQoZS54LGUueSxpLDEpLG89VGQoci54LHIueSxpLDEpO3JldHVybiBEdS5kb3QobixvKTx0fTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyllW3RdPWRwKGVbdF0scik7fWxldCB4LHY7aWYoaCl7Y29uc3QgZT1uLmdldFZhbHVlQW5kUmVzb2x2ZVRva2VucyhcInRleHQtZmllbGRcIix5LGksbSksdD1waS5mYWN0b3J5KGUpO3B5KHQpJiYodGhpcy5oYXNSVExUZXh0PSEwKSwoIXRoaXMuaGFzUlRMVGV4dHx8XCJ1bmF2YWlsYWJsZVwiPT09aWEoKXx8dGhpcy5oYXNSVExUZXh0JiZuYS5pc1BhcnNlZCgpKSYmKHg9Z18odCxuLHkpKTt9aWYodSl7Y29uc3QgZT1uLmdldFZhbHVlQW5kUmVzb2x2ZVRva2VucyhcImljb24taW1hZ2VcIix5LGksbSk7dj1lIGluc3RhbmNlb2YgZmk/ZTpmaS5mcm9tU3RyaW5nKGUpO31pZigheCYmIXYpY29udGludWU7Y29uc3QgYj10aGlzLnNvcnRGZWF0dXJlc0J5S2V5P2QuZXZhbHVhdGUoeSx7fSxpKTp2b2lkIDA7aWYodGhpcy5mZWF0dXJlcy5wdXNoKHtpZDpsLHRleHQ6eCxpY29uOnYsaW5kZXg6Yyxzb3VyY2VMYXllckluZGV4OmcsZ2VvbWV0cnk6eS5nZW9tZXRyeSxwcm9wZXJ0aWVzOnQucHJvcGVydGllcyx0eXBlOnN5W3QudHlwZV0sc29ydEtleTpifSksdiYmKHBbdi5uYW1lUHJpbWFyeV09ITAsdi5uYW1lU2Vjb25kYXJ5JiYocFt2Lm5hbWVTZWNvbmRhcnldPSEwKSkseCl7Y29uc3QgZT1hLmV2YWx1YXRlKHkse30saSkuam9pbihcIixcIiksdD1cIm1hcFwiPT09by5nZXQoXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiKSYmXCJwb2ludFwiIT09by5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpO3RoaXMuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudD10aGlzLndyaXRpbmdNb2RlcyYmdGhpcy53cml0aW5nTW9kZXMuaW5kZXhPZihBXy52ZXJ0aWNhbCk+PTA7Zm9yKGNvbnN0IGkgb2YgeC5zZWN0aW9ucylpZihpLmltYWdlKXBbaS5pbWFnZS5uYW1lUHJpbWFyeV09ITA7ZWxzZSB7Y29uc3Qgcj1Ocyh4LnRvU3RyaW5nKCkpLG49aS5mb250U3RhY2t8fGUsbz1mW25dPWZbbl18fHt9O3RoaXMuY2FsY3VsYXRlR2x5cGhEZXBlbmRlbmNpZXMoaS50ZXh0LG8sdCx0aGlzLmFsbG93VmVydGljYWxQbGFjZW1lbnQscik7fX19XCJsaW5lXCI9PT1vLmdldChcInN5bWJvbC1wbGFjZW1lbnRcIikmJih0aGlzLmZlYXR1cmVzPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9e30saT17fSxyPVtdO2xldCBuPTA7ZnVuY3Rpb24gbyh0KXtyLnB1c2goZVt0XSksbisrO31mdW5jdGlvbiBzKGUsdCxuKXtjb25zdCBvPWlbZV07cmV0dXJuIGRlbGV0ZSBpW2VdLGlbdF09byxyW29dLmdlb21ldHJ5WzBdLnBvcCgpLHJbb10uZ2VvbWV0cnlbMF09cltvXS5nZW9tZXRyeVswXS5jb25jYXQoblswXSksb31mdW5jdGlvbiBhKGUsaSxuKXtjb25zdCBvPXRbaV07cmV0dXJuIGRlbGV0ZSB0W2ldLHRbZV09byxyW29dLmdlb21ldHJ5WzBdLnNoaWZ0KCkscltvXS5nZW9tZXRyeVswXT1uWzBdLmNvbmNhdChyW29dLmdlb21ldHJ5WzBdKSxvfWZ1bmN0aW9uIGwoZSx0LGkpe2NvbnN0IHI9aT90WzBdW3RbMF0ubGVuZ3RoLTFdOnRbMF1bMF07cmV0dXJuIGAke2V9OiR7ci54fToke3IueX1gfWZvcihsZXQgYz0wO2M8ZS5sZW5ndGg7YysrKXtjb25zdCBoPWVbY10sdT1oLmdlb21ldHJ5LGQ9aC50ZXh0P2gudGV4dC50b1N0cmluZygpOm51bGw7aWYoIWQpe28oYyk7Y29udGludWV9Y29uc3QgcD1sKGQsdSksZj1sKGQsdSwhMCk7aWYocCBpbiBpJiZmIGluIHQmJmlbcF0hPT10W2ZdKXtjb25zdCBlPWEocCxmLHUpLG49cyhwLGYscltlXS5nZW9tZXRyeSk7ZGVsZXRlIHRbcF0sZGVsZXRlIGlbZl0saVtsKGQscltuXS5nZW9tZXRyeSwhMCldPW4scltlXS5nZW9tZXRyeT1udWxsO31lbHNlIHAgaW4gaT9zKHAsZix1KTpmIGluIHQ/YShwLGYsdSk6KG8oYyksdFtwXT1uLTEsaVtmXT1uLTEpO31yZXR1cm4gci5maWx0ZXIoKGU9PmUuZ2VvbWV0cnkpKX0odGhpcy5mZWF0dXJlcykpLHRoaXMuc29ydEZlYXR1cmVzQnlLZXkmJnRoaXMuZmVhdHVyZXMuc29ydCgoKGUsdCk9PmUuc29ydEtleS10LnNvcnRLZXkpKTt9dXBkYXRlKGUsdCxpLHIsbil7Y29uc3Qgbz0wIT09T2JqZWN0LmtleXMoZSkubGVuZ3RoO2lmKG8mJiF0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzLmxlbmd0aClyZXR1cm47Y29uc3Qgcz1vP3RoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnM6dGhpcy5sYXllcnM7dGhpcy50ZXh0LnByb2dyYW1Db25maWd1cmF0aW9ucy51cGRhdGVQYWludEFycmF5cyhlLHQscyxpLHIsbiksdGhpcy5pY29uLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGRhdGVQYWludEFycmF5cyhlLHQscyxpLHIsbik7fXVwZGF0ZVpPZmZzZXQoKXtjb25zdCBlPShlLHQscik9PntpKz10LGk+ZS5sZW5ndGgmJmUucmVzaXplKGkpO2ZvcihsZXQgbj0tdDtuPDA7bisrKWUuZW1wbGFjZShuK2kscik7fSx0PShlLHQsaSk9PntyKz10LHI+ZS5sZW5ndGgmJmUucmVzaXplKHIpO2ZvcihsZXQgbj0tdDtuPDA7bisrKWUuZW1wbGFjZShuK3IsaSk7fTtpZighdGhpcy56T2Zmc2V0QnVmZmVyc05lZWRVcGxvYWQpcmV0dXJuO3RoaXMuek9mZnNldEJ1ZmZlcnNOZWVkVXBsb2FkPSExO2xldCBpPTAscj0wO2ZvcihsZXQgaT0wO2k8dGhpcy5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoO2krKyl7Y29uc3Qgcj10aGlzLnN5bWJvbEluc3RhbmNlcy5nZXQoaSkse251bUhvcml6b250YWxHbHlwaFZlcnRpY2VzOm4sbnVtVmVydGljYWxHbHlwaFZlcnRpY2VzOm8sbnVtSWNvblZlcnRpY2VzOnN9PXIsYT1yLnpPZmZzZXQsbD1zPjA7aWYoKG4+MHx8bz4wKSYmKGUodGhpcy50ZXh0LnpPZmZzZXRWZXJ0ZXhBcnJheSxuLGEpLGUodGhpcy50ZXh0LnpPZmZzZXRWZXJ0ZXhBcnJheSxvLGEpKSxsKXtjb25zdHtwbGFjZWRJY29uU3ltYm9sSW5kZXg6ZSx2ZXJ0aWNhbFBsYWNlZEljb25TeW1ib2xJbmRleDppfT1yO2U+PTAmJnQodGhpcy5pY29uLnpPZmZzZXRWZXJ0ZXhBcnJheSxzLGEpLGk+PTAmJnQodGhpcy5pY29uLnpPZmZzZXRWZXJ0ZXhBcnJheSxyLm51bVZlcnRpY2FsSWNvblZlcnRpY2VzLGEpO319dGhpcy50ZXh0LnpPZmZzZXRWZXJ0ZXhCdWZmZXImJnRoaXMudGV4dC56T2Zmc2V0VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy50ZXh0LnpPZmZzZXRWZXJ0ZXhBcnJheSksdGhpcy5pY29uLnpPZmZzZXRWZXJ0ZXhCdWZmZXImJnRoaXMuaWNvbi56T2Zmc2V0VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy5pY29uLnpPZmZzZXRWZXJ0ZXhBcnJheSk7fWlzRW1wdHkoKXtyZXR1cm4gMD09PXRoaXMuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aCYmIXRoaXMuaGFzUlRMVGV4dH11cGxvYWRQZW5kaW5nKCl7cmV0dXJuICF0aGlzLnVwbG9hZGVkfHx0aGlzLnRleHQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkfHx0aGlzLmljb24ucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkfXVwbG9hZChlKXshdGhpcy51cGxvYWRlZCYmdGhpcy5oYXNEZWJ1Z0RhdGEoKSYmKHRoaXMudGV4dENvbGxpc2lvbkJveC51cGxvYWQoZSksdGhpcy5pY29uQ29sbGlzaW9uQm94LnVwbG9hZChlKSksdGhpcy50ZXh0LnVwbG9hZChlLHRoaXMuc29ydEZlYXR1cmVzQnlZLCF0aGlzLnVwbG9hZGVkLHRoaXMudGV4dC5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWQsdGhpcy56T2Zmc2V0QnVmZmVyc05lZWRVcGxvYWQpLHRoaXMuaWNvbi51cGxvYWQoZSx0aGlzLnNvcnRGZWF0dXJlc0J5WSwhdGhpcy51cGxvYWRlZCx0aGlzLmljb24ucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkLHRoaXMuek9mZnNldEJ1ZmZlcnNOZWVkVXBsb2FkKSx0aGlzLnVwbG9hZGVkPSEwO31kZXN0cm95RGVidWdEYXRhKCl7dGhpcy50ZXh0Q29sbGlzaW9uQm94LmRlc3Ryb3koKSx0aGlzLmljb25Db2xsaXNpb25Cb3guZGVzdHJveSgpO31nZXRQcm9qZWN0aW9uKCl7cmV0dXJuIHRoaXMucHJvamVjdGlvbkluc3RhbmNlfHwodGhpcy5wcm9qZWN0aW9uSW5zdGFuY2U9dHkodGhpcy5wcm9qZWN0aW9uKSksdGhpcy5wcm9qZWN0aW9uSW5zdGFuY2V9ZGVzdHJveSgpe3RoaXMudGV4dC5kZXN0cm95KCksdGhpcy5pY29uLmRlc3Ryb3koKSx0aGlzLmhhc0RlYnVnRGF0YSgpJiZ0aGlzLmRlc3Ryb3lEZWJ1Z0RhdGEoKTt9YWRkVG9MaW5lVmVydGV4QXJyYXkoZSx0KXtjb25zdCBpPXRoaXMubGluZVZlcnRleEFycmF5Lmxlbmd0aDtpZih2b2lkIDAhPT1lLnNlZ21lbnQpZm9yKGNvbnN0e3g6ZSx5Oml9b2YgdCl0aGlzLmxpbmVWZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhlLGkpO3JldHVybiB7bGluZVN0YXJ0SW5kZXg6aSxsaW5lTGVuZ3RoOnRoaXMubGluZVZlcnRleEFycmF5Lmxlbmd0aC1pfX1hZGRTeW1ib2xzKGUsdCxpLHIsbixvLHMsYSxsLGMsaCx1LGQscCxmLG0pe2NvbnN0IF89ZS5pbmRleEFycmF5LGc9ZS5sYXlvdXRWZXJ0ZXhBcnJheSx5PWUuZ2xvYmVFeHRWZXJ0ZXhBcnJheSx4PWUuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQoNCp0Lmxlbmd0aCxnLF8sdGhpcy5jYW5PdmVybGFwP28uc29ydEtleTp2b2lkIDApLHY9dGhpcy5nbHlwaE9mZnNldEFycmF5Lmxlbmd0aCxiPXgudmVydGV4TGVuZ3RoLHc9dGhpcy5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiZzPT09QV8udmVydGljYWw/TWF0aC5QSS8yOjAsVD1vLnRleHQmJm8udGV4dC5zZWN0aW9ucztmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl7Y29uc3R7dGw6bix0cjpzLGJsOmMsYnI6aCx0ZXhQcmltYXJ5OnUsdGV4U2Vjb25kYXJ5OnYscGl4ZWxPZmZzZXRUTDpiLHBpeGVsT2Zmc2V0QlI6RSxtaW5Gb250U2NhbGVYOk0sbWluRm9udFNjYWxlWTpBLGdseXBoT2Zmc2V0OlMsaXNTREY6SSxzZWN0aW9uSW5kZXg6Q309dFtyXSx6PXgudmVydGV4TGVuZ3RoLFA9U1sxXTtpZihseShnLGwueCxsLnksbi54LFArbi55LHUueCx1LnksaSxJLGIueCxiLnksTSxBKSxseShnLGwueCxsLnkscy54LFArcy55LHUueCt1LncsdS55LGksSSxFLngsYi55LE0sQSksbHkoZyxsLngsbC55LGMueCxQK2MueSx1LngsdS55K3UuaCxpLEksYi54LEUueSxNLEEpLGx5KGcsbC54LGwueSxoLngsUCtoLnksdS54K3Uudyx1LnkrdS5oLGksSSxFLngsRS55LE0sQSksYSl7Y29uc3R7eDp0LHk6aSx6OnJ9PWEuYW5jaG9yLFtuLG8sc109YS51cDtoeSh5LHQsaSxyLG4sbyxzKSxoeSh5LHQsaSxyLG4sbyxzKSxoeSh5LHQsaSxyLG4sbyxzKSxoeSh5LHQsaSxyLG4sbyxzKSxkeShlLmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSx0LGkscix3KTt9ZWxzZSBkeShlLmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSxsLngsbC55LGwueix3KTtpZihtKXtjb25zdCB0PXZ8fHU7Y3koZS5pY29uVHJhbnNpdGlvbmluZ1ZlcnRleEFycmF5LHQueCx0LnkpLGN5KGUuaWNvblRyYW5zaXRpb25pbmdWZXJ0ZXhBcnJheSx0LngrdC53LHQueSksY3koZS5pY29uVHJhbnNpdGlvbmluZ1ZlcnRleEFycmF5LHQueCx0LnkrdC5oKSxjeShlLmljb25UcmFuc2l0aW9uaW5nVmVydGV4QXJyYXksdC54K3Qudyx0LnkrdC5oKTt9Xy5lbXBsYWNlQmFjayh6LHorMSx6KzIpLF8uZW1wbGFjZUJhY2soeisxLHorMix6KzMpLHgudmVydGV4TGVuZ3RoKz00LHgucHJpbWl0aXZlTGVuZ3RoKz0yLHRoaXMuZ2x5cGhPZmZzZXRBcnJheS5lbXBsYWNlQmFjayhTWzBdKSxyIT09dC5sZW5ndGgtMSYmQz09PXRbcisxXS5zZWN0aW9uSW5kZXh8fGUucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnBvcHVsYXRlUGFpbnRBcnJheXMoZy5sZW5ndGgsbyxvLmluZGV4LHt9LGQscCxmLFQmJlRbQ10pO31jb25zdCBFPWE/YS5hbmNob3I6bDtlLnBsYWNlZFN5bWJvbEFycmF5LmVtcGxhY2VCYWNrKEUueCxFLnksRS56LGwueCxsLnksdix0aGlzLmdseXBoT2Zmc2V0QXJyYXkubGVuZ3RoLXYsYixjLGgsbC5zZWdtZW50LGk/aVswXTowLGk/aVsxXTowLHJbMF0sclsxXSxzLDAsITEsMCx1LDApO31fY29tbWl0TGF5b3V0VmVydGV4KGUsdCxpLHIsbixvLHMpe2UuZW1wbGFjZUJhY2sodCxpLHIsbixvLE1hdGgucm91bmQocy54KSxNYXRoLnJvdW5kKHMueSkpO31fYWRkQ29sbGlzaW9uRGVidWdWZXJ0aWNlcyhlLHQsaSxyLG4sbyxzKXtjb25zdCBhPWkuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQoNCxpLmxheW91dFZlcnRleEFycmF5LGkuaW5kZXhBcnJheSksbD1hLnZlcnRleExlbmd0aCxjPXMudGlsZUFuY2hvclgsaD1zLnRpbGVBbmNob3JZO2ZvcihsZXQgZT0wO2U8NDtlKyspaS5jb2xsaXNpb25WZXJ0ZXhBcnJheS5lbXBsYWNlQmFjaygwLDAsMCwwKTt0aGlzLl9jb21taXREZWJ1Z0NvbGxpc2lvblZlcnRleFVwZGF0ZShpLmNvbGxpc2lvblZlcnRleEFycmF5RXh0LHQsZS5wYWRkaW5nLHMuek9mZnNldCksdGhpcy5fY29tbWl0TGF5b3V0VmVydGV4KGkubGF5b3V0VmVydGV4QXJyYXkscixuLG8sYyxoLG5ldyB5KGUueDEsZS55MSkpLHRoaXMuX2NvbW1pdExheW91dFZlcnRleChpLmxheW91dFZlcnRleEFycmF5LHIsbixvLGMsaCxuZXcgeShlLngyLGUueTEpKSx0aGlzLl9jb21taXRMYXlvdXRWZXJ0ZXgoaS5sYXlvdXRWZXJ0ZXhBcnJheSxyLG4sbyxjLGgsbmV3IHkoZS54MixlLnkyKSksdGhpcy5fY29tbWl0TGF5b3V0VmVydGV4KGkubGF5b3V0VmVydGV4QXJyYXkscixuLG8sYyxoLG5ldyB5KGUueDEsZS55MikpLGEudmVydGV4TGVuZ3RoKz00O2NvbnN0IHU9aS5pbmRleEFycmF5O3UuZW1wbGFjZUJhY2sobCxsKzEpLHUuZW1wbGFjZUJhY2sobCsxLGwrMiksdS5lbXBsYWNlQmFjayhsKzIsbCszKSx1LmVtcGxhY2VCYWNrKGwrMyxsKSxhLnByaW1pdGl2ZUxlbmd0aCs9NDt9X2FkZFRleHREZWJ1Z0NvbGxpc2lvbkJveGVzKGUsdCxpLHIsbixvKXtmb3IobGV0IHM9cjtzPG47cysrKXtjb25zdCByPWkuZ2V0KHMpLG49dGhpcy5nZXRTeW1ib2xJbnN0YW5jZVRleHRTaXplKGUsbyx0LHMpO3RoaXMuX2FkZENvbGxpc2lvbkRlYnVnVmVydGljZXMocixuLHRoaXMudGV4dENvbGxpc2lvbkJveCxyLnByb2plY3RlZEFuY2hvclgsci5wcm9qZWN0ZWRBbmNob3JZLHIucHJvamVjdGVkQW5jaG9yWixvKTt9fV9hZGRJY29uRGVidWdDb2xsaXNpb25Cb3hlcyhlLHQsaSxyLG4sbyl7Zm9yKGxldCBzPXI7czxuO3MrKyl7Y29uc3Qgcj1pLmdldChzKSxuPXRoaXMuZ2V0U3ltYm9sSW5zdGFuY2VJY29uU2l6ZShlLHQsby5wbGFjZWRJY29uU3ltYm9sSW5kZXgpO3RoaXMuX2FkZENvbGxpc2lvbkRlYnVnVmVydGljZXMocixuLHRoaXMuaWNvbkNvbGxpc2lvbkJveCxyLnByb2plY3RlZEFuY2hvclgsci5wcm9qZWN0ZWRBbmNob3JZLHIucHJvamVjdGVkQW5jaG9yWixvKTt9fWdlbmVyYXRlQ29sbGlzaW9uRGVidWdCdWZmZXJzKGUsdCl7dGhpcy5oYXNEZWJ1Z0RhdGEoKSYmdGhpcy5kZXN0cm95RGVidWdEYXRhKCksdGhpcy50ZXh0Q29sbGlzaW9uQm94PW5ldyBteShxYSxjXy5tZW1iZXJzLGphKSx0aGlzLmljb25Db2xsaXNpb25Cb3g9bmV3IG15KHFhLGNfLm1lbWJlcnMsamEpO2NvbnN0IGk9bV8odGhpcy5pY29uU2l6ZURhdGEsZSkscj1tXyh0aGlzLnRleHRTaXplRGF0YSxlKTtmb3IobGV0IG49MDtuPHRoaXMuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDtuKyspe2NvbnN0IG89dGhpcy5zeW1ib2xJbnN0YW5jZXMuZ2V0KG4pO3RoaXMuX2FkZFRleHREZWJ1Z0NvbGxpc2lvbkJveGVzKHIsZSx0LG8udGV4dEJveFN0YXJ0SW5kZXgsby50ZXh0Qm94RW5kSW5kZXgsbyksdGhpcy5fYWRkVGV4dERlYnVnQ29sbGlzaW9uQm94ZXMocixlLHQsby52ZXJ0aWNhbFRleHRCb3hTdGFydEluZGV4LG8udmVydGljYWxUZXh0Qm94RW5kSW5kZXgsbyksdGhpcy5fYWRkSWNvbkRlYnVnQ29sbGlzaW9uQm94ZXMoaSxlLHQsby5pY29uQm94U3RhcnRJbmRleCxvLmljb25Cb3hFbmRJbmRleCxvKSx0aGlzLl9hZGRJY29uRGVidWdDb2xsaXNpb25Cb3hlcyhpLGUsdCxvLnZlcnRpY2FsSWNvbkJveFN0YXJ0SW5kZXgsby52ZXJ0aWNhbEljb25Cb3hFbmRJbmRleCxvKTt9fWdldFN5bWJvbEluc3RhbmNlVGV4dFNpemUoZSx0LGkscil7Y29uc3Qgbj10aGlzLnRleHQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KHQucmlnaHRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg+PTA/dC5yaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleDp0LmNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleD49MD90LmNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleDp0LmxlZnRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg+PTA/dC5sZWZ0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4OnQudmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXg+PTA/dC52ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleDpyKSxvPWZfKHRoaXMudGV4dFNpemVEYXRhLGUsbikvdV87cmV0dXJuIHRoaXMudGlsZVBpeGVsUmF0aW8qb31nZXRTeW1ib2xJbnN0YW5jZUljb25TaXplKGUsdCxpKXtjb25zdCByPXRoaXMuaWNvbi5wbGFjZWRTeW1ib2xBcnJheS5nZXQoaSksbj1mXyh0aGlzLmljb25TaXplRGF0YSxlLHIpO3JldHVybiB0aGlzLnRpbGVQaXhlbFJhdGlvKm59X2NvbW1pdERlYnVnQ29sbGlzaW9uVmVydGV4VXBkYXRlKGUsdCxpLHIpe2UuZW1wbGFjZUJhY2sodCwtaSwtaSxyKSxlLmVtcGxhY2VCYWNrKHQsaSwtaSxyKSxlLmVtcGxhY2VCYWNrKHQsaSxpLHIpLGUuZW1wbGFjZUJhY2sodCwtaSxpLHIpO31fdXBkYXRlVGV4dERlYnVnQ29sbGlzaW9uQm94ZXMoZSx0LGkscixuLG8pe2ZvcihsZXQgcz1yO3M8bjtzKyspe2NvbnN0IHI9aS5nZXQocyksbj10aGlzLmdldFN5bWJvbEluc3RhbmNlVGV4dFNpemUoZSxvLHQscyk7dGhpcy5fY29tbWl0RGVidWdDb2xsaXNpb25WZXJ0ZXhVcGRhdGUodGhpcy50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5RXh0LG4sci5wYWRkaW5nLG8uek9mZnNldCk7fX1fdXBkYXRlSWNvbkRlYnVnQ29sbGlzaW9uQm94ZXMoZSx0LGkscixuLG8pe2ZvcihsZXQgcz1yO3M8bjtzKyspe2NvbnN0IHI9aS5nZXQocyksbj10aGlzLmdldFN5bWJvbEluc3RhbmNlSWNvblNpemUoZSx0LG8ucGxhY2VkSWNvblN5bWJvbEluZGV4KTt0aGlzLl9jb21taXREZWJ1Z0NvbGxpc2lvblZlcnRleFVwZGF0ZSh0aGlzLmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXlFeHQsbixyLnBhZGRpbmcsby56T2Zmc2V0KTt9fXVwZGF0ZUNvbGxpc2lvbkRlYnVnQnVmZmVycyhlLHQpe2lmKCF0aGlzLmhhc0RlYnVnRGF0YSgpKXJldHVybjt0aGlzLmhhc1RleHRDb2xsaXNpb25Cb3hEYXRhKCkmJnRoaXMudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheUV4dC5jbGVhcigpLHRoaXMuaGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKSYmdGhpcy5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5RXh0LmNsZWFyKCk7Y29uc3QgaT1tXyh0aGlzLmljb25TaXplRGF0YSxlKSxyPW1fKHRoaXMudGV4dFNpemVEYXRhLGUpO2ZvcihsZXQgbj0wO248dGhpcy5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoO24rKyl7Y29uc3Qgbz10aGlzLnN5bWJvbEluc3RhbmNlcy5nZXQobik7dGhpcy5fdXBkYXRlVGV4dERlYnVnQ29sbGlzaW9uQm94ZXMocixlLHQsby50ZXh0Qm94U3RhcnRJbmRleCxvLnRleHRCb3hFbmRJbmRleCxvKSx0aGlzLl91cGRhdGVUZXh0RGVidWdDb2xsaXNpb25Cb3hlcyhyLGUsdCxvLnZlcnRpY2FsVGV4dEJveFN0YXJ0SW5kZXgsby52ZXJ0aWNhbFRleHRCb3hFbmRJbmRleCxvKSx0aGlzLl91cGRhdGVJY29uRGVidWdDb2xsaXNpb25Cb3hlcyhpLGUsdCxvLmljb25Cb3hTdGFydEluZGV4LG8uaWNvbkJveEVuZEluZGV4LG8pLHRoaXMuX3VwZGF0ZUljb25EZWJ1Z0NvbGxpc2lvbkJveGVzKGksZSx0LG8udmVydGljYWxJY29uQm94U3RhcnRJbmRleCxvLnZlcnRpY2FsSWNvbkJveEVuZEluZGV4LG8pO310aGlzLmhhc1RleHRDb2xsaXNpb25Cb3hEYXRhKCkmJnRoaXMudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXJFeHQmJnRoaXMudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXJFeHQudXBkYXRlRGF0YSh0aGlzLnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXlFeHQpLHRoaXMuaGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKSYmdGhpcy5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEJ1ZmZlckV4dCYmdGhpcy5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEJ1ZmZlckV4dC51cGRhdGVEYXRhKHRoaXMuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheUV4dCk7fV9kZXNlcmlhbGl6ZUNvbGxpc2lvbkJveGVzRm9yU3ltYm9sKGUsdCxpLHIsbixvLHMsYSxsKXtjb25zdCBjPXt9O2lmKHQ8aSl7Y29uc3R7eDE6aSx5MTpyLHgyOm4seTI6byxwYWRkaW5nOnMscHJvamVjdGVkQW5jaG9yWDphLHByb2plY3RlZEFuY2hvclk6bCxwcm9qZWN0ZWRBbmNob3JaOmgsdGlsZUFuY2hvclg6dSx0aWxlQW5jaG9yWTpkLGZlYXR1cmVJbmRleDpwfT1lLmdldCh0KTtjLnRleHRCb3g9e3gxOmkseTE6cix4MjpuLHkyOm8scGFkZGluZzpzLHByb2plY3RlZEFuY2hvclg6YSxwcm9qZWN0ZWRBbmNob3JZOmwscHJvamVjdGVkQW5jaG9yWjpoLHRpbGVBbmNob3JYOnUsdGlsZUFuY2hvclk6ZH0sYy50ZXh0RmVhdHVyZUluZGV4PXA7fWlmKHI8bil7Y29uc3R7eDE6dCx5MTppLHgyOm4seTI6byxwYWRkaW5nOnMscHJvamVjdGVkQW5jaG9yWDphLHByb2plY3RlZEFuY2hvclk6bCxwcm9qZWN0ZWRBbmNob3JaOmgsdGlsZUFuY2hvclg6dSx0aWxlQW5jaG9yWTpkLGZlYXR1cmVJbmRleDpwfT1lLmdldChyKTtjLnZlcnRpY2FsVGV4dEJveD17eDE6dCx5MTppLHgyOm4seTI6byxwYWRkaW5nOnMscHJvamVjdGVkQW5jaG9yWDphLHByb2plY3RlZEFuY2hvclk6bCxwcm9qZWN0ZWRBbmNob3JaOmgsdGlsZUFuY2hvclg6dSx0aWxlQW5jaG9yWTpkfSxjLnZlcnRpY2FsVGV4dEZlYXR1cmVJbmRleD1wO31pZihvPHMpe2NvbnN0e3gxOnQseTE6aSx4MjpyLHkyOm4scGFkZGluZzpzLHByb2plY3RlZEFuY2hvclg6YSxwcm9qZWN0ZWRBbmNob3JZOmwscHJvamVjdGVkQW5jaG9yWjpoLHRpbGVBbmNob3JYOnUsdGlsZUFuY2hvclk6ZCxmZWF0dXJlSW5kZXg6cH09ZS5nZXQobyk7Yy5pY29uQm94PXt4MTp0LHkxOmkseDI6cix5MjpuLHBhZGRpbmc6cyxwcm9qZWN0ZWRBbmNob3JYOmEscHJvamVjdGVkQW5jaG9yWTpsLHByb2plY3RlZEFuY2hvclo6aCx0aWxlQW5jaG9yWDp1LHRpbGVBbmNob3JZOmR9LGMuaWNvbkZlYXR1cmVJbmRleD1wO31pZihhPGwpe2NvbnN0e3gxOnQseTE6aSx4MjpyLHkyOm4scGFkZGluZzpvLHByb2plY3RlZEFuY2hvclg6cyxwcm9qZWN0ZWRBbmNob3JZOmwscHJvamVjdGVkQW5jaG9yWjpoLHRpbGVBbmNob3JYOnUsdGlsZUFuY2hvclk6ZCxmZWF0dXJlSW5kZXg6cH09ZS5nZXQoYSk7Yy52ZXJ0aWNhbEljb25Cb3g9e3gxOnQseTE6aSx4MjpyLHkyOm4scGFkZGluZzpvLHByb2plY3RlZEFuY2hvclg6cyxwcm9qZWN0ZWRBbmNob3JZOmwscHJvamVjdGVkQW5jaG9yWjpoLHRpbGVBbmNob3JYOnUsdGlsZUFuY2hvclk6ZH0sYy52ZXJ0aWNhbEljb25GZWF0dXJlSW5kZXg9cDt9cmV0dXJuIGN9ZGVzZXJpYWxpemVDb2xsaXNpb25Cb3hlcyhlKXt0aGlzLmNvbGxpc2lvbkFycmF5cz1bXTtmb3IobGV0IHQ9MDt0PHRoaXMuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDt0Kyspe2NvbnN0IGk9dGhpcy5zeW1ib2xJbnN0YW5jZXMuZ2V0KHQpO3RoaXMuY29sbGlzaW9uQXJyYXlzLnB1c2godGhpcy5fZGVzZXJpYWxpemVDb2xsaXNpb25Cb3hlc0ZvclN5bWJvbChlLGkudGV4dEJveFN0YXJ0SW5kZXgsaS50ZXh0Qm94RW5kSW5kZXgsaS52ZXJ0aWNhbFRleHRCb3hTdGFydEluZGV4LGkudmVydGljYWxUZXh0Qm94RW5kSW5kZXgsaS5pY29uQm94U3RhcnRJbmRleCxpLmljb25Cb3hFbmRJbmRleCxpLnZlcnRpY2FsSWNvbkJveFN0YXJ0SW5kZXgsaS52ZXJ0aWNhbEljb25Cb3hFbmRJbmRleCkpO319aGFzVGV4dERhdGEoKXtyZXR1cm4gdGhpcy50ZXh0LnNlZ21lbnRzLmdldCgpLmxlbmd0aD4wfWhhc0ljb25EYXRhKCl7cmV0dXJuIHRoaXMuaWNvbi5zZWdtZW50cy5nZXQoKS5sZW5ndGg+MH1oYXNEZWJ1Z0RhdGEoKXtyZXR1cm4gdGhpcy50ZXh0Q29sbGlzaW9uQm94JiZ0aGlzLmljb25Db2xsaXNpb25Cb3h9aGFzVGV4dENvbGxpc2lvbkJveERhdGEoKXtyZXR1cm4gdGhpcy5oYXNEZWJ1Z0RhdGEoKSYmdGhpcy50ZXh0Q29sbGlzaW9uQm94LnNlZ21lbnRzLmdldCgpLmxlbmd0aD4wfWhhc0ljb25Db2xsaXNpb25Cb3hEYXRhKCl7cmV0dXJuIHRoaXMuaGFzRGVidWdEYXRhKCkmJnRoaXMuaWNvbkNvbGxpc2lvbkJveC5zZWdtZW50cy5nZXQoKS5sZW5ndGg+MH1oYXNJY29uVGV4dEZpdCgpe3JldHVybiB0aGlzLmhhc0FueUljb25UZXh0Rml0fWFkZEluZGljZXNGb3JQbGFjZWRTeW1ib2woZSx0KXtjb25zdCBpPWUucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KHQpLHI9aS52ZXJ0ZXhTdGFydEluZGV4KzQqaS5udW1HbHlwaHM7Zm9yKGxldCB0PWkudmVydGV4U3RhcnRJbmRleDt0PHI7dCs9NCllLmluZGV4QXJyYXkuZW1wbGFjZUJhY2sodCx0KzEsdCsyKSxlLmluZGV4QXJyYXkuZW1wbGFjZUJhY2sodCsxLHQrMix0KzMpO31nZXRTb3J0ZWRTeW1ib2xJbmRleGVzKGUpe2lmKHRoaXMuc29ydGVkQW5nbGU9PT1lJiZ2b2lkIDAhPT10aGlzLnN5bWJvbEluc3RhbmNlSW5kZXhlcylyZXR1cm4gdGhpcy5zeW1ib2xJbnN0YW5jZUluZGV4ZXM7Y29uc3QgdD1NYXRoLnNpbihlKSxpPU1hdGguY29zKGUpLHI9W10sbj1bXSxvPVtdO2ZvcihsZXQgZT0wO2U8dGhpcy5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoOysrZSl7by5wdXNoKGUpO2NvbnN0IHM9dGhpcy5zeW1ib2xJbnN0YW5jZXMuZ2V0KGUpO3IucHVzaCgwfE1hdGgucm91bmQodCpzLnRpbGVBbmNob3JYK2kqcy50aWxlQW5jaG9yWSkpLG4ucHVzaChzLmZlYXR1cmVJbmRleCk7fXJldHVybiBvLnNvcnQoKChlLHQpPT5yW2VdLXJbdF18fG5bdF0tbltlXSkpLG99Z2V0U29ydGVkSW5kZXhlc0J5Wk9mZnNldCgpe2lmKCF0aGlzLnpPZmZzZXRTb3J0RGlydHkpcmV0dXJuIHRoaXMuc3ltYm9sSW5zdGFuY2VJbmRleGVzU29ydGVkWk9mZnNldDtpZighdGhpcy5zeW1ib2xJbnN0YW5jZUluZGV4ZXNTb3J0ZWRaT2Zmc2V0KXt0aGlzLnN5bWJvbEluc3RhbmNlSW5kZXhlc1NvcnRlZFpPZmZzZXQ9W107Zm9yKGxldCBlPTA7ZTx0aGlzLnN5bWJvbEluc3RhbmNlcy5sZW5ndGg7KytlKXRoaXMuc3ltYm9sSW5zdGFuY2VJbmRleGVzU29ydGVkWk9mZnNldC5wdXNoKGUpO31yZXR1cm4gdGhpcy56T2Zmc2V0U29ydERpcnR5PSExLHRoaXMuc3ltYm9sSW5zdGFuY2VJbmRleGVzU29ydGVkWk9mZnNldC5zb3J0KCgoZSx0KT0+dGhpcy5zeW1ib2xJbnN0YW5jZXMuZ2V0KHQpLnpPZmZzZXQtdGhpcy5zeW1ib2xJbnN0YW5jZXMuZ2V0KGUpLnpPZmZzZXQpKX1hZGRUb1NvcnRLZXlSYW5nZXMoZSx0KXtjb25zdCBpPXRoaXMuc29ydEtleVJhbmdlc1t0aGlzLnNvcnRLZXlSYW5nZXMubGVuZ3RoLTFdO2kmJmkuc29ydEtleT09PXQ/aS5zeW1ib2xJbnN0YW5jZUVuZD1lKzE6dGhpcy5zb3J0S2V5UmFuZ2VzLnB1c2goe3NvcnRLZXk6dCxzeW1ib2xJbnN0YW5jZVN0YXJ0OmUsc3ltYm9sSW5zdGFuY2VFbmQ6ZSsxfSk7fXNvcnRGZWF0dXJlcyhlKXtpZih0aGlzLnNvcnRGZWF0dXJlc0J5WSYmdGhpcy5zb3J0ZWRBbmdsZSE9PWUmJiEodGhpcy50ZXh0LnNlZ21lbnRzLmdldCgpLmxlbmd0aD4xfHx0aGlzLmljb24uc2VnbWVudHMuZ2V0KCkubGVuZ3RoPjEpKXt0aGlzLnN5bWJvbEluc3RhbmNlSW5kZXhlcz10aGlzLmdldFNvcnRlZFN5bWJvbEluZGV4ZXMoZSksdGhpcy5zb3J0ZWRBbmdsZT1lLHRoaXMudGV4dC5pbmRleEFycmF5LmNsZWFyKCksdGhpcy5pY29uLmluZGV4QXJyYXkuY2xlYXIoKSx0aGlzLmZlYXR1cmVTb3J0T3JkZXI9W107Zm9yKGNvbnN0IGUgb2YgdGhpcy5zeW1ib2xJbnN0YW5jZUluZGV4ZXMpe2NvbnN0IHQ9dGhpcy5zeW1ib2xJbnN0YW5jZXMuZ2V0KGUpO3RoaXMuZmVhdHVyZVNvcnRPcmRlci5wdXNoKHQuZmVhdHVyZUluZGV4KTtjb25zdHtyaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleDppLGNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleDpyLGxlZnRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6bix2ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleDpvLHBsYWNlZEljb25TeW1ib2xJbmRleDpzLHZlcnRpY2FsUGxhY2VkSWNvblN5bWJvbEluZGV4OmF9PXQ7aT49MCYmdGhpcy5hZGRJbmRpY2VzRm9yUGxhY2VkU3ltYm9sKHRoaXMudGV4dCxpKSxyPj0wJiZyIT09aSYmdGhpcy5hZGRJbmRpY2VzRm9yUGxhY2VkU3ltYm9sKHRoaXMudGV4dCxyKSxuPj0wJiZuIT09ciYmbiE9PWkmJnRoaXMuYWRkSW5kaWNlc0ZvclBsYWNlZFN5bWJvbCh0aGlzLnRleHQsbiksbz49MCYmdGhpcy5hZGRJbmRpY2VzRm9yUGxhY2VkU3ltYm9sKHRoaXMudGV4dCxvKSxzPj0wJiZ0aGlzLmFkZEluZGljZXNGb3JQbGFjZWRTeW1ib2wodGhpcy5pY29uLHMpLGE+PTAmJnRoaXMuYWRkSW5kaWNlc0ZvclBsYWNlZFN5bWJvbCh0aGlzLmljb24sYSk7fXRoaXMudGV4dC5pbmRleEJ1ZmZlciYmdGhpcy50ZXh0LmluZGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy50ZXh0LmluZGV4QXJyYXkpLHRoaXMuaWNvbi5pbmRleEJ1ZmZlciYmdGhpcy5pY29uLmluZGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy5pY29uLmluZGV4QXJyYXkpO319fVJzKF95LFwiU3ltYm9sQnVja2V0XCIse29taXQ6W1wibGF5ZXJzXCIsXCJjb2xsaXNpb25Cb3hBcnJheVwiLFwiZmVhdHVyZXNcIixcImNvbXBhcmVUZXh0XCJdfSksX3kuTUFYX0dMWVBIUz02NTUzNSxfeS5hZGREeW5hbWljQXR0cmlidXRlcz1keTt2YXIgZ3k9X3k7Y29uc3QgeXk9SWEoW3tuYW1lOlwiYV9wb3Nfbm9ybWFsXCIsY29tcG9uZW50czoyLHR5cGU6XCJJbnQxNlwifSx7bmFtZTpcImFfZGF0YVwiLGNvbXBvbmVudHM6NCx0eXBlOlwiVWludDhcIn0se25hbWU6XCJhX2xpbmVzb2ZhclwiLGNvbXBvbmVudHM6MSx0eXBlOlwiRmxvYXQzMlwifV0sNCkse21lbWJlcnM6eHl9PXl5LHZ5PUlhKFt7bmFtZTpcImFfcGFja2VkXCIsY29tcG9uZW50czo0LHR5cGU6XCJGbG9hdDMyXCJ9XSkse21lbWJlcnM6Ynl9PXZ5LHd5PWhtLnR5cGVzLFR5PU1hdGguY29zKE1hdGguUEkvMTgwKjM3LjUpO2NsYXNzIEV5e2NvbnN0cnVjdG9yKGUpe3RoaXMuem9vbT1lLnpvb20sdGhpcy5vdmVyc2NhbGluZz1lLm92ZXJzY2FsaW5nLHRoaXMubGF5ZXJzPWUubGF5ZXJzLHRoaXMubGF5ZXJJZHM9dGhpcy5sYXllcnMubWFwKChlPT5lLmZxaWQpKSx0aGlzLmluZGV4PWUuaW5kZXgsdGhpcy5wcm9qZWN0aW9uPWUucHJvamVjdGlvbix0aGlzLmhhc1BhdHRlcm49ITEsdGhpcy5wYXR0ZXJuRmVhdHVyZXM9W10sdGhpcy5saW5lQ2xpcHNBcnJheT1bXSx0aGlzLmdyYWRpZW50cz17fSx0aGlzLmxheWVycy5mb3JFYWNoKChlPT57dGhpcy5ncmFkaWVudHNbZS5pZF09e307fSkpLHRoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IExhLHRoaXMubGF5b3V0VmVydGV4QXJyYXkyPW5ldyBrYSx0aGlzLmluZGV4QXJyYXk9bmV3IFdhLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zPW5ldyBlYyhlLmxheWVycyxlLnpvb20pLHRoaXMuc2VnbWVudHM9bmV3IHhsLHRoaXMubWF4TGluZUxlbmd0aD0wLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcklkcz10aGlzLmxheWVycy5maWx0ZXIoKGU9PmUuaXNTdGF0ZURlcGVuZGVudCgpKSkubWFwKChlPT5lLmlkKSk7fXBvcHVsYXRlKGUsdCxpLHIpe3RoaXMuaGFzUGF0dGVybj1VZihcImxpbmVcIix0aGlzLmxheWVycyx0KTtjb25zdCBuPXRoaXMubGF5ZXJzWzBdLmxheW91dC5nZXQoXCJsaW5lLXNvcnQta2V5XCIpLG89W107Zm9yKGNvbnN0e2ZlYXR1cmU6dCxpZDpzLGluZGV4OmEsc291cmNlTGF5ZXJJbmRleDpsfW9mIGUpe2NvbnN0IGU9dGhpcy5sYXllcnNbMF0uX2ZlYXR1cmVGaWx0ZXIubmVlZEdlb21ldHJ5LGM9Z3AodCxlKTtpZighdGhpcy5sYXllcnNbMF0uX2ZlYXR1cmVGaWx0ZXIuZmlsdGVyKG5ldyBvYSh0aGlzLnpvb20pLGMsaSkpY29udGludWU7Y29uc3QgaD1uP24uZXZhbHVhdGUoYyx7fSxpKTp2b2lkIDAsdT17aWQ6cyxwcm9wZXJ0aWVzOnQucHJvcGVydGllcyx0eXBlOnQudHlwZSxzb3VyY2VMYXllckluZGV4OmwsaW5kZXg6YSxnZW9tZXRyeTplP2MuZ2VvbWV0cnk6X3AodCxpLHIpLHBhdHRlcm5zOnt9LHNvcnRLZXk6aH07by5wdXNoKHUpO31uJiZvLnNvcnQoKChlLHQpPT5lLnNvcnRLZXktdC5zb3J0S2V5KSk7Y29uc3R7bGluZUF0bGFzOnMsZmVhdHVyZUluZGV4OmF9PXQsbD10aGlzLmFkZENvbnN0YW50RGFzaGVzKHMpO2Zvcihjb25zdCByIG9mIG8pe2NvbnN0e2dlb21ldHJ5Om4saW5kZXg6byxzb3VyY2VMYXllckluZGV4OmN9PXI7aWYobCYmdGhpcy5hZGRGZWF0dXJlRGFzaGVzKHIscyksdGhpcy5oYXNQYXR0ZXJuKXtjb25zdCBlPVZmKFwibGluZVwiLHRoaXMubGF5ZXJzLHIsdGhpcy56b29tLHQpO3RoaXMucGF0dGVybkZlYXR1cmVzLnB1c2goZSk7fWVsc2UgdGhpcy5hZGRGZWF0dXJlKHIsbixvLGkscy5wb3NpdGlvbnMsdC5hdmFpbGFibGVJbWFnZXMsdC5icmlnaHRuZXNzKTthLmluc2VydChlW29dLmZlYXR1cmUsbixvLGMsdGhpcy5pbmRleCk7fX1hZGRDb25zdGFudERhc2hlcyhlKXtsZXQgdD0hMTtmb3IoY29uc3QgaSBvZiB0aGlzLmxheWVycyl7Y29uc3Qgcj1pLnBhaW50LmdldChcImxpbmUtZGFzaGFycmF5XCIpLnZhbHVlLG49aS5sYXlvdXQuZ2V0KFwibGluZS1jYXBcIikudmFsdWU7aWYoXCJjb25zdGFudFwiIT09ci5raW5kfHxcImNvbnN0YW50XCIhPT1uLmtpbmQpdD0hMDtlbHNlIHtjb25zdCB0PW4udmFsdWUsaT1yLnZhbHVlO2lmKCFpKWNvbnRpbnVlO2UuYWRkRGFzaChpLHQpO319cmV0dXJuIHR9YWRkRmVhdHVyZURhc2hlcyhlLHQpe2NvbnN0IGk9dGhpcy56b29tO2Zvcihjb25zdCByIG9mIHRoaXMubGF5ZXJzKXtjb25zdCBuPXIucGFpbnQuZ2V0KFwibGluZS1kYXNoYXJyYXlcIikudmFsdWUsbz1yLmxheW91dC5nZXQoXCJsaW5lLWNhcFwiKS52YWx1ZTtpZihcImNvbnN0YW50XCI9PT1uLmtpbmQmJlwiY29uc3RhbnRcIj09PW8ua2luZCljb250aW51ZTtsZXQgcyxhO2lmKFwiY29uc3RhbnRcIj09PW4ua2luZCl7aWYocz1uLnZhbHVlLCFzKWNvbnRpbnVlfWVsc2Ugcz1uLmV2YWx1YXRlKHt6b29tOml9LGUpO2E9XCJjb25zdGFudFwiPT09by5raW5kP28udmFsdWU6by5ldmFsdWF0ZSh7em9vbTppfSxlKSx0LmFkZERhc2gocyxhKSxlLnBhdHRlcm5zW3IuaWRdPXQuZ2V0S2V5KHMsYSk7fX11cGRhdGUoZSx0LGkscixuKXtjb25zdCBvPTAhPT1PYmplY3Qua2V5cyhlKS5sZW5ndGg7byYmIXRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnMubGVuZ3RofHx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGRhdGVQYWludEFycmF5cyhlLHQsbz90aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzOnRoaXMubGF5ZXJzLGkscixuKTt9YWRkRmVhdHVyZXMoZSx0LGkscixuLG8pe2Zvcihjb25zdCBlIG9mIHRoaXMucGF0dGVybkZlYXR1cmVzKXRoaXMuYWRkRmVhdHVyZShlLGUuZ2VvbWV0cnksZS5pbmRleCx0LGkscixvKTt9aXNFbXB0eSgpe3JldHVybiAwPT09dGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGh9dXBsb2FkUGVuZGluZygpe3JldHVybiAhdGhpcy51cGxvYWRlZHx8dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWR9dXBsb2FkKGUpe3RoaXMudXBsb2FkZWR8fCgwIT09dGhpcy5sYXlvdXRWZXJ0ZXhBcnJheTIubGVuZ3RoJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXIyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMubGF5b3V0VmVydGV4QXJyYXkyLGJ5KSksdGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSx4eSksdGhpcy5pbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kZXhBcnJheSkpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwbG9hZChlKSx0aGlzLnVwbG9hZGVkPSEwO31kZXN0cm95KCl7dGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXImJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZGVzdHJveSgpLHRoaXMuc2VnbWVudHMuZGVzdHJveSgpKTt9bGluZUZlYXR1cmVDbGlwcyhlKXtpZihlLnByb3BlcnRpZXMmJmUucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShcIm1hcGJveF9jbGlwX3N0YXJ0XCIpJiZlLnByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoXCJtYXBib3hfY2xpcF9lbmRcIikpcmV0dXJuIHtzdGFydDorZS5wcm9wZXJ0aWVzLm1hcGJveF9jbGlwX3N0YXJ0LGVuZDorZS5wcm9wZXJ0aWVzLm1hcGJveF9jbGlwX2VuZH19YWRkRmVhdHVyZShlLHQsaSxyLG4sbyxzKXtjb25zdCBhPXRoaXMubGF5ZXJzWzBdLmxheW91dCxsPWEuZ2V0KFwibGluZS1qb2luXCIpLmV2YWx1YXRlKGUse30pLGM9YS5nZXQoXCJsaW5lLWNhcFwiKS5ldmFsdWF0ZShlLHt9KSxoPWEuZ2V0KFwibGluZS1taXRlci1saW1pdFwiKSx1PWEuZ2V0KFwibGluZS1yb3VuZC1saW1pdFwiKTt0aGlzLmxpbmVDbGlwcz10aGlzLmxpbmVGZWF0dXJlQ2xpcHMoZSk7Zm9yKGNvbnN0IGkgb2YgdCl0aGlzLmFkZExpbmUoaSxlLGwsYyxoLHUpO3RoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnBvcHVsYXRlUGFpbnRBcnJheXModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgsZSxpLG4sbyxyLHMpO31hZGRMaW5lKGUsdCxpLHIsbixvKXtpZih0aGlzLmRpc3RhbmNlPTAsdGhpcy5zY2FsZWREaXN0YW5jZT0wLHRoaXMudG90YWxEaXN0YW5jZT0wLHRoaXMubGluZVNvRmFyPTAsdGhpcy5saW5lQ2xpcHMpe3RoaXMubGluZUNsaXBzQXJyYXkucHVzaCh0aGlzLmxpbmVDbGlwcyk7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aC0xO3QrKyl0aGlzLnRvdGFsRGlzdGFuY2UrPWVbdF0uZGlzdChlW3QrMV0pO3RoaXMudXBkYXRlU2NhbGVkRGlzdGFuY2UoKSx0aGlzLm1heExpbmVMZW5ndGg9TWF0aC5tYXgodGhpcy5tYXhMaW5lTGVuZ3RoLHRoaXMudG90YWxEaXN0YW5jZSk7fWNvbnN0IHM9XCJQb2x5Z29uXCI9PT13eVt0LnR5cGVdO2xldCBhPWUubGVuZ3RoO2Zvcig7YT49MiYmZVthLTFdLmVxdWFscyhlW2EtMl0pOylhLS07bGV0IGw9MDtmb3IoO2w8YS0xJiZlW2xdLmVxdWFscyhlW2wrMV0pOylsKys7aWYoYTwocz8zOjIpKXJldHVybjtcImJldmVsXCI9PT1pJiYobj0xLjA1KTtjb25zdCBjPXRoaXMub3ZlcnNjYWxpbmc8PTE2PzE1KmNyLyg1MTIqdGhpcy5vdmVyc2NhbGluZyk6MCxoPXRoaXMuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQoMTAqYSx0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMuaW5kZXhBcnJheSk7bGV0IHUsZCxwLGYsbTt0aGlzLmUxPXRoaXMuZTI9LTEscyYmKHU9ZVthLTJdLG09ZVtsXS5zdWIodSkuX3VuaXQoKS5fcGVycCgpKTtmb3IobGV0IHQ9bDt0PGE7dCsrKXtpZihwPXQ9PT1hLTE/cz9lW2wrMV06dm9pZCAwOmVbdCsxXSxwJiZlW3RdLmVxdWFscyhwKSljb250aW51ZTttJiYoZj1tKSx1JiYoZD11KSx1PWVbdF0sbT1wP3Auc3ViKHUpLl91bml0KCkuX3BlcnAoKTpmLGY9Znx8bTtsZXQgXz1mLmFkZChtKTswPT09Xy54JiYwPT09Xy55fHxfLl91bml0KCk7Y29uc3QgZz1mLngqbS54K2YueSptLnkseT1fLngqbS54K18ueSptLnkseD0wIT09eT8xL3k6MS8wLHY9MipNYXRoLnNxcnQoMi0yKnkpLGI9eTxUeSYmZCYmcCx3PWYueCptLnktZi55Km0ueD4wO2lmKGImJnQ+bCl7Y29uc3QgZT11LmRpc3QoZCk7aWYoZT4yKmMpe2NvbnN0IHQ9dS5zdWIodS5zdWIoZCkuX211bHQoYy9lKS5fcm91bmQoKSk7dGhpcy51cGRhdGVEaXN0YW5jZShkLHQpLHRoaXMuYWRkQ3VycmVudFZlcnRleCh0LGYsMCwwLGgpLGQ9dDt9fWNvbnN0IFQ9ZCYmcDtsZXQgRT1UP2k6cz9cImJ1dHRcIjpyO2lmKFQmJlwicm91bmRcIj09PUUmJih4PG8/RT1cIm1pdGVyXCI6eDw9MiYmKEU9XCJmYWtlcm91bmRcIikpLFwibWl0ZXJcIj09PUUmJng+biYmKEU9XCJiZXZlbFwiKSxcImJldmVsXCI9PT1FJiYoeD4yJiYoRT1cImZsaXBiZXZlbFwiKSx4PG4mJihFPVwibWl0ZXJcIikpLGQmJnRoaXMudXBkYXRlRGlzdGFuY2UoZCx1KSxcIm1pdGVyXCI9PT1FKV8uX211bHQoeCksdGhpcy5hZGRDdXJyZW50VmVydGV4KHUsXywwLDAsaCk7ZWxzZSBpZihcImZsaXBiZXZlbFwiPT09RSl7aWYoeD4xMDApXz1tLm11bHQoLTEpO2Vsc2Uge2NvbnN0IGU9eCpmLmFkZChtKS5tYWcoKS9mLnN1YihtKS5tYWcoKTtfLl9wZXJwKCkuX211bHQoZSoodz8tMToxKSk7fXRoaXMuYWRkQ3VycmVudFZlcnRleCh1LF8sMCwwLGgpLHRoaXMuYWRkQ3VycmVudFZlcnRleCh1LF8ubXVsdCgtMSksMCwwLGgpO31lbHNlIGlmKFwiYmV2ZWxcIj09PUV8fFwiZmFrZXJvdW5kXCI9PT1FKXtjb25zdCBlPS1NYXRoLnNxcnQoeCp4LTEpLHQ9dz9lOjAsaT13PzA6ZTtpZihkJiZ0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgodSxmLHQsaSxoKSxcImZha2Vyb3VuZFwiPT09RSl7Y29uc3QgZT1NYXRoLnJvdW5kKDE4MCp2L01hdGguUEkvMjApO2ZvcihsZXQgdD0xO3Q8ZTt0Kyspe2xldCBpPXQvZTtpZiguNSE9PWkpe2NvbnN0IGU9aS0uNTtpKz1pKmUqKGktMSkqKCgxLjA5MDQrZyooZyooMy41NTY0NS0xLjQzNTE5KmcpLTMuMjQ1MikpKmUqZSsoLjg0ODAxMytnKiguMjE1NjM4KmctMS4wNjAyMSkpKTt9Y29uc3Qgcj1tLnN1YihmKS5fbXVsdChpKS5fYWRkKGYpLl91bml0KCkuX211bHQodz8tMToxKTt0aGlzLmFkZEhhbGZWZXJ0ZXgodSxyLngsci55LCExLHcsMCxoKTt9fXAmJnRoaXMuYWRkQ3VycmVudFZlcnRleCh1LG0sLXQsLWksaCk7fWVsc2UgaWYoXCJidXR0XCI9PT1FKXRoaXMuYWRkQ3VycmVudFZlcnRleCh1LF8sMCwwLGgpO2Vsc2UgaWYoXCJzcXVhcmVcIj09PUUpe2NvbnN0IGU9ZD8xOi0xO2R8fHRoaXMuYWRkQ3VycmVudFZlcnRleCh1LF8sZSxlLGgpLHRoaXMuYWRkQ3VycmVudFZlcnRleCh1LF8sMCwwLGgpLGQmJnRoaXMuYWRkQ3VycmVudFZlcnRleCh1LF8sZSxlLGgpO31lbHNlIFwicm91bmRcIj09PUUmJihkJiYodGhpcy5hZGRDdXJyZW50VmVydGV4KHUsZiwwLDAsaCksdGhpcy5hZGRDdXJyZW50VmVydGV4KHUsZiwxLDEsaCwhMCkpLHAmJih0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgodSxtLC0xLC0xLGgsITApLHRoaXMuYWRkQ3VycmVudFZlcnRleCh1LG0sMCwwLGgpKSk7aWYoYiYmdDxhLTEpe2NvbnN0IGU9dS5kaXN0KHApO2lmKGU+MipjKXtjb25zdCB0PXUuYWRkKHAuc3ViKHUpLl9tdWx0KGMvZSkuX3JvdW5kKCkpO3RoaXMudXBkYXRlRGlzdGFuY2UodSx0KSx0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgodCxtLDAsMCxoKSx1PXQ7fX19fWFkZEN1cnJlbnRWZXJ0ZXgoZSx0LGkscixuLG89ITEpe2NvbnN0IHM9dC55KnItdC54LGE9LXQueS10Lngqcjt0aGlzLmFkZEhhbGZWZXJ0ZXgoZSx0LngrdC55KmksdC55LXQueCppLG8sITEsaSxuKSx0aGlzLmFkZEhhbGZWZXJ0ZXgoZSxzLGEsbywhMCwtcixuKTt9YWRkSGFsZlZlcnRleCh7eDplLHk6dH0saSxyLG4sbyxzLGEpe3RoaXMubGF5b3V0VmVydGV4QXJyYXkuZW1wbGFjZUJhY2soKGU8PDEpKyhuPzE6MCksKHQ8PDEpKyhvPzE6MCksTWF0aC5yb3VuZCg2MyppKSsxMjgsTWF0aC5yb3VuZCg2MypyKSsxMjgsMSsoMD09PXM/MDpzPDA/LTE6MSksMCx0aGlzLmxpbmVTb0ZhciksdGhpcy5saW5lQ2xpcHMmJnRoaXMubGF5b3V0VmVydGV4QXJyYXkyLmVtcGxhY2VCYWNrKHRoaXMuc2NhbGVkRGlzdGFuY2UsdGhpcy5saW5lQ2xpcHNBcnJheS5sZW5ndGgsdGhpcy5saW5lQ2xpcHMuc3RhcnQsdGhpcy5saW5lQ2xpcHMuZW5kKTtjb25zdCBsPWEudmVydGV4TGVuZ3RoKys7dGhpcy5lMT49MCYmdGhpcy5lMj49MCYmKHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayh0aGlzLmUxLHRoaXMuZTIsbCksYS5wcmltaXRpdmVMZW5ndGgrKyksbz90aGlzLmUyPWw6dGhpcy5lMT1sO311cGRhdGVTY2FsZWREaXN0YW5jZSgpe2lmKHRoaXMubGluZUNsaXBzKXtjb25zdCBlPXRoaXMudG90YWxEaXN0YW5jZS8odGhpcy5saW5lQ2xpcHMuZW5kLXRoaXMubGluZUNsaXBzLnN0YXJ0KTt0aGlzLnNjYWxlZERpc3RhbmNlPXRoaXMuZGlzdGFuY2UvdGhpcy50b3RhbERpc3RhbmNlLHRoaXMubGluZVNvRmFyPWUqdGhpcy5saW5lQ2xpcHMuc3RhcnQrdGhpcy5kaXN0YW5jZTt9ZWxzZSB0aGlzLmxpbmVTb0Zhcj10aGlzLmRpc3RhbmNlO311cGRhdGVEaXN0YW5jZShlLHQpe3RoaXMuZGlzdGFuY2UrPWUuZGlzdCh0KSx0aGlzLnVwZGF0ZVNjYWxlZERpc3RhbmNlKCk7fX1ScyhFeSxcIkxpbmVCdWNrZXRcIix7b21pdDpbXCJsYXllcnNcIixcInBhdHRlcm5GZWF0dXJlc1wiXX0pO2NsYXNzIE15e2NvbnN0cnVjdG9yKGUsdCxpLHIpe3RoaXMuY29udGV4dD1lLHRoaXMuZm9ybWF0PWksdGhpcy50ZXh0dXJlPWUuZ2wuY3JlYXRlVGV4dHVyZSgpLHRoaXMudXBkYXRlKHQscik7fXVwZGF0ZShlLGkscil7Y29uc3R7d2lkdGg6bixoZWlnaHQ6b309ZSx7Y29udGV4dDpzfT10aGlzLHtnbDphfT1zLHtIVE1MSW1hZ2VFbGVtZW50OmwsSFRNTENhbnZhc0VsZW1lbnQ6YyxIVE1MVmlkZW9FbGVtZW50OmgsSW1hZ2VEYXRhOnUsSW1hZ2VCaXRtYXA6ZH09dDtpZihhLmJpbmRUZXh0dXJlKGEuVEVYVFVSRV8yRCx0aGlzLnRleHR1cmUpLHMucGl4ZWxTdG9yZVVucGFja0ZsaXBZLnNldCghMSkscy5waXhlbFN0b3JlVW5wYWNrLnNldCgxKSxzLnBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhLnNldCh0aGlzLmZvcm1hdD09PWEuUkdCQSYmKCFpfHwhMSE9PWkucHJlbXVsdGlwbHkpKSxyfHx0aGlzLnNpemUmJnRoaXMuc2l6ZVswXT09PW4mJnRoaXMuc2l6ZVsxXT09PW8pe2NvbnN0e3g6dCx5Oml9PXJ8fHt4OjAseTowfTtpZihlIGluc3RhbmNlb2YgbHx8ZSBpbnN0YW5jZW9mIGN8fGUgaW5zdGFuY2VvZiBofHxlIGluc3RhbmNlb2YgdXx8ZCYmZSBpbnN0YW5jZW9mIGQpYS50ZXhTdWJJbWFnZTJEKGEuVEVYVFVSRV8yRCwwLHQsaSxhLlJHQkEsYS5VTlNJR05FRF9CWVRFLGUpO2Vsc2Uge2xldCByPXRoaXMuZm9ybWF0LHM9YS5VTlNJR05FRF9CWVRFO3RoaXMuZm9ybWF0PT09YS5SMzJGJiYocj1hLlJFRCxzPWEuRkxPQVQpLGEudGV4U3ViSW1hZ2UyRChhLlRFWFRVUkVfMkQsMCx0LGksbixvLHIscyxlLmRhdGEpO319ZWxzZSBpZih0aGlzLnNpemU9W24sb10sZSBpbnN0YW5jZW9mIGx8fGUgaW5zdGFuY2VvZiBjfHxlIGluc3RhbmNlb2YgaHx8ZSBpbnN0YW5jZW9mIHV8fGQmJmUgaW5zdGFuY2VvZiBkKXtsZXQgdD10aGlzLmZvcm1hdDt0aGlzLmZvcm1hdD09PWEuUjgmJih0PWEuUkVEKSxhLnRleEltYWdlMkQoYS5URVhUVVJFXzJELDAsdGhpcy5mb3JtYXQsdCxhLlVOU0lHTkVEX0JZVEUsZSk7fWVsc2Uge2xldCB0PXRoaXMuZm9ybWF0LGk9dGhpcy5mb3JtYXQscj1hLlVOU0lHTkVEX0JZVEU7dGhpcy5mb3JtYXQ9PT1hLkRFUFRIX0NPTVBPTkVOVCYmKHQ9YS5ERVBUSF9DT01QT05FTlQxNixyPWEuVU5TSUdORURfU0hPUlQpLHRoaXMuZm9ybWF0PT09YS5SMzJGJiYocj1hLkZMT0FULGk9YS5SRUQpLGEudGV4SW1hZ2UyRChhLlRFWFRVUkVfMkQsMCx0LG4sbywwLGkscixlLmRhdGEpO310aGlzLnVzZU1pcG1hcD1Cb29sZWFuKGkmJmkudXNlTWlwbWFwKSx0aGlzLnVzZU1pcG1hcCYmYS5nZW5lcmF0ZU1pcG1hcChhLlRFWFRVUkVfMkQpO31iaW5kKGUsdCl7Y29uc3R7Y29udGV4dDppfT10aGlzLHtnbDpyfT1pO3IuYmluZFRleHR1cmUoci5URVhUVVJFXzJELHRoaXMudGV4dHVyZSksZSE9PXRoaXMubWluRmlsdGVyJiYoci50ZXhQYXJhbWV0ZXJpKHIuVEVYVFVSRV8yRCxyLlRFWFRVUkVfTUFHX0ZJTFRFUixlKSxyLnRleFBhcmFtZXRlcmkoci5URVhUVVJFXzJELHIuVEVYVFVSRV9NSU5fRklMVEVSLHRoaXMudXNlTWlwbWFwP2U9PT1yLk5FQVJFU1Q/ci5ORUFSRVNUX01JUE1BUF9ORUFSRVNUOnIuTElORUFSX01JUE1BUF9ORUFSRVNUOmUpLHRoaXMubWluRmlsdGVyPWUpLHQhPT10aGlzLndyYXBTJiYoci50ZXhQYXJhbWV0ZXJpKHIuVEVYVFVSRV8yRCxyLlRFWFRVUkVfV1JBUF9TLHQpLHIudGV4UGFyYW1ldGVyaShyLlRFWFRVUkVfMkQsci5URVhUVVJFX1dSQVBfVCx0KSx0aGlzLndyYXBTPXQpO31iaW5kRXh0cmFQYXJhbShlLHQsaSxyKXtjb25zdHtjb250ZXh0Om59PXRoaXMse2dsOm99PW47by5iaW5kVGV4dHVyZShvLlRFWFRVUkVfMkQsdGhpcy50ZXh0dXJlKSx0IT09dGhpcy5tYWdGaWx0ZXImJihvLnRleFBhcmFtZXRlcmkoby5URVhUVVJFXzJELG8uVEVYVFVSRV9NQUdfRklMVEVSLHQpLHRoaXMubWFnRmlsdGVyPXQpLGUhPT10aGlzLm1pbkZpbHRlciYmKG8udGV4UGFyYW1ldGVyaShvLlRFWFRVUkVfMkQsby5URVhUVVJFX01JTl9GSUxURVIsdGhpcy51c2VNaXBtYXA/ZT09PW8uTkVBUkVTVD9vLk5FQVJFU1RfTUlQTUFQX05FQVJFU1Q6by5MSU5FQVJfTUlQTUFQX05FQVJFU1Q6ZSksdGhpcy5taW5GaWx0ZXI9ZSksaSE9PXRoaXMud3JhcFMmJihvLnRleFBhcmFtZXRlcmkoby5URVhUVVJFXzJELG8uVEVYVFVSRV9XUkFQX1MsaSksdGhpcy53cmFwUz1pKSxyIT09dGhpcy53cmFwVCYmKG8udGV4UGFyYW1ldGVyaShvLlRFWFRVUkVfMkQsby5URVhUVVJFX1dSQVBfVCxyKSx0aGlzLndyYXBUPXIpO31kZXN0cm95KCl7Y29uc3R7Z2w6ZX09dGhpcy5jb250ZXh0O2UuZGVsZXRlVGV4dHVyZSh0aGlzLnRleHR1cmUpLHRoaXMudGV4dHVyZT1udWxsO319Y2xhc3MgQXl7Y29uc3RydWN0b3IoZSx0KXt0aGlzLmNvbnRleHQ9ZSx0aGlzLnRleHR1cmU9dDt9YmluZChlLHQpe2NvbnN0e2NvbnRleHQ6aX09dGhpcyx7Z2w6cn09aTtyLmJpbmRUZXh0dXJlKHIuVEVYVFVSRV8yRCx0aGlzLnRleHR1cmUpLGUhPT10aGlzLm1pbkZpbHRlciYmKHIudGV4UGFyYW1ldGVyaShyLlRFWFRVUkVfMkQsci5URVhUVVJFX01BR19GSUxURVIsZSksci50ZXhQYXJhbWV0ZXJpKHIuVEVYVFVSRV8yRCxyLlRFWFRVUkVfTUlOX0ZJTFRFUixlKSx0aGlzLm1pbkZpbHRlcj1lKSx0IT09dGhpcy53cmFwUyYmKHIudGV4UGFyYW1ldGVyaShyLlRFWFRVUkVfMkQsci5URVhUVVJFX1dSQVBfUyx0KSxyLnRleFBhcmFtZXRlcmkoci5URVhUVVJFXzJELHIuVEVYVFVSRV9XUkFQX1QsdCksdGhpcy53cmFwUz10KTt9fWNvbnN0IFN5PTMyLEl5PTMzLEN5PW5ldyBVaW50MTZBcnJheSg4MTg0KTtmb3IobGV0IGU9MDtlPDIwNDY7ZSsrKXtsZXQgdD1lKzIsaT0wLHI9MCxuPTAsbz0wLHM9MCxhPTA7Zm9yKDEmdD9uPW89cz1TeTppPXI9YT1TeTsodD4+PTEpPjE7KXtjb25zdCBlPWkrbj4+MSxsPXIrbz4+MTsxJnQ/KG49aSxvPXIsaT1zLHI9YSk6KGk9bixyPW8sbj1zLG89YSkscz1lLGE9bDt9Y29uc3QgbD00KmU7Q3lbbCswXT1pLEN5W2wrMV09cixDeVtsKzJdPW4sQ3lbbCszXT1vO31jb25zdCB6eT1uZXcgVWludDE2QXJyYXkoMjE3OCksUHk9bmV3IFVpbnQ4QXJyYXkoMTA4OSksRHk9bmV3IFVpbnQxNkFycmF5KDEwODkpO2Z1bmN0aW9uIFJ5KGUpe3JldHVybiAwPT09ZT8tLjAzMTI1OjMyPT09ZT8uMDMxMjU6MH12YXIgTHk9SWEoW3tuYW1lOlwiYV9wb3NcIix0eXBlOlwiSW50MTZcIixjb21wb25lbnRzOjJ9LHtuYW1lOlwiYV90ZXh0dXJlX3Bvc1wiLHR5cGU6XCJJbnQxNlwiLGNvbXBvbmVudHM6Mn1dKTtjb25zdCBreT17dHlwZToyLGV4dGVudDpjcixsb2FkR2VvbWV0cnk6KCk9PltbbmV3IHkoMCwwKSxuZXcgeShjcisxLDApLG5ldyB5KGNyKzEsY3IrMSksbmV3IHkoMCxjcisxKSxuZXcgeSgwLDApXV19O2NsYXNzIE95e2NvbnN0cnVjdG9yKGUsdCxpLHIsbil7dGhpcy50aWxlSUQ9ZSx0aGlzLnVpZD1GKCksdGhpcy51c2VzPTAsdGhpcy50aWxlU2l6ZT10LHRoaXMudGlsZVpvb209aSx0aGlzLmJ1Y2tldHM9e30sdGhpcy5leHBpcmF0aW9uVGltZT1udWxsLHRoaXMucXVlcnlQYWRkaW5nPTAsdGhpcy5oYXNTeW1ib2xCdWNrZXRzPSExLHRoaXMuaGFzUlRMVGV4dD0hMSx0aGlzLmRlcGVuZGVuY2llcz17fSx0aGlzLmlzUmFzdGVyPW4sciYmci5zdHlsZSYmKHRoaXMuX2xhc3RVcGRhdGVkQnJpZ2h0bmVzcz1yLnN0eWxlLmdldEJyaWdodG5lc3MoKSksdGhpcy5leHBpcmVkUmVxdWVzdENvdW50PTAsdGhpcy5zdGF0ZT1cImxvYWRpbmdcIixyJiZyLnRyYW5zZm9ybSYmKHRoaXMucHJvamVjdGlvbj1yLnRyYW5zZm9ybS5wcm9qZWN0aW9uKTt9cmVnaXN0ZXJGYWRlRHVyYXRpb24oZSl7Y29uc3QgdD1lK3RoaXMudGltZUFkZGVkO3Q8ZHQubm93KCl8fHRoaXMuZmFkZUVuZFRpbWUmJnQ8dGhpcy5mYWRlRW5kVGltZXx8KHRoaXMuZmFkZUVuZFRpbWU9dCk7fXdhc1JlcXVlc3RlZCgpe3JldHVybiBcImVycm9yZWRcIj09PXRoaXMuc3RhdGV8fFwibG9hZGVkXCI9PT10aGlzLnN0YXRlfHxcInJlbG9hZGluZ1wiPT09dGhpcy5zdGF0ZX1nZXQgdGlsZVRyYW5zZm9ybSgpe3JldHVybiB0aGlzLl90aWxlVHJhbnNmb3JtfHwodGhpcy5fdGlsZVRyYW5zZm9ybT1QZyh0aGlzLnRpbGVJRC5jYW5vbmljYWwsdGhpcy5wcm9qZWN0aW9uKSksdGhpcy5fdGlsZVRyYW5zZm9ybX1sb2FkVmVjdG9yRGF0YShlLHQsaSl7aWYodGhpcy51bmxvYWRWZWN0b3JEYXRhKCksdGhpcy5zdGF0ZT1cImxvYWRlZFwiLGUpe2UuZmVhdHVyZUluZGV4JiYodGhpcy5sYXRlc3RGZWF0dXJlSW5kZXg9ZS5mZWF0dXJlSW5kZXgsZS5yYXdUaWxlRGF0YT8odGhpcy5sYXRlc3RSYXdUaWxlRGF0YT1lLnJhd1RpbGVEYXRhLHRoaXMubGF0ZXN0RmVhdHVyZUluZGV4LnJhd1RpbGVEYXRhPWUucmF3VGlsZURhdGEpOnRoaXMubGF0ZXN0UmF3VGlsZURhdGEmJih0aGlzLmxhdGVzdEZlYXR1cmVJbmRleC5yYXdUaWxlRGF0YT10aGlzLmxhdGVzdFJhd1RpbGVEYXRhKSksdGhpcy5jb2xsaXNpb25Cb3hBcnJheT1lLmNvbGxpc2lvbkJveEFycmF5LHRoaXMuYnVja2V0cz1mdW5jdGlvbihlLHQpe2NvbnN0IGk9e307aWYoIXQpcmV0dXJuIGk7Zm9yKGNvbnN0IHIgb2YgZSl7Y29uc3QgZT1yLmxheWVySWRzLm1hcCgoZT0+dC5nZXRMYXllcihlKSkpLmZpbHRlcihCb29sZWFuKTtpZigwIT09ZS5sZW5ndGgpe3IubGF5ZXJzPWUsci5zdGF0ZURlcGVuZGVudExheWVySWRzJiYoci5zdGF0ZURlcGVuZGVudExheWVycz1yLnN0YXRlRGVwZW5kZW50TGF5ZXJJZHMubWFwKCh0PT5lLmZpbHRlcigoZT0+ZS5pZD09PXQpKVswXSkpKTtmb3IoY29uc3QgdCBvZiBlKWlbdC5mcWlkXT1yO319cmV0dXJuIGl9KGUuYnVja2V0cyx0LnN0eWxlKSx0aGlzLmhhc1N5bWJvbEJ1Y2tldHM9ITE7Zm9yKGNvbnN0IGUgaW4gdGhpcy5idWNrZXRzKXtjb25zdCB0PXRoaXMuYnVja2V0c1tlXTtpZih0IGluc3RhbmNlb2YgZ3kpe2lmKHRoaXMuaGFzU3ltYm9sQnVja2V0cz0hMCwhaSlicmVhazt0Lmp1c3RSZWxvYWRlZD0hMDt9fWlmKHRoaXMuaGFzUlRMVGV4dD0hMSx0aGlzLmhhc1N5bWJvbEJ1Y2tldHMpZm9yKGNvbnN0IGUgaW4gdGhpcy5idWNrZXRzKXtjb25zdCB0PXRoaXMuYnVja2V0c1tlXTtpZih0IGluc3RhbmNlb2YgZ3kmJnQuaGFzUlRMVGV4dCl7dGhpcy5oYXNSVExUZXh0PSEwLG5hLmlzTG9hZGluZygpfHxuYS5pc0xvYWRlZCgpfHxcImRlZmVycmVkXCIhPT1pYSgpfHxyYSgpO2JyZWFrfX10aGlzLnF1ZXJ5UGFkZGluZz0wO2Zvcihjb25zdCBlIGluIHRoaXMuYnVja2V0cyl7Y29uc3QgaT10aGlzLmJ1Y2tldHNbZV0scj10LnN0eWxlLmdldE93bkxheWVyKGUpO2lmKCFyKWNvbnRpbnVlO2NvbnN0IG49ci5xdWVyeVJhZGl1cyhpKTt0aGlzLnF1ZXJ5UGFkZGluZz1NYXRoLm1heCh0aGlzLnF1ZXJ5UGFkZGluZyxuKTt9ZS5pbWFnZUF0bGFzJiYodGhpcy5pbWFnZUF0bGFzPWUuaW1hZ2VBdGxhcyksZS5nbHlwaEF0bGFzSW1hZ2UmJih0aGlzLmdseXBoQXRsYXNJbWFnZT1lLmdseXBoQXRsYXNJbWFnZSksZS5saW5lQXRsYXMmJih0aGlzLmxpbmVBdGxhcz1lLmxpbmVBdGxhcyksdGhpcy5fbGFzdFVwZGF0ZWRCcmlnaHRuZXNzPWUuYnJpZ2h0bmVzczt9ZWxzZSB0aGlzLmNvbGxpc2lvbkJveEFycmF5PW5ldyBhbDt9dW5sb2FkVmVjdG9yRGF0YSgpe2lmKHRoaXMuaGFzRGF0YSgpKXtmb3IoY29uc3QgZSBpbiB0aGlzLmJ1Y2tldHMpdGhpcy5idWNrZXRzW2VdLmRlc3Ryb3koKTt0aGlzLmJ1Y2tldHM9e30sdGhpcy5pbWFnZUF0bGFzJiYodGhpcy5pbWFnZUF0bGFzPW51bGwpLHRoaXMubGluZUF0bGFzJiYodGhpcy5saW5lQXRsYXM9bnVsbCksdGhpcy5pbWFnZUF0bGFzVGV4dHVyZSYmdGhpcy5pbWFnZUF0bGFzVGV4dHVyZS5kZXN0cm95KCksdGhpcy5nbHlwaEF0bGFzVGV4dHVyZSYmdGhpcy5nbHlwaEF0bGFzVGV4dHVyZS5kZXN0cm95KCksdGhpcy5saW5lQXRsYXNUZXh0dXJlJiZ0aGlzLmxpbmVBdGxhc1RleHR1cmUuZGVzdHJveSgpLHRoaXMuX3RpbGVCb3VuZHNCdWZmZXImJih0aGlzLl90aWxlQm91bmRzQnVmZmVyLmRlc3Ryb3koKSx0aGlzLl90aWxlQm91bmRzSW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuX3RpbGVCb3VuZHNTZWdtZW50cy5kZXN0cm95KCksdGhpcy5fdGlsZUJvdW5kc0J1ZmZlcj1udWxsKSx0aGlzLl90aWxlRGVidWdCdWZmZXImJih0aGlzLl90aWxlRGVidWdCdWZmZXIuZGVzdHJveSgpLHRoaXMuX3RpbGVEZWJ1Z1NlZ21lbnRzLmRlc3Ryb3koKSx0aGlzLl90aWxlRGVidWdCdWZmZXI9bnVsbCksdGhpcy5fdGlsZURlYnVnSW5kZXhCdWZmZXImJih0aGlzLl90aWxlRGVidWdJbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5fdGlsZURlYnVnSW5kZXhCdWZmZXI9bnVsbCksdGhpcy5fZ2xvYmVUaWxlRGVidWdCb3JkZXJCdWZmZXImJih0aGlzLl9nbG9iZVRpbGVEZWJ1Z0JvcmRlckJ1ZmZlci5kZXN0cm95KCksdGhpcy5fZ2xvYmVUaWxlRGVidWdCb3JkZXJCdWZmZXI9bnVsbCksdGhpcy5fdGlsZURlYnVnVGV4dEJ1ZmZlciYmKHRoaXMuX3RpbGVEZWJ1Z1RleHRCdWZmZXIuZGVzdHJveSgpLHRoaXMuX3RpbGVEZWJ1Z1RleHRTZWdtZW50cy5kZXN0cm95KCksdGhpcy5fdGlsZURlYnVnVGV4dEluZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLl90aWxlRGVidWdUZXh0QnVmZmVyPW51bGwpLHRoaXMuX2dsb2JlVGlsZURlYnVnVGV4dEJ1ZmZlciYmKHRoaXMuX2dsb2JlVGlsZURlYnVnVGV4dEJ1ZmZlci5kZXN0cm95KCksdGhpcy5fZ2xvYmVUaWxlRGVidWdUZXh0QnVmZmVyPW51bGwpLHRoaXMubGF0ZXN0RmVhdHVyZUluZGV4PW51bGwsdGhpcy5zdGF0ZT1cInVubG9hZGVkXCI7fX1nZXRCdWNrZXQoZSl7cmV0dXJuIHRoaXMuYnVja2V0c1tlLmZxaWRdfXVwbG9hZChlKXtmb3IoY29uc3QgdCBpbiB0aGlzLmJ1Y2tldHMpe2NvbnN0IGk9dGhpcy5idWNrZXRzW3RdO2kudXBsb2FkUGVuZGluZygpJiZpLnVwbG9hZChlKTt9Y29uc3QgdD1lLmdsO3RoaXMuaW1hZ2VBdGxhcyYmIXRoaXMuaW1hZ2VBdGxhcy51cGxvYWRlZCYmKHRoaXMuaW1hZ2VBdGxhc1RleHR1cmU9bmV3IE15KGUsdGhpcy5pbWFnZUF0bGFzLmltYWdlLHQuUkdCQSksdGhpcy5pbWFnZUF0bGFzLnVwbG9hZGVkPSEwKSx0aGlzLmdseXBoQXRsYXNJbWFnZSYmKHRoaXMuZ2x5cGhBdGxhc1RleHR1cmU9bmV3IE15KGUsdGhpcy5nbHlwaEF0bGFzSW1hZ2UsdC5BTFBIQSksdGhpcy5nbHlwaEF0bGFzSW1hZ2U9bnVsbCksdGhpcy5saW5lQXRsYXMmJiF0aGlzLmxpbmVBdGxhcy51cGxvYWRlZCYmKHRoaXMubGluZUF0bGFzVGV4dHVyZT1uZXcgTXkoZSx0aGlzLmxpbmVBdGxhcy5pbWFnZSx0LkFMUEhBKSx0aGlzLmxpbmVBdGxhcy51cGxvYWRlZD0hMCk7fXByZXBhcmUoZSx0LGkpe2lmKHRoaXMuaW1hZ2VBdGxhcyYmdGhpcy5pbWFnZUF0bGFzVGV4dHVyZSYmdGhpcy5pbWFnZUF0bGFzLnBhdGNoVXBkYXRlZEltYWdlcyhlLHRoaXMuaW1hZ2VBdGxhc1RleHR1cmUsaSksIXR8fCF0aGlzLmxhdGVzdEZlYXR1cmVJbmRleHx8IXRoaXMubGF0ZXN0RmVhdHVyZUluZGV4LnJhd1RpbGVEYXRhKXJldHVybjtjb25zdCByPXQuc3R5bGUuZ2V0QnJpZ2h0bmVzcygpOyh0aGlzLl9sYXN0VXBkYXRlZEJyaWdodG5lc3N8fHIpJiYodGhpcy5fbGFzdFVwZGF0ZWRCcmlnaHRuZXNzJiZyJiZNYXRoLmFicyh0aGlzLl9sYXN0VXBkYXRlZEJyaWdodG5lc3Mtcik8LjAwMXx8KHRoaXMuX2xhc3RVcGRhdGVkQnJpZ2h0bmVzcz1yLHRoaXMudXBkYXRlQnVja2V0cyh2b2lkIDAsdCkpKTt9cXVlcnlSZW5kZXJlZEZlYXR1cmVzKGUsdCxpLHIsbixvLHMsYSl7cmV0dXJuIHRoaXMubGF0ZXN0RmVhdHVyZUluZGV4JiZ0aGlzLmxhdGVzdEZlYXR1cmVJbmRleC5yYXdUaWxlRGF0YT90aGlzLmxhdGVzdEZlYXR1cmVJbmRleC5xdWVyeSh7dGlsZVJlc3VsdDpyLHBpeGVsUG9zTWF0cml4OnMsdHJhbnNmb3JtOm8scGFyYW1zOm4sdGlsZVRyYW5zZm9ybTp0aGlzLnRpbGVUcmFuc2Zvcm19LGUsdCxpKTp7fX1xdWVyeVNvdXJjZUZlYXR1cmVzKGUsdCl7Y29uc3QgaT10aGlzLmxhdGVzdEZlYXR1cmVJbmRleDtpZighaXx8IWkucmF3VGlsZURhdGEpcmV0dXJuO2NvbnN0IHI9aS5sb2FkVlRMYXllcnMoKSxuPXQ/dC5zb3VyY2VMYXllcjpcIlwiLG89ci5fZ2VvanNvblRpbGVMYXllcnx8cltuXTtpZighbylyZXR1cm47Y29uc3Qgcz1Gbyh0JiZ0LmZpbHRlcikse3o6YSx4OmwseTpjfT10aGlzLnRpbGVJRC5jYW5vbmljYWwsaD17ejphLHg6bCx5OmN9O2ZvcihsZXQgdD0wO3Q8by5sZW5ndGg7dCsrKXtjb25zdCByPW8uZmVhdHVyZSh0KTtpZihzLm5lZWRHZW9tZXRyeSl7Y29uc3QgZT1ncChyLCEwKTtpZighcy5maWx0ZXIobmV3IG9hKHRoaXMudGlsZUlELm92ZXJzY2FsZWRaKSxlLHRoaXMudGlsZUlELmNhbm9uaWNhbCkpY29udGludWV9ZWxzZSBpZighcy5maWx0ZXIobmV3IG9hKHRoaXMudGlsZUlELm92ZXJzY2FsZWRaKSxyKSljb250aW51ZTtjb25zdCB1PWkuZ2V0SWQocixuKSxkPW5ldyBCbShyLGEsbCxjLHUpO2QudGlsZT1oLGUucHVzaChkKTt9fWhhc0RhdGEoKXtyZXR1cm4gXCJsb2FkZWRcIj09PXRoaXMuc3RhdGV8fFwicmVsb2FkaW5nXCI9PT10aGlzLnN0YXRlfHxcImV4cGlyZWRcIj09PXRoaXMuc3RhdGV9YnVja2V0c0xvYWRlZCgpe2Zvcihjb25zdCBlIGluIHRoaXMuYnVja2V0cylpZih0aGlzLmJ1Y2tldHNbZV0udXBsb2FkUGVuZGluZygpKXJldHVybiAhMTtyZXR1cm4gITB9cGF0dGVybnNMb2FkZWQoKXtyZXR1cm4gISF0aGlzLmltYWdlQXRsYXMmJiEhT2JqZWN0LmtleXModGhpcy5pbWFnZUF0bGFzLnBhdHRlcm5Qb3NpdGlvbnMpLmxlbmd0aH1zZXRFeHBpcnlEYXRhKGUpe2NvbnN0IHQ9dGhpcy5leHBpcmF0aW9uVGltZTtpZihlLmNhY2hlQ29udHJvbCl7Y29uc3QgdD1lZShlLmNhY2hlQ29udHJvbCk7dFtcIm1heC1hZ2VcIl0mJih0aGlzLmV4cGlyYXRpb25UaW1lPURhdGUubm93KCkrMWUzKnRbXCJtYXgtYWdlXCJdKTt9ZWxzZSBlLmV4cGlyZXMmJih0aGlzLmV4cGlyYXRpb25UaW1lPW5ldyBEYXRlKGUuZXhwaXJlcykuZ2V0VGltZSgpKTtpZih0aGlzLmV4cGlyYXRpb25UaW1lKXtjb25zdCBlPURhdGUubm93KCk7bGV0IGk9ITE7aWYodGhpcy5leHBpcmF0aW9uVGltZT5lKWk9ITE7ZWxzZSBpZih0KWlmKHRoaXMuZXhwaXJhdGlvblRpbWU8dClpPSEwO2Vsc2Uge2NvbnN0IHI9dGhpcy5leHBpcmF0aW9uVGltZS10O3I/dGhpcy5leHBpcmF0aW9uVGltZT1lK01hdGgubWF4KHIsM2U0KTppPSEwO31lbHNlIGk9ITA7aT8odGhpcy5leHBpcmVkUmVxdWVzdENvdW50KyssdGhpcy5zdGF0ZT1cImV4cGlyZWRcIik6dGhpcy5leHBpcmVkUmVxdWVzdENvdW50PTA7fX1nZXRFeHBpcnlUaW1lb3V0KCl7aWYodGhpcy5leHBpcmF0aW9uVGltZSlyZXR1cm4gdGhpcy5leHBpcmVkUmVxdWVzdENvdW50PzFlMyooMTw8TWF0aC5taW4odGhpcy5leHBpcmVkUmVxdWVzdENvdW50LTEsMzEpKTpNYXRoLm1pbih0aGlzLmV4cGlyYXRpb25UaW1lLShuZXcgRGF0ZSkuZ2V0VGltZSgpLE1hdGgucG93KDIsMzEpLTEpfXNldEZlYXR1cmVTdGF0ZShlLHQpe3RoaXMubGF0ZXN0RmVhdHVyZUluZGV4JiZ0aGlzLmxhdGVzdEZlYXR1cmVJbmRleC5yYXdUaWxlRGF0YSYmMCE9PU9iamVjdC5rZXlzKGUpLmxlbmd0aCYmdCYmdGhpcy51cGRhdGVCdWNrZXRzKGUsdCk7fXVwZGF0ZUJ1Y2tldHMoZSx0KXtpZighdGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgpcmV0dXJuO2NvbnN0IGk9dGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgubG9hZFZUTGF5ZXJzKCkscj10LnN0eWxlLmxpc3RJbWFnZXMoKSxuPXQuc3R5bGUuZ2V0QnJpZ2h0bmVzcygpO2Zvcihjb25zdCBvIGluIHRoaXMuYnVja2V0cyl7aWYoIXQuc3R5bGUuaGFzTGF5ZXIobykpY29udGludWU7Y29uc3Qgcz10aGlzLmJ1Y2tldHNbb10sYT1zLmxheWVyc1swXS5zb3VyY2VMYXllcnx8XCJfZ2VvanNvblRpbGVMYXllclwiLGw9aVthXTtsZXQgYz17fTtpZihlJiYoYz1lW2FdLCFsfHwhY3x8MD09PU9iamVjdC5rZXlzKGMpLmxlbmd0aCkpY29udGludWU7aWYocy51cGRhdGUoYyxsLHIsdGhpcy5pbWFnZUF0bGFzJiZ0aGlzLmltYWdlQXRsYXMucGF0dGVyblBvc2l0aW9uc3x8e30sbikscyBpbnN0YW5jZW9mIEV5fHxzIGluc3RhbmNlb2YgamYpe2NvbnN0IGU9dC5zdHlsZS5nZXRPd25Tb3VyY2VDYWNoZShzLmxheWVyc1swXS5zb3VyY2UpO3QuX3RlcnJhaW4mJnQuX3RlcnJhaW4uZW5hYmxlZCYmZSYmcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWQmJnQuX3RlcnJhaW4uX2NsZWFyUmVuZGVyQ2FjaGVGb3JUaWxlKGUuaWQsdGhpcy50aWxlSUQpO31jb25zdCBoPXQmJnQuc3R5bGUmJnQuc3R5bGUuZ2V0T3duTGF5ZXIobyk7aCYmKHRoaXMucXVlcnlQYWRkaW5nPU1hdGgubWF4KHRoaXMucXVlcnlQYWRkaW5nLGgucXVlcnlSYWRpdXMocykpKTt9fWhvbGRpbmdGb3JGYWRlKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuc3ltYm9sRmFkZUhvbGRVbnRpbH1zeW1ib2xGYWRlRmluaXNoZWQoKXtyZXR1cm4gIXRoaXMuc3ltYm9sRmFkZUhvbGRVbnRpbHx8dGhpcy5zeW1ib2xGYWRlSG9sZFVudGlsPGR0Lm5vdygpfWNsZWFyRmFkZUhvbGQoKXt0aGlzLnN5bWJvbEZhZGVIb2xkVW50aWw9dm9pZCAwO31zZXRIb2xkRHVyYXRpb24oZSl7dGhpcy5zeW1ib2xGYWRlSG9sZFVudGlsPWR0Lm5vdygpK2U7fXNldFRleHR1cmUoZSx0KXtjb25zdCBpPXQuY29udGV4dCxyPWkuZ2w7dGhpcy50ZXh0dXJlPXRoaXMudGV4dHVyZXx8dC5nZXRUaWxlVGV4dHVyZShlLndpZHRoKSx0aGlzLnRleHR1cmUmJnRoaXMudGV4dHVyZSBpbnN0YW5jZW9mIE15P3RoaXMudGV4dHVyZS51cGRhdGUoZSx7dXNlTWlwbWFwOiEwfSk6KHRoaXMudGV4dHVyZT1uZXcgTXkoaSxlLHIuUkdCQSx7dXNlTWlwbWFwOiEwfSksdGhpcy50ZXh0dXJlLmJpbmQoci5MSU5FQVIsci5DTEFNUF9UT19FREdFKSk7fXNldERlcGVuZGVuY2llcyhlLHQpe2NvbnN0IGk9e307Zm9yKGNvbnN0IGUgb2YgdClpW2VdPSEwO3RoaXMuZGVwZW5kZW5jaWVzW2VdPWk7fWhhc0RlcGVuZGVuY3koZSx0KXtmb3IoY29uc3QgaSBvZiBlKXtjb25zdCBlPXRoaXMuZGVwZW5kZW5jaWVzW2ldO2lmKGUpZm9yKGNvbnN0IGkgb2YgdClpZihlW2ldKXJldHVybiAhMH1yZXR1cm4gITF9Y2xlYXJRdWVyeURlYnVnVml6KCl7fV9tYWtlRGVidWdUaWxlQm91bmRzQnVmZmVycyhlLHQpe2lmKCF0fHxcIm1lcmNhdG9yXCI9PT10Lm5hbWV8fHRoaXMuX3RpbGVEZWJ1Z0J1ZmZlcilyZXR1cm47Y29uc3QgaT1fcChreSx0aGlzLnRpbGVJRC5jYW5vbmljYWwsdGhpcy50aWxlVHJhbnNmb3JtKVswXSxyPW5ldyB6YSxuPW5ldyBlbDtmb3IobGV0IGU9MDtlPGkubGVuZ3RoO2UrKyl7Y29uc3R7eDp0LHk6b309aVtlXTtyLmVtcGxhY2VCYWNrKHQsbyksbi5lbXBsYWNlQmFjayhlKTt9bi5lbXBsYWNlQmFjaygwKSx0aGlzLl90aWxlRGVidWdJbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKG4pLHRoaXMuX3RpbGVEZWJ1Z0J1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcihyLE51Lm1lbWJlcnMpLHRoaXMuX3RpbGVEZWJ1Z1NlZ21lbnRzPXhsLnNpbXBsZVNlZ21lbnQoMCwwLHIubGVuZ3RoLG4ubGVuZ3RoKTt9X21ha2VUaWxlQm91bmRzQnVmZmVycyhlLHQpe2lmKHRoaXMuX3RpbGVCb3VuZHNCdWZmZXJ8fCF0fHxcIm1lcmNhdG9yXCI9PT10Lm5hbWUpcmV0dXJuO2NvbnN0IGk9X3Aoa3ksdGhpcy50aWxlSUQuY2Fub25pY2FsLHRoaXMudGlsZVRyYW5zZm9ybSlbMF07bGV0IHIsbjtpZih0aGlzLmlzUmFzdGVyKXtjb25zdCBlPWZ1bmN0aW9uKGUsdCl7Y29uc3QgaT1QZyhlLHQpLHI9TWF0aC5wb3coMixlLnopO2ZvcihsZXQgbj0wO248SXk7bisrKWZvcihsZXQgbz0wO288SXk7bysrKXtjb25zdCBzPWVwKChlLngrKG8rUnkobykpL1N5KS9yKSxhPXRwKChlLnkrKG4rUnkobikpL1N5KS9yKSxsPXQucHJvamVjdChzLGEpLGM9bipJeStvO3p5WzIqYyswXT1NYXRoLnJvdW5kKChsLngqaS5zY2FsZS1pLngpKmNyKSx6eVsyKmMrMV09TWF0aC5yb3VuZCgobC55Kmkuc2NhbGUtaS55KSpjcik7fVB5LmZpbGwoMCksRHkuZmlsbCgwKTtmb3IobGV0IGU9MjA0NTtlPj0wO2UtLSl7Y29uc3QgdD00KmUsaT1DeVt0KzBdLHI9Q3lbdCsxXSxuPUN5W3QrMl0sbz1DeVt0KzNdLHM9aStuPj4xLGE9citvPj4xLGw9cythLXIsYz1hK2ktcyxoPXIqSXkraSx1PW8qSXkrbixkPWEqSXkrcyxwPU1hdGguaHlwb3QoKHp5WzIqaCswXSt6eVsyKnUrMF0pLzItenlbMipkKzBdLCh6eVsyKmgrMV0renlbMip1KzFdKS8yLXp5WzIqZCsxXSk+PTE2O1B5W2RdPVB5W2RdfHwocD8xOjApLGU8MTAyMiYmKFB5W2RdPVB5W2RdfHxQeVsocitjPj4xKSpJeSsoaStsPj4xKV18fFB5WyhvK2M+PjEpKkl5KyhuK2w+PjEpXSk7fWNvbnN0IG49bmV3IERhLG89bmV3IFdhO2xldCBzPTA7ZnVuY3Rpb24gYShlLHQpe2NvbnN0IGk9dCpJeStlO3JldHVybiAwPT09RHlbaV0mJihuLmVtcGxhY2VCYWNrKHp5WzIqaSswXSx6eVsyKmkrMV0sZSpjci9TeSx0KmNyL1N5KSxEeVtpXT0rK3MpLER5W2ldLTF9ZnVuY3Rpb24gbChlLHQsaSxyLG4scyl7Y29uc3QgYz1lK2k+PjEsaD10K3I+PjE7aWYoTWF0aC5hYnMoZS1uKStNYXRoLmFicyh0LXMpPjEmJlB5W2gqSXkrY10pbChuLHMsZSx0LGMsaCksbChpLHIsbixzLGMsaCk7ZWxzZSB7Y29uc3QgbD1hKGUsdCksYz1hKGksciksaD1hKG4scyk7by5lbXBsYWNlQmFjayhsLGMsaCk7fX1yZXR1cm4gbCgwLDAsU3ksU3ksU3ksMCksbChTeSxTeSwwLDAsMCxTeSkse3ZlcnRpY2VzOm4saW5kaWNlczpvfX0odGhpcy50aWxlSUQuY2Fub25pY2FsLHQpO3I9ZS52ZXJ0aWNlcyxuPWUuaW5kaWNlczt9ZWxzZSB7cj1uZXcgRGEsbj1uZXcgV2E7Zm9yKGNvbnN0e3g6ZSx5OnR9b2YgaSlyLmVtcGxhY2VCYWNrKGUsdCwwLDApO2NvbnN0IGU9QmYoci5pbnQxNix2b2lkIDAsNCk7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kz0zKW4uZW1wbGFjZUJhY2soZVt0XSxlW3QrMV0sZVt0KzJdKTt9dGhpcy5fdGlsZUJvdW5kc0J1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcihyLEx5Lm1lbWJlcnMpLHRoaXMuX3RpbGVCb3VuZHNJbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKG4pLHRoaXMuX3RpbGVCb3VuZHNTZWdtZW50cz14bC5zaW1wbGVTZWdtZW50KDAsMCxyLmxlbmd0aCxuLmxlbmd0aCk7fV9tYWtlR2xvYmVUaWxlRGVidWdCdWZmZXJzKGUsdCl7Y29uc3QgaT10LnByb2plY3Rpb247aWYoIWl8fFwiZ2xvYmVcIiE9PWkubmFtZXx8dC5mcmVlemVUaWxlQ292ZXJhZ2UpcmV0dXJuO2NvbnN0IHI9dGhpcy50aWxlSUQuY2Fub25pY2FsLG49QWQoX2Qocix0KSksbz1EZCh0Lnpvb20pO2xldCBzO28+MCYmKHM9QXUuaW52ZXJ0KG5ldyBGbG9hdDY0QXJyYXkoMTYpLHQuZ2xvYmVNYXRyaXgpKSx0aGlzLl9tYWtlR2xvYmVUaWxlRGVidWdCb3JkZXJCdWZmZXIoZSxyLHQsbixzLG8pLHRoaXMuX21ha2VHbG9iZVRpbGVEZWJ1Z1RleHRCdWZmZXIoZSxyLHQsbixzLG8pO31fZ2xvYmVQb2ludChlLHQsaSxyLG4sbyxzKXtsZXQgYT1UZChlLHQsaSk7aWYobyl7Y29uc3Qgbj0xPDxpLnosbD1LZChyLmNlbnRlci5sbmcpLGM9SmQoci5jZW50ZXIubGF0KSxoPShpLngrLjUpL24tbDtsZXQgdT0wO2g+LjU/dT0tMTpoPC0uNSYmKHU9MSk7bGV0IGQ9KGUvY3IraS54KS9uK3UscD0odC9jcitpLnkpL247ZD0oZC1sKSpyLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsK2wscD0ocC1jKSpyLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsK2M7Y29uc3QgZj1bZCpyLndvcmxkU2l6ZSxwKnIud29ybGRTaXplLDBdO0R1LnRyYW5zZm9ybU1hdDQoZixmLG8pLGE9bWQoYSxmLHMpO31yZXR1cm4gRHUudHJhbnNmb3JtTWF0NChhLGEsbil9X21ha2VHbG9iZVRpbGVEZWJ1Z0JvcmRlckJ1ZmZlcihlLHQsaSxyLG4sbyl7Y29uc3Qgcz1uZXcgemEsYT1uZXcgZWwsbD1uZXcgUGEsYz0oZSxjLGgsdSxkKT0+e2NvbnN0IHA9KGgtZSkvKGQtMSksZj0odS1jKS8oZC0xKSxtPXMubGVuZ3RoO2ZvcihsZXQgaD0wO2g8ZDtoKyspe2NvbnN0IHU9ZStoKnAsZD1jK2gqZjtzLmVtcGxhY2VCYWNrKHUsZCk7Y29uc3QgXz10aGlzLl9nbG9iZVBvaW50KHUsZCx0LGkscixuLG8pO2wuZW1wbGFjZUJhY2soX1swXSxfWzFdLF9bMl0pLGEuZW1wbGFjZUJhY2sobStoKTt9fSxoPWNyO2MoMCwwLGgsMCwxNiksYyhoLDAsaCxoLDE2KSxjKGgsaCwwLGgsMTYpLGMoMCxoLDAsMCwxNiksdGhpcy5fdGlsZURlYnVnSW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcihhKSx0aGlzLl90aWxlRGVidWdCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIocyxOdS5tZW1iZXJzKSx0aGlzLl9nbG9iZVRpbGVEZWJ1Z0JvcmRlckJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcihsLEZ1Lm1lbWJlcnMpLHRoaXMuX3RpbGVEZWJ1Z1NlZ21lbnRzPXhsLnNpbXBsZVNlZ21lbnQoMCwwLHMubGVuZ3RoLGEubGVuZ3RoKTt9X21ha2VHbG9iZVRpbGVEZWJ1Z1RleHRCdWZmZXIoZSx0LGkscixuLG8pe2NvbnN0IHM9Y3IvNCxhPW5ldyB6YSxsPW5ldyBXYSxjPW5ldyBQYSxoPTI1O2wucmVzZXJ2ZSgzMiksYS5yZXNlcnZlKGgpLGMucmVzZXJ2ZShoKTtjb25zdCB1PShlLHQpPT5oKmUrdDtmb3IobGV0IGU9MDtlPGg7ZSsrKXtjb25zdCBsPWUqcztmb3IobGV0IGU9MDtlPGg7ZSsrKXtjb25zdCBoPWUqczthLmVtcGxhY2VCYWNrKGgsbCk7Y29uc3QgdT10aGlzLl9nbG9iZVBvaW50KGgsbCx0LGkscixuLG8pO2MuZW1wbGFjZUJhY2sodVswXSx1WzFdLHVbMl0pO319Zm9yKGxldCBlPTA7ZTw0O2UrKylmb3IobGV0IHQ9MDt0PDQ7dCsrKXtjb25zdCBpPXUoZSx0KSxyPXUoZSx0KzEpLG49dShlKzEsdCksbz11KGUrMSx0KzEpO2wuZW1wbGFjZUJhY2soaSxyLG4pLGwuZW1wbGFjZUJhY2sobixyLG8pO310aGlzLl90aWxlRGVidWdUZXh0SW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcihsKSx0aGlzLl90aWxlRGVidWdUZXh0QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKGEsTnUubWVtYmVycyksdGhpcy5fZ2xvYmVUaWxlRGVidWdUZXh0QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKGMsRnUubWVtYmVycyksdGhpcy5fdGlsZURlYnVnVGV4dFNlZ21lbnRzPXhsLnNpbXBsZVNlZ21lbnQoMCwwLGgsMzIpO31kZXN0cm95KGU9ITEpe2Zvcihjb25zdCBlIGluIHRoaXMuYnVja2V0cyl0aGlzLmJ1Y2tldHNbZV0uZGVzdHJveSgpO3RoaXMuYnVja2V0cz17fSx0aGlzLmltYWdlQXRsYXMmJih0aGlzLmltYWdlQXRsYXM9bnVsbCksdGhpcy5saW5lQXRsYXMmJih0aGlzLmxpbmVBdGxhcz1udWxsKSx0aGlzLmltYWdlQXRsYXNUZXh0dXJlJiYodGhpcy5pbWFnZUF0bGFzVGV4dHVyZS5kZXN0cm95KCksZGVsZXRlIHRoaXMuaW1hZ2VBdGxhc1RleHR1cmUpLHRoaXMuZ2x5cGhBdGxhc1RleHR1cmUmJih0aGlzLmdseXBoQXRsYXNUZXh0dXJlLmRlc3Ryb3koKSxkZWxldGUgdGhpcy5nbHlwaEF0bGFzVGV4dHVyZSksdGhpcy5saW5lQXRsYXNUZXh0dXJlJiYodGhpcy5saW5lQXRsYXNUZXh0dXJlLmRlc3Ryb3koKSxkZWxldGUgdGhpcy5saW5lQXRsYXNUZXh0dXJlKSx0aGlzLl90aWxlQm91bmRzQnVmZmVyJiYodGhpcy5fdGlsZUJvdW5kc0J1ZmZlci5kZXN0cm95KCksdGhpcy5fdGlsZUJvdW5kc0luZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLl90aWxlQm91bmRzU2VnbWVudHMuZGVzdHJveSgpLHRoaXMuX3RpbGVCb3VuZHNCdWZmZXI9bnVsbCksdGhpcy5fdGlsZURlYnVnQnVmZmVyJiYodGhpcy5fdGlsZURlYnVnQnVmZmVyLmRlc3Ryb3koKSx0aGlzLl90aWxlRGVidWdTZWdtZW50cy5kZXN0cm95KCksdGhpcy5fdGlsZURlYnVnQnVmZmVyPW51bGwpLHRoaXMuX3RpbGVEZWJ1Z0luZGV4QnVmZmVyJiYodGhpcy5fdGlsZURlYnVnSW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuX3RpbGVEZWJ1Z0luZGV4QnVmZmVyPW51bGwpLHRoaXMuX2dsb2JlVGlsZURlYnVnQm9yZGVyQnVmZmVyJiYodGhpcy5fZ2xvYmVUaWxlRGVidWdCb3JkZXJCdWZmZXIuZGVzdHJveSgpLHRoaXMuX2dsb2JlVGlsZURlYnVnQm9yZGVyQnVmZmVyPW51bGwpLHRoaXMuX3RpbGVEZWJ1Z1RleHRCdWZmZXImJih0aGlzLl90aWxlRGVidWdUZXh0QnVmZmVyLmRlc3Ryb3koKSx0aGlzLl90aWxlRGVidWdUZXh0U2VnbWVudHMuZGVzdHJveSgpLHRoaXMuX3RpbGVEZWJ1Z1RleHRJbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5fdGlsZURlYnVnVGV4dEJ1ZmZlcj1udWxsKSx0aGlzLl9nbG9iZVRpbGVEZWJ1Z1RleHRCdWZmZXImJih0aGlzLl9nbG9iZVRpbGVEZWJ1Z1RleHRCdWZmZXIuZGVzdHJveSgpLHRoaXMuX2dsb2JlVGlsZURlYnVnVGV4dEJ1ZmZlcj1udWxsKSwhZSYmdGhpcy50ZXh0dXJlJiZ0aGlzLnRleHR1cmUgaW5zdGFuY2VvZiBNeSYmKHRoaXMudGV4dHVyZS5kZXN0cm95KCksZGVsZXRlIHRoaXMudGV4dHVyZSksdGhpcy5oaWxsc2hhZGVGQk8mJih0aGlzLmhpbGxzaGFkZUZCTy5kZXN0cm95KCksZGVsZXRlIHRoaXMuaGlsbHNoYWRlRkJPKSx0aGlzLmRlbSYmZGVsZXRlIHRoaXMuZGVtLHRoaXMubmVpZ2hib3JpbmdUaWxlcyYmZGVsZXRlIHRoaXMubmVpZ2hib3JpbmdUaWxlcyx0aGlzLmRlbVRleHR1cmUmJih0aGlzLmRlbVRleHR1cmUuZGVzdHJveSgpLGRlbGV0ZSB0aGlzLmRlbVRleHR1cmUpLHRoaXMubGF0ZXN0RmVhdHVyZUluZGV4PW51bGwsdGhpcy5zdGF0ZT1cInVubG9hZGVkXCI7fX1jbGFzcyBCeXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMubWF4PWUsdGhpcy5vblJlbW92ZT10LHRoaXMucmVzZXQoKTt9cmVzZXQoKXtmb3IoY29uc3QgZSBpbiB0aGlzLmRhdGEpZm9yKGNvbnN0IHQgb2YgdGhpcy5kYXRhW2VdKXQudGltZW91dCYmY2xlYXJUaW1lb3V0KHQudGltZW91dCksdGhpcy5vblJlbW92ZSh0LnZhbHVlKTtyZXR1cm4gdGhpcy5kYXRhPXt9LHRoaXMub3JkZXI9W10sdGhpc31hZGQoZSx0LGkpe2NvbnN0IHI9ZS53cmFwcGVkKCkua2V5O3ZvaWQgMD09PXRoaXMuZGF0YVtyXSYmKHRoaXMuZGF0YVtyXT1bXSk7Y29uc3Qgbj17dmFsdWU6dCx0aW1lb3V0OnZvaWQgMH07aWYodm9pZCAwIT09aSYmKG4udGltZW91dD1zZXRUaW1lb3V0KCgoKT0+e3RoaXMucmVtb3ZlKGUsbik7fSksaSkpLHRoaXMuZGF0YVtyXS5wdXNoKG4pLHRoaXMub3JkZXIucHVzaChyKSx0aGlzLm9yZGVyLmxlbmd0aD50aGlzLm1heCl7Y29uc3QgZT10aGlzLl9nZXRBbmRSZW1vdmVCeUtleSh0aGlzLm9yZGVyWzBdKTtlJiZ0aGlzLm9uUmVtb3ZlKGUpO31yZXR1cm4gdGhpc31oYXMoZSl7cmV0dXJuIGUud3JhcHBlZCgpLmtleSBpbiB0aGlzLmRhdGF9Z2V0QW5kUmVtb3ZlKGUpe3JldHVybiB0aGlzLmhhcyhlKT90aGlzLl9nZXRBbmRSZW1vdmVCeUtleShlLndyYXBwZWQoKS5rZXkpOm51bGx9X2dldEFuZFJlbW92ZUJ5S2V5KGUpe2NvbnN0IHQ9dGhpcy5kYXRhW2VdLnNoaWZ0KCk7cmV0dXJuIHQudGltZW91dCYmY2xlYXJUaW1lb3V0KHQudGltZW91dCksMD09PXRoaXMuZGF0YVtlXS5sZW5ndGgmJmRlbGV0ZSB0aGlzLmRhdGFbZV0sdGhpcy5vcmRlci5zcGxpY2UodGhpcy5vcmRlci5pbmRleE9mKGUpLDEpLHQudmFsdWV9Z2V0QnlLZXkoZSl7Y29uc3QgdD10aGlzLmRhdGFbZV07cmV0dXJuIHQ/dFswXS52YWx1ZTpudWxsfWdldChlKXtyZXR1cm4gdGhpcy5oYXMoZSk/dGhpcy5kYXRhW2Uud3JhcHBlZCgpLmtleV1bMF0udmFsdWU6bnVsbH1yZW1vdmUoZSx0KXtpZighdGhpcy5oYXMoZSkpcmV0dXJuIHRoaXM7Y29uc3QgaT1lLndyYXBwZWQoKS5rZXkscj12b2lkIDA9PT10PzA6dGhpcy5kYXRhW2ldLmluZGV4T2YodCksbj10aGlzLmRhdGFbaV1bcl07cmV0dXJuIHRoaXMuZGF0YVtpXS5zcGxpY2UociwxKSxuLnRpbWVvdXQmJmNsZWFyVGltZW91dChuLnRpbWVvdXQpLDA9PT10aGlzLmRhdGFbaV0ubGVuZ3RoJiZkZWxldGUgdGhpcy5kYXRhW2ldLHRoaXMub25SZW1vdmUobi52YWx1ZSksdGhpcy5vcmRlci5zcGxpY2UodGhpcy5vcmRlci5pbmRleE9mKGkpLDEpLHRoaXN9c2V0TWF4U2l6ZShlKXtmb3IodGhpcy5tYXg9ZTt0aGlzLm9yZGVyLmxlbmd0aD50aGlzLm1heDspe2NvbnN0IGU9dGhpcy5fZ2V0QW5kUmVtb3ZlQnlLZXkodGhpcy5vcmRlclswXSk7ZSYmdGhpcy5vblJlbW92ZShlKTt9cmV0dXJuIHRoaXN9ZmlsdGVyKGUpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IGkgaW4gdGhpcy5kYXRhKWZvcihjb25zdCByIG9mIHRoaXMuZGF0YVtpXSllKHIudmFsdWUpfHx0LnB1c2gocik7Zm9yKGNvbnN0IGUgb2YgdCl0aGlzLnJlbW92ZShlLnZhbHVlLnRpbGVJRCxlKTt9fWNsYXNzIEZ5e2NvbnN0cnVjdG9yKGUsdCxpLHIpe3RoaXMuaWQ9RnkudW5pcXVlSWR4Q291bnRlcixGeS51bmlxdWVJZHhDb3VudGVyKyssdGhpcy5jb250ZXh0PWU7Y29uc3Qgbj1lLmdsO3RoaXMuYnVmZmVyPW4uY3JlYXRlQnVmZmVyKCksdGhpcy5keW5hbWljRHJhdz1Cb29sZWFuKGkpLHRoaXMuY29udGV4dC51bmJpbmRWQU8oKSxlLmJpbmRFbGVtZW50QnVmZmVyLnNldCh0aGlzLmJ1ZmZlciksbi5idWZmZXJEYXRhKG4uRUxFTUVOVF9BUlJBWV9CVUZGRVIsdC5hcnJheUJ1ZmZlcix0aGlzLmR5bmFtaWNEcmF3P24uRFlOQU1JQ19EUkFXOm4uU1RBVElDX0RSQVcpLHRoaXMuZHluYW1pY0RyYXd8fHJ8fHQuZGVzdHJveSgpO31iaW5kKCl7dGhpcy5jb250ZXh0LmJpbmRFbGVtZW50QnVmZmVyLnNldCh0aGlzLmJ1ZmZlcik7fXVwZGF0ZURhdGEoZSl7dGhpcy5pZD1GeS51bmlxdWVJZHhDb3VudGVyLEZ5LnVuaXF1ZUlkeENvdW50ZXIrKztjb25zdCB0PXRoaXMuY29udGV4dC5nbDt0aGlzLmNvbnRleHQudW5iaW5kVkFPKCksdGhpcy5iaW5kKCksdC5idWZmZXJTdWJEYXRhKHQuRUxFTUVOVF9BUlJBWV9CVUZGRVIsMCxlLmFycmF5QnVmZmVyKTt9ZGVzdHJveSgpe3RoaXMuYnVmZmVyJiYodGhpcy5jb250ZXh0LmdsLmRlbGV0ZUJ1ZmZlcih0aGlzLmJ1ZmZlciksZGVsZXRlIHRoaXMuYnVmZmVyKTt9fUZ5LnVuaXF1ZUlkeENvdW50ZXI9MDtjb25zdCBOeT17SW50ODpcIkJZVEVcIixVaW50ODpcIlVOU0lHTkVEX0JZVEVcIixJbnQxNjpcIlNIT1JUXCIsVWludDE2OlwiVU5TSUdORURfU0hPUlRcIixJbnQzMjpcIklOVFwiLFVpbnQzMjpcIlVOU0lHTkVEX0lOVFwiLEZsb2F0MzI6XCJGTE9BVFwifTtjbGFzcyBVeXtjb25zdHJ1Y3RvcihlLHQsaSxyLG4sbyl7dGhpcy5sZW5ndGg9dC5sZW5ndGgsdGhpcy5hdHRyaWJ1dGVzPWksdGhpcy5pdGVtU2l6ZT10LmJ5dGVzUGVyRWxlbWVudCx0aGlzLmR5bmFtaWNEcmF3PXIsdGhpcy5pbnN0YW5jZUNvdW50PW8sdGhpcy5jb250ZXh0PWU7Y29uc3Qgcz1lLmdsO3RoaXMuYnVmZmVyPXMuY3JlYXRlQnVmZmVyKCksZS5iaW5kVmVydGV4QnVmZmVyLnNldCh0aGlzLmJ1ZmZlcikscy5idWZmZXJEYXRhKHMuQVJSQVlfQlVGRkVSLHQuYXJyYXlCdWZmZXIsdGhpcy5keW5hbWljRHJhdz9zLkRZTkFNSUNfRFJBVzpzLlNUQVRJQ19EUkFXKSx0aGlzLmR5bmFtaWNEcmF3fHxufHx0LmRlc3Ryb3koKTt9YmluZCgpe3RoaXMuY29udGV4dC5iaW5kVmVydGV4QnVmZmVyLnNldCh0aGlzLmJ1ZmZlcik7fXVwZGF0ZURhdGEoZSl7Y29uc3QgdD10aGlzLmNvbnRleHQuZ2w7dGhpcy5iaW5kKCksdC5idWZmZXJTdWJEYXRhKHQuQVJSQVlfQlVGRkVSLDAsZS5hcnJheUJ1ZmZlcik7fWVuYWJsZUF0dHJpYnV0ZXMoZSx0KXtmb3IobGV0IGk9MDtpPHRoaXMuYXR0cmlidXRlcy5sZW5ndGg7aSsrKXtjb25zdCByPXQuYXR0cmlidXRlc1t0aGlzLmF0dHJpYnV0ZXNbaV0ubmFtZV07dm9pZCAwIT09ciYmZS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShyKTt9fXNldFZlcnRleEF0dHJpYlBvaW50ZXJzKGUsdCxpKXtmb3IobGV0IHI9MDtyPHRoaXMuYXR0cmlidXRlcy5sZW5ndGg7cisrKXtjb25zdCBuPXRoaXMuYXR0cmlidXRlc1tyXSxvPXQuYXR0cmlidXRlc1tuLm5hbWVdO3ZvaWQgMCE9PW8mJmUudmVydGV4QXR0cmliUG9pbnRlcihvLG4uY29tcG9uZW50cyxlW055W24udHlwZV1dLCExLHRoaXMuaXRlbVNpemUsbi5vZmZzZXQrdGhpcy5pdGVtU2l6ZSooaXx8MCkpO319c2V0VmVydGV4QXR0cmliRGl2aXNvcihlLHQsaSl7Zm9yKGxldCByPTA7cjx0aGlzLmF0dHJpYnV0ZXMubGVuZ3RoO3IrKyl7Y29uc3Qgbj10LmF0dHJpYnV0ZXNbdGhpcy5hdHRyaWJ1dGVzW3JdLm5hbWVdO3ZvaWQgMCE9PW4mJnRoaXMuaW5zdGFuY2VDb3VudCYmdGhpcy5pbnN0YW5jZUNvdW50PjAmJmUudmVydGV4QXR0cmliRGl2aXNvcihuLGkpO319ZGVzdHJveSgpe3RoaXMuYnVmZmVyJiYodGhpcy5jb250ZXh0LmdsLmRlbGV0ZUJ1ZmZlcih0aGlzLmJ1ZmZlciksZGVsZXRlIHRoaXMuYnVmZmVyKTt9fWNsYXNzIFZ5e2NvbnN0cnVjdG9yKGUpe3RoaXMuZ2w9ZS5nbCx0aGlzLmRlZmF1bHQ9dGhpcy5nZXREZWZhdWx0KCksdGhpcy5jdXJyZW50PXRoaXMuZGVmYXVsdCx0aGlzLmRpcnR5PSExO31nZXQoKXtyZXR1cm4gdGhpcy5jdXJyZW50fXNldChlKXt9Z2V0RGVmYXVsdCgpe3JldHVybiB0aGlzLmRlZmF1bHR9c2V0RGVmYXVsdCgpe3RoaXMuc2V0KHRoaXMuZGVmYXVsdCk7fX1jbGFzcyBqeSBleHRlbmRzIFZ5e2dldERlZmF1bHQoKXtyZXR1cm4gaGkudHJhbnNwYXJlbnR9c2V0KGUpe2NvbnN0IHQ9dGhpcy5jdXJyZW50OyhlLnIhPT10LnJ8fGUuZyE9PXQuZ3x8ZS5iIT09dC5ifHxlLmEhPT10LmF8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5jbGVhckNvbG9yKGUucixlLmcsZS5iLGUuYSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSk7fX1jbGFzcyBHeSBleHRlbmRzIFZ5e2dldERlZmF1bHQoKXtyZXR1cm4gMX1zZXQoZSl7KGUhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5jbGVhckRlcHRoKGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpO319Y2xhc3MgcXkgZXh0ZW5kcyBWeXtnZXREZWZhdWx0KCl7cmV0dXJuIDB9c2V0KGUpeyhlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuY2xlYXJTdGVuY2lsKGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpO319Y2xhc3MgWnkgZXh0ZW5kcyBWeXtnZXREZWZhdWx0KCl7cmV0dXJuIFshMCwhMCwhMCwhMF19c2V0KGUpe2NvbnN0IHQ9dGhpcy5jdXJyZW50OyhlWzBdIT09dFswXXx8ZVsxXSE9PXRbMV18fGVbMl0hPT10WzJdfHxlWzNdIT09dFszXXx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmNvbG9yTWFzayhlWzBdLGVbMV0sZVsyXSxlWzNdKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fWNsYXNzICR5IGV4dGVuZHMgVnl7Z2V0RGVmYXVsdCgpe3JldHVybiAhMH1zZXQoZSl7KGUhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5kZXB0aE1hc2soZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSk7fX1jbGFzcyBXeSBleHRlbmRzIFZ5e2dldERlZmF1bHQoKXtyZXR1cm4gMjU1fXNldChlKXsoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLnN0ZW5jaWxNYXNrKGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpO319Y2xhc3MgSHkgZXh0ZW5kcyBWeXtnZXREZWZhdWx0KCl7cmV0dXJuIHtmdW5jOnRoaXMuZ2wuQUxXQVlTLHJlZjowLG1hc2s6MjU1fX1zZXQoZSl7Y29uc3QgdD10aGlzLmN1cnJlbnQ7KGUuZnVuYyE9PXQuZnVuY3x8ZS5yZWYhPT10LnJlZnx8ZS5tYXNrIT09dC5tYXNrfHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuc3RlbmNpbEZ1bmMoZS5mdW5jLGUucmVmLGUubWFzayksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSk7fX1jbGFzcyBYeSBleHRlbmRzIFZ5e2dldERlZmF1bHQoKXtjb25zdCBlPXRoaXMuZ2w7cmV0dXJuIFtlLktFRVAsZS5LRUVQLGUuS0VFUF19c2V0KGUpe2NvbnN0IHQ9dGhpcy5jdXJyZW50OyhlWzBdIT09dFswXXx8ZVsxXSE9PXRbMV18fGVbMl0hPT10WzJdfHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuc3RlbmNpbE9wKGVbMF0sZVsxXSxlWzJdKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fWNsYXNzIFl5IGV4dGVuZHMgVnl7Z2V0RGVmYXVsdCgpe3JldHVybiAhMX1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDtlP3QuZW5hYmxlKHQuU1RFTkNJTF9URVNUKTp0LmRpc2FibGUodC5TVEVOQ0lMX1RFU1QpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITE7fX1jbGFzcyBLeSBleHRlbmRzIFZ5e2dldERlZmF1bHQoKXtyZXR1cm4gWzAsMV19c2V0KGUpe2NvbnN0IHQ9dGhpcy5jdXJyZW50OyhlWzBdIT09dFswXXx8ZVsxXSE9PXRbMV18fHRoaXMuZGlydHkpJiYodGhpcy5nbC5kZXB0aFJhbmdlKGVbMF0sZVsxXSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSk7fX1jbGFzcyBKeSBleHRlbmRzIFZ5e2dldERlZmF1bHQoKXtyZXR1cm4gITF9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjtjb25zdCB0PXRoaXMuZ2w7ZT90LmVuYWJsZSh0LkRFUFRIX1RFU1QpOnQuZGlzYWJsZSh0LkRFUFRIX1RFU1QpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITE7fX1jbGFzcyBReSBleHRlbmRzIFZ5e2dldERlZmF1bHQoKXtyZXR1cm4gdGhpcy5nbC5MRVNTfXNldChlKXsoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmRlcHRoRnVuYyhlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fWNsYXNzIGV4IGV4dGVuZHMgVnl7Z2V0RGVmYXVsdCgpe3JldHVybiAhMX1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDtlP3QuZW5hYmxlKHQuQkxFTkQpOnQuZGlzYWJsZSh0LkJMRU5EKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExO319Y2xhc3MgdHggZXh0ZW5kcyBWeXtnZXREZWZhdWx0KCl7Y29uc3QgZT10aGlzLmdsO3JldHVybiBbZS5PTkUsZS5aRVJPLGUuT05FLGUuWkVST119c2V0KGUpe2NvbnN0IHQ9dGhpcy5jdXJyZW50OyhlWzBdIT09dFswXXx8ZVsxXSE9PXRbMV18fGVbMl0hPT10WzJdfHxlWzNdIT09dFszXXx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmJsZW5kRnVuY1NlcGFyYXRlKGVbMF0sZVsxXSxlWzJdLGVbM10pLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpO319Y2xhc3MgaXggZXh0ZW5kcyBWeXtnZXREZWZhdWx0KCl7cmV0dXJuIGhpLnRyYW5zcGFyZW50fXNldChlKXtjb25zdCB0PXRoaXMuY3VycmVudDsoZS5yIT09dC5yfHxlLmchPT10Lmd8fGUuYiE9PXQuYnx8ZS5hIT09dC5hfHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuYmxlbmRDb2xvcihlLnIsZS5nLGUuYixlLmEpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpO319Y2xhc3MgcnggZXh0ZW5kcyBWeXtnZXREZWZhdWx0KCl7cmV0dXJuIHRoaXMuZ2wuRlVOQ19BRER9c2V0KGUpeyhlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuYmxlbmRFcXVhdGlvblNlcGFyYXRlKGUsZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSk7fX1jbGFzcyBueCBleHRlbmRzIFZ5e2dldERlZmF1bHQoKXtyZXR1cm4gITF9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjtjb25zdCB0PXRoaXMuZ2w7ZT90LmVuYWJsZSh0LkNVTExfRkFDRSk6dC5kaXNhYmxlKHQuQ1VMTF9GQUNFKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExO319Y2xhc3Mgb3ggZXh0ZW5kcyBWeXtnZXREZWZhdWx0KCl7cmV0dXJuIHRoaXMuZ2wuQkFDS31zZXQoZSl7KGUhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5jdWxsRmFjZShlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fWNsYXNzIHN4IGV4dGVuZHMgVnl7Z2V0RGVmYXVsdCgpe3JldHVybiB0aGlzLmdsLkNDV31zZXQoZSl7KGUhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5mcm9udEZhY2UoZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSk7fX1sZXQgYXg9Y2xhc3MgZXh0ZW5kcyBWeXtnZXREZWZhdWx0KCl7cmV0dXJuIG51bGx9c2V0KGUpeyhlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wudXNlUHJvZ3JhbShlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fTtjbGFzcyBseCBleHRlbmRzIFZ5e2dldERlZmF1bHQoKXtyZXR1cm4gdGhpcy5nbC5URVhUVVJFMH1zZXQoZSl7KGUhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5hY3RpdmVUZXh0dXJlKGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpO319Y2xhc3MgY3ggZXh0ZW5kcyBWeXtnZXREZWZhdWx0KCl7Y29uc3QgZT10aGlzLmdsO3JldHVybiBbMCwwLGUuZHJhd2luZ0J1ZmZlcldpZHRoLGUuZHJhd2luZ0J1ZmZlckhlaWdodF19c2V0KGUpe2NvbnN0IHQ9dGhpcy5jdXJyZW50OyhlWzBdIT09dFswXXx8ZVsxXSE9PXRbMV18fGVbMl0hPT10WzJdfHxlWzNdIT09dFszXXx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLnZpZXdwb3J0KGVbMF0sZVsxXSxlWzJdLGVbM10pLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpO319Y2xhc3MgaHggZXh0ZW5kcyBWeXtnZXREZWZhdWx0KCl7cmV0dXJuIG51bGx9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjtjb25zdCB0PXRoaXMuZ2w7dC5iaW5kRnJhbWVidWZmZXIodC5GUkFNRUJVRkZFUixlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExO319Y2xhc3MgdXggZXh0ZW5kcyBWeXtnZXREZWZhdWx0KCl7cmV0dXJuIG51bGx9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjtjb25zdCB0PXRoaXMuZ2w7dC5iaW5kUmVuZGVyYnVmZmVyKHQuUkVOREVSQlVGRkVSLGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITE7fX1jbGFzcyBkeCBleHRlbmRzIFZ5e2dldERlZmF1bHQoKXtyZXR1cm4gbnVsbH1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDt0LmJpbmRUZXh0dXJlKHQuVEVYVFVSRV8yRCxlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExO319Y2xhc3MgcHggZXh0ZW5kcyBWeXtnZXREZWZhdWx0KCl7cmV0dXJuIG51bGx9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjtjb25zdCB0PXRoaXMuZ2w7dC5iaW5kQnVmZmVyKHQuQVJSQVlfQlVGRkVSLGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITE7fX1jbGFzcyBmeCBleHRlbmRzIFZ5e2dldERlZmF1bHQoKXtyZXR1cm4gbnVsbH1zZXQoZSl7Y29uc3QgdD10aGlzLmdsO3QuYmluZEJ1ZmZlcih0LkVMRU1FTlRfQVJSQVlfQlVGRkVSLGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITE7fX1jbGFzcyBteCBleHRlbmRzIFZ5e2dldERlZmF1bHQoKXtyZXR1cm4gbnVsbH1zZXQoZSl7dGhpcy5nbCYmKGUhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5iaW5kVmVydGV4QXJyYXkoZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSk7fX1jbGFzcyBfeCBleHRlbmRzIFZ5e2dldERlZmF1bHQoKXtyZXR1cm4gNH1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDt0LnBpeGVsU3RvcmVpKHQuVU5QQUNLX0FMSUdOTUVOVCxlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExO319Y2xhc3MgZ3ggZXh0ZW5kcyBWeXtnZXREZWZhdWx0KCl7cmV0dXJuICExfXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47Y29uc3QgdD10aGlzLmdsO3QucGl4ZWxTdG9yZWkodC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMTt9fWNsYXNzIHl4IGV4dGVuZHMgVnl7Z2V0RGVmYXVsdCgpe3JldHVybiAhMX1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDt0LnBpeGVsU3RvcmVpKHQuVU5QQUNLX0ZMSVBfWV9XRUJHTCxlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExO319Y2xhc3MgeHggZXh0ZW5kcyBWeXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUpLHRoaXMuY29udGV4dD1lLHRoaXMucGFyZW50PXQ7fWdldERlZmF1bHQoKXtyZXR1cm4gbnVsbH19Y2xhc3MgdnggZXh0ZW5kcyB4eHtzZXREaXJ0eSgpe3RoaXMuZGlydHk9ITA7fXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47dGhpcy5jb250ZXh0LmJpbmRGcmFtZWJ1ZmZlci5zZXQodGhpcy5wYXJlbnQpO2NvbnN0IHQ9dGhpcy5nbDt0LmZyYW1lYnVmZmVyVGV4dHVyZTJEKHQuRlJBTUVCVUZGRVIsdC5DT0xPUl9BVFRBQ0hNRU5UMCx0LlRFWFRVUkVfMkQsZSwwKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExO319Y2xhc3MgYnggZXh0ZW5kcyB4eHthdHRhY2htZW50KCl7cmV0dXJuIHRoaXMuZ2wuREVQVEhfQVRUQUNITUVOVH1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO3RoaXMuY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KHRoaXMucGFyZW50KTtjb25zdCB0PXRoaXMuZ2w7dC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcih0LkZSQU1FQlVGRkVSLHRoaXMuYXR0YWNobWVudCgpLHQuUkVOREVSQlVGRkVSLGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITE7fX1jbGFzcyB3eCBleHRlbmRzIHh4e2F0dGFjaG1lbnQoKXtyZXR1cm4gdGhpcy5nbC5ERVBUSF9BVFRBQ0hNRU5UfXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47dGhpcy5jb250ZXh0LmJpbmRGcmFtZWJ1ZmZlci5zZXQodGhpcy5wYXJlbnQpO2NvbnN0IHQ9dGhpcy5nbDt0LmZyYW1lYnVmZmVyVGV4dHVyZTJEKHQuRlJBTUVCVUZGRVIsdGhpcy5hdHRhY2htZW50KCksdC5URVhUVVJFXzJELGUsMCksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMTt9fWNsYXNzIFR4IGV4dGVuZHMgYnh7YXR0YWNobWVudCgpe3JldHVybiB0aGlzLmdsLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVH19Y2xhc3MgRXh7Y29uc3RydWN0b3IoZSx0LGkscixuKXt0aGlzLmNvbnRleHQ9ZSx0aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9aTtjb25zdCBvPXRoaXMuZnJhbWVidWZmZXI9ZS5nbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO3ImJih0aGlzLmNvbG9yQXR0YWNobWVudD1uZXcgdngoZSxvKSksbiYmKHRoaXMuZGVwdGhBdHRhY2htZW50VHlwZT1uLHRoaXMuZGVwdGhBdHRhY2htZW50PVwicmVuZGVyYnVmZmVyXCI9PT1uP25ldyBieChlLG8pOm5ldyB3eChlLG8pKTt9ZGVzdHJveSgpe2NvbnN0IGU9dGhpcy5jb250ZXh0LmdsO2lmKHRoaXMuY29sb3JBdHRhY2htZW50KXtjb25zdCB0PXRoaXMuY29sb3JBdHRhY2htZW50LmdldCgpO3QmJmUuZGVsZXRlVGV4dHVyZSh0KTt9aWYodGhpcy5kZXB0aEF0dGFjaG1lbnQmJnRoaXMuZGVwdGhBdHRhY2htZW50VHlwZSlpZihcInJlbmRlcmJ1ZmZlclwiPT09dGhpcy5kZXB0aEF0dGFjaG1lbnRUeXBlKXtjb25zdCB0PXRoaXMuZGVwdGhBdHRhY2htZW50LmdldCgpO3QmJmUuZGVsZXRlUmVuZGVyYnVmZmVyKHQpO31lbHNlIHtjb25zdCB0PXRoaXMuZGVwdGhBdHRhY2htZW50LmdldCgpO3QmJmUuZGVsZXRlVGV4dHVyZSh0KTt9ZS5kZWxldGVGcmFtZWJ1ZmZlcih0aGlzLmZyYW1lYnVmZmVyKTt9fWNsYXNzIE14e2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLmZ1bmM9ZSx0aGlzLm1hc2s9dCx0aGlzLnJhbmdlPWk7fX1NeC5SZWFkT25seT0hMSxNeC5SZWFkV3JpdGU9ITAsTXguZGlzYWJsZWQ9bmV3IE14KDUxOSxNeC5SZWFkT25seSxbMCwxXSk7Y29uc3QgQXg9NzY4MDtjbGFzcyBTeHtjb25zdHJ1Y3RvcihlLHQsaSxyLG4sbyl7dGhpcy50ZXN0PWUsdGhpcy5yZWY9dCx0aGlzLm1hc2s9aSx0aGlzLmZhaWw9cix0aGlzLmRlcHRoRmFpbD1uLHRoaXMucGFzcz1vO319U3guZGlzYWJsZWQ9bmV3IFN4KHtmdW5jOjUxOSxtYXNrOjB9LDAsMCxBeCxBeCxBeCk7Y29uc3QgSXg9NzcxO2NsYXNzIEN4e2NvbnN0cnVjdG9yKGUsdCxpLHIpe3RoaXMuYmxlbmRGdW5jdGlvbj1lLHRoaXMuYmxlbmRDb2xvcj10LHRoaXMubWFzaz1pLHRoaXMuYmxlbmRFcXVhdGlvbj1yO319Q3guUmVwbGFjZT1bMSwwLDEsMF0sQ3guZGlzYWJsZWQ9bmV3IEN4KEN4LlJlcGxhY2UsaGkudHJhbnNwYXJlbnQsWyExLCExLCExLCExXSksQ3gudW5ibGVuZGVkPW5ldyBDeChDeC5SZXBsYWNlLGhpLnRyYW5zcGFyZW50LFshMCwhMCwhMCwhMF0pLEN4LmFscGhhQmxlbmRlZD1uZXcgQ3goWzEsSXgsMSxJeF0saGkudHJhbnNwYXJlbnQsWyEwLCEwLCEwLCEwXSksQ3gubXVsdGlwbHk9bmV3IEN4KFs3NzQsMCw3NzQsMF0saGkudHJhbnNwYXJlbnQsWyEwLCEwLCEwLCEwXSk7Y29uc3Qgeng9MTAyOSxQeD0yMzA1O2NsYXNzIER4e2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLmVuYWJsZT1lLHRoaXMubW9kZT10LHRoaXMuZnJvbnRGYWNlPWk7fX1EeC5kaXNhYmxlZD1uZXcgRHgoITEsengsUHgpLER4LmJhY2tDQ1c9bmV3IER4KCEwLHp4LFB4KSxEeC5iYWNrQ1c9bmV3IER4KCEwLHp4LDIzMDQpLER4LmZyb250Q1c9bmV3IER4KCEwLDEwMjgsMjMwNCksRHguZnJvbnRDQ1c9bmV3IER4KCEwLDEwMjgsUHgpO2NsYXNzIFJ4e2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5nbD1lLHRoaXMuY2xlYXJDb2xvcj1uZXcgankodGhpcyksdGhpcy5jbGVhckRlcHRoPW5ldyBHeSh0aGlzKSx0aGlzLmNsZWFyU3RlbmNpbD1uZXcgcXkodGhpcyksdGhpcy5jb2xvck1hc2s9bmV3IFp5KHRoaXMpLHRoaXMuZGVwdGhNYXNrPW5ldyAkeSh0aGlzKSx0aGlzLnN0ZW5jaWxNYXNrPW5ldyBXeSh0aGlzKSx0aGlzLnN0ZW5jaWxGdW5jPW5ldyBIeSh0aGlzKSx0aGlzLnN0ZW5jaWxPcD1uZXcgWHkodGhpcyksdGhpcy5zdGVuY2lsVGVzdD1uZXcgWXkodGhpcyksdGhpcy5kZXB0aFJhbmdlPW5ldyBLeSh0aGlzKSx0aGlzLmRlcHRoVGVzdD1uZXcgSnkodGhpcyksdGhpcy5kZXB0aEZ1bmM9bmV3IFF5KHRoaXMpLHRoaXMuYmxlbmQ9bmV3IGV4KHRoaXMpLHRoaXMuYmxlbmRGdW5jPW5ldyB0eCh0aGlzKSx0aGlzLmJsZW5kQ29sb3I9bmV3IGl4KHRoaXMpLHRoaXMuYmxlbmRFcXVhdGlvbj1uZXcgcngodGhpcyksdGhpcy5jdWxsRmFjZT1uZXcgbngodGhpcyksdGhpcy5jdWxsRmFjZVNpZGU9bmV3IG94KHRoaXMpLHRoaXMuZnJvbnRGYWNlPW5ldyBzeCh0aGlzKSx0aGlzLnByb2dyYW09bmV3IGF4KHRoaXMpLHRoaXMuYWN0aXZlVGV4dHVyZT1uZXcgbHgodGhpcyksdGhpcy52aWV3cG9ydD1uZXcgY3godGhpcyksdGhpcy5iaW5kRnJhbWVidWZmZXI9bmV3IGh4KHRoaXMpLHRoaXMuYmluZFJlbmRlcmJ1ZmZlcj1uZXcgdXgodGhpcyksdGhpcy5iaW5kVGV4dHVyZT1uZXcgZHgodGhpcyksdGhpcy5iaW5kVmVydGV4QnVmZmVyPW5ldyBweCh0aGlzKSx0aGlzLmJpbmRFbGVtZW50QnVmZmVyPW5ldyBmeCh0aGlzKSx0aGlzLmJpbmRWZXJ0ZXhBcnJheU9FUz1uZXcgbXgodGhpcyksdGhpcy5waXhlbFN0b3JlVW5wYWNrPW5ldyBfeCh0aGlzKSx0aGlzLnBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhPW5ldyBneCh0aGlzKSx0aGlzLnBpeGVsU3RvcmVVbnBhY2tGbGlwWT1uZXcgeXgodGhpcyksdGhpcy5vcHRpb25zPXQ/ey4uLnR9Ont9LHRoaXMub3B0aW9ucy5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWNGb3JjZU9mZnx8KHRoaXMuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljPWUuZ2V0RXh0ZW5zaW9uKFwiRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljXCIpfHxlLmdldEV4dGVuc2lvbihcIk1PWl9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWNcIil8fGUuZ2V0RXh0ZW5zaW9uKFwiV0VCS0lUX0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpY1wiKSx0aGlzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYyYmKHRoaXMuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljTWF4PWUuZ2V0UGFyYW1ldGVyKHRoaXMuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljLk1BWF9URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCkpKSx0aGlzLmV4dERlYnVnUmVuZGVyZXJJbmZvPWUuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfZGVidWdfcmVuZGVyZXJfaW5mb1wiKSx0aGlzLmV4dERlYnVnUmVuZGVyZXJJbmZvJiYodGhpcy5yZW5kZXJlcj1lLmdldFBhcmFtZXRlcih0aGlzLmV4dERlYnVnUmVuZGVyZXJJbmZvLlVOTUFTS0VEX1JFTkRFUkVSX1dFQkdMKSx0aGlzLnZlbmRvcj1lLmdldFBhcmFtZXRlcih0aGlzLmV4dERlYnVnUmVuZGVyZXJJbmZvLlVOTUFTS0VEX1ZFTkRPUl9XRUJHTCkpLHRoaXMub3B0aW9ucy5leHRUZXh0dXJlRmxvYXRMaW5lYXJGb3JjZU9mZnx8KHRoaXMuZXh0VGV4dHVyZUZsb2F0TGluZWFyPWUuZ2V0RXh0ZW5zaW9uKFwiT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyXCIpKSx0aGlzLmV4dFJlbmRlclRvVGV4dHVyZUhhbGZGbG9hdD1lLmdldEV4dGVuc2lvbihcIkVYVF9jb2xvcl9idWZmZXJfaGFsZl9mbG9hdFwiKSx0aGlzLmV4dFRpbWVyUXVlcnk9ZS5nZXRFeHRlbnNpb24oXCJFWFRfZGlzam9pbnRfdGltZXJfcXVlcnlfd2ViZ2wyXCIpLHRoaXMubWF4VGV4dHVyZVNpemU9ZS5nZXRQYXJhbWV0ZXIoZS5NQVhfVEVYVFVSRV9TSVpFKTt9c2V0RGVmYXVsdCgpe3RoaXMudW5iaW5kVkFPKCksdGhpcy5jbGVhckNvbG9yLnNldERlZmF1bHQoKSx0aGlzLmNsZWFyRGVwdGguc2V0RGVmYXVsdCgpLHRoaXMuY2xlYXJTdGVuY2lsLnNldERlZmF1bHQoKSx0aGlzLmNvbG9yTWFzay5zZXREZWZhdWx0KCksdGhpcy5kZXB0aE1hc2suc2V0RGVmYXVsdCgpLHRoaXMuc3RlbmNpbE1hc2suc2V0RGVmYXVsdCgpLHRoaXMuc3RlbmNpbEZ1bmMuc2V0RGVmYXVsdCgpLHRoaXMuc3RlbmNpbE9wLnNldERlZmF1bHQoKSx0aGlzLnN0ZW5jaWxUZXN0LnNldERlZmF1bHQoKSx0aGlzLmRlcHRoUmFuZ2Uuc2V0RGVmYXVsdCgpLHRoaXMuZGVwdGhUZXN0LnNldERlZmF1bHQoKSx0aGlzLmRlcHRoRnVuYy5zZXREZWZhdWx0KCksdGhpcy5ibGVuZC5zZXREZWZhdWx0KCksdGhpcy5ibGVuZEZ1bmMuc2V0RGVmYXVsdCgpLHRoaXMuYmxlbmRDb2xvci5zZXREZWZhdWx0KCksdGhpcy5ibGVuZEVxdWF0aW9uLnNldERlZmF1bHQoKSx0aGlzLmN1bGxGYWNlLnNldERlZmF1bHQoKSx0aGlzLmN1bGxGYWNlU2lkZS5zZXREZWZhdWx0KCksdGhpcy5mcm9udEZhY2Uuc2V0RGVmYXVsdCgpLHRoaXMucHJvZ3JhbS5zZXREZWZhdWx0KCksdGhpcy5hY3RpdmVUZXh0dXJlLnNldERlZmF1bHQoKSx0aGlzLmJpbmRGcmFtZWJ1ZmZlci5zZXREZWZhdWx0KCksdGhpcy5waXhlbFN0b3JlVW5wYWNrLnNldERlZmF1bHQoKSx0aGlzLnBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhLnNldERlZmF1bHQoKSx0aGlzLnBpeGVsU3RvcmVVbnBhY2tGbGlwWS5zZXREZWZhdWx0KCk7fXNldERpcnR5KCl7dGhpcy5jbGVhckNvbG9yLmRpcnR5PSEwLHRoaXMuY2xlYXJEZXB0aC5kaXJ0eT0hMCx0aGlzLmNsZWFyU3RlbmNpbC5kaXJ0eT0hMCx0aGlzLmNvbG9yTWFzay5kaXJ0eT0hMCx0aGlzLmRlcHRoTWFzay5kaXJ0eT0hMCx0aGlzLnN0ZW5jaWxNYXNrLmRpcnR5PSEwLHRoaXMuc3RlbmNpbEZ1bmMuZGlydHk9ITAsdGhpcy5zdGVuY2lsT3AuZGlydHk9ITAsdGhpcy5zdGVuY2lsVGVzdC5kaXJ0eT0hMCx0aGlzLmRlcHRoUmFuZ2UuZGlydHk9ITAsdGhpcy5kZXB0aFRlc3QuZGlydHk9ITAsdGhpcy5kZXB0aEZ1bmMuZGlydHk9ITAsdGhpcy5ibGVuZC5kaXJ0eT0hMCx0aGlzLmJsZW5kRnVuYy5kaXJ0eT0hMCx0aGlzLmJsZW5kQ29sb3IuZGlydHk9ITAsdGhpcy5ibGVuZEVxdWF0aW9uLmRpcnR5PSEwLHRoaXMuY3VsbEZhY2UuZGlydHk9ITAsdGhpcy5jdWxsRmFjZVNpZGUuZGlydHk9ITAsdGhpcy5mcm9udEZhY2UuZGlydHk9ITAsdGhpcy5wcm9ncmFtLmRpcnR5PSEwLHRoaXMuYWN0aXZlVGV4dHVyZS5kaXJ0eT0hMCx0aGlzLnZpZXdwb3J0LmRpcnR5PSEwLHRoaXMuYmluZEZyYW1lYnVmZmVyLmRpcnR5PSEwLHRoaXMuYmluZFJlbmRlcmJ1ZmZlci5kaXJ0eT0hMCx0aGlzLmJpbmRUZXh0dXJlLmRpcnR5PSEwLHRoaXMuYmluZFZlcnRleEJ1ZmZlci5kaXJ0eT0hMCx0aGlzLmJpbmRFbGVtZW50QnVmZmVyLmRpcnR5PSEwLHRoaXMuYmluZFZlcnRleEFycmF5T0VTLmRpcnR5PSEwLHRoaXMucGl4ZWxTdG9yZVVucGFjay5kaXJ0eT0hMCx0aGlzLnBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhLmRpcnR5PSEwLHRoaXMucGl4ZWxTdG9yZVVucGFja0ZsaXBZLmRpcnR5PSEwO31jcmVhdGVJbmRleEJ1ZmZlcihlLHQsaSl7cmV0dXJuIG5ldyBGeSh0aGlzLGUsdCxpKX1jcmVhdGVWZXJ0ZXhCdWZmZXIoZSx0LGkscixuKXtyZXR1cm4gbmV3IFV5KHRoaXMsZSx0LGkscixuKX1jcmVhdGVSZW5kZXJidWZmZXIoZSx0LGkpe2NvbnN0IHI9dGhpcy5nbCxuPXIuY3JlYXRlUmVuZGVyYnVmZmVyKCk7cmV0dXJuIHRoaXMuYmluZFJlbmRlcmJ1ZmZlci5zZXQobiksci5yZW5kZXJidWZmZXJTdG9yYWdlKHIuUkVOREVSQlVGRkVSLGUsdCxpKSx0aGlzLmJpbmRSZW5kZXJidWZmZXIuc2V0KG51bGwpLG59Y3JlYXRlRnJhbWVidWZmZXIoZSx0LGkscil7cmV0dXJuIG5ldyBFeCh0aGlzLGUsdCxpLHIpfWNsZWFyKHtjb2xvcjplLGRlcHRoOnQsc3RlbmNpbDppLGNvbG9yTWFzazpyfSl7Y29uc3Qgbj10aGlzLmdsO2xldCBvPTA7ZSYmKG98PW4uQ09MT1JfQlVGRkVSX0JJVCx0aGlzLmNsZWFyQ29sb3Iuc2V0KGUpLHRoaXMuY29sb3JNYXNrLnNldChyfHxbITAsITAsITAsITBdKSksdm9pZCAwIT09dCYmKG98PW4uREVQVEhfQlVGRkVSX0JJVCx0aGlzLmRlcHRoUmFuZ2Uuc2V0KFswLDFdKSx0aGlzLmNsZWFyRGVwdGguc2V0KHQpLHRoaXMuZGVwdGhNYXNrLnNldCghMCkpLHZvaWQgMCE9PWkmJihvfD1uLlNURU5DSUxfQlVGRkVSX0JJVCx0aGlzLmNsZWFyU3RlbmNpbC5zZXQoaSksdGhpcy5zdGVuY2lsTWFzay5zZXQoMjU1KSksbi5jbGVhcihvKTt9c2V0Q3VsbEZhY2UoZSl7ITE9PT1lLmVuYWJsZT90aGlzLmN1bGxGYWNlLnNldCghMSk6KHRoaXMuY3VsbEZhY2Uuc2V0KCEwKSx0aGlzLmN1bGxGYWNlU2lkZS5zZXQoZS5tb2RlKSx0aGlzLmZyb250RmFjZS5zZXQoZS5mcm9udEZhY2UpKTt9c2V0RGVwdGhNb2RlKGUpe2UuZnVuYyE9PXRoaXMuZ2wuQUxXQVlTfHxlLm1hc2s/KHRoaXMuZGVwdGhUZXN0LnNldCghMCksdGhpcy5kZXB0aEZ1bmMuc2V0KGUuZnVuYyksdGhpcy5kZXB0aE1hc2suc2V0KGUubWFzayksdGhpcy5kZXB0aFJhbmdlLnNldChlLnJhbmdlKSk6dGhpcy5kZXB0aFRlc3Quc2V0KCExKTt9c2V0U3RlbmNpbE1vZGUoZSl7ZS50ZXN0LmZ1bmMhPT10aGlzLmdsLkFMV0FZU3x8ZS5tYXNrPyh0aGlzLnN0ZW5jaWxUZXN0LnNldCghMCksdGhpcy5zdGVuY2lsTWFzay5zZXQoZS5tYXNrKSx0aGlzLnN0ZW5jaWxPcC5zZXQoW2UuZmFpbCxlLmRlcHRoRmFpbCxlLnBhc3NdKSx0aGlzLnN0ZW5jaWxGdW5jLnNldCh7ZnVuYzplLnRlc3QuZnVuYyxyZWY6ZS5yZWYsbWFzazplLnRlc3QubWFza30pKTp0aGlzLnN0ZW5jaWxUZXN0LnNldCghMSk7fXNldENvbG9yTW9kZShlKXt4KGUuYmxlbmRGdW5jdGlvbixDeC5SZXBsYWNlKT90aGlzLmJsZW5kLnNldCghMSk6KHRoaXMuYmxlbmQuc2V0KCEwKSx0aGlzLmJsZW5kRnVuYy5zZXQoZS5ibGVuZEZ1bmN0aW9uKSx0aGlzLmJsZW5kQ29sb3Iuc2V0KGUuYmxlbmRDb2xvciksZS5ibGVuZEVxdWF0aW9uP3RoaXMuYmxlbmRFcXVhdGlvbi5zZXQoZS5ibGVuZEVxdWF0aW9uKTp0aGlzLmJsZW5kRXF1YXRpb24uc2V0RGVmYXVsdCgpKSx0aGlzLmNvbG9yTWFzay5zZXQoZS5tYXNrKTt9dW5iaW5kVkFPKCl7dGhpcy5iaW5kVmVydGV4QXJyYXlPRVMuc2V0KG51bGwpO319Y2xhc3MgTHggZXh0ZW5kcyB6dHtjb25zdHJ1Y3RvcihlLHQsaSl7c3VwZXIoKSx0aGlzLmlkPWUsdGhpcy5fb25seVN5bWJvbHM9aSx0Lm9uKFwiZGF0YVwiLChlPT57XCJzb3VyY2VcIj09PWUuZGF0YVR5cGUmJlwibWV0YWRhdGFcIj09PWUuc291cmNlRGF0YVR5cGUmJih0aGlzLl9zb3VyY2VMb2FkZWQ9ITApLHRoaXMuX3NvdXJjZUxvYWRlZCYmIXRoaXMuX3BhdXNlZCYmXCJzb3VyY2VcIj09PWUuZGF0YVR5cGUmJlwiY29udGVudFwiPT09ZS5zb3VyY2VEYXRhVHlwZSYmKHRoaXMucmVsb2FkKCksdGhpcy50cmFuc2Zvcm0mJnRoaXMudXBkYXRlKHRoaXMudHJhbnNmb3JtKSk7fSkpLHQub24oXCJlcnJvclwiLCgoKT0+e3RoaXMuX3NvdXJjZUVycm9yZWQ9ITA7fSkpLHRoaXMuX3NvdXJjZT10LHRoaXMuX3RpbGVzPXt9LHRoaXMuX2NhY2hlPW5ldyBCeSgwLHRoaXMuX3VubG9hZFRpbGUuYmluZCh0aGlzKSksdGhpcy5fdGltZXJzPXt9LHRoaXMuX2NhY2hlVGltZXJzPXt9LHRoaXMuX21pblRpbGVDYWNoZVNpemU9dC5taW5UaWxlQ2FjaGVTaXplLHRoaXMuX21heFRpbGVDYWNoZVNpemU9dC5tYXhUaWxlQ2FjaGVTaXplLHRoaXMuX2xvYWRlZFBhcmVudFRpbGVzPXt9LHRoaXMuY2FzdHNTaGFkb3dzPSExLHRoaXMuX2NvdmVyZWRUaWxlcz17fSx0aGlzLl9zaGFkb3dDYXN0ZXJUaWxlcz17fSx0aGlzLl9zdGF0ZT1uZXcgRm0sdGhpcy5faXNSYXN0ZXI9XCJyYXN0ZXJcIj09PXRoaXMuX3NvdXJjZS50eXBlfHxcInJhc3Rlci1kZW1cIj09PXRoaXMuX3NvdXJjZS50eXBlfHxcImN1c3RvbVwiPT09dGhpcy5fc291cmNlLnR5cGUmJlwicmFzdGVyXCI9PT10aGlzLl9zb3VyY2UuX2RhdGFUeXBlO31vbkFkZChlKXt0aGlzLm1hcD1lLHRoaXMuX21pblRpbGVDYWNoZVNpemU9dm9pZCAwPT09dGhpcy5fbWluVGlsZUNhY2hlU2l6ZSYmZT9lLl9taW5UaWxlQ2FjaGVTaXplOnRoaXMuX21pblRpbGVDYWNoZVNpemUsdGhpcy5fbWF4VGlsZUNhY2hlU2l6ZT12b2lkIDA9PT10aGlzLl9tYXhUaWxlQ2FjaGVTaXplJiZlP2UuX21heFRpbGVDYWNoZVNpemU6dGhpcy5fbWF4VGlsZUNhY2hlU2l6ZTt9bG9hZGVkKCl7aWYodGhpcy5fc291cmNlRXJyb3JlZClyZXR1cm4gITA7aWYoIXRoaXMuX3NvdXJjZUxvYWRlZClyZXR1cm4gITE7aWYoIXRoaXMuX3NvdXJjZS5sb2FkZWQoKSlyZXR1cm4gITE7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fdGlsZXMpe2NvbnN0IHQ9dGhpcy5fdGlsZXNbZV07aWYoXCJlcnJvcmVkXCIhPT10LnN0YXRlJiYoXCJsb2FkZWRcIiE9PXQuc3RhdGV8fCF0LmJ1Y2tldHNMb2FkZWQoKSkpcmV0dXJuICExfXJldHVybiAhMH1nZXRTb3VyY2UoKXtyZXR1cm4gdGhpcy5fc291cmNlfXBhdXNlKCl7dGhpcy5fcGF1c2VkPSEwO31yZXN1bWUoKXtpZighdGhpcy5fcGF1c2VkKXJldHVybjtjb25zdCBlPXRoaXMuX3Nob3VsZFJlbG9hZE9uUmVzdW1lO3RoaXMuX3BhdXNlZD0hMSx0aGlzLl9zaG91bGRSZWxvYWRPblJlc3VtZT0hMSxlJiZ0aGlzLnJlbG9hZCgpLHRoaXMudHJhbnNmb3JtJiZ0aGlzLnVwZGF0ZSh0aGlzLnRyYW5zZm9ybSk7fV9sb2FkVGlsZShlLHQpe3JldHVybiBlLmlzU3ltYm9sVGlsZT10aGlzLl9vbmx5U3ltYm9scyxlLmlzRXh0cmFTaGFkb3dDYXN0ZXI9dGhpcy5fc2hhZG93Q2FzdGVyVGlsZXNbZS50aWxlSUQua2V5XSx0aGlzLl9zb3VyY2UubG9hZFRpbGUoZSx0KX1fdW5sb2FkVGlsZShlKXtpZih0aGlzLl9zb3VyY2UudW5sb2FkVGlsZSlyZXR1cm4gdGhpcy5fc291cmNlLnVubG9hZFRpbGUoZSwoKCk9Pnt9KSl9X2Fib3J0VGlsZShlKXtpZih0aGlzLl9zb3VyY2UuYWJvcnRUaWxlKXJldHVybiB0aGlzLl9zb3VyY2UuYWJvcnRUaWxlKGUsKCgpPT57fSkpfXNlcmlhbGl6ZSgpe3JldHVybiB0aGlzLl9zb3VyY2Uuc2VyaWFsaXplKCl9cHJlcGFyZShlKXt0aGlzLl9zb3VyY2UucHJlcGFyZSYmdGhpcy5fc291cmNlLnByZXBhcmUoKSx0aGlzLl9zdGF0ZS5jb2FsZXNjZUNoYW5nZXModGhpcy5fdGlsZXMsdGhpcy5tYXA/dGhpcy5tYXAucGFpbnRlcjpudWxsKTtmb3IoY29uc3QgdCBpbiB0aGlzLl90aWxlcyl7Y29uc3QgaT10aGlzLl90aWxlc1t0XTtpLnVwbG9hZChlKSxpLnByZXBhcmUodGhpcy5tYXAuc3R5bGUuaW1hZ2VNYW5hZ2VyLHRoaXMubWFwP3RoaXMubWFwLnBhaW50ZXI6bnVsbCx0aGlzLl9zb3VyY2Uuc2NvcGUpO319Z2V0SWRzKCl7cmV0dXJuIEwodGhpcy5fdGlsZXMpLm1hcCgoZT0+ZS50aWxlSUQpKS5zb3J0KGt4KS5tYXAoKGU9PmUua2V5KSl9Z2V0UmVuZGVyYWJsZUlkcyhlLHQpe2NvbnN0IGk9W107Zm9yKGNvbnN0IHIgaW4gdGhpcy5fdGlsZXMpdGhpcy5faXNJZFJlbmRlcmFibGUoK3IsZSx0KSYmaS5wdXNoKHRoaXMuX3RpbGVzW3JdKTtyZXR1cm4gZT9pLnNvcnQoKChlLHQpPT57Y29uc3QgaT1lLnRpbGVJRCxyPXQudGlsZUlELG49bmV3IHkoaS5jYW5vbmljYWwueCxpLmNhbm9uaWNhbC55KS5fcm90YXRlKHRoaXMudHJhbnNmb3JtLmFuZ2xlKSxvPW5ldyB5KHIuY2Fub25pY2FsLngsci5jYW5vbmljYWwueSkuX3JvdGF0ZSh0aGlzLnRyYW5zZm9ybS5hbmdsZSk7cmV0dXJuIGkub3ZlcnNjYWxlZFotci5vdmVyc2NhbGVkWnx8by55LW4ueXx8by54LW4ueH0pKS5tYXAoKGU9PmUudGlsZUlELmtleSkpOmkubWFwKChlPT5lLnRpbGVJRCkpLnNvcnQoa3gpLm1hcCgoZT0+ZS5rZXkpKX1oYXNSZW5kZXJhYmxlUGFyZW50KGUpe2NvbnN0IHQ9dGhpcy5maW5kTG9hZGVkUGFyZW50KGUsMCk7cmV0dXJuICEhdCYmdGhpcy5faXNJZFJlbmRlcmFibGUodC50aWxlSUQua2V5KX1faXNJZFJlbmRlcmFibGUoZSx0LGkpe3JldHVybiB0aGlzLl90aWxlc1tlXSYmdGhpcy5fdGlsZXNbZV0uaGFzRGF0YSgpJiYhdGhpcy5fY292ZXJlZFRpbGVzW2VdJiYodHx8IXRoaXMuX3RpbGVzW2VdLmhvbGRpbmdGb3JGYWRlKCkpJiYoaXx8IXRoaXMuX3NoYWRvd0Nhc3RlclRpbGVzW2VdKX1yZWxvYWQoKXtpZih0aGlzLl9wYXVzZWQpdGhpcy5fc2hvdWxkUmVsb2FkT25SZXN1bWU9ITA7ZWxzZSB7dGhpcy5fY2FjaGUucmVzZXQoKTtmb3IoY29uc3QgZSBpbiB0aGlzLl90aWxlcylcImVycm9yZWRcIiE9PXRoaXMuX3RpbGVzW2VdLnN0YXRlJiZ0aGlzLl9yZWxvYWRUaWxlKCtlLFwicmVsb2FkaW5nXCIpO319X3JlbG9hZFRpbGUoZSx0KXtjb25zdCBpPXRoaXMuX3RpbGVzW2VdO2kmJihcImxvYWRpbmdcIiE9PWkuc3RhdGUmJihpLnN0YXRlPXQpLHRoaXMuX2xvYWRUaWxlKGksdGhpcy5fdGlsZUxvYWRlZC5iaW5kKHRoaXMsaSxlLHQpKSk7fV90aWxlTG9hZGVkKGUsdCxpLHIpe2lmKHIpaWYoZS5zdGF0ZT1cImVycm9yZWRcIiw0MDQhPT1yLnN0YXR1cyl0aGlzLl9zb3VyY2UuZmlyZShuZXcgQ3Qocix7dGlsZTplfSkpO2Vsc2Uge2lmKCEoZS50aWxlSUQua2V5IGluIHRoaXMuX2xvYWRlZFBhcmVudFRpbGVzKSlyZXR1cm4gdm9pZCB0aGlzLl9zb3VyY2UuZmlyZShuZXcgSXQoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJlcnJvclwiLHNvdXJjZUlkOnRoaXMuX3NvdXJjZS5pZH0pKTtpZihcInJhc3Rlci1kZW1cIj09PXRoaXMuX3NvdXJjZS50eXBlJiZ0aGlzLnVzZWRGb3JUZXJyYWluJiZ0aGlzLm1hcC5wYWludGVyLnRlcnJhaW4pe2NvbnN0IGU9dGhpcy5tYXAucGFpbnRlci50ZXJyYWluO3RoaXMudXBkYXRlKHRoaXMudHJhbnNmb3JtLGUuZ2V0U2NhbGVkRGVtVGlsZVNpemUoKSwhMCksZS5yZXNldFRpbGVMb29rdXBDYWNoZSh0aGlzLmlkKTt9ZWxzZSB0aGlzLnVwZGF0ZSh0aGlzLnRyYW5zZm9ybSk7fWVsc2UgZS50aW1lQWRkZWQ9ZHQubm93KCksXCJleHBpcmVkXCI9PT1pJiYoZS5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbj0hMCksdGhpcy5fc2V0VGlsZVJlbG9hZFRpbWVyKHQsZSksXCJyYXN0ZXItZGVtXCI9PT10aGlzLl9zb3VyY2UudHlwZSYmZS5kZW0mJnRoaXMuX2JhY2tmaWxsREVNKGUpLHRoaXMuX3N0YXRlLmluaXRpYWxpemVUaWxlU3RhdGUoZSx0aGlzLm1hcD90aGlzLm1hcC5wYWludGVyOm51bGwpLHRoaXMuX3NvdXJjZS5maXJlKG5ldyBJdChcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIix0aWxlOmUsY29vcmQ6ZS50aWxlSUQsc291cmNlQ2FjaGVJZDp0aGlzLmlkfSkpO31fYmFja2ZpbGxERU0oZSl7Y29uc3QgdD10aGlzLmdldFJlbmRlcmFibGVJZHMoKTtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl7Y29uc3Qgbj10W3JdO2lmKGUubmVpZ2hib3JpbmdUaWxlcyYmZS5uZWlnaGJvcmluZ1RpbGVzW25dKXtjb25zdCB0PXRoaXMuZ2V0VGlsZUJ5SUQobik7aShlLHQpLGkodCxlKTt9fWZ1bmN0aW9uIGkoZSx0KXtpZighZS5kZW18fGUuZGVtLmJvcmRlclJlYWR5KXJldHVybjtlLm5lZWRzSGlsbHNoYWRlUHJlcGFyZT0hMCxlLm5lZWRzREVNVGV4dHVyZVVwbG9hZD0hMDtsZXQgaT10LnRpbGVJRC5jYW5vbmljYWwueC1lLnRpbGVJRC5jYW5vbmljYWwueDtjb25zdCByPXQudGlsZUlELmNhbm9uaWNhbC55LWUudGlsZUlELmNhbm9uaWNhbC55LG49TWF0aC5wb3coMixlLnRpbGVJRC5jYW5vbmljYWwueiksbz10LnRpbGVJRC5rZXk7MD09PWkmJjA9PT1yfHxNYXRoLmFicyhyKT4xfHwoTWF0aC5hYnMoaSk+MSYmKDE9PT1NYXRoLmFicyhpK24pP2krPW46MT09PU1hdGguYWJzKGktbikmJihpLT1uKSksdC5kZW0mJmUuZGVtJiYoZS5kZW0uYmFja2ZpbGxCb3JkZXIodC5kZW0saSxyKSxlLm5laWdoYm9yaW5nVGlsZXMmJmUubmVpZ2hib3JpbmdUaWxlc1tvXSYmKGUubmVpZ2hib3JpbmdUaWxlc1tvXS5iYWNrZmlsbGVkPSEwKSkpO319Z2V0VGlsZShlKXtyZXR1cm4gdGhpcy5nZXRUaWxlQnlJRChlLmtleSl9Z2V0VGlsZUJ5SUQoZSl7cmV0dXJuIHRoaXMuX3RpbGVzW2VdfV9yZXRhaW5Mb2FkZWRDaGlsZHJlbihlLHQsaSxyKXtmb3IoY29uc3QgbiBpbiB0aGlzLl90aWxlcyl7bGV0IG89dGhpcy5fdGlsZXNbbl07aWYocltuXXx8IW8uaGFzRGF0YSgpfHxvLnRpbGVJRC5vdmVyc2NhbGVkWjw9dHx8by50aWxlSUQub3ZlcnNjYWxlZFo+aSljb250aW51ZTtsZXQgcz1vLnRpbGVJRDtmb3IoO28mJm8udGlsZUlELm92ZXJzY2FsZWRaPnQrMTspe2NvbnN0IGU9by50aWxlSUQuc2NhbGVkVG8oby50aWxlSUQub3ZlcnNjYWxlZFotMSk7bz10aGlzLl90aWxlc1tlLmtleV0sbyYmby5oYXNEYXRhKCkmJihzPWUpO31sZXQgYT1zO2Zvcig7YS5vdmVyc2NhbGVkWj50OylpZihhPWEuc2NhbGVkVG8oYS5vdmVyc2NhbGVkWi0xKSxlW2Eua2V5XSl7cltzLmtleV09czticmVha319fWZpbmRMb2FkZWRQYXJlbnQoZSx0KXtpZihlLmtleSBpbiB0aGlzLl9sb2FkZWRQYXJlbnRUaWxlcyl7Y29uc3QgaT10aGlzLl9sb2FkZWRQYXJlbnRUaWxlc1tlLmtleV07cmV0dXJuIGkmJmkudGlsZUlELm92ZXJzY2FsZWRaPj10P2k6bnVsbH1mb3IobGV0IGk9ZS5vdmVyc2NhbGVkWi0xO2k+PXQ7aS0tKXtjb25zdCB0PWUuc2NhbGVkVG8oaSkscj10aGlzLl9nZXRMb2FkZWRUaWxlKHQpO2lmKHIpcmV0dXJuIHJ9fV9nZXRMb2FkZWRUaWxlKGUpe2NvbnN0IHQ9dGhpcy5fdGlsZXNbZS5rZXldO3JldHVybiB0JiZ0Lmhhc0RhdGEoKT90OnRoaXMuX2NhY2hlLmdldEJ5S2V5KHRoaXMuX3NvdXJjZS5yZXBhcnNlT3ZlcnNjYWxlZD9lLndyYXBwZWQoKS5rZXk6ZS5jYW5vbmljYWwua2V5KX11cGRhdGVDYWNoZVNpemUoZSx0KXt0PXR8fHRoaXMuX3NvdXJjZS50aWxlU2l6ZTtjb25zdCBpPU1hdGguY2VpbChlLndpZHRoL3QpKzEscj1NYXRoLmNlaWwoZS5oZWlnaHQvdCkrMSxuPU1hdGguZmxvb3IoaSpyKjUpLG89XCJudW1iZXJcIj09dHlwZW9mIHRoaXMuX21pblRpbGVDYWNoZVNpemU/TWF0aC5tYXgodGhpcy5fbWluVGlsZUNhY2hlU2l6ZSxuKTpuLHM9XCJudW1iZXJcIj09dHlwZW9mIHRoaXMuX21heFRpbGVDYWNoZVNpemU/TWF0aC5taW4odGhpcy5fbWF4VGlsZUNhY2hlU2l6ZSxvKTpvO3RoaXMuX2NhY2hlLnNldE1heFNpemUocyk7fWhhbmRsZVdyYXBKdW1wKGUpe2NvbnN0IHQ9TWF0aC5yb3VuZCgoZS0odm9pZCAwPT09dGhpcy5fcHJldkxuZz9lOnRoaXMuX3ByZXZMbmcpKS8zNjApO2lmKHRoaXMuX3ByZXZMbmc9ZSx0KXtjb25zdCBlPXt9O2Zvcihjb25zdCBpIGluIHRoaXMuX3RpbGVzKXtjb25zdCByPXRoaXMuX3RpbGVzW2ldO3IudGlsZUlEPXIudGlsZUlELnVud3JhcFRvKHIudGlsZUlELndyYXArdCksZVtyLnRpbGVJRC5rZXldPXI7fXRoaXMuX3RpbGVzPWU7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fdGltZXJzKWNsZWFyVGltZW91dCh0aGlzLl90aW1lcnNbZV0pLGRlbGV0ZSB0aGlzLl90aW1lcnNbZV07Zm9yKGNvbnN0IGUgaW4gdGhpcy5fdGlsZXMpdGhpcy5fc2V0VGlsZVJlbG9hZFRpbWVyKCtlLHRoaXMuX3RpbGVzW2VdKTt9fXVwZGF0ZShlLHQsaSxyKXtpZih0aGlzLnRyYW5zZm9ybT1lLCF0aGlzLl9zb3VyY2VMb2FkZWR8fHRoaXMuX3BhdXNlZHx8dGhpcy50cmFuc2Zvcm0uZnJlZXplVGlsZUNvdmVyYWdlKXJldHVybjtpZih0aGlzLnVzZWRGb3JUZXJyYWluJiYhaSlyZXR1cm47bGV0IG47aWYodGhpcy51cGRhdGVDYWNoZVNpemUoZSx0KSxcImdsb2JlXCIhPT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUmJnRoaXMuaGFuZGxlV3JhcEp1bXAodGhpcy50cmFuc2Zvcm0uY2VudGVyLmxuZyksdGhpcy5fc2hhZG93Q2FzdGVyVGlsZXM9e30sdGhpcy5fY292ZXJlZFRpbGVzPXt9LHRoaXMudXNlZHx8dGhpcy51c2VkRm9yVGVycmFpbj90aGlzLl9zb3VyY2UudGlsZUlEP249ZS5nZXRWaXNpYmxlVW53cmFwcGVkQ29vcmRpbmF0ZXModGhpcy5fc291cmNlLnRpbGVJRCkubWFwKChlPT5uZXcgcXUoZS5jYW5vbmljYWwueixlLndyYXAsZS5jYW5vbmljYWwueixlLmNhbm9uaWNhbC54LGUuY2Fub25pY2FsLnkpKSk6KG49ZS5jb3ZlcmluZ1RpbGVzKHt0aWxlU2l6ZTp0fHx0aGlzLl9zb3VyY2UudGlsZVNpemUsbWluem9vbTp0aGlzLl9zb3VyY2UubWluem9vbSxtYXh6b29tOnRoaXMuX3NvdXJjZS5tYXh6b29tLHJvdW5kWm9vbTp0aGlzLl9zb3VyY2Uucm91bmRab29tJiYhaSxyZXBhcnNlT3ZlcnNjYWxlZDp0aGlzLl9zb3VyY2UucmVwYXJzZU92ZXJzY2FsZWQsaXNUZXJyYWluREVNOnRoaXMudXNlZEZvclRlcnJhaW59KSx0aGlzLl9zb3VyY2UuaGFzVGlsZSYmKG49bi5maWx0ZXIoKGU9PnRoaXMuX3NvdXJjZS5oYXNUaWxlKGUpKSkpKTpuPVtdLG4ubGVuZ3RoPjAmJnRoaXMuY2FzdHNTaGFkb3dzJiZyJiZcImdsb2JlXCIhPT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUmJiF0aGlzLnVzZWRGb3JUZXJyYWluJiYhT3godGhpcy5fc291cmNlLnR5cGUpKXtjb25zdCBvPWUuY292ZXJpbmdab29tTGV2ZWwoe3RpbGVTaXplOnR8fHRoaXMuX3NvdXJjZS50aWxlU2l6ZSxyb3VuZFpvb206dGhpcy5fc291cmNlLnJvdW5kWm9vbSYmIWl9KSxzPU1hdGgubWluKG8sdGhpcy5fc291cmNlLm1heHpvb20pLGE9ZS5leHRlbmRUaWxlQ292ZXJGb3JTaGFkb3dzKG4scixzKTtmb3IoY29uc3QgZSBvZiBhKXRoaXMuX3NoYWRvd0Nhc3RlclRpbGVzW2Uua2V5XT0hMCxuLnB1c2goZSk7fWNvbnN0IG89dGhpcy5fdXBkYXRlUmV0YWluZWRUaWxlcyhuKTtpZihPeCh0aGlzLl9zb3VyY2UudHlwZSkmJjAhPT1uLmxlbmd0aCl7Y29uc3QgZT17fSx0PXt9LGk9T2JqZWN0LmtleXMobyk7Zm9yKGNvbnN0IHIgb2YgaSl7Y29uc3QgaT1vW3JdLG49dGhpcy5fdGlsZXNbcl07aWYoIW58fG4uZmFkZUVuZFRpbWUmJm4uZmFkZUVuZFRpbWU8PWR0Lm5vdygpKWNvbnRpbnVlO2NvbnN0IHM9dGhpcy5maW5kTG9hZGVkUGFyZW50KGksTWF0aC5tYXgoaS5vdmVyc2NhbGVkWi1MeC5tYXhPdmVyem9vbWluZyx0aGlzLl9zb3VyY2UubWluem9vbSkpO3MmJih0aGlzLl9hZGRUaWxlKHMudGlsZUlEKSxlW3MudGlsZUlELmtleV09cy50aWxlSUQpLHRbcl09aTt9Y29uc3Qgcj1uW24ubGVuZ3RoLTFdLm92ZXJzY2FsZWRaO2Zvcihjb25zdCBlIGluIHRoaXMuX3RpbGVzKXtjb25zdCBpPXRoaXMuX3RpbGVzW2VdO2lmKG9bZV18fCFpLmhhc0RhdGEoKSljb250aW51ZTtsZXQgbj1pLnRpbGVJRDtmb3IoO24ub3ZlcnNjYWxlZFo+cjspe249bi5zY2FsZWRUbyhuLm92ZXJzY2FsZWRaLTEpO2NvbnN0IHI9dGhpcy5fdGlsZXNbbi5rZXldO2lmKHImJnIuaGFzRGF0YSgpJiZ0W24ua2V5XSl7b1tlXT1pLnRpbGVJRDticmVha319fWZvcihjb25zdCB0IGluIGUpb1t0XXx8KHRoaXMuX2NvdmVyZWRUaWxlc1t0XT0hMCxvW3RdPWVbdF0pO31mb3IoY29uc3QgZSBpbiBvKXRoaXMuX3RpbGVzW2VdLmNsZWFyRmFkZUhvbGQoKTtjb25zdCBzPWZ1bmN0aW9uKGUsdCl7Y29uc3QgaT1bXTtmb3IoY29uc3QgciBpbiBlKXIgaW4gdHx8aS5wdXNoKHIpO3JldHVybiBpfSh0aGlzLl90aWxlcyxvKTtmb3IoY29uc3QgZSBvZiBzKXtjb25zdCB0PXRoaXMuX3RpbGVzW2VdO3QuaGFzU3ltYm9sQnVja2V0cyYmIXQuaG9sZGluZ0ZvckZhZGUoKT90LnNldEhvbGREdXJhdGlvbih0aGlzLm1hcC5fZmFkZUR1cmF0aW9uKTp0Lmhhc1N5bWJvbEJ1Y2tldHMmJiF0LnN5bWJvbEZhZGVGaW5pc2hlZCgpfHx0aGlzLl9yZW1vdmVUaWxlKCtlKTt9dGhpcy5fdXBkYXRlTG9hZGVkUGFyZW50VGlsZUNhY2hlKCksdGhpcy5fb25seVN5bWJvbHMmJnRoaXMuX3NvdXJjZS5hZnRlclVwZGF0ZSYmdGhpcy5fc291cmNlLmFmdGVyVXBkYXRlKCk7fXJlbGVhc2VTeW1ib2xGYWRlVGlsZXMoKXtmb3IoY29uc3QgZSBpbiB0aGlzLl90aWxlcyl0aGlzLl90aWxlc1tlXS5ob2xkaW5nRm9yRmFkZSgpJiZ0aGlzLl9yZW1vdmVUaWxlKCtlKTt9X3VwZGF0ZVJldGFpbmVkVGlsZXMoZSl7Y29uc3QgdD17fTtpZigwPT09ZS5sZW5ndGgpcmV0dXJuIHQ7Y29uc3QgaT17fSxyPWUucmVkdWNlKCgoZSx0KT0+TWF0aC5taW4oZSx0Lm92ZXJzY2FsZWRaKSksMS8wKSxuPWVbMF0ub3ZlcnNjYWxlZFosbz1NYXRoLm1heChuLUx4Lm1heE92ZXJ6b29taW5nLHRoaXMuX3NvdXJjZS5taW56b29tKSxzPU1hdGgubWF4KG4rTHgubWF4VW5kZXJ6b29taW5nLHRoaXMuX3NvdXJjZS5taW56b29tKSxhPXt9O2Zvcihjb25zdCBpIG9mIGUpe2NvbnN0IGU9dGhpcy5fYWRkVGlsZShpKTt0W2kua2V5XT1pLGUuaGFzRGF0YSgpfHxyPHRoaXMuX3NvdXJjZS5tYXh6b29tJiYoYVtpLmtleV09aSk7fXRoaXMuX3JldGFpbkxvYWRlZENoaWxkcmVuKGEscixzLHQpO2Zvcihjb25zdCByIG9mIGUpe2xldCBlPXRoaXMuX3RpbGVzW3Iua2V5XTtpZihlLmhhc0RhdGEoKSljb250aW51ZTtpZihyLmNhbm9uaWNhbC56Pj10aGlzLl9zb3VyY2UubWF4em9vbSl7Y29uc3QgZT1yLmNoaWxkcmVuKHRoaXMuX3NvdXJjZS5tYXh6b29tKVswXSxpPXRoaXMuZ2V0VGlsZShlKTtpZihpJiZpLmhhc0RhdGEoKSl7dFtlLmtleV09ZTtjb250aW51ZX19ZWxzZSB7Y29uc3QgZT1yLmNoaWxkcmVuKHRoaXMuX3NvdXJjZS5tYXh6b29tKTtpZih0W2VbMF0ua2V5XSYmdFtlWzFdLmtleV0mJnRbZVsyXS5rZXldJiZ0W2VbM10ua2V5XSljb250aW51ZX1sZXQgbj1lLndhc1JlcXVlc3RlZCgpO2ZvcihsZXQgcz1yLm92ZXJzY2FsZWRaLTE7cz49bzstLXMpe2NvbnN0IG89ci5zY2FsZWRUbyhzKTtpZihpW28ua2V5XSlicmVhaztpZihpW28ua2V5XT0hMCxlPXRoaXMuZ2V0VGlsZShvKSwhZSYmbiYmKGU9dGhpcy5fYWRkVGlsZShvKSksZSYmKHRbby5rZXldPW8sbj1lLndhc1JlcXVlc3RlZCgpLGUuaGFzRGF0YSgpKSlicmVha319cmV0dXJuIHR9X3VwZGF0ZUxvYWRlZFBhcmVudFRpbGVDYWNoZSgpe3RoaXMuX2xvYWRlZFBhcmVudFRpbGVzPXt9O2Zvcihjb25zdCBlIGluIHRoaXMuX3RpbGVzKXtjb25zdCB0PVtdO2xldCBpLHI9dGhpcy5fdGlsZXNbZV0udGlsZUlEO2Zvcig7ci5vdmVyc2NhbGVkWj4wOyl7aWYoci5rZXkgaW4gdGhpcy5fbG9hZGVkUGFyZW50VGlsZXMpe2k9dGhpcy5fbG9hZGVkUGFyZW50VGlsZXNbci5rZXldO2JyZWFrfXQucHVzaChyLmtleSk7Y29uc3QgZT1yLnNjYWxlZFRvKHIub3ZlcnNjYWxlZFotMSk7aWYoaT10aGlzLl9nZXRMb2FkZWRUaWxlKGUpLGkpYnJlYWs7cj1lO31mb3IoY29uc3QgZSBvZiB0KXRoaXMuX2xvYWRlZFBhcmVudFRpbGVzW2VdPWk7fX1fYWRkVGlsZShlKXtsZXQgdD10aGlzLl90aWxlc1tlLmtleV07aWYodClyZXR1cm4gITAhPT10LmlzRXh0cmFTaGFkb3dDYXN0ZXJ8fCEhdGhpcy5fc2hhZG93Q2FzdGVyVGlsZXNbZS5rZXldfHx0aGlzLl9yZWxvYWRUaWxlKGUua2V5LFwicmVsb2FkaW5nXCIpLHQ7dD10aGlzLl9jYWNoZS5nZXRBbmRSZW1vdmUoZSksdCYmKHRoaXMuX3NldFRpbGVSZWxvYWRUaW1lcihlLmtleSx0KSx0LnRpbGVJRD1lLHRoaXMuX3N0YXRlLmluaXRpYWxpemVUaWxlU3RhdGUodCx0aGlzLm1hcD90aGlzLm1hcC5wYWludGVyOm51bGwpLHRoaXMuX2NhY2hlVGltZXJzW2Uua2V5XSYmKGNsZWFyVGltZW91dCh0aGlzLl9jYWNoZVRpbWVyc1tlLmtleV0pLGRlbGV0ZSB0aGlzLl9jYWNoZVRpbWVyc1tlLmtleV0sdGhpcy5fc2V0VGlsZVJlbG9hZFRpbWVyKGUua2V5LHQpKSk7Y29uc3QgaT1Cb29sZWFuKHQpO2lmKCFpKXtjb25zdCBpPXRoaXMubWFwP3RoaXMubWFwLnBhaW50ZXI6bnVsbDt0PW5ldyBPeShlLHRoaXMuX3NvdXJjZS50aWxlU2l6ZSplLm92ZXJzY2FsZUZhY3RvcigpLHRoaXMudHJhbnNmb3JtLnRpbGVab29tLGksdGhpcy5faXNSYXN0ZXIpLHRoaXMuX2xvYWRUaWxlKHQsdGhpcy5fdGlsZUxvYWRlZC5iaW5kKHRoaXMsdCxlLmtleSx0LnN0YXRlKSk7fXJldHVybiB0Pyh0LnVzZXMrKyx0aGlzLl90aWxlc1tlLmtleV09dCxpfHx0aGlzLl9zb3VyY2UuZmlyZShuZXcgSXQoXCJkYXRhbG9hZGluZ1wiLHt0aWxlOnQsY29vcmQ6dC50aWxlSUQsZGF0YVR5cGU6XCJzb3VyY2VcIn0pKSx0KTpudWxsfV9zZXRUaWxlUmVsb2FkVGltZXIoZSx0KXtlIGluIHRoaXMuX3RpbWVycyYmKGNsZWFyVGltZW91dCh0aGlzLl90aW1lcnNbZV0pLGRlbGV0ZSB0aGlzLl90aW1lcnNbZV0pO2NvbnN0IGk9dC5nZXRFeHBpcnlUaW1lb3V0KCk7aSYmKHRoaXMuX3RpbWVyc1tlXT1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuX3JlbG9hZFRpbGUoZSxcImV4cGlyZWRcIiksZGVsZXRlIHRoaXMuX3RpbWVyc1tlXTt9KSxpKSk7fV9yZW1vdmVUaWxlKGUpe2NvbnN0IHQ9dGhpcy5fdGlsZXNbZV07dCYmKHQudXNlcy0tLGRlbGV0ZSB0aGlzLl90aWxlc1tlXSx0aGlzLl90aW1lcnNbZV0mJihjbGVhclRpbWVvdXQodGhpcy5fdGltZXJzW2VdKSxkZWxldGUgdGhpcy5fdGltZXJzW2VdKSx0LnVzZXM+MHx8KHQuaGFzRGF0YSgpJiZcInJlbG9hZGluZ1wiIT09dC5zdGF0ZT90aGlzLl9jYWNoZS5hZGQodC50aWxlSUQsdCx0LmdldEV4cGlyeVRpbWVvdXQoKSk6KHQuYWJvcnRlZD0hMCx0aGlzLl9hYm9ydFRpbGUodCksdGhpcy5fdW5sb2FkVGlsZSh0KSkpKTt9Y2xlYXJUaWxlcygpe3RoaXMuX3Nob3VsZFJlbG9hZE9uUmVzdW1lPSExLHRoaXMuX3BhdXNlZD0hMTtmb3IoY29uc3QgZSBpbiB0aGlzLl90aWxlcyl0aGlzLl9yZW1vdmVUaWxlKCtlKTt0aGlzLl9zb3VyY2UuX2NsZWFyJiZ0aGlzLl9zb3VyY2UuX2NsZWFyKCksdGhpcy5fY2FjaGUucmVzZXQoKSx0aGlzLm1hcCYmdGhpcy51c2VkRm9yVGVycmFpbiYmdGhpcy5tYXAucGFpbnRlci50ZXJyYWluJiZ0aGlzLm1hcC5wYWludGVyLnRlcnJhaW4ucmVzZXRUaWxlTG9va3VwQ2FjaGUodGhpcy5pZCk7fXRpbGVzSW4oZSx0LGkpe2NvbnN0IHI9W10sbj10aGlzLnRyYW5zZm9ybTtpZighbilyZXR1cm4gcjtjb25zdCBvPVwiZ2xvYmVcIj09PW4ucHJvamVjdGlvbi5uYW1lLHM9S2Qobi5jZW50ZXIubG5nKTtmb3IoY29uc3QgYSBpbiB0aGlzLl90aWxlcyl7Y29uc3QgbD10aGlzLl90aWxlc1thXTtpZihpJiZsLmNsZWFyUXVlcnlEZWJ1Z1ZpeigpLGwuaG9sZGluZ0ZvckZhZGUoKSljb250aW51ZTtsZXQgYztpZihvKXtjb25zdCBlPWwudGlsZUlELmNhbm9uaWNhbDtpZigwPT09ZS56KXtjb25zdCB0PVtNYXRoLmFicyh6KHMsLi4uQngoZSwtMSkpLXMpLE1hdGguYWJzKHoocywuLi5CeChlLDEpKS1zKV07Yz1bMCwyKnQuaW5kZXhPZihNYXRoLm1pbiguLi50KSktMV07fWVsc2Uge2NvbnN0IHQ9W01hdGguYWJzKHoocywuLi5CeChlLC0xKSktcyksTWF0aC5hYnMoeihzLC4uLkJ4KGUsMCkpLXMpLE1hdGguYWJzKHoocywuLi5CeChlLDEpKS1zKV07Yz1bdC5pbmRleE9mKE1hdGgubWluKC4uLnQpKS0xXTt9fWVsc2UgYz1bMF07Zm9yKGNvbnN0IGkgb2YgYyl7Y29uc3Qgbz1lLmNvbnRhaW5zVGlsZShsLG4sdCxpKTtvJiZyLnB1c2gobyk7fX1yZXR1cm4gcn1nZXRTaGFkb3dDYXN0ZXJDb29yZGluYXRlcygpe3JldHVybiB0aGlzLl9nZXRSZW5kZXJhYmxlQ29vcmRpbmF0ZXMoITEsITApfWdldFZpc2libGVDb29yZGluYXRlcyhlKXtyZXR1cm4gdGhpcy5fZ2V0UmVuZGVyYWJsZUNvb3JkaW5hdGVzKGUpfV9nZXRSZW5kZXJhYmxlQ29vcmRpbmF0ZXMoZSx0KXtjb25zdCBpPXRoaXMuZ2V0UmVuZGVyYWJsZUlkcyhlLHQpLm1hcCgoZT0+dGhpcy5fdGlsZXNbZV0udGlsZUlEKSkscj1cImdsb2JlXCI9PT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWU7Zm9yKGNvbnN0IGUgb2YgaSllLnByb2pNYXRyaXg9dGhpcy50cmFuc2Zvcm0uY2FsY3VsYXRlUHJvak1hdHJpeChlLnRvVW53cmFwcGVkKCkpLGUuZXhwYW5kZWRQcm9qTWF0cml4PXI/dGhpcy50cmFuc2Zvcm0uY2FsY3VsYXRlUHJvak1hdHJpeChlLnRvVW53cmFwcGVkKCksITEsITApOmUucHJvak1hdHJpeDtyZXR1cm4gaX1zb3J0Q29vcmRpbmF0ZXNCeURpc3RhbmNlKGUpe2NvbnN0IHQ9ZS5zbGljZSgpLGk9dGhpcy50cmFuc2Zvcm0uX2NhbWVyYS5wb3NpdGlvbixyPXRoaXMudHJhbnNmb3JtLl9jYW1lcmEuZm9yd2FyZCgpLG49e307Zm9yKGNvbnN0IGUgb2YgdCl7Y29uc3QgdD0xLygxPDxlLmNhbm9uaWNhbC56KTtuW2Uua2V5XT0oKGUuY2Fub25pY2FsLngrLjUpKnQrZS53cmFwLWlbMF0pKnJbMF0rKChlLmNhbm9uaWNhbC55Ky41KSp0LWlbMV0pKnJbMV0taVsyXSpyWzJdO31yZXR1cm4gdC5zb3J0KCgoZSx0KT0+bltlLmtleV0tblt0LmtleV0pKSx0fWhhc1RyYW5zaXRpb24oKXtpZih0aGlzLl9zb3VyY2UuaGFzVHJhbnNpdGlvbigpKXJldHVybiAhMDtpZihPeCh0aGlzLl9zb3VyY2UudHlwZSkpZm9yKGNvbnN0IGUgaW4gdGhpcy5fdGlsZXMpe2NvbnN0IHQ9dGhpcy5fdGlsZXNbZV07aWYodm9pZCAwIT09dC5mYWRlRW5kVGltZSYmdC5mYWRlRW5kVGltZT49ZHQubm93KCkpcmV0dXJuICEwfXJldHVybiAhMX1zZXRGZWF0dXJlU3RhdGUoZSx0LGkpe3RoaXMuX3N0YXRlLnVwZGF0ZVN0YXRlKGU9ZXx8XCJfZ2VvanNvblRpbGVMYXllclwiLHQsaSk7fXJlbW92ZUZlYXR1cmVTdGF0ZShlLHQsaSl7dGhpcy5fc3RhdGUucmVtb3ZlRmVhdHVyZVN0YXRlKGU9ZXx8XCJfZ2VvanNvblRpbGVMYXllclwiLHQsaSk7fWdldEZlYXR1cmVTdGF0ZShlLHQpe3JldHVybiB0aGlzLl9zdGF0ZS5nZXRTdGF0ZShlPWV8fFwiX2dlb2pzb25UaWxlTGF5ZXJcIix0KX1zZXREZXBlbmRlbmNpZXMoZSx0LGkpe2NvbnN0IHI9dGhpcy5fdGlsZXNbZV07ciYmci5zZXREZXBlbmRlbmNpZXModCxpKTt9cmVsb2FkVGlsZXNGb3JEZXBlbmRlbmNpZXMoZSx0KXtmb3IoY29uc3QgaSBpbiB0aGlzLl90aWxlcyl0aGlzLl90aWxlc1tpXS5oYXNEZXBlbmRlbmN5KGUsdCkmJnRoaXMuX3JlbG9hZFRpbGUoK2ksXCJyZWxvYWRpbmdcIik7dGhpcy5fY2FjaGUuZmlsdGVyKChpPT4haS5oYXNEZXBlbmRlbmN5KGUsdCkpKTt9X3ByZWxvYWRUaWxlcyhlLHQpe2lmKCF0aGlzLl9zb3VyY2VMb2FkZWQpe2NvbnN0IGk9KCk9Pnt0aGlzLl9zb3VyY2VMb2FkZWQmJih0aGlzLl9zb3VyY2Uub2ZmKFwiZGF0YVwiLGkpLHRoaXMuX3ByZWxvYWRUaWxlcyhlLHQpKTt9O3JldHVybiB2b2lkIHRoaXMuX3NvdXJjZS5vbihcImRhdGFcIixpKX1jb25zdCBpPW5ldyBNYXAscj1BcnJheS5pc0FycmF5KGUpP2U6W2VdLG49dGhpcy5tYXAucGFpbnRlci50ZXJyYWluLG89dGhpcy51c2VkRm9yVGVycmFpbiYmbj9uLmdldFNjYWxlZERlbVRpbGVTaXplKCk6dGhpcy5fc291cmNlLnRpbGVTaXplO2Zvcihjb25zdCBlIG9mIHIpe2NvbnN0IHQ9ZS5jb3ZlcmluZ1RpbGVzKHt0aWxlU2l6ZTpvLG1pbnpvb206dGhpcy5fc291cmNlLm1pbnpvb20sbWF4em9vbTp0aGlzLl9zb3VyY2UubWF4em9vbSxyb3VuZFpvb206dGhpcy5fc291cmNlLnJvdW5kWm9vbSYmIXRoaXMudXNlZEZvclRlcnJhaW4scmVwYXJzZU92ZXJzY2FsZWQ6dGhpcy5fc291cmNlLnJlcGFyc2VPdmVyc2NhbGVkLGlzVGVycmFpbkRFTTp0aGlzLnVzZWRGb3JUZXJyYWlufSk7Zm9yKGNvbnN0IGUgb2YgdClpLnNldChlLmtleSxlKTt0aGlzLnVzZWRGb3JUZXJyYWluJiZlLnVwZGF0ZUVsZXZhdGlvbighMSk7fVIoQXJyYXkuZnJvbShpLnZhbHVlcygpKSwoKGUsdCk9Pntjb25zdCBpPW5ldyBPeShlLHRoaXMuX3NvdXJjZS50aWxlU2l6ZSplLm92ZXJzY2FsZUZhY3RvcigpLHRoaXMudHJhbnNmb3JtLnRpbGVab29tLHRoaXMubWFwLnBhaW50ZXIsdGhpcy5faXNSYXN0ZXIpO3RoaXMuX2xvYWRUaWxlKGksKGU9PntcInJhc3Rlci1kZW1cIj09PXRoaXMuX3NvdXJjZS50eXBlJiZpLmRlbSYmdGhpcy5fYmFja2ZpbGxERU0oaSksdChlLGkpO30pKTt9KSx0KTt9fWZ1bmN0aW9uIGt4KGUsdCl7Y29uc3QgaT1NYXRoLmFicygyKmUud3JhcCktKyhlLndyYXA8MCkscj1NYXRoLmFicygyKnQud3JhcCktKyh0LndyYXA8MCk7cmV0dXJuIGUub3ZlcnNjYWxlZFotdC5vdmVyc2NhbGVkWnx8ci1pfHx0LmNhbm9uaWNhbC55LWUuY2Fub25pY2FsLnl8fHQuY2Fub25pY2FsLngtZS5jYW5vbmljYWwueH1mdW5jdGlvbiBPeChlKXtyZXR1cm4gXCJyYXN0ZXJcIj09PWV8fFwiaW1hZ2VcIj09PWV8fFwidmlkZW9cIj09PWV8fFwiY3VzdG9tXCI9PT1lfWZ1bmN0aW9uIEJ4KGUsdCl7Y29uc3QgaT0xPDxlLno7cmV0dXJuIFtlLngvaSt0LChlLngrMSkvaSt0XX1MeC5tYXhPdmVyem9vbWluZz0xMCxMeC5tYXhVbmRlcnpvb21pbmc9Mztjb25zdCBGeD1JYShbe25hbWU6XCJhX3Bvc18zZlwiLGNvbXBvbmVudHM6Myx0eXBlOlwiRmxvYXQzMlwifV0pLE54PUlhKFt7bmFtZTpcImFfY29sb3JfM2ZcIixjb21wb25lbnRzOjMsdHlwZTpcIkZsb2F0MzJcIn1dKSxVeD1JYShbe25hbWU6XCJhX2NvbG9yXzRmXCIsY29tcG9uZW50czo0LHR5cGU6XCJGbG9hdDMyXCJ9XSksVng9SWEoW3tuYW1lOlwiYV91dl8yZlwiLGNvbXBvbmVudHM6Mix0eXBlOlwiRmxvYXQzMlwifV0pLGp4PUlhKFt7bmFtZTpcImFfbm9ybWFsXzNmXCIsY29tcG9uZW50czozLHR5cGU6XCJGbG9hdDMyXCJ9XSksR3g9SWEoW3tuYW1lOlwiYV9ub3JtYWxfbWF0cml4MFwiLGNvbXBvbmVudHM6NCx0eXBlOlwiRmxvYXQzMlwifSx7bmFtZTpcImFfbm9ybWFsX21hdHJpeDFcIixjb21wb25lbnRzOjQsdHlwZTpcIkZsb2F0MzJcIn0se25hbWU6XCJhX25vcm1hbF9tYXRyaXgyXCIsY29tcG9uZW50czo0LHR5cGU6XCJGbG9hdDMyXCJ9LHtuYW1lOlwiYV9ub3JtYWxfbWF0cml4M1wiLGNvbXBvbmVudHM6NCx0eXBlOlwiRmxvYXQzMlwifV0pLHF4PUlhKFt7bmFtZTpcImFfcGJyXCIsY29tcG9uZW50czo0LHR5cGU6XCJVaW50MTZcIn0se25hbWU6XCJhX2hlaWdodEJhc2VkRW1pc3NpdmVTdHJlbmd0aFwiLGNvbXBvbmVudHM6Myx0eXBlOlwiRmxvYXQzMlwifV0pO2NsYXNzIFp4e2NvbnN0cnVjdG9yKGU9MCx0PTAsaT0wLHI9MCl7aWYoaXNOYU4oZSl8fGU8MHx8aXNOYU4odCl8fHQ8MHx8aXNOYU4oaSl8fGk8MHx8aXNOYU4ocil8fHI8MCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHZhbHVlIGZvciBlZGdlLWluc2V0cywgdG9wLCBib3R0b20sIGxlZnQgYW5kIHJpZ2h0IG11c3QgYWxsIGJlIG51bWJlcnNcIik7dGhpcy50b3A9ZSx0aGlzLmJvdHRvbT10LHRoaXMubGVmdD1pLHRoaXMucmlnaHQ9cjt9aW50ZXJwb2xhdGUoZSx0LGkpe3JldHVybiBudWxsIT10LnRvcCYmbnVsbCE9ZS50b3AmJih0aGlzLnRvcD1LcihlLnRvcCx0LnRvcCxpKSksbnVsbCE9dC5ib3R0b20mJm51bGwhPWUuYm90dG9tJiYodGhpcy5ib3R0b209S3IoZS5ib3R0b20sdC5ib3R0b20saSkpLG51bGwhPXQubGVmdCYmbnVsbCE9ZS5sZWZ0JiYodGhpcy5sZWZ0PUtyKGUubGVmdCx0LmxlZnQsaSkpLG51bGwhPXQucmlnaHQmJm51bGwhPWUucmlnaHQmJih0aGlzLnJpZ2h0PUtyKGUucmlnaHQsdC5yaWdodCxpKSksdGhpc31nZXRDZW50ZXIoZSx0KXtjb25zdCBpPXooKHRoaXMubGVmdCtlLXRoaXMucmlnaHQpLzIsMCxlKSxyPXooKHRoaXMudG9wK3QtdGhpcy5ib3R0b20pLzIsMCx0KTtyZXR1cm4gbmV3IHkoaSxyKX1lcXVhbHMoZSl7cmV0dXJuIHRoaXMudG9wPT09ZS50b3AmJnRoaXMuYm90dG9tPT09ZS5ib3R0b20mJnRoaXMubGVmdD09PWUubGVmdCYmdGhpcy5yaWdodD09PWUucmlnaHR9Y2xvbmUoKXtyZXR1cm4gbmV3IFp4KHRoaXMudG9wLHRoaXMuYm90dG9tLHRoaXMubGVmdCx0aGlzLnJpZ2h0KX10b0pTT04oKXtyZXR1cm4ge3RvcDp0aGlzLnRvcCxib3R0b206dGhpcy5ib3R0b20sbGVmdDp0aGlzLmxlZnQscmlnaHQ6dGhpcy5yaWdodH19fWZ1bmN0aW9uICR4KGUsdCl7Y29uc3QgaT1uZShlLDMpO0F1LmZyb21RdWF0KGUsdCksb2UoZSwzLGkpO31mdW5jdGlvbiBXeChlLHQpe2NvbnN0IGk9SXUuaWRlbnRpdHkoW10pO3JldHVybiBJdS5yb3RhdGVaKGksaSwtdCksSXUucm90YXRlWChpLGksLWUpLGl9ZnVuY3Rpb24gSHgoZSx0KXtjb25zdCBpPVtlWzBdLGVbMV0sMF0scj1bdFswXSx0WzFdLDBdO2lmKER1Lmxlbmd0aChpKT49MWUtMTUpe2NvbnN0IGU9RHUubm9ybWFsaXplKFtdLGkpO0R1LnNjYWxlKHIsZSxEdS5kb3QocixlKSksdFswXT1yWzBdLHRbMV09clsxXTt9Y29uc3Qgbj1EdS5jcm9zcyhbXSx0LGUpO2lmKER1LmxlbihuKTwxZS0xNSlyZXR1cm4gbnVsbDtjb25zdCBvPU1hdGguYXRhbjIoLW5bMV0sblswXSk7cmV0dXJuIFd4KE1hdGguYXRhbjIoTWF0aC5zcXJ0KGVbMF0qZVswXStlWzFdKmVbMV0pLC1lWzJdKSxvKX1jbGFzcyBYeHtjb25zdHJ1Y3RvcihlLHQpe3RoaXMucG9zaXRpb249ZSx0aGlzLm9yaWVudGF0aW9uPXQ7fWdldCBwb3NpdGlvbigpe3JldHVybiB0aGlzLl9wb3NpdGlvbn1zZXQgcG9zaXRpb24oZSl7aWYoZSl7Y29uc3QgdD1lIGluc3RhbmNlb2YgbHA/ZTpuZXcgbHAoZVswXSxlWzFdLGVbMl0pO3RoaXMuX3JlbmRlcldvcmxkQ29waWVzJiYodC54PUQodC54LDAsMSkpLHRoaXMuX3Bvc2l0aW9uPXQ7fWVsc2UgdGhpcy5fcG9zaXRpb249bnVsbDt9bG9va0F0UG9pbnQoZSx0KXtpZih0aGlzLm9yaWVudGF0aW9uPW51bGwsIXRoaXMucG9zaXRpb24pcmV0dXJuO2NvbnN0IGk9dGhpcy5wb3NpdGlvbixyPXRoaXMuX2VsZXZhdGlvbj90aGlzLl9lbGV2YXRpb24uZ2V0QXRQb2ludE9yWmVybyhscC5mcm9tTG5nTGF0KGUpKTowLG49bHAuZnJvbUxuZ0xhdChlLHIpLG89W24ueC1pLngsbi55LWkueSxuLnotaS56XTt0fHwodD1bMCwwLDFdKSx0WzJdPU1hdGguYWJzKHRbMl0pLHRoaXMub3JpZW50YXRpb249SHgobyx0KTt9c2V0UGl0Y2hCZWFyaW5nKGUsdCl7dGhpcy5vcmllbnRhdGlvbj1XeCh3KGUpLHcoLXQpKTt9fWNsYXNzIFl4e2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fdHJhbnNmb3JtPUF1LmlkZW50aXR5KFtdKSx0aGlzLm9yaWVudGF0aW9uPXQsdGhpcy5wb3NpdGlvbj1lO31nZXQgbWVyY2F0b3JQb3NpdGlvbigpe2NvbnN0IGU9dGhpcy5wb3NpdGlvbjtyZXR1cm4gbmV3IGxwKGVbMF0sZVsxXSxlWzJdKX1nZXQgcG9zaXRpb24oKXtjb25zdCBlPW5lKHRoaXMuX3RyYW5zZm9ybSwzKTtyZXR1cm4gW2VbMF0sZVsxXSxlWzJdXX1zZXQgcG9zaXRpb24oZSl7dmFyIHQ7ZSYmb2UodGhpcy5fdHJhbnNmb3JtLDMsWyh0PWUpWzBdLHRbMV0sdFsyXSwxXSk7fWdldCBvcmllbnRhdGlvbigpe3JldHVybiB0aGlzLl9vcmllbnRhdGlvbn1zZXQgb3JpZW50YXRpb24oZSl7dGhpcy5fb3JpZW50YXRpb249ZXx8SXUuaWRlbnRpdHkoW10pLGUmJiR4KHRoaXMuX3RyYW5zZm9ybSx0aGlzLl9vcmllbnRhdGlvbik7fWdldFBpdGNoQmVhcmluZygpe2NvbnN0IGU9dGhpcy5mb3J3YXJkKCksdD10aGlzLnJpZ2h0KCk7cmV0dXJuIHtiZWFyaW5nOk1hdGguYXRhbjIoLXRbMV0sdFswXSkscGl0Y2g6TWF0aC5hdGFuMihNYXRoLnNxcnQoZVswXSplWzBdK2VbMV0qZVsxXSksLWVbMl0pfX1zZXRQaXRjaEJlYXJpbmcoZSx0KXt0aGlzLl9vcmllbnRhdGlvbj1XeChlLHQpLCR4KHRoaXMuX3RyYW5zZm9ybSx0aGlzLl9vcmllbnRhdGlvbik7fWZvcndhcmQoKXtjb25zdCBlPW5lKHRoaXMuX3RyYW5zZm9ybSwyKTtyZXR1cm4gWy1lWzBdLC1lWzFdLC1lWzJdXX11cCgpe2NvbnN0IGU9bmUodGhpcy5fdHJhbnNmb3JtLDEpO3JldHVybiBbLWVbMF0sLWVbMV0sLWVbMl1dfXJpZ2h0KCl7Y29uc3QgZT1uZSh0aGlzLl90cmFuc2Zvcm0sMCk7cmV0dXJuIFtlWzBdLGVbMV0sZVsyXV19Z2V0Q2FtZXJhVG9Xb3JsZChlLHQpe2NvbnN0IGk9bmV3IEZsb2F0NjRBcnJheSgxNik7cmV0dXJuIEF1LmludmVydChpLHRoaXMuZ2V0V29ybGRUb0NhbWVyYShlLHQpKSxpfWdldENhbWVyYVRvV29ybGRNZXJjYXRvcigpe3JldHVybiB0aGlzLl90cmFuc2Zvcm19Z2V0V29ybGRUb0NhbWVyYVBvc2l0aW9uKGUsdCxpKXtjb25zdCByPXRoaXMucG9zaXRpb247RHUuc2NhbGUocixyLC1lKTtjb25zdCBuPW5ldyBGbG9hdDY0QXJyYXkoMTYpO3JldHVybiBBdS5mcm9tU2NhbGluZyhuLFtpLGksaV0pLEF1LnRyYW5zbGF0ZShuLG4sciksblsxMF0qPXQsbn1nZXRXb3JsZFRvQ2FtZXJhKGUsdCl7Y29uc3QgaT1uZXcgRmxvYXQ2NEFycmF5KDE2KSxyPW5ldyBGbG9hdDY0QXJyYXkoNCksbj10aGlzLnBvc2l0aW9uO3JldHVybiBJdS5jb25qdWdhdGUocix0aGlzLl9vcmllbnRhdGlvbiksRHUuc2NhbGUobixuLC1lKSxBdS5mcm9tUXVhdChpLHIpLEF1LnRyYW5zbGF0ZShpLGksbiksaVsxXSo9LTEsaVs1XSo9LTEsaVs5XSo9LTEsaVsxM10qPS0xLGlbOF0qPXQsaVs5XSo9dCxpWzEwXSo9dCxpWzExXSo9dCxpfWdldENhbWVyYVRvQ2xpcFBlcnNwZWN0aXZlKGUsdCxpLHIpe2NvbnN0IG49bmV3IEZsb2F0NjRBcnJheSgxNik7cmV0dXJuIEF1LnBlcnNwZWN0aXZlKG4sZSx0LGksciksbn1nZXRDYW1lcmFUb0NsaXBPcnRob2dyYXBoaWMoZSx0LGkscixuLG8pe2NvbnN0IHM9bmV3IEZsb2F0NjRBcnJheSgxNik7cmV0dXJuIEF1Lm9ydGhvKHMsZSx0LGkscixuLG8pLHN9Z2V0RGlzdGFuY2VUb0VsZXZhdGlvbihlLHQ9ITEpe2NvbnN0IGk9MD09PWU/MDpRZChlLHQ/dHAodGhpcy5wb3NpdGlvblsxXSk6dGhpcy5wb3NpdGlvblsxXSkscj10aGlzLmZvcndhcmQoKTtyZXR1cm4gKGktdGhpcy5wb3NpdGlvblsyXSkvclsyXX1jbG9uZSgpe3JldHVybiBuZXcgWXgoWy4uLnRoaXMucG9zaXRpb25dLFsuLi50aGlzLm9yaWVudGF0aW9uXSl9fWZ1bmN0aW9uIEt4KGUsdCl7Y29uc3QgaT1ReChlLnByb2plY3Rpb24sZS56b29tLGUud2lkdGgsZS5oZWlnaHQpLHI9ZnVuY3Rpb24oZSx0LGkscixuKXtjb25zdCBvPW5ldyBXZChpLmxuZy0xODAqZXYsaS5sYXQpLHM9bmV3IFdkKGkubG5nKzE4MCpldixpLmxhdCksYT1lLnByb2plY3Qoby5sbmcsby5sYXQpLGw9ZS5wcm9qZWN0KHMubG5nLHMubGF0KSxjPS1NYXRoLmF0YW4yKGwueS1hLnksbC54LWEueCksaD1scC5mcm9tTG5nTGF0KGkpO2gueT16KGgueSwtMStldiwxLWV2KTtjb25zdCB1PWgudG9MbmdMYXQoKSxkPWUucHJvamVjdCh1LmxuZyx1LmxhdCkscD1scC5mcm9tTG5nTGF0KHUpO3AueCs9ZXY7Y29uc3QgZj1wLnRvTG5nTGF0KCksbT1lLnByb2plY3QoZi5sbmcsZi5sYXQpLF89aXYobS54LWQueCxtLnktZC55LGMpLGc9bHAuZnJvbUxuZ0xhdCh1KTtnLnkrPWV2O2NvbnN0IHk9Zy50b0xuZ0xhdCgpLHg9ZS5wcm9qZWN0KHkubG5nLHkubGF0KSx2PWl2KHgueC1kLngseC55LWQueSxjKSxiPU1hdGguYWJzKF8ueCkvTWF0aC5hYnModi55KSx3PUF1LmlkZW50aXR5KFtdKTtBdS5yb3RhdGVaKHcsdywtYyooMS0obj8wOnIpKSk7Y29uc3QgVD1BdS5pZGVudGl0eShbXSk7cmV0dXJuIEF1LnNjYWxlKFQsVCxbMSwxLSgxLWIpKnIsMV0pLFRbNF09LXYueC92LnkqcixBdS5yb3RhdGVaKFQsVCxjKSxBdS5tdWx0aXBseShULHcsVCksVH0oZS5wcm9qZWN0aW9uLDAsZS5jZW50ZXIsaSx0KSxuPUp4KGUpO3JldHVybiBBdS5zY2FsZShyLHIsW24sbiwxXSkscn1mdW5jdGlvbiBKeChlKXtjb25zdCB0PWUucHJvamVjdGlvbixpPVF4KGUucHJvamVjdGlvbixlLnpvb20sZS53aWR0aCxlLmhlaWdodCkscj10dih0LGUuY2VudGVyKSxuPXR2KHQsV2QuY29udmVydCh0LmNlbnRlcikpO3JldHVybiBNYXRoLnBvdygyLHIqaSsoMS1pKSpuKX1mdW5jdGlvbiBReChlLHQsaSxyLG49MS8wKXtjb25zdCBvPWUucmFuZ2U7aWYoIW8pcmV0dXJuIDA7Y29uc3Qgcz1NYXRoLm1pbihuLE1hdGgubWF4KGkscikpLGE9TWF0aC5sb2cocy8xMDI0KS9NYXRoLkxOMjtyZXR1cm4gUChvWzBdK2Esb1sxXSthLHQpfWNvbnN0IGV2PTEvNGU0O2Z1bmN0aW9uIHR2KGUsdCl7Y29uc3QgaT16KHQubGF0LC1ycCxycCkscj1uZXcgV2QodC5sbmctMTgwKmV2LGkpLG49bmV3IFdkKHQubG5nKzE4MCpldixpKSxvPWUucHJvamVjdChyLmxuZyxpKSxzPWUucHJvamVjdChuLmxuZyxpKSxhPWxwLmZyb21MbmdMYXQociksbD1scC5mcm9tTG5nTGF0KG4pLGM9cy54LW8ueCxoPXMueS1vLnksdT1sLngtYS54LGQ9bC55LWEueSxwPU1hdGguc3FydCgodSp1K2QqZCkvKGMqYytoKmgpKTtyZXR1cm4gTWF0aC5sb2cocCkvTWF0aC5MTjJ9ZnVuY3Rpb24gaXYoZSx0LGkpe2NvbnN0IHI9TWF0aC5jb3MoaSksbj1NYXRoLnNpbihpKTtyZXR1cm4ge3g6ZSpyLXQqbix5OmUqbit0KnJ9fWZ1bmN0aW9uIHJ2KGUsdCxpKXtyZXR1cm4gdCooY3IvKGUudGlsZVNpemUqTWF0aC5wb3coMixpLWUudGlsZUlELm92ZXJzY2FsZWRaKSkpfWNvbnN0IG52PXt1bmtub3duOjAsZmxpcFJlcXVpcmVkOjEsZmxpcE5vdFJlcXVpcmVkOjJ9LG92PU1hdGgudGFuKDg1Kk1hdGguUEkvMTgwKTtmdW5jdGlvbiBzdihlLHQsaSxyLG4sbyxzKXtjb25zdCBhPUF1LmNyZWF0ZSgpO2lmKGkpaWYoXCJnbG9iZVwiPT09by5uYW1lKXtjb25zdCBlPWZ1bmN0aW9uKGUsdCl7Y29uc3R7eDppLHk6cn09ZS5wb2ludCxuPXpkKGkscixlLndvcmxkU2l6ZS9lLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsLDAsMCk7cmV0dXJuIEF1Lm11bHRpcGx5KG4sbixTZChmZCh0KSkpfShuLHQpO0F1Lm11bHRpcGx5KGEsYSxlKTt9ZWxzZSB7Y29uc3QgZT1idS5pbnZlcnQoW10scyk7YVswXT1lWzBdLGFbMV09ZVsxXSxhWzRdPWVbMl0sYVs1XT1lWzNdLHJ8fEF1LnJvdGF0ZVooYSxhLG4uYW5nbGUpO31lbHNlIEF1Lm11bHRpcGx5KGEsbi5sYWJlbFBsYW5lTWF0cml4LGUpO3JldHVybiBhfWZ1bmN0aW9uIGF2KGUsdCxpLHIsbixvLHMpe2NvbnN0IGE9c3YoZSx0LGkscixuLG8scyk7cmV0dXJuIFwiZ2xvYmVcIj09PW8ubmFtZSYmaXx8KGFbMl09YVs2XT1hWzEwXT1hWzE0XT0wKSxhfWZ1bmN0aW9uIGx2KGUsdCxpLHIsbixvLHMpe2lmKGkpe2lmKFwiZ2xvYmVcIj09PW8ubmFtZSl7Y29uc3QgYT1zdihlLHQsaSxyLG4sbyxzKTtyZXR1cm4gQXUuaW52ZXJ0KGEsYSksQXUubXVsdGlwbHkoYSxlLGEpLGF9e2NvbnN0IHQ9QXUuY2xvbmUoZSksaT1BdS5pZGVudGl0eShbXSk7cmV0dXJuIGlbMF09c1swXSxpWzFdPXNbMV0saVs0XT1zWzJdLGlbNV09c1szXSxBdS5tdWx0aXBseSh0LHQsaSkscnx8QXUucm90YXRlWih0LHQsLW4uYW5nbGUpLHR9fXJldHVybiBuLmdsQ29vcmRNYXRyaXh9ZnVuY3Rpb24gY3YoZSx0LGkscil7Y29uc3Qgbj1bZSx0LGksMV07aT95dS50cmFuc2Zvcm1NYXQ0KG4sbixyKTp2dihuLG4scik7Y29uc3Qgbz1uWzNdO3JldHVybiBuWzBdLz1vLG5bMV0vPW8sblsyXS89byxufWZ1bmN0aW9uIGh2KGUsdCl7cmV0dXJuIE1hdGgubWluKC41K2UvdCouNSwxLjUpfWZ1bmN0aW9uIHV2KGUsdCl7Y29uc3QgaT1lWzBdL2VbM10scj1lWzFdL2VbM107cmV0dXJuIGk+PS10WzBdJiZpPD10WzBdJiZyPj0tdFsxXSYmcjw9dFsxXX1mdW5jdGlvbiBkdihlLHQsaSxyLG4sbyxzLGEsbCxjKXtjb25zdCBoPWkudHJhbnNmb3JtLHU9cj9lLnRleHRTaXplRGF0YTplLmljb25TaXplRGF0YSxkPW1fKHUsaS50cmFuc2Zvcm0uem9vbSkscD1cImdsb2JlXCI9PT1oLnByb2plY3Rpb24ubmFtZSxmPVsyNTYvaS53aWR0aCoyKzEsMjU2L2kuaGVpZ2h0KjIrMV0sbT1yP2UudGV4dC5keW5hbWljTGF5b3V0VmVydGV4QXJyYXk6ZS5pY29uLmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheTttLmNsZWFyKCk7bGV0IF89bnVsbDtwJiYoXz1yP2UudGV4dC5nbG9iZUV4dFZlcnRleEFycmF5OmUuaWNvbi5nbG9iZUV4dFZlcnRleEFycmF5KTtjb25zdCBnPWUubGluZVZlcnRleEFycmF5LHg9cj9lLnRleHQucGxhY2VkU3ltYm9sQXJyYXk6ZS5pY29uLnBsYWNlZFN5bWJvbEFycmF5LHY9aS50cmFuc2Zvcm0ud2lkdGgvaS50cmFuc2Zvcm0uaGVpZ2h0O2xldCBiLHc9ITE7Zm9yKGxldCByPTA7cjx4Lmxlbmd0aDtyKyspe2NvbnN0IHA9eC5nZXQocikse251bUdseXBoczpULHdyaXRpbmdNb2RlOkV9PXA7aWYoRSE9PUFfLnZlcnRpY2FsfHx3fHxiPT09QV8uaG9yaXpvbnRhbHx8KHc9ITApLGI9RSwocC5oaWRkZW58fEU9PT1BXy52ZXJ0aWNhbCkmJiF3KXt4dihULG0pO2NvbnRpbnVlfXc9ITE7Y29uc3QgTT1uZXcgeShwLnRpbGVBbmNob3JYLHAudGlsZUFuY2hvclkpO2xldHt4OkEseTpTLHo6SX09aC5wcm9qZWN0aW9uLnByb2plY3RUaWxlUG9pbnQoTS54LE0ueSxjLmNhbm9uaWNhbCk7aWYobCl7Y29uc3RbZSx0LGldPWwoTSk7QSs9ZSxTKz10LEkrPWk7fWNvbnN0IEM9W0EsUyxJLDFdO2lmKHl1LnRyYW5zZm9ybU1hdDQoQyxDLHQpLCF1dihDLGYpKXt4dihULG0pO2NvbnRpbnVlfWNvbnN0IHo9Q1szXSxQPWh2KGkudHJhbnNmb3JtLmdldENhbWVyYVRvQ2VudGVyRGlzdGFuY2UoaC5wcm9qZWN0aW9uKSx6KSxEPWZfKHUsZCxwKSxSPXM/RC9QOkQqUCxMPWN2KEEsUyxJLG4pO2lmKExbM108PTApe3h2KFQsbSk7Y29udGludWV9bGV0IGs9e307Y29uc3QgTz1zP251bGw6bCxCPW12KHAsUiwhMSxhLHQsbixvLGUuZ2x5cGhPZmZzZXRBcnJheSxnLG0sXyxMLE0sayx2LE8saC5wcm9qZWN0aW9uLGMscyk7dz1CLnVzZVZlcnRpY2FsLE8mJkIubmVlZHNGbGlwcGluZyYmKGs9e30pLChCLm5vdEVub3VnaFJvb218fHd8fEIubmVlZHNGbGlwcGluZyYmbXYocCxSLCEwLGEsdCxuLG8sZS5nbHlwaE9mZnNldEFycmF5LGcsbSxfLEwsTSxrLHYsTyxoLnByb2plY3Rpb24sYyxzKS5ub3RFbm91Z2hSb29tKSYmeHYoVCxtKTt9cj8oZS50ZXh0LmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShtKSxfJiZlLnRleHQuZ2xvYmVFeHRWZXJ0ZXhCdWZmZXImJmUudGV4dC5nbG9iZUV4dFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKF8pKTooZS5pY29uLmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShtKSxfJiZlLmljb24uZ2xvYmVFeHRWZXJ0ZXhCdWZmZXImJmUuaWNvbi5nbG9iZUV4dFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKF8pKTt9ZnVuY3Rpb24gcHYoZSx0LGkscixuLG8scyxhLGwsYyxoLHUsZCxwLGYsbSl7Y29uc3R7bGluZVN0YXJ0SW5kZXg6XyxnbHlwaFN0YXJ0SW5kZXg6ZyxzZWdtZW50Onl9PWEseD1nK2EubnVtR2x5cGhzLHY9XythLmxpbmVMZW5ndGgsYj10LmdldG9mZnNldFgoZyksdz10LmdldG9mZnNldFgoeC0xKSxUPXl2KGUqYixpLHIsbixvLHMseSxfLHYsbCxjLGgsdSxkLCEwLHAsZixtKTtpZighVClyZXR1cm4gbnVsbDtjb25zdCBFPXl2KGUqdyxpLHIsbixvLHMseSxfLHYsbCxjLGgsdSxkLCEwLHAsZixtKTtyZXR1cm4gRT97Zmlyc3Q6VCxsYXN0OkV9Om51bGx9ZnVuY3Rpb24gZnYoZSx0LGkscil7cmV0dXJuIGU9PT1BXy5ob3Jpem9udGFsJiZNYXRoLmFicyhyKT5NYXRoLmFicyhpKT97dXNlVmVydGljYWw6ITB9OmU9PT1BXy52ZXJ0aWNhbD9yPjA/e25lZWRzRmxpcHBpbmc6ITB9Om51bGw6dCE9PW52LnVua25vd24mJmZ1bmN0aW9uKGUsdCl7cmV0dXJuIDA9PT1lfHxNYXRoLmFicyh0L2UpPm92fShpLHIpP3Q9PT1udi5mbGlwUmVxdWlyZWQ/e25lZWRzRmxpcHBpbmc6ITB9Om51bGw6aTwwP3tuZWVkc0ZsaXBwaW5nOiEwfTpudWxsfWZ1bmN0aW9uIG12KGUsdCxpLHIsbixvLHMsYSxsLGMsaCx1LGQscCxmLG0sXyxnLHgpe2NvbnN0IHY9dC8yNCxiPWUubGluZU9mZnNldFgqdix3PWUubGluZU9mZnNldFkqdix7bGluZVN0YXJ0SW5kZXg6VCxnbHlwaFN0YXJ0SW5kZXg6RSxudW1HbHlwaHM6TSxzZWdtZW50OkEsd3JpdGluZ01vZGU6UyxmbGlwU3RhdGU6SX09ZSxDPVQrZS5saW5lTGVuZ3RoLHo9ZT0+e2lmKGgpe2NvbnN0W3QsaSxyXT1lLnVwLG49Yy5sZW5ndGg7dXkoaCxuKzAsdCxpLHIpLHV5KGgsbisxLHQsaSxyKSx1eShoLG4rMix0LGksciksdXkoaCxuKzMsdCxpLHIpO31jb25zdFt0LGkscl09ZS5wb2ludDtkeShjLHQsaSxyLGUuYW5nbGUpO307aWYoTT4xKXtjb25zdCB0PXB2KHYsYSxiLHcsaSx1LGQsZSxsLG8scCxtLCExLF8sZyx4KTtpZighdClyZXR1cm4ge25vdEVub3VnaFJvb206ITB9O2lmKHImJiFpKXtsZXRbaSxyLG5dPXQuZmlyc3QucG9pbnQsW28sYSxsXT10Lmxhc3QucG9pbnQ7W2kscl09Y3YoaSxyLG4scyksW28sYV09Y3YobyxhLGwscyk7Y29uc3QgYz1mdihTLEksKG8taSkqZixhLXIpO2lmKGUuZmxpcFN0YXRlPWMmJmMubmVlZHNGbGlwcGluZz9udi5mbGlwUmVxdWlyZWQ6bnYuZmxpcE5vdFJlcXVpcmVkLGMpcmV0dXJuIGN9eih0LmZpcnN0KTtmb3IobGV0IGU9RSsxO2U8RStNLTE7ZSsrKXtjb25zdCB0PXl2KHYqYS5nZXRvZmZzZXRYKGUpLGIsdyxpLHUsZCxBLFQsQyxsLG8scCxtLCExLCExLF8sZyx4KTtpZighdClyZXR1cm4gYy5sZW5ndGgtPTQqKGUtRSkse25vdEVub3VnaFJvb206ITB9O3oodCk7fXoodC5sYXN0KTt9ZWxzZSB7aWYociYmIWkpe2NvbnN0IHQ9Y3YoZC54LGQueSwwLG4pLGk9VCtBKzEscj1uZXcgeShsLmdldHgoaSksbC5nZXR5KGkpKSxvPWN2KHIueCxyLnksMCxuKSxzPW9bM10+MD9vOmd2KGQscix0LDEsbix2b2lkIDAsXyxnLmNhbm9uaWNhbCksYT1mdihTLEksKHNbMF0tdFswXSkqZixzWzFdLXRbMV0pO2lmKGUuZmxpcFN0YXRlPWEmJmEubmVlZHNGbGlwcGluZz9udi5mbGlwUmVxdWlyZWQ6bnYuZmxpcE5vdFJlcXVpcmVkLGEpcmV0dXJuIGF9Y29uc3QgdD15dih2KmEuZ2V0b2Zmc2V0WChFKSxiLHcsaSx1LGQsQSxULEMsbCxvLHAsbSwhMSwhMSxfLGcseCk7aWYoIXQpcmV0dXJuIHtub3RFbm91Z2hSb29tOiEwfTt6KHQpO31yZXR1cm4ge319ZnVuY3Rpb24gX3YoZSx0LGkscixuKXtjb25zdHt4Om8seTpzLHo6YX09ci5wcm9qZWN0VGlsZVBvaW50KGUueCxlLnksdCk7aWYoIW4pcmV0dXJuIGN2KG8scyxhLGkpO2NvbnN0W2wsYyxoXT1uKGUpO3JldHVybiBjdihvK2wscytjLGEraCxpKX1mdW5jdGlvbiBndihlLHQsaSxyLG4sbyxzLGEpe2NvbnN0IGw9X3YoZS5zdWIodCkuX3VuaXQoKS5fYWRkKGUpLGEsbixzLG8pO3JldHVybiBEdS5zdWIobCxpLGwpLER1Lm5vcm1hbGl6ZShsLGwpLER1LnNjYWxlQW5kQWRkKGwsaSxsLHIpfWZ1bmN0aW9uIHl2KGUsdCxpLHIsbixvLHMsYSxsLGMsaCx1LGQscCxmLG0sXyxnKXtjb25zdCB4PXI/ZS10OmUrdDtsZXQgdj14PjA/MTotMSxiPTA7ciYmKHYqPS0xLGI9TWF0aC5QSSksdjwwJiYoYis9TWF0aC5QSSk7bGV0IHc9YStzKyh2PjA/MDoxKXwwLFQ9bixFPW4sTT0wLEE9MDtjb25zdCBTPU1hdGguYWJzKHgpLEk9W10sQz1bXTtsZXQgej1vLFA9ejtjb25zdCBEPSgpPT5ndihQLHosRSxTLU0rMSxoLGQsbSxfLmNhbm9uaWNhbCk7Zm9yKDtNK0E8PVM7KXtpZih3Kz12LHc8YXx8dz49bClyZXR1cm4gbnVsbDtpZihFPVQsUD16LEkucHVzaChFKSxwJiZDLnB1c2goUCksej1uZXcgeShjLmdldHgodyksYy5nZXR5KHcpKSxUPXVbd10sIVQpe2NvbnN0IGU9X3YoeixfLmNhbm9uaWNhbCxoLG0sZCk7VD1lWzNdPjA/dVt3XT1lOkQoKTt9TSs9QSxBPUR1LmRpc3RhbmNlKEUsVCk7fWYmJmQmJih1W3ddJiYoVD1EKCksQT1EdS5kaXN0YW5jZShFLFQpKSx1W3ddPVQpO2NvbnN0IFI9KFMtTSkvQSxMPXouc3ViKFApLl9tdWx0KFIpLl9hZGQoUCksaz1EdS5zdWIoW10sVCxFKSxPPUR1LnNjYWxlQW5kQWRkKFtdLEUsayxSKTtsZXQgQj1bMCwwLDFdLEY9a1swXSxOPWtbMV07aWYoZyYmKEI9bS51cFZlY3RvcihfLmNhbm9uaWNhbCxMLngsTC55KSwwIT09QlswXXx8MCE9PUJbMV18fDEhPT1CWzJdKSl7Y29uc3QgZT1bQlsyXSwwLC1CWzBdXSx0PUR1LmNyb3NzKFtdLEIsZSk7RHUubm9ybWFsaXplKGUsZSksRHUubm9ybWFsaXplKHQsdCksRj1EdS5kb3QoayxlKSxOPUR1LmRvdChrLHQpO31pZihpKXtjb25zdCBlPUR1LmNyb3NzKFtdLEIsayk7RHUubm9ybWFsaXplKGUsZSksRHUuc2NhbGVBbmRBZGQoTyxPLGUsaSp2KTt9Y29uc3QgVT1iK01hdGguYXRhbjIoTixGKTtyZXR1cm4gSS5wdXNoKE8pLHAmJkMucHVzaChMKSx7cG9pbnQ6TyxhbmdsZTpVLHBhdGg6SSx0aWxlUGF0aDpDLHVwOkJ9fWZ1bmN0aW9uIHh2KGUsdCl7Y29uc3QgaT10Lmxlbmd0aCxyPWkrNCplO3QucmVzaXplKHIpLHQuZmxvYXQzMi5maWxsKC0xLzAsNCppLDQqcik7fWZ1bmN0aW9uIHZ2KGUsdCxpKXtjb25zdCByPXRbMF0sbj10WzFdO3JldHVybiBlWzBdPWlbMF0qcitpWzRdKm4raVsxMl0sZVsxXT1pWzFdKnIraVs1XSpuK2lbMTNdLGVbM109aVszXSpyK2lbN10qbitpWzE1XSxlfWNvbnN0IGJ2PShlLHQsaSk9PigxLWkpKmUraSp0LHd2PWU9PmUqZSplKmUqZTtjbGFzcyBUdntjb25zdHJ1Y3RvcihlLHQsaSxyLG4sbyxzKXt0aGlzLnRpbGVTaXplPTUxMix0aGlzLl9yZW5kZXJXb3JsZENvcGllcz12b2lkIDA9PT1ufHxuLHRoaXMuX21pblpvb209ZXx8MCx0aGlzLl9tYXhab29tPXR8fDIyLHRoaXMuX21pblBpdGNoPW51bGw9PWk/MDppLHRoaXMuX21heFBpdGNoPW51bGw9PXI/NjA6cix0aGlzLnNldFByb2plY3Rpb24obyksdGhpcy5zZXRNYXhCb3VuZHMocyksdGhpcy53aWR0aD0wLHRoaXMuaGVpZ2h0PTAsdGhpcy5fY2VudGVyPW5ldyBXZCgwLDApLHRoaXMuem9vbT0wLHRoaXMuYW5nbGU9MCx0aGlzLl9mb3Y9LjY0MzUwMTEwODc5MzI4NDQsdGhpcy5fcGl0Y2g9MCx0aGlzLl9uZWFyWj0wLHRoaXMuX2Zhclo9MCx0aGlzLl91bm1vZGlmaWVkPSEwLHRoaXMuX2VkZ2VJbnNldHM9bmV3IFp4LHRoaXMuX3Byb2pNYXRyaXhDYWNoZT17fSx0aGlzLl9hbGlnbmVkUHJvak1hdHJpeENhY2hlPXt9LHRoaXMuX2ZvZ1RpbGVNYXRyaXhDYWNoZT17fSx0aGlzLl9leHBhbmRlZFByb2pNYXRyaXhDYWNoZT17fSx0aGlzLl9kaXN0YW5jZVRpbGVEYXRhQ2FjaGU9e30sdGhpcy5fY2FtZXJhPW5ldyBZeCx0aGlzLl9jZW50ZXJBbHRpdHVkZT0wLHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb249MCx0aGlzLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZT1cImdyb3VuZFwiLHRoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWw9MSx0aGlzLmdsb2JlUmFkaXVzPTAsdGhpcy5nbG9iZUNlbnRlckluVmlld1NwYWNlPVswLDAsMF0sdGhpcy5faG9yaXpvblNoaWZ0PS4xLHRoaXMuX29ydGhvZ3JhcGhpY1Byb2plY3Rpb25BdExvd1BpdGNoPSExO31jbG9uZSgpe2NvbnN0IGU9bmV3IFR2KHRoaXMuX21pblpvb20sdGhpcy5fbWF4Wm9vbSx0aGlzLl9taW5QaXRjaCx0aGlzLm1heFBpdGNoLHRoaXMuX3JlbmRlcldvcmxkQ29waWVzLHRoaXMuZ2V0UHJvamVjdGlvbigpKTtyZXR1cm4gZS5fZWxldmF0aW9uPXRoaXMuX2VsZXZhdGlvbixlLl9jZW50ZXJBbHRpdHVkZT10aGlzLl9jZW50ZXJBbHRpdHVkZSxlLl9jZW50ZXJBbHRpdHVkZVZhbGlkRm9yRXhhZ2dlcmF0aW9uPXRoaXMuX2NlbnRlckFsdGl0dWRlVmFsaWRGb3JFeGFnZ2VyYXRpb24sZS50aWxlU2l6ZT10aGlzLnRpbGVTaXplLGUubWVyY2F0b3JGcm9tVHJhbnNpdGlvbj10aGlzLm1lcmNhdG9yRnJvbVRyYW5zaXRpb24sZS53aWR0aD10aGlzLndpZHRoLGUuaGVpZ2h0PXRoaXMuaGVpZ2h0LGUuY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlPXRoaXMuY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlLGUuX2NlbnRlcj10aGlzLl9jZW50ZXIsZS5fc2V0Wm9vbSh0aGlzLnpvb20pLGUuX3NlYUxldmVsWm9vbT10aGlzLl9zZWFMZXZlbFpvb20sZS5hbmdsZT10aGlzLmFuZ2xlLGUuX2Zvdj10aGlzLl9mb3YsZS5fcGl0Y2g9dGhpcy5fcGl0Y2gsZS5fbmVhclo9dGhpcy5fbmVhclosZS5fZmFyWj10aGlzLl9mYXJaLGUuX2F2ZXJhZ2VFbGV2YXRpb249dGhpcy5fYXZlcmFnZUVsZXZhdGlvbixlLl9vcnRob2dyYXBoaWNQcm9qZWN0aW9uQXRMb3dQaXRjaD10aGlzLl9vcnRob2dyYXBoaWNQcm9qZWN0aW9uQXRMb3dQaXRjaCxlLl91bm1vZGlmaWVkPXRoaXMuX3VubW9kaWZpZWQsZS5fZWRnZUluc2V0cz10aGlzLl9lZGdlSW5zZXRzLmNsb25lKCksZS5fY2FtZXJhPXRoaXMuX2NhbWVyYS5jbG9uZSgpLGUuX2NhbGNNYXRyaWNlcygpLGUuZnJlZXplVGlsZUNvdmVyYWdlPXRoaXMuZnJlZXplVGlsZUNvdmVyYWdlLGUuZnJ1c3R1bUNvcm5lcnM9dGhpcy5mcnVzdHVtQ29ybmVycyxlfWdldCBpc09ydGhvZ3JhcGhpYygpe3JldHVybiBcImdsb2JlXCIhPT10aGlzLnByb2plY3Rpb24ubmFtZSYmdGhpcy5fb3J0aG9ncmFwaGljUHJvamVjdGlvbkF0TG93UGl0Y2gmJnRoaXMucGl0Y2g8MTV9Z2V0IGVsZXZhdGlvbigpe3JldHVybiB0aGlzLl9lbGV2YXRpb259c2V0IGVsZXZhdGlvbihlKXt0aGlzLl9lbGV2YXRpb24hPT1lJiYodGhpcy5fZWxldmF0aW9uPWUsdGhpcy5fdXBkYXRlQ2FtZXJhT25UZXJyYWluKCksdGhpcy5fY2FsY01hdHJpY2VzKCkpO31nZXQgZGVwdGhPY2NsdXNpb25Gb3JTeW1ib2xzQW5kQ2lyY2xlcygpe3JldHVybiBcImdsb2JlXCIhPT10aGlzLnByb2plY3Rpb24ubmFtZSYmIXRoaXMuaXNPcnRob2dyYXBoaWN9dXBkYXRlRWxldmF0aW9uKGUsdD0hMSl7Y29uc3QgaT10aGlzLl9lbGV2YXRpb24mJnRoaXMuX2VsZXZhdGlvbi5leGFnZ2VyYXRpb24oKSE9PXRoaXMuX2NlbnRlckFsdGl0dWRlVmFsaWRGb3JFeGFnZ2VyYXRpb247KG51bGw9PXRoaXMuX3NlYUxldmVsWm9vbXx8aSkmJnRoaXMuX3VwZGF0ZUNhbWVyYU9uVGVycmFpbigpLChlfHxpKSYmdGhpcy5fY29uc3RyYWluQ2FtZXJhKHQpLHRoaXMuX2NhbGNNYXRyaWNlcygpO31nZXRQcm9qZWN0aW9uKCl7cmV0dXJuIE8odGhpcy5wcm9qZWN0aW9uLFtcIm5hbWVcIixcImNlbnRlclwiLFwicGFyYWxsZWxzXCJdKX1zZXRQcm9qZWN0aW9uKGUpe3RoaXMucHJvamVjdGlvbk9wdGlvbnM9ZXx8e25hbWU6XCJtZXJjYXRvclwifTtjb25zdCB0PXRoaXMucHJvamVjdGlvbj90aGlzLmdldFByb2plY3Rpb24oKTp2b2lkIDA7dGhpcy5wcm9qZWN0aW9uPXR5KHRoaXMucHJvamVjdGlvbk9wdGlvbnMpO2NvbnN0IGk9IXgodCx0aGlzLmdldFByb2plY3Rpb24oKSk7cmV0dXJuIGkmJnRoaXMuX2NhbGNNYXRyaWNlcygpLHRoaXMubWVyY2F0b3JGcm9tVHJhbnNpdGlvbj0hMSxpfXNldE9ydGhvZ3JhcGhpY1Byb2plY3Rpb25BdExvd1BpdGNoKGUpe3JldHVybiB0aGlzLl9vcnRob2dyYXBoaWNQcm9qZWN0aW9uQXRMb3dQaXRjaCE9PWUmJih0aGlzLl9vcnRob2dyYXBoaWNQcm9qZWN0aW9uQXRMb3dQaXRjaD1lLHRoaXMuX2NhbGNNYXRyaWNlcygpLCEwKX1zZXRNZXJjYXRvckZyb21UcmFuc2l0aW9uKCl7Y29uc3QgZT10aGlzLnByb2plY3Rpb24ubmFtZTt0aGlzLm1lcmNhdG9yRnJvbVRyYW5zaXRpb249ITAsdGhpcy5wcm9qZWN0aW9uT3B0aW9ucz17bmFtZTpcIm1lcmNhdG9yXCJ9LHRoaXMucHJvamVjdGlvbj10eSh7bmFtZTpcIm1lcmNhdG9yXCJ9KTtjb25zdCB0PWUhPT10aGlzLnByb2plY3Rpb24ubmFtZTtyZXR1cm4gdCYmdGhpcy5fY2FsY01hdHJpY2VzKCksdH1nZXQgbWluWm9vbSgpe3JldHVybiB0aGlzLl9taW5ab29tfXNldCBtaW5ab29tKGUpe3RoaXMuX21pblpvb20hPT1lJiYodGhpcy5fbWluWm9vbT1lLHRoaXMuem9vbT1NYXRoLm1heCh0aGlzLnpvb20sZSkpO31nZXQgbWF4Wm9vbSgpe3JldHVybiB0aGlzLl9tYXhab29tfXNldCBtYXhab29tKGUpe3RoaXMuX21heFpvb20hPT1lJiYodGhpcy5fbWF4Wm9vbT1lLHRoaXMuem9vbT1NYXRoLm1pbih0aGlzLnpvb20sZSkpO31nZXQgbWluUGl0Y2goKXtyZXR1cm4gdGhpcy5fbWluUGl0Y2h9c2V0IG1pblBpdGNoKGUpe3RoaXMuX21pblBpdGNoIT09ZSYmKHRoaXMuX21pblBpdGNoPWUsdGhpcy5waXRjaD1NYXRoLm1heCh0aGlzLnBpdGNoLGUpKTt9Z2V0IG1heFBpdGNoKCl7cmV0dXJuIHRoaXMuX21heFBpdGNofXNldCBtYXhQaXRjaChlKXt0aGlzLl9tYXhQaXRjaCE9PWUmJih0aGlzLl9tYXhQaXRjaD1lLHRoaXMucGl0Y2g9TWF0aC5taW4odGhpcy5waXRjaCxlKSk7fWdldCByZW5kZXJXb3JsZENvcGllcygpe3JldHVybiB0aGlzLl9yZW5kZXJXb3JsZENvcGllcyYmITA9PT10aGlzLnByb2plY3Rpb24uc3VwcG9ydHNXb3JsZENvcGllc31zZXQgcmVuZGVyV29ybGRDb3BpZXMoZSl7dm9pZCAwPT09ZT9lPSEwOm51bGw9PT1lJiYoZT0hMSksdGhpcy5fcmVuZGVyV29ybGRDb3BpZXM9ZTt9Z2V0IHdvcmxkU2l6ZSgpe3JldHVybiB0aGlzLnRpbGVTaXplKnRoaXMuc2NhbGV9Z2V0IGNhbWVyYVdvcmxkU2l6ZUZvckZvZygpe2NvbnN0IGU9TWF0aC5tYXgodGhpcy5fY2FtZXJhLmdldERpc3RhbmNlVG9FbGV2YXRpb24odGhpcy5fYXZlcmFnZUVsZXZhdGlvbiksTnVtYmVyLkVQU0lMT04pO3JldHVybiB0aGlzLl93b3JsZFNpemVGcm9tWm9vbSh0aGlzLl96b29tRnJvbU1lcmNhdG9yWihlKSl9Z2V0IGNhbWVyYVdvcmxkU2l6ZSgpe2NvbnN0IGU9TWF0aC5tYXgodGhpcy5fY2FtZXJhLmdldERpc3RhbmNlVG9FbGV2YXRpb24odGhpcy5fYXZlcmFnZUVsZXZhdGlvbiwhMCksTnVtYmVyLkVQU0lMT04pO3JldHVybiB0aGlzLl93b3JsZFNpemVGcm9tWm9vbSh0aGlzLl96b29tRnJvbU1lcmNhdG9yWihlKSl9Z2V0IHBpeGVsc1Blck1ldGVyKCl7cmV0dXJuIHRoaXMucHJvamVjdGlvbi5waXhlbHNQZXJNZXRlcih0aGlzLmNlbnRlci5sYXQsdGhpcy53b3JsZFNpemUpfWdldCBjYW1lcmFQaXhlbHNQZXJNZXRlcigpe3JldHVybiBRZCgxLHRoaXMuY2VudGVyLmxhdCkqdGhpcy5jYW1lcmFXb3JsZFNpemVGb3JGb2d9Z2V0IGNlbnRlck9mZnNldCgpe3JldHVybiB0aGlzLmNlbnRlclBvaW50Ll9zdWIodGhpcy5zaXplLl9kaXYoMikpfWdldCBzaXplKCl7cmV0dXJuIG5ldyB5KHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfWdldCBiZWFyaW5nKCl7cmV0dXJuIEQodGhpcy5yb3RhdGlvbiwtMTgwLDE4MCl9c2V0IGJlYXJpbmcoZSl7dGhpcy5yb3RhdGlvbj1lO31nZXQgcm90YXRpb24oKXtyZXR1cm4gLXRoaXMuYW5nbGUvTWF0aC5QSSoxODB9c2V0IHJvdGF0aW9uKGUpe2NvbnN0IHQ9LWUqTWF0aC5QSS8xODA7dGhpcy5hbmdsZSE9PXQmJih0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuYW5nbGU9dCx0aGlzLl9jYWxjTWF0cmljZXMoKSx0aGlzLnJvdGF0aW9uTWF0cml4PWJ1LmNyZWF0ZSgpLGJ1LnJvdGF0ZSh0aGlzLnJvdGF0aW9uTWF0cml4LHRoaXMucm90YXRpb25NYXRyaXgsdGhpcy5hbmdsZSkpO31nZXQgcGl0Y2goKXtyZXR1cm4gdGhpcy5fcGl0Y2gvTWF0aC5QSSoxODB9c2V0IHBpdGNoKGUpe2NvbnN0IHQ9eihlLHRoaXMubWluUGl0Y2gsdGhpcy5tYXhQaXRjaCkvMTgwKk1hdGguUEk7dGhpcy5fcGl0Y2ghPT10JiYodGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLl9waXRjaD10LHRoaXMuX2NhbGNNYXRyaWNlcygpKTt9Z2V0IGFzcGVjdCgpe3JldHVybiB0aGlzLndpZHRoL3RoaXMuaGVpZ2h0fWdldCBmb3YoKXtyZXR1cm4gdGhpcy5fZm92L01hdGguUEkqMTgwfWdldCBmb3ZYKCl7cmV0dXJuIHRoaXMuX2Zvdn1nZXQgZm92WSgpe2NvbnN0IGU9MS9NYXRoLnRhbiguNSp0aGlzLmZvdlgpO3JldHVybiAyKk1hdGguYXRhbigxL3RoaXMuYXNwZWN0L2UpfXNldCBmb3YoZSl7ZT1NYXRoLm1heCguMDEsTWF0aC5taW4oNjAsZSkpLHRoaXMuX2ZvdiE9PWUmJih0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuX2Zvdj13KGUpLHRoaXMuX2NhbGNNYXRyaWNlcygpKTt9Z2V0IGF2ZXJhZ2VFbGV2YXRpb24oKXtyZXR1cm4gdGhpcy5fYXZlcmFnZUVsZXZhdGlvbn1zZXQgYXZlcmFnZUVsZXZhdGlvbihlKXt0aGlzLl9hdmVyYWdlRWxldmF0aW9uPWUsdGhpcy5fY2FsY0ZvZ01hdHJpY2VzKCksdGhpcy5fZGlzdGFuY2VUaWxlRGF0YUNhY2hlPXt9O31nZXQgem9vbSgpe3JldHVybiB0aGlzLl96b29tfXNldCB6b29tKGUpe2NvbnN0IHQ9TWF0aC5taW4oTWF0aC5tYXgoZSx0aGlzLm1pblpvb20pLHRoaXMubWF4Wm9vbSk7dGhpcy5fem9vbSE9PXQmJih0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuX3NldFpvb20odCksdGhpcy5fdXBkYXRlU2VhTGV2ZWxab29tKCksdGhpcy5fY29uc3RyYWluKCksdGhpcy5fY2FsY01hdHJpY2VzKCkpO31fc2V0Wm9vbShlKXt0aGlzLl96b29tPWUsdGhpcy5zY2FsZT10aGlzLnpvb21TY2FsZShlKSx0aGlzLnRpbGVab29tPU1hdGguZmxvb3IoZSksdGhpcy56b29tRnJhY3Rpb249ZS10aGlzLnRpbGVab29tO31fdXBkYXRlQ2FtZXJhT25UZXJyYWluKCl7Y29uc3QgZT10aGlzLmVsZXZhdGlvbj90aGlzLmVsZXZhdGlvbi5nZXRBdFBvaW50KHRoaXMubG9jYXRpb25Db29yZGluYXRlKHRoaXMuY2VudGVyKSxOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpOk51bWJlci5ORUdBVElWRV9JTkZJTklUWSx0PXRoaXMuZWxldmF0aW9uJiZlPT09TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZJiZ0aGlzLmVsZXZhdGlvbi52aXNpYmxlRGVtVGlsZXMubGVuZ3RoPjAmJnRoaXMuZWxldmF0aW9uLmV4YWdnZXJhdGlvbigpPjAmJnRoaXMuX2NlbnRlckFsdGl0dWRlVmFsaWRGb3JFeGFnZ2VyYXRpb247aWYoIXRoaXMuX2VsZXZhdGlvbnx8ZT09PU51bWJlci5ORUdBVElWRV9JTkZJTklUWSYmKCF0fHwhdGhpcy5fY2VudGVyQWx0aXR1ZGUpKXJldHVybiB0aGlzLl9jZW50ZXJBbHRpdHVkZT0wLHRoaXMuX3NlYUxldmVsWm9vbT1udWxsLHZvaWQodGhpcy5fY2VudGVyQWx0aXR1ZGVWYWxpZEZvckV4YWdnZXJhdGlvbj12b2lkIDApO2NvbnN0IGk9dGhpcy5fZWxldmF0aW9uO3R8fHRoaXMuX2NlbnRlckFsdGl0dWRlJiZ0aGlzLl9jZW50ZXJBbHRpdHVkZVZhbGlkRm9yRXhhZ2dlcmF0aW9uJiZpLmV4YWdnZXJhdGlvbigpJiZ0aGlzLl9jZW50ZXJBbHRpdHVkZVZhbGlkRm9yRXhhZ2dlcmF0aW9uIT09aS5leGFnZ2VyYXRpb24oKT8odGhpcy5fY2VudGVyQWx0aXR1ZGU9dGhpcy5fY2VudGVyQWx0aXR1ZGUvdGhpcy5fY2VudGVyQWx0aXR1ZGVWYWxpZEZvckV4YWdnZXJhdGlvbippLmV4YWdnZXJhdGlvbigpLHRoaXMuX2NlbnRlckFsdGl0dWRlVmFsaWRGb3JFeGFnZ2VyYXRpb249aS5leGFnZ2VyYXRpb24oKSk6KHRoaXMuX2NlbnRlckFsdGl0dWRlPWV8fDAsdGhpcy5fY2VudGVyQWx0aXR1ZGVWYWxpZEZvckV4YWdnZXJhdGlvbj1pLmV4YWdnZXJhdGlvbigpKSx0aGlzLl91cGRhdGVTZWFMZXZlbFpvb20oKTt9X3VwZGF0ZVNlYUxldmVsWm9vbSgpe3ZvaWQgMCE9PXRoaXMuX2NlbnRlckFsdGl0dWRlVmFsaWRGb3JFeGFnZ2VyYXRpb24mJih0aGlzLl9zZWFMZXZlbFpvb209dGhpcy5fem9vbUZyb21NZXJjYXRvclooKHRoaXMucGl4ZWxzUGVyTWV0ZXIqdGhpcy5fY2VudGVyQWx0aXR1ZGUrdGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlKS90aGlzLndvcmxkU2l6ZSkpO31zYW1wbGVBdmVyYWdlRWxldmF0aW9uKCl7aWYoIXRoaXMuX2VsZXZhdGlvbilyZXR1cm4gMDtjb25zdCBlPXRoaXMuX2VsZXZhdGlvbix0PVtbLjUsLjJdLFsuMywuNV0sWy41LC41XSxbLjcsLjVdLFsuNSwuOF1dLGk9dGhpcy5ob3Jpem9uTGluZUZyb21Ub3AoKTtsZXQgcj0wLG49MDtmb3IobGV0IG89MDtvPHQubGVuZ3RoO28rKyl7Y29uc3Qgcz1uZXcgeSh0W29dWzBdKnRoaXMud2lkdGgsaSt0W29dWzFdKih0aGlzLmhlaWdodC1pKSksYT1lLnBvaW50Q29vcmRpbmF0ZShzKTtpZighYSljb250aW51ZTtjb25zdCBsPTEvTWF0aC5oeXBvdChhWzBdLXRoaXMuX2NhbWVyYS5wb3NpdGlvblswXSxhWzFdLXRoaXMuX2NhbWVyYS5wb3NpdGlvblsxXSk7cis9YVszXSpsLG4rPWw7fXJldHVybiAwPT09bj9OYU46ci9ufWdldCBjZW50ZXIoKXtyZXR1cm4gdGhpcy5fY2VudGVyfXNldCBjZW50ZXIoZSl7ZS5sYXQ9PT10aGlzLl9jZW50ZXIubGF0JiZlLmxuZz09PXRoaXMuX2NlbnRlci5sbmd8fCh0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuX2NlbnRlcj1lLHRoaXMuX3RlcnJhaW5FbmFibGVkKCkmJihcImdyb3VuZFwiPT09dGhpcy5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2U/dGhpcy5fdXBkYXRlQ2FtZXJhT25UZXJyYWluKCk6dGhpcy5fdXBkYXRlWm9vbUZyb21FbGV2YXRpb24oKSksdGhpcy5fY29uc3RyYWluKCksdGhpcy5fY2FsY01hdHJpY2VzKCkpO31fdXBkYXRlWm9vbUZyb21FbGV2YXRpb24oKXtpZihudWxsPT10aGlzLl9zZWFMZXZlbFpvb218fCF0aGlzLl9lbGV2YXRpb24pcmV0dXJuO2NvbnN0IGU9dGhpcy5fc2VhTGV2ZWxab29tLHQ9dGhpcy5fZWxldmF0aW9uLmdldEF0UG9pbnRPclplcm8odGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUodGhpcy5jZW50ZXIpKSxpPXRoaXMucGl4ZWxzUGVyTWV0ZXIvdGhpcy53b3JsZFNpemUqdCxyPXRoaXMuX21lcmNhdG9yWmZyb21ab29tKGUpLG49dGhpcy5fbWVyY2F0b3JaZnJvbVpvb20odGhpcy5fbWF4Wm9vbSksbz1NYXRoLm1heChyLWksbik7dGhpcy5fc2V0Wm9vbSh0aGlzLl96b29tRnJvbU1lcmNhdG9yWihvKSk7fWdldCBwYWRkaW5nKCl7cmV0dXJuIHRoaXMuX2VkZ2VJbnNldHMudG9KU09OKCl9c2V0IHBhZGRpbmcoZSl7dGhpcy5fZWRnZUluc2V0cy5lcXVhbHMoZSl8fCh0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuX2VkZ2VJbnNldHMuaW50ZXJwb2xhdGUodGhpcy5fZWRnZUluc2V0cyxlLDEpLHRoaXMuX2NhbGNNYXRyaWNlcygpKTt9Y29tcHV0ZVpvb21SZWxhdGl2ZVRvKGUpe2NvbnN0IHQ9dGhpcy5yYXlJbnRlcnNlY3Rpb25Db29yZGluYXRlKHRoaXMucG9pbnRSYXlJbnRlcnNlY3Rpb24odGhpcy5jZW50ZXJQb2ludCxlLnRvQWx0aXR1ZGUoKSkpO2xldCBpO2k9ZS56PHRoaXMuX2NhbWVyYS5wb3NpdGlvblsyXT9bdC54LHQueSx0LnpdOltlLngsZS55LGUuel07Y29uc3Qgcj1EdS5sZW5ndGgoRHUuc3ViKFtdLHRoaXMuX2NhbWVyYS5wb3NpdGlvbixpKSk7cmV0dXJuIHoodGhpcy5fem9vbUZyb21NZXJjYXRvcloociksdGhpcy5fbWluWm9vbSx0aGlzLl9tYXhab29tKX1zZXRGcmVlQ2FtZXJhT3B0aW9ucyhlKXtpZighdGhpcy5oZWlnaHQpcmV0dXJuO2lmKCFlLnBvc2l0aW9uJiYhZS5vcmllbnRhdGlvbilyZXR1cm47dGhpcy5fdXBkYXRlQ2FtZXJhU3RhdGUoKTtsZXQgdD0hMTtpZihlLm9yaWVudGF0aW9uJiYhSXUuZXhhY3RFcXVhbHMoZS5vcmllbnRhdGlvbix0aGlzLl9jYW1lcmEub3JpZW50YXRpb24pJiYodD10aGlzLl9zZXRDYW1lcmFPcmllbnRhdGlvbihlLm9yaWVudGF0aW9uKSksZS5wb3NpdGlvbil7Y29uc3QgaT1bZS5wb3NpdGlvbi54LGUucG9zaXRpb24ueSxlLnBvc2l0aW9uLnpdO0R1LmV4YWN0RXF1YWxzKGksdGhpcy5fY2FtZXJhLnBvc2l0aW9uKXx8KHRoaXMuX3NldENhbWVyYVBvc2l0aW9uKGkpLHQ9ITApO310JiYodGhpcy5fdXBkYXRlU3RhdGVGcm9tQ2FtZXJhKCksdGhpcy5yZWNlbnRlck9uVGVycmFpbigpKTt9Z2V0RnJlZUNhbWVyYU9wdGlvbnMoKXt0aGlzLl91cGRhdGVDYW1lcmFTdGF0ZSgpO2NvbnN0IGU9dGhpcy5fY2FtZXJhLnBvc2l0aW9uLHQ9bmV3IFh4O3JldHVybiB0LnBvc2l0aW9uPW5ldyBscChlWzBdLGVbMV0sZVsyXSksdC5vcmllbnRhdGlvbj10aGlzLl9jYW1lcmEub3JpZW50YXRpb24sdC5fZWxldmF0aW9uPXRoaXMuZWxldmF0aW9uLHQuX3JlbmRlcldvcmxkQ29waWVzPXRoaXMucmVuZGVyV29ybGRDb3BpZXMsdH1fc2V0Q2FtZXJhT3JpZW50YXRpb24oZSl7aWYoIUl1Lmxlbmd0aChlKSlyZXR1cm4gITE7SXUubm9ybWFsaXplKGUsZSk7Y29uc3QgdD1EdS50cmFuc2Zvcm1RdWF0KFtdLFswLDAsLTFdLGUpLGk9RHUudHJhbnNmb3JtUXVhdChbXSxbMCwtMSwwXSxlKTtpZihpWzJdPDApcmV0dXJuICExO2NvbnN0IHI9SHgodCxpKTtyZXR1cm4gISFyJiYodGhpcy5fY2FtZXJhLm9yaWVudGF0aW9uPXIsITApfV9zZXRDYW1lcmFQb3NpdGlvbihlKXtjb25zdCB0PXRoaXMuem9vbVNjYWxlKHRoaXMubWluWm9vbSkqdGhpcy50aWxlU2l6ZSxpPXRoaXMuem9vbVNjYWxlKHRoaXMubWF4Wm9vbSkqdGhpcy50aWxlU2l6ZSxyPXRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZTtlWzJdPXooZVsyXSxyL2ksci90KSx0aGlzLl9jYW1lcmEucG9zaXRpb249ZTt9Z2V0IGNlbnRlclBvaW50KCl7cmV0dXJuIHRoaXMuX2VkZ2VJbnNldHMuZ2V0Q2VudGVyKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfWdldCBmb3ZBYm92ZUNlbnRlcigpe3JldHVybiB0aGlzLl9mb3YqKC41K3RoaXMuY2VudGVyT2Zmc2V0LnkvdGhpcy5oZWlnaHQpfWlzUGFkZGluZ0VxdWFsKGUpe3JldHVybiB0aGlzLl9lZGdlSW5zZXRzLmVxdWFscyhlKX1pbnRlcnBvbGF0ZVBhZGRpbmcoZSx0LGkpe3RoaXMuX3VubW9kaWZpZWQ9ITEsdGhpcy5fZWRnZUluc2V0cy5pbnRlcnBvbGF0ZShlLHQsaSksdGhpcy5fY29uc3RyYWluKCksdGhpcy5fY2FsY01hdHJpY2VzKCk7fWNvdmVyaW5nWm9vbUxldmVsKGUpe2NvbnN0IHQ9KGUucm91bmRab29tP01hdGgucm91bmQ6TWF0aC5mbG9vcikodGhpcy56b29tK3RoaXMuc2NhbGVab29tKHRoaXMudGlsZVNpemUvZS50aWxlU2l6ZSkpO3JldHVybiBNYXRoLm1heCgwLHQpfWdldFZpc2libGVVbndyYXBwZWRDb29yZGluYXRlcyhlKXtjb25zdCB0PVtuZXcgR3UoMCxlKV07aWYodGhpcy5yZW5kZXJXb3JsZENvcGllcyl7Y29uc3QgaT10aGlzLnBvaW50Q29vcmRpbmF0ZShuZXcgeSgwLDApKSxyPXRoaXMucG9pbnRDb29yZGluYXRlKG5ldyB5KHRoaXMud2lkdGgsMCkpLG49dGhpcy5wb2ludENvb3JkaW5hdGUobmV3IHkodGhpcy53aWR0aCx0aGlzLmhlaWdodCkpLG89dGhpcy5wb2ludENvb3JkaW5hdGUobmV3IHkoMCx0aGlzLmhlaWdodCkpLHM9TWF0aC5mbG9vcihNYXRoLm1pbihpLngsci54LG4ueCxvLngpKSxhPU1hdGguZmxvb3IoTWF0aC5tYXgoaS54LHIueCxuLngsby54KSksbD0xO2ZvcihsZXQgaT1zLWw7aTw9YStsO2krKykwIT09aSYmdC5wdXNoKG5ldyBHdShpLGUpKTt9cmV0dXJuIHR9aXNMT0REaXNhYmxlZChlKXtyZXR1cm4gKCFlfHx0aGlzLnBpdGNoPD02MCkmJnRoaXMuX2VkZ2VJbnNldHMudG9wPD10aGlzLl9lZGdlSW5zZXRzLmJvdHRvbSYmIXRoaXMuX2VsZXZhdGlvbiYmIXRoaXMucHJvamVjdGlvbi5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2V9ZXh0ZW5kVGlsZUNvdmVyRm9yU2hhZG93cyhlLHQsaSl7bGV0IHI9W107aWYoMD09PXRbMF0mJjA9PT10WzFdKXJldHVybiByO2Zvcihjb25zdCBpIG9mIGUpe2NvbnN0IGU9aS5jYW5vbmljYWwsbj1pLm92ZXJzY2FsZWRaLG89aS53cmFwLHM9MTw8ZS56LGE9ZS54KzE8cyxsPWUueD4wLGM9ZS55KzE8cyxoPWUueT4wLHU9aS53cmFwLShsPzA6MSksZD1pLndyYXArKGE/MDoxKSxwPWw/ZS54LTE6cy0xLGY9YT9lLngrMTowO3RbMF08MD8oci5wdXNoKG5ldyBxdShuLGQsZS56LGYsZS55KSksdFsxXTwwJiZjJiYoci5wdXNoKG5ldyBxdShuLG8sZS56LGUueCxlLnkrMSkpLHIucHVzaChuZXcgcXUobixkLGUueixmLGUueSsxKSkpLHRbMV0+MCYmaCYmKHIucHVzaChuZXcgcXUobixvLGUueixlLngsZS55LTEpKSxyLnB1c2gobmV3IHF1KG4sZCxlLnosZixlLnktMSkpKSk6dFswXT4wPyhyLnB1c2gobmV3IHF1KG4sdSxlLnoscCxlLnkpKSx0WzFdPDAmJmMmJihyLnB1c2gobmV3IHF1KG4sbyxlLnosZS54LGUueSsxKSksci5wdXNoKG5ldyBxdShuLHUsZS56LHAsZS55KzEpKSksdFsxXT4wJiZoJiYoci5wdXNoKG5ldyBxdShuLG8sZS56LGUueCxlLnktMSkpLHIucHVzaChuZXcgcXUobix1LGUueixwLGUueS0xKSkpKTp0WzFdPDAmJmM/ci5wdXNoKG5ldyBxdShuLG8sZS56LGUueCxlLnkrMSkpOmgmJnIucHVzaChuZXcgcXUobixvLGUueixlLngsZS55LTEpKTt9aWYoci5sZW5ndGg+MSl7ci5zb3J0KCgoZSx0KT0+ZS5vdmVyc2NhbGVkWi10Lm92ZXJzY2FsZWRafHxlLndyYXAtdC53cmFwfHxlLmNhbm9uaWNhbC56LXQuY2Fub25pY2FsLnp8fGUuY2Fub25pY2FsLngtdC5jYW5vbmljYWwueHx8ZS5jYW5vbmljYWwueS10LmNhbm9uaWNhbC55KSk7bGV0IGU9MCx0PTA7Zm9yKDt0PHIubGVuZ3RoOylyW3RdLmVxdWFscyhyW2VdKT8rK3Q6clsrK2VdPXJbdCsrXTtyLmxlbmd0aD1lKzE7fWNvbnN0IG49W107Zm9yKGNvbnN0IGUgb2YgcilyLnNvbWUoKHQ9PmUuaXNDaGlsZE9mKHQpKSl8fG4ucHVzaChlKTtyZXR1cm4gcj1uLmZpbHRlcigodD0+IWUuc29tZSgoZT0+ISEodC5vdmVyc2NhbGVkWjxpJiZlLmlzQ2hpbGRPZih0KSl8fHQuZXF1YWxzKGUpfHx0LmlzQ2hpbGRPZihlKSkpKSkscn1jb3ZlcmluZ1RpbGVzKGUpe2xldCB0PXRoaXMuY292ZXJpbmdab29tTGV2ZWwoZSk7Y29uc3QgaT10LHI9dGhpcy5lbGV2YXRpb24mJnRoaXMuZWxldmF0aW9uLmV4YWdnZXJhdGlvbigpLG49ciYmIWUuaXNUZXJyYWluREVNLG89XCJtZXJjYXRvclwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWU7aWYodm9pZCAwIT09ZS5taW56b29tJiZ0PGUubWluem9vbSlyZXR1cm4gW107dm9pZCAwIT09ZS5tYXh6b29tJiZ0PmUubWF4em9vbSYmKHQ9ZS5tYXh6b29tKTtjb25zdCBzPXRoaXMubG9jYXRpb25Db29yZGluYXRlKHRoaXMuY2VudGVyKSxhPXRoaXMuY2VudGVyLmxhdCxsPTE8PHQsYz1bbCpzLngsbCpzLnksMF0saD1cImdsb2JlXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZSx1PSFoLGQ9UXUuZnJvbUludlByb2plY3Rpb25NYXRyaXgodGhpcy5pbnZQcm9qTWF0cml4LHRoaXMud29ybGRTaXplLHQsdSkscD1oP3RoaXMuX2NhbWVyYS5tZXJjYXRvclBvc2l0aW9uOnRoaXMucG9pbnRDb29yZGluYXRlKHRoaXMuZ2V0Q2FtZXJhUG9pbnQoKSksZj1sKlFkKDEsdGhpcy5jZW50ZXIubGF0KSxtPXRoaXMuX2NhbWVyYS5wb3NpdGlvblsyXS9RZCgxLHRoaXMuY2VudGVyLmxhdCksXz1bbCpwLngsbCpwLnksbSoodT8xOmYpXSxnPWh8fHIseT10aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UvZS50aWxlU2l6ZSooZS5yb3VuZFpvb20/MTouNTAyKSx4PXRoaXMuaXNMT0REaXNhYmxlZCghMCk/dDowO2xldCB2O2lmKHRoaXMuX2VsZXZhdGlvbiYmZS5pc1RlcnJhaW5ERU0pdj0xZTQqdGhpcy5fZWxldmF0aW9uLmV4YWdnZXJhdGlvbigpO2Vsc2UgaWYodGhpcy5fZWxldmF0aW9uKXtjb25zdCBlPXRoaXMuX2VsZXZhdGlvbi5nZXRNaW5NYXhGb3JWaXNpYmxlVGlsZXMoKTt2PWU/ZS5tYXg6dGhpcy5fY2VudGVyQWx0aXR1ZGU7fWVsc2Ugdj10aGlzLl9jZW50ZXJBbHRpdHVkZTtjb25zdCBiPWUuaXNUZXJyYWluREVNPy12OnRoaXMuX2VsZXZhdGlvbj90aGlzLl9lbGV2YXRpb24uZ2V0TWluRWxldmF0aW9uQmVsb3dNU0woKTowLHc9dGhpcy5wcm9qZWN0aW9uLmlzUmVwcm9qZWN0ZWRJblRpbGVTcGFjZT9KeCh0aGlzKToxLFQ9ZT0+e2NvbnN0IHQ9MS80ZTQsaT1uZXcgbHAoZS54K3QsZS55LGUueikscj1uZXcgbHAoZS54LGUueSt0LGUueiksbj1lLnRvTG5nTGF0KCksbz1pLnRvTG5nTGF0KCkscz1yLnRvTG5nTGF0KCksYT10aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZShuKSxsPXRoaXMubG9jYXRpb25Db29yZGluYXRlKG8pLGM9dGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUocyksaD1NYXRoLmh5cG90KGwueC1hLngsbC55LWEueSksdT1NYXRoLmh5cG90KGMueC1hLngsYy55LWEueSk7cmV0dXJuIE1hdGguc3FydChoKnUpKncvdH0sTT1lPT57Y29uc3QgdD12LGk9YjtyZXR1cm4ge2FhYmI6RGcodGhpcyxsLDAsMCwwLGUsaSx0LHRoaXMucHJvamVjdGlvbiksem9vbTowLHg6MCx5OjAsbWluWjppLG1heFo6dCx3cmFwOmUsZnVsbHlWaXNpYmxlOiExfX0sQT1bXTtsZXQgUz1bXTtjb25zdCBJPXQsQz1lLnJlcGFyc2VPdmVyc2NhbGVkP2k6dCx6PWU9PmUqZSxQPXooKG0tdGhpcy5fY2VudGVyQWx0aXR1ZGUpKmYpLEQ9ZT0+e2lmKCF0aGlzLl9lbGV2YXRpb258fCFlLnRpbGVJRHx8IW8pcmV0dXJuO2NvbnN0IHQ9dGhpcy5fZWxldmF0aW9uLmdldE1pbk1heEZvclRpbGUoZS50aWxlSUQpLGk9ZS5hYWJiO3Q/KGkubWluWzJdPXQubWluLGkubWF4WzJdPXQubWF4LGkuY2VudGVyWzJdPShpLm1pblsyXStpLm1heFsyXSkvMik6KGUuc2hvdWxkU3BsaXQ9UihlKSxlLnNob3VsZFNwbGl0fHwoaS5taW5bMl09aS5tYXhbMl09aS5jZW50ZXJbMl09dGhpcy5fY2VudGVyQWx0aXR1ZGUpKTt9LFI9ZT0+e2lmKGUuem9vbTx4KXJldHVybiAhMDtpZihlLnpvb209PT1JKXJldHVybiAhMTtpZihudWxsIT1lLnNob3VsZFNwbGl0KXJldHVybiBlLnNob3VsZFNwbGl0O2NvbnN0IHQ9ZS5hYWJiLmRpc3RhbmNlWChfKSxyPWUuYWFiYi5kaXN0YW5jZVkoXyk7bGV0IG89UCxzPTE7aWYoaCl7bz16KGUuYWFiYi5kaXN0YW5jZVooXykpO2NvbnN0IHQ9TWF0aC5wb3coMixlLnpvb20pLGk9dHAoKGUueSsxKS90KSxyPXRwKGUueS90KSxuPU1hdGgubWluKE1hdGgubWF4KGEsaSksciksbD1ZZChuKS9ZZChhKTtpZihzPW49PT1hPzEvTWF0aC5tYXgoMSx0aGlzLl9tZXJjYXRvclNjYWxlUmF0aW8tLjMpOk1hdGgubWluKDEsbC90aGlzLl9tZXJjYXRvclNjYWxlUmF0aW8pLHRoaXMuem9vbTw9dGQmJmUuem9vbT09PUktMSYmbD49LjkpcmV0dXJuICEwfWVsc2UgaWYobiYmKG89eihlLmFhYmIuZGlzdGFuY2VaKF8pKmYpKSx0aGlzLnByb2plY3Rpb24uaXNSZXByb2plY3RlZEluVGlsZVNwYWNlJiZpPD01KXtjb25zdCB0PU1hdGgucG93KDIsZS56b29tKSxpPVQobmV3IGxwKChlLngrLjUpL3QsKGUueSsuNSkvdCkpO3M9aT4uODU/MTppO31jb25zdCBsPXQqdCtyKnIrbyxjPXooKDE8PEktZS56b29tKSp5KnMqKChlLHQpPT57aWYodCp6KC43MDcpPGUpcmV0dXJuIDE7Y29uc3QgaT1NYXRoLnNxcnQodC9lKTtyZXR1cm4gaS8oMS40MTQ0MjcxNTcwMDE0MTQ0KyhNYXRoLnBvdygxLjEsaS0xLjQxNDQyNzE1NzAwMTQxNDQrMSktMSkvKDEuMS0xKS0xKX0pKE1hdGgubWF4KG8sUCksbCkpO3JldHVybiBsPGN9O2lmKHRoaXMucmVuZGVyV29ybGRDb3BpZXMpZm9yKGxldCBlPTE7ZTw9MztlKyspQS5wdXNoKE0oLWUpKSxBLnB1c2goTShlKSk7Zm9yKEEucHVzaChNKDApKTtBLmxlbmd0aD4wOyl7Y29uc3QgaT1BLnBvcCgpLHI9aS54LHM9aS55O2xldCBhPWkuZnVsbHlWaXNpYmxlO2NvbnN0IHU9KCk9PlwiZ2xvYmVcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lJiYoMD09PWkueXx8aS55PT09KDE8PGkuem9vbSktMSk7aWYoIWEpe2xldCBlPWc/aS5hYWJiLmludGVyc2VjdHMoZCk6aS5hYWJiLmludGVyc2VjdHNGbGF0KGQpO2lmKDA9PT1lJiZ1KCkpe2NvbnN0IHQ9bmV3IGp1KGkuem9vbSxyLHMpO2U9eWQodGhpcyxsLHQsITApLmludGVyc2VjdHMoZCk7fWlmKDA9PT1lKWNvbnRpbnVlO2E9Mj09PWU7fWlmKGkuem9vbSE9PUkmJlIoaSkpZm9yKGxldCBlPTA7ZTw0O2UrKyl7Y29uc3QgdD0ocjw8MSkrZSUyLGM9KHM8PDEpKyhlPj4xKSx1PXthYWJiOm8/aS5hYWJiLnF1YWRyYW50KGUpOkRnKHRoaXMsbCxpLnpvb20rMSx0LGMsaS53cmFwLGkubWluWixpLm1heFosdGhpcy5wcm9qZWN0aW9uKSx6b29tOmkuem9vbSsxLHg6dCx5OmMsd3JhcDppLndyYXAsZnVsbHlWaXNpYmxlOmEsdGlsZUlEOnZvaWQgMCxzaG91bGRTcGxpdDp2b2lkIDAsbWluWjppLm1pblosbWF4WjppLm1heFp9O24mJiFoJiYodS50aWxlSUQ9bmV3IHF1KGkuem9vbSsxPT09ST9DOmkuem9vbSsxLGkud3JhcCxpLnpvb20rMSx0LGMpLEQodSkpLEEucHVzaCh1KTt9ZWxzZSB7Y29uc3Qgbj1pLnpvb209PT1JP0M6aS56b29tO2lmKGUubWluem9vbSYmZS5taW56b29tPm4pY29udGludWU7aWYoIWEpe2xldCBlPWc/aS5hYWJiLmludGVyc2VjdHNQcmVjaXNlKGQpOmkuYWFiYi5pbnRlcnNlY3RzUHJlY2lzZUZsYXQoZCk7aWYoMD09PWUmJnUoKSl7Y29uc3QgdD1uZXcganUoaS56b29tLHIscyk7ZT15ZCh0aGlzLGwsdCwhMCkuaW50ZXJzZWN0c1ByZWNpc2UoZCk7fWlmKDA9PT1lKWNvbnRpbnVlfWNvbnN0IG89Y1swXS0oLjUrcisoaS53cmFwPDxpLnpvb20pKSooMTw8dC1pLnpvb20pLGg9Y1sxXS0uNS1zLHA9aS50aWxlSUQ/aS50aWxlSUQ6bmV3IHF1KG4saS53cmFwLGkuem9vbSxyLHMpO1MucHVzaCh7dGlsZUlEOnAsZGlzdGFuY2VTcTpvKm8raCpofSk7fX1pZih0aGlzLmZvZ0N1bGxEaXN0U3Epe2NvbnN0IHQ9dGhpcy5mb2dDdWxsRGlzdFNxLGk9dGhpcy5ob3Jpem9uTGluZUZyb21Ub3AoKTtTPVMuZmlsdGVyKChyPT57Y29uc3Qgbj1bMCwwLDAsMV0sbz1bY3IsY3IsMCwxXSxzPXRoaXMuY2FsY3VsYXRlRm9nVGlsZU1hdHJpeChyLnRpbGVJRC50b1Vud3JhcHBlZCgpKTt5dS50cmFuc2Zvcm1NYXQ0KG4sbixzKSx5dS50cmFuc2Zvcm1NYXQ0KG8sbyxzKTtjb25zdCBhPWZ1bmN0aW9uKGUsdCxpKXtsZXQgcj0wO2ZvcihsZXQgaT0wO2k8MjsrK2kpe2NvbnN0IG49MDtlW2ldPm4mJihyKz0oZVtpXS1uKSooZVtpXS1uKSksdFtpXTxuJiYocis9KG4tdFtpXSkqKG4tdFtpXSkpO31yZXR1cm4gcn0oeXUubWluKFtdLG4sbykseXUubWF4KFtdLG4sbykpO2lmKDA9PT1hKXJldHVybiAhMDtsZXQgbD0hMTtjb25zdCBjPXRoaXMuX2VsZXZhdGlvbjtpZihjJiZhPnQmJjAhPT1pKXtjb25zdCB0PXRoaXMuY2FsY3VsYXRlUHJvak1hdHJpeChyLnRpbGVJRC50b1Vud3JhcHBlZCgpKTtsZXQgbjtlLmlzVGVycmFpbkRFTXx8KG49Yy5nZXRNaW5NYXhGb3JUaWxlKHIudGlsZUlEKSksbnx8KG49e21pbjpiLG1heDp2fSk7Y29uc3Qgbz1mdW5jdGlvbihlKXtjb25zdCB0PU1hdGgucm91bmQoKGUrNDUrMzYwKSUzNjAvOTApJTQ7cmV0dXJuIEVbdF19KHRoaXMucm90YXRpb24pLHM9W29bMF0qY3Isb1sxXSpjcixuLm1heF07RHUudHJhbnNmb3JtTWF0NChzLHMsdCksbD0oMS1zWzFdKSp0aGlzLmhlaWdodCouNTxpO31yZXR1cm4gYTx0fHxsfSkpO31yZXR1cm4gUy5zb3J0KCgoZSx0KT0+ZS5kaXN0YW5jZVNxLXQuZGlzdGFuY2VTcSkpLm1hcCgoZT0+ZS50aWxlSUQpKX1yZXNpemUoZSx0KXt0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9dCx0aGlzLnBpeGVsc1RvR0xVbml0cz1bMi9lLC0yL3RdLHRoaXMuX2NvbnN0cmFpbigpLHRoaXMuX2NhbGNNYXRyaWNlcygpO31nZXQgdW5tb2RpZmllZCgpe3JldHVybiB0aGlzLl91bm1vZGlmaWVkfXpvb21TY2FsZShlKXtyZXR1cm4gTWF0aC5wb3coMixlKX1zY2FsZVpvb20oZSl7cmV0dXJuIE1hdGgubG9nKGUpL01hdGguTE4yfXByb2plY3QoZSl7Y29uc3QgdD16KGUubGF0LC1ycCxycCksaT10aGlzLnByb2plY3Rpb24ucHJvamVjdChlLmxuZyx0KTtyZXR1cm4gbmV3IHkoaS54KnRoaXMud29ybGRTaXplLGkueSp0aGlzLndvcmxkU2l6ZSl9dW5wcm9qZWN0KGUpe3JldHVybiB0aGlzLnByb2plY3Rpb24udW5wcm9qZWN0KGUueC90aGlzLndvcmxkU2l6ZSxlLnkvdGhpcy53b3JsZFNpemUpfWdldCBwb2ludCgpe3JldHVybiB0aGlzLnByb2plY3QodGhpcy5jZW50ZXIpfWdldCBwb2ludE1lcmMoKXtyZXR1cm4gdGhpcy5wb2ludC5fZGl2KHRoaXMud29ybGRTaXplKX1nZXQgcGl4ZWxzUGVyTWV0ZXJSYXRpbygpe3JldHVybiB0aGlzLnBpeGVsc1Blck1ldGVyL1FkKDEsdGhpcy5jZW50ZXIubGF0KS90aGlzLndvcmxkU2l6ZX1zZXRMb2NhdGlvbkF0UG9pbnQoZSx0KXtsZXQgaSxyO2NvbnN0IG49dGhpcy5jZW50ZXJQb2ludDtpZihcImdsb2JlXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZSl7Y29uc3QgZT10aGlzLndvcmxkU2l6ZTtpPSh0Lngtbi54KS9lLHI9KHQueS1uLnkpL2U7fWVsc2Uge2NvbnN0IGU9dGhpcy5wb2ludENvb3JkaW5hdGUodCksbz10aGlzLnBvaW50Q29vcmRpbmF0ZShuKTtpPWUueC1vLngscj1lLnktby55O31jb25zdCBvPXRoaXMubG9jYXRpb25Db29yZGluYXRlKGUpO3RoaXMuc2V0TG9jYXRpb24obmV3IGxwKG8ueC1pLG8ueS1yKSk7fXNldExvY2F0aW9uKGUpe3RoaXMuY2VudGVyPXRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKGUpLHRoaXMucHJvamVjdGlvbi53cmFwJiYodGhpcy5jZW50ZXI9dGhpcy5jZW50ZXIud3JhcCgpKTt9bG9jYXRpb25Qb2ludChlKXtyZXR1cm4gdGhpcy5wcm9qZWN0aW9uLmxvY2F0aW9uUG9pbnQodGhpcyxlKX1sb2NhdGlvblBvaW50M0QoZSl7cmV0dXJuIHRoaXMucHJvamVjdGlvbi5sb2NhdGlvblBvaW50KHRoaXMsZSwhMCl9cG9pbnRMb2NhdGlvbihlKXtyZXR1cm4gdGhpcy5jb29yZGluYXRlTG9jYXRpb24odGhpcy5wb2ludENvb3JkaW5hdGUoZSkpfXBvaW50TG9jYXRpb24zRChlKXtyZXR1cm4gdGhpcy5jb29yZGluYXRlTG9jYXRpb24odGhpcy5wb2ludENvb3JkaW5hdGUzRChlKSl9bG9jYXRpb25Db29yZGluYXRlKGUsdCl7Y29uc3QgaT10P1FkKHQsZS5sYXQpOnZvaWQgMCxyPXRoaXMucHJvamVjdGlvbi5wcm9qZWN0KGUubG5nLGUubGF0KTtyZXR1cm4gbmV3IGxwKHIueCxyLnksaSl9Y29vcmRpbmF0ZUxvY2F0aW9uKGUpe3JldHVybiB0aGlzLnByb2plY3Rpb24udW5wcm9qZWN0KGUueCxlLnkpfXBvaW50UmF5SW50ZXJzZWN0aW9uKGUsdCl7Y29uc3QgaT1udWxsIT10P3Q6dGhpcy5fY2VudGVyQWx0aXR1ZGUscj1bZS54LGUueSwwLDFdLG49W2UueCxlLnksMSwxXTt5dS50cmFuc2Zvcm1NYXQ0KHIscix0aGlzLnBpeGVsTWF0cml4SW52ZXJzZSkseXUudHJhbnNmb3JtTWF0NChuLG4sdGhpcy5waXhlbE1hdHJpeEludmVyc2UpO2NvbnN0IG89blszXTt5dS5zY2FsZShyLHIsMS9yWzNdKSx5dS5zY2FsZShuLG4sMS9vKTtjb25zdCBzPXJbMl0sYT1uWzJdO3JldHVybiB7cDA6cixwMTpuLHQ6cz09PWE/MDooaS1zKS8oYS1zKX19c2NyZWVuUG9pbnRUb01lcmNhdG9yUmF5KGUpe2NvbnN0IHQ9W2UueCxlLnksMCwxXSxpPVtlLngsZS55LDEsMV07cmV0dXJuIHl1LnRyYW5zZm9ybU1hdDQodCx0LHRoaXMucGl4ZWxNYXRyaXhJbnZlcnNlKSx5dS50cmFuc2Zvcm1NYXQ0KGksaSx0aGlzLnBpeGVsTWF0cml4SW52ZXJzZSkseXUuc2NhbGUodCx0LDEvdFszXSkseXUuc2NhbGUoaSxpLDEvaVszXSksdFsyXT1RZCh0WzJdLHRoaXMuX2NlbnRlci5sYXQpKnRoaXMud29ybGRTaXplLGlbMl09UWQoaVsyXSx0aGlzLl9jZW50ZXIubGF0KSp0aGlzLndvcmxkU2l6ZSx5dS5zY2FsZSh0LHQsMS90aGlzLndvcmxkU2l6ZSkseXUuc2NhbGUoaSxpLDEvdGhpcy53b3JsZFNpemUpLG5ldyBXdShbdFswXSx0WzFdLHRbMl1dLER1Lm5vcm1hbGl6ZShbXSxEdS5zdWIoW10saSx0KSkpfXJheUludGVyc2VjdGlvbkNvb3JkaW5hdGUoZSl7Y29uc3R7cDA6dCxwMTppLHQ6cn09ZSxuPVFkKHRbMl0sdGhpcy5fY2VudGVyLmxhdCksbz1RZChpWzJdLHRoaXMuX2NlbnRlci5sYXQpO3JldHVybiBuZXcgbHAoS3IodFswXSxpWzBdLHIpL3RoaXMud29ybGRTaXplLEtyKHRbMV0saVsxXSxyKS90aGlzLndvcmxkU2l6ZSxLcihuLG8scikpfXBvaW50Q29vcmRpbmF0ZShlLHQ9dGhpcy5fY2VudGVyQWx0aXR1ZGUpe3JldHVybiB0aGlzLnByb2plY3Rpb24ucG9pbnRDb29yZGluYXRlKHRoaXMsZS54LGUueSx0KX1wb2ludENvb3JkaW5hdGUzRChlKXtpZighdGhpcy5lbGV2YXRpb24pcmV0dXJuIHRoaXMucG9pbnRDb29yZGluYXRlKGUpO2xldCB0PXRoaXMucHJvamVjdGlvbi5wb2ludENvb3JkaW5hdGUzRCh0aGlzLGUueCxlLnkpO2lmKHQpcmV0dXJuIG5ldyBscCh0WzBdLHRbMV0sdFsyXSk7bGV0IGk9MCxyPXRoaXMuaG9yaXpvbkxpbmVGcm9tVG9wKCk7aWYoZS55PnIpcmV0dXJuIHRoaXMucG9pbnRDb29yZGluYXRlKGUpO2NvbnN0IG49LjAyKnIsbz1lLmNsb25lKCk7Zm9yKGxldCBlPTA7ZTwxMCYmci1pPm47ZSsrKXtvLnk9S3IoaSxyLC42Nik7Y29uc3QgZT10aGlzLnByb2plY3Rpb24ucG9pbnRDb29yZGluYXRlM0QodGhpcyxvLngsby55KTtlPyhyPW8ueSx0PWUpOmk9by55O31yZXR1cm4gdD9uZXcgbHAodFswXSx0WzFdLHRbMl0pOnRoaXMucG9pbnRDb29yZGluYXRlKGUpfWlzUG9pbnRBYm92ZUhvcml6b24oZSl7cmV0dXJuIHRoaXMucHJvamVjdGlvbi5pc1BvaW50QWJvdmVIb3Jpem9uKHRoaXMsZSl9aXNQb2ludE9uU3VyZmFjZShlKXtpZihlLnk8MHx8ZS55PnRoaXMuaGVpZ2h0fHxlLng8MHx8ZS54PnRoaXMud2lkdGgpcmV0dXJuICExO2lmKHRoaXMuZWxldmF0aW9ufHx0aGlzLnpvb20+PWlkKXJldHVybiAhdGhpcy5pc1BvaW50QWJvdmVIb3Jpem9uKGUpO2NvbnN0IHQ9dGhpcy5wb2ludENvb3JkaW5hdGUoZSk7cmV0dXJuIHQueT49MCYmdC55PD0xfV9jb29yZGluYXRlUG9pbnQoZSx0KXtjb25zdCBpPXQmJnRoaXMuZWxldmF0aW9uP3RoaXMuZWxldmF0aW9uLmdldEF0UG9pbnRPclplcm8oZSx0aGlzLl9jZW50ZXJBbHRpdHVkZSk6dGhpcy5fY2VudGVyQWx0aXR1ZGUscj1bZS54KnRoaXMud29ybGRTaXplLGUueSp0aGlzLndvcmxkU2l6ZSxpK2UudG9BbHRpdHVkZSgpLDFdO3JldHVybiB5dS50cmFuc2Zvcm1NYXQ0KHIscix0aGlzLnBpeGVsTWF0cml4KSxyWzNdPjA/bmV3IHkoclswXS9yWzNdLHJbMV0vclszXSk6bmV3IHkoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKX1fZ2V0Qm91bmRzTm9uUmVjdGFuZ3VsYXIoKXtjb25zdHt0b3A6ZSxsZWZ0OnR9PXRoaXMuX2VkZ2VJbnNldHMsaT10aGlzLmhlaWdodC10aGlzLl9lZGdlSW5zZXRzLmJvdHRvbSxyPXRoaXMud2lkdGgtdGhpcy5fZWRnZUluc2V0cy5yaWdodCxuPXRoaXMucG9pbnRMb2NhdGlvbjNEKG5ldyB5KHQsZSkpLG89dGhpcy5wb2ludExvY2F0aW9uM0QobmV3IHkocixlKSkscz10aGlzLnBvaW50TG9jYXRpb24zRChuZXcgeShyLGkpKSxhPXRoaXMucG9pbnRMb2NhdGlvbjNEKG5ldyB5KHQsaSkpO2xldCBsPU1hdGgubWluKG4ubG5nLG8ubG5nLHMubG5nLGEubG5nKSxjPU1hdGgubWF4KG4ubG5nLG8ubG5nLHMubG5nLGEubG5nKSxoPU1hdGgubWluKG4ubGF0LG8ubGF0LHMubGF0LGEubGF0KSx1PU1hdGgubWF4KG4ubGF0LG8ubGF0LHMubGF0LGEubGF0KTtjb25zdCBkPU1hdGgucG93KDIsLXRoaXMuem9vbSkvMTYqMjcwLHA9XCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWU/MTo0LGY9KGUsdCxpLHIsbik9Pntjb25zdCBvPShlK2kpLzIscz0odCtyKS8yLGE9bmV3IHkobyxzKSx7bG5nOm0sbGF0Ol99PXRoaXMucG9pbnRMb2NhdGlvbjNEKGEpLGc9TWF0aC5tYXgoMCxsLW0saC1fLG0tYyxfLXUpO2w9TWF0aC5taW4obCxtKSxjPU1hdGgubWF4KGMsbSksaD1NYXRoLm1pbihoLF8pLHU9TWF0aC5tYXgodSxfKSwobjxwfHxnPmQpJiYoZihlLHQsbyxzLG4rMSksZihvLHMsaSxyLG4rMSkpO307aWYoZih0LGUscixlLDEpLGYocixlLHIsaSwxKSxmKHIsaSx0LGksMSksZih0LGksdCxlLDEpLFwiZ2xvYmVcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lKXtjb25zdFtlLHRdPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9QXUuaWRlbnRpdHkobmV3IEZsb2F0NjRBcnJheSgxNikpO0F1Lm11bHRpcGx5KHQsZS5waXhlbE1hdHJpeCxlLmdsb2JlTWF0cml4KTtjb25zdCBpPVswLGFkLDBdLHI9WzAsbGQsMF07cmV0dXJuIER1LnRyYW5zZm9ybU1hdDQoaSxpLHQpLER1LnRyYW5zZm9ybU1hdDQocixyLHQpLFtpWzBdPjAmJmlbMF08PWUud2lkdGgmJmlbMV0+MCYmaVsxXTw9ZS5oZWlnaHQmJiFOZChlLG5ldyBXZChlLmNlbnRlci5sYXQsOTApKSxyWzBdPjAmJnJbMF08PWUud2lkdGgmJnJbMV0+MCYmclsxXTw9ZS5oZWlnaHQmJiFOZChlLG5ldyBXZChlLmNlbnRlci5sYXQsLTkwKSldfSh0aGlzKTtlPyh1PTkwLGM9MTgwLGw9LTE4MCk6dCYmKGg9LTkwLGM9MTgwLGw9LTE4MCk7fXJldHVybiBuZXcgc2MobmV3IFdkKGwsaCksbmV3IFdkKGMsdSkpfV9nZXRCb3VuZHNSZWN0YW5ndWxhcihlLHQpe2NvbnN0e3RvcDppLGxlZnQ6cn09dGhpcy5fZWRnZUluc2V0cyxuPXRoaXMuaGVpZ2h0LXRoaXMuX2VkZ2VJbnNldHMuYm90dG9tLG89dGhpcy53aWR0aC10aGlzLl9lZGdlSW5zZXRzLnJpZ2h0LHM9bmV3IHkocixpKSxhPW5ldyB5KG8saSksbD1uZXcgeShvLG4pLGM9bmV3IHkocixuKTtsZXQgaD10aGlzLnBvaW50Q29vcmRpbmF0ZShzLGUpLHU9dGhpcy5wb2ludENvb3JkaW5hdGUoYSxlKTtjb25zdCBkPXRoaXMucG9pbnRDb29yZGluYXRlKGwsdCkscD10aGlzLnBvaW50Q29vcmRpbmF0ZShjLHQpLGY9KGUsdCk9Pih0LnktZS55KS8odC54LWUueCk7cmV0dXJuIGgueT4xJiZ1Lnk+PTA/aD1uZXcgbHAoKDEtcC55KS9mKHAsaCkrcC54LDEpOmgueTwwJiZ1Lnk8PTEmJihoPW5ldyBscCgtcC55L2YocCxoKStwLngsMCkpLHUueT4xJiZoLnk+PTA/dT1uZXcgbHAoKDEtZC55KS9mKGQsdSkrZC54LDEpOnUueTwwJiZoLnk8PTEmJih1PW5ldyBscCgtZC55L2YoZCx1KStkLngsMCkpLChuZXcgc2MpLmV4dGVuZCh0aGlzLmNvb3JkaW5hdGVMb2NhdGlvbihoKSkuZXh0ZW5kKHRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKHUpKS5leHRlbmQodGhpcy5jb29yZGluYXRlTG9jYXRpb24ocCkpLmV4dGVuZCh0aGlzLmNvb3JkaW5hdGVMb2NhdGlvbihkKSl9X2dldEJvdW5kc1JlY3Rhbmd1bGFyVGVycmFpbigpe2NvbnN0IGU9dGhpcy5lbGV2YXRpb247aWYoIWUudmlzaWJsZURlbVRpbGVzLmxlbmd0aHx8ZS5pc1VzaW5nTW9ja1NvdXJjZSgpKXJldHVybiB0aGlzLl9nZXRCb3VuZHNSZWN0YW5ndWxhcigwLDApO2NvbnN0IHQ9ZS52aXNpYmxlRGVtVGlsZXMucmVkdWNlKCgoZSx0KT0+e2lmKHQuZGVtKXtjb25zdCBpPXQuZGVtLnRyZWU7ZS5taW49TWF0aC5taW4oZS5taW4saS5taW5pbXVtc1swXSksZS5tYXg9TWF0aC5tYXgoZS5tYXgsaS5tYXhpbXVtc1swXSk7fXJldHVybiBlfSkse21pbjpOdW1iZXIuTUFYX1ZBTFVFLG1heDowfSk7cmV0dXJuIHRoaXMuX2dldEJvdW5kc1JlY3Rhbmd1bGFyKHQubWluKmUuZXhhZ2dlcmF0aW9uKCksdC5tYXgqZS5leGFnZ2VyYXRpb24oKSl9Z2V0Qm91bmRzKCl7cmV0dXJuIFwibWVyY2F0b3JcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lfHxcImVxdWlyZWN0YW5ndWxhclwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWU/dGhpcy5fdGVycmFpbkVuYWJsZWQoKT90aGlzLl9nZXRCb3VuZHNSZWN0YW5ndWxhclRlcnJhaW4oKTp0aGlzLl9nZXRCb3VuZHNSZWN0YW5ndWxhcigwLDApOnRoaXMuX2dldEJvdW5kc05vblJlY3Rhbmd1bGFyKCl9aG9yaXpvbkxpbmVGcm9tVG9wKGU9ITApe2NvbnN0IHQ9dGhpcy5oZWlnaHQvMi9NYXRoLnRhbih0aGlzLl9mb3YvMikvTWF0aC50YW4oTWF0aC5tYXgodGhpcy5fcGl0Y2gsLjEpKS10aGlzLmNlbnRlck9mZnNldC55LGk9dGhpcy5oZWlnaHQvMi10KigxLXRoaXMuX2hvcml6b25TaGlmdCk7cmV0dXJuIGU/TWF0aC5tYXgoMCxpKTppfWdldE1heEJvdW5kcygpe3JldHVybiB0aGlzLm1heEJvdW5kc31zZXRNYXhCb3VuZHMoZSl7dGhpcy5tYXhCb3VuZHM9ZSx0aGlzLm1pbkxhdD0tcnAsdGhpcy5tYXhMYXQ9cnAsdGhpcy5taW5Mbmc9LTE4MCx0aGlzLm1heExuZz0xODAsZSYmKHRoaXMubWluTGF0PWUuZ2V0U291dGgoKSx0aGlzLm1heExhdD1lLmdldE5vcnRoKCksdGhpcy5taW5Mbmc9ZS5nZXRXZXN0KCksdGhpcy5tYXhMbmc9ZS5nZXRFYXN0KCksdGhpcy5tYXhMbmc8dGhpcy5taW5MbmcmJih0aGlzLm1heExuZys9MzYwKSksdGhpcy53b3JsZE1pblg9S2QodGhpcy5taW5MbmcpKnRoaXMudGlsZVNpemUsdGhpcy53b3JsZE1heFg9S2QodGhpcy5tYXhMbmcpKnRoaXMudGlsZVNpemUsdGhpcy53b3JsZE1pblk9SmQodGhpcy5tYXhMYXQpKnRoaXMudGlsZVNpemUsdGhpcy53b3JsZE1heFk9SmQodGhpcy5taW5MYXQpKnRoaXMudGlsZVNpemUsdGhpcy5fY29uc3RyYWluKCk7fWNhbGN1bGF0ZVBvc01hdHJpeChlLHQpe3JldHVybiB0aGlzLnByb2plY3Rpb24uY3JlYXRlVGlsZU1hdHJpeCh0aGlzLHQsZSl9Y2FsY3VsYXRlRGlzdGFuY2VUaWxlRGF0YShlKXtjb25zdCB0PWUua2V5LGk9dGhpcy5fZGlzdGFuY2VUaWxlRGF0YUNhY2hlO2lmKGlbdF0pcmV0dXJuIGlbdF07Y29uc3Qgcj1lLmNhbm9uaWNhbCxuPTEvdGhpcy5oZWlnaHQsbz10aGlzLmNhbWVyYVdvcmxkU2l6ZSxzPW8vdGhpcy56b29tU2NhbGUoci56KSxhPShyLngrTWF0aC5wb3coMixyLnopKmUud3JhcCkqcyxsPXIueSpzLGM9dGhpcy5wb2ludDtjLngqPW8vdGhpcy53b3JsZFNpemUsYy55Kj1vL3RoaXMud29ybGRTaXplO2NvbnN0IGg9dGhpcy5hbmdsZSx1PU1hdGguc2luKC1oKSxkPS1NYXRoLmNvcygtaCk7cmV0dXJuIGlbdF09e2JlYXJpbmc6W3UsZF0sY2VudGVyOlsoYy54LWEpKm4sKGMueS1sKSpuXSxzY2FsZTpzL2NyKm59LGlbdF19Y2FsY3VsYXRlRm9nVGlsZU1hdHJpeChlKXtjb25zdCB0PWUua2V5LGk9dGhpcy5fZm9nVGlsZU1hdHJpeENhY2hlO2lmKGlbdF0pcmV0dXJuIGlbdF07Y29uc3Qgcj10aGlzLnByb2plY3Rpb24uY3JlYXRlVGlsZU1hdHJpeCh0aGlzLHRoaXMuY2FtZXJhV29ybGRTaXplRm9yRm9nLGUpO3JldHVybiBBdS5tdWx0aXBseShyLHRoaXMud29ybGRUb0ZvZ01hdHJpeCxyKSxpW3RdPW5ldyBGbG9hdDMyQXJyYXkociksaVt0XX1jYWxjdWxhdGVQcm9qTWF0cml4KGUsdD0hMSxpPSExKXtjb25zdCByPWUua2V5O2xldCBuO2lmKG49aT90aGlzLl9leHBhbmRlZFByb2pNYXRyaXhDYWNoZTp0P3RoaXMuX2FsaWduZWRQcm9qTWF0cml4Q2FjaGU6dGhpcy5fcHJvak1hdHJpeENhY2hlLG5bcl0pcmV0dXJuIG5bcl07Y29uc3Qgbz10aGlzLmNhbGN1bGF0ZVBvc01hdHJpeChlLHRoaXMud29ybGRTaXplKTtsZXQgcztyZXR1cm4gcz10aGlzLnByb2plY3Rpb24uaXNSZXByb2plY3RlZEluVGlsZVNwYWNlP3RoaXMubWVyY2F0b3JNYXRyaXg6aT90aGlzLmV4cGFuZGVkRmFyWlByb2pNYXRyaXg6dD90aGlzLmFsaWduZWRQcm9qTWF0cml4OnRoaXMucHJvak1hdHJpeCxBdS5tdWx0aXBseShvLHMsbyksbltyXT1uZXcgRmxvYXQzMkFycmF5KG8pLG5bcl19Y2FsY3VsYXRlUGl4ZWxzVG9UaWxlVW5pdHNNYXRyaXgoZSl7Y29uc3QgdD1lLnRpbGVJRC5rZXksaT10aGlzLl9waXhlbHNUb1RpbGVVbml0c0NhY2hlO2lmKGlbdF0pcmV0dXJuIGlbdF07Y29uc3Qgcj1mdW5jdGlvbihlLHQpe2NvbnN0e3NjYWxlOml9PWUudGlsZVRyYW5zZm9ybSxyPWkqY3IvKGUudGlsZVNpemUqTWF0aC5wb3coMix0Lnpvb20tZS50aWxlSUQub3ZlcnNjYWxlZForZS50aWxlSUQuY2Fub25pY2FsLnopKTtyZXR1cm4gYnUuc2NhbGUobmV3IEZsb2F0MzJBcnJheSg0KSx0LmludmVyc2VBZGp1c3RtZW50TWF0cml4LFtyLHJdKX0oZSx0aGlzKTtyZXR1cm4gaVt0XT1yLGlbdF19Y3VzdG9tTGF5ZXJNYXRyaXgoKXtyZXR1cm4gdGhpcy5tZXJjYXRvck1hdHJpeC5zbGljZSgpfWdsb2JlVG9NZXJjYXRvck1hdHJpeCgpe2lmKFwiZ2xvYmVcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lKXtjb25zdCBlPTEvdGhpcy53b3JsZFNpemUsdD1BdS5mcm9tU2NhbGluZyhbXSxbZSxlLGVdKTtyZXR1cm4gQXUubXVsdGlwbHkodCx0LHRoaXMuZ2xvYmVNYXRyaXgpLHR9fXJlY2VudGVyT25UZXJyYWluKCl7aWYoIXRoaXMuX2VsZXZhdGlvbnx8XCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWUpcmV0dXJuO2NvbnN0IGU9dGhpcy5fZWxldmF0aW9uO3RoaXMuX3VwZGF0ZUNhbWVyYVN0YXRlKCk7Y29uc3QgdD1RZCgxLHRoaXMuX2NlbnRlci5sYXQpKnRoaXMud29ybGRTaXplLGk9dGhpcy5fY29tcHV0ZUNhbWVyYVBvc2l0aW9uKHQpLHI9dGhpcy5fY2FtZXJhLmZvcndhcmQoKSxuPVFkKDEsdGhpcy5fY2VudGVyLmxhdCk7aVsyXS89bixyWzJdLz1uLER1Lm5vcm1hbGl6ZShyLHIpO2NvbnN0IG89ZS5yYXljYXN0KGkscixlLmV4YWdnZXJhdGlvbigpKTtpZihvKXtjb25zdCBlPUR1LnNjYWxlQW5kQWRkKFtdLGkscixvKSx0PW5ldyBscChlWzBdLGVbMV0sUWQoZVsyXSx0cChlWzFdKSkpLHM9KHQueitEdS5sZW5ndGgoW3QueC1pWzBdLHQueS1pWzFdLHQuei1pWzJdKm5dKSkqdGhpcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbDt0aGlzLl9zZWFMZXZlbFpvb209dGhpcy5fem9vbUZyb21NZXJjYXRvcloocyksdGhpcy5fY2VudGVyQWx0aXR1ZGU9dC50b0FsdGl0dWRlKCksdGhpcy5fY2VudGVyPXRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKHQpLHRoaXMuX3VwZGF0ZVpvb21Gcm9tRWxldmF0aW9uKCksdGhpcy5fY29uc3RyYWluKCksdGhpcy5fY2FsY01hdHJpY2VzKCk7fX1fY29uc3RyYWluQ2FtZXJhKGU9ITEpe2lmKCF0aGlzLl9lbGV2YXRpb24pcmV0dXJuO2NvbnN0IHQ9dGhpcy5fZWxldmF0aW9uLGk9UWQoMSx0aGlzLl9jZW50ZXIubGF0KSp0aGlzLndvcmxkU2l6ZSxyPXRoaXMuX2NvbXB1dGVDYW1lcmFQb3NpdGlvbihpKSxuPXQuZ2V0QXRQb2ludE9yWmVybyhuZXcgbHAoLi4ucikpLG89dGhpcy5waXhlbHNQZXJNZXRlci90aGlzLndvcmxkU2l6ZSpuLHM9dGhpcy5fbWluaW11bUhlaWdodE92ZXJUZXJyYWluKCksYT1yWzJdLW87aWYoYTw9cylpZihhPDB8fGUpe2NvbnN0IGU9dGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUodGhpcy5fY2VudGVyLHRoaXMuX2NlbnRlckFsdGl0dWRlKSx0PVtyWzBdLHJbMV0sZS56LXJbMl1dLGk9RHUubGVuZ3RoKHQpO3RbMl0tPShzLWEpL3RoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWw7Y29uc3Qgbj1EdS5sZW5ndGgodCk7aWYoMD09PW4pcmV0dXJuO0R1LnNjYWxlKHQsdCxpL24qdGhpcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCksdGhpcy5fY2FtZXJhLnBvc2l0aW9uPVtyWzBdLHJbMV0sZS56KnRoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwtdFsyXV0sdGhpcy5fdXBkYXRlU3RhdGVGcm9tQ2FtZXJhKCk7fWVsc2UgdGhpcy5faXNDYW1lcmFDb25zdHJhaW5lZD0hMDt9X2NvbnN0cmFpbigpe2lmKCF0aGlzLmNlbnRlcnx8IXRoaXMud2lkdGh8fCF0aGlzLmhlaWdodHx8dGhpcy5fY29uc3RyYWluaW5nKXJldHVybjt0aGlzLl9jb25zdHJhaW5pbmc9ITA7Y29uc3QgZT1cImdsb2JlXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZXx8dGhpcy5tZXJjYXRvckZyb21UcmFuc2l0aW9uO2lmKHRoaXMucHJvamVjdGlvbi5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2V8fGUpe2NvbnN0IHQ9dGhpcy5jZW50ZXI7cmV0dXJuIHQubGF0PXoodC5sYXQsdGhpcy5taW5MYXQsdGhpcy5tYXhMYXQpLCh0aGlzLm1heEJvdW5kc3x8IXRoaXMucmVuZGVyV29ybGRDb3BpZXMmJiFlKSYmKHQubG5nPXoodC5sbmcsdGhpcy5taW5MbmcsdGhpcy5tYXhMbmcpKSx0aGlzLmNlbnRlcj10LHZvaWQodGhpcy5fY29uc3RyYWluaW5nPSExKX1jb25zdCB0PXRoaXMuX3VubW9kaWZpZWQse3g6aSx5OnJ9PXRoaXMucG9pbnQ7bGV0IG49MCxvPWkscz1yO2NvbnN0IGE9dGhpcy53aWR0aC8yLGw9dGhpcy5oZWlnaHQvMixjPXRoaXMud29ybGRNaW5ZKnRoaXMuc2NhbGUsaD10aGlzLndvcmxkTWF4WSp0aGlzLnNjYWxlO2lmKHItbDxjJiYocz1jK2wpLHIrbD5oJiYocz1oLWwpLGgtYzx0aGlzLmhlaWdodCYmKG49TWF0aC5tYXgobix0aGlzLmhlaWdodC8oaC1jKSkscz0oaCtjKS8yKSx0aGlzLm1heEJvdW5kc3x8IXRoaXMuX3JlbmRlcldvcmxkQ29waWVzfHwhdGhpcy5wcm9qZWN0aW9uLndyYXApe2NvbnN0IGU9dGhpcy53b3JsZE1pblgqdGhpcy5zY2FsZSx0PXRoaXMud29ybGRNYXhYKnRoaXMuc2NhbGUscj10aGlzLndvcmxkU2l6ZS8yLShlK3QpLzI7bz0oaStyK3RoaXMud29ybGRTaXplKSV0aGlzLndvcmxkU2l6ZS1yLG8tYTxlJiYobz1lK2EpLG8rYT50JiYobz10LWEpLHQtZTx0aGlzLndpZHRoJiYobj1NYXRoLm1heChuLHRoaXMud2lkdGgvKHQtZSkpLG89KHQrZSkvMik7fW89PT1pJiZzPT09cnx8KHRoaXMuY2VudGVyPXRoaXMudW5wcm9qZWN0KG5ldyB5KG8scykpKSxuJiYodGhpcy56b29tKz10aGlzLnNjYWxlWm9vbShuKSksdGhpcy5fY29uc3RyYWluQ2FtZXJhKCksdGhpcy5fdW5tb2RpZmllZD10LHRoaXMuX2NvbnN0cmFpbmluZz0hMTt9X21pblpvb21Gb3JCb3VuZHMoKXtsZXQgZT1NYXRoLm1heCgwLHRoaXMuc2NhbGVab29tKHRoaXMuaGVpZ2h0Lyh0aGlzLndvcmxkTWF4WS10aGlzLndvcmxkTWluWSkpKTtyZXR1cm4gdGhpcy5tYXhCb3VuZHMmJihlPU1hdGgubWF4KGUsdGhpcy5zY2FsZVpvb20odGhpcy53aWR0aC8odGhpcy53b3JsZE1heFgtdGhpcy53b3JsZE1pblgpKSkpLGV9X21heENhbWVyYUJvdW5kc0Rpc3RhbmNlKCl7cmV0dXJuIHRoaXMuX21lcmNhdG9yWmZyb21ab29tKHRoaXMuX21pblpvb21Gb3JCb3VuZHMoKSl9X2NhbGNNYXRyaWNlcygpe2lmKCF0aGlzLmhlaWdodClyZXR1cm47Y29uc3QgZT10aGlzLmNlbnRlck9mZnNldCx0PVwiZ2xvYmVcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lLGk9dGhpcy5waXhlbHNQZXJNZXRlcjtcImdsb2JlXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZSYmKHRoaXMuX21lcmNhdG9yU2NhbGVSYXRpbz1RZCgxLHRoaXMuY2VudGVyLmxhdCkvUWQoMSw0NSkpO2NvbnN0IHI9UXgodGhpcy5wcm9qZWN0aW9uLHRoaXMuem9vbSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LDEwMjQpO3RoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWw9dGhpcy5wcm9qZWN0aW9uLnBpeGVsU3BhY2VDb252ZXJzaW9uKHRoaXMuY2VudGVyLmxhdCx0aGlzLndvcmxkU2l6ZSxyKSx0aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2U9LjUvTWF0aC50YW4oLjUqdGhpcy5fZm92KSp0aGlzLmhlaWdodCp0aGlzLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsLHRoaXMuX3VwZGF0ZUNhbWVyYVN0YXRlKCksdGhpcy5fZmFyWj10aGlzLnByb2plY3Rpb24uZmFydGhlc3RQaXhlbERpc3RhbmNlKHRoaXMpLHRoaXMuX25lYXJaPXRoaXMuaGVpZ2h0LzUwO2NvbnN0IG49XCJtZXRlcnNcIj09PXRoaXMucHJvamVjdGlvbi56QXhpc1VuaXQ/aToxLG89dGhpcy5fY2FtZXJhLmdldFdvcmxkVG9DYW1lcmEodGhpcy53b3JsZFNpemUsbik7bGV0IHM7Y29uc3QgYT10aGlzLl9jYW1lcmEuZ2V0Q2FtZXJhVG9DbGlwUGVyc3BlY3RpdmUodGhpcy5fZm92LHRoaXMud2lkdGgvdGhpcy5oZWlnaHQsdGhpcy5fbmVhclosdGhpcy5fZmFyWik7aWYoYVs4XT0yKi1lLngvdGhpcy53aWR0aCxhWzldPTIqZS55L3RoaXMuaGVpZ2h0LHRoaXMuaXNPcnRob2dyYXBoaWMpe2xldCB0PS41KnRoaXMuaGVpZ2h0L01hdGgudGFuKHRoaXMuX2Zvdi8yKSoxKk1hdGgudGFuKC41KnRoaXMuX2ZvdiksaT10KnRoaXMuYXNwZWN0LHI9LWksbj0tdDtpLT1lLngsci09ZS54LHQrPWUueSxuKz1lLnkscz10aGlzLl9jYW1lcmEuZ2V0Q2FtZXJhVG9DbGlwT3J0aG9ncmFwaGljKHIsaSxuLHQsdGhpcy5fbmVhclosdGhpcy5fZmFyWiksKChlLHQsaSxyKT0+e2ZvcihsZXQgbj0wO248MTY7bisrKWVbbl09YnYodFtuXSxpW25dLHIpO30pKHMscyxhLHd2KHRoaXMucGl0Y2g+PTE1PzE6dGhpcy5waXRjaC8xNSkpO31lbHNlIHM9YTtjb25zdCBsPUF1Lm11bChbXSxhLG8pO2xldCBjPUF1Lm11bChbXSxzLG8pO2lmKHRoaXMucHJvamVjdGlvbi5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2Upe2NvbnN0IGU9dGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUodGhpcy5jZW50ZXIpLHQ9QXUuaWRlbnRpdHkoW10pO0F1LnRyYW5zbGF0ZSh0LHQsW2UueCp0aGlzLndvcmxkU2l6ZSxlLnkqdGhpcy53b3JsZFNpemUsMF0pLEF1Lm11bHRpcGx5KHQsdCxLeCh0aGlzKSksQXUudHJhbnNsYXRlKHQsdCxbLWUueCp0aGlzLndvcmxkU2l6ZSwtZS55KnRoaXMud29ybGRTaXplLDBdKSxBdS5tdWx0aXBseShjLGMsdCksQXUubXVsdGlwbHkobCxsLHQpLHRoaXMuaW52ZXJzZUFkanVzdG1lbnRNYXRyaXg9ZnVuY3Rpb24oZSl7Y29uc3QgdD1LeChlLCEwKTtyZXR1cm4gYnUuaW52ZXJ0KFtdLFt0WzBdLHRbMV0sdFs0XSx0WzVdXSl9KHRoaXMpO31lbHNlIHRoaXMuaW52ZXJzZUFkanVzdG1lbnRNYXRyaXg9WzEsMCwwLDFdO2lmKHRoaXMubWVyY2F0b3JNYXRyaXg9QXUuc2NhbGUoW10sYyxbdGhpcy53b3JsZFNpemUsdGhpcy53b3JsZFNpemUsdGhpcy53b3JsZFNpemUvbiwxXSksdGhpcy5wcm9qTWF0cml4PWMsdGhpcy5pbnZQcm9qTWF0cml4PUF1LmludmVydChuZXcgRmxvYXQ2NEFycmF5KDE2KSx0aGlzLnByb2pNYXRyaXgpLHQpe2NvbnN0IHQ9dGhpcy5fY2FtZXJhLmdldENhbWVyYVRvQ2xpcFBlcnNwZWN0aXZlKHRoaXMuX2Zvdix0aGlzLndpZHRoL3RoaXMuaGVpZ2h0LHRoaXMuX25lYXJaLDEvMCk7dFs4XT0yKi1lLngvdGhpcy53aWR0aCx0WzldPTIqZS55L3RoaXMuaGVpZ2h0LHRoaXMuZXhwYW5kZWRGYXJaUHJvak1hdHJpeD1BdS5tdWwoW10sdCxvKTt9ZWxzZSB0aGlzLmV4cGFuZGVkRmFyWlByb2pNYXRyaXg9dGhpcy5wcm9qTWF0cml4O2NvbnN0IGg9QXUuaW52ZXJ0KFtdLHMpO3RoaXMuZnJ1c3R1bUNvcm5lcnM9SHUuZnJvbUludlByb2plY3Rpb25NYXRyaXgoaCx0aGlzLmhvcml6b25MaW5lRnJvbVRvcCgpLHRoaXMuaGVpZ2h0KSx0aGlzLmNhbWVyYUZydXN0dW09UXUuZnJvbUludlByb2plY3Rpb25NYXRyaXgodGhpcy5pbnZQcm9qTWF0cml4LHRoaXMud29ybGRTaXplLDAsIXQpO2NvbnN0IHU9bmV3IEZsb2F0MzJBcnJheSgxNik7QXUuaWRlbnRpdHkodSksQXUuc2NhbGUodSx1LFsxLC0xLDFdKSxBdS5yb3RhdGVYKHUsdSx0aGlzLl9waXRjaCksQXUucm90YXRlWih1LHUsdGhpcy5hbmdsZSk7Y29uc3QgZD1BdS5wZXJzcGVjdGl2ZShuZXcgRmxvYXQzMkFycmF5KDE2KSx0aGlzLl9mb3YsdGhpcy53aWR0aC90aGlzLmhlaWdodCx0aGlzLl9uZWFyWix0aGlzLl9mYXJaKTt0aGlzLnN0YXJzUHJvak1hdHJpeD1BdS5jbG9uZShkKTtjb25zdCBwPShNYXRoLlBJLzItdGhpcy5fcGl0Y2gpKih0aGlzLmhlaWdodC90aGlzLl9mb3YpKnRoaXMuX2hvcml6b25TaGlmdDtkWzhdPTIqLWUueC90aGlzLndpZHRoLGRbOV09MiooZS55K3ApL3RoaXMuaGVpZ2h0LHRoaXMuc2t5Ym94TWF0cml4PUF1Lm11bHRpcGx5KHUsZCx1KTtjb25zdCBmPXRoaXMucG9pbnQsbT1mLngsXz1mLnksZz10aGlzLndpZHRoJTIvMix5PXRoaXMuaGVpZ2h0JTIvMix4PU1hdGguY29zKHRoaXMuYW5nbGUpLHY9TWF0aC5zaW4odGhpcy5hbmdsZSksYj1tLU1hdGgucm91bmQobSkreCpnK3YqeSx3PV8tTWF0aC5yb3VuZChfKSt4KnkrdipnLFQ9bmV3IEZsb2F0NjRBcnJheShjKTtpZihBdS50cmFuc2xhdGUoVCxULFtiPi41P2ItMTpiLHc+LjU/dy0xOncsMF0pLHRoaXMuYWxpZ25lZFByb2pNYXRyaXg9VCxjPUF1LmNyZWF0ZSgpLEF1LnNjYWxlKGMsYyxbdGhpcy53aWR0aC8yLC10aGlzLmhlaWdodC8yLDFdKSxBdS50cmFuc2xhdGUoYyxjLFsxLC0xLDBdKSx0aGlzLmxhYmVsUGxhbmVNYXRyaXg9YyxjPUF1LmNyZWF0ZSgpLEF1LnNjYWxlKGMsYyxbMSwtMSwxXSksQXUudHJhbnNsYXRlKGMsYyxbLTEsLTEsMF0pLEF1LnNjYWxlKGMsYyxbMi90aGlzLndpZHRoLDIvdGhpcy5oZWlnaHQsMV0pLHRoaXMuZ2xDb29yZE1hdHJpeD1jLHRoaXMucGl4ZWxNYXRyaXg9QXUubXVsdGlwbHkobmV3IEZsb2F0NjRBcnJheSgxNiksdGhpcy5sYWJlbFBsYW5lTWF0cml4LGwpLHRoaXMuX2NhbGNGb2dNYXRyaWNlcygpLHRoaXMuX2Rpc3RhbmNlVGlsZURhdGFDYWNoZT17fSxjPUF1LmludmVydChuZXcgRmxvYXQ2NEFycmF5KDE2KSx0aGlzLnBpeGVsTWF0cml4KSwhYyl0aHJvdyBuZXcgRXJyb3IoXCJmYWlsZWQgdG8gaW52ZXJ0IG1hdHJpeFwiKTtpZih0aGlzLnBpeGVsTWF0cml4SW52ZXJzZT1jLFwiZ2xvYmVcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lfHx0aGlzLm1lcmNhdG9yRnJvbVRyYW5zaXRpb24pe3RoaXMuZ2xvYmVNYXRyaXg9ZnVuY3Rpb24oZSl7Y29uc3R7eDp0LHk6aX09ZS5wb2ludCx7bG5nOnIsbGF0Om59PWUuX2NlbnRlcjtyZXR1cm4gemQodCxpLGUud29ybGRTaXplLHIsbil9KHRoaXMpO2NvbnN0IGU9W3RoaXMuZ2xvYmVNYXRyaXhbMTJdLHRoaXMuZ2xvYmVNYXRyaXhbMTNdLHRoaXMuZ2xvYmVNYXRyaXhbMTRdXTt0aGlzLmdsb2JlQ2VudGVySW5WaWV3U3BhY2U9RHUudHJhbnNmb3JtTWF0NChlLGUsbyksdGhpcy5nbG9iZVJhZGl1cz10aGlzLndvcmxkU2l6ZS8yL01hdGguUEktMTt9ZWxzZSB0aGlzLmdsb2JlTWF0cml4PWM7dGhpcy5fcHJvak1hdHJpeENhY2hlPXt9LHRoaXMuX2FsaWduZWRQcm9qTWF0cml4Q2FjaGU9e30sdGhpcy5fcGl4ZWxzVG9UaWxlVW5pdHNDYWNoZT17fSx0aGlzLl9leHBhbmRlZFByb2pNYXRyaXhDYWNoZT17fTt9X2NhbGNGb2dNYXRyaWNlcygpe3RoaXMuX2ZvZ1RpbGVNYXRyaXhDYWNoZT17fTtjb25zdCBlPXRoaXMuY2FtZXJhV29ybGRTaXplRm9yRm9nLHQ9dGhpcy5jYW1lcmFQaXhlbHNQZXJNZXRlcixpPXRoaXMuX2NhbWVyYS5wb3NpdGlvbixyPTEvdGhpcy5oZWlnaHQvdGhpcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCxuPVtlLGUsdF07RHUuc2NhbGUobixuLHIpLER1LnNjYWxlKGksaSwtMSksRHUubXVsdGlwbHkoaSxpLG4pO2NvbnN0IG89QXUuY3JlYXRlKCk7QXUudHJhbnNsYXRlKG8sbyxpKSxBdS5zY2FsZShvLG8sbiksdGhpcy5tZXJjYXRvckZvZ01hdHJpeD1vLHRoaXMud29ybGRUb0ZvZ01hdHJpeD10aGlzLl9jYW1lcmEuZ2V0V29ybGRUb0NhbWVyYVBvc2l0aW9uKGUsdCxyKTt9X2NvbXB1dGVDYW1lcmFQb3NpdGlvbihlKXtjb25zdCB0PShlPWV8fHRoaXMucGl4ZWxzUGVyTWV0ZXIpL3RoaXMucGl4ZWxzUGVyTWV0ZXIsaT10aGlzLl9jYW1lcmEuZm9yd2FyZCgpLHI9dGhpcy5wb2ludCxuPXRoaXMuX21lcmNhdG9yWmZyb21ab29tKHRoaXMuX3NlYUxldmVsWm9vbT90aGlzLl9zZWFMZXZlbFpvb206dGhpcy5fem9vbSkqdC1lL3RoaXMud29ybGRTaXplKnRoaXMuX2NlbnRlckFsdGl0dWRlO3JldHVybiBbci54L3RoaXMud29ybGRTaXplLWlbMF0qbixyLnkvdGhpcy53b3JsZFNpemUtaVsxXSpuLGUvdGhpcy53b3JsZFNpemUqdGhpcy5fY2VudGVyQWx0aXR1ZGUtaVsyXSpuXX1fdXBkYXRlQ2FtZXJhU3RhdGUoKXt0aGlzLmhlaWdodCYmKHRoaXMuX2NhbWVyYS5zZXRQaXRjaEJlYXJpbmcodGhpcy5fcGl0Y2gsdGhpcy5hbmdsZSksdGhpcy5fY2FtZXJhLnBvc2l0aW9uPXRoaXMuX2NvbXB1dGVDYW1lcmFQb3NpdGlvbigpKTt9X3RyYW5zbGF0ZUNhbWVyYUNvbnN0cmFpbmVkKGUpe2NvbnN0IHQ9dGhpcy5fbWF4Q2FtZXJhQm91bmRzRGlzdGFuY2UoKSpNYXRoLmNvcyh0aGlzLl9waXRjaCksaT10aGlzLl9jYW1lcmEucG9zaXRpb25bMl0scj1lWzJdO2xldCBuPTE7dGhpcy5wcm9qZWN0aW9uLndyYXAmJih0aGlzLmNlbnRlcj10aGlzLmNlbnRlci53cmFwKCkpLHI+MCYmKG49TWF0aC5taW4oKHQtaSkvciwxKSksdGhpcy5fY2FtZXJhLnBvc2l0aW9uPUR1LnNjYWxlQW5kQWRkKFtdLHRoaXMuX2NhbWVyYS5wb3NpdGlvbixlLG4pLHRoaXMuX3VwZGF0ZVN0YXRlRnJvbUNhbWVyYSgpO31fdXBkYXRlU3RhdGVGcm9tQ2FtZXJhKCl7Y29uc3QgZT10aGlzLl9jYW1lcmEucG9zaXRpb24sdD10aGlzLl9jYW1lcmEuZm9yd2FyZCgpLHtwaXRjaDppLGJlYXJpbmc6cn09dGhpcy5fY2FtZXJhLmdldFBpdGNoQmVhcmluZygpLG49UWQodGhpcy5fY2VudGVyQWx0aXR1ZGUsdGhpcy5jZW50ZXIubGF0KSp0aGlzLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsLG89dGhpcy5fbWVyY2F0b3JaZnJvbVpvb20odGhpcy5fbWF4Wm9vbSkqTWF0aC5jb3Modyh0aGlzLl9tYXhQaXRjaCkpLHM9TWF0aC5tYXgoKGVbMl0tbikvTWF0aC5jb3MoaSksbyksYT10aGlzLl96b29tRnJvbU1lcmNhdG9yWihzKTtEdS5zY2FsZUFuZEFkZChlLGUsdCxzKSx0aGlzLl9waXRjaD16KGksdyh0aGlzLm1pblBpdGNoKSx3KHRoaXMubWF4UGl0Y2gpKSx0aGlzLmFuZ2xlPUQociwtTWF0aC5QSSxNYXRoLlBJKSx0aGlzLl9zZXRab29tKHooYSx0aGlzLl9taW5ab29tLHRoaXMuX21heFpvb20pKSx0aGlzLl91cGRhdGVTZWFMZXZlbFpvb20oKSx0aGlzLl9jZW50ZXI9dGhpcy5jb29yZGluYXRlTG9jYXRpb24obmV3IGxwKGVbMF0sZVsxXSxlWzJdKSksdGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLl9jb25zdHJhaW4oKSx0aGlzLl9jYWxjTWF0cmljZXMoKTt9X3dvcmxkU2l6ZUZyb21ab29tKGUpe3JldHVybiBNYXRoLnBvdygyLGUpKnRoaXMudGlsZVNpemV9X21lcmNhdG9yWmZyb21ab29tKGUpe3JldHVybiB0aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UvdGhpcy5fd29ybGRTaXplRnJvbVpvb20oZSl9X21pbmltdW1IZWlnaHRPdmVyVGVycmFpbigpe2NvbnN0IGU9TWF0aC5taW4oKG51bGwhPXRoaXMuX3NlYUxldmVsWm9vbT90aGlzLl9zZWFMZXZlbFpvb206dGhpcy5fem9vbSkrNCx0aGlzLl9tYXhab29tKTtyZXR1cm4gdGhpcy5fbWVyY2F0b3JaZnJvbVpvb20oZSl9X3pvb21Gcm9tTWVyY2F0b3JaKGUpe3JldHVybiB0aGlzLnNjYWxlWm9vbSh0aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UvKGUqdGhpcy50aWxlU2l6ZSkpfXpvb21Gcm9tTWVyY2F0b3JaQWRqdXN0ZWQoZSl7bGV0IHQ9MCxpPWlkLHI9MCxuPTEvMDtmb3IoO2ktdD4xZS02JiZpPnQ7KXtjb25zdCBvPXQrLjUqKGktdCkscz10aGlzLnRpbGVTaXplKk1hdGgucG93KDIsbyksYT10aGlzLmdldENhbWVyYVRvQ2VudGVyRGlzdGFuY2UodGhpcy5wcm9qZWN0aW9uLG8scyksbD10aGlzLnNjYWxlWm9vbShhLyhlKnRoaXMudGlsZVNpemUpKSxjPU1hdGguYWJzKG8tbCk7YzxuJiYobj1jLHI9byksbzxsP3Q9bzppPW87fXJldHVybiByfV90ZXJyYWluRW5hYmxlZCgpe3JldHVybiAhKCF0aGlzLl9lbGV2YXRpb258fCF0aGlzLnByb2plY3Rpb24uc3VwcG9ydHNUZXJyYWluJiYoSChcIlRlcnJhaW4gaXMgbm90IHlldCBzdXBwb3J0ZWQgd2l0aCBhbHRlcm5hdGUgcHJvamVjdGlvbnMuIFVzZSBtZXJjYXRvciBvciBnbG9iZSB0byBlbmFibGUgdGVycmFpbi5cIiksMSkpfWFueUNvcm5lck9mZkVkZ2UoZSx0KXtjb25zdCBpPU1hdGgubWluKGUueCx0LngpLHI9TWF0aC5tYXgoZS54LHQueCksbj1NYXRoLm1pbihlLnksdC55KSxvPU1hdGgubWF4KGUueSx0LnkpO2lmKG48dGhpcy5ob3Jpem9uTGluZUZyb21Ub3AoITEpKXJldHVybiAhMDtpZihcIm1lcmNhdG9yXCIhPT10aGlzLnByb2plY3Rpb24ubmFtZSlyZXR1cm4gITE7Y29uc3Qgcz1bbmV3IHkoaSxuKSxuZXcgeShyLG8pLG5ldyB5KGksbyksbmV3IHkocixuKV0sYT10aGlzLnJlbmRlcldvcmxkQ29waWVzPy0zOjAsbD10aGlzLnJlbmRlcldvcmxkQ29waWVzPzQ6MTtmb3IoY29uc3QgZSBvZiBzKXtjb25zdCB0PXRoaXMucG9pbnRSYXlJbnRlcnNlY3Rpb24oZSk7aWYodC50PDApcmV0dXJuICEwO2NvbnN0IGk9dGhpcy5yYXlJbnRlcnNlY3Rpb25Db29yZGluYXRlKHQpO2lmKGkueDxhfHxpLnk8MHx8aS54Pmx8fGkueT4xKXJldHVybiAhMH1yZXR1cm4gITF9aXNIb3Jpem9uVmlzaWJsZSgpe3JldHVybiB0aGlzLnBpdGNoK1QodGhpcy5mb3ZBYm92ZUNlbnRlcik+ODh8fHRoaXMuYW55Q29ybmVyT2ZmRWRnZShuZXcgeSgwLDApLG5ldyB5KHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpKX16b29tRGVsdGFUb01vdmVtZW50KGUsdCl7Y29uc3QgaT1EdS5sZW5ndGgoRHUuc3ViKFtdLHRoaXMuX2NhbWVyYS5wb3NpdGlvbixlKSkscj10aGlzLl96b29tRnJvbU1lcmNhdG9yWihpKSt0O3JldHVybiBpLXRoaXMuX21lcmNhdG9yWmZyb21ab29tKHIpfWdldENhbWVyYVBvaW50KCl7aWYoXCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWUpe2NvbnN0IGU9ZnVuY3Rpb24oW2UsdCxpXSxyKXtjb25zdCBuPVtlLHQsaSwxXTt5dS50cmFuc2Zvcm1NYXQ0KG4sbixyKTtjb25zdCBvPW5bM109TWF0aC5tYXgoblszXSwxZS02KTtyZXR1cm4gblswXS89byxuWzFdLz1vLG5bMl0vPW8sbn0oW3RoaXMuZ2xvYmVNYXRyaXhbMTJdLHRoaXMuZ2xvYmVNYXRyaXhbMTNdLHRoaXMuZ2xvYmVNYXRyaXhbMTRdXSx0aGlzLnBpeGVsTWF0cml4KTtyZXR1cm4gbmV3IHkoZVswXSxlWzFdKX17Y29uc3QgZT1NYXRoLnRhbih0aGlzLl9waXRjaCkqKHRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZXx8MSk7cmV0dXJuIHRoaXMuY2VudGVyUG9pbnQuYWRkKG5ldyB5KDAsZSkpfX1nZXRDYW1lcmFUb0NlbnRlckRpc3RhbmNlKGUsdD10aGlzLnpvb20saT10aGlzLndvcmxkU2l6ZSl7Y29uc3Qgcj1ReChlLHQsdGhpcy53aWR0aCx0aGlzLmhlaWdodCwxMDI0KSxuPWUucGl4ZWxTcGFjZUNvbnZlcnNpb24odGhpcy5jZW50ZXIubGF0LGkscik7bGV0IG89LjUvTWF0aC50YW4oLjUqdGhpcy5fZm92KSp0aGlzLmhlaWdodCpuO3JldHVybiB0aGlzLmlzT3J0aG9ncmFwaGljJiYobz1idigxLG8sd3YodGhpcy5waXRjaD49MTU/MTp0aGlzLnBpdGNoLzE1KSkpLG99Z2V0V29ybGRUb0NhbWVyYU1hdHJpeCgpe2NvbnN0IGU9dGhpcy5fY2FtZXJhLmdldFdvcmxkVG9DYW1lcmEodGhpcy53b3JsZFNpemUsXCJtZXRlcnNcIj09PXRoaXMucHJvamVjdGlvbi56QXhpc1VuaXQ/dGhpcy5waXhlbHNQZXJNZXRlcjoxKTtyZXR1cm4gXCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWUmJkF1Lm11bHRpcGx5KGUsZSx0aGlzLmdsb2JlTWF0cml4KSxlfWdldEZydXN0dW0oZSl7cmV0dXJuIFF1LmZyb21JbnZQcm9qZWN0aW9uTWF0cml4KHRoaXMuaW52UHJvak1hdHJpeCx0aGlzLndvcmxkU2l6ZSxlLFwibWV0ZXJzXCI9PT10aGlzLnByb2plY3Rpb24uekF4aXNVbml0KX19ZnVuY3Rpb24gRXYoZSx0LGkpe0F1LmlkZW50aXR5KGUpLEF1LnJvdGF0ZVooZSxlLHcodFsyXSkpLEF1LnJvdGF0ZVgoZSxlLHcodFswXSkpLEF1LnJvdGF0ZVkoZSxlLHcodFsxXSkpLEF1LnNjYWxlKGUsZSxpKSxBdS5tdWx0aXBseShlLGUsWzEsMCwwLDAsMCwwLDEsMCwwLDEsMCwwLDAsMCwwLDFdKTt9ZnVuY3Rpb24gTXYoZSx0LGkscixuLG8scyxhKXtjb25zdCBsPVtpWzBdLXRbMF0saVsxXS10WzFdLDBdLGM9W3JbMF0tdFswXSxyWzFdLXRbMV0sMF07aWYoRHUubGVuZ3RoKGwpPDFlLTEyfHxEdS5sZW5ndGgoYyk8MWUtMTIpcmV0dXJuIEl1LmlkZW50aXR5KGUpO2NvbnN0IGg9RHUuY3Jvc3MoW10sbCxjKTtEdS5ub3JtYWxpemUoaCxoKSxEdS5zdWJ0cmFjdChjLHIsdCksbFsyXT0oby1uKSphLGNbMl09KHMtbikqYTtjb25zdCB1PWw7cmV0dXJuIER1LmNyb3NzKHUsbCxjKSxEdS5ub3JtYWxpemUodSx1KSxJdS5yb3RhdGlvblRvKGUsaCx1KX1mdW5jdGlvbiBBdihlLHQsaT0hMSl7Y29uc3Qgcj1EZCh0Lnpvb20pLG49ZnVuY3Rpb24oZSx0LGkpe2NvbnN0IHI9dC53b3JsZFNpemUsbj1bZVsxMl0sZVsxM10sZVsxNF1dLG89dHAoblsxXS9yKSxzPWVwKG5bMF0vciksYT1BdS5pZGVudGl0eShbXSksbD1RZCgxLG8pKnIsYz1RZCgxLDApKnIqb3Aobyx0Lnpvb20pLGg9MS9JZChyKTtsZXQgdT1jKmg7aWYoaSl7Y29uc3QgZT1ReCh0LnByb2plY3Rpb24sdC56b29tLHQud2lkdGgsdC5oZWlnaHQsMTAyNCk7dT1oKnQucHJvamVjdGlvbi5waXhlbFNwYWNlQ29udmVyc2lvbih0LmNlbnRlci5sYXQscixlKTt9Y29uc3QgZD13ZChvLHMpO0R1LmFkZChkLGQsRHUuc2NhbGUoW10sRHUubm9ybWFsaXplKFtdLGQpLGwqdSpuWzJdKSk7Y29uc3QgcD1mdW5jdGlvbihlKXtjb25zdCB0PVtlWzBdLGVbMV0sZVsyXV07bGV0IGk9WzAsMSwwXTtjb25zdCByPUR1LmNyb3NzKFtdLGksdCk7cmV0dXJuIER1LmNyb3NzKGksdCxyKSwwPT09RHUuc3F1YXJlZExlbmd0aChpKSYmKGk9WzAsMSwwXSxEdS5jcm9zcyhyLHQsaSkpLER1Lm5vcm1hbGl6ZShyLHIpLER1Lm5vcm1hbGl6ZShpLGkpLER1Lm5vcm1hbGl6ZSh0LHQpLFtyWzBdLHJbMV0sclsyXSwwLGlbMF0saVsxXSxpWzJdLDAsdFswXSx0WzFdLHRbMl0sMCxlWzBdLGVbMV0sZVsyXSwxXX0oZCk7QXUuc2NhbGUoYSxhLFt1LHUsdSpsXSksQXUudHJhbnNsYXRlKGEsYSxbLW5bMF0sLW5bMV0sLW5bMl1dKTtjb25zdCBmPUF1Lm11bHRpcGx5KFtdLHQuZ2xvYmVNYXRyaXgscCk7cmV0dXJuIEF1Lm11bHRpcGx5KGYsZixhKSxBdS5tdWx0aXBseShmLGYsZSksZn0oZSx0LGkpO2lmKHI+MCl7Y29uc3QgaT1mdW5jdGlvbihlLHQpe2NvbnN0IGk9dC53b3JsZFNpemUscj1RZCgxLDApKmkqb3AodC5jZW50ZXIubGF0LHQuem9vbSkvSWQoaSksbj1RZCgxLHQuY2VudGVyLmxhdCkqaSxvPUF1LmlkZW50aXR5KFtdKTtyZXR1cm4gQXUucm90YXRlWShvLG8sdyh0LmNlbnRlci5sbmcpKSxBdS5yb3RhdGVYKG8sbyx3KHQuY2VudGVyLmxhdCkpLEF1LnRyYW5zbGF0ZShvLG8sWzAsMCxyZF0pLEF1LnNjYWxlKG8sbyxbcixyLHIqbl0pLEF1LnRyYW5zbGF0ZShvLG8sW3QucG9pbnQueC0uNSppLHQucG9pbnQueS0uNSppLDBdKSxBdS5tdWx0aXBseShvLG8sZSksQXUubXVsdGlwbHkobyx0Lmdsb2JlTWF0cml4LG8pfShlLHQpO3JldHVybiBmdW5jdGlvbihlLHQsaSl7Y29uc3Qgcj0oZSx0LGkpPT57Y29uc3Qgcj1EdS5sZW5ndGgoZSksbj1EdS5sZW5ndGgodCksbz1tZChlLHQsaSk7cmV0dXJuIER1LnNjYWxlKG8sbywxL0R1Lmxlbmd0aChvKSpLcihyLG4saSkpfSxuPXIoW2VbMF0sZVsxXSxlWzJdXSxbdFswXSx0WzFdLHRbMl1dLGkpLG89cihbZVs0XSxlWzVdLGVbNl1dLFt0WzRdLHRbNV0sdFs2XV0saSkscz1yKFtlWzhdLGVbOV0sZVsxMF1dLFt0WzhdLHRbOV0sdFsxMF1dLGkpLGE9bWQoW2VbMTJdLGVbMTNdLGVbMTRdXSxbdFsxMl0sdFsxM10sdFsxNF1dLGkpO3JldHVybiBbblswXSxuWzFdLG5bMl0sMCxvWzBdLG9bMV0sb1syXSwwLHNbMF0sc1sxXSxzWzJdLDAsYVswXSxhWzFdLGFbMl0sMV19KG4saSxyKX1yZXR1cm4gbn1jb25zdCBTdj02NCxJdj1bMSwxLDFdO2NsYXNzIEN2e2NvbnN0cnVjdG9yKGUsdCxpLHIpe3RoaXMuaWQ9ZSx0aGlzLnBvc2l0aW9uPW51bGwhPXQ/bmV3IFdkKHRbMF0sdFsxXSk6bmV3IFdkKDAsMCksdGhpcy5vcmllbnRhdGlvbj1udWxsIT1pP2k6WzAsMCwwXSx0aGlzLm5vZGVzPXIsdGhpcy51cGxvYWRlZD0hMSx0aGlzLmFhYmI9bmV3IGVkKFsxLzAsMS8wLDEvMF0sWy0xLzAsLTEvMCwtMS8wXSksdGhpcy5tYXRyaXg9W107fV9hcHBseVRyYW5zZm9ybWF0aW9ucyhlLHQpe2lmKEF1Lm11bHRpcGx5KGUubWF0cml4LHQsZS5tYXRyaXgpLGUubWVzaGVzKWZvcihjb25zdCB0IG9mIGUubWVzaGVzKXtjb25zdCBpPWVkLmFwcGx5VHJhbnNmb3JtKHQuYWFiYixlLm1hdHJpeCk7dGhpcy5hYWJiLmVuY2Fwc3VsYXRlKGkpO31pZihlLmNoaWxkcmVuKWZvcihjb25zdCB0IG9mIGUuY2hpbGRyZW4pdGhpcy5fYXBwbHlUcmFuc2Zvcm1hdGlvbnModCxlLm1hdHJpeCk7fWNvbXB1dGVCb3VuZHNBbmRBcHBseVBhcmVudCgpe2NvbnN0IGU9QXUuaWRlbnRpdHkoW10pO2Zvcihjb25zdCB0IG9mIHRoaXMubm9kZXMpdGhpcy5fYXBwbHlUcmFuc2Zvcm1hdGlvbnModCxlKTt9X3Bvc2l0aW9uTW9kZWxPblRlcnJhaW4oZSx0KXtjb25zdCBpPWUuZWxldmF0aW9uO2lmKCFpKXJldHVybiAwO2NvbnN0IHI9ZWQucHJvamVjdEFhYmJDb3JuZXJzKHRoaXMuYWFiYix0aGlzLm1hdHJpeCksbj1RZCgxLHRoaXMucG9zaXRpb24ubGF0KSplLndvcmxkU2l6ZSxvPWZ1bmN0aW9uKGUsdCl7Y29uc3QgaT1bMCwwLDFdLHI9W3tjb3JuZXJzOlswLDEsMywyXSxkb3RQcm9kdWN0V2l0aFVwOjB9LHtjb3JuZXJzOlsxLDUsMiw2XSxkb3RQcm9kdWN0V2l0aFVwOjB9LHtjb3JuZXJzOlswLDQsMSw1XSxkb3RQcm9kdWN0V2l0aFVwOjB9LHtjb3JuZXJzOlsyLDYsMyw3XSxkb3RQcm9kdWN0V2l0aFVwOjB9LHtjb3JuZXJzOls0LDcsNSw2XSxkb3RQcm9kdWN0V2l0aFVwOjB9LHtjb3JuZXJzOlswLDMsNCw3XSxkb3RQcm9kdWN0V2l0aFVwOjB9XTtmb3IoY29uc3QgbiBvZiByKXtjb25zdCByPWVbbi5jb3JuZXJzWzBdXSxvPWVbbi5jb3JuZXJzWzFdXSxzPWVbbi5jb3JuZXJzWzJdXSxhPVtvWzBdLXJbMF0sb1sxXS1yWzFdLHQqKG9bMl0tclsyXSldLGw9RHUuY3Jvc3MoYSxhLFtzWzBdLXJbMF0sc1sxXS1yWzFdLHQqKHNbMl0tclsyXSldKTtEdS5ub3JtYWxpemUobCxsKSxuLmRvdFByb2R1Y3RXaXRoVXA9RHUuZG90KGwsaSk7fXJldHVybiByLnNvcnQoKChlLHQpPT5lLmRvdFByb2R1Y3RXaXRoVXAtdC5kb3RQcm9kdWN0V2l0aFVwKSksclswXS5jb3JuZXJzfShyLG4pLHM9cltvWzBdXSxhPXJbb1sxXV0sbD1yW29bMl1dLGM9cltvWzNdXSxoPWkuZ2V0QXRQb2ludE9yWmVybyhuZXcgbHAoc1swXS9lLndvcmxkU2l6ZSxzWzFdL2Uud29ybGRTaXplKSwwKSx1PWkuZ2V0QXRQb2ludE9yWmVybyhuZXcgbHAoYVswXS9lLndvcmxkU2l6ZSxhWzFdL2Uud29ybGRTaXplKSwwKSxkPWkuZ2V0QXRQb2ludE9yWmVybyhuZXcgbHAobFswXS9lLndvcmxkU2l6ZSxsWzFdL2Uud29ybGRTaXplKSwwKSxwPWkuZ2V0QXRQb2ludE9yWmVybyhuZXcgbHAoY1swXS9lLndvcmxkU2l6ZSxjWzFdL2Uud29ybGRTaXplKSwwKSxmPShoK3ApLzIsbT0odStkKS8yO3JldHVybiBmPm0/dTxkP012KHQsYSxjLHMsdSxwLGgsbik6TXYodCxsLHMsYyxkLGgscCxuKTpoPHA/TXYodCxzLGEsbCxoLHUsZCxuKTpNdih0LGMsbCxhLHAsZCx1LG4pLE1hdGgubWF4KGYsbSl9Y29tcHV0ZU1vZGVsTWF0cml4KGUsdCxpLHIsbixvLHM9ITEpe2NvbnN0IGE9ZS50cmFuc2Zvcm0sbD1hLnpvb20sYz1hLnByb2plY3QodGhpcy5wb3NpdGlvbiksaD1vcCh0aGlzLnBvc2l0aW9uLmxhdCxsKSx1PTEvaDtBdS5pZGVudGl0eSh0aGlzLm1hdHJpeCksQXUudHJhbnNsYXRlKHRoaXMubWF0cml4LHRoaXMubWF0cml4LFtjLngrclswXSp1LGMueStyWzFdKnUsclsyXV0pO2xldCBkPTEscD0xO2NvbnN0IGY9YS53b3JsZFNpemU7aWYocyl7aWYoXCJtZXJjYXRvclwiPT09YS5wcm9qZWN0aW9uLm5hbWUpe2xldCBlPTA7YS5lbGV2YXRpb24mJihlPWEuZWxldmF0aW9uLmdldEF0UG9pbnRPclplcm8obmV3IGxwKGMueC9mLGMueS9mKSwwKSk7Y29uc3QgdD15dS50cmFuc2Zvcm1NYXQ0KFtdLFtjLngsYy55LGUsMV0sYS5wcm9qTWF0cml4KVszXS9hLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2U7ZD10LHA9dCpvcChhLmNlbnRlci5sYXQsbCk7fWVsc2UgaWYoXCJnbG9iZVwiPT09YS5wcm9qZWN0aW9uLm5hbWUpe2NvbnN0IGU9QXYodGhpcy5tYXRyaXgsYSksdD1BdS5tdWx0aXBseShbXSxhLnByb2pNYXRyaXgsZSksaT1bMCwwLDAsMV07eXUudHJhbnNmb3JtTWF0NChpLGksdCk7Y29uc3Qgcj1pWzNdL2EuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSxuPURkKGwpLG89YS5wcm9qZWN0aW9uLnBpeGVsc1Blck1ldGVyKHRoaXMucG9zaXRpb24ubGF0LGYpKm9wKHRoaXMucG9zaXRpb24ubGF0LGwpLHM9YS5wcm9qZWN0aW9uLnBpeGVsc1Blck1ldGVyKGEuY2VudGVyLmxhdCxmKSpvcChhLmNlbnRlci5sYXQsbCk7ZD1yL0tyKG8sbnAoYS5jZW50ZXIubGF0KSxuKSxwPXIqaC9vLGQqPXMscCo9czt9fWVsc2UgZD11O0F1LnNjYWxlKHRoaXMubWF0cml4LHRoaXMubWF0cml4LFtkLGQscF0pO2NvbnN0IG09Wy4uLnRoaXMubWF0cml4XSxfPXRoaXMub3JpZW50YXRpb24sZz1bXTtpZihFdihnLFtfWzBdK3RbMF0sX1sxXSt0WzFdLF9bMl0rdFsyXV0saSksQXUubXVsdGlwbHkodGhpcy5tYXRyaXgsbSxnKSxuJiZhLmVsZXZhdGlvbil7bGV0IGU9MDtjb25zdCB0PVtdO2lmKG8mJmEuZWxldmF0aW9uKXtlPXRoaXMuX3Bvc2l0aW9uTW9kZWxPblRlcnJhaW4oYSx0KTtjb25zdCBpPUF1LmZyb21RdWF0KFtdLHQpLHI9QXUubXVsdGlwbHkoW10saSxnKTtBdS5tdWx0aXBseSh0aGlzLm1hdHJpeCxtLHIpO31lbHNlIGU9YS5lbGV2YXRpb24uZ2V0QXRQb2ludE9yWmVybyhuZXcgbHAoYy54L2YsYy55L2YpLDApOzAhPT1lJiYodGhpcy5tYXRyaXhbMTRdKz1lKTt9fXVwbG9hZChlKXtpZighdGhpcy51cGxvYWRlZCl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5ub2RlcylEdih0LGUpO2Zvcihjb25zdCBlIG9mIHRoaXMubm9kZXMpUnYoZSk7dGhpcy51cGxvYWRlZD0hMDt9fWRlc3Ryb3koKXtmb3IoY29uc3QgZSBvZiB0aGlzLm5vZGVzKUx2KGUpO319ZnVuY3Rpb24genYoZSx0LGk9ITEpe2UudXBsb2FkZWR8fChlLmdmeFRleHR1cmU9bmV3IE15KHQsZS5pbWFnZSxpP3QuZ2wuUjg6dC5nbC5SR0JBLHt1c2VNaXBtYXA6ZS5zYW1wbGVyLm1pbkZpbHRlcj49dC5nbC5ORUFSRVNUX01JUE1BUF9ORUFSRVNUfSksZS51cGxvYWRlZD0hMCxlLmltYWdlPW51bGwpO31mdW5jdGlvbiBQdihlLHQsaSl7ZS5pbmRleEJ1ZmZlcj10LmNyZWF0ZUluZGV4QnVmZmVyKGUuaW5kZXhBcnJheSwhMSwhMCksZS52ZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIoZS52ZXJ0ZXhBcnJheSxGeC5tZW1iZXJzLCExLCEwKSxlLm5vcm1hbEFycmF5JiYoZS5ub3JtYWxCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIoZS5ub3JtYWxBcnJheSxqeC5tZW1iZXJzLCExLCEwKSksZS50ZXhjb29yZEFycmF5JiYoZS50ZXhjb29yZEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcihlLnRleGNvb3JkQXJyYXksVngubWVtYmVycywhMSwhMCkpLGUuY29sb3JBcnJheSYmKGUuY29sb3JCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIoZS5jb2xvckFycmF5LCgxMj09PWUuY29sb3JBcnJheS5ieXRlc1BlckVsZW1lbnQ/Tng6VXgpLm1lbWJlcnMsITEsITApKSxlLmZlYXR1cmVBcnJheSYmKGUucGJyQnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKGUuZmVhdHVyZUFycmF5LHF4Lm1lbWJlcnMsITApKSxlLnNlZ21lbnRzPXhsLnNpbXBsZVNlZ21lbnQoMCwwLGUudmVydGV4QXJyYXkubGVuZ3RoLGUuaW5kZXhBcnJheS5sZW5ndGgpO2NvbnN0IHI9ZS5tYXRlcmlhbDtyLnBick1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvclRleHR1cmUmJnp2KHIucGJyTWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yVGV4dHVyZSx0KSxyLnBick1ldGFsbGljUm91Z2huZXNzLm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZSYmenYoci5wYnJNZXRhbGxpY1JvdWdobmVzcy5tZXRhbGxpY1JvdWdobmVzc1RleHR1cmUsdCksci5ub3JtYWxUZXh0dXJlJiZ6dihyLm5vcm1hbFRleHR1cmUsdCksci5vY2NsdXNpb25UZXh0dXJlJiZ6dihyLm9jY2x1c2lvblRleHR1cmUsdCxpKSxyLmVtaXNzaW9uVGV4dHVyZSYmenYoci5lbWlzc2lvblRleHR1cmUsdCk7fWZ1bmN0aW9uIER2KGUsdCxpKXtpZihlLm1lc2hlcylmb3IoY29uc3QgciBvZiBlLm1lc2hlcylQdihyLHQsaSk7aWYoZS5jaGlsZHJlbilmb3IoY29uc3QgciBvZiBlLmNoaWxkcmVuKUR2KHIsdCxpKTt9ZnVuY3Rpb24gUnYoZSl7aWYoZS5tZXNoZXMpZm9yKGNvbnN0IHQgb2YgZS5tZXNoZXMpdC5pbmRleEFycmF5LmRlc3Ryb3koKSx0LnZlcnRleEFycmF5LmRlc3Ryb3koKSx0LmNvbG9yQXJyYXkmJnQuY29sb3JBcnJheS5kZXN0cm95KCksdC5ub3JtYWxBcnJheSYmdC5ub3JtYWxBcnJheS5kZXN0cm95KCksdC50ZXhjb29yZEFycmF5JiZ0LnRleGNvb3JkQXJyYXkuZGVzdHJveSgpLHQuZmVhdHVyZUFycmF5JiZ0LmZlYXR1cmVBcnJheS5kZXN0cm95KCk7aWYoZS5jaGlsZHJlbilmb3IoY29uc3QgdCBvZiBlLmNoaWxkcmVuKVJ2KHQpO31mdW5jdGlvbiBMdihlKXtpZihlLm1lc2hlcylmb3IoY29uc3QgaSBvZiBlLm1lc2hlcylpLnZlcnRleEJ1ZmZlciYmKGkudmVydGV4QnVmZmVyLmRlc3Ryb3koKSxpLmluZGV4QnVmZmVyLmRlc3Ryb3koKSxpLm5vcm1hbEJ1ZmZlciYmaS5ub3JtYWxCdWZmZXIuZGVzdHJveSgpLGkudGV4Y29vcmRCdWZmZXImJmkudGV4Y29vcmRCdWZmZXIuZGVzdHJveSgpLGkuY29sb3JCdWZmZXImJmkuY29sb3JCdWZmZXIuZGVzdHJveSgpLGkucGJyQnVmZmVyJiZpLnBickJ1ZmZlci5kZXN0cm95KCksaS5zZWdtZW50cy5kZXN0cm95KCksaS5tYXRlcmlhbCYmKCh0PWkubWF0ZXJpYWwpLnBick1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvclRleHR1cmUmJnQucGJyTWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yVGV4dHVyZS5nZnhUZXh0dXJlJiZ0LnBick1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvclRleHR1cmUuZ2Z4VGV4dHVyZS5kZXN0cm95KCksdC5wYnJNZXRhbGxpY1JvdWdobmVzcy5tZXRhbGxpY1JvdWdobmVzc1RleHR1cmUmJnQucGJyTWV0YWxsaWNSb3VnaG5lc3MubWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlLmdmeFRleHR1cmUmJnQucGJyTWV0YWxsaWNSb3VnaG5lc3MubWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlLmdmeFRleHR1cmUuZGVzdHJveSgpLHQubm9ybWFsVGV4dHVyZSYmdC5ub3JtYWxUZXh0dXJlLmdmeFRleHR1cmUmJnQubm9ybWFsVGV4dHVyZS5nZnhUZXh0dXJlLmRlc3Ryb3koKSx0LmVtaXNzaW9uVGV4dHVyZSYmdC5lbWlzc2lvblRleHR1cmUuZ2Z4VGV4dHVyZSYmdC5lbWlzc2lvblRleHR1cmUuZ2Z4VGV4dHVyZS5kZXN0cm95KCksdC5vY2NsdXNpb25UZXh0dXJlJiZ0Lm9jY2x1c2lvblRleHR1cmUuZ2Z4VGV4dHVyZSYmdC5vY2NsdXNpb25UZXh0dXJlLmdmeFRleHR1cmUuZGVzdHJveSgpKSk7dmFyIHQ7aWYoZS5jaGlsZHJlbilmb3IoY29uc3QgdCBvZiBlLmNoaWxkcmVuKUx2KHQpO31jbGFzcyBrdntjb25zdHJ1Y3RvcihlLHQpe3RoaXMuZmVhdHVyZT1lLHRoaXMuaW5zdGFuY2VkRGF0YU9mZnNldD10LHRoaXMuaW5zdGFuY2VkRGF0YUNvdW50PTAsdGhpcy5yb3RhdGlvbj1bMCwwLDBdLHRoaXMuc2NhbGU9WzEsMSwxXSx0aGlzLnRyYW5zbGF0aW9uPVswLDAsMF07fX1jbGFzcyBPdntjb25zdHJ1Y3Rvcigpe3RoaXMuaW5zdGFuY2VkRGF0YUFycmF5PW5ldyBybCx0aGlzLmluc3RhbmNlc0V2YWx1YXRlZEVsZXZhdGlvbj1bXSx0aGlzLmZlYXR1cmVzPVtdLHRoaXMuaWRUb0ZlYXR1cmVzSW5kZXg9e307fX1jbGFzcyBCdntjb25zdHJ1Y3RvcihlKXt0aGlzLnpvb209ZS56b29tLHRoaXMuY2Fub25pY2FsPWUuY2Fub25pY2FsLHRoaXMubGF5ZXJzPWUubGF5ZXJzLHRoaXMubGF5ZXJJZHM9dGhpcy5sYXllcnMubWFwKChlPT5lLmZxaWQpKSx0aGlzLnByb2plY3Rpb249ZS5wcm9qZWN0aW9uLHRoaXMuaW5kZXg9ZS5pbmRleCx0aGlzLmhhc1pvb21EZXBlbmRlbnRQcm9wZXJ0aWVzPXRoaXMubGF5ZXJzWzBdLmlzWm9vbURlcGVuZGVudCgpLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcklkcz10aGlzLmxheWVycy5maWx0ZXIoKGU9PmUuaXNTdGF0ZURlcGVuZGVudCgpKSkubWFwKChlPT5lLmlkKSksdGhpcy5oYXNQYXR0ZXJuPSExLHRoaXMuaW5zdGFuY2VzUGVyTW9kZWw9e30sdGhpcy52YWxpZEZvckV4YWdnZXJhdGlvbj0wLHRoaXMubWF4VmVydGljYWxPZmZzZXQ9MCx0aGlzLm1heFNjYWxlPTAsdGhpcy5tYXhIZWlnaHQ9MCx0aGlzLmxvb2t1cERpbT10aGlzLnpvb20+dGhpcy5jYW5vbmljYWwuej8yNTY6dGhpcy56b29tPjE1Pzc1OjEwMCx0aGlzLmluc3RhbmNlQ291bnQ9MCx0aGlzLnRlcnJhaW5FbGV2YXRpb25NaW49MCx0aGlzLnRlcnJhaW5FbGV2YXRpb25NYXg9MCx0aGlzLnZhbGlkRm9yREVNVGlsZT17aWQ6bnVsbCx0aW1lc3RhbXA6MH07fXBvcHVsYXRlKGUsdCxpLHIpe3RoaXMudGlsZVRvTWV0ZXI9YXAoaSk7Y29uc3Qgbj10aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5uZWVkR2VvbWV0cnk7dGhpcy5sb29rdXA9bmV3IFVpbnQ4QXJyYXkodGhpcy5sb29rdXBEaW0qdGhpcy5sb29rdXBEaW0pO2Zvcihjb25zdHtmZWF0dXJlOm8saWQ6cyxpbmRleDphLHNvdXJjZUxheWVySW5kZXg6bH1vZiBlKXtjb25zdCBlPWdwKG8sbik7aWYoIXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLmZpbHRlcihuZXcgb2EodGhpcy56b29tKSxlLGkpKWNvbnRpbnVlO2NvbnN0IGM9e2lkOnMsc291cmNlTGF5ZXJJbmRleDpsLGluZGV4OmEsZ2VvbWV0cnk6bj9lLmdlb21ldHJ5Ol9wKG8saSxyKSxwcm9wZXJ0aWVzOm8ucHJvcGVydGllcyx0eXBlOm8udHlwZSxwYXR0ZXJuczp7fX0saD10aGlzLmFkZEZlYXR1cmUoYyxjLmdlb21ldHJ5LGUpO2gmJnQuZmVhdHVyZUluZGV4Lmluc2VydChvLGMuZ2VvbWV0cnksYSxsLHRoaXMuaW5kZXgsdGhpcy5pbnN0YW5jZXNQZXJNb2RlbFtoXS5pbnN0YW5jZWREYXRhQXJyYXkubGVuZ3RoKTt9dGhpcy5sb29rdXA9bnVsbDt9dXBkYXRlKGUsdCxpLHIpe2Zvcihjb25zdCB0IGluIHRoaXMuaW5zdGFuY2VzUGVyTW9kZWwpe2NvbnN0IGk9dGhpcy5pbnN0YW5jZXNQZXJNb2RlbFt0XTtmb3IoY29uc3QgdCBpbiBlKWkuaWRUb0ZlYXR1cmVzSW5kZXguaGFzT3duUHJvcGVydHkodCkmJnRoaXMuZXZhbHVhdGUoaS5mZWF0dXJlc1tpLmlkVG9GZWF0dXJlc0luZGV4W3RdXSxlW3RdLGksITApO310aGlzLm1heEhlaWdodD0wO311cGRhdGVab29tQmFzZWRQYWludFByb3BlcnRpZXMoKXtpZighdGhpcy5oYXNab29tRGVwZW5kZW50UHJvcGVydGllcylyZXR1cm4gITE7bGV0IGU9ITE7Zm9yKGNvbnN0IHQgaW4gdGhpcy5pbnN0YW5jZXNQZXJNb2RlbCl7Y29uc3QgaT10aGlzLmluc3RhbmNlc1Blck1vZGVsW3RdO2Zvcihjb25zdCB0IG9mIGkuZmVhdHVyZXMpe2NvbnN0IHI9dGhpcy5sYXllcnNbMF0sbj10LmZlYXR1cmUsbz10aGlzLmNhbm9uaWNhbCxzPXIucGFpbnQuZ2V0KFwibW9kZWwtcm90YXRpb25cIikuZXZhbHVhdGUobix7fSxvKSxhPXIucGFpbnQuZ2V0KFwibW9kZWwtc2NhbGVcIikuZXZhbHVhdGUobix7fSxvKSxsPXIucGFpbnQuZ2V0KFwibW9kZWwtdHJhbnNsYXRpb25cIikuZXZhbHVhdGUobix7fSxvKTtEdS5leGFjdEVxdWFscyh0LnJvdGF0aW9uLHMpJiZEdS5leGFjdEVxdWFscyh0LnNjYWxlLGEpJiZEdS5leGFjdEVxdWFscyh0LnRyYW5zbGF0aW9uLGwpfHwodGhpcy5ldmFsdWF0ZSh0LHQuZmVhdHVyZVN0YXRlcyxpLCEwKSxlPSEwKTt9fXJldHVybiBlfWlzRW1wdHkoKXtmb3IoY29uc3QgZSBpbiB0aGlzLmluc3RhbmNlc1Blck1vZGVsKWlmKDAhPT10aGlzLmluc3RhbmNlc1Blck1vZGVsW2VdLmluc3RhbmNlZERhdGFBcnJheS5sZW5ndGgpcmV0dXJuICExO3JldHVybiAhMH11cGxvYWRQZW5kaW5nKCl7cmV0dXJuICF0aGlzLnVwbG9hZGVkfXVwbG9hZChlKXtpZighdGhpcy51cGxvYWRlZClmb3IoY29uc3QgdCBpbiB0aGlzLmluc3RhbmNlc1Blck1vZGVsKXtjb25zdCBpPXRoaXMuaW5zdGFuY2VzUGVyTW9kZWxbdF07aS5pbnN0YW5jZWREYXRhQXJyYXkubGVuZ3RoPDB8fDA9PT1pLmluc3RhbmNlZERhdGFBcnJheS5sZW5ndGh8fChpLmluc3RhbmNlZERhdGFCdWZmZXI/aS5pbnN0YW5jZWREYXRhQnVmZmVyLnVwZGF0ZURhdGEoaS5pbnN0YW5jZWREYXRhQXJyYXkpOmkuaW5zdGFuY2VkRGF0YUJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcihpLmluc3RhbmNlZERhdGFBcnJheSxHeC5tZW1iZXJzLCEwLHZvaWQgMCx0aGlzLmluc3RhbmNlQ291bnQpKTt9dGhpcy51cGxvYWRlZD0hMDt9ZGVzdHJveSgpe2Zvcihjb25zdCBlIGluIHRoaXMuaW5zdGFuY2VzUGVyTW9kZWwpe2NvbnN0IHQ9dGhpcy5pbnN0YW5jZXNQZXJNb2RlbFtlXTswIT09dC5pbnN0YW5jZWREYXRhQXJyYXkubGVuZ3RoJiZ0Lmluc3RhbmNlZERhdGFCdWZmZXImJnQuaW5zdGFuY2VkRGF0YUJ1ZmZlci5kZXN0cm95KCk7fX1hZGRGZWF0dXJlKGUsdCxpKXtjb25zdCByPXRoaXMubGF5ZXJzWzBdLG49ci5sYXlvdXQuZ2V0KFwibW9kZWwtaWRcIikuZXZhbHVhdGUoaSx7fSx0aGlzLmNhbm9uaWNhbCk7aWYoIW4pcmV0dXJuIEgoYG1vZGVsSWQgaXMgbm90IGV2YWx1YXRlZCBmb3IgbGF5ZXIgJHtyLmlkfSBhbmQgaXQgaXMgbm90IGdvaW5nIHRvIGdldCByZW5kZXJlZC5gKSxuO3RoaXMuaW5zdGFuY2VzUGVyTW9kZWxbbl18fCh0aGlzLmluc3RhbmNlc1Blck1vZGVsW25dPW5ldyBPdik7Y29uc3Qgbz10aGlzLmluc3RhbmNlc1Blck1vZGVsW25dLHM9by5pbnN0YW5jZWREYXRhQXJyYXksYT1uZXcga3YoaSxzLmxlbmd0aCk7Zm9yKGNvbnN0IGUgb2YgdClmb3IoY29uc3QgdCBvZiBlKXtpZih0Lng8MHx8dC54Pj1jcnx8dC55PDB8fHQueT49Y3IpY29udGludWU7Y29uc3QgZT0odGhpcy5sb29rdXBEaW0tMSkvY3IsaT10aGlzLmxvb2t1cERpbSoodC55KmV8MCkrdC54KmV8MDtpZih0aGlzLmxvb2t1cCl7aWYoMCE9PXRoaXMubG9va3VwW2ldKWNvbnRpbnVlO3RoaXMubG9va3VwW2ldPTE7fXRoaXMuaW5zdGFuY2VDb3VudCsrO2NvbnN0IHI9cy5sZW5ndGg7cy5yZXNpemUocisxKSxvLmluc3RhbmNlc0V2YWx1YXRlZEVsZXZhdGlvbi5wdXNoKDApLHMuZmxvYXQzMlsxNipyXT10Lngscy5mbG9hdDMyWzE2KnIrMV09dC55O31yZXR1cm4gYS5pbnN0YW5jZWREYXRhQ291bnQ9by5pbnN0YW5jZWREYXRhQXJyYXkubGVuZ3RoLWEuaW5zdGFuY2VkRGF0YU9mZnNldCxhLmluc3RhbmNlZERhdGFDb3VudD4wJiYoZS5pZCYmKG8uaWRUb0ZlYXR1cmVzSW5kZXhbZS5pZF09by5mZWF0dXJlcy5sZW5ndGgpLG8uZmVhdHVyZXMucHVzaChhKSx0aGlzLmV2YWx1YXRlKGEse30sbywhMSkpLG59ZXZhbHVhdGUoZSx0LGkscil7Y29uc3Qgbj10aGlzLmxheWVyc1swXSxvPWUuZmVhdHVyZSxzPXRoaXMuY2Fub25pY2FsLGE9ZS5yb3RhdGlvbj1uLnBhaW50LmdldChcIm1vZGVsLXJvdGF0aW9uXCIpLmV2YWx1YXRlKG8sdCxzKSxsPWUuc2NhbGU9bi5wYWludC5nZXQoXCJtb2RlbC1zY2FsZVwiKS5ldmFsdWF0ZShvLHQscyksYz1lLnRyYW5zbGF0aW9uPW4ucGFpbnQuZ2V0KFwibW9kZWwtdHJhbnNsYXRpb25cIikuZXZhbHVhdGUobyx0LHMpLGg9bi5wYWludC5nZXQoXCJtb2RlbC1jb2xvclwiKS5ldmFsdWF0ZShvLHQscyk7aC5hPW4ucGFpbnQuZ2V0KFwibW9kZWwtY29sb3ItbWl4LWludGVuc2l0eVwiKS5ldmFsdWF0ZShvLHQscyk7Y29uc3QgdT1bXTt0aGlzLm1heFZlcnRpY2FsT2Zmc2V0PGNbMl0mJih0aGlzLm1heFZlcnRpY2FsT2Zmc2V0PWNbMl0pLHRoaXMubWF4U2NhbGU9TWF0aC5tYXgoTWF0aC5tYXgodGhpcy5tYXhTY2FsZSxsWzBdKSxNYXRoLm1heChsWzFdLGxbMl0pKSxFdih1LGEsbCk7Y29uc3QgZD1NYXRoLnJvdW5kKDEwMCpoLmEpK2guYi8xLjA1O2ZvcihsZXQgdD0wO3Q8ZS5pbnN0YW5jZWREYXRhQ291bnQ7Kyt0KXtjb25zdCBuPWUuaW5zdGFuY2VkRGF0YU9mZnNldCt0LG89MTYqbixhPWkuaW5zdGFuY2VkRGF0YUFycmF5LmZsb2F0MzI7bGV0IGw9MDtyJiYobD1hW28rNl0taS5pbnN0YW5jZXNFdmFsdWF0ZWRFbGV2YXRpb25bbl0pO2NvbnN0IHA9MHxhW28rMV07YVtvXT0oMHxhW29dKStoLnIvMS4wNSxhW28rMV09cCtoLmcvMS4wNSxhW28rMl09ZCxhW28rM109MS8ocy56PjEwP3RoaXMudGlsZVRvTWV0ZXI6YXAocyxwKSksYVtvKzRdPWNbMF0sYVtvKzVdPWNbMV0sYVtvKzZdPWNbMl0rbCxhW28rN109dVswXSxhW28rOF09dVsxXSxhW28rOV09dVsyXSxhW28rMTBdPXVbNF0sYVtvKzExXT11WzVdLGFbbysxMl09dVs2XSxhW28rMTNdPXVbOF0sYVtvKzE0XT11WzldLGFbbysxNV09dVsxMF0saS5pbnN0YW5jZXNFdmFsdWF0ZWRFbGV2YXRpb25bbl09Y1syXTt9fX1ScyhCdixcIk1vZGVsQnVja2V0XCIse29taXQ6W1wibGF5ZXJzXCJdfSksUnMoT3YsXCJQZXJNb2RlbEF0dHJpYnV0ZXNcIiksUnMoa3YsXCJNb2RlbEZlYXR1cmVcIik7Y29uc3QgRnY9bmV3IGdhKHt2aXNpYmlsaXR5Om5ldyBmYShQdC5sYXlvdXRfbW9kZWwudmlzaWJpbGl0eSksXCJtb2RlbC1pZFwiOm5ldyBtYShQdC5sYXlvdXRfbW9kZWxbXCJtb2RlbC1pZFwiXSl9KTt2YXIgTnY9e3BhaW50Om5ldyBnYSh7XCJtb2RlbC1vcGFjaXR5XCI6bmV3IGZhKFB0LnBhaW50X21vZGVsW1wibW9kZWwtb3BhY2l0eVwiXSksXCJtb2RlbC1yb3RhdGlvblwiOm5ldyBtYShQdC5wYWludF9tb2RlbFtcIm1vZGVsLXJvdGF0aW9uXCJdKSxcIm1vZGVsLXNjYWxlXCI6bmV3IG1hKFB0LnBhaW50X21vZGVsW1wibW9kZWwtc2NhbGVcIl0pLFwibW9kZWwtdHJhbnNsYXRpb25cIjpuZXcgbWEoUHQucGFpbnRfbW9kZWxbXCJtb2RlbC10cmFuc2xhdGlvblwiXSksXCJtb2RlbC1jb2xvclwiOm5ldyBtYShQdC5wYWludF9tb2RlbFtcIm1vZGVsLWNvbG9yXCJdKSxcIm1vZGVsLWNvbG9yLW1peC1pbnRlbnNpdHlcIjpuZXcgbWEoUHQucGFpbnRfbW9kZWxbXCJtb2RlbC1jb2xvci1taXgtaW50ZW5zaXR5XCJdKSxcIm1vZGVsLXR5cGVcIjpuZXcgZmEoUHQucGFpbnRfbW9kZWxbXCJtb2RlbC10eXBlXCJdKSxcIm1vZGVsLWNhc3Qtc2hhZG93c1wiOm5ldyBmYShQdC5wYWludF9tb2RlbFtcIm1vZGVsLWNhc3Qtc2hhZG93c1wiXSksXCJtb2RlbC1yZWNlaXZlLXNoYWRvd3NcIjpuZXcgZmEoUHQucGFpbnRfbW9kZWxbXCJtb2RlbC1yZWNlaXZlLXNoYWRvd3NcIl0pLFwibW9kZWwtYW1iaWVudC1vY2NsdXNpb24taW50ZW5zaXR5XCI6bmV3IGZhKFB0LnBhaW50X21vZGVsW1wibW9kZWwtYW1iaWVudC1vY2NsdXNpb24taW50ZW5zaXR5XCJdKSxcIm1vZGVsLWVtaXNzaXZlLXN0cmVuZ3RoXCI6bmV3IG1hKFB0LnBhaW50X21vZGVsW1wibW9kZWwtZW1pc3NpdmUtc3RyZW5ndGhcIl0pLFwibW9kZWwtcm91Z2huZXNzXCI6bmV3IG1hKFB0LnBhaW50X21vZGVsW1wibW9kZWwtcm91Z2huZXNzXCJdKSxcIm1vZGVsLWhlaWdodC1iYXNlZC1lbWlzc2l2ZS1zdHJlbmd0aC1tdWx0aXBsaWVyXCI6bmV3IG1hKFB0LnBhaW50X21vZGVsW1wibW9kZWwtaGVpZ2h0LWJhc2VkLWVtaXNzaXZlLXN0cmVuZ3RoLW11bHRpcGxpZXJcIl0pLFwibW9kZWwtY3V0b2ZmLWZhZGUtcmFuZ2VcIjpuZXcgZmEoUHQucGFpbnRfbW9kZWxbXCJtb2RlbC1jdXRvZmYtZmFkZS1yYW5nZVwiXSl9KSxsYXlvdXQ6RnZ9O2NvbnN0IFV2PW5ldyBGbG9hdDMyQXJyYXkoMjYyMTQ0KSxWdj1uZXcgVWludDhBcnJheSgyNjIxNDQpO2Z1bmN0aW9uIGp2KGUpe2xldCB0PTA7aWYoZS5tZXNoZXMpZm9yKGNvbnN0IGkgb2YgZS5tZXNoZXMpdD1NYXRoLm1heCh0LGkuYWFiYi5tYXhbMl0pO2lmKGUuY2hpbGRyZW4pZm9yKGNvbnN0IGkgb2YgZS5jaGlsZHJlbil0PU1hdGgubWF4KHQsanYoaSkpO3JldHVybiB0fWNvbnN0IEd2PVtcIlwiLFwid2FsbFwiLFwiZG9vclwiLFwicm9vZlwiLFwid2luZG93XCIsXCJsYW1wXCIsXCJsb2dvXCJdO2NsYXNzIHF2e2NvbnN0cnVjdG9yKGUpe3RoaXMubm9kZT1lLHRoaXMuZXZhbHVhdGVkUk1FQT1bWzEsMCwwLDFdLFsxLDAsMCwxXSxbMSwwLDAsMV0sWzEsMCwwLDFdLFsuNCwxLDAsMV0sWzEsMCwwLDFdLFsxLDAsMCwxXV0sdGhpcy5oaWRkZW5CeVJlcGxhY2VtZW50PSExLHRoaXMuZXZhbHVhdGVkU2NhbGU9WzEsMSwxXSx0aGlzLmV2YWx1YXRlZENvbG9yPVtdLHRoaXMuZW1pc3Npb25IZWlnaHRCYXNlZFBhcmFtcz1bXSx0aGlzLmZlYXR1cmU9e3R5cGU6XCJQb2ludFwiLGlkOmUuaWQsZ2VvbWV0cnk6W10scHJvcGVydGllczp7aGVpZ2h0Omp2KGUpfX07fX1jbGFzcyBadntjb25zdHJ1Y3RvcihlLHQsaSxyKXt0aGlzLm5vZGVzPWUsdGhpcy5pZD10LHRoaXMubW9kZWxUcmFpdHN8PTEsdGhpcy51cGxvYWRlZD0hMSx0aGlzLmhhc1BhdHRlcm49ITEsaSYmKHRoaXMubW9kZWxUcmFpdHN8PTQpLHRoaXMuem9vbT0tMSx0aGlzLnRlcnJhaW5FeGFnZ2VyYXRpb249MSx0aGlzLnByb2plY3Rpb249e25hbWU6XCJtZXJjYXRvclwifSx0aGlzLnJlcGxhY2VtZW50VXBkYXRlVGltZT0wLHRoaXMuZWxldmF0aW9uUmVhZEZyb21aPTI1NSx0aGlzLmJyaWdodG5lc3M9cix0aGlzLmRpcnR5PSEwLHRoaXMubmVlZHNVcGxvYWQ9ITE7fXVwZGF0ZSgpe2NvbnNvbGUubG9nKFwiVXBkYXRlIDNEIG1vZGVsIGJ1Y2tldFwiKTt9cG9wdWxhdGUoKXtjb25zb2xlLmxvZyhcInBvcHVsYXRlIDNEIG1vZGVsIGJ1Y2tldFwiKTt9dXBsb2FkUGVuZGluZygpe3JldHVybiAhdGhpcy51cGxvYWRlZHx8dGhpcy5uZWVkc1VwbG9hZH11cGxvYWQoZSl7aWYoIXRoaXMubmVlZHNVcGxvYWQpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nZXROb2Rlc0luZm8oKTtmb3IoY29uc3QgaSBvZiB0KXtjb25zdCB0PWkubm9kZTt0aGlzLnVwbG9hZGVkP3RoaXMudXBkYXRlUGJyQnVmZmVyKHQpOkR2KHQsZSwhMCk7fWZvcihjb25zdCBlIG9mIHQpUnYoZS5ub2RlKTt0aGlzLnVwbG9hZGVkPSEwLHRoaXMubmVlZHNVcGxvYWQ9ITE7fXVwZGF0ZVBickJ1ZmZlcihlKXtsZXQgdD0hMTtpZighZS5tZXNoZXMpcmV0dXJuIHQ7Zm9yKGNvbnN0IGkgb2YgZS5tZXNoZXMpaS5wYnJCdWZmZXImJihpLnBickJ1ZmZlci51cGRhdGVEYXRhKGkuZmVhdHVyZUFycmF5KSx0PSEwKTtyZXR1cm4gdH1uZWVkc1JlRXZhbHVhdGlvbihlLHQsaSl7Y29uc3Qgcj1lLnRyYW5zZm9ybS5wcm9qZWN0aW9uT3B0aW9ucyxuPWUuc3R5bGUuZ2V0QnJpZ2h0bmVzcygpLG89dGhpcy5icmlnaHRuZXNzIT09bjtyZXR1cm4gISEoIXRoaXMudXBsb2FkZWR8fHRoaXMuZGlydHl8fHIubmFtZSE9PXRoaXMucHJvamVjdGlvbi5uYW1lfHwkdihpLnBhaW50LmdldChcIm1vZGVsLWNvbG9yXCIpLnZhbHVlLG8pfHwkdihpLnBhaW50LmdldChcIm1vZGVsLWNvbG9yLW1peC1pbnRlbnNpdHlcIikudmFsdWUsbyl8fCR2KGkucGFpbnQuZ2V0KFwibW9kZWwtcm91Z2huZXNzXCIpLnZhbHVlLG8pfHwkdihpLnBhaW50LmdldChcIm1vZGVsLWVtaXNzaXZlLXN0cmVuZ3RoXCIpLnZhbHVlLG8pfHwkdihpLnBhaW50LmdldChcIm1vZGVsLWhlaWdodC1iYXNlZC1lbWlzc2l2ZS1zdHJlbmd0aC1tdWx0aXBsaWVyXCIpLnZhbHVlLG8pKSYmKHRoaXMucHJvamVjdGlvbj1yLHRoaXMuYnJpZ2h0bmVzcz1uLCEwKX1ldmFsdWF0ZVNjYWxlKGUsdCl7aWYoZS50cmFuc2Zvcm0uem9vbT09PXRoaXMuem9vbSlyZXR1cm47dGhpcy56b29tPWUudHJhbnNmb3JtLnpvb207Y29uc3QgaT10aGlzLmdldE5vZGVzSW5mbygpLHI9dGhpcy5pZC5jYW5vbmljYWw7Zm9yKGNvbnN0IGUgb2YgaSl7Y29uc3QgaT1lLmZlYXR1cmU7ZS5ldmFsdWF0ZWRTY2FsZT10LnBhaW50LmdldChcIm1vZGVsLXNjYWxlXCIpLmV2YWx1YXRlKGkse30scik7fX1ldmFsdWF0ZShlKXtjb25zdCB0PXRoaXMuZ2V0Tm9kZXNJbmZvKCk7Zm9yKGNvbnN0IGkgb2YgdCl7aWYoIWkubm9kZS5tZXNoZXMpY29udGludWU7Y29uc3QgdD1pLmZlYXR1cmUscj1pLm5vZGUubWVzaGVzJiZpLm5vZGUubWVzaGVzWzBdLmZlYXR1cmVEYXRhLG49aS5ldmFsdWF0ZWRDb2xvclsyXSxvPWkuZXZhbHVhdGVkUk1FQVsyXSxzPXRoaXMuaWQuY2Fub25pY2FsO2lmKGkuaGFzVHJhbnNsdWNlbnRQYXJ0cz0hMSxyKXtmb3IobGV0IHI9MDtyPEd2Lmxlbmd0aDtyKyspe2NvbnN0IG49R3Zbcl07bi5sZW5ndGgmJih0LnByb3BlcnRpZXMucGFydD1uKTtjb25zdCBvPWUucGFpbnQuZ2V0KFwibW9kZWwtY29sb3JcIikuZXZhbHVhdGUodCx7fSxzKSxhPWUucGFpbnQuZ2V0KFwibW9kZWwtY29sb3ItbWl4LWludGVuc2l0eVwiKS5ldmFsdWF0ZSh0LHt9LHMpO2kuZXZhbHVhdGVkQ29sb3Jbcl09W28ucixvLmcsby5iLGFdLGkuZXZhbHVhdGVkUk1FQVtyXVswXT1lLnBhaW50LmdldChcIm1vZGVsLXJvdWdobmVzc1wiKS5ldmFsdWF0ZSh0LHt9LHMpLGkuZXZhbHVhdGVkUk1FQVtyXVsyXT1lLnBhaW50LmdldChcIm1vZGVsLWVtaXNzaXZlLXN0cmVuZ3RoXCIpLmV2YWx1YXRlKHQse30scyksaS5ldmFsdWF0ZWRSTUVBW3JdWzNdPW8uYSxpLmVtaXNzaW9uSGVpZ2h0QmFzZWRQYXJhbXNbcl09ZS5wYWludC5nZXQoXCJtb2RlbC1oZWlnaHQtYmFzZWQtZW1pc3NpdmUtc3RyZW5ndGgtbXVsdGlwbGllclwiKS5ldmFsdWF0ZSh0LHt9LHMpLCFpLmhhc1RyYW5zbHVjZW50UGFydHMmJm8uYTwxJiYoaS5oYXNUcmFuc2x1Y2VudFBhcnRzPSEwKTt9ZGVsZXRlIHQucHJvcGVydGllcy5wYXJ0LEh2KGksbiE9PWkuZXZhbHVhdGVkQ29sb3JbMl18fG8hPT1pLmV2YWx1YXRlZFJNRUFbMl0pO31pLmV2YWx1YXRlZFNjYWxlPWUucGFpbnQuZ2V0KFwibW9kZWwtc2NhbGVcIikuZXZhbHVhdGUodCx7fSxzKSx0aGlzLnVwZGF0ZVBickJ1ZmZlcihpLm5vZGUpfHwodGhpcy5uZWVkc1VwbG9hZD0hMCk7fXRoaXMuZGlydHk9ITE7fWVsZXZhdGlvblVwZGF0ZShlLHQsaSxyKXtjb25zdCBuPWUuZmluZERFTVRpbGVGb3IoaSk7aWYobiYmKG4udGlsZUlELmNhbm9uaWNhbCE9PXRoaXMudGVycmFpblRpbGV8fHQhPT10aGlzLnRlcnJhaW5FeGFnZ2VyYXRpb24pKXtpZihuLmRlbSYmbi50aWxlSUQub3ZlcnNjYWxlZFohPT10aGlzLmVsZXZhdGlvblJlYWRGcm9tWil7dGhpcy5lbGV2YXRpb25SZWFkRnJvbVo9bi50aWxlSUQub3ZlcnNjYWxlZFo7Y29uc3QgdD1KbS5jcmVhdGUoZSxpLG4pO2lmKCF0KXJldHVybjs0JnRoaXMubW9kZWxUcmFpdHMmJnRoaXMudXBkYXRlREVNKGUsdCxpLHIpO2Zvcihjb25zdCBlIG9mIHRoaXMuZ2V0Tm9kZXNJbmZvKCkpe2NvbnN0IGk9ZS5ub2RlO2lmKCFpLmZvb3RwcmludHx8IWkuZm9vdHByaW50LnZlcnRpY2VzfHwhaS5mb290cHJpbnQudmVydGljZXMubGVuZ3RoKWNvbnRpbnVlO2NvbnN0IHI9aS5mb290cHJpbnQudmVydGljZXM7bGV0IG49dC5nZXRFbGV2YXRpb25BdChyWzBdLngsclswXS55LCEwLCEwKTtmb3IobGV0IGU9MTtlPHIubGVuZ3RoO2UrKyluPU1hdGgubWluKG4sdC5nZXRFbGV2YXRpb25BdChyW2VdLngscltlXS55LCEwLCEwKSk7aS5lbGV2YXRpb249bjt9fXRoaXMudGVycmFpblRpbGU9bi50aWxlSUQuY2Fub25pY2FsLHRoaXMudGVycmFpbkV4YWdnZXJhdGlvbj10O319dXBkYXRlREVNKGUsdCxpLHIpe2xldCBuPXQuX2RlbS5fbW9kaWZpZWRGb3JTb3VyY2VzW3JdO2lmKHZvaWQgMD09PW4mJih0Ll9kZW0uX21vZGlmaWVkRm9yU291cmNlc1tyXT1bXSxuPXQuX2RlbS5fbW9kaWZpZWRGb3JTb3VyY2VzW3JdKSxuLmluY2x1ZGVzKGkuY2Fub25pY2FsKSlyZXR1cm47Y29uc3Qgbz10Ll9kZW0uZGltO24ucHVzaChpLmNhbm9uaWNhbCk7bGV0IHM9ITE7Zm9yKGNvbnN0IGUgb2YgdGhpcy5nZXROb2Rlc0luZm8oKSl7Y29uc3QgaT1lLm5vZGU7aWYoIWkuZm9vdHByaW50fHwhaS5mb290cHJpbnQuZ3JpZCljb250aW51ZTtjb25zdCByPWkuZm9vdHByaW50LmdyaWQsbj10LnRpbGVDb29yZFRvUGl4ZWwoci5taW4ueCxyLm1pbi55KSxhPXQudGlsZUNvb3JkVG9QaXhlbChyLm1heC54LHIubWF4LnkpLGw9TWF0aC5taW4oTWF0aC5taW4oby1hLnksbi54KSxNYXRoLm1pbihuLnksby1hLngpKTtpZihsPDApY29udGludWU7Y29uc3QgYz16KGwsMiw1KTtsZXQgaD1NYXRoLm1heCgwLG4ueC1jKSx1PU1hdGgubWF4KDAsbi55LWMpLGQ9TWF0aC5taW4oYS54K2Msby0xKSxwPU1hdGgubWluKGEueStjLG8tMSk7Zm9yKGxldCBlPXU7ZTw9cDsrK2UpZm9yKGxldCB0PWg7dDw9ZDsrK3QpVnZbZSpvK3RdPTI1NTtsZXQgZj0wLG09MDtmb3IobGV0IGU9MDtlPHIuY2VsbHNZOysrZSlmb3IobGV0IGk9MDtpPHIuY2VsbHNYOysraSl7aWYoIXIuY2VsbHNbZSpyLmNlbGxzWCtpXSljb250aW51ZTtjb25zdCBuPXQudGlsZUNvb3JkVG9QaXhlbChyLm1pbi54K2kvci54U2NhbGUsci5taW4ueStlL3IueVNjYWxlKSxzPXQudGlsZUNvb3JkVG9QaXhlbChyLm1pbi54KyhpKzEpL3IueFNjYWxlLHIubWluLnkrKGUrMSkvci55U2NhbGUpO2ZvcihsZXQgZT1uLnk7ZTw9TWF0aC5taW4ocy55KzEsby0xKTsrK2UpZm9yKGxldCBpPW4ueDtpPD1NYXRoLm1pbihzLngrMSxvLTEpOysraSkyNTU9PT1WdltlKm8raV0mJihWdltlKm8raV09MCxmKz10LmdldEVsZXZhdGlvbkF0UGl4ZWwoaSxlKSxtKyspO31jb25zdCBfPWYvbTtoPU1hdGgubWF4KDEsbi54LWMpLHU9TWF0aC5tYXgoMSxuLnktYyksZD1NYXRoLm1pbihhLngrYyxvLTIpLHA9TWF0aC5taW4oYS55K2Msby0yKSxzPSEwO2ZvcihsZXQgZT11O2U8PXA7KytlKWZvcihsZXQgaT1oO2k8PWQ7KytpKTA9PT1WdltlKm8raV0mJihVdltlKm8raV09dC5fZGVtLnNldChpLGUsXykpO2ZvcihsZXQgZT0xO2U8YzsrK2Upe2g9TWF0aC5tYXgoMSxuLngtZSksdT1NYXRoLm1heCgxLG4ueS1lKSxkPU1hdGgubWluKGEueCtlLG8tMikscD1NYXRoLm1pbihhLnkrZSxvLTIpO2ZvcihsZXQgaT11O2k8PXA7KytpKWZvcihsZXQgcj1oO3I8PWQ7KytyKXtjb25zdCBuPWkqbytyO2lmKDI1NT09PVZ2W25dKXtsZXQgcz0wLGE9MCxsPS0xLGg9LTE7Zm9yKGxldCB0PS0xO3Q8PTE7Kyt0KWZvcihsZXQgbj0tMTtuPD0xOysrbil7Y29uc3QgYz0oaSt0KSpvK3IrbjtpZihWdltjXT49ZSljb250aW51ZTtjb25zdCB1PVV2W2NdLGQ9TWF0aC5hYnModSk7ZD5hJiYocz11LGE9ZCxsPW4saD10KTt9aWYoYT4uMSl7Y29uc3Qgbz0xLShlKy41Kk1hdGguYWJzKGwqaCkpL2M7bGV0IGE9dC5fZGVtLmdldChyLGkpK3Mqbztjb25zdCB1PXQuX2RlbS5nZXQocitsLGkraCksZD10Ll9kZW0uZ2V0KHItbCxpLWgsITApOyhhLXUpKihhLWQpPjAmJihhPSh1K2QpLzIpLFV2W25dPXQuX2RlbS5zZXQocixpLGEpLFZ2W25dPWU7fX19fX1zJiYodC5fZGVtVGlsZS5uZWVkc0RFTVRleHR1cmVVcGxvYWQ9ITAsdC5fZGVtLl90aW1lc3RhbXA9ZHQubm93KCkpO31nZXROb2Rlc0luZm8oKXtpZighdGhpcy5ub2Rlc0luZm8pe3RoaXMubm9kZXNJbmZvPVtdO2Zvcihjb25zdCBlIG9mIHRoaXMubm9kZXMpdGhpcy5ub2Rlc0luZm8ucHVzaChuZXcgcXYoZSkpO3RoaXMuZnJlZU5vZGVzKCk7fXJldHVybiB0aGlzLm5vZGVzSW5mb31mcmVlTm9kZXMoKXtpZih0aGlzLm5vZGVzKXtmb3IoY29uc3QgZSBvZiB0aGlzLm5vZGVzKUx2KGUpO3RoaXMubm9kZXMuc3BsaWNlKDAsdGhpcy5ub2Rlcy5sZW5ndGgpO319ZGVzdHJveSgpe3RoaXMuZnJlZU5vZGVzKCk7Y29uc3QgZT10aGlzLmdldE5vZGVzSW5mbygpO2Zvcihjb25zdCB0IG9mIGUpUnYodC5ub2RlKSxMdih0Lm5vZGUpO31pc0VtcHR5KCl7cmV0dXJuICF0aGlzLm5vZGVzLmxlbmd0aH11cGRhdGVSZXBsYWNlbWVudChlLHQpe2lmKHQudXBkYXRlVGltZT09PXRoaXMucmVwbGFjZW1lbnRVcGRhdGVUaW1lKXJldHVybjt0aGlzLnJlcGxhY2VtZW50VXBkYXRlVGltZT10LnVwZGF0ZVRpbWU7Y29uc3QgaT10LmdldFJlcGxhY2VtZW50UmVnaW9uc0ZvclRpbGUoZS50b1Vud3JhcHBlZCgpKSxyPXRoaXMuZ2V0Tm9kZXNJbmZvKCk7Zm9yKGxldCBlPTA7ZTx0aGlzLm5vZGVzSW5mby5sZW5ndGg7ZSsrKXtjb25zdCB0PXJbZV0ubm9kZTtyW2VdLmhpZGRlbkJ5UmVwbGFjZW1lbnQ9ISF0LmZvb3RwcmludCYmIWkuZmluZCgoZT0+ZS5mb290cHJpbnQ9PT10LmZvb3RwcmludCkpO319Z2V0SGVpZ2h0QXRUaWxlQ29vcmQoZSx0KXtjb25zdCBpPXRoaXMuZ2V0Tm9kZXNJbmZvKCkscj1bXTtmb3IobGV0IG49MDtuPHRoaXMubm9kZXNJbmZvLmxlbmd0aDtuKyspe2NvbnN0IG89aVtuXSxzPW8ubm9kZS5tZXNoZXNbMF07aWYoZTxzLmFhYmIubWluWzBdfHx0PHMuYWFiYi5taW5bMV18fGU+cy5hYWJiLm1heFswXXx8dD5zLmFhYmIubWF4WzFdKWNvbnRpbnVlO2NvbnN0IGE9KGUtcy5hYWJiLm1pblswXSkvKHMuYWFiYi5tYXhbMF0tcy5hYWJiLm1pblswXSkqU3Z8MCxsPU1hdGgubWluKDYzLCh0LXMuYWFiYi5taW5bMV0pLyhzLmFhYmIubWF4WzFdLXMuYWFiYi5taW5bMV0pKlN2fDApKlN2K01hdGgubWluKDYzLGEpO2lmKCEocy5oZWlnaHRtYXBbbF08MCYmby5ub2RlLmZvb3RwcmludCkpe2lmKG8uaGlkZGVuQnlSZXBsYWNlbWVudClyZXR1cm47cmV0dXJuIHtoZWlnaHQ6cy5oZWlnaHRtYXBbbF0sbWF4SGVpZ2h0Om8uZmVhdHVyZS5wcm9wZXJ0aWVzLmhlaWdodCxoaWRkZW46ITEsdmVydGljYWxTY2FsZTpvLmV2YWx1YXRlZFNjYWxlWzJdfX1pZihvLm5vZGUuZm9vdHByaW50LmdyaWQucXVlcnkobmV3IHkoZSx0KSxuZXcgeShlLHQpLHIpLHIubGVuZ3RoPjApcmV0dXJuIHtoZWlnaHQ6dm9pZCAwLG1heEhlaWdodDpvLmZlYXR1cmUucHJvcGVydGllcy5oZWlnaHQsaGlkZGVuOm8uaGlkZGVuQnlSZXBsYWNlbWVudCx2ZXJ0aWNhbFNjYWxlOm8uZXZhbHVhdGVkU2NhbGVbMl19fX19ZnVuY3Rpb24gJHYoZSx0KXtyZXR1cm4gIWUuaXNMaWdodENvbnN0YW50JiZ0fWZ1bmN0aW9uIFd2KGUsdCxpLHIsbixvLHMsYSl7bGV0IGw9KDYxNDQwJnR8KDYxNDQwJnQpPj40KT4+OCxjPSgzODQwJnR8KDM4NDAmdCk+PjQpPj40LGg9MjQwJnR8KDI0MCZ0KT4+NDtpWzNdPjAmJihsPUtyKGwsMjU1KmlbMF0saVszXSksYz1LcihjLDI1NSppWzFdLGlbM10pLGg9S3IoaCwyNTUqaVsyXSxpWzNdKSk7Y29uc3QgdT1sPDw4fGMsZD1oPDw4fE1hdGguZmxvb3IoMjU1KnJbM10pLHA9ZnVuY3Rpb24oZSl7Y29uc3QgdD16KGUsMCwyKTtyZXR1cm4gTWF0aC5taW4oTWF0aC5yb3VuZCguNSp0KjI1NSksMjU1KX0oclsyXSk8PDh8MTUqclswXTw8NHwxNSpyWzFdLGY9eihuWzBdLDAsMSksbT16KG5bMV0sMCwxKSxfPXooblsyXSwwLDEpLGc9eihuWzNdLDAsMSk7bGV0IHkseCx2LGI7aWYoZiE9PW0mJnMhPT1vJiZtIT09Zil7Y29uc3QgZT1zLW87eD0xLyhlKihtLWYpKSx2PS0obytlKmYpLyhlKihtLWYpKTtjb25zdCB0PXoobls0XSwtMSwxKTtiPU1hdGgucG93KDEwLHQpLHk9MjU1Kl88PDh8MjU1Kmc7fWVsc2UgeT02NTUzNSx4PTAsdj0xLGI9MTtpZihlLmVtcGxhY2VCYWNrKHUsZCxwLHkseCx2LGIpLGEpe2NvbnN0IGU9YS5sZW5ndGg7YS5jbGVhcigpO2ZvcihsZXQgdD0wO3Q8ZTt0KyspYS5lbXBsYWNlQmFjayh1LGQscCx5LHgsdixiKTt9fWZ1bmN0aW9uIEh2KGUsdCl7Y29uc3QgaT1lLm5vZGU7bGV0IHI9MDtmb3IoY29uc3QgbiBvZiBpLm1lc2hlcyl7aWYoaS5saWdodHMmJmkubGlnaHRNZXNoSW5kZXg9PT1yKWNvbnRpbnVlO2lmKCFuLmZlYXR1cmVEYXRhKWNvbnRpbnVlO24uZmVhdHVyZUFycmF5PW5ldyBubCxuLmZlYXR1cmVBcnJheS5yZXNlcnZlKG4uZmVhdHVyZURhdGEubGVuZ3RoKTtsZXQgbz10O2Zvcihjb25zdCB0IG9mIG4uZmVhdHVyZURhdGEpe2xldCByO2NvbnN0IHM9NjU1MzUmdCxhPSgxNSZzKTw4PzE1JnM6MCxsPXQ+PjE2JjY1NTM1LGM9ZS5ldmFsdWF0ZWRSTUVBW2FdLGg9ZS5ldmFsdWF0ZWRDb2xvclthXSx1PWUuZW1pc3Npb25IZWlnaHRCYXNlZFBhcmFtc1thXTtpZihvJiYyPT09YSYmaS5saWdodHMmJihyPW5ldyBubCxyLnJlc2l6ZSgxMCppLmxpZ2h0cy5sZW5ndGgpKSxXdihuLmZlYXR1cmVBcnJheSxsLGgsYyx1LG4uYWFiYi5taW5bMl0sbi5hYWJiLm1heFsyXSxyKSxyJiZvKXtvPSExO2NvbnN0IGU9aS5tZXNoZXNbaS5saWdodE1lc2hJbmRleF07ZS5mZWF0dXJlQXJyYXk9cixlLmZlYXR1cmVBcnJheS5fdHJpbSgpO319bi5mZWF0dXJlQXJyYXkuX3RyaW0oKSxyKys7fX1ScyhadixcIlRpbGVkM2RNb2RlbEJ1Y2tldFwiLHtvbWl0OltcImxheWVyc1wiXX0pLFJzKHF2LFwiVGlsZWQzZE1vZGVsRmVhdHVyZVwiKTtjbGFzcyBYdntjb25zdHJ1Y3Rvcigpe3RoaXMuX3VwZGF0ZVRpbWU9MCx0aGlzLl9zb3VyY2VJZHM9W10sdGhpcy5fYWN0aXZlUmVnaW9ucz1bXSx0aGlzLl9wcmV2UmVnaW9ucz1bXTt9Y2xlYXIoKXt0aGlzLl9hY3RpdmVSZWdpb25zLmxlbmd0aD4wJiYrK3RoaXMuX3VwZGF0ZVRpbWUsdGhpcy5fYWN0aXZlUmVnaW9ucz1bXSx0aGlzLl9wcmV2UmVnaW9ucz1bXTt9Z2V0IHVwZGF0ZVRpbWUoKXtyZXR1cm4gdGhpcy5fdXBkYXRlVGltZX1nZXRSZXBsYWNlbWVudFJlZ2lvbnNGb3JUaWxlKGUpe2NvbnN0IHQ9UXYobmV3IHkoMCwwKSxuZXcgeShjcixjciksZSksaT1bXTtmb3IoY29uc3QgciBvZiB0aGlzLl9hY3RpdmVSZWdpb25zKXtpZihyLmhpZGRlbkJ5T3ZlcmxhcCljb250aW51ZTtpZighSnYodCxyKSljb250aW51ZTtjb25zdCBuPWViKHIubWluLHIubWF4LGUpO2kucHVzaCh7bWluOm4ubWluLG1heDpuLm1heCxzb3VyY2VJZDp0aGlzLl9zb3VyY2VJZHNbci5wcmlvcml0eV0sZm9vdHByaW50OnIuZm9vdHByaW50LGZvb3RwcmludFRpbGVJZDpyLnRpbGVJZH0pO31yZXR1cm4gaX1zZXRTb3VyY2VzKGUpe3RoaXMuX3NldFNvdXJjZXMoZS5tYXAoKGU9Pih7Z2V0U291cmNlSWQ6KCk9PmUuY2FjaGUuaWQsZ2V0Rm9vdHByaW50czooKT0+e2NvbnN0IHQ9W107Zm9yKGNvbnN0IGkgb2YgZS5jYWNoZS5nZXRWaXNpYmxlQ29vcmRpbmF0ZXMoKSl7Y29uc3Qgcj1lLmNhY2hlLmdldFRpbGUoaSkuYnVja2V0c1tlLmxheWVyXTtpZihyKWZvcihjb25zdCBlIG9mIHIuZ2V0Tm9kZXNJbmZvKCkpe2NvbnN0IHI9ZS5ub2RlO3IuZm9vdHByaW50JiZ0LnB1c2goe2Zvb3RwcmludDpyLmZvb3RwcmludCxpZDppLnRvVW53cmFwcGVkKCl9KTt9fXJldHVybiB0fX0pKSkpO31fYWRkU291cmNlKGUpe2NvbnN0IHQ9ZS5nZXRGb290cHJpbnRzKCk7aWYoMCE9PXQubGVuZ3RoKXtmb3IoY29uc3QgZSBvZiB0KXtpZighZS5mb290cHJpbnQpY29udGludWU7Y29uc3QgdD1RdihlLmZvb3RwcmludC5taW4sZS5mb290cHJpbnQubWF4LGUuaWQpO3RoaXMuX2FjdGl2ZVJlZ2lvbnMucHVzaCh7bWluOnQubWluLG1heDp0Lm1heCxoaWRkZW5CeU92ZXJsYXA6ITEscHJpb3JpdHk6dGhpcy5fc291cmNlSWRzLmxlbmd0aCx0aWxlSWQ6ZS5pZCxmb290cHJpbnQ6ZS5mb290cHJpbnR9KTt9dGhpcy5fc291cmNlSWRzLnB1c2goZS5nZXRTb3VyY2VJZCgpKTt9fV9jb21wdXRlUmVwbGFjZW1lbnQoKXt0aGlzLl9hY3RpdmVSZWdpb25zLnNvcnQoKChlLHQpPT5lLnByaW9yaXR5LXQucHJpb3JpdHl8fFl2KGUubWluLHQubWluKXx8WXYoZS5tYXgsdC5tYXgpKSk7bGV0IGU9dGhpcy5fYWN0aXZlUmVnaW9ucy5sZW5ndGghPT10aGlzLl9wcmV2UmVnaW9ucy5sZW5ndGg7aWYoIWUpe2xldCB0PTAsaT0wO2Zvcig7IWUmJnQhPT10aGlzLl9hY3RpdmVSZWdpb25zLmxlbmd0aDspe2NvbnN0IHI9dGhpcy5fYWN0aXZlUmVnaW9uc1t0XSxuPXRoaXMuX3ByZXZSZWdpb25zW2ldO2U9ci5wcmlvcml0eSE9PW4ucHJpb3JpdHl8fCFLdihyLG4pLCsrdCwrK2k7fX1pZihlKXsrK3RoaXMuX3VwZGF0ZVRpbWU7Y29uc3QgZT1lPT57Y29uc3QgdD10aGlzLl9hY3RpdmVSZWdpb25zO2lmKGU+PXQubGVuZ3RoKXJldHVybiBlO2NvbnN0IGk9dFtlXS5wcmlvcml0eTtmb3IoO2U8dC5sZW5ndGgmJnRbZV0ucHJpb3JpdHk9PT1pOykrK2U7cmV0dXJuIGV9O2lmKHRoaXMuX3NvdXJjZUlkcy5sZW5ndGg+MSl7bGV0IHQ9MCxpPWUodCk7Zm9yKDt0IT09aTspe2xldCByPXQ7Y29uc3Qgbj10O2Zvcig7ciE9PWk7KXtjb25zdCBlPXRoaXMuX2FjdGl2ZVJlZ2lvbnNbcl07ZS5oaWRkZW5CeU92ZXJsYXA9ITE7Zm9yKGxldCB0PTA7dDxuO3QrKyl7Y29uc3QgaT10aGlzLl9hY3RpdmVSZWdpb25zW3RdO2lmKCFpLmhpZGRlbkJ5T3ZlcmxhcCYmSnYoZSxpKSYmKGUuaGlkZGVuQnlPdmVybGFwPWliKGUuZm9vdHByaW50LGUudGlsZUlkLGkuZm9vdHByaW50LGkudGlsZUlkKSxlLmhpZGRlbkJ5T3ZlcmxhcCkpYnJlYWt9KytyO310PWksaT1lKHQpO319fX1fc2V0U291cmNlcyhlKXtbdGhpcy5fcHJldlJlZ2lvbnMsdGhpcy5fYWN0aXZlUmVnaW9uc109W3RoaXMuX2FjdGl2ZVJlZ2lvbnMsW11dLHRoaXMuX3NvdXJjZUlkcz1bXTtmb3IobGV0IHQ9ZS5sZW5ndGgtMTt0Pj0wO3QtLSl0aGlzLl9hZGRTb3VyY2UoZVt0XSk7dGhpcy5fY29tcHV0ZVJlcGxhY2VtZW50KCk7fX1mdW5jdGlvbiBZdihlLHQpe3JldHVybiBlLngtdC54fHxlLnktdC55fWZ1bmN0aW9uIEt2KGUsdCl7cmV0dXJuIDA9PT1ZdihlLm1pbix0Lm1pbikmJjA9PT1ZdihlLm1heCx0Lm1heCl9ZnVuY3Rpb24gSnYoZSx0KXtyZXR1cm4gIShlLm1pbi54PnQubWF4Lnh8fGUubWF4Lng8dC5taW4ueHx8ZS5taW4ueT50Lm1heC55fHxlLm1heC55PHQubWluLnkpfWZ1bmN0aW9uIFF2KGUsdCxpKXtjb25zdCByPTEvY3Isbj0xLygxPDxpLmNhbm9uaWNhbC56KSxvPSh0LngqcitpLmNhbm9uaWNhbC54KSpuK2kud3JhcCxzPSh0LnkqcitpLmNhbm9uaWNhbC55KSpuO3JldHVybiB7bWluOm5ldyB5KChlLngqcitpLmNhbm9uaWNhbC54KSpuK2kud3JhcCwoZS55KnIraS5jYW5vbmljYWwueSkqbiksbWF4Om5ldyB5KG8scyl9fWZ1bmN0aW9uIGViKGUsdCxpKXtjb25zdCByPTE8PGkuY2Fub25pY2FsLnosbj0oKHQueC1pLndyYXApKnItaS5jYW5vbmljYWwueCkqY3Isbz0odC55KnItaS5jYW5vbmljYWwueSkqY3I7cmV0dXJuIHttaW46bmV3IHkoKChlLngtaS53cmFwKSpyLWkuY2Fub25pY2FsLngpKmNyLChlLnkqci1pLmNhbm9uaWNhbC55KSpjciksbWF4Om5ldyB5KG4sbyl9fWZ1bmN0aW9uIHRiKGUsdCxpLHIsbixvLHMpe2NvbnN0IGE9ZS5pbmRpY2VzLGw9ZS52ZXJ0aWNlcyxjPVtdO2ZvcihsZXQgaD1yO2g8cituO2grPTMpe2NvbnN0IHI9dFtpW2grMF0rb10sbj10W2lbaCsxXStvXSx1PXRbaVtoKzJdK29dLGQ9TWF0aC5taW4oci54LG4ueCx1LngpLHA9TWF0aC5tYXgoci54LG4ueCx1LngpLGY9TWF0aC5taW4oci55LG4ueSx1LnkpLG09TWF0aC5tYXgoci55LG4ueSx1LnkpO2MubGVuZ3RoPTAsZS5ncmlkLnF1ZXJ5KG5ldyB5KGQsZiksbmV3IHkocCxtKSxjKTtmb3IobGV0IGU9MDtlPGMubGVuZ3RoO2UrKyl7Y29uc3QgdD1jW2VdO2lmKExwKGxbYVszKnQrMF1dLGxbYVszKnQrMV1dLGxbYVszKnQrMl1dLHIsbix1LHMpKXJldHVybiAhMH19cmV0dXJuICExfWZ1bmN0aW9uIGliKGUsdCxpLHIpe2lmKCFlfHwhaSlyZXR1cm4gITE7bGV0IG49ZS52ZXJ0aWNlcztpZighdC5jYW5vbmljYWwuZXF1YWxzKHIuY2Fub25pY2FsKXx8dC53cmFwIT09ci53cmFwKXtpZihpLnZlcnRpY2VzLmxlbmd0aDxlLnZlcnRpY2VzLmxlbmd0aClyZXR1cm4gaWIoaSxyLGUsdCk7Y29uc3Qgbz10LmNhbm9uaWNhbCxzPXIuY2Fub25pY2FsLGE9TWF0aC5wb3coMixzLnotby56KTtuPWUudmVydGljZXMubWFwKChlPT5uZXcgeShlLngqby54KmNyKmEtcy54KmNyLGUueSpvLnkqY3IqYS1zLnkqY3IpKSk7fXJldHVybiB0YihpLG4sZS5pbmRpY2VzLDAsZS5pbmRpY2VzLmxlbmd0aCwwLDApfWNvbnN0IHJiPWhtLnR5cGVzLG5iPVtcImZpbGwtZXh0cnVzaW9uLWJhc2VcIixcImZpbGwtZXh0cnVzaW9uLWhlaWdodFwiLFwiZmlsbC1leHRydXNpb24tY29sb3JcIixcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIixcImZpbGwtZXh0cnVzaW9uLWZsb29kLWxpZ2h0LXdhbGwtcmFkaXVzXCJdLG9iPVtcImZpbGwtZXh0cnVzaW9uLWZsb29kLWxpZ2h0LWdyb3VuZC1yYWRpdXNcIl0sc2I9TWF0aC5wb3coMiwxMyksYWI9TWF0aC5wb3coMiwxNSktMSxsYj1uZXcgeSgwLDEpLGNiPTIxNDc0ODM2NDg7ZnVuY3Rpb24gaGIoZSx0LGkscixuLG8scyxhKXtlLmVtcGxhY2VCYWNrKCh0PDwxKStzLChpPDwxKStvLChNYXRoLmZsb29yKHIqc2IpPDwxKStuLE1hdGgucm91bmQoYSkpO31mdW5jdGlvbiB1YihlLHQsaSxyLG4sbyl7ZS5lbXBsYWNlQmFjayh0LngsdC55LChpLng8PDEpK3IsKGkueTw8MSkrbixvKTt9ZnVuY3Rpb24gZGIoZSx0LGkpe2NvbnN0IHI9MTYzODQ7ZS5lbXBsYWNlQmFjayh0LngsdC55LHQueixpWzBdKnIsaVsxXSpyLGlbMl0qcik7fWNsYXNzIHBie2NvbnN0cnVjdG9yKCl7dGhpcy52ZXJ0ZXhPZmZzZXQ9MCx0aGlzLnZlcnRleENvdW50PTAsdGhpcy5pbmRleE9mZnNldD0wLHRoaXMuaW5kZXhDb3VudD0wO319Y2xhc3MgZmJ7Y29uc3RydWN0b3IoKXt0aGlzLmNlbnRyb2lkWFk9bmV3IHkoMCwwKSx0aGlzLnZlcnRleEFycmF5T2Zmc2V0PTAsdGhpcy52ZXJ0ZXhDb3VudD0wLHRoaXMuZ3JvdW5kVmVydGV4QXJyYXlPZmZzZXQ9MCx0aGlzLmdyb3VuZFZlcnRleENvdW50PTAsdGhpcy5mbGFncz0wLHRoaXMuZm9vdHByaW50U2VnSWR4PS0xLHRoaXMuZm9vdHByaW50U2VnTGVuPTAsdGhpcy5wb2x5Z29uU2VnSWR4PS0xLHRoaXMucG9seWdvblNlZ0xlbj0wLHRoaXMubWluPW5ldyB5KE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksdGhpcy5tYXg9bmV3IHkoLU51bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUUpLHRoaXMuaGVpZ2h0PTA7fXNwYW4oKXtyZXR1cm4gbmV3IHkodGhpcy5tYXgueC10aGlzLm1pbi54LHRoaXMubWF4LnktdGhpcy5taW4ueSl9fWNsYXNzIG1ie2NvbnN0cnVjdG9yKCl7dGhpcy5hY2M9bmV3IHkoMCwwKSx0aGlzLmFjY0NvdW50PTAsdGhpcy5jZW50cm9pZERhdGFJbmRleD0wO31zdGFydFJpbmcoZSx0KXtlLm1pbi54PT09TnVtYmVyLk1BWF9WQUxVRSYmKGUubWluLng9ZS5tYXgueD10LngsZS5taW4ueT1lLm1heC55PXQueSk7fWFwcGVuZEVkZ2UoZSx0LGkpe3RoaXMuYWNjQ291bnQrKyx0aGlzLmFjYy5fYWRkKHQpO2xldCByPSEhdGhpcy5ib3JkZXJzO3QueDxlLm1pbi54PyhlLm1pbi54PXQueCxyPSEwKTp0Lng+ZS5tYXgueCYmKGUubWF4Lng9dC54LHI9ITApLHQueTxlLm1pbi55PyhlLm1pbi55PXQueSxyPSEwKTp0Lnk+ZS5tYXgueSYmKGUubWF4Lnk9dC55LHI9ITApLCgoMD09PXQueHx8dC54PT09Y3IpJiZ0Lng9PT1pLngpIT0oKDA9PT10Lnl8fHQueT09PWNyKSYmdC55PT09aS55KSYmdGhpcy5wcm9jZXNzQm9yZGVyT3ZlcmxhcCh0LGkpLHImJnRoaXMuY2hlY2tCb3JkZXJJbnRlcnNlY3Rpb24odCxpKTt9Y2hlY2tCb3JkZXJJbnRlcnNlY3Rpb24oZSx0KXt0Lng8MCE9ZS54PDAmJnRoaXMuYWRkQm9yZGVySW50ZXJzZWN0aW9uKDAsS3IodC55LGUueSwoMC10LngpLyhlLngtdC54KSkpLHQueD5jciE9ZS54PmNyJiZ0aGlzLmFkZEJvcmRlckludGVyc2VjdGlvbigxLEtyKHQueSxlLnksKGNyLXQueCkvKGUueC10LngpKSksdC55PDAhPWUueTwwJiZ0aGlzLmFkZEJvcmRlckludGVyc2VjdGlvbigyLEtyKHQueCxlLngsKDAtdC55KS8oZS55LXQueSkpKSx0Lnk+Y3IhPWUueT5jciYmdGhpcy5hZGRCb3JkZXJJbnRlcnNlY3Rpb24oMyxLcih0LngsZS54LChjci10LnkpLyhlLnktdC55KSkpO31hZGRCb3JkZXJJbnRlcnNlY3Rpb24oZSx0KXt0aGlzLmJvcmRlcnN8fCh0aGlzLmJvcmRlcnM9W1tOdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFXSxbTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRV0sW051bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUVdLFtOdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFXV0pO2NvbnN0IGk9dGhpcy5ib3JkZXJzW2VdO3Q8aVswXSYmKGlbMF09dCksdD5pWzFdJiYoaVsxXT10KTt9cHJvY2Vzc0JvcmRlck92ZXJsYXAoZSx0KXtpZihlLng9PT10Lngpe2lmKGUueT09PXQueSlyZXR1cm47Y29uc3QgaT0wPT09ZS54PzA6MTt0aGlzLmFkZEJvcmRlckludGVyc2VjdGlvbihpLHQueSksdGhpcy5hZGRCb3JkZXJJbnRlcnNlY3Rpb24oaSxlLnkpO31lbHNlIHtjb25zdCBpPTA9PT1lLnk/MjozO3RoaXMuYWRkQm9yZGVySW50ZXJzZWN0aW9uKGksdC54KSx0aGlzLmFkZEJvcmRlckludGVyc2VjdGlvbihpLGUueCk7fX1jZW50cm9pZCgpe3JldHVybiAwPT09dGhpcy5hY2NDb3VudD9uZXcgeSgwLDApOm5ldyB5KE1hdGguZmxvb3IoTWF0aC5tYXgoMCx0aGlzLmFjYy54KS90aGlzLmFjY0NvdW50KSxNYXRoLmZsb29yKE1hdGgubWF4KDAsdGhpcy5hY2MueSkvdGhpcy5hY2NDb3VudCkpfWludGVyc2VjdHNDb3VudCgpe3JldHVybiB0aGlzLmJvcmRlcnM/dGhpcy5ib3JkZXJzLnJlZHVjZSgoKGUsdCk9PmUrICsodFswXSE9PU51bWJlci5NQVhfVkFMVUUpKSwwKTowfX1mdW5jdGlvbiBfYihlLHQpe2NvbnN0IGk9ZS5hZGQodCkuX3VuaXQoKSxyPXooZS54KmkueCtlLnkqaS55LC0xLDEpO3ZhciBuLG8scztyZXR1cm4gbj1NYXRoLmFjb3MociksTWF0aC5taW4oNCxNYXRoLm1heCgtNCxNYXRoLnRhbihuKSkpLzQqYWIqKChvPWUpLngqKHM9dCkueS1vLnkqcy54PDA/LTE6MSl9Y29uc3QgZ2I9W2U9PmUueDwwLGU9PmUueD5jcixlPT5lLnk8MCxlPT5lLnk+Y3JdO2Z1bmN0aW9uIHliKGUsdCxpLHIpe2NvbnN0IG49WzRdO2lmKDA9PT1yKXJldHVybiBuO2kuX211bHQocik7Y29uc3Qgbz1lLnN1YihpKSxzPXQuc3ViKGkpLGE9W2UsdCxvLHNdO2ZvcihsZXQgZT0wO2U8NDtlKyspZm9yKGNvbnN0IHQgb2YgYSlpZihnYltlXSh0KSl7bi5wdXNoKGUpO2JyZWFrfXJldHVybiBufWNsYXNzIHhie2NvbnN0cnVjdG9yKGUpe3RoaXMudmVydGV4QXJyYXk9bmV3IFJhLHRoaXMuaW5kZXhBcnJheT1uZXcgV2EsdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnM9bmV3IGVjKGUubGF5ZXJzLGUuem9vbSwoZT0+b2IuaW5jbHVkZXMoZSkpKSx0aGlzLl9zZWdtZW50cz1uZXcgeGwsdGhpcy5oaWRkZW5CeUxhbmRtYXJrVmVydGV4QXJyYXk9bmV3IG9sLHRoaXMuX3NlZ21lbnRUb0dyb3VuZFF1YWRzPXt9LHRoaXMuX3NlZ21lbnRUb0dyb3VuZFF1YWRzWzBdPVtdLHRoaXMuX3NlZ21lbnRUb1JlZ2lvblRyaUNvdW50cz17fSx0aGlzLl9zZWdtZW50VG9SZWdpb25UcmlDb3VudHNbMF09WzAsMCwwLDAsMF0sdGhpcy5yZWdpb25TZWdtZW50cz17fSx0aGlzLnJlZ2lvblNlZ21lbnRzWzRdPW5ldyB4bDt9Z2V0RGVmYXVsdFNlZ21lbnQoKXtyZXR1cm4gdGhpcy5yZWdpb25TZWdtZW50c1s0XX1oYXNEYXRhKCl7cmV0dXJuIDAhPT10aGlzLnZlcnRleEFycmF5Lmxlbmd0aH1hZGREYXRhKGUsdCxpLHI9ITEpe2NvbnN0IG49ZS5sZW5ndGg7aWYobj4yKXtsZXQgbz1NYXRoLm1heCgwLHRoaXMuX3NlZ21lbnRzLmdldCgpLmxlbmd0aC0xKTtjb25zdCBzPXRoaXMuX3NlZ21lbnRzLl9wcmVwYXJlU2VnbWVudCg0Km4sdGhpcy52ZXJ0ZXhBcnJheS5sZW5ndGgsMip0aGlzLl9zZWdtZW50VG9Hcm91bmRRdWFkc1tvXS5sZW5ndGgpO2xldCBhO28hPT10aGlzLl9zZWdtZW50cy5nZXQoKS5sZW5ndGgtMSYmKG8rKyx0aGlzLl9zZWdtZW50VG9Hcm91bmRRdWFkc1tvXT1bXSx0aGlzLl9zZWdtZW50VG9SZWdpb25UcmlDb3VudHNbb109WzAsMCwwLDAsMF0pO3tjb25zdCB0PWVbMF0saT1lWzFdO2E9X2IodC5zdWIoZVtuLTFdKS5fcGVycCgpLl91bml0KCksaS5zdWIodCkuX3BlcnAoKS5fdW5pdCgpKTt9Zm9yKGxldCBsPTA7bDxuO2wrKyl7Y29uc3QgYz1sPT09bi0xPzA6bCsxLGg9ZVtsXSx1PWVbY10sZD1lW2M9PT1uLTE/MDpjKzFdLHA9dS5zdWIoaCkuX3BlcnAoKS5fdW5pdCgpLGY9X2IocCxkLnN1Yih1KS5fcGVycCgpLl91bml0KCkpLG09YSxfPWY7aWYoRWIoaCx1LHQpfHxyJiZNYihoLHQpJiZNYih1LHQpKXthPWY7Y29udGludWV9Y29uc3QgZz1zLnZlcnRleExlbmd0aDt1Yih0aGlzLnZlcnRleEFycmF5LGgsdSwxLDEsbSksdWIodGhpcy52ZXJ0ZXhBcnJheSxoLHUsMSwwLG0pLHViKHRoaXMudmVydGV4QXJyYXksaCx1LDAsMSxfKSx1Yih0aGlzLnZlcnRleEFycmF5LGgsdSwwLDAsXykscy52ZXJ0ZXhMZW5ndGgrPTQ7Y29uc3QgeT15YihoLHUscCxpKTtmb3IoY29uc3QgZSBvZiB5KXRoaXMuX3NlZ21lbnRUb0dyb3VuZFF1YWRzW29dLnB1c2goe2lkOmcscmVnaW9uOmV9KSx0aGlzLl9zZWdtZW50VG9SZWdpb25UcmlDb3VudHNbb11bZV0rPTIscy5wcmltaXRpdmVMZW5ndGgrPTI7YT1mO319fXByZXBhcmVCb3JkZXJTZWdtZW50cygpe2lmKCF0aGlzLmhhc0RhdGEoKSlyZXR1cm47Y29uc3QgZT10aGlzLl9zZWdtZW50cy5nZXQoKSx0PWUubGVuZ3RoO2ZvcihsZXQgZT0wO2U8dDtlKyspdGhpcy5fc2VnbWVudFRvR3JvdW5kUXVhZHNbZV0uc29ydCgoKGUsdCk9PmUucmVnaW9uLXQucmVnaW9uKSk7Zm9yKGxldCBpPTA7aTx0O2krKyl7Y29uc3QgdD10aGlzLl9zZWdtZW50VG9Hcm91bmRRdWFkc1tpXSxyPWVbaV0sbj10aGlzLl9zZWdtZW50VG9SZWdpb25UcmlDb3VudHNbaV07bi5yZWR1Y2UoKChlLHQpPT5lK3QpLDApO2xldCBvPTA7Zm9yKGxldCBlPTA7ZTw9NDtlKyspe2NvbnN0IHQ9bltlXTtpZigwIT09dCl7bGV0IGk9dGhpcy5yZWdpb25TZWdtZW50c1tlXTtpfHwoaT10aGlzLnJlZ2lvblNlZ21lbnRzW2VdPW5ldyB4bCk7Y29uc3Qgbj17dmVydGV4T2Zmc2V0OnIudmVydGV4T2Zmc2V0LHByaW1pdGl2ZU9mZnNldDpyLnByaW1pdGl2ZU9mZnNldCtvLHZlcnRleExlbmd0aDpyLnZlcnRleExlbmd0aCxwcmltaXRpdmVMZW5ndGg6dH07aS5nZXQoKS5wdXNoKG4pO31vKz10O31mb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl7Y29uc3QgaT10W2VdLmlkO3RoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhpLGkrMSxpKzMpLHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhpLGkrMyxpKzIpO319dGhpcy5fc2VnbWVudFRvR3JvdW5kUXVhZHM9bnVsbCx0aGlzLl9zZWdtZW50VG9SZWdpb25UcmlDb3VudHM9bnVsbCx0aGlzLl9zZWdtZW50cy5kZXN0cm95KCksdGhpcy5fc2VnbWVudHM9bnVsbDt9YWRkUGFpbnRQcm9wZXJ0aWVzRGF0YShlLHQsaSxyLG4sbyl7dGhpcy5oYXNEYXRhKCkmJnRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnBvcHVsYXRlUGFpbnRBcnJheXModGhpcy52ZXJ0ZXhBcnJheS5sZW5ndGgsZSx0LGkscixuLG8pO311cGxvYWQoZSl7dGhpcy5oYXNEYXRhKCkmJih0aGlzLnZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLnZlcnRleEFycmF5LCRmLm1lbWJlcnMpLHRoaXMuaW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLmluZGV4QXJyYXkpKTt9dXBsb2FkUGFpbnRQcm9wZXJ0aWVzKGUpe3RoaXMuaGFzRGF0YSgpJiZ0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGxvYWQoZSk7fXVwZGF0ZShlLHQsaSxyLG4sbyl7dGhpcy5oYXNEYXRhKCkmJnRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwZGF0ZVBhaW50QXJyYXlzKGUsdCxpLHIsbixvKTt9dXBkYXRlSGlkZGVuQnlMYW5kbWFyayhlKXtpZighdGhpcy5oYXNEYXRhKCkpcmV0dXJuO2NvbnN0IHQ9ZS5ncm91bmRWZXJ0ZXhDb3VudCtlLmdyb3VuZFZlcnRleEFycmF5T2Zmc2V0O2lmKDA9PT1lLmdyb3VuZFZlcnRleENvdW50KXJldHVybjtjb25zdCBpPWUuZmxhZ3MmY2I/MTowO2ZvcihsZXQgcj1lLmdyb3VuZFZlcnRleEFycmF5T2Zmc2V0O3I8dDsrK3IpdGhpcy5oaWRkZW5CeUxhbmRtYXJrVmVydGV4QXJyYXkuZW1wbGFjZShyLGkpO3RoaXMuX25lZWRzSGlkZGVuQnlMYW5kbWFya1VwZGF0ZT0hMDt9dXBsb2FkSGlkZGVuQnlMYW5kbWFyayhlKXt0aGlzLmhhc0RhdGEoKSYmdGhpcy5fbmVlZHNIaWRkZW5CeUxhbmRtYXJrVXBkYXRlJiYoIXRoaXMuaGlkZGVuQnlMYW5kbWFya1ZlcnRleEJ1ZmZlciYmdGhpcy5oaWRkZW5CeUxhbmRtYXJrVmVydGV4QXJyYXkubGVuZ3RoPjA/dGhpcy5oaWRkZW5CeUxhbmRtYXJrVmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMuaGlkZGVuQnlMYW5kbWFya1ZlcnRleEFycmF5LEhmLm1lbWJlcnMsITApOnRoaXMuaGlkZGVuQnlMYW5kbWFya1ZlcnRleEJ1ZmZlciYmdGhpcy5oaWRkZW5CeUxhbmRtYXJrVmVydGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy5oaWRkZW5CeUxhbmRtYXJrVmVydGV4QXJyYXkpLHRoaXMuX25lZWRzSGlkZGVuQnlMYW5kbWFya1VwZGF0ZT0hMSk7fWRlc3Ryb3koKXtpZih0aGlzLnZlcnRleEJ1ZmZlcil7dGhpcy52ZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaGlkZGVuQnlMYW5kbWFya1ZlcnRleEJ1ZmZlciYmdGhpcy5oaWRkZW5CeUxhbmRtYXJrVmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLl9zZWdtZW50cyYmdGhpcy5fc2VnbWVudHMuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKTtmb3IobGV0IGU9MDtlPD00O2UrKyl7Y29uc3QgdD10aGlzLnJlZ2lvblNlZ21lbnRzW2VdO3QmJnQuZGVzdHJveSgpO319fX1jbGFzcyB2Yntjb25zdHJ1Y3RvcihlKXt0aGlzLnpvb209ZS56b29tLHRoaXMuY2Fub25pY2FsPWUuY2Fub25pY2FsLHRoaXMub3ZlcnNjYWxpbmc9ZS5vdmVyc2NhbGluZyx0aGlzLmxheWVycz1lLmxheWVycyx0aGlzLmxheWVySWRzPXRoaXMubGF5ZXJzLm1hcCgoZT0+ZS5mcWlkKSksdGhpcy5pbmRleD1lLmluZGV4LHRoaXMuaGFzUGF0dGVybj0hMSx0aGlzLmVkZ2VSYWRpdXM9MCx0aGlzLnByb2plY3Rpb249ZS5wcm9qZWN0aW9uLHRoaXMuYWN0aXZlUmVwbGFjZW1lbnRzPVtdLHRoaXMucmVwbGFjZW1lbnRVcGRhdGVUaW1lPTAsdGhpcy5jZW50cm9pZERhdGE9W10sdGhpcy5mb290cHJpbnRJbmRpY2VzPW5ldyBXYSx0aGlzLmZvb3RwcmludFZlcnRpY2VzPW5ldyB6YSx0aGlzLmZvb3RwcmludFNlZ21lbnRzPVtdLHRoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IERhLHRoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheT1uZXcgX2wsdGhpcy5pbmRleEFycmF5PW5ldyBXYSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucz1uZXcgZWMoZS5sYXllcnMsZS56b29tLChlPT5uYi5pbmNsdWRlcyhlKSkpLHRoaXMuc2VnbWVudHM9bmV3IHhsLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcklkcz10aGlzLmxheWVycy5maWx0ZXIoKGU9PmUuaXNTdGF0ZURlcGVuZGVudCgpKSkubWFwKChlPT5lLmlkKSksdGhpcy5ncm91bmRFZmZlY3Q9bmV3IHhiKGUpLHRoaXMubWF4SGVpZ2h0PTAsdGhpcy5wYXJ0TG9va3VwPXt9LHRoaXMudHJpYW5nbGVTdWJTZWdtZW50cz1bXSx0aGlzLnBvbHlnb25TZWdtZW50cz1bXTt9cG9wdWxhdGUoZSx0LGkscil7dGhpcy5mZWF0dXJlcz1bXSx0aGlzLmhhc1BhdHRlcm49VWYoXCJmaWxsLWV4dHJ1c2lvblwiLHRoaXMubGF5ZXJzLHQpLHRoaXMuZmVhdHVyZXNPbkJvcmRlcj1bXSx0aGlzLmJvcmRlckZlYXR1cmVJbmRpY2VzPVtbXSxbXSxbXSxbXV0sdGhpcy5ib3JkZXJEb25lV2l0aE5laWdoYm9yWj1bLTEsLTEsLTEsLTFdLHRoaXMudGlsZVRvTWV0ZXI9YXAoaSksdGhpcy5lZGdlUmFkaXVzPXRoaXMubGF5ZXJzWzBdLmxheW91dC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1lZGdlLXJhZGl1c1wiKS90aGlzLnRpbGVUb01ldGVyO2Zvcihjb25zdHtmZWF0dXJlOm4saWQ6byxpbmRleDpzLHNvdXJjZUxheWVySW5kZXg6YX1vZiBlKXtjb25zdCBlPXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLm5lZWRHZW9tZXRyeSxsPWdwKG4sZSk7aWYoIXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLmZpbHRlcihuZXcgb2EodGhpcy56b29tKSxsLGkpKWNvbnRpbnVlO2NvbnN0IGM9e2lkOm8sc291cmNlTGF5ZXJJbmRleDphLGluZGV4OnMsZ2VvbWV0cnk6ZT9sLmdlb21ldHJ5Ol9wKG4saSxyKSxwcm9wZXJ0aWVzOm4ucHJvcGVydGllcyx0eXBlOm4udHlwZSxwYXR0ZXJuczp7fX0saD10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aDt0aGlzLmhhc1BhdHRlcm4/dGhpcy5mZWF0dXJlcy5wdXNoKFZmKFwiZmlsbC1leHRydXNpb25cIix0aGlzLmxheWVycyxjLHRoaXMuem9vbSx0KSk6dGhpcy5hZGRGZWF0dXJlKGMsYy5nZW9tZXRyeSxzLGkse30sdC5hdmFpbGFibGVJbWFnZXMscix0LmJyaWdodG5lc3MpLHQuZmVhdHVyZUluZGV4Lmluc2VydChuLGMuZ2VvbWV0cnkscyxhLHRoaXMuaW5kZXgsaCk7fXRoaXMuc29ydEJvcmRlcnMoKSxcIm1lcmNhdG9yXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZSYmdGhpcy5zcGxpdFRvU3VidGlsZXMoKSx0aGlzLmdyb3VuZEVmZmVjdC5wcmVwYXJlQm9yZGVyU2VnbWVudHMoKSx0aGlzLnBvbHlnb25TZWdtZW50cy5sZW5ndGg9MDt9YWRkRmVhdHVyZXMoZSx0LGkscixuLG8pe2Zvcihjb25zdCBlIG9mIHRoaXMuZmVhdHVyZXMpe2NvbnN0e2dlb21ldHJ5OnN9PWU7dGhpcy5hZGRGZWF0dXJlKGUscyxlLmluZGV4LHQsaSxyLG4sbyk7fXRoaXMuc29ydEJvcmRlcnMoKSxcIm1lcmNhdG9yXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZSYmdGhpcy5zcGxpdFRvU3VidGlsZXMoKTt9dXBkYXRlKGUsdCxpLHIsbil7Y29uc3Qgbz0wIT09T2JqZWN0LmtleXMoZSkubGVuZ3RoO2lmKG8mJiF0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzLmxlbmd0aClyZXR1cm47Y29uc3Qgcz1vP3RoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnM6dGhpcy5sYXllcnM7dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBkYXRlUGFpbnRBcnJheXMoZSx0LHMsaSxyLG4pLHRoaXMuZ3JvdW5kRWZmZWN0LnVwZGF0ZShlLHQscyxpLHIsbik7fWlzRW1wdHkoKXtyZXR1cm4gMD09PXRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RofXVwbG9hZFBlbmRpbmcoKXtyZXR1cm4gIXRoaXMudXBsb2FkZWR8fHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkfHx0aGlzLmdyb3VuZEVmZmVjdC5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWR9dXBsb2FkKGUpe3RoaXMudXBsb2FkZWR8fCh0aGlzLmxheW91dFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEFycmF5LFlmKSx0aGlzLmluZGV4QnVmZmVyPWUuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRleEFycmF5KSx0aGlzLmxheW91dFZlcnRleEV4dEFycmF5JiYodGhpcy5sYXlvdXRWZXJ0ZXhFeHRCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5sYXlvdXRWZXJ0ZXhFeHRBcnJheSxYZi5tZW1iZXJzLCEwKSksdGhpcy5ncm91bmRFZmZlY3QudXBsb2FkKGUpKSx0aGlzLmdyb3VuZEVmZmVjdC51cGxvYWRQYWludFByb3BlcnRpZXMoZSksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBsb2FkKGUpLHRoaXMudXBsb2FkZWQ9ITA7fXVwbG9hZENlbnRyb2lkKGUpe3RoaXMuZ3JvdW5kRWZmZWN0LnVwbG9hZEhpZGRlbkJ5TGFuZG1hcmsoZSksdGhpcy5uZWVkc0NlbnRyb2lkVXBkYXRlJiYoIXRoaXMuY2VudHJvaWRWZXJ0ZXhCdWZmZXImJnRoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheS5sZW5ndGg+MD90aGlzLmNlbnRyb2lkVmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheSxXZi5tZW1iZXJzLCEwKTp0aGlzLmNlbnRyb2lkVmVydGV4QnVmZmVyJiZ0aGlzLmNlbnRyb2lkVmVydGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy5jZW50cm9pZFZlcnRleEFycmF5KSx0aGlzLm5lZWRzQ2VudHJvaWRVcGRhdGU9ITEpO31kZXN0cm95KCl7dGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXImJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5jZW50cm9pZFZlcnRleEJ1ZmZlciYmdGhpcy5jZW50cm9pZFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5sYXlvdXRWZXJ0ZXhFeHRCdWZmZXImJnRoaXMubGF5b3V0VmVydGV4RXh0QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmdyb3VuZEVmZmVjdC5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZGVzdHJveSgpLHRoaXMuc2VnbWVudHMuZGVzdHJveSgpKTt9YWRkRmVhdHVyZShlLHQsaSxyLG4sbyxzLGEpe2NvbnN0IGw9dGhpcy5sYXllcnNbMF0ucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tZmxvb2QtbGlnaHQtZ3JvdW5kLXJhZGl1c1wiKS5ldmFsdWF0ZShlLHt9KS90aGlzLnRpbGVUb01ldGVyLGM9W25ldyB5KDAsMCksbmV3IHkoY3IsY3IpXSxoPXMucHJvamVjdGlvbix1PVwiZ2xvYmVcIj09PWgubmFtZSxkPVwiUG9seWdvblwiPT09cmJbZS50eXBlXSxwPW5ldyBtYjtwLmNlbnRyb2lkRGF0YUluZGV4PXRoaXMuY2VudHJvaWREYXRhLmxlbmd0aDtjb25zdCBmPW5ldyBmYixtPXRoaXMubGF5ZXJzWzBdLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLWJhc2VcIikuZXZhbHVhdGUoZSx7fSxyKTw9MCxfPXRoaXMubGF5ZXJzWzBdLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLWhlaWdodFwiKS5ldmFsdWF0ZShlLHt9LHIpO2YuaGVpZ2h0PV8sZi52ZXJ0ZXhBcnJheU9mZnNldD10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aCxmLmdyb3VuZFZlcnRleEFycmF5T2Zmc2V0PXRoaXMuZ3JvdW5kRWZmZWN0LnZlcnRleEFycmF5Lmxlbmd0aCx1JiYhdGhpcy5sYXlvdXRWZXJ0ZXhFeHRBcnJheSYmKHRoaXMubGF5b3V0VmVydGV4RXh0QXJyYXk9bmV3IEZhKTtjb25zdCBnPUZmKHQsNTAwKTtmb3IobGV0IGU9Zy5sZW5ndGgtMTtlPj0wO2UtLSl7Y29uc3QgdD1nW2VdOygwPT09dC5sZW5ndGh8fCh4PXRbMF0pLmV2ZXJ5KChlPT5lLng8PTApKXx8eC5ldmVyeSgoZT0+ZS54Pj1jcikpfHx4LmV2ZXJ5KChlPT5lLnk8PTApKXx8eC5ldmVyeSgoZT0+ZS55Pj1jcikpKSYmZy5zcGxpY2UoZSwxKTt9dmFyIHg7bGV0IHY7aWYodSl2PUNiKGcsYyxyKTtlbHNlIHt2PVtdO2Zvcihjb25zdCBlIG9mIGcpdi5wdXNoKHtwb2x5Z29uOmUsYm91bmRzOmN9KTt9Y29uc3QgYj1kP3RoaXMuZWRnZVJhZGl1czowLHc9Yj4wJiZ0aGlzLnpvb208MTcsVD0oZSx0KT0+e2lmKDA9PT1lLmxlbmd0aClyZXR1cm4gITE7Y29uc3QgaT1lW2UubGVuZ3RoLTFdO3JldHVybiB0Lng9PT1pLngmJnQueT09PWkueX07Zm9yKGNvbnN0e3BvbHlnb246ZSxib3VuZHM6dH1vZiB2KXtsZXQgaT0wLG49MDtmb3IoY29uc3QgdCBvZiBlKWQmJiF0WzBdLmVxdWFscyh0W3QubGVuZ3RoLTFdKSYmdC5wdXNoKHRbMF0pLG4rPWQ/dC5sZW5ndGgtMTp0Lmxlbmd0aDtjb25zdCBvPXRoaXMuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQoKGQ/NTo0KSpuLHRoaXMubGF5b3V0VmVydGV4QXJyYXksdGhpcy5pbmRleEFycmF5KTtmLmZvb3RwcmludFNlZ0lkeDwwJiYoZi5mb290cHJpbnRTZWdJZHg9dGhpcy5mb290cHJpbnRTZWdtZW50cy5sZW5ndGgpLGYucG9seWdvblNlZ0lkeDwwJiYoZi5wb2x5Z29uU2VnSWR4PXRoaXMucG9seWdvblNlZ21lbnRzLmxlbmd0aCk7Y29uc3Qgcz17dHJpYW5nbGVBcnJheU9mZnNldDp0aGlzLmluZGV4QXJyYXkubGVuZ3RoLHRyaWFuZ2xlQ291bnQ6MCx0cmlhbmdsZVNlZ0lkeDp0aGlzLnNlZ21lbnRzLnNlZ21lbnRzLmxlbmd0aC0xfSxhPW5ldyBwYjtpZihhLnZlcnRleE9mZnNldD10aGlzLmZvb3RwcmludFZlcnRpY2VzLmxlbmd0aCxhLmluZGV4T2Zmc2V0PTMqdGhpcy5mb290cHJpbnRJbmRpY2VzLmxlbmd0aCxhLnJpbmdJbmRpY2VzPVtdLGQpe2NvbnN0IG49W10scz1bXTtpPW8udmVydGV4TGVuZ3RoO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXtjb25zdCBjPWVbaV07Yy5sZW5ndGgmJjAhPT1pJiZzLnB1c2gobi5sZW5ndGgvMik7Y29uc3QgZD1bXTtsZXQgcCxmO3A9Y1sxXS5zdWIoY1swXSkuX3BlcnAoKS5fdW5pdCgpLGEucmluZ0luZGljZXMucHVzaChjLmxlbmd0aC0xKTtmb3IobGV0IGU9MTtlPGMubGVuZ3RoO2UrKyl7Y29uc3QgdD1jW2VdLGk9Y1tlPT09Yy5sZW5ndGgtMT8xOmUrMV0scz10LmNsb25lKCk7aWYoYil7Zj1pLnN1Yih0KS5fcGVycCgpLl91bml0KCk7Y29uc3QgZT1wLmFkZChmKS5fdW5pdCgpLHI9YipNYXRoLm1pbig0LDEvKHAueCplLngrcC55KmUueSkpO3MueCs9ciplLngscy55Kz1yKmUueSxzLng9TWF0aC5yb3VuZChzLngpLHMueT1NYXRoLnJvdW5kKHMueSkscD1mO30hbXx8MCE9PWImJiF3fHxUKGQscyl8fGQucHVzaChzKSxoYih0aGlzLmxheW91dFZlcnRleEFycmF5LHMueCxzLnksMCwwLDEsMSwwKSxvLnZlcnRleExlbmd0aCsrLHRoaXMuZm9vdHByaW50VmVydGljZXMuZW1wbGFjZUJhY2sodC54LHQueSksbi5wdXNoKHQueCx0LnkpLHUmJmRiKHRoaXMubGF5b3V0VmVydGV4RXh0QXJyYXksaC5wcm9qZWN0VGlsZVBvaW50KHMueCxzLnksciksaC51cFZlY3RvcihyLHMueCxzLnkpKTt9bSYmKDA9PT1ifHx3KSYmKDAhPT1kLmxlbmd0aCYmVChkLGRbMF0pJiZkLnBvcCgpLHRoaXMuZ3JvdW5kRWZmZWN0LmFkZERhdGEoZCx0LGwpKTt9Y29uc3QgYz1CZihuLHMpO2ZvcihsZXQgZT0wO2U8Yy5sZW5ndGg7ZSs9Myl0aGlzLmZvb3RwcmludEluZGljZXMuZW1wbGFjZUJhY2soYS52ZXJ0ZXhPZmZzZXQrY1tlKzBdLGEudmVydGV4T2Zmc2V0K2NbZSsxXSxhLnZlcnRleE9mZnNldCtjW2UrMl0pLHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhpK2NbZV0saStjW2UrMl0saStjW2UrMV0pLG8ucHJpbWl0aXZlTGVuZ3RoKys7YS5pbmRleENvdW50Kz1jLmxlbmd0aCxhLnZlcnRleENvdW50Kz10aGlzLmZvb3RwcmludFZlcnRpY2VzLmxlbmd0aC1hLnZlcnRleE9mZnNldDt9Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspe2NvbnN0IHM9ZVtuXTtwLnN0YXJ0UmluZyhmLHNbMF0pO2xldCBhPXMubGVuZ3RoPjQmJkFiKHNbcy5sZW5ndGgtMl0sc1swXSxzWzFdKSxjPWI/d2Ioc1tzLmxlbmd0aC0yXSxzWzBdLHNbMV0sYik6MDtjb25zdCBfPVtdO2xldCBnLHkseDt5PXNbMV0uc3ViKHNbMF0pLl9wZXJwKCkuX3VuaXQoKTtsZXQgdj0hMDtmb3IobGV0IGU9MSxuPTA7ZTxzLmxlbmd0aDtlKyspe2xldCBsPXNbZS0xXSxkPXNbZV07Y29uc3Qgdz1zW2U9PT1zLmxlbmd0aC0xPzE6ZSsxXTtpZihwLmFwcGVuZEVkZ2UoZixkLGwpLEViKGQsbCx0KSl7YiYmKHk9dy5zdWIoZCkuX3BlcnAoKS5fdW5pdCgpLHY9IXYpO2NvbnRpbnVlfWNvbnN0IEU9ZC5zdWIobCkuX3BlcnAoKSxNPUUueC8oTWF0aC5hYnMoRS54KStNYXRoLmFicyhFLnkpKSxBPUUueT4wPzE6MCxTPWwuZGlzdChkKTtpZihuK1M+MzI3NjgmJihuPTApLGIpe3g9dy5zdWIoZCkuX3BlcnAoKS5fdW5pdCgpO2xldCBlPVRiKGwsZCx3LGJiKHkseCksYik7aXNOYU4oZSkmJihlPTApO2NvbnN0IHQ9ZC5zdWIobCkuX3VuaXQoKTtsPWwuYWRkKHQubXVsdChjKSkuX3JvdW5kKCksZD1kLmFkZCh0Lm11bHQoLWUpKS5fcm91bmQoKSxjPWUseT14LG0mJnRoaXMuem9vbT49MTcmJihUKF8sbCl8fF8ucHVzaChsKSxUKF8sZCl8fF8ucHVzaChkKSk7fWNvbnN0IEk9by52ZXJ0ZXhMZW5ndGgsQz1zLmxlbmd0aD40JiZBYihsLGQsdyk7bGV0IHo9U2IobixhLHYpO2lmKGhiKHRoaXMubGF5b3V0VmVydGV4QXJyYXksbC54LGwueSxNLEEsMCwwLHopLGhiKHRoaXMubGF5b3V0VmVydGV4QXJyYXksbC54LGwueSxNLEEsMCwxLHopLG4rPVMsej1TYihuLEMsIXYpLGE9QyxoYih0aGlzLmxheW91dFZlcnRleEFycmF5LGQueCxkLnksTSxBLDAsMCx6KSxoYih0aGlzLmxheW91dFZlcnRleEFycmF5LGQueCxkLnksTSxBLDAsMSx6KSxvLnZlcnRleExlbmd0aCs9NCx0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2soSSswLEkrMSxJKzIpLHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhJKzEsSSszLEkrMiksby5wcmltaXRpdmVMZW5ndGgrPTIsYil7Y29uc3Qgcj1pKygxPT09ZT9zLmxlbmd0aC0yOmUtMiksbj0xPT09ZT9pOnIrMTtpZih0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2soSSsxLHIsSSszKSx0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2socixuLEkrMyksby5wcmltaXRpdmVMZW5ndGgrPTIsdm9pZCAwPT09ZyYmKGc9SSksIUViKHcsc1tlXSx0KSl7Y29uc3QgdD1lPT09cy5sZW5ndGgtMT9nOm8udmVydGV4TGVuZ3RoO3RoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhJKzIsSSszLHQpLHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhJKzMsdCsxLHQpLHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhJKzMsbix0KzEpLG8ucHJpbWl0aXZlTGVuZ3RoKz0zO312PSF2O31pZih1KXtjb25zdCBlPXRoaXMubGF5b3V0VmVydGV4RXh0QXJyYXksdD1oLnByb2plY3RUaWxlUG9pbnQobC54LGwueSxyKSxpPWgucHJvamVjdFRpbGVQb2ludChkLngsZC55LHIpLG49aC51cFZlY3RvcihyLGwueCxsLnkpLG89aC51cFZlY3RvcihyLGQueCxkLnkpO2RiKGUsdCxuKSxkYihlLHQsbiksZGIoZSxpLG8pLGRiKGUsaSxvKTt9fWQmJihpKz1zLmxlbmd0aC0xKSxtJiZiJiZ0aGlzLnpvb20+PTE3JiYoMCE9PV8ubGVuZ3RoJiZUKF8sX1swXSkmJl8ucG9wKCksdGhpcy5ncm91bmRFZmZlY3QuYWRkRGF0YShfLHQsbCxiPjApKTt9dGhpcy5mb290cHJpbnRTZWdtZW50cy5wdXNoKGEpLHMudHJpYW5nbGVDb3VudD10aGlzLmluZGV4QXJyYXkubGVuZ3RoLXMudHJpYW5nbGVBcnJheU9mZnNldCx0aGlzLnBvbHlnb25TZWdtZW50cy5wdXNoKHMpLCsrZi5mb290cHJpbnRTZWdMZW4sKytmLnBvbHlnb25TZWdMZW47fWlmKGYudmVydGV4Q291bnQ9dGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgtZi52ZXJ0ZXhBcnJheU9mZnNldCxmLmdyb3VuZFZlcnRleENvdW50PXRoaXMuZ3JvdW5kRWZmZWN0LnZlcnRleEFycmF5Lmxlbmd0aC1mLmdyb3VuZFZlcnRleEFycmF5T2Zmc2V0LDAhPT1mLnZlcnRleENvdW50KXtpZihmLmNlbnRyb2lkWFk9cC5ib3JkZXJzP2xiOnRoaXMuZW5jb2RlQ2VudHJvaWQocCxmKSx0aGlzLmNlbnRyb2lkRGF0YS5wdXNoKGYpLHAuYm9yZGVycyl7dGhpcy5mZWF0dXJlc09uQm9yZGVyLnB1c2gocCk7Y29uc3QgZT10aGlzLmZlYXR1cmVzT25Cb3JkZXIubGVuZ3RoLTE7Zm9yKGxldCB0PTA7dDxwLmJvcmRlcnMubGVuZ3RoO3QrKylwLmJvcmRlcnNbdF1bMF0hPT1OdW1iZXIuTUFYX1ZBTFVFJiZ0aGlzLmJvcmRlckZlYXR1cmVJbmRpY2VzW3RdLnB1c2goZSk7fXRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnBvcHVsYXRlUGFpbnRBcnJheXModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgsZSxpLG4sbyxyLGEpLHRoaXMuZ3JvdW5kRWZmZWN0LmFkZFBhaW50UHJvcGVydGllc0RhdGEoZSxpLG4sbyxyLGEpLHRoaXMubWF4SGVpZ2h0PU1hdGgubWF4KHRoaXMubWF4SGVpZ2h0LF8pO319c29ydEJvcmRlcnMoKXtmb3IobGV0IGU9MDtlPHRoaXMuYm9yZGVyRmVhdHVyZUluZGljZXMubGVuZ3RoO2UrKyl0aGlzLmJvcmRlckZlYXR1cmVJbmRpY2VzW2VdLnNvcnQoKCh0LGkpPT50aGlzLmZlYXR1cmVzT25Cb3JkZXJbdF0uYm9yZGVyc1tlXVswXS10aGlzLmZlYXR1cmVzT25Cb3JkZXJbaV0uYm9yZGVyc1tlXVswXSkpO31zcGxpdFRvU3VidGlsZXMoKXtjb25zdCBlPVtdO2ZvcihsZXQgdD0wO3Q8dGhpcy5jZW50cm9pZERhdGEubGVuZ3RoO3QrKyl7Y29uc3QgaT10aGlzLmNlbnRyb2lkRGF0YVt0XSxyPSsoaS5taW4ueStpLm1heC55PmNyKSxuPTIqcisoKyhpLm1pbi54K2kubWF4Lng+Y3IpXnIpO2ZvcihsZXQgcj0wO3I8aS5wb2x5Z29uU2VnTGVuO3IrKyl7Y29uc3Qgbz1pLnBvbHlnb25TZWdJZHgrcjtlLnB1c2goe2NlbnRyb2lkSWR4OnQsc3VidGlsZTpuLHBvbHlnb25TZWdtZW50SWR4Om8sdHJpYW5nbGVTZWdtZW50SWR4OnRoaXMucG9seWdvblNlZ21lbnRzW29dLnRyaWFuZ2xlU2VnSWR4fSk7fX1jb25zdCB0PW5ldyBXYTtlLnNvcnQoKChlLHQpPT5lLnRyaWFuZ2xlU2VnbWVudElkeD09PXQudHJpYW5nbGVTZWdtZW50SWR4P2Uuc3VidGlsZS10LnN1YnRpbGU6ZS50cmlhbmdsZVNlZ21lbnRJZHgtdC50cmlhbmdsZVNlZ21lbnRJZHgpKTtsZXQgaT0wLHI9MCxuPTA7Zm9yKGNvbnN0IHQgb2YgZSl7aWYodC50cmlhbmdsZVNlZ21lbnRJZHghPT1pKWJyZWFrO24rKzt9Y29uc3Qgbz1lLmxlbmd0aDtmb3IoO3IhPT1lLmxlbmd0aDspe2k9ZVtyXS50cmlhbmdsZVNlZ21lbnRJZHg7bGV0IHM9MCxhPXIsbD1yO2ZvcihsZXQgdD1hO3Q8biYmZVt0XS5zdWJ0aWxlPT09czt0KyspbCsrO2Zvcig7YSE9PW47KXtjb25zdCByPWVbYV07cz1yLnN1YnRpbGU7Y29uc3Qgbz10aGlzLmNlbnRyb2lkRGF0YVtyLmNlbnRyb2lkSWR4XS5taW4uY2xvbmUoKSxjPXRoaXMuY2VudHJvaWREYXRhW3IuY2VudHJvaWRJZHhdLm1heC5jbG9uZSgpLGg9e3ZlcnRleE9mZnNldDp0aGlzLnNlZ21lbnRzLnNlZ21lbnRzW2ldLnZlcnRleE9mZnNldCxwcmltaXRpdmVPZmZzZXQ6dC5sZW5ndGgsdmVydGV4TGVuZ3RoOnRoaXMuc2VnbWVudHMuc2VnbWVudHNbaV0udmVydGV4TGVuZ3RoLHByaW1pdGl2ZUxlbmd0aDowLHNvcnRLZXk6dm9pZCAwLHZhb3M6e319O2ZvcihsZXQgaT1hO2k8bDtpKyspe2NvbnN0IHI9ZVtpXSxuPXRoaXMucG9seWdvblNlZ21lbnRzW3IucG9seWdvblNlZ21lbnRJZHhdLHM9dGhpcy5jZW50cm9pZERhdGFbci5jZW50cm9pZElkeF0ubWluLGE9dGhpcy5jZW50cm9pZERhdGFbci5jZW50cm9pZElkeF0ubWF4LGw9dGhpcy5pbmRleEFycmF5LnVpbnQxNjtmb3IobGV0IGU9bi50cmlhbmdsZUFycmF5T2Zmc2V0O2U8bi50cmlhbmdsZUFycmF5T2Zmc2V0K24udHJpYW5nbGVDb3VudDtlKyspdC5lbXBsYWNlQmFjayhsWzMqZV0sbFszKmUrMV0sbFszKmUrMl0pO2gucHJpbWl0aXZlTGVuZ3RoKz1uLnRyaWFuZ2xlQ291bnQsby54PU1hdGgubWluKG8ueCxzLngpLG8ueT1NYXRoLm1pbihvLnkscy55KSxjLng9TWF0aC5tYXgoYy54LGEueCksYy55PU1hdGgubWF4KGMueSxhLnkpO31oLnByaW1pdGl2ZUxlbmd0aD4wJiZ0aGlzLnRyaWFuZ2xlU3ViU2VnbWVudHMucHVzaCh7c2VnbWVudDpoLG1pbjpvLG1heDpjfSksYT1sO2ZvcihsZXQgdD1hO3Q8biYmZVt0XS5zdWJ0aWxlPT09ZVthXS5zdWJ0aWxlO3QrKylsKys7fXI9bjtmb3IobGV0IHQ9cjt0PG8mJmVbdF0udHJpYW5nbGVTZWdtZW50SWR4PT09ZVtyXS50cmlhbmdsZVNlZ21lbnRJZHg7dCsrKW4rKzt9dC5fdHJpbSgpLHRoaXMuaW5kZXhBcnJheT10O31nZXRWaXNpYmxlU2VnbWVudHMoZSx0LGkpe2xldCByPTAsbj0wO2NvbnN0IG89MTw8ZS5jYW5vbmljYWwuejtpZih0KXtjb25zdCBpPXQuZ2V0TWluTWF4Rm9yVGlsZShlKTtpJiYocj1pLm1pbixuPWkubWF4KTt9bis9dGhpcy5tYXhIZWlnaHQ7Y29uc3Qgcz1lLnRvVW53cmFwcGVkKCk7bGV0IGE7Y29uc3QgbD1bcy5jYW5vbmljYWwueC9vK3Mud3JhcCxzLmNhbm9uaWNhbC55L29dLGM9WyhzLmNhbm9uaWNhbC54KzEpL28rcy53cmFwLChzLmNhbm9uaWNhbC55KzEpL29dLGg9bmV3IHhsLHU9KGUsdCxpKT0+W2VbMF0qKDEtaVswXSkrdFswXSppWzBdLGVbMV0qKDEtaVsxXSkrdFsxXSppWzFdXSxkPVtdLHA9W107Zm9yKGNvbnN0IGUgb2YgdGhpcy50cmlhbmdsZVN1YlNlZ21lbnRzKXtkWzBdPWUubWluLngvY3IsZFsxXT1lLm1pbi55L2NyLHBbMF09ZS5tYXgueC9jcixwWzFdPWUubWF4LnkvY3I7Y29uc3QgdD11KGwsYyxkKSxvPXUobCxjLHApO2lmKDA9PT1uZXcgZWQoW3RbMF0sdFsxXSxyXSxbb1swXSxvWzFdLG5dKS5pbnRlcnNlY3RzUHJlY2lzZShpKSl7YSYmKGguc2VnbWVudHMucHVzaChhKSxhPXZvaWQgMCk7Y29udGludWV9Y29uc3Qgcz1lLnNlZ21lbnQ7YSYmYS52ZXJ0ZXhPZmZzZXQhPT1zLnZlcnRleE9mZnNldCYmKGguc2VnbWVudHMucHVzaChhKSxhPXZvaWQgMCksYT8oYS52ZXJ0ZXhMZW5ndGgrPXMudmVydGV4TGVuZ3RoLGEucHJpbWl0aXZlTGVuZ3RoKz1zLnByaW1pdGl2ZUxlbmd0aCk6YT17dmVydGV4T2Zmc2V0OnMudmVydGV4T2Zmc2V0LHByaW1pdGl2ZUxlbmd0aDpzLnByaW1pdGl2ZUxlbmd0aCx2ZXJ0ZXhMZW5ndGg6cy52ZXJ0ZXhMZW5ndGgscHJpbWl0aXZlT2Zmc2V0OnMucHJpbWl0aXZlT2Zmc2V0LHNvcnRLZXk6dm9pZCAwLHZhb3M6e319O31yZXR1cm4gYSYmaC5zZWdtZW50cy5wdXNoKGEpLGh9ZW5jb2RlQ2VudHJvaWQoZSx0KXtjb25zdCBpPWUuY2VudHJvaWQoKSxyPXQuc3BhbigpLG49TWF0aC5taW4oNyxNYXRoLnJvdW5kKHIueCp0aGlzLnRpbGVUb01ldGVyLzEwKSksbz1NYXRoLm1pbig3LE1hdGgucm91bmQoci55KnRoaXMudGlsZVRvTWV0ZXIvMTApKTtyZXR1cm4gbmV3IHkoeihpLngsMSxjci0xKTw8M3xuLHooaS55LDEsY3ItMSk8PDN8byl9c2hvd0NlbnRyb2lkKGUpe2NvbnN0IHQ9dGhpcy5jZW50cm9pZERhdGFbZS5jZW50cm9pZERhdGFJbmRleF07dC5mbGFncyY9Y2IsdC5jZW50cm9pZFhZLng9MCx0LmNlbnRyb2lkWFkueT0wLHRoaXMud3JpdGVDZW50cm9pZFRvQnVmZmVyKHQpO313cml0ZUNlbnRyb2lkVG9CdWZmZXIoZSl7dGhpcy5ncm91bmRFZmZlY3QudXBkYXRlSGlkZGVuQnlMYW5kbWFyayhlKTtjb25zdCB0PWUudmVydGV4QXJyYXlPZmZzZXQsaT1lLnZlcnRleENvdW50K2UudmVydGV4QXJyYXlPZmZzZXQscj1lLmZsYWdzJmNiP2xiOmUuY2VudHJvaWRYWSxuPXRoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheS5nZXRhX2NlbnRyb2lkX3BvczAodCk7aWYodGhpcy5jZW50cm9pZFZlcnRleEFycmF5LmdldGFfY2VudHJvaWRfcG9zMSh0KSE9PXIueXx8biE9PXIueCl7Zm9yKGxldCBlPXQ7ZTxpOysrZSl0aGlzLmNlbnRyb2lkVmVydGV4QXJyYXkuZW1wbGFjZShlLHIueCxyLnkpO3RoaXMubmVlZHNDZW50cm9pZFVwZGF0ZT0hMDt9fWNyZWF0ZUNlbnRyb2lkc0J1ZmZlcigpe3RoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheS5yZXNpemUodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgpLHRoaXMuZ3JvdW5kRWZmZWN0LmhpZGRlbkJ5TGFuZG1hcmtWZXJ0ZXhBcnJheS5yZXNpemUodGhpcy5ncm91bmRFZmZlY3QudmVydGV4QXJyYXkubGVuZ3RoKTtmb3IoY29uc3QgZSBvZiB0aGlzLmNlbnRyb2lkRGF0YSl0aGlzLndyaXRlQ2VudHJvaWRUb0J1ZmZlcihlKTt9dXBkYXRlUmVwbGFjZW1lbnQoZSx0KXtpZih0LnVwZGF0ZVRpbWU9PT10aGlzLnJlcGxhY2VtZW50VXBkYXRlVGltZSlyZXR1cm47dGhpcy5yZXBsYWNlbWVudFVwZGF0ZVRpbWU9dC51cGRhdGVUaW1lO2NvbnN0IGk9dC5nZXRSZXBsYWNlbWVudFJlZ2lvbnNGb3JUaWxlKGUudG9VbndyYXBwZWQoKSk7aWYoZnVuY3Rpb24oZSx0KXtpZihlLmxlbmd0aCE9PXQubGVuZ3RoKXJldHVybiAhMTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKylpZihlW2ldLnNvdXJjZUlkIT09dFtpXS5zb3VyY2VJZHx8IUt2KGVbaV0sdFtpXSkpcmV0dXJuICExO3JldHVybiAhMH0odGhpcy5hY3RpdmVSZXBsYWNlbWVudHMsaSkpcmV0dXJuO2lmKHRoaXMuYWN0aXZlUmVwbGFjZW1lbnRzPWksMD09PXRoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheS5sZW5ndGgpdGhpcy5jcmVhdGVDZW50cm9pZHNCdWZmZXIoKTtlbHNlIGZvcihjb25zdCBlIG9mIHRoaXMuY2VudHJvaWREYXRhKWUuZmxhZ3MmPTIxNDc0ODM2NDc7Y29uc3Qgcj1bXTtmb3IoY29uc3QgdCBvZiB0aGlzLmFjdGl2ZVJlcGxhY2VtZW50cyl7Y29uc3QgaT1NYXRoLnBvdygyLHQuZm9vdHByaW50VGlsZUlkLmNhbm9uaWNhbC56LWUuY2Fub25pY2FsLnopO2Zvcihjb25zdCBuIG9mIHRoaXMuY2VudHJvaWREYXRhKWlmKCEobi5mbGFncyZjYnx8dC5taW4ueD5uLm1heC54fHxuLm1pbi54PnQubWF4Lnh8fHQubWluLnk+bi5tYXgueXx8bi5taW4ueT50Lm1heC55KSlmb3IobGV0IG89MDtvPG4uZm9vdHByaW50U2VnTGVuO28rKyl7Y29uc3Qgcz10aGlzLmZvb3RwcmludFNlZ21lbnRzW24uZm9vdHByaW50U2VnSWR4K29dO2lmKHIubGVuZ3RoPTAsemIodGhpcy5mb290cHJpbnRWZXJ0aWNlcyxzLnZlcnRleE9mZnNldCxzLnZlcnRleENvdW50LHQuZm9vdHByaW50VGlsZUlkLmNhbm9uaWNhbCxlLmNhbm9uaWNhbCxyKSx0Yih0LmZvb3RwcmludCxyLHRoaXMuZm9vdHByaW50SW5kaWNlcy51aW50MTYscy5pbmRleE9mZnNldCxzLmluZGV4Q291bnQsLXMudmVydGV4T2Zmc2V0LC1pKSl7bi5mbGFnc3w9Y2I7YnJlYWt9fX1mb3IoY29uc3QgZSBvZiB0aGlzLmNlbnRyb2lkRGF0YSl0aGlzLndyaXRlQ2VudHJvaWRUb0J1ZmZlcihlKTt0aGlzLmJvcmRlckRvbmVXaXRoTmVpZ2hib3JaPVstMSwtMSwtMSwtMV07fWZvb3RwcmludENvbnRhaW5zUG9pbnQoZSx0LGkpe2xldCByPSExO2ZvcihsZXQgbj0wO248aS5mb290cHJpbnRTZWdMZW47bisrKXtjb25zdCBvPXRoaXMuZm9vdHByaW50U2VnbWVudHNbaS5mb290cHJpbnRTZWdJZHgrbl07bGV0IHM9MDtmb3IoY29uc3QgaSBvZiBvLnJpbmdJbmRpY2VzKXtmb3IobGV0IG49cyxhPWkrcy0xO248aStzO2E9bisrKXtjb25zdCBpPXRoaXMuZm9vdHByaW50VmVydGljZXMuaW50MTZbMioobitvLnZlcnRleE9mZnNldCkrMF0scz10aGlzLmZvb3RwcmludFZlcnRpY2VzLmludDE2WzIqKG4rby52ZXJ0ZXhPZmZzZXQpKzFdLGw9dGhpcy5mb290cHJpbnRWZXJ0aWNlcy5pbnQxNlsyKihhK28udmVydGV4T2Zmc2V0KSsxXTtzPnQhPWw+dCYmZTwodGhpcy5mb290cHJpbnRWZXJ0aWNlcy5pbnQxNlsyKihhK28udmVydGV4T2Zmc2V0KSswXS1pKSoodC1zKS8obC1zKStpJiYocj0hcik7fXM9aTt9fXJldHVybiByfWdldEhlaWdodEF0VGlsZUNvb3JkKGUsdCl7bGV0IGk9TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLHI9ITA7Y29uc3Qgbj00KihlK2NyKSpjcisodCtjcik7aWYodGhpcy5wYXJ0TG9va3VwLmhhc093blByb3BlcnR5KG4pKXtjb25zdCBlPXRoaXMucGFydExvb2t1cFtuXTtyZXR1cm4gZT97aGVpZ2h0OmUuaGVpZ2h0LGhpZGRlbjohIShlLmZsYWdzJmNiKX06dm9pZCAwfWZvcihjb25zdCBvIG9mIHRoaXMuY2VudHJvaWREYXRhKWU+by5tYXgueHx8by5taW4ueD5lfHx0Pm8ubWF4Lnl8fG8ubWluLnk+dHx8dGhpcy5mb290cHJpbnRDb250YWluc1BvaW50KGUsdCxvKSYmbyYmby5oZWlnaHQ+aSYmKGk9by5oZWlnaHQsdGhpcy5wYXJ0TG9va3VwW25dPW8scj0hIShvLmZsYWdzJmNiKSk7aWYoaSE9PU51bWJlci5ORUdBVElWRV9JTkZJTklUWSlyZXR1cm4ge2hlaWdodDppLGhpZGRlbjpyfTt0aGlzLnBhcnRMb29rdXBbbl09dm9pZCAwO319ZnVuY3Rpb24gYmIoZSx0KXtjb25zdCBpPWUuYWRkKHQpLl91bml0KCk7cmV0dXJuIGUueCppLngrZS55KmkueX1mdW5jdGlvbiB3YihlLHQsaSxyKXtjb25zdCBuPXQuc3ViKGUpLl9wZXJwKCkuX3VuaXQoKSxvPWkuc3ViKHQpLl9wZXJwKCkuX3VuaXQoKTtyZXR1cm4gVGIoZSx0LGksYmIobixvKSxyKX1mdW5jdGlvbiBUYihlLHQsaSxyLG4pe2NvbnN0IG89TWF0aC5zcXJ0KDEtcipyKTtyZXR1cm4gTWF0aC5taW4oZS5kaXN0KHQpLzMsdC5kaXN0KGkpLzMsbipvL3IpfWZ1bmN0aW9uIEViKGUsdCxpKXtyZXR1cm4gZS54PGlbMF0ueCYmdC54PGlbMF0ueHx8ZS54PmlbMV0ueCYmdC54PmlbMV0ueHx8ZS55PGlbMF0ueSYmdC55PGlbMF0ueXx8ZS55PmlbMV0ueSYmdC55PmlbMV0ueX1mdW5jdGlvbiBNYihlLHQpe3JldHVybiBlLng8dFswXS54fHxlLng+dFsxXS54fHxlLnk8dFswXS55fHxlLnk+dFsxXS55fWZ1bmN0aW9uIEFiKGUsdCxpKXtpZihlLng8MHx8ZS54Pj1jcnx8dC54PDB8fHQueD49Y3J8fGkueDwwfHxpLng+PWNyKXJldHVybiAhMTtjb25zdCByPWkuc3ViKHQpLG49ci5wZXJwKCksbz1lLnN1Yih0KTtyZXR1cm4gKHIueCpvLngrci55Km8ueSkvTWF0aC5zcXJ0KChyLngqci54K3IueSpyLnkpKihvLngqby54K28ueSpvLnkpKT4tLjg2NiYmbi54Km8ueCtuLnkqby55PDB9ZnVuY3Rpb24gU2IoZSx0LGkpe2NvbnN0IHI9dD8yfGU6LTMmZTtyZXR1cm4gaT8xfHI6LTImcn1mdW5jdGlvbiBJYigpe2NvbnN0IGU9TWF0aC5QSS8zMix0PU1hdGgudGFuKGUpLGk9cWQ7cmV0dXJuIGkqTWF0aC5zcXJ0KDErMip0KnQpLWl9ZnVuY3Rpb24gQ2IoZSx0LGkpe2NvbnN0IHI9MTw8aS56LG49ZXAoaS54L3IpLG89ZXAoKGkueCsxKS9yKSxzPXRwKGkueS9yKSxhPXRwKChpLnkrMSkvcik7cmV0dXJuIGZ1bmN0aW9uKGUsdCxpLHIsbj0wLG8pe2NvbnN0IHM9W107aWYoIWUubGVuZ3RofHwhaXx8IXIpcmV0dXJuIHM7Y29uc3QgYT0oZSx0KT0+e2Zvcihjb25zdCBpIG9mIGUpcy5wdXNoKHtwb2x5Z29uOmksYm91bmRzOnR9KTt9LGw9TWF0aC5jZWlsKE1hdGgubG9nMihpKSksYz1NYXRoLmNlaWwoTWF0aC5sb2cyKHIpKSxoPWwtYyx1PVtdO2ZvcihsZXQgZT0wO2U8TWF0aC5hYnMoaCk7ZSsrKXUucHVzaChoPjA/MDoxKTtmb3IobGV0IGU9MDtlPE1hdGgubWluKGwsYyk7ZSsrKXUucHVzaCgwKSx1LnB1c2goMSk7bGV0IGQ9ZTtpZihkPXVtKGQsdFswXS55LW4sdFsxXS55K24sMSksZD11bShkLHRbMF0ueC1uLHRbMV0ueCtuLDApLCFkLmxlbmd0aClyZXR1cm4gcztjb25zdCBwPVtdO2Zvcih1Lmxlbmd0aD9wLnB1c2goe3BvbHlnb25zOmQsYm91bmRzOnQsZGVwdGg6MH0pOmEoZCx0KTtwLmxlbmd0aDspe2NvbnN0IGU9cC5wb3AoKSx0PWUuZGVwdGgsaT11W3RdLHI9ZS5ib3VuZHNbMF0scz1lLmJvdW5kc1sxXSxsPTA9PT1pP3IueDpyLnksYz0wPT09aT9zLng6cy55LGg9bz9vKGksbCxjKTouNSoobCtjKSxkPXVtKGUucG9seWdvbnMsbC1uLGgrbixpKSxmPXVtKGUucG9seWdvbnMsaC1uLGMrbixpKTtpZihkLmxlbmd0aCl7Y29uc3QgZT1bcixuZXcgeSgwPT09aT9oOnMueCwxPT09aT9oOnMueSldO3UubGVuZ3RoPnQrMT9wLnB1c2goe3BvbHlnb25zOmQsYm91bmRzOmUsZGVwdGg6dCsxfSk6YShkLGUpO31pZihmLmxlbmd0aCl7Y29uc3QgZT1bbmV3IHkoMD09PWk/aDpyLngsMT09PWk/aDpyLnkpLHNdO3UubGVuZ3RoPnQrMT9wLnB1c2goe3BvbHlnb25zOmYsYm91bmRzOmUsZGVwdGg6dCsxfSk6YShmLGUpO319cmV0dXJuIHN9KGUsdCxNYXRoLmNlaWwoKG8tbikvMTEuMjUpLE1hdGguY2VpbCgocy1hKS8xMS4yNSksMSwoKGUsdCxuKT0+e2lmKDA9PT1lKXJldHVybiAuNSoodCtuKTt7Y29uc3QgZT10cCgoaS55K3QvY3IpL3IpO3JldHVybiAoSmQoLjUqKHRwKChpLnkrbi9jcikvcikrZSkpKnItaS55KSpjcn19KSl9ZnVuY3Rpb24gemIoZSx0LGkscixuLG8pe2NvbnN0IHM9TWF0aC5wb3coMixyLnotbi56KTtmb3IobGV0IGE9MDthPGk7YSsrKXtsZXQgaT1lLmludDE2WzIqKGErdCkrMF0sbD1lLmludDE2WzIqKGErdCkrMV07aT0oaStuLngqY3IpKnMtci54KmNyLGw9KGwrbi55KmNyKSpzLXIueSpjcixvLnB1c2gobmV3IHkoaSxsKSk7fX1Scyh2YixcIkZpbGxFeHRydXNpb25CdWNrZXRcIix7b21pdDpbXCJsYXllcnNcIixcImZlYXR1cmVzXCJdfSksUnMoZmIsXCJQYXJ0RGF0YVwiKSxScyhwYixcIkZvb3RwcmludFNlZ21lbnRcIiksUnMobWIsXCJCb3JkZXJDZW50cm9pZERhdGFcIiksUnMoeGIsXCJHcm91bmRFZmZlY3RcIik7Y29uc3QgUGI9bmV3IGdhKHt2aXNpYmlsaXR5Om5ldyBmYShQdFtcImxheW91dF9maWxsLWV4dHJ1c2lvblwiXS52aXNpYmlsaXR5KSxcImZpbGwtZXh0cnVzaW9uLWVkZ2UtcmFkaXVzXCI6bmV3IGZhKFB0W1wibGF5b3V0X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tZWRnZS1yYWRpdXNcIl0pfSk7dmFyIERiPXtwYWludDpuZXcgZ2Eoe1wiZmlsbC1leHRydXNpb24tb3BhY2l0eVwiOm5ldyBmYShQdFtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tb3BhY2l0eVwiXSksXCJmaWxsLWV4dHJ1c2lvbi1jb2xvclwiOm5ldyBtYShQdFtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tY29sb3JcIl0pLFwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlXCI6bmV3IGZhKFB0W1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGVcIl0pLFwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlLWFuY2hvclwiOm5ldyBmYShQdFtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlLWFuY2hvclwiXSksXCJmaWxsLWV4dHJ1c2lvbi1wYXR0ZXJuXCI6bmV3IG1hKFB0W1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1wYXR0ZXJuXCJdKSxcImZpbGwtZXh0cnVzaW9uLWhlaWdodFwiOm5ldyBtYShQdFtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24taGVpZ2h0XCJdKSxcImZpbGwtZXh0cnVzaW9uLWJhc2VcIjpuZXcgbWEoUHRbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLWJhc2VcIl0pLFwiZmlsbC1leHRydXNpb24tdmVydGljYWwtZ3JhZGllbnRcIjpuZXcgZmEoUHRbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLXZlcnRpY2FsLWdyYWRpZW50XCJdKSxcImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLWludGVuc2l0eVwiOm5ldyBmYShQdFtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24taW50ZW5zaXR5XCJdKSxcImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLXJhZGl1c1wiOm5ldyBmYShQdFtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24tcmFkaXVzXCJdKSxcImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLXdhbGwtcmFkaXVzXCI6bmV3IGZhKFB0W1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1hbWJpZW50LW9jY2x1c2lvbi13YWxsLXJhZGl1c1wiXSksXCJmaWxsLWV4dHJ1c2lvbi1hbWJpZW50LW9jY2x1c2lvbi1ncm91bmQtcmFkaXVzXCI6bmV3IGZhKFB0W1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1hbWJpZW50LW9jY2x1c2lvbi1ncm91bmQtcmFkaXVzXCJdKSxcImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLWdyb3VuZC1hdHRlbnVhdGlvblwiOm5ldyBmYShQdFtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24tZ3JvdW5kLWF0dGVudWF0aW9uXCJdKSxcImZpbGwtZXh0cnVzaW9uLWZsb29kLWxpZ2h0LWNvbG9yXCI6bmV3IGZhKFB0W1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1mbG9vZC1saWdodC1jb2xvclwiXSksXCJmaWxsLWV4dHJ1c2lvbi1mbG9vZC1saWdodC1pbnRlbnNpdHlcIjpuZXcgZmEoUHRbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLWZsb29kLWxpZ2h0LWludGVuc2l0eVwiXSksXCJmaWxsLWV4dHJ1c2lvbi1mbG9vZC1saWdodC13YWxsLXJhZGl1c1wiOm5ldyBtYShQdFtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tZmxvb2QtbGlnaHQtd2FsbC1yYWRpdXNcIl0pLFwiZmlsbC1leHRydXNpb24tZmxvb2QtbGlnaHQtZ3JvdW5kLXJhZGl1c1wiOm5ldyBtYShQdFtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tZmxvb2QtbGlnaHQtZ3JvdW5kLXJhZGl1c1wiXSksXCJmaWxsLWV4dHJ1c2lvbi1mbG9vZC1saWdodC1ncm91bmQtYXR0ZW51YXRpb25cIjpuZXcgZmEoUHRbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLWZsb29kLWxpZ2h0LWdyb3VuZC1hdHRlbnVhdGlvblwiXSksXCJmaWxsLWV4dHJ1c2lvbi12ZXJ0aWNhbC1zY2FsZVwiOm5ldyBmYShQdFtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tdmVydGljYWwtc2NhbGVcIl0pLFwiZmlsbC1leHRydXNpb24tcm91bmRlZC1yb29mXCI6bmV3IGZhKFB0W1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1yb3VuZGVkLXJvb2ZcIl0pLFwiZmlsbC1leHRydXNpb24tY3V0b2ZmLWZhZGUtcmFuZ2VcIjpuZXcgZmEoUHRbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLWN1dG9mZi1mYWRlLXJhbmdlXCJdKSxcImZpbGwtZXh0cnVzaW9uLWVtaXNzaXZlLXN0cmVuZ3RoXCI6bmV3IGZhKFB0W1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1lbWlzc2l2ZS1zdHJlbmd0aFwiXSl9KSxsYXlvdXQ6UGJ9O2NsYXNzIFJiIGV4dGVuZHMgeXtjb25zdHJ1Y3RvcihlLHQsaSl7c3VwZXIoZSx0KSx0aGlzLno9aTt9fWZ1bmN0aW9uIExiKGUsdCl7cmV0dXJuIGUueCp0LngrZS55KnQueX1mdW5jdGlvbiBrYihlLHQpe2lmKDE9PT1lLmxlbmd0aCl7bGV0IGk9MDtjb25zdCByPXRbaSsrXTtsZXQgbjtmb3IoOyFufHxyLmVxdWFscyhuKTspaWYobj10W2krK10sIW4pcmV0dXJuIDEvMDtmb3IoO2k8dC5sZW5ndGg7aSsrKXtjb25zdCBvPXRbaV0scz1lWzBdLGE9bi5zdWIociksbD1vLnN1YihyKSxjPXMuc3ViKHIpLGg9TGIoYSxhKSx1PUxiKGEsbCksZD1MYihsLGwpLHA9TGIoYyxhKSxmPUxiKGMsbCksbT1oKmQtdSp1LF89KGQqcC11KmYpL20sZz0oaCpmLXUqcCkvbSx5PXIueiooMS1fLWcpK24ueipfK28ueipnO2lmKGlzRmluaXRlKHkpKXJldHVybiB5fXJldHVybiAxLzB9e2xldCBlPTEvMDtmb3IoY29uc3QgaSBvZiB0KWU9TWF0aC5taW4oZSxpLnopO3JldHVybiBlfX1mdW5jdGlvbiBPYihlLHQsaSxyLG4sbyxzLGEpe2NvbnN0IGw9cypuLmdldEVsZXZhdGlvbkF0KGUsdCwhMCwhMCksYz0wIT09b1swXSxoPWM/MD09PW9bMV0/cyoob1swXS83LTQ1MCk6cypmdW5jdGlvbihlLHQsaSl7Y29uc3Qgcj1NYXRoLmZsb29yKHRbMF0vOCksbj1NYXRoLmZsb29yKHRbMV0vOCksbz0xMCoodFswXS04KnIpLHM9MTAqKHRbMV0tOCpuKSxhPWUuZ2V0RWxldmF0aW9uQXQocixuLCEwLCEwKSxsPWUuZ2V0TWV0ZXJUb0RFTShpKSxjPU1hdGguZmxvb3IoLjUqKG8qbC0xKSksaD1NYXRoLmZsb29yKC41KihzKmwtMSkpLHU9ZS50aWxlQ29vcmRUb1BpeGVsKHIsbiksZD0yKmMrMSxwPTIqaCsxLGY9ZnVuY3Rpb24oZSx0LGkscixuKXtyZXR1cm4gW2UuZ2V0RWxldmF0aW9uQXRQaXhlbCh0LGksITApLGUuZ2V0RWxldmF0aW9uQXRQaXhlbCh0K24saSwhMCksZS5nZXRFbGV2YXRpb25BdFBpeGVsKHQsaStuLCEwKSxlLmdldEVsZXZhdGlvbkF0UGl4ZWwodCtyLGkrbiwhMCldfShlLHUueC1jLHUueS1oLGQscCksbT1NYXRoLmFicyhmWzBdLWZbMV0pLF89TWF0aC5hYnMoZlsyXS1mWzNdKSxnPU1hdGguYWJzKGZbMF0tZlsyXSkrTWF0aC5hYnMoZlsxXS1mWzNdKSx5PU1hdGgubWluKC4yNSwuNSpsKihtK18pL2QpLHg9TWF0aC5taW4oLjI1LC41KmwqZy9wKTtyZXR1cm4gYStNYXRoLm1heCh5Km8seCpzKX0obixvLGEpOmw7cmV0dXJuIHtiYXNlOmwrKDA9PT1pKT8tMTppLHRvcDpjP01hdGgubWF4KGgrcixsK2krMik6bCtyfX1jb25zdCBCYj1uZXcgZ2Eoe1wibGluZS1jYXBcIjpuZXcgbWEoUHQubGF5b3V0X2xpbmVbXCJsaW5lLWNhcFwiXSksXCJsaW5lLWpvaW5cIjpuZXcgbWEoUHQubGF5b3V0X2xpbmVbXCJsaW5lLWpvaW5cIl0pLFwibGluZS1taXRlci1saW1pdFwiOm5ldyBmYShQdC5sYXlvdXRfbGluZVtcImxpbmUtbWl0ZXItbGltaXRcIl0pLFwibGluZS1yb3VuZC1saW1pdFwiOm5ldyBmYShQdC5sYXlvdXRfbGluZVtcImxpbmUtcm91bmQtbGltaXRcIl0pLFwibGluZS1zb3J0LWtleVwiOm5ldyBtYShQdC5sYXlvdXRfbGluZVtcImxpbmUtc29ydC1rZXlcIl0pLHZpc2liaWxpdHk6bmV3IGZhKFB0LmxheW91dF9saW5lLnZpc2liaWxpdHkpfSk7dmFyIEZiPXtwYWludDpuZXcgZ2Eoe1wibGluZS1vcGFjaXR5XCI6bmV3IG1hKFB0LnBhaW50X2xpbmVbXCJsaW5lLW9wYWNpdHlcIl0pLFwibGluZS1jb2xvclwiOm5ldyBtYShQdC5wYWludF9saW5lW1wibGluZS1jb2xvclwiXSksXCJsaW5lLXRyYW5zbGF0ZVwiOm5ldyBmYShQdC5wYWludF9saW5lW1wibGluZS10cmFuc2xhdGVcIl0pLFwibGluZS10cmFuc2xhdGUtYW5jaG9yXCI6bmV3IGZhKFB0LnBhaW50X2xpbmVbXCJsaW5lLXRyYW5zbGF0ZS1hbmNob3JcIl0pLFwibGluZS13aWR0aFwiOm5ldyBtYShQdC5wYWludF9saW5lW1wibGluZS13aWR0aFwiXSksXCJsaW5lLWdhcC13aWR0aFwiOm5ldyBtYShQdC5wYWludF9saW5lW1wibGluZS1nYXAtd2lkdGhcIl0pLFwibGluZS1vZmZzZXRcIjpuZXcgbWEoUHQucGFpbnRfbGluZVtcImxpbmUtb2Zmc2V0XCJdKSxcImxpbmUtYmx1clwiOm5ldyBtYShQdC5wYWludF9saW5lW1wibGluZS1ibHVyXCJdKSxcImxpbmUtZGFzaGFycmF5XCI6bmV3IG1hKFB0LnBhaW50X2xpbmVbXCJsaW5lLWRhc2hhcnJheVwiXSksXCJsaW5lLXBhdHRlcm5cIjpuZXcgbWEoUHQucGFpbnRfbGluZVtcImxpbmUtcGF0dGVyblwiXSksXCJsaW5lLWdyYWRpZW50XCI6bmV3IF9hKFB0LnBhaW50X2xpbmVbXCJsaW5lLWdyYWRpZW50XCJdKSxcImxpbmUtdHJpbS1vZmZzZXRcIjpuZXcgZmEoUHQucGFpbnRfbGluZVtcImxpbmUtdHJpbS1vZmZzZXRcIl0pLFwibGluZS1lbWlzc2l2ZS1zdHJlbmd0aFwiOm5ldyBmYShQdC5wYWludF9saW5lW1wibGluZS1lbWlzc2l2ZS1zdHJlbmd0aFwiXSksXCJsaW5lLWJvcmRlci13aWR0aFwiOm5ldyBtYShQdC5wYWludF9saW5lW1wibGluZS1ib3JkZXItd2lkdGhcIl0pLFwibGluZS1ib3JkZXItY29sb3JcIjpuZXcgbWEoUHQucGFpbnRfbGluZVtcImxpbmUtYm9yZGVyLWNvbG9yXCJdKX0pLGxheW91dDpCYn07Y29uc3QgTmI9KGUsdCxpLHIsbixvLHMpPT57Y29uc3QgYT1lLnRyYW5zZm9ybSxsPWEuY2FsY3VsYXRlUGl4ZWxzVG9UaWxlVW5pdHNNYXRyaXgodCk7cmV0dXJuIHt1X21hdHJpeDpqYihlLHQsaSxyKSx1X3BpeGVsc190b190aWxlX3VuaXRzOmwsdV9kZXZpY2VfcGl4ZWxfcmF0aW86byx1X3VuaXRzX3RvX3BpeGVsczpbMS9hLnBpeGVsc1RvR0xVbml0c1swXSwxL2EucGl4ZWxzVG9HTFVuaXRzWzFdXSx1X2Rhc2hfaW1hZ2U6MCx1X2dyYWRpZW50X2ltYWdlOjEsdV9pbWFnZV9oZWlnaHQ6bix1X3RleHNpemU6cWIoaSkmJnQubGluZUF0bGFzVGV4dHVyZT90LmxpbmVBdGxhc1RleHR1cmUuc2l6ZTpbMCwwXSx1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzOlZiKHQsZS50cmFuc2Zvcm0pLHVfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQ6MCx1X3RyaW1fb2Zmc2V0OnMsdV9lbWlzc2l2ZV9zdHJlbmd0aDppLnBhaW50LmdldChcImxpbmUtZW1pc3NpdmUtc3RyZW5ndGhcIil9fSxVYj0oZSx0LGkscixuKT0+e2NvbnN0IG89ZS50cmFuc2Zvcm07cmV0dXJuIHt1X21hdHJpeDpqYihlLHQsaSxyKSx1X3RleHNpemU6dC5pbWFnZUF0bGFzVGV4dHVyZT90LmltYWdlQXRsYXNUZXh0dXJlLnNpemU6WzAsMF0sdV9waXhlbHNfdG9fdGlsZV91bml0czpvLmNhbGN1bGF0ZVBpeGVsc1RvVGlsZVVuaXRzTWF0cml4KHQpLHVfZGV2aWNlX3BpeGVsX3JhdGlvOm4sdV9pbWFnZTowLHVfdGlsZV91bml0c190b19waXhlbHM6VmIodCxvKSx1X3VuaXRzX3RvX3BpeGVsczpbMS9vLnBpeGVsc1RvR0xVbml0c1swXSwxL28ucGl4ZWxzVG9HTFVuaXRzWzFdXSx1X2FscGhhX2Rpc2NhcmRfdGhyZXNob2xkOjB9fTtmdW5jdGlvbiBWYihlLHQpe3JldHVybiAxL3J2KGUsMSx0LnRpbGVab29tKX1mdW5jdGlvbiBqYihlLHQsaSxyKXtyZXR1cm4gZS50cmFuc2xhdGVQb3NNYXRyaXgocnx8dC50aWxlSUQucHJvak1hdHJpeCx0LGkucGFpbnQuZ2V0KFwibGluZS10cmFuc2xhdGVcIiksaS5wYWludC5nZXQoXCJsaW5lLXRyYW5zbGF0ZS1hbmNob3JcIikpfWNvbnN0IEdiPWU9Pntjb25zdCB0PVtdO3FiKGUpJiZ0LnB1c2goXCJSRU5ERVJfTElORV9EQVNIXCIpLGUucGFpbnQuZ2V0KFwibGluZS1ncmFkaWVudFwiKSYmdC5wdXNoKFwiUkVOREVSX0xJTkVfR1JBRElFTlRcIik7Y29uc3QgaT1lLnBhaW50LmdldChcImxpbmUtdHJpbS1vZmZzZXRcIik7cmV0dXJuIDA9PT1pWzBdJiYwPT09aVsxXXx8dC5wdXNoKFwiUkVOREVSX0xJTkVfVFJJTV9PRkZTRVRcIiksMCE9PWUucGFpbnQuZ2V0KFwibGluZS1ib3JkZXItd2lkdGhcIikuY29uc3RhbnRPcigxKSYmdC5wdXNoKFwiUkVOREVSX0xJTkVfQk9SREVSXCIpLHR9O2Z1bmN0aW9uIHFiKGUpe2NvbnN0IHQ9ZS5wYWludC5nZXQoXCJsaW5lLWRhc2hhcnJheVwiKS52YWx1ZTtyZXR1cm4gdC52YWx1ZXx8XCJjb25zdGFudFwiIT09dC5raW5kfWNvbnN0IFpiPW5ldyBjbGFzcyBleHRlbmRzIG1he3Bvc3NpYmx5RXZhbHVhdGUoZSx0KXtyZXR1cm4gdD1uZXcgb2EoTWF0aC5mbG9vcih0Lnpvb20pLHtub3c6dC5ub3csZmFkZUR1cmF0aW9uOnQuZmFkZUR1cmF0aW9uLHRyYW5zaXRpb246dC50cmFuc2l0aW9ufSksc3VwZXIucG9zc2libHlFdmFsdWF0ZShlLHQpfWV2YWx1YXRlKGUsdCxpLHIpe3JldHVybiB0PWsoe30sdCx7em9vbTpNYXRoLmZsb29yKHQuem9vbSl9KSxzdXBlci5ldmFsdWF0ZShlLHQsaSxyKX19KEZiLnBhaW50LnByb3BlcnRpZXNbXCJsaW5lLXdpZHRoXCJdLnNwZWNpZmljYXRpb24pO2Z1bmN0aW9uICRiKGUsdCl7cmV0dXJuIHQ+MD90KzIqZTplfVpiLnVzZUludGVnZXJab29tPSEwO2NvbnN0IFdiPW5ldyBnYSh7dmlzaWJpbGl0eTpuZXcgZmEoUHQubGF5b3V0X2JhY2tncm91bmQudmlzaWJpbGl0eSl9KTt2YXIgSGI9e3BhaW50Om5ldyBnYSh7XCJiYWNrZ3JvdW5kLWNvbG9yXCI6bmV3IGZhKFB0LnBhaW50X2JhY2tncm91bmRbXCJiYWNrZ3JvdW5kLWNvbG9yXCJdKSxcImJhY2tncm91bmQtcGF0dGVyblwiOm5ldyBmYShQdC5wYWludF9iYWNrZ3JvdW5kW1wiYmFja2dyb3VuZC1wYXR0ZXJuXCJdKSxcImJhY2tncm91bmQtb3BhY2l0eVwiOm5ldyBmYShQdC5wYWludF9iYWNrZ3JvdW5kW1wiYmFja2dyb3VuZC1vcGFjaXR5XCJdKSxcImJhY2tncm91bmQtZW1pc3NpdmUtc3RyZW5ndGhcIjpuZXcgZmEoUHQucGFpbnRfYmFja2dyb3VuZFtcImJhY2tncm91bmQtZW1pc3NpdmUtc3RyZW5ndGhcIl0pfSksbGF5b3V0OldifTtjb25zdCBYYj1uZXcgZ2Eoe3Zpc2liaWxpdHk6bmV3IGZhKFB0LmxheW91dF9yYXN0ZXIudmlzaWJpbGl0eSl9KTt2YXIgWWI9e3BhaW50Om5ldyBnYSh7XCJyYXN0ZXItb3BhY2l0eVwiOm5ldyBmYShQdC5wYWludF9yYXN0ZXJbXCJyYXN0ZXItb3BhY2l0eVwiXSksXCJyYXN0ZXItY29sb3JcIjpuZXcgX2EoUHQucGFpbnRfcmFzdGVyW1wicmFzdGVyLWNvbG9yXCJdKSxcInJhc3Rlci1jb2xvci1taXhcIjpuZXcgZmEoUHQucGFpbnRfcmFzdGVyW1wicmFzdGVyLWNvbG9yLW1peFwiXSksXCJyYXN0ZXItY29sb3ItcmFuZ2VcIjpuZXcgZmEoUHQucGFpbnRfcmFzdGVyW1wicmFzdGVyLWNvbG9yLXJhbmdlXCJdKSxcInJhc3Rlci1odWUtcm90YXRlXCI6bmV3IGZhKFB0LnBhaW50X3Jhc3RlcltcInJhc3Rlci1odWUtcm90YXRlXCJdKSxcInJhc3Rlci1icmlnaHRuZXNzLW1pblwiOm5ldyBmYShQdC5wYWludF9yYXN0ZXJbXCJyYXN0ZXItYnJpZ2h0bmVzcy1taW5cIl0pLFwicmFzdGVyLWJyaWdodG5lc3MtbWF4XCI6bmV3IGZhKFB0LnBhaW50X3Jhc3RlcltcInJhc3Rlci1icmlnaHRuZXNzLW1heFwiXSksXCJyYXN0ZXItc2F0dXJhdGlvblwiOm5ldyBmYShQdC5wYWludF9yYXN0ZXJbXCJyYXN0ZXItc2F0dXJhdGlvblwiXSksXCJyYXN0ZXItY29udHJhc3RcIjpuZXcgZmEoUHQucGFpbnRfcmFzdGVyW1wicmFzdGVyLWNvbnRyYXN0XCJdKSxcInJhc3Rlci1yZXNhbXBsaW5nXCI6bmV3IGZhKFB0LnBhaW50X3Jhc3RlcltcInJhc3Rlci1yZXNhbXBsaW5nXCJdKSxcInJhc3Rlci1mYWRlLWR1cmF0aW9uXCI6bmV3IGZhKFB0LnBhaW50X3Jhc3RlcltcInJhc3Rlci1mYWRlLWR1cmF0aW9uXCJdKSxcInJhc3Rlci1lbWlzc2l2ZS1zdHJlbmd0aFwiOm5ldyBmYShQdC5wYWludF9yYXN0ZXJbXCJyYXN0ZXItZW1pc3NpdmUtc3RyZW5ndGhcIl0pLFwicmFzdGVyLWFycmF5LWJhbmRcIjpuZXcgZmEoUHQucGFpbnRfcmFzdGVyW1wicmFzdGVyLWFycmF5LWJhbmRcIl0pLFwicmFzdGVyLWVsZXZhdGlvblwiOm5ldyBmYShQdC5wYWludF9yYXN0ZXJbXCJyYXN0ZXItZWxldmF0aW9uXCJdKX0pLGxheW91dDpYYn07ZnVuY3Rpb24gS2IoZSx0LGkscixuLG8scyxhKXtjb25zdCBsPVtlLGksbix0LHIsbywxLDEsMV0sYz1bcyxhLDFdLGg9RXUuYWRqb2ludChbXSxsKSxbdSxkLHBdPUR1LnRyYW5zZm9ybU1hdDMoYyxjLEV1LnRyYW5zcG9zZShoLGgpKTtyZXR1cm4gRXUubXVsdGlwbHkobCxbdSwwLDAsMCxkLDAsMCwwLHBdLGwpfWNsYXNzIEpiIGV4dGVuZHMgenR7Y29uc3RydWN0b3IoZSx0LGkscil7c3VwZXIoKSx0aGlzLmlkPWUsdGhpcy5kaXNwYXRjaGVyPWksdGhpcy5jb29yZGluYXRlcz10LmNvb3JkaW5hdGVzLHRoaXMudHlwZT1cImltYWdlXCIsdGhpcy5taW56b29tPTAsdGhpcy5tYXh6b29tPTIyLHRoaXMudGlsZVNpemU9NTEyLHRoaXMudGlsZXM9e30sdGhpcy5fbG9hZGVkPSExLHRoaXMub25Ob3J0aFBvbGU9ITEsdGhpcy5vblNvdXRoUG9sZT0hMSx0aGlzLnNldEV2ZW50ZWRQYXJlbnQociksdGhpcy5vcHRpb25zPXQsdGhpcy5fZGlydHk9ITE7fWxvYWQoZSxpKXtpZih0aGlzLl9sb2FkZWQ9aXx8ITEsdGhpcy5maXJlKG5ldyBJdChcImRhdGFsb2FkaW5nXCIse2RhdGFUeXBlOlwic291cmNlXCJ9KSksdGhpcy51cmw9dGhpcy5vcHRpb25zLnVybCwhdGhpcy51cmwpcmV0dXJuIGUmJih0aGlzLmNvb3JkaW5hdGVzPWUpLHRoaXMuX2xvYWRlZD0hMCx2b2lkIHRoaXMuX2ZpbmlzaExvYWRpbmcoKTt0aGlzLl9pbWFnZVJlcXVlc3Q9SWUodGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QodGhpcy51cmwseWUuSW1hZ2UpLCgoaSxyKT0+e2lmKHRoaXMuX2ltYWdlUmVxdWVzdD1udWxsLHRoaXMuX2xvYWRlZD0hMCxpKXRoaXMuZmlyZShuZXcgQ3QoaSkpO2Vsc2UgaWYocil7Y29uc3R7SFRNTEltYWdlRWxlbWVudDppfT10O3RoaXMuaW1hZ2U9ciBpbnN0YW5jZW9mIGk/ZHQuZ2V0SW1hZ2VEYXRhKHIpOnIsdGhpcy5fZGlydHk9ITAsdGhpcy53aWR0aD10aGlzLmltYWdlLndpZHRoLHRoaXMuaGVpZ2h0PXRoaXMuaW1hZ2UuaGVpZ2h0LGUmJih0aGlzLmNvb3JkaW5hdGVzPWUpLHRoaXMuX2ZpbmlzaExvYWRpbmcoKTt9fSkpO31sb2FkZWQoKXtyZXR1cm4gdGhpcy5fbG9hZGVkfXVwZGF0ZUltYWdlKGUpe3JldHVybiBlLnVybD8odGhpcy5faW1hZ2VSZXF1ZXN0JiZlLnVybCE9PXRoaXMub3B0aW9ucy51cmwmJih0aGlzLl9pbWFnZVJlcXVlc3QuY2FuY2VsKCksdGhpcy5faW1hZ2VSZXF1ZXN0PW51bGwpLHRoaXMub3B0aW9ucy51cmw9ZS51cmwsdGhpcy5sb2FkKGUuY29vcmRpbmF0ZXMsdGhpcy5fbG9hZGVkKSx0aGlzKTp0aGlzfXNldFRleHR1cmUoZSl7aWYoIShlLmhhbmRsZSBpbnN0YW5jZW9mIFdlYkdMVGV4dHVyZSkpdGhyb3cgbmV3IEVycm9yKFwiVGhlIHByb3ZpZGVkIGhhbmRsZSBpcyBub3QgYSBXZWJHTFRleHR1cmUgaW5zdGFuY2VcIik7cmV0dXJuIHRoaXMudGV4dHVyZT1uZXcgQXkodGhpcy5tYXAucGFpbnRlci5jb250ZXh0LGUuaGFuZGxlKSx0aGlzLndpZHRoPWUuZGltZW5zaW9uc1swXSx0aGlzLmhlaWdodD1lLmRpbWVuc2lvbnNbMV0sdGhpcy5fZGlydHk9ITEsdGhpcy5fbG9hZGVkPSEwLHRoaXMuX2ZpbmlzaExvYWRpbmcoKSx0aGlzfV9maW5pc2hMb2FkaW5nKCl7dGhpcy5tYXAmJih0aGlzLnNldENvb3JkaW5hdGVzKHRoaXMuY29vcmRpbmF0ZXMpLHRoaXMuZmlyZShuZXcgSXQoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJtZXRhZGF0YVwifSkpKTt9b25BZGQoZSl7dGhpcy5tYXA9ZSx0aGlzLmxvYWQoKTt9b25SZW1vdmUoKXt0aGlzLl9pbWFnZVJlcXVlc3QmJih0aGlzLl9pbWFnZVJlcXVlc3QuY2FuY2VsKCksdGhpcy5faW1hZ2VSZXF1ZXN0PW51bGwpLCF0aGlzLnRleHR1cmV8fHRoaXMudGV4dHVyZSBpbnN0YW5jZW9mIEF5fHx0aGlzLnRleHR1cmUuZGVzdHJveSgpO31zZXRDb29yZGluYXRlcyhlKXtpZih0aGlzLmNvb3JkaW5hdGVzPWUsdGhpcy5fYm91bmRzQXJyYXk9dm9pZCAwLCFlLmxlbmd0aClyZXR1cm4gdGhpczt0aGlzLm9uTm9ydGhQb2xlPSExLHRoaXMub25Tb3V0aFBvbGU9ITE7bGV0IHQ9ZVswXVsxXSxpPWVbMF1bMV07Zm9yKGNvbnN0IHIgb2YgZSlyWzFdPmkmJihpPXJbMV0pLHJbMV08dCYmKHQ9clsxXSk7Y29uc3Qgcj0oaSt0KS8yO2lmKHI+cnA/dGhpcy5vbk5vcnRoUG9sZT0hMDpyPC1ycCYmKHRoaXMub25Tb3V0aFBvbGU9ITApLCF0aGlzLm9uTm9ydGhQb2xlJiYhdGhpcy5vblNvdXRoUG9sZSl7Y29uc3QgdD1lLm1hcChscC5mcm9tTG5nTGF0KTt0aGlzLnRpbGVJRD1mdW5jdGlvbihlKXtsZXQgdD0xLzAsaT0xLzAscj0tMS8wLG49LTEvMDtmb3IoY29uc3QgbyBvZiBlKXQ9TWF0aC5taW4odCxvLngpLGk9TWF0aC5taW4oaSxvLnkpLHI9TWF0aC5tYXgocixvLngpLG49TWF0aC5tYXgobixvLnkpO2NvbnN0IG89TWF0aC5tYXgoci10LG4taSkscz1NYXRoLm1heCgwLE1hdGguZmxvb3IoLU1hdGgubG9nKG8pL01hdGguTE4yKSksYT1NYXRoLnBvdygyLHMpO3JldHVybiBuZXcganUocyxNYXRoLmZsb29yKCh0K3IpLzIqYSksTWF0aC5mbG9vcigoaStuKS8yKmEpKX0odCksdGhpcy5taW56b29tPXRoaXMubWF4em9vbT10aGlzLnRpbGVJRC56O31yZXR1cm4gdGhpcy5maXJlKG5ldyBJdChcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcImNvbnRlbnRcIn0pKSx0aGlzfV9jbGVhcigpe3RoaXMuX2JvdW5kc0FycmF5PXZvaWQgMDt9X3ByZXBhcmVEYXRhKGUpe2Zvcihjb25zdCBlIGluIHRoaXMudGlsZXMpe2NvbnN0IHQ9dGhpcy50aWxlc1tlXTtcImxvYWRlZFwiIT09dC5zdGF0ZSYmKHQuc3RhdGU9XCJsb2FkZWRcIix0LnRleHR1cmU9dGhpcy50ZXh0dXJlKTt9aWYodGhpcy5fYm91bmRzQXJyYXkpcmV0dXJuO2NvbnN0IHQ9UGcodGhpcy50aWxlSUQsdGhpcy5tYXAudHJhbnNmb3JtLnByb2plY3Rpb24pLFtpLHIsbixvXT10aGlzLmNvb3JkaW5hdGVzLm1hcCgoZT0+e2NvbnN0IGk9dC5wcm9qZWN0aW9uLnByb2plY3QoZVswXSxlWzFdKTtyZXR1cm4gUmcodCxpKS5fcm91bmQoKX0pKTt0aGlzLnBlcnNwZWN0aXZlVHJhbnNmb3JtPWZ1bmN0aW9uKGUsdCxpLHIsbixvLHMsYSxsLGMpe2NvbnN0IGg9S2IoMCwwLGUsMCwwLHQsZSx0KSx1PUtiKGkscixuLG8scyxhLGwsYyk7cmV0dXJuIEV1Lm11bHRpcGx5KHUsRXUuYWRqb2ludChoLGgpLHUpLFt1WzZdL3VbOF0qZS9jcix1WzddL3VbOF0qdC9jcl19KHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsaS54LGkueSxyLngsci55LG8ueCxvLnksbi54LG4ueSk7Y29uc3Qgcz10aGlzLl9ib3VuZHNBcnJheT1uZXcgRGE7cy5lbXBsYWNlQmFjayhpLngsaS55LDAsMCkscy5lbXBsYWNlQmFjayhyLngsci55LGNyLDApLHMuZW1wbGFjZUJhY2soby54LG8ueSwwLGNyKSxzLmVtcGxhY2VCYWNrKG4ueCxuLnksY3IsY3IpLHRoaXMuYm91bmRzQnVmZmVyJiZ0aGlzLmJvdW5kc0J1ZmZlci5kZXN0cm95KCksdGhpcy5ib3VuZHNCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIocyxMeS5tZW1iZXJzKSx0aGlzLmJvdW5kc1NlZ21lbnRzPXhsLnNpbXBsZVNlZ21lbnQoMCwwLDQsMik7fXByZXBhcmUoKXtjb25zdCBlPTAhPT1PYmplY3Qua2V5cyh0aGlzLnRpbGVzKS5sZW5ndGg7aWYodGhpcy50aWxlSUQmJiFlKXJldHVybjtjb25zdCB0PXRoaXMubWFwLnBhaW50ZXIuY29udGV4dCxpPXQuZ2w7IXRoaXMuX2RpcnR5fHx0aGlzLnRleHR1cmUgaW5zdGFuY2VvZiBBeXx8KHRoaXMudGV4dHVyZT90aGlzLnRleHR1cmUudXBkYXRlKHRoaXMuaW1hZ2UpOih0aGlzLnRleHR1cmU9bmV3IE15KHQsdGhpcy5pbWFnZSxpLlJHQkEpLHRoaXMudGV4dHVyZS5iaW5kKGkuTElORUFSLGkuQ0xBTVBfVE9fRURHRSkpLHRoaXMuX2RpcnR5PSExKSxlJiZ0aGlzLl9wcmVwYXJlRGF0YSh0KTt9bG9hZFRpbGUoZSx0KXt0aGlzLnRpbGVJRCYmdGhpcy50aWxlSUQuZXF1YWxzKGUudGlsZUlELmNhbm9uaWNhbCk/KHRoaXMudGlsZXNbU3RyaW5nKGUudGlsZUlELndyYXApXT1lLGUuYnVja2V0cz17fSx0KG51bGwpKTooZS5zdGF0ZT1cImVycm9yZWRcIix0KG51bGwpKTt9c2VyaWFsaXplKCl7cmV0dXJuIHt0eXBlOlwiaW1hZ2VcIix1cmw6dGhpcy5vcHRpb25zLnVybCxjb29yZGluYXRlczp0aGlzLmNvb3JkaW5hdGVzfX1oYXNUcmFuc2l0aW9uKCl7cmV0dXJuICExfX1jbGFzcyBRYiBleHRlbmRzIFRhe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUse30pLHRoaXMuaW1wbGVtZW50YXRpb249ZSxlLnNsb3QmJih0aGlzLnNsb3Q9ZS5zbG90KTt9aXMzRCgpe3JldHVybiBcIjNkXCI9PT10aGlzLmltcGxlbWVudGF0aW9uLnJlbmRlcmluZ01vZGV9aGFzT2Zmc2NyZWVuUGFzcygpe3JldHVybiB2b2lkIDAhPT10aGlzLmltcGxlbWVudGF0aW9uLnByZXJlbmRlcn1pc0xheWVyRHJhcGVkKGUpe3JldHVybiB2b2lkIDAhPT10aGlzLmltcGxlbWVudGF0aW9uLnJlbmRlclRvVGlsZX1zaG91bGRSZWRyYXBlKCl7cmV0dXJuICEhdGhpcy5pbXBsZW1lbnRhdGlvbi5zaG91bGRSZXJlbmRlclRpbGVzJiZ0aGlzLmltcGxlbWVudGF0aW9uLnNob3VsZFJlcmVuZGVyVGlsZXMoKX1yZWNhbGN1bGF0ZSgpe311cGRhdGVUcmFuc2l0aW9ucygpe31oYXNUcmFuc2l0aW9uKCl7cmV0dXJuICExfXNlcmlhbGl6ZSgpe31vbkFkZChlKXt0aGlzLmltcGxlbWVudGF0aW9uLm9uQWRkJiZ0aGlzLmltcGxlbWVudGF0aW9uLm9uQWRkKGUsZS5wYWludGVyLmNvbnRleHQuZ2wpO31vblJlbW92ZShlKXt0aGlzLmltcGxlbWVudGF0aW9uLm9uUmVtb3ZlJiZ0aGlzLmltcGxlbWVudGF0aW9uLm9uUmVtb3ZlKGUsZS5wYWludGVyLmNvbnRleHQuZ2wpO319Y29uc3QgZXc9bmV3IGdhKHt2aXNpYmlsaXR5Om5ldyBmYShQdC5sYXlvdXRfc2t5LnZpc2liaWxpdHkpfSk7dmFyIHR3PXtwYWludDpuZXcgZ2Eoe1wic2t5LXR5cGVcIjpuZXcgZmEoUHQucGFpbnRfc2t5W1wic2t5LXR5cGVcIl0pLFwic2t5LWF0bW9zcGhlcmUtc3VuXCI6bmV3IGZhKFB0LnBhaW50X3NreVtcInNreS1hdG1vc3BoZXJlLXN1blwiXSksXCJza3ktYXRtb3NwaGVyZS1zdW4taW50ZW5zaXR5XCI6bmV3IGZhKFB0LnBhaW50X3NreVtcInNreS1hdG1vc3BoZXJlLXN1bi1pbnRlbnNpdHlcIl0pLFwic2t5LWdyYWRpZW50LWNlbnRlclwiOm5ldyBmYShQdC5wYWludF9za3lbXCJza3ktZ3JhZGllbnQtY2VudGVyXCJdKSxcInNreS1ncmFkaWVudC1yYWRpdXNcIjpuZXcgZmEoUHQucGFpbnRfc2t5W1wic2t5LWdyYWRpZW50LXJhZGl1c1wiXSksXCJza3ktZ3JhZGllbnRcIjpuZXcgX2EoUHQucGFpbnRfc2t5W1wic2t5LWdyYWRpZW50XCJdKSxcInNreS1hdG1vc3BoZXJlLWhhbG8tY29sb3JcIjpuZXcgZmEoUHQucGFpbnRfc2t5W1wic2t5LWF0bW9zcGhlcmUtaGFsby1jb2xvclwiXSksXCJza3ktYXRtb3NwaGVyZS1jb2xvclwiOm5ldyBmYShQdC5wYWludF9za3lbXCJza3ktYXRtb3NwaGVyZS1jb2xvclwiXSksXCJza3ktb3BhY2l0eVwiOm5ldyBmYShQdC5wYWludF9za3lbXCJza3ktb3BhY2l0eVwiXSl9KSxsYXlvdXQ6ZXd9O2Z1bmN0aW9uIGl3KGUsdCxpKXtjb25zdCByPVswLDAsMV0sbj1JdS5pZGVudGl0eShbXSk7cmV0dXJuIEl1LnJvdGF0ZVkobixuLGk/LXcoZSkrTWF0aC5QSTp3KGUpKSxJdS5yb3RhdGVYKG4sbiwtdyh0KSksRHUudHJhbnNmb3JtUXVhdChyLHIsbiksRHUubm9ybWFsaXplKHIscil9dmFyIHJ3PXtwYWludDpuZXcgZ2Eoe30pfTtjb25zdCBudz17Y2lyY2xlOmNsYXNzIGV4dGVuZHMgVGF7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLFVwLHQpO31jcmVhdGVCdWNrZXQoZSl7cmV0dXJuIG5ldyB2cChlKX1xdWVyeVJhZGl1cyhlKXtjb25zdCB0PWU7cmV0dXJuIGtwKFwiY2lyY2xlLXJhZGl1c1wiLHRoaXMsdCkra3AoXCJjaXJjbGUtc3Ryb2tlLXdpZHRoXCIsdGhpcyx0KStPcCh0aGlzLnBhaW50LmdldChcImNpcmNsZS10cmFuc2xhdGVcIikpfXF1ZXJ5SW50ZXJzZWN0c0ZlYXR1cmUoZSx0LGkscixuLG8scyxhKXtjb25zdCBsPUZwKHRoaXMucGFpbnQuZ2V0KFwiY2lyY2xlLXRyYW5zbGF0ZVwiKSx0aGlzLnBhaW50LmdldChcImNpcmNsZS10cmFuc2xhdGUtYW5jaG9yXCIpLG8uYW5nbGUsZS5waXhlbFRvVGlsZVVuaXRzRmFjdG9yKSxjPXRoaXMucGFpbnQuZ2V0KFwiY2lyY2xlLXJhZGl1c1wiKS5ldmFsdWF0ZSh0LGkpK3RoaXMucGFpbnQuZ2V0KFwiY2lyY2xlLXN0cm9rZS13aWR0aFwiKS5ldmFsdWF0ZSh0LGkpO3JldHVybiBxcChlLHIsbyxzLGEsXCJtYXBcIj09PXRoaXMucGFpbnQuZ2V0KFwiY2lyY2xlLXBpdGNoLWFsaWdubWVudFwiKSxcIm1hcFwiPT09dGhpcy5wYWludC5nZXQoXCJjaXJjbGUtcGl0Y2gtc2NhbGVcIiksbCxjKX1nZXRQcm9ncmFtSWRzKCl7cmV0dXJuIFtcImNpcmNsZVwiXX1nZXREZWZhdWx0UHJvZ3JhbVBhcmFtcyhlLHQpe2NvbnN0IGk9R3AodGhpcyk7cmV0dXJuIHtjb25maWc6bmV3IFFsKHRoaXMsdCksZGVmaW5lczppLG92ZXJyaWRlRm9nOiExfX19LGhlYXRtYXA6Y2xhc3MgZXh0ZW5kcyBUYXtjcmVhdGVCdWNrZXQoZSl7cmV0dXJuIG5ldyBYcChlKX1jb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsbmYsdCksdGhpcy5fdXBkYXRlQ29sb3JSYW1wKCk7fV9oYW5kbGVTcGVjaWFsUGFpbnRQcm9wZXJ0eVVwZGF0ZShlKXtcImhlYXRtYXAtY29sb3JcIj09PWUmJnRoaXMuX3VwZGF0ZUNvbG9yUmFtcCgpO31fdXBkYXRlQ29sb3JSYW1wKCl7dGhpcy5jb2xvclJhbXA9b2Yoe2V4cHJlc3Npb246dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW1wiaGVhdG1hcC1jb2xvclwiXS52YWx1ZS5leHByZXNzaW9uLGV2YWx1YXRpb25LZXk6XCJoZWF0bWFwRGVuc2l0eVwiLGltYWdlOnRoaXMuY29sb3JSYW1wfSksdGhpcy5jb2xvclJhbXBUZXh0dXJlPW51bGw7fXJlc2l6ZSgpe3RoaXMuaGVhdG1hcEZibyYmKHRoaXMuaGVhdG1hcEZiby5kZXN0cm95KCksdGhpcy5oZWF0bWFwRmJvPW51bGwpO31xdWVyeVJhZGl1cyhlKXtyZXR1cm4ga3AoXCJoZWF0bWFwLXJhZGl1c1wiLHRoaXMsZSl9cXVlcnlJbnRlcnNlY3RzRmVhdHVyZShlLHQsaSxyLG4sbyxzLGEpe2NvbnN0IGw9dGhpcy5wYWludC5nZXQoXCJoZWF0bWFwLXJhZGl1c1wiKS5ldmFsdWF0ZSh0LGkpO3JldHVybiBxcChlLHIsbyxzLGEsITAsITAsbmV3IHkoMCwwKSxsKX1oYXNPZmZzY3JlZW5QYXNzKCl7cmV0dXJuIDAhPT10aGlzLnBhaW50LmdldChcImhlYXRtYXAtb3BhY2l0eVwiKSYmXCJub25lXCIhPT10aGlzLnZpc2liaWxpdHl9Z2V0UHJvZ3JhbUlkcygpe3JldHVybiBbXCJoZWF0bWFwXCIsXCJoZWF0bWFwVGV4dHVyZVwiXX1nZXREZWZhdWx0UHJvZ3JhbVBhcmFtcyhlLHQpe3JldHVybiBcImhlYXRtYXBcIj09PWU/e2NvbmZpZzpuZXcgUWwodGhpcyx0KSxvdmVycmlkZUZvZzohMX06e319fSxoaWxsc2hhZGU6Y2xhc3MgZXh0ZW5kcyBUYXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsYWYsdCk7fWhhc09mZnNjcmVlblBhc3MoKXtyZXR1cm4gMCE9PXRoaXMucGFpbnQuZ2V0KFwiaGlsbHNoYWRlLWV4YWdnZXJhdGlvblwiKSYmXCJub25lXCIhPT10aGlzLnZpc2liaWxpdHl9Z2V0UHJvZ3JhbUlkcygpe3JldHVybiBbXCJoaWxsc2hhZGVcIixcImhpbGxzaGFkZVByZXBhcmVcIl19Z2V0RGVmYXVsdFByb2dyYW1QYXJhbXMoZSx0KXtyZXR1cm4ge292ZXJyaWRlRm9nOiExfX19LGZpbGw6Y2xhc3MgZXh0ZW5kcyBUYXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUscWYsdCk7fWdldFByb2dyYW1JZHMoKXtjb25zdCBlPXRoaXMucGFpbnQuZ2V0KFwiZmlsbC1wYXR0ZXJuXCIpLHQ9ZSYmZS5jb25zdGFudE9yKDEpLGk9W3Q/XCJmaWxsUGF0dGVyblwiOlwiZmlsbFwiXTtyZXR1cm4gdGhpcy5wYWludC5nZXQoXCJmaWxsLWFudGlhbGlhc1wiKSYmaS5wdXNoKHQmJiF0aGlzLmdldFBhaW50UHJvcGVydHkoXCJmaWxsLW91dGxpbmUtY29sb3JcIik/XCJmaWxsT3V0bGluZVBhdHRlcm5cIjpcImZpbGxPdXRsaW5lXCIpLGl9Z2V0RGVmYXVsdFByb2dyYW1QYXJhbXMoZSx0KXtyZXR1cm4ge2NvbmZpZzpuZXcgUWwodGhpcyx0KSxvdmVycmlkZUZvZzohMX19cmVjYWxjdWxhdGUoZSx0KXtzdXBlci5yZWNhbGN1bGF0ZShlLHQpO2NvbnN0IGk9dGhpcy5wYWludC5fdmFsdWVzW1wiZmlsbC1vdXRsaW5lLWNvbG9yXCJdO1wiY29uc3RhbnRcIj09PWkudmFsdWUua2luZCYmdm9pZCAwPT09aS52YWx1ZS52YWx1ZSYmKHRoaXMucGFpbnQuX3ZhbHVlc1tcImZpbGwtb3V0bGluZS1jb2xvclwiXT10aGlzLnBhaW50Ll92YWx1ZXNbXCJmaWxsLWNvbG9yXCJdKTt9Y3JlYXRlQnVja2V0KGUpe3JldHVybiBuZXcgamYoZSl9cXVlcnlSYWRpdXMoKXtyZXR1cm4gT3AodGhpcy5wYWludC5nZXQoXCJmaWxsLXRyYW5zbGF0ZVwiKSl9cXVlcnlJbnRlcnNlY3RzRmVhdHVyZShlLHQsaSxyLG4sbyl7cmV0dXJuICFlLnF1ZXJ5R2VvbWV0cnkuaXNBYm92ZUhvcml6b24mJlRwKEJwKGUudGlsZXNwYWNlR2VvbWV0cnksdGhpcy5wYWludC5nZXQoXCJmaWxsLXRyYW5zbGF0ZVwiKSx0aGlzLnBhaW50LmdldChcImZpbGwtdHJhbnNsYXRlLWFuY2hvclwiKSxvLmFuZ2xlLGUucGl4ZWxUb1RpbGVVbml0c0ZhY3Rvcikscil9aXNUaWxlQ2xpcHBlZCgpe3JldHVybiAhMH19LFwiZmlsbC1leHRydXNpb25cIjpjbGFzcyBleHRlbmRzIFRhe2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSxEYix0KSx0aGlzLl9zdGF0cz17bnVtUmVuZGVyZWRWZXJ0aWNlc0luU2hhZG93UGFzczowLG51bVJlbmRlcmVkVmVydGljZXNJblRyYW5zcGFyZW50UGFzczowfTt9Y3JlYXRlQnVja2V0KGUpe3JldHVybiBuZXcgdmIoZSl9cXVlcnlSYWRpdXMoKXtyZXR1cm4gT3AodGhpcy5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGVcIikpfWlzM0QoKXtyZXR1cm4gITB9aGFzU2hhZG93UGFzcygpe3JldHVybiAhMH1jdXRvZmZSYW5nZSgpe3JldHVybiB0aGlzLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLWN1dG9mZi1mYWRlLXJhbmdlXCIpfWNhbkNhc3RTaGFkb3dzKCl7cmV0dXJuICEwfWdldFByb2dyYW1JZHMoKXtyZXR1cm4gW3RoaXMucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tcGF0dGVyblwiKS5jb25zdGFudE9yKDEpP1wiZmlsbEV4dHJ1c2lvblBhdHRlcm5cIjpcImZpbGxFeHRydXNpb25cIl19cXVlcnlJbnRlcnNlY3RzRmVhdHVyZShlLHQsaSxyLG4sbyxzLGEsbCl7Y29uc3QgYz1GcCh0aGlzLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZVwiKSx0aGlzLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZS1hbmNob3JcIiksby5hbmdsZSxlLnBpeGVsVG9UaWxlVW5pdHNGYWN0b3IpLGg9dGhpcy5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1oZWlnaHRcIikuZXZhbHVhdGUodCxpKSx1PXRoaXMucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tYmFzZVwiKS5ldmFsdWF0ZSh0LGkpLGQ9WzAsMF0scD1hJiZvLmVsZXZhdGlvbixmPW8uZWxldmF0aW9uP28uZWxldmF0aW9uLmV4YWdnZXJhdGlvbigpOjEsbT1lLnRpbGUuZ2V0QnVja2V0KHRoaXMpO2lmKHAmJm0gaW5zdGFuY2VvZiB2Yil7Y29uc3QgZT1tLmNlbnRyb2lkVmVydGV4QXJyYXksdD1sKzE7dDxlLmxlbmd0aCYmKGRbMF09ZS5nZXRhX2NlbnRyb2lkX3BvczAodCksZFsxXT1lLmdldGFfY2VudHJvaWRfcG9zMSh0KSk7fWlmKDA9PT1kWzBdJiYxPT09ZFsxXSlyZXR1cm4gITE7XCJnbG9iZVwiPT09by5wcm9qZWN0aW9uLm5hbWUmJihyPUNiKFtyXSxbbmV3IHkoMCwwKSxuZXcgeShjcixjcildLGUudGlsZUlELmNhbm9uaWNhbCkubWFwKChlPT5lLnBvbHlnb24pKS5mbGF0KCkpO2NvbnN0IF89cD9hOm51bGwsW2cseF09ZnVuY3Rpb24oZSx0LGkscixuLG8scyxhLGwsYyxoKXtyZXR1cm4gXCJnbG9iZVwiPT09ZS5wcm9qZWN0aW9uLm5hbWU/ZnVuY3Rpb24oZSx0LGkscixuLG8scyxhLGwsYyxoKXtjb25zdCB1PVtdLGQ9W10scD1lLnByb2plY3Rpb24udXBWZWN0b3JTY2FsZShoLGUuY2VudGVyLmxhdCxlLndvcmxkU2l6ZSkubWV0ZXJzVG9UaWxlLGY9WzAsMCwwLDFdLG09WzAsMCwwLDFdLF89KGUsdCxpLHIpPT57ZVswXT10LGVbMV09aSxlWzJdPXIsZVszXT0xO30sZz1JYigpO2k+MCYmKGkrPWcpLHIrPWc7Zm9yKGNvbnN0IGcgb2YgdCl7Y29uc3QgdD1bXSx5PVtdO2Zvcihjb25zdCB1IG9mIGcpe2NvbnN0IGQ9dS54K24ueCxnPXUueStuLnkseD1lLnByb2plY3Rpb24ucHJvamVjdFRpbGVQb2ludChkLGcsaCksdj1lLnByb2plY3Rpb24udXBWZWN0b3IoaCx1LngsdS55KTtsZXQgYj1pLHc9cjtpZihzKXtjb25zdCBlPU9iKGQsZyxpLHIscyxhLGwsYyk7Yis9ZS5iYXNlLHcrPWUudG9wO30wIT09aT9fKGYseC54K3ZbMF0qcCpiLHgueSt2WzFdKnAqYix4LnordlsyXSpwKmIpOl8oZix4LngseC55LHgueiksXyhtLHgueCt2WzBdKnAqdyx4LnkrdlsxXSpwKncseC56K3ZbMl0qcCp3KSxEdS50cmFuc2Zvcm1NYXQ0KGYsZixvKSxEdS50cmFuc2Zvcm1NYXQ0KG0sbSxvKSx0LnB1c2gobmV3IFJiKGZbMF0sZlsxXSxmWzJdKSkseS5wdXNoKG5ldyBSYihtWzBdLG1bMV0sbVsyXSkpO311LnB1c2godCksZC5wdXNoKHkpO31yZXR1cm4gW3UsZF19KGUsdCxpLHIsbixvLHMsYSxsLGMsaCk6cz9mdW5jdGlvbihlLHQsaSxyLG4sbyxzLGEsbCl7Y29uc3QgYz1bXSxoPVtdLHU9WzAsMCwwLDFdO2Zvcihjb25zdCBkIG9mIGUpe2NvbnN0IGU9W10scD1bXTtmb3IoY29uc3QgYyBvZiBkKXtjb25zdCBoPWMueCtyLngsZD1jLnkrci55LGY9T2IoaCxkLHQsaSxvLHMsYSxsKTt1WzBdPWgsdVsxXT1kLHVbMl09Zi5iYXNlLHVbM109MSx5dS50cmFuc2Zvcm1NYXQ0KHUsdSxuKSx1WzNdPU1hdGgubWF4KHVbM10sMWUtNSk7Y29uc3QgbT1uZXcgUmIodVswXS91WzNdLHVbMV0vdVszXSx1WzJdL3VbM10pO3VbMF09aCx1WzFdPWQsdVsyXT1mLnRvcCx1WzNdPTEseXUudHJhbnNmb3JtTWF0NCh1LHUsbiksdVszXT1NYXRoLm1heCh1WzNdLDFlLTUpO2NvbnN0IF89bmV3IFJiKHVbMF0vdVszXSx1WzFdL3VbM10sdVsyXS91WzNdKTtlLnB1c2gobSkscC5wdXNoKF8pO31jLnB1c2goZSksaC5wdXNoKHApO31yZXR1cm4gW2MsaF19KHQsaSxyLG4sbyxzLGEsbCxjKTpmdW5jdGlvbihlLHQsaSxyLG4pe2NvbnN0IG89W10scz1bXSxhPW5bOF0qdCxsPW5bOV0qdCxjPW5bMTBdKnQsaD1uWzExXSp0LHU9bls4XSppLGQ9bls5XSppLHA9blsxMF0qaSxmPW5bMTFdKmk7Zm9yKGNvbnN0IHQgb2YgZSl7Y29uc3QgZT1bXSxpPVtdO2Zvcihjb25zdCBvIG9mIHQpe2NvbnN0IHQ9by54K3IueCxzPW8ueStyLnksbT1uWzBdKnQrbls0XSpzK25bMTJdLF89blsxXSp0K25bNV0qcytuWzEzXSxnPW5bMl0qdCtuWzZdKnMrblsxNF0seT1uWzNdKnQrbls3XSpzK25bMTVdLHg9bSthLHY9XytsLGI9ZytjLHc9TWF0aC5tYXgoeStoLDFlLTUpLFQ9bSt1LEU9XytkLE09ZytwLEE9TWF0aC5tYXgoeStmLDFlLTUpO2UucHVzaChuZXcgUmIoeC93LHYvdyxiL3cpKSxpLnB1c2gobmV3IFJiKFQvQSxFL0EsTS9BKSk7fW8ucHVzaChlKSxzLnB1c2goaSk7fXJldHVybiBbbyxzXX0odCxpLHIsbixvKX0obyxyLHUsaCxjLHMsXyxkLGYsby5jZW50ZXIubGF0LGUudGlsZUlELmNhbm9uaWNhbCksdj1lLnF1ZXJ5R2VvbWV0cnk7cmV0dXJuIGZ1bmN0aW9uKGUsdCxpKXtsZXQgcj0xLzA7VHAoaSx0KSYmKHI9a2IoaSx0WzBdKSk7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspe2NvbnN0IG89dFtuXSxzPWVbbl07Zm9yKGxldCBlPTA7ZTxvLmxlbmd0aC0xO2UrKyl7Y29uc3QgdD1vW2VdLG49W3Qsb1tlKzFdLHNbZSsxXSxzW2VdLHRdO2JwKGksbikmJihyPU1hdGgubWluKHIsa2IoaSxuKSkpO319cmV0dXJuIHIhPT0xLzAmJnJ9KGcseCx2LmlzUG9pbnRRdWVyeSgpP3Yuc2NyZWVuQm91bmRzOnYuc2NyZWVuR2VvbWV0cnkpfX0sbGluZTpjbGFzcyBleHRlbmRzIFRhe2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSxGYix0KSx0aGlzLmdyYWRpZW50VmVyc2lvbj0wO31faGFuZGxlU3BlY2lhbFBhaW50UHJvcGVydHlVcGRhdGUoZSl7aWYoXCJsaW5lLWdyYWRpZW50XCI9PT1lKXtjb25zdCBlPXRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuX3ZhbHVlc1tcImxpbmUtZ3JhZGllbnRcIl0udmFsdWUuZXhwcmVzc2lvbjt0aGlzLnN0ZXBJbnRlcnBvbGFudD1lLl9zdHlsZUV4cHJlc3Npb24mJmUuX3N0eWxlRXhwcmVzc2lvbi5leHByZXNzaW9uIGluc3RhbmNlb2YgWXIsdGhpcy5ncmFkaWVudFZlcnNpb249KHRoaXMuZ3JhZGllbnRWZXJzaW9uKzEpJU51bWJlci5NQVhfU0FGRV9JTlRFR0VSO319Z3JhZGllbnRFeHByZXNzaW9uKCl7cmV0dXJuIHRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuX3ZhbHVlc1tcImxpbmUtZ3JhZGllbnRcIl0udmFsdWUuZXhwcmVzc2lvbn13aWR0aEV4cHJlc3Npb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW1wibGluZS13aWR0aFwiXS52YWx1ZS5leHByZXNzaW9ufXJlY2FsY3VsYXRlKGUsdCl7c3VwZXIucmVjYWxjdWxhdGUoZSx0KSx0aGlzLnBhaW50Ll92YWx1ZXNbXCJsaW5lLWZsb29yd2lkdGhcIl09WmIucG9zc2libHlFdmFsdWF0ZSh0aGlzLl90cmFuc2l0aW9uaW5nUGFpbnQuX3ZhbHVlc1tcImxpbmUtd2lkdGhcIl0udmFsdWUsZSk7fWNyZWF0ZUJ1Y2tldChlKXtyZXR1cm4gbmV3IEV5KGUpfWdldFByb2dyYW1JZHMoKXtyZXR1cm4gW3RoaXMucGFpbnQuZ2V0KFwibGluZS1wYXR0ZXJuXCIpLmNvbnN0YW50T3IoMSk/XCJsaW5lUGF0dGVyblwiOlwibGluZVwiXX1nZXREZWZhdWx0UHJvZ3JhbVBhcmFtcyhlLHQpe2NvbnN0IGk9R2IodGhpcyk7cmV0dXJuIHtjb25maWc6bmV3IFFsKHRoaXMsdCksZGVmaW5lczppLG92ZXJyaWRlRm9nOiExfX1xdWVyeVJhZGl1cyhlKXtjb25zdCB0PWUsaT0kYihrcChcImxpbmUtd2lkdGhcIix0aGlzLHQpLGtwKFwibGluZS1nYXAtd2lkdGhcIix0aGlzLHQpKSxyPWtwKFwibGluZS1vZmZzZXRcIix0aGlzLHQpO3JldHVybiBpLzIrTWF0aC5hYnMocikrT3AodGhpcy5wYWludC5nZXQoXCJsaW5lLXRyYW5zbGF0ZVwiKSl9cXVlcnlJbnRlcnNlY3RzRmVhdHVyZShlLHQsaSxyLG4sbyl7aWYoZS5xdWVyeUdlb21ldHJ5LmlzQWJvdmVIb3Jpem9uKXJldHVybiAhMTtjb25zdCBzPUJwKGUudGlsZXNwYWNlR2VvbWV0cnksdGhpcy5wYWludC5nZXQoXCJsaW5lLXRyYW5zbGF0ZVwiKSx0aGlzLnBhaW50LmdldChcImxpbmUtdHJhbnNsYXRlLWFuY2hvclwiKSxvLmFuZ2xlLGUucGl4ZWxUb1RpbGVVbml0c0ZhY3RvciksYT1lLnBpeGVsVG9UaWxlVW5pdHNGYWN0b3IvMiokYih0aGlzLnBhaW50LmdldChcImxpbmUtd2lkdGhcIikuZXZhbHVhdGUodCxpKSx0aGlzLnBhaW50LmdldChcImxpbmUtZ2FwLXdpZHRoXCIpLmV2YWx1YXRlKHQsaSkpLGw9dGhpcy5wYWludC5nZXQoXCJsaW5lLW9mZnNldFwiKS5ldmFsdWF0ZSh0LGkpO3JldHVybiBsJiYocj1mdW5jdGlvbihlLHQpe2NvbnN0IGk9W10scj1uZXcgeSgwLDApO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXtjb25zdCBvPWVbbl0scz1bXTtmb3IobGV0IGU9MDtlPG8ubGVuZ3RoO2UrKyl7Y29uc3QgaT1vW2VdLG49b1tlKzFdLGE9MD09PWU/cjppLnN1YihvW2UtMV0pLl91bml0KCkuX3BlcnAoKSxsPWU9PT1vLmxlbmd0aC0xP3I6bi5zdWIoaSkuX3VuaXQoKS5fcGVycCgpLGM9YS5fYWRkKGwpLl91bml0KCk7Yy5fbXVsdCgxLyhjLngqbC54K2MueSpsLnkpKSxzLnB1c2goYy5fbXVsdCh0KS5fYWRkKGkpKTt9aS5wdXNoKHMpO31yZXR1cm4gaX0ocixsKmUucGl4ZWxUb1RpbGVVbml0c0ZhY3RvcikpLGZ1bmN0aW9uKGUsdCxpKXtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl7Y29uc3Qgbj10W3JdO2lmKGUubGVuZ3RoPj0zKWZvcihsZXQgdD0wO3Q8bi5sZW5ndGg7dCsrKWlmKHpwKGUsblt0XSkpcmV0dXJuICEwO2lmKEVwKGUsbixpKSlyZXR1cm4gITB9cmV0dXJuICExfShzLHIsYSl9aXNUaWxlQ2xpcHBlZCgpe3JldHVybiAhMH19LHN5bWJvbDpveSxiYWNrZ3JvdW5kOmNsYXNzIGV4dGVuZHMgVGF7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLEhiLHQpO31nZXRQcm9ncmFtSWRzKCl7cmV0dXJuIFt0aGlzLnBhaW50LmdldChcImJhY2tncm91bmQtcGF0dGVyblwiKT9cImJhY2tncm91bmRQYXR0ZXJuXCI6XCJiYWNrZ3JvdW5kXCJdfWdldERlZmF1bHRQcm9ncmFtUGFyYW1zKGUsdCl7cmV0dXJuIHtvdmVycmlkZUZvZzohMX19fSxyYXN0ZXI6Y2xhc3MgZXh0ZW5kcyBUYXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsWWIsdCksdGhpcy5fdXBkYXRlQ29sb3JSYW1wKCk7fWdldFByb2dyYW1JZHMoKXtyZXR1cm4gW1wicmFzdGVyXCJdfWhhc0NvbG9yTWFwKCl7cmV0dXJuICEhdGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW1wicmFzdGVyLWNvbG9yXCJdLnZhbHVlLnZhbHVlfWlzTGF5ZXJEcmFwZWQoZSl7cmV0dXJuICEoZSYmZS5fc291cmNlIGluc3RhbmNlb2YgSmIpfHwhZS5fc291cmNlLm9uTm9ydGhQb2xlJiYhZS5fc291cmNlLm9uU291dGhQb2xlJiYwPT09dGhpcy5wYWludC5nZXQoXCJyYXN0ZXItZWxldmF0aW9uXCIpfV9oYW5kbGVTcGVjaWFsUGFpbnRQcm9wZXJ0eVVwZGF0ZShlKXtcInJhc3Rlci1jb2xvclwiIT09ZSYmXCJyYXN0ZXItY29sb3ItcmFuZ2VcIiE9PWV8fHRoaXMuX3VwZGF0ZUNvbG9yUmFtcCgpO31fdXBkYXRlQ29sb3JSYW1wKCl7aWYoIXRoaXMuaGFzQ29sb3JNYXAoKSlyZXR1cm47Y29uc3QgZT10aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50Ll92YWx1ZXNbXCJyYXN0ZXItY29sb3JcIl0udmFsdWUuZXhwcmVzc2lvbixbdCxpXT10aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50Ll92YWx1ZXNbXCJyYXN0ZXItY29sb3ItcmFuZ2VcIl0udmFsdWUuZXhwcmVzc2lvbi5ldmFsdWF0ZSh7em9vbTowfSk7dGhpcy5jb2xvclJhbXA9b2Yoe2V4cHJlc3Npb246ZSxldmFsdWF0aW9uS2V5OlwicmFzdGVyVmFsdWVcIixpbWFnZTp0aGlzLmNvbG9yUmFtcCxjbGlwczpbe3N0YXJ0OnQsZW5kOml9XSxyZXNvbHV0aW9uOjI1Nn0pLHRoaXMuY29sb3JSYW1wVGV4dHVyZT1udWxsO319LHNreTpjbGFzcyBleHRlbmRzIFRhe2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0dyx0KSx0aGlzLl91cGRhdGVDb2xvclJhbXAoKTt9X2hhbmRsZVNwZWNpYWxQYWludFByb3BlcnR5VXBkYXRlKGUpe1wic2t5LWdyYWRpZW50XCI9PT1lP3RoaXMuX3VwZGF0ZUNvbG9yUmFtcCgpOlwic2t5LWF0bW9zcGhlcmUtc3VuXCIhPT1lJiZcInNreS1hdG1vc3BoZXJlLWhhbG8tY29sb3JcIiE9PWUmJlwic2t5LWF0bW9zcGhlcmUtY29sb3JcIiE9PWUmJlwic2t5LWF0bW9zcGhlcmUtc3VuLWludGVuc2l0eVwiIT09ZXx8KHRoaXMuX3NreWJveEludmFsaWRhdGVkPSEwKTt9X3VwZGF0ZUNvbG9yUmFtcCgpe3RoaXMuY29sb3JSYW1wPW9mKHtleHByZXNzaW9uOnRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuX3ZhbHVlc1tcInNreS1ncmFkaWVudFwiXS52YWx1ZS5leHByZXNzaW9uLGV2YWx1YXRpb25LZXk6XCJza3lSYWRpYWxQcm9ncmVzc1wifSksdGhpcy5jb2xvclJhbXBUZXh0dXJlJiYodGhpcy5jb2xvclJhbXBUZXh0dXJlLmRlc3Ryb3koKSx0aGlzLmNvbG9yUmFtcFRleHR1cmU9bnVsbCk7fW5lZWRzU2t5Ym94Q2FwdHVyZShlKXtpZih0aGlzLl9za3lib3hJbnZhbGlkYXRlZHx8IXRoaXMuc2t5Ym94VGV4dHVyZXx8IXRoaXMuc2t5Ym94R2VvbWV0cnkpcmV0dXJuICEwO2lmKCF0aGlzLnBhaW50LmdldChcInNreS1hdG1vc3BoZXJlLXN1blwiKSl7Y29uc3QgdD1lLnN0eWxlLmxpZ2h0LnByb3BlcnRpZXMuZ2V0KFwicG9zaXRpb25cIik7cmV0dXJuIHRoaXMuX2xpZ2h0UG9zaXRpb24uYXppbXV0aGFsIT09dC5hemltdXRoYWx8fHRoaXMuX2xpZ2h0UG9zaXRpb24ucG9sYXIhPT10LnBvbGFyfXJldHVybiAhMX1nZXRDZW50ZXIoZSx0KXtpZihcImF0bW9zcGhlcmVcIj09PXRoaXMucGFpbnQuZ2V0KFwic2t5LXR5cGVcIikpe2NvbnN0IGk9dGhpcy5wYWludC5nZXQoXCJza3ktYXRtb3NwaGVyZS1zdW5cIikscj0haSxuPWUuc3R5bGUubGlnaHQsbz1uLnByb3BlcnRpZXMuZ2V0KFwicG9zaXRpb25cIik7cmV0dXJuIHImJlwidmlld3BvcnRcIj09PW4ucHJvcGVydGllcy5nZXQoXCJhbmNob3JcIikmJkgoXCJUaGUgc3VuIGRpcmVjdGlvbiBpcyBhdHRhY2hlZCB0byBhIGxpZ2h0IHdpdGggdmlld3BvcnQgYW5jaG9yLCBsaWdodGluZyBtYXkgYmVoYXZlIHVuZXhwZWN0ZWRseS5cIikscj9pdyhvLmF6aW11dGhhbCw5MC1vLnBvbGFyLHQpOml3KGlbMF0sOTAtaVsxXSx0KX1jb25zdCBpPXRoaXMucGFpbnQuZ2V0KFwic2t5LWdyYWRpZW50LWNlbnRlclwiKTtyZXR1cm4gaXcoaVswXSw5MC1pWzFdLHQpfWlzU2t5KCl7cmV0dXJuICEwfW1hcmtTa3lib3hWYWxpZChlKXt0aGlzLl9za3lib3hJbnZhbGlkYXRlZD0hMSx0aGlzLl9saWdodFBvc2l0aW9uPWUuc3R5bGUubGlnaHQucHJvcGVydGllcy5nZXQoXCJwb3NpdGlvblwiKTt9aGFzT2Zmc2NyZWVuUGFzcygpe3JldHVybiAhMH1nZXRQcm9ncmFtSWRzKCl7Y29uc3QgZT10aGlzLnBhaW50LmdldChcInNreS10eXBlXCIpO3JldHVybiBcImF0bW9zcGhlcmVcIj09PWU/W1wic2t5Ym94Q2FwdHVyZVwiLFwic2t5Ym94XCJdOlwiZ3JhZGllbnRcIj09PWU/W1wic2t5Ym94R3JhZGllbnRcIl06bnVsbH19LHNsb3Q6Y2xhc3MgZXh0ZW5kcyBUYXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUscncpO319LG1vZGVsOmNsYXNzIGV4dGVuZHMgVGF7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLE52LHQpO31jcmVhdGVCdWNrZXQoZSl7cmV0dXJuIG5ldyBCdihlKX1nZXRQcm9ncmFtSWRzKCl7cmV0dXJuIFtcIm1vZGVsXCJdfWlzM0QoKXtyZXR1cm4gITB9aGFzU2hhZG93UGFzcygpe3JldHVybiAhMH1jYW5DYXN0U2hhZG93cygpe3JldHVybiAhMH1oYXNMaWdodEJlYW1QYXNzKCl7cmV0dXJuICEwfWN1dG9mZlJhbmdlKCl7cmV0dXJuIHRoaXMucGFpbnQuZ2V0KFwibW9kZWwtY3V0b2ZmLWZhZGUtcmFuZ2VcIil9cXVlcnlSYWRpdXMoKXtyZXR1cm4gMH1xdWVyeUludGVyc2VjdHNGZWF0dXJlKCl7cmV0dXJuICExfV9oYW5kbGVPdmVycmlkYWJsZVBhaW50UHJvcGVydHlVcGRhdGUoZSx0LGkpe3JldHVybiAhKCF0aGlzLmxheW91dHx8dC5pc0RhdGFEcml2ZW4oKXx8aS5pc0RhdGFEcml2ZW4oKXx8XCJtb2RlbC1jb2xvclwiIT09ZSYmXCJtb2RlbC1jb2xvci1taXgtaW50ZW5zaXR5XCIhPT1lJiZcIm1vZGVsLXJvdGF0aW9uXCIhPT1lJiZcIm1vZGVsLXNjYWxlXCIhPT1lJiZcIm1vZGVsLXRyYW5zbGF0aW9uXCIhPT1lJiZcIm1vZGVsLWVtaXNzaXZlLXN0cmVuZ3RoXCIhPT1lKX1faXNQcm9wZXJ0eVpvb21EZXBlbmRlbnQoZSl7Y29uc3QgdD10aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50Ll92YWx1ZXNbZV07cmV0dXJuIG51bGwhPXQmJm51bGwhPXQudmFsdWUmJm51bGwhPXQudmFsdWUuZXhwcmVzc2lvbiYmdC52YWx1ZS5leHByZXNzaW9uIGluc3RhbmNlb2YgQW99aXNab29tRGVwZW5kZW50KCl7cmV0dXJuIHRoaXMuX2lzUHJvcGVydHlab29tRGVwZW5kZW50KFwibW9kZWwtc2NhbGVcIil8fHRoaXMuX2lzUHJvcGVydHlab29tRGVwZW5kZW50KFwibW9kZWwtcm90YXRpb25cIil8fHRoaXMuX2lzUHJvcGVydHlab29tRGVwZW5kZW50KFwibW9kZWwtdHJhbnNsYXRpb25cIil9fX07ZnVuY3Rpb24gb3coZSx0KXtyZXR1cm4gXCJjdXN0b21cIj09PWUudHlwZT9uZXcgUWIoZSk6bmV3IG53W2UudHlwZV0oZSx0KX1mdW5jdGlvbiBzdyhlKXtjb25zdHt1c2VySW1hZ2U6dH09ZTtyZXR1cm4gISEodCYmdC5yZW5kZXImJnQucmVuZGVyKCkpJiYoZS5kYXRhLnJlcGxhY2UobmV3IFVpbnQ4QXJyYXkodC5kYXRhLmJ1ZmZlcikpLCEwKX1jbGFzcyBhdyBleHRlbmRzIHp0e2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLmltYWdlcz17fSx0aGlzLnVwZGF0ZWRJbWFnZXM9e30sdGhpcy5jYWxsYmFja0Rpc3BhdGNoZWRUaGlzRnJhbWU9e30sdGhpcy5sb2FkZWQ9e30sdGhpcy5yZXF1ZXN0b3JzPVtdLHRoaXMucGF0dGVybnM9e30sdGhpcy5hdGxhc0ltYWdlPXt9LHRoaXMuYXRsYXNUZXh0dXJlPXt9LHRoaXMuZGlydHk9ITA7fWNyZWF0ZVNjb3BlKGUpe3RoaXMuaW1hZ2VzW2VdPXt9LHRoaXMubG9hZGVkW2VdPSExLHRoaXMudXBkYXRlZEltYWdlc1tlXT17fSx0aGlzLnBhdHRlcm5zW2VdPXt9LHRoaXMuY2FsbGJhY2tEaXNwYXRjaGVkVGhpc0ZyYW1lW2VdPXt9LHRoaXMuYXRsYXNJbWFnZVtlXT1uZXcgZWYoe3dpZHRoOjEsaGVpZ2h0OjF9KTt9aXNMb2FkZWQoKXtmb3IoY29uc3QgZSBpbiB0aGlzLmxvYWRlZClpZighdGhpcy5sb2FkZWRbZV0pcmV0dXJuICExO3JldHVybiAhMH1zZXRMb2FkZWQoZSx0KXtpZih0aGlzLmxvYWRlZFt0XSE9PWUmJih0aGlzLmxvYWRlZFt0XT1lLGUpKXtmb3IoY29uc3R7aWRzOmUsY2FsbGJhY2s6aX1vZiB0aGlzLnJlcXVlc3RvcnMpdGhpcy5fbm90aWZ5KGUsdCxpKTt0aGlzLnJlcXVlc3RvcnM9W107fX1oYXNJbWFnZShlLHQpe3JldHVybiAhIXRoaXMuZ2V0SW1hZ2UoZSx0KX1nZXRJbWFnZShlLHQpe3JldHVybiB0aGlzLmltYWdlc1t0XVtlXX1hZGRJbWFnZShlLHQsaSl7dGhpcy5fdmFsaWRhdGUoZSxpKSYmKHRoaXMuaW1hZ2VzW3RdW2VdPWkpO31fdmFsaWRhdGUoZSx0KXtsZXQgaT0hMDtyZXR1cm4gdGhpcy5fdmFsaWRhdGVTdHJldGNoKHQuc3RyZXRjaFgsdC5kYXRhJiZ0LmRhdGEud2lkdGgpfHwodGhpcy5maXJlKG5ldyBDdChuZXcgRXJyb3IoYEltYWdlIFwiJHtlfVwiIGhhcyBpbnZhbGlkIFwic3RyZXRjaFhcIiB2YWx1ZWApKSksaT0hMSksdGhpcy5fdmFsaWRhdGVTdHJldGNoKHQuc3RyZXRjaFksdC5kYXRhJiZ0LmRhdGEuaGVpZ2h0KXx8KHRoaXMuZmlyZShuZXcgQ3QobmV3IEVycm9yKGBJbWFnZSBcIiR7ZX1cIiBoYXMgaW52YWxpZCBcInN0cmV0Y2hZXCIgdmFsdWVgKSkpLGk9ITEpLHRoaXMuX3ZhbGlkYXRlQ29udGVudCh0LmNvbnRlbnQsdCl8fCh0aGlzLmZpcmUobmV3IEN0KG5ldyBFcnJvcihgSW1hZ2UgXCIke2V9XCIgaGFzIGludmFsaWQgXCJjb250ZW50XCIgdmFsdWVgKSkpLGk9ITEpLGl9X3ZhbGlkYXRlU3RyZXRjaChlLHQpe2lmKCFlKXJldHVybiAhMDtsZXQgaT0wO2Zvcihjb25zdCByIG9mIGUpe2lmKHJbMF08aXx8clsxXTxyWzBdfHx0PHJbMV0pcmV0dXJuICExO2k9clsxXTt9cmV0dXJuICEwfV92YWxpZGF0ZUNvbnRlbnQoZSx0KXtyZXR1cm4gIShlJiYoNCE9PWUubGVuZ3RofHxlWzBdPDB8fHQuZGF0YS53aWR0aDxlWzBdfHxlWzFdPDB8fHQuZGF0YS5oZWlnaHQ8ZVsxXXx8ZVsyXTwwfHx0LmRhdGEud2lkdGg8ZVsyXXx8ZVszXTwwfHx0LmRhdGEuaGVpZ2h0PGVbM118fGVbMl08ZVswXXx8ZVszXTxlWzFdKSl9dXBkYXRlSW1hZ2UoZSx0LGkpe2kudmVyc2lvbj10aGlzLmltYWdlc1t0XVtlXS52ZXJzaW9uKzEsdGhpcy5pbWFnZXNbdF1bZV09aSx0aGlzLnVwZGF0ZWRJbWFnZXNbdF1bZV09ITA7fXJlbW92ZUltYWdlKGUsdCl7Y29uc3QgaT10aGlzLmltYWdlc1t0XVtlXTtkZWxldGUgdGhpcy5pbWFnZXNbdF1bZV0sZGVsZXRlIHRoaXMucGF0dGVybnNbdF1bZV0saS51c2VySW1hZ2UmJmkudXNlckltYWdlLm9uUmVtb3ZlJiZpLnVzZXJJbWFnZS5vblJlbW92ZSgpO31saXN0SW1hZ2VzKGUpe3JldHVybiBPYmplY3Qua2V5cyh0aGlzLmltYWdlc1tlXSl9Z2V0SW1hZ2VzKGUsdCxpKXtsZXQgcj0hMDtjb25zdCBuPSEhdGhpcy5sb2FkZWRbdF07aWYoIW4pZm9yKGNvbnN0IGkgb2YgZSl0aGlzLmltYWdlc1t0XVtpXXx8KHI9ITEpO258fHI/dGhpcy5fbm90aWZ5KGUsdCxpKTp0aGlzLnJlcXVlc3RvcnMucHVzaCh7aWRzOmUsc2NvcGU6dCxjYWxsYmFjazppfSk7fWdldFVwZGF0ZWRJbWFnZXMoZSl7cmV0dXJuIHRoaXMudXBkYXRlZEltYWdlc1tlXX1fbm90aWZ5KGUsdCxpKXtjb25zdCByPXt9O2Zvcihjb25zdCBpIG9mIGUpe3RoaXMuaW1hZ2VzW3RdW2ldfHx0aGlzLmZpcmUobmV3IEl0KFwic3R5bGVpbWFnZW1pc3NpbmdcIix7aWQ6aX0pKTtjb25zdCBlPXRoaXMuaW1hZ2VzW3RdW2ldO2U/cltpXT17ZGF0YTplLmRhdGEuY2xvbmUoKSxwaXhlbFJhdGlvOmUucGl4ZWxSYXRpbyxzZGY6ZS5zZGYsdmVyc2lvbjplLnZlcnNpb24sc3RyZXRjaFg6ZS5zdHJldGNoWCxzdHJldGNoWTplLnN0cmV0Y2hZLGNvbnRlbnQ6ZS5jb250ZW50LGhhc1JlbmRlckNhbGxiYWNrOkJvb2xlYW4oZS51c2VySW1hZ2UmJmUudXNlckltYWdlLnJlbmRlcil9OkgoYEltYWdlIFwiJHtpfVwiIGNvdWxkIG5vdCBiZSBsb2FkZWQuIFBsZWFzZSBtYWtlIHN1cmUgeW91IGhhdmUgYWRkZWQgdGhlIGltYWdlIHdpdGggbWFwLmFkZEltYWdlKCkgb3IgYSBcInNwcml0ZVwiIHByb3BlcnR5IGluIHlvdXIgc3R5bGUuIFlvdSBjYW4gcHJvdmlkZSBtaXNzaW5nIGltYWdlcyBieSBsaXN0ZW5pbmcgZm9yIHRoZSBcInN0eWxlaW1hZ2VtaXNzaW5nXCIgbWFwIGV2ZW50LmApO31pKG51bGwscik7fWdldFBpeGVsU2l6ZShlKXtjb25zdHt3aWR0aDp0LGhlaWdodDppfT10aGlzLmF0bGFzSW1hZ2VbZV07cmV0dXJuIHt3aWR0aDp0LGhlaWdodDppfX1nZXRQYXR0ZXJuKGUsdCl7Y29uc3QgaT10aGlzLnBhdHRlcm5zW3RdW2VdLHI9dGhpcy5nZXRJbWFnZShlLHQpO2lmKCFyKXJldHVybiBudWxsO2lmKGkmJmkucG9zaXRpb24udmVyc2lvbj09PXIudmVyc2lvbilyZXR1cm4gaS5wb3NpdGlvbjtpZihpKWkucG9zaXRpb24udmVyc2lvbj1yLnZlcnNpb247ZWxzZSB7Y29uc3QgaT17dzpyLmRhdGEud2lkdGgrMixoOnIuZGF0YS5oZWlnaHQrMix4OjAseTowfSxuPW5ldyBRXyhpLHIpO3RoaXMucGF0dGVybnNbdF1bZV09e2JpbjppLHBvc2l0aW9uOm59O31yZXR1cm4gdGhpcy5fdXBkYXRlUGF0dGVybkF0bGFzKHQpLHRoaXMucGF0dGVybnNbdF1bZV0ucG9zaXRpb259YmluZChlLHQpe2NvbnN0IGk9ZS5nbDtsZXQgcj10aGlzLmF0bGFzVGV4dHVyZVt0XTtyP3RoaXMuZGlydHkmJihyLnVwZGF0ZSh0aGlzLmF0bGFzSW1hZ2VbdF0pLHRoaXMuZGlydHk9ITEpOihyPW5ldyBNeShlLHRoaXMuYXRsYXNJbWFnZVt0XSxpLlJHQkEpLHRoaXMuYXRsYXNUZXh0dXJlW3RdPXIpLHIuYmluZChpLkxJTkVBUixpLkNMQU1QX1RPX0VER0UpO31fdXBkYXRlUGF0dGVybkF0bGFzKGUpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IGkgaW4gdGhpcy5wYXR0ZXJuc1tlXSl0LnB1c2godGhpcy5wYXR0ZXJuc1tlXVtpXS5iaW4pO2NvbnN0e3c6aSxoOnJ9PUtfKHQpLG49dGhpcy5hdGxhc0ltYWdlW2VdO24ucmVzaXplKHt3aWR0aDppfHwxLGhlaWdodDpyfHwxfSk7Zm9yKGNvbnN0IHQgaW4gdGhpcy5wYXR0ZXJuc1tlXSl7Y29uc3R7YmluOml9PXRoaXMucGF0dGVybnNbZV1bdF0scj1pLngrMSxvPWkueSsxLHM9dGhpcy5pbWFnZXNbZV1bdF0uZGF0YSxhPXMud2lkdGgsbD1zLmhlaWdodDtlZi5jb3B5KHMsbix7eDowLHk6MH0se3g6cix5Om99LHt3aWR0aDphLGhlaWdodDpsfSksZWYuY29weShzLG4se3g6MCx5OmwtMX0se3g6cix5Om8tMX0se3dpZHRoOmEsaGVpZ2h0OjF9KSxlZi5jb3B5KHMsbix7eDowLHk6MH0se3g6cix5Om8rbH0se3dpZHRoOmEsaGVpZ2h0OjF9KSxlZi5jb3B5KHMsbix7eDphLTEseTowfSx7eDpyLTEseTpvfSx7d2lkdGg6MSxoZWlnaHQ6bH0pLGVmLmNvcHkocyxuLHt4OjAseTowfSx7eDpyK2EseTpvfSx7d2lkdGg6MSxoZWlnaHQ6bH0pO310aGlzLmRpcnR5PSEwO31iZWdpbkZyYW1lKCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5pbWFnZXMpdGhpcy5jYWxsYmFja0Rpc3BhdGNoZWRUaGlzRnJhbWVbZV09e307fWRpc3BhdGNoUmVuZGVyQ2FsbGJhY2tzKGUsdCl7Zm9yKGNvbnN0IGkgb2YgZSl7aWYodGhpcy5jYWxsYmFja0Rpc3BhdGNoZWRUaGlzRnJhbWVbdF1baV0pY29udGludWU7dGhpcy5jYWxsYmFja0Rpc3BhdGNoZWRUaGlzRnJhbWVbdF1baV09ITA7Y29uc3QgZT10aGlzLmltYWdlc1t0XVtpXTtzdyhlKSYmdGhpcy51cGRhdGVJbWFnZShpLHQsZSk7fX19Y29uc3QgbHc9bmV3IGdhKHthbmNob3I6bmV3IGZhKFB0LmxpZ2h0LmFuY2hvcikscG9zaXRpb246bmV3IGNsYXNze2NvbnN0cnVjdG9yKGUpe3RoaXMuc3BlY2lmaWNhdGlvbj1lO31wb3NzaWJseUV2YWx1YXRlKGUsdCl7cmV0dXJuIEsoZS5leHByZXNzaW9uLmV2YWx1YXRlKHQpKX1pbnRlcnBvbGF0ZShlLHQsaSl7cmV0dXJuIHt4OktyKGUueCx0LngsaSkseTpLcihlLnksdC55LGkpLHo6S3IoZS56LHQueixpKSxhemltdXRoYWw6S3IoZS5hemltdXRoYWwsdC5hemltdXRoYWwsaSkscG9sYXI6S3IoZS5wb2xhcix0LnBvbGFyLGkpfX19KFB0LmxpZ2h0LnBvc2l0aW9uKSxjb2xvcjpuZXcgZmEoUHQubGlnaHQuY29sb3IpLGludGVuc2l0eTpuZXcgZmEoUHQubGlnaHQuaW50ZW5zaXR5KX0pO2NsYXNzIGN3IGV4dGVuZHMgenR7Y29uc3RydWN0b3IoZSx0PVwiZmxhdFwiKXtzdXBlcigpLHRoaXMuX3RyYW5zaXRpb25hYmxlPW5ldyBsYShsdyksdGhpcy5zZXRMaWdodChlLHQpLHRoaXMuX3RyYW5zaXRpb25pbmc9dGhpcy5fdHJhbnNpdGlvbmFibGUudW50cmFuc2l0aW9uZWQoKTt9Z2V0TGlnaHQoKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmFibGUuc2VyaWFsaXplKCl9c2V0TGlnaHQoZSx0LGk9e30pe3RoaXMuX3ZhbGlkYXRlKGdzLGUsaSl8fCh0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXRUcmFuc2l0aW9uT3JWYWx1ZShlKSx0aGlzLmlkPXQpO311cGRhdGVUcmFuc2l0aW9ucyhlKXt0aGlzLl90cmFuc2l0aW9uaW5nPXRoaXMuX3RyYW5zaXRpb25hYmxlLnRyYW5zaXRpb25lZChlLHRoaXMuX3RyYW5zaXRpb25pbmcpO31oYXNUcmFuc2l0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYW5zaXRpb25pbmcuaGFzVHJhbnNpdGlvbigpfXJlY2FsY3VsYXRlKGUpe3RoaXMucHJvcGVydGllcz10aGlzLl90cmFuc2l0aW9uaW5nLnBvc3NpYmx5RXZhbHVhdGUoZSk7fV92YWxpZGF0ZShlLHQsaSl7cmV0dXJuICghaXx8ITEhPT1pLnZhbGlkYXRlKSYmU3ModGhpcyxlLmNhbGwobXMsayh7dmFsdWU6dCxzdHlsZTp7Z2x5cGhzOiEwLHNwcml0ZTohMH0sc3R5bGVTcGVjOlB0fSkpKX19Y29uc3QgaHc9bmV3IGdhKHtzb3VyY2U6bmV3IGZhKFB0LnRlcnJhaW4uc291cmNlKSxleGFnZ2VyYXRpb246bmV3IGZhKFB0LnRlcnJhaW4uZXhhZ2dlcmF0aW9uKX0pO2xldCB1dz1jbGFzcyBleHRlbmRzIHp0e2NvbnN0cnVjdG9yKGUsdCxpLHIpe3N1cGVyKCksdGhpcy5zY29wZT1pLHRoaXMuX3RyYW5zaXRpb25hYmxlPW5ldyBsYShodyxyKSx0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXRUcmFuc2l0aW9uT3JWYWx1ZShlLHIpLHRoaXMuX3RyYW5zaXRpb25pbmc9dGhpcy5fdHJhbnNpdGlvbmFibGUudW50cmFuc2l0aW9uZWQoKSx0aGlzLmRyYXBlUmVuZGVyTW9kZT10O31nZXQoKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmFibGUuc2VyaWFsaXplKCl9c2V0KGUsdCl7dGhpcy5fdHJhbnNpdGlvbmFibGUuc2V0VHJhbnNpdGlvbk9yVmFsdWUoZSx0KTt9dXBkYXRlVHJhbnNpdGlvbnMoZSl7dGhpcy5fdHJhbnNpdGlvbmluZz10aGlzLl90cmFuc2l0aW9uYWJsZS50cmFuc2l0aW9uZWQoZSx0aGlzLl90cmFuc2l0aW9uaW5nKTt9aGFzVHJhbnNpdGlvbigpe3JldHVybiB0aGlzLl90cmFuc2l0aW9uaW5nLmhhc1RyYW5zaXRpb24oKX1yZWNhbGN1bGF0ZShlKXt0aGlzLnByb3BlcnRpZXM9dGhpcy5fdHJhbnNpdGlvbmluZy5wb3NzaWJseUV2YWx1YXRlKGUpO31nZXRFeGFnZ2VyYXRpb24oZSl7cmV0dXJuIHRoaXMuX3RyYW5zaXRpb25pbmcucG9zc2libHlFdmFsdWF0ZShuZXcgb2EoZSkpLmdldChcImV4YWdnZXJhdGlvblwiKX1pc1pvb21EZXBlbmRlbnQoKXtjb25zdCBlPXRoaXMuX3RyYW5zaXRpb25hYmxlLl92YWx1ZXMuZXhhZ2dlcmF0aW9uO3JldHVybiBudWxsIT1lJiZudWxsIT1lLnZhbHVlJiZudWxsIT1lLnZhbHVlLmV4cHJlc3Npb24mJmUudmFsdWUuZXhwcmVzc2lvbiBpbnN0YW5jZW9mIEFvfX07Y29uc3QgZHc9NDUscHc9NjUsZnc9LjA1O2Z1bmN0aW9uIG13KGUsdCxpLHIpe2NvbnN0IG49UChkdyxwdyxpKSxbbyxzXT1fdyhlLHIpO2xldCBhPTEtTWF0aC5taW4oMSxNYXRoLmV4cCgodC1vKS8ocy1vKSotNikpO3JldHVybiBhKj1hKmEsYT1NYXRoLm1pbigxLDEuMDA3NDcqYSksYSpuKmUuYWxwaGF9ZnVuY3Rpb24gX3coZSx0KXtjb25zdCBpPS41L01hdGgudGFuKC41KnQpO3JldHVybiBbZS5yYW5nZVswXStpLGUucmFuZ2VbMV0raV19ZnVuY3Rpb24gZ3coZSx0LGkscixuKXtjb25zdCBvPUR1LnRyYW5zZm9ybU1hdDQoW10sW3QsaSxyXSxuLm1lcmNhdG9yRm9nTWF0cml4KTtyZXR1cm4gbXcoZSxEdS5sZW5ndGgobyksbi5waXRjaCxuLl9mb3YpfWZ1bmN0aW9uIHl3KGUsdCxpLHIsbixvLHMpe2NvbnN0IGE9W1tpLHIsMF0sW24sciwwXSxbbixvLDBdLFtpLG8sMF1dO2xldCBsPU51bWJlci5NQVhfVkFMVUUsYz0tTnVtYmVyLk1BWF9WQUxVRTtmb3IoY29uc3QgZSBvZiBhKXtjb25zdCBpPUR1LnRyYW5zZm9ybU1hdDQoW10sZSx0KSxyPUR1Lmxlbmd0aChpKTtsPU1hdGgubWluKGwsciksYz1NYXRoLm1heChjLHIpO31yZXR1cm4gW213KGUsbCxzLnBpdGNoLHMuX2ZvdiksbXcoZSxjLHMucGl0Y2gscy5fZm92KV19Y29uc3QgeHc9bmV3IGdhKHtyYW5nZTpuZXcgZmEoUHQuZm9nLnJhbmdlKSxjb2xvcjpuZXcgZmEoUHQuZm9nLmNvbG9yKSxcImhpZ2gtY29sb3JcIjpuZXcgZmEoUHQuZm9nW1wiaGlnaC1jb2xvclwiXSksXCJzcGFjZS1jb2xvclwiOm5ldyBmYShQdC5mb2dbXCJzcGFjZS1jb2xvclwiXSksXCJob3Jpem9uLWJsZW5kXCI6bmV3IGZhKFB0LmZvZ1tcImhvcml6b24tYmxlbmRcIl0pLFwic3Rhci1pbnRlbnNpdHlcIjpuZXcgZmEoUHQuZm9nW1wic3Rhci1pbnRlbnNpdHlcIl0pLFwidmVydGljYWwtcmFuZ2VcIjpuZXcgZmEoUHQuZm9nW1widmVydGljYWwtcmFuZ2VcIl0pfSk7Y2xhc3MgdncgZXh0ZW5kcyB6dHtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKCksdGhpcy5fdHJhbnNpdGlvbmFibGU9bmV3IGxhKHh3KSx0aGlzLnNldChlKSx0aGlzLl90cmFuc2l0aW9uaW5nPXRoaXMuX3RyYW5zaXRpb25hYmxlLnVudHJhbnNpdGlvbmVkKCksdGhpcy5fdHJhbnNmb3JtPXQ7fWdldCBzdGF0ZSgpe2NvbnN0IGU9dGhpcy5fdHJhbnNmb3JtLHQ9XCJnbG9iZVwiPT09ZS5wcm9qZWN0aW9uLm5hbWUsaT1EZChlLnpvb20pLHI9dGhpcy5wcm9wZXJ0aWVzLmdldChcInJhbmdlXCIpLG49Wy41LDNdO3JldHVybiB7cmFuZ2U6dD9bS3IoblswXSxyWzBdLGkpLEtyKG5bMV0sclsxXSxpKV06cixob3Jpem9uQmxlbmQ6dGhpcy5wcm9wZXJ0aWVzLmdldChcImhvcml6b24tYmxlbmRcIiksYWxwaGE6dGhpcy5wcm9wZXJ0aWVzLmdldChcImNvbG9yXCIpLmF9fWdldCgpe3JldHVybiB0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXJpYWxpemUoKX1zZXQoZSx0PXt9KXtpZih0aGlzLl92YWxpZGF0ZSh2cyxlLHQpKXJldHVybjtjb25zdCBpPWsoe30sZSk7Zm9yKGNvbnN0IGUgb2YgT2JqZWN0LmtleXMoUHQuZm9nKSl2b2lkIDA9PT1pW2VdJiYoaVtlXT1QdC5mb2dbZV0uZGVmYXVsdCk7dGhpcy5fdHJhbnNpdGlvbmFibGUuc2V0VHJhbnNpdGlvbk9yVmFsdWUoaSk7fWdldE9wYWNpdHkoZSl7aWYoIXRoaXMuX3RyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzRm9nKXJldHVybiAwO2NvbnN0IHQ9dGhpcy5wcm9wZXJ0aWVzJiZ0aGlzLnByb3BlcnRpZXMuZ2V0KFwiY29sb3JcIil8fDE7cmV0dXJuIChcImdsb2JlXCI9PT10aGlzLl90cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lPzE6UChkdyxwdyxlKSkqdC5hfWdldE9wYWNpdHlBdExhdExuZyhlLHQpe3JldHVybiB0aGlzLl90cmFuc2Zvcm0ucHJvamVjdGlvbi5zdXBwb3J0c0ZvZz9mdW5jdGlvbihlLHQsaSl7Y29uc3Qgcj1scC5mcm9tTG5nTGF0KHQpLG49aS5lbGV2YXRpb24/aS5lbGV2YXRpb24uZ2V0QXRQb2ludE9yWmVybyhyKTowO3JldHVybiBndyhlLHIueCxyLnksbixpKX0odGhpcy5zdGF0ZSxlLHQpOjB9Z2V0T3BhY2l0eUZvclRpbGUoZSl7aWYoIXRoaXMuX3RyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzRm9nKXJldHVybiBbMSwxXTtjb25zdCB0PXRoaXMuX3RyYW5zZm9ybS5jYWxjdWxhdGVGb2dUaWxlTWF0cml4KGUudG9VbndyYXBwZWQoKSk7cmV0dXJuIHl3KHRoaXMuc3RhdGUsdCwwLDAsY3IsY3IsdGhpcy5fdHJhbnNmb3JtKX1nZXRPcGFjaXR5Rm9yQm91bmRzKGUsdCxpLHIsbil7cmV0dXJuIHRoaXMuX3RyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzRm9nP3l3KHRoaXMuc3RhdGUsZSx0LGkscixuLHRoaXMuX3RyYW5zZm9ybSk6WzEsMV19Z2V0Rm92QWRqdXN0ZWRSYW5nZShlKXtyZXR1cm4gdGhpcy5fdHJhbnNmb3JtLnByb2plY3Rpb24uc3VwcG9ydHNGb2c/X3codGhpcy5zdGF0ZSxlKTpbMCwxXX1pc1Zpc2libGVPbkZydXN0dW0oZSl7aWYoIXRoaXMuX3RyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzRm9nKXJldHVybiAhMTtjb25zdCB0PVs0LDUsNiw3XTtmb3IoY29uc3QgaSBvZiB0KXtjb25zdCB0PWUucG9pbnRzW2ldO2xldCByO2lmKHRbMl0+PTApcj10O2Vsc2Uge2NvbnN0IG49ZS5wb2ludHNbaS00XTtyPUpyKG4sdCxuWzJdLyhuWzJdLXRbMl0pKTt9aWYoZ3codGhpcy5zdGF0ZSxyWzBdLHJbMV0sMCx0aGlzLl90cmFuc2Zvcm0pPj1mdylyZXR1cm4gITB9cmV0dXJuICExfXVwZGF0ZVRyYW5zaXRpb25zKGUpe3RoaXMuX3RyYW5zaXRpb25pbmc9dGhpcy5fdHJhbnNpdGlvbmFibGUudHJhbnNpdGlvbmVkKGUsdGhpcy5fdHJhbnNpdGlvbmluZyk7fWhhc1RyYW5zaXRpb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmluZy5oYXNUcmFuc2l0aW9uKCl9cmVjYWxjdWxhdGUoZSl7dGhpcy5wcm9wZXJ0aWVzPXRoaXMuX3RyYW5zaXRpb25pbmcucG9zc2libHlFdmFsdWF0ZShlKTt9X3ZhbGlkYXRlKGUsdCxpKXtyZXR1cm4gKCFpfHwhMSE9PWkudmFsaWRhdGUpJiZTcyh0aGlzLGUuY2FsbChtcyxrKHt2YWx1ZTp0LHN0eWxlOntnbHlwaHM6ITAsc3ByaXRlOiEwfSxzdHlsZVNwZWM6UHR9KSkpfX1jbGFzcyBid3tjb25zdHJ1Y3RvcihlKXt0aGlzLl9jYWxsYmFjaz1lLHRoaXMuX3RyaWdnZXJlZD0hMSxcInVuZGVmaW5lZFwiIT10eXBlb2YgTWVzc2FnZUNoYW5uZWwmJih0aGlzLl9jaGFubmVsPW5ldyBNZXNzYWdlQ2hhbm5lbCx0aGlzLl9jaGFubmVsLnBvcnQyLm9ubWVzc2FnZT0oKT0+e3RoaXMuX3RyaWdnZXJlZD0hMSx0aGlzLl9jYWxsYmFjaygpO30pO310cmlnZ2VyKCl7dGhpcy5fdHJpZ2dlcmVkfHwodGhpcy5fdHJpZ2dlcmVkPSEwLHRoaXMuX2NoYW5uZWw/dGhpcy5fY2hhbm5lbC5wb3J0MS5wb3N0TWVzc2FnZSghMCk6c2V0VGltZW91dCgoKCk9Pnt0aGlzLl90cmlnZ2VyZWQ9ITEsdGhpcy5fY2FsbGJhY2soKTt9KSwwKSk7fXJlbW92ZSgpe3RoaXMuX2NoYW5uZWw9dm9pZCAwLHRoaXMuX2NhbGxiYWNrPSgpPT57fTt9fWNsYXNzIHd3e2NvbnN0cnVjdG9yKCl7dGhpcy50YXNrcz17fSx0aGlzLnRhc2tRdWV1ZT1bXSxqKFtcInByb2Nlc3NcIl0sdGhpcyksdGhpcy5pbnZva2VyPW5ldyBidyh0aGlzLnByb2Nlc3MpLHRoaXMubmV4dElkPTA7fWFkZChlLHQpe2NvbnN0IGk9dGhpcy5uZXh0SWQrKyxyPWZ1bmN0aW9uKHt0eXBlOmUsaXNTeW1ib2xUaWxlOnQsem9vbTppfSl7cmV0dXJuIGk9aXx8MCxcIm1lc3NhZ2VcIj09PWU/MDpcIm1heWJlUHJlcGFyZVwiIT09ZXx8dD9cInBhcnNlVGlsZVwiIT09ZXx8dD9cInBhcnNlVGlsZVwiPT09ZSYmdD8zMDAtaTpcIm1heWJlUHJlcGFyZVwiPT09ZSYmdD80MDAtaTo1MDA6MjAwLWk6MTAwLWl9KHQpO2lmKDA9PT1yKXtRKCk7dHJ5e2UoKTt9ZmluYWxseXt9cmV0dXJuIHtjYW5jZWw6KCk9Pnt9fX1yZXR1cm4gdGhpcy50YXNrc1tpXT17Zm46ZSxtZXRhZGF0YTp0LHByaW9yaXR5OnIsaWQ6aX0sdGhpcy50YXNrUXVldWUucHVzaChpKSx0aGlzLmludm9rZXIudHJpZ2dlcigpLHtjYW5jZWw6KCk9PntkZWxldGUgdGhpcy50YXNrc1tpXTt9fX1wcm9jZXNzKCl7USgpO3RyeXtpZih0aGlzLnRhc2tRdWV1ZT10aGlzLnRhc2tRdWV1ZS5maWx0ZXIoKGU9PiEhdGhpcy50YXNrc1tlXSkpLCF0aGlzLnRhc2tRdWV1ZS5sZW5ndGgpcmV0dXJuO2NvbnN0IGU9dGhpcy5waWNrKCk7aWYobnVsbD09PWUpcmV0dXJuO2NvbnN0IHQ9dGhpcy50YXNrc1tlXTtpZihkZWxldGUgdGhpcy50YXNrc1tlXSx0aGlzLnRhc2tRdWV1ZS5sZW5ndGgmJnRoaXMuaW52b2tlci50cmlnZ2VyKCksIXQpcmV0dXJuO3QuZm4oKTt9ZmluYWxseXt9fXBpY2soKXtsZXQgZT1udWxsLHQ9MS8wO2ZvcihsZXQgaT0wO2k8dGhpcy50YXNrUXVldWUubGVuZ3RoO2krKyl7Y29uc3Qgcj10aGlzLnRhc2tzW3RoaXMudGFza1F1ZXVlW2ldXTtyLnByaW9yaXR5PHQmJih0PXIucHJpb3JpdHksZT1pKTt9aWYobnVsbD09PWUpcmV0dXJuIG51bGw7Y29uc3QgaT10aGlzLnRhc2tRdWV1ZVtlXTtyZXR1cm4gdGhpcy50YXNrUXVldWUuc3BsaWNlKGUsMSksaX1yZW1vdmUoKXt0aGlzLmludm9rZXIucmVtb3ZlKCk7fX1jbGFzcyBUd3tjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy50YXJnZXQ9ZSx0aGlzLnBhcmVudD10LHRoaXMubWFwSWQ9aSx0aGlzLmNhbGxiYWNrcz17fSx0aGlzLmNhbmNlbENhbGxiYWNrcz17fSxqKFtcInJlY2VpdmVcIl0sdGhpcyksdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix0aGlzLnJlY2VpdmUsITEpLHRoaXMuc2NoZWR1bGVyPW5ldyB3dzt9c2VuZChlLHQsaSxyLG49ITEsbyl7Y29uc3Qgcz1NYXRoLnJvdW5kKDFlMTgqTWF0aC5yYW5kb20oKSkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygwLDEwKTtpJiYoaS5tZXRhZGF0YT1vLHRoaXMuY2FsbGJhY2tzW3NdPWkpO2NvbnN0IGE9bmV3IFNldDtyZXR1cm4gdGhpcy50YXJnZXQucG9zdE1lc3NhZ2Uoe2lkOnMsdHlwZTplLGhhc0NhbGxiYWNrOiEhaSx0YXJnZXRNYXBJZDpyLG11c3RRdWV1ZTpuLHNvdXJjZU1hcElkOnRoaXMubWFwSWQsZGF0YTpPcyh0LGEpfSxhKSx7Y2FuY2VsOigpPT57aSYmZGVsZXRlIHRoaXMuY2FsbGJhY2tzW3NdLHRoaXMudGFyZ2V0LnBvc3RNZXNzYWdlKHtpZDpzLHR5cGU6XCI8Y2FuY2VsPlwiLHRhcmdldE1hcElkOnIsc291cmNlTWFwSWQ6dGhpcy5tYXBJZH0pO319fXJlY2VpdmUoZSl7Y29uc3QgdD1lLmRhdGEsaT10LmlkO2lmKGkmJighdC50YXJnZXRNYXBJZHx8dGhpcy5tYXBJZD09PXQudGFyZ2V0TWFwSWQpKWlmKFwiPGNhbmNlbD5cIj09PXQudHlwZSl7Y29uc3QgZT10aGlzLmNhbmNlbENhbGxiYWNrc1tpXTtkZWxldGUgdGhpcy5jYW5jZWxDYWxsYmFja3NbaV0sZSYmZS5jYW5jZWwoKTt9ZWxzZSBpZih0Lm11c3RRdWV1ZXx8USgpKXtjb25zdCBlPXRoaXMuY2FsbGJhY2tzW2ldO3RoaXMuY2FuY2VsQ2FsbGJhY2tzW2ldPXRoaXMuc2NoZWR1bGVyLmFkZCgoKCk9PnRoaXMucHJvY2Vzc1Rhc2soaSx0KSksZSYmZS5tZXRhZGF0YXx8e3R5cGU6XCJtZXNzYWdlXCJ9KTt9ZWxzZSB0aGlzLnByb2Nlc3NUYXNrKGksdCk7fXByb2Nlc3NUYXNrKGUsdCl7aWYoXCI8cmVzcG9uc2U+XCI9PT10LnR5cGUpe2NvbnN0IGk9dGhpcy5jYWxsYmFja3NbZV07ZGVsZXRlIHRoaXMuY2FsbGJhY2tzW2VdLGkmJih0LmVycm9yP2koQnModC5lcnJvcikpOmkobnVsbCxCcyh0LmRhdGEpKSk7fWVsc2Uge2NvbnN0IGk9bmV3IFNldCxyPXQuaGFzQ2FsbGJhY2s/KHQscik9PntkZWxldGUgdGhpcy5jYW5jZWxDYWxsYmFja3NbZV0sdGhpcy50YXJnZXQucG9zdE1lc3NhZ2Uoe2lkOmUsdHlwZTpcIjxyZXNwb25zZT5cIixzb3VyY2VNYXBJZDp0aGlzLm1hcElkLGVycm9yOnQ/T3ModCk6bnVsbCxkYXRhOk9zKHIsaSl9LGkpO306ZT0+e30sbj1Ccyh0LmRhdGEpO2lmKHRoaXMucGFyZW50W3QudHlwZV0pdGhpcy5wYXJlbnRbdC50eXBlXSh0LnNvdXJjZU1hcElkLG4scik7ZWxzZSBpZih0aGlzLnBhcmVudC5nZXRXb3JrZXJTb3VyY2Upe2NvbnN0IGU9dC50eXBlLnNwbGl0KFwiLlwiKTt0aGlzLnBhcmVudC5nZXRXb3JrZXJTb3VyY2UodC5zb3VyY2VNYXBJZCxlWzBdLG4uc291cmNlLG4uc2NvcGUpW2VbMV1dKG4scik7fWVsc2UgcihuZXcgRXJyb3IoYENvdWxkIG5vdCBmaW5kIGZ1bmN0aW9uICR7dC50eXBlfWApKTt9fXJlbW92ZSgpe3RoaXMuc2NoZWR1bGVyLnJlbW92ZSgpLHRoaXMudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsdGhpcy5yZWNlaXZlLCExKTt9fWNsYXNzIEV3e2NvbnN0cnVjdG9yKGUsdCl7dGhpcy53b3JrZXJQb29sPWUsdGhpcy5hY3RvcnM9W10sdGhpcy5jdXJyZW50QWN0b3I9MCx0aGlzLmlkPUYoKTtjb25zdCBpPXRoaXMud29ya2VyUG9vbC5hY3F1aXJlKHRoaXMuaWQpO2ZvcihsZXQgZT0wO2U8aS5sZW5ndGg7ZSsrKXtjb25zdCByPW5ldyBFdy5BY3RvcihpW2VdLHQsdGhpcy5pZCk7ci5uYW1lPWBXb3JrZXIgJHtlfWAsdGhpcy5hY3RvcnMucHVzaChyKTt9dGhpcy5yZWFkeT0hMSx0aGlzLmJyb2FkY2FzdChcImNoZWNrSWZSZWFkeVwiLG51bGwsKCgpPT57dGhpcy5yZWFkeT0hMDt9KSk7fWJyb2FkY2FzdChlLHQsaSl7Uih0aGlzLmFjdG9ycywoKGkscik9PntpLnNlbmQoZSx0LHIpO30pLGk9aXx8ZnVuY3Rpb24oKXt9KTt9Z2V0QWN0b3IoKXtyZXR1cm4gdGhpcy5jdXJyZW50QWN0b3I9KHRoaXMuY3VycmVudEFjdG9yKzEpJXRoaXMuYWN0b3JzLmxlbmd0aCx0aGlzLmFjdG9yc1t0aGlzLmN1cnJlbnRBY3Rvcl19cmVtb3ZlKCl7dGhpcy5hY3RvcnMuZm9yRWFjaCgoZT0+e2UucmVtb3ZlKCk7fSkpLHRoaXMuYWN0b3JzPVtdLHRoaXMud29ya2VyUG9vbC5yZWxlYXNlKHRoaXMuaWQpO319RXcuQWN0b3I9VHc7Y2xhc3MgTXcgZXh0ZW5kcyB6dHtjb25zdHJ1Y3RvcihlLHQsaSxyKXtzdXBlcigpLHRoaXMuc2NvcGU9aSx0aGlzLl9vcHRpb25zPWUsdGhpcy5wcm9wZXJ0aWVzPW5ldyBwYSh0KSx0aGlzLl90cmFuc2l0aW9uYWJsZT1uZXcgbGEodCxuZXcgTWFwKHIpKSx0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXRUcmFuc2l0aW9uT3JWYWx1ZShlLnByb3BlcnRpZXMpLHRoaXMuX3RyYW5zaXRpb25pbmc9dGhpcy5fdHJhbnNpdGlvbmFibGUudW50cmFuc2l0aW9uZWQoKTt9dXBkYXRlQ29uZmlnKGUpe3RoaXMuX3RyYW5zaXRpb25hYmxlLnNldFRyYW5zaXRpb25PclZhbHVlKHRoaXMuX29wdGlvbnMucHJvcGVydGllcyxuZXcgTWFwKGUpKTt9dXBkYXRlVHJhbnNpdGlvbnMoZSl7dGhpcy5fdHJhbnNpdGlvbmluZz10aGlzLl90cmFuc2l0aW9uYWJsZS50cmFuc2l0aW9uZWQoZSx0aGlzLl90cmFuc2l0aW9uaW5nKTt9aGFzVHJhbnNpdGlvbigpe3JldHVybiB0aGlzLl90cmFuc2l0aW9uaW5nLmhhc1RyYW5zaXRpb24oKX1yZWNhbGN1bGF0ZShlKXt0aGlzLnByb3BlcnRpZXM9dGhpcy5fdHJhbnNpdGlvbmluZy5wb3NzaWJseUV2YWx1YXRlKGUpO31nZXQoKXtyZXR1cm4gdGhpcy5fb3B0aW9ucy5wcm9wZXJ0aWVzPXRoaXMuX3RyYW5zaXRpb25hYmxlLnNlcmlhbGl6ZSgpLHRoaXMuX29wdGlvbnN9c2V0KGUsdCl7dGhpcy5fb3B0aW9ucz1lLHRoaXMuX3RyYW5zaXRpb25hYmxlLnNldFRyYW5zaXRpb25PclZhbHVlKGUucHJvcGVydGllcyx0KTt9c2hhZG93c0VuYWJsZWQoKXtyZXR1cm4gISF0aGlzLnByb3BlcnRpZXMmJiEwPT09dGhpcy5wcm9wZXJ0aWVzLmdldChcImNhc3Qtc2hhZG93c1wiKX19Y29uc3QgQXc9bmV3IGdhKHtjb2xvcjpuZXcgZmEoUHQucHJvcGVydGllc19saWdodF9hbWJpZW50LmNvbG9yKSxpbnRlbnNpdHk6bmV3IGZhKFB0LnByb3BlcnRpZXNfbGlnaHRfYW1iaWVudC5pbnRlbnNpdHkpfSksU3c9bmV3IGdhKHtkaXJlY3Rpb246bmV3IGNsYXNze2NvbnN0cnVjdG9yKGUpe3RoaXMuc3BlY2lmaWNhdGlvbj1lO31wb3NzaWJseUV2YWx1YXRlKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKFtlLHRdKXtjb25zdCBpPUsoWzEsZSx0XSk7cmV0dXJuIHt4OmkueCx5OmkueSx6Omkuen19KGUuZXhwcmVzc2lvbi5ldmFsdWF0ZSh0KSl9aW50ZXJwb2xhdGUoZSx0LGkpe3JldHVybiB7eDpLcihlLngsdC54LGkpLHk6S3IoZS55LHQueSxpKSx6OktyKGUueix0LnosaSl9fX0oUHQucHJvcGVydGllc19saWdodF9kaXJlY3Rpb25hbC5kaXJlY3Rpb24pLGNvbG9yOm5ldyBmYShQdC5wcm9wZXJ0aWVzX2xpZ2h0X2RpcmVjdGlvbmFsLmNvbG9yKSxpbnRlbnNpdHk6bmV3IGZhKFB0LnByb3BlcnRpZXNfbGlnaHRfZGlyZWN0aW9uYWwuaW50ZW5zaXR5KSxcImNhc3Qtc2hhZG93c1wiOm5ldyBmYShQdC5wcm9wZXJ0aWVzX2xpZ2h0X2RpcmVjdGlvbmFsW1wiY2FzdC1zaGFkb3dzXCJdKSxcInNoYWRvdy1pbnRlbnNpdHlcIjpuZXcgZmEoUHQucHJvcGVydGllc19saWdodF9kaXJlY3Rpb25hbFtcInNoYWRvdy1pbnRlbnNpdHlcIl0pfSk7Y2xhc3MgSXd7Y29uc3RydWN0b3IoZSx0LGkscil7dGhpcy5zY3JlZW5Cb3VuZHM9ZSx0aGlzLmNhbWVyYVBvaW50PXQsdGhpcy5fc2NyZWVuUmF5Y2FzdENhY2hlPXt9LHRoaXMuX2NhbWVyYVJheWNhc3RDYWNoZT17fSx0aGlzLmlzQWJvdmVIb3Jpem9uPWksdGhpcy5zY3JlZW5HZW9tZXRyeT10aGlzLmJ1ZmZlcmVkU2NyZWVuR2VvbWV0cnkoMCksdGhpcy5zY3JlZW5HZW9tZXRyeU1lcmNhdG9yPXRoaXMuX2J1ZmZlcmVkU2NyZWVuTWVyY2F0b3IoMCxyKTt9c3RhdGljIGNyZWF0ZUZyb21TY3JlZW5Qb2ludHMoZSx0KXtsZXQgaSxyO2lmKGUgaW5zdGFuY2VvZiB5fHxcIm51bWJlclwiPT10eXBlb2YgZVswXSl7Y29uc3Qgbj15LmNvbnZlcnQoZSk7aT1bbl0scj10LmlzUG9pbnRBYm92ZUhvcml6b24obik7fWVsc2Uge2NvbnN0IG49eS5jb252ZXJ0KGVbMF0pLG89eS5jb252ZXJ0KGVbMV0pO2k9W24sb10scj1TKG4sbykuZXZlcnkoKGU9PnQuaXNQb2ludEFib3ZlSG9yaXpvbihlKSkpO31yZXR1cm4gbmV3IEl3KGksdC5nZXRDYW1lcmFQb2ludCgpLHIsdCl9aXNQb2ludFF1ZXJ5KCl7cmV0dXJuIDE9PT10aGlzLnNjcmVlbkJvdW5kcy5sZW5ndGh9YnVmZmVyZWRTY3JlZW5HZW9tZXRyeShlKXtyZXR1cm4gUyh0aGlzLnNjcmVlbkJvdW5kc1swXSwxPT09dGhpcy5zY3JlZW5Cb3VuZHMubGVuZ3RoP3RoaXMuc2NyZWVuQm91bmRzWzBdOnRoaXMuc2NyZWVuQm91bmRzWzFdLGUpfWJ1ZmZlcmVkQ2FtZXJhR2VvbWV0cnkoZSl7Y29uc3QgdD10aGlzLnNjcmVlbkJvdW5kc1swXSxpPTE9PT10aGlzLnNjcmVlbkJvdW5kcy5sZW5ndGg/dGhpcy5zY3JlZW5Cb3VuZHNbMF0uYWRkKG5ldyB5KDEsMSkpOnRoaXMuc2NyZWVuQm91bmRzWzFdLHI9Uyh0LGksMCwhMSk7cmV0dXJuIHRoaXMuY2FtZXJhUG9pbnQueT5pLnkmJih0aGlzLmNhbWVyYVBvaW50Lng+dC54JiZ0aGlzLmNhbWVyYVBvaW50Lng8aS54P3Iuc3BsaWNlKDMsMCx0aGlzLmNhbWVyYVBvaW50KTp0aGlzLmNhbWVyYVBvaW50Lng+PWkueD9yWzJdPXRoaXMuY2FtZXJhUG9pbnQ6dGhpcy5jYW1lcmFQb2ludC54PD10LngmJihyWzNdPXRoaXMuY2FtZXJhUG9pbnQpKSxmdW5jdGlvbihlLHQpe2NvbnN0IGk9W107Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspe2NvbnN0IG49RChyLTEsLTEsZS5sZW5ndGgtMSksbz1EKHIrMSwtMSxlLmxlbmd0aC0xKSxzPWVbcl0sYT1lW29dLGw9ZVtuXS5zdWIocykudW5pdCgpLGM9YS5zdWIocykudW5pdCgpLGg9Yy5hbmdsZVdpdGhTZXAobC54LGwueSksdT1sLmFkZChjKS51bml0KCkubXVsdCgtMSp0L01hdGguc2luKGgvMikpO2kucHVzaChzLmFkZCh1KSk7fXJldHVybiBpfShyLGUpfWJ1ZmZlcmVkQ2FtZXJhR2VvbWV0cnlHbG9iZShlKXtjb25zdCB0PXRoaXMuc2NyZWVuQm91bmRzWzBdLGk9MT09PXRoaXMuc2NyZWVuQm91bmRzLmxlbmd0aD90aGlzLnNjcmVlbkJvdW5kc1swXS5hZGQobmV3IHkoMSwxKSk6dGhpcy5zY3JlZW5Cb3VuZHNbMV0scj1TKHQsaSxlKSxuPXRoaXMuY2FtZXJhUG9pbnQuY2xvbmUoKTtzd2l0Y2goMyooKG4ueT50LnkpKyhuLnk+aS55KSkrKChuLng+dC54KSsobi54PmkueCkpKXtjYXNlIDA6clswXT1uLHJbNF09bi5jbG9uZSgpO2JyZWFrO2Nhc2UgMTpyLnNwbGljZSgxLDAsbik7YnJlYWs7Y2FzZSAyOnJbMV09bjticmVhaztjYXNlIDM6ci5zcGxpY2UoNCwwLG4pO2JyZWFrO2Nhc2UgNTpyLnNwbGljZSgyLDAsbik7YnJlYWs7Y2FzZSA2OnJbM109bjticmVhaztjYXNlIDc6ci5zcGxpY2UoMywwLG4pO2JyZWFrO2Nhc2UgODpyWzJdPW47fXJldHVybiByfWNvbnRhaW5zVGlsZShlLHQsaSxyPTApe2NvbnN0IG49ZS5xdWVyeVBhZGRpbmcvdC5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCsxLG89aT90aGlzLl9idWZmZXJlZENhbWVyYU1lcmNhdG9yKG4sdCk6dGhpcy5fYnVmZmVyZWRTY3JlZW5NZXJjYXRvcihuLHQpO2xldCBzPWUudGlsZUlELndyYXArKG8udW53cmFwcGVkP3I6MCk7Y29uc3QgYT1vLnBvbHlnb24ubWFwKCh0PT5SZyhlLnRpbGVUcmFuc2Zvcm0sdCxzKSkpO2lmKCFQcChhLDAsMCxjcixjcikpcmV0dXJuO3M9ZS50aWxlSUQud3JhcCsodGhpcy5zY3JlZW5HZW9tZXRyeU1lcmNhdG9yLnVud3JhcHBlZD9yOjApO2NvbnN0IGw9dGhpcy5zY3JlZW5HZW9tZXRyeU1lcmNhdG9yLnBvbHlnb24ubWFwKCh0PT5MZyhlLnRpbGVUcmFuc2Zvcm0sdCxzKSkpLGM9bC5tYXAoKGU9Pm5ldyB5KGVbMF0sZVsxXSkpKSxoPXQuZ2V0RnJlZUNhbWVyYU9wdGlvbnMoKS5wb3NpdGlvbnx8bmV3IGxwKDAsMCwwKSx1PUxnKGUudGlsZVRyYW5zZm9ybSxoLHMpLGQ9bC5tYXAoKGU9Pntjb25zdCB0PUR1LnN1YihlLGUsdSk7cmV0dXJuIER1Lm5vcm1hbGl6ZSh0LHQpLG5ldyBXdSh1LHQpfSkpLHA9cnYoZSwxLHQuem9vbSkqdC5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbDtyZXR1cm4ge3F1ZXJ5R2VvbWV0cnk6dGhpcyx0aWxlc3BhY2VHZW9tZXRyeTpjLHRpbGVzcGFjZVJheXM6ZCxidWZmZXJlZFRpbGVzcGFjZUdlb21ldHJ5OmEsYnVmZmVyZWRUaWxlc3BhY2VCb3VuZHM6KGY9QShhKSxmLm1pbi54PXooZi5taW4ueCwwLGNyKSxmLm1pbi55PXooZi5taW4ueSwwLGNyKSxmLm1heC54PXooZi5tYXgueCwwLGNyKSxmLm1heC55PXooZi5tYXgueSwwLGNyKSxmKSx0aWxlOmUsdGlsZUlEOmUudGlsZUlELHBpeGVsVG9UaWxlVW5pdHNGYWN0b3I6cH07dmFyIGY7fV9idWZmZXJlZFNjcmVlbk1lcmNhdG9yKGUsdCl7Y29uc3QgaT1QdyhlKTtpZih0aGlzLl9zY3JlZW5SYXljYXN0Q2FjaGVbaV0pcmV0dXJuIHRoaXMuX3NjcmVlblJheWNhc3RDYWNoZVtpXTt7bGV0IHI7cmV0dXJuIHI9XCJnbG9iZVwiPT09dC5wcm9qZWN0aW9uLm5hbWU/dGhpcy5fcHJvamVjdEFuZFJlc2FtcGxlKHRoaXMuYnVmZmVyZWRTY3JlZW5HZW9tZXRyeShlKSx0KTp7cG9seWdvbjp0aGlzLmJ1ZmZlcmVkU2NyZWVuR2VvbWV0cnkoZSkubWFwKChlPT50LnBvaW50Q29vcmRpbmF0ZTNEKGUpKSksdW53cmFwcGVkOiEwfSx0aGlzLl9zY3JlZW5SYXljYXN0Q2FjaGVbaV09cixyfX1fYnVmZmVyZWRDYW1lcmFNZXJjYXRvcihlLHQpe2NvbnN0IGk9UHcoZSk7aWYodGhpcy5fY2FtZXJhUmF5Y2FzdENhY2hlW2ldKXJldHVybiB0aGlzLl9jYW1lcmFSYXljYXN0Q2FjaGVbaV07e2xldCByO3JldHVybiByPVwiZ2xvYmVcIj09PXQucHJvamVjdGlvbi5uYW1lP3RoaXMuX3Byb2plY3RBbmRSZXNhbXBsZSh0aGlzLmJ1ZmZlcmVkQ2FtZXJhR2VvbWV0cnlHbG9iZShlKSx0KTp7cG9seWdvbjp0aGlzLmJ1ZmZlcmVkQ2FtZXJhR2VvbWV0cnkoZSkubWFwKChlPT50LnBvaW50Q29vcmRpbmF0ZTNEKGUpKSksdW53cmFwcGVkOiEwfSx0aGlzLl9jYW1lcmFSYXljYXN0Q2FjaGVbaV09cixyfX1fcHJvamVjdEFuZFJlc2FtcGxlKGUsdCl7Y29uc3QgaT1mdW5jdGlvbihlLHQpe2NvbnN0IGk9QXUubXVsdGlwbHkoW10sdC5waXhlbE1hdHJpeCx0Lmdsb2JlTWF0cml4KSxyPVswLC1yZCwwLDFdLG49WzAscmQsMCwxXSxvPVswLDAsMCwxXTt5dS50cmFuc2Zvcm1NYXQ0KHIscixpKSx5dS50cmFuc2Zvcm1NYXQ0KG4sbixpKSx5dS50cmFuc2Zvcm1NYXQ0KG8sbyxpKTtjb25zdCBzPW5ldyB5KHJbMF0vclszXSxyWzFdL3JbM10pLGE9bmV3IHkoblswXS9uWzNdLG5bMV0vblszXSksbD16cChlLHMpJiZyWzNdPG9bM10sYz16cChlLGEpJiZuWzNdPG9bM107aWYoIWwmJiFjKXJldHVybiBudWxsO2NvbnN0IGg9ZnVuY3Rpb24oZSx0LGkpe2ZvcihsZXQgcj0xO3I8ZS5sZW5ndGg7cisrKXtjb25zdCBuPXp3KHQucG9pbnRDb29yZGluYXRlM0QoZVtyLTFdKS54KSxvPXp3KHQucG9pbnRDb29yZGluYXRlM0QoZVtyXSkueCk7aWYoaTwwKXtpZihuPG8pcmV0dXJuIHtpZHg6cix0Oi1uLyhvLTEtbil9fWVsc2UgaWYobzxuKXJldHVybiB7aWR4OnIsdDooMS1uKS8obysxLW4pfX1yZXR1cm4gbnVsbH0oZSx0LGw/LTE6MSk7aWYoIWgpcmV0dXJuIG51bGw7Y29uc3R7aWR4OnUsdDpkfT1oO2xldCBwPXU+MT9DdyhlLnNsaWNlKDAsdSksdCk6W10sZj11PGUubGVuZ3RoP0N3KGUuc2xpY2UodSksdCk6W107cD1wLm1hcCgoZT0+bmV3IHkoencoZS54KSxlLnkpKSksZj1mLm1hcCgoZT0+bmV3IHkoencoZS54KSxlLnkpKSk7Y29uc3QgbT1bLi4ucF07MD09PW0ubGVuZ3RoJiZtLnB1c2goZltmLmxlbmd0aC0xXSk7Y29uc3QgXz1LcihtW20ubGVuZ3RoLTFdLnksKDA9PT1mLmxlbmd0aD9wWzBdOmZbMF0pLnksZCk7bGV0IGc7cmV0dXJuIGc9bD9bbmV3IHkoMCxfKSxuZXcgeSgwLDApLG5ldyB5KDEsMCksbmV3IHkoMSxfKV06W25ldyB5KDEsXyksbmV3IHkoMSwxKSxuZXcgeSgwLDEpLG5ldyB5KDAsXyldLG0ucHVzaCguLi5nKSwwPT09Zi5sZW5ndGg/bS5wdXNoKHBbMF0pOm0ucHVzaCguLi5mKSx7cG9seWdvbjptLm1hcCgoZT0+bmV3IGxwKGUueCxlLnkpKSksdW53cmFwcGVkOiExfX0oZSx0KTtpZihpKXJldHVybiBpO2NvbnN0IHI9ZnVuY3Rpb24oZSx0KXtsZXQgaT0hMSxyPS0xLzAsbj0wO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGgtMTt0KyspZVt0XS54PnImJihyPWVbdF0ueCxuPXQpO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGgtMTt0Kyspe2NvbnN0IHI9KG4rdCklKGUubGVuZ3RoLTEpLG89ZVtyXSxzPWVbcisxXTtNYXRoLmFicyhvLngtcy54KT4uNSYmKG8ueDxzLng/KG8ueCs9MSwwPT09ciYmKGVbZS5sZW5ndGgtMV0ueCs9MSkpOihzLngrPTEscisxPT09ZS5sZW5ndGgtMSYmKGVbMF0ueCs9MSkpLGk9ITApO31jb25zdCBvPUtkKHQuY2VudGVyLmxuZyk7cmV0dXJuIGkmJm88TWF0aC5hYnMoby0xKSYmZS5mb3JFYWNoKChlPT57ZS54LT0xO30pKSx7cG9seWdvbjplLHVud3JhcHBlZDppfX0oQ3coZSx0KS5tYXAoKGU9Pm5ldyB5KHp3KGUueCksZS55KSkpLHQpO3JldHVybiB7cG9seWdvbjpyLnBvbHlnb24ubWFwKChlPT5uZXcgbHAoZS54LGUueSkpKSx1bndyYXBwZWQ6ci51bndyYXBwZWR9fX1mdW5jdGlvbiBDdyhlLHQpe3JldHVybiBocChlLChlPT57Y29uc3QgaT10LnBvaW50Q29vcmRpbmF0ZTNEKGUpO2UueD1pLngsZS55PWkueTt9KSwxLzI1Nil9ZnVuY3Rpb24gencoZSl7cmV0dXJuIGU8MD8xK2UlMTplJTF9ZnVuY3Rpb24gUHcoZSl7cmV0dXJuIDEwMCplfDB9ZnVuY3Rpb24gRHcoZSx0LGkscixuKXtjb25zdCBvPWZ1bmN0aW9uKGkscil7aWYoaSlyZXR1cm4gbihpKTtpZihyKXtlLnVybCYmci50aWxlcyYmZS50aWxlcyYmZGVsZXRlIGUudGlsZXM7Y29uc3QgaT1PKGsocixlKSxbXCJ0aWxlc1wiLFwibWluem9vbVwiLFwibWF4em9vbVwiLFwiYXR0cmlidXRpb25cIixcIm1hcGJveF9sb2dvXCIsXCJib3VuZHNcIixcInNjaGVtZVwiLFwidGlsZVNpemVcIixcImVuY29kaW5nXCJdKTtyLnZlY3Rvcl9sYXllcnMmJihpLnZlY3RvckxheWVycz1yLnZlY3Rvcl9sYXllcnMsaS52ZWN0b3JMYXllcklkcz1pLnZlY3RvckxheWVycy5tYXAoKGU9PmUuaWQpKSksaS50aWxlcz10LmNhbm9uaWNhbGl6ZVRpbGVzZXQoaSxlLnVybCksbihudWxsLGkpO319O3JldHVybiBlLnVybD93ZSh0LnRyYW5zZm9ybVJlcXVlc3QodC5ub3JtYWxpemVTb3VyY2VVUkwoZS51cmwsbnVsbCxpLHIpLHllLlNvdXJjZSksbyk6ZHQuZnJhbWUoKCgpPT5vKG51bGwsZSkpKX1jbGFzcyBSd3tjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5ib3VuZHM9c2MuY29udmVydCh0aGlzLnZhbGlkYXRlQm91bmRzKGUpKSx0aGlzLm1pbnpvb209dHx8MCx0aGlzLm1heHpvb209aXx8MjQ7fXZhbGlkYXRlQm91bmRzKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpJiY0PT09ZS5sZW5ndGg/W01hdGgubWF4KC0xODAsZVswXSksTWF0aC5tYXgoLTkwLGVbMV0pLE1hdGgubWluKDE4MCxlWzJdKSxNYXRoLm1pbig5MCxlWzNdKV06Wy0xODAsLTkwLDE4MCw5MF19Y29udGFpbnMoZSl7Y29uc3QgdD1NYXRoLnBvdygyLGUueiksaT1NYXRoLmZsb29yKEtkKHRoaXMuYm91bmRzLmdldFdlc3QoKSkqdCkscj1NYXRoLmZsb29yKEpkKHRoaXMuYm91bmRzLmdldE5vcnRoKCkpKnQpLG49TWF0aC5jZWlsKEtkKHRoaXMuYm91bmRzLmdldEVhc3QoKSkqdCksbz1NYXRoLmNlaWwoSmQodGhpcy5ib3VuZHMuZ2V0U291dGgoKSkqdCk7cmV0dXJuIGUueD49aSYmZS54PG4mJmUueT49ciYmZS55PG99fWNsYXNzIEx3e2NvbnN0cnVjdG9yKGUsdCl7dGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PXQsdGhpcy5uZXh0Um93PTAsdGhpcy5pbWFnZT1uZXcgUXAoe3dpZHRoOmUsaGVpZ2h0OnR9KSx0aGlzLnBvc2l0aW9ucz17fSx0aGlzLnVwbG9hZGVkPSExO31nZXREYXNoKGUsdCl7Y29uc3QgaT10aGlzLmdldEtleShlLHQpO3JldHVybiB0aGlzLnBvc2l0aW9uc1tpXX10cmltKCl7Y29uc3QgZT10aGlzLndpZHRoLHQ9dGhpcy5oZWlnaHQ9VSh0aGlzLm5leHRSb3cpO3RoaXMuaW1hZ2UucmVzaXplKHt3aWR0aDplLGhlaWdodDp0fSk7fWdldEtleShlLHQpe3JldHVybiBlLmpvaW4oXCIsXCIpK3R9Z2V0RGFzaFJhbmdlcyhlLHQsaSl7Y29uc3Qgcj1bXTtsZXQgbj1lLmxlbmd0aCUyPT0xPy1lW2UubGVuZ3RoLTFdKmk6MCxvPWVbMF0qaSxzPSEwO3IucHVzaCh7bGVmdDpuLHJpZ2h0Om8saXNEYXNoOnMsemVyb0xlbmd0aDowPT09ZVswXX0pO2xldCBhPWVbMF07Zm9yKGxldCB0PTE7dDxlLmxlbmd0aDt0Kyspe3M9IXM7Y29uc3QgbD1lW3RdO249YSppLGErPWwsbz1hKmksci5wdXNoKHtsZWZ0Om4scmlnaHQ6byxpc0Rhc2g6cyx6ZXJvTGVuZ3RoOjA9PT1sfSk7fXJldHVybiByfWFkZFJvdW5kRGFzaChlLHQsaSl7Y29uc3Qgcj10LzI7Zm9yKGxldCB0PS1pO3Q8PWk7dCsrKXtjb25zdCBuPXRoaXMud2lkdGgqKHRoaXMubmV4dFJvdytpK3QpO2xldCBvPTAscz1lW29dO2ZvcihsZXQgYT0wO2E8dGhpcy53aWR0aDthKyspe2Evcy5yaWdodD4xJiYocz1lWysrb10pO2NvbnN0IGw9TWF0aC5hYnMoYS1zLmxlZnQpLGM9TWF0aC5hYnMoYS1zLnJpZ2h0KSxoPU1hdGgubWluKGwsYyk7bGV0IHU7Y29uc3QgZD10L2kqKHIrMSk7aWYocy5pc0Rhc2gpe2NvbnN0IGU9ci1NYXRoLmFicyhkKTt1PU1hdGguc3FydChoKmgrZSplKTt9ZWxzZSB1PXItTWF0aC5zcXJ0KGgqaCtkKmQpO3RoaXMuaW1hZ2UuZGF0YVtuK2FdPU1hdGgubWF4KDAsTWF0aC5taW4oMjU1LHUrMTI4KSk7fX19YWRkUmVndWxhckRhc2goZSx0KXtmb3IobGV0IHQ9ZS5sZW5ndGgtMTt0Pj0wOy0tdCl7Y29uc3QgaT1lW3RdLHI9ZVt0KzFdO2kuemVyb0xlbmd0aD9lLnNwbGljZSh0LDEpOnImJnIuaXNEYXNoPT09aS5pc0Rhc2gmJihyLmxlZnQ9aS5sZWZ0LGUuc3BsaWNlKHQsMSkpO31jb25zdCBpPWVbMF0scj1lW2UubGVuZ3RoLTFdO2kuaXNEYXNoPT09ci5pc0Rhc2gmJihpLmxlZnQ9ci5sZWZ0LXRoaXMud2lkdGgsci5yaWdodD1pLnJpZ2h0K3RoaXMud2lkdGgpO2NvbnN0IG49dGhpcy53aWR0aCp0aGlzLm5leHRSb3c7bGV0IG89MCxzPWVbb107Zm9yKGxldCBpPTA7aTx0aGlzLndpZHRoO2krKyl7aS9zLnJpZ2h0PjEmJihzPWVbKytvXSk7Y29uc3Qgcj1NYXRoLmFicyhpLXMubGVmdCksYT1NYXRoLmFicyhpLXMucmlnaHQpLGw9TWF0aC5taW4ocixhKTt0aGlzLmltYWdlLmRhdGFbbitpXT1NYXRoLm1heCgwLE1hdGgubWluKDI1NSwocy5pc0Rhc2g/bDotbCkrdCsxMjgpKTt9fWFkZERhc2goZSx0KXtjb25zdCBpPXRoaXMuZ2V0S2V5KGUsdCk7aWYodGhpcy5wb3NpdGlvbnNbaV0pcmV0dXJuIHRoaXMucG9zaXRpb25zW2ldO2NvbnN0IHI9XCJyb3VuZFwiPT09dCxuPXI/NzowLG89MipuKzE7aWYodGhpcy5uZXh0Um93K28+dGhpcy5oZWlnaHQpcmV0dXJuIEgoXCJMaW5lQXRsYXMgb3V0IG9mIHNwYWNlXCIpLG51bGw7MD09PWUubGVuZ3RoJiZlLnB1c2goMSk7bGV0IHM9MDtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyllW3RdPDAmJihIKFwiTmVnYXRpdmUgdmFsdWUgaXMgZm91bmQgaW4gbGluZSBkYXNoYXJyYXksIHJlcGxhY2luZyB2YWx1ZXMgd2l0aCAwXCIpLGVbdF09MCkscys9ZVt0XTtpZigwIT09cyl7Y29uc3QgaT10aGlzLndpZHRoL3Msbz10aGlzLmdldERhc2hSYW5nZXMoZSx0aGlzLndpZHRoLGkpO3I/dGhpcy5hZGRSb3VuZERhc2gobyxpLG4pOnRoaXMuYWRkUmVndWxhckRhc2gobyxcInNxdWFyZVwiPT09dD8uNSppOjApO31jb25zdCBhPXRoaXMubmV4dFJvdytuO3RoaXMubmV4dFJvdys9bztjb25zdCBsPXt0bDpbYSxuXSxicjpbcywwXX07cmV0dXJuIHRoaXMucG9zaXRpb25zW2ldPWwsbH19UnMoTHcsXCJMaW5lQXRsYXNcIik7Y29uc3Qga3c9MSpuZztjbGFzcyBPd3tjb25zdHJ1Y3RvcihlKXtjb25zdCB0PXt9LGk9W107Zm9yKGNvbnN0IHIgaW4gZSl7Y29uc3Qgbj1lW3JdLG89dFtyXT17fTtmb3IoY29uc3QgZSBpbiBuLmdseXBocyl7Y29uc3QgdD1uLmdseXBoc1srZV07aWYoIXR8fDA9PT10LmJpdG1hcC53aWR0aHx8MD09PXQuYml0bWFwLmhlaWdodCljb250aW51ZTtjb25zdCByPXQubWV0cmljcy5sb2NhbEdseXBoP2t3OjEscz17eDowLHk6MCx3OnQuYml0bWFwLndpZHRoKzIqcixoOnQuYml0bWFwLmhlaWdodCsyKnJ9O2kucHVzaChzKSxvW2VdPXM7fX1jb25zdHt3OnIsaDpufT1LXyhpKSxvPW5ldyBRcCh7d2lkdGg6cnx8MSxoZWlnaHQ6bnx8MX0pO2Zvcihjb25zdCBpIGluIGUpe2NvbnN0IHI9ZVtpXTtmb3IoY29uc3QgZSBpbiByLmdseXBocyl7Y29uc3Qgbj1yLmdseXBoc1srZV07aWYoIW58fDA9PT1uLmJpdG1hcC53aWR0aHx8MD09PW4uYml0bWFwLmhlaWdodCljb250aW51ZTtjb25zdCBzPXRbaV1bZV0sYT1uLm1ldHJpY3MubG9jYWxHbHlwaD9rdzoxO1FwLmNvcHkobi5iaXRtYXAsbyx7eDowLHk6MH0se3g6cy54K2EseTpzLnkrYX0sbi5iaXRtYXApO319dGhpcy5pbWFnZT1vLHRoaXMucG9zaXRpb25zPXQ7fX1ScyhPdyxcIkdseXBoQXRsYXNcIik7Y2xhc3MgQnd7Y29uc3RydWN0b3IoZSl7dGhpcy50aWxlSUQ9bmV3IHF1KGUudGlsZUlELm92ZXJzY2FsZWRaLGUudGlsZUlELndyYXAsZS50aWxlSUQuY2Fub25pY2FsLnosZS50aWxlSUQuY2Fub25pY2FsLngsZS50aWxlSUQuY2Fub25pY2FsLnkpLHRoaXMudGlsZVpvb209ZS50aWxlWm9vbSx0aGlzLnVpZD1lLnVpZCx0aGlzLnpvb209ZS56b29tLHRoaXMuY2Fub25pY2FsPWUudGlsZUlELmNhbm9uaWNhbCx0aGlzLnBpeGVsUmF0aW89ZS5waXhlbFJhdGlvLHRoaXMudGlsZVNpemU9ZS50aWxlU2l6ZSx0aGlzLnNvdXJjZT1lLnNvdXJjZSx0aGlzLnNjb3BlPWUuc2NvcGUsdGhpcy5vdmVyc2NhbGluZz10aGlzLnRpbGVJRC5vdmVyc2NhbGVGYWN0b3IoKSx0aGlzLnNob3dDb2xsaXNpb25Cb3hlcz1lLnNob3dDb2xsaXNpb25Cb3hlcyx0aGlzLmNvbGxlY3RSZXNvdXJjZVRpbWluZz0hIWUuY29sbGVjdFJlc291cmNlVGltaW5nLHRoaXMucHJvbW90ZUlkPWUucHJvbW90ZUlkLHRoaXMuaXNTeW1ib2xUaWxlPWUuaXNTeW1ib2xUaWxlLHRoaXMudGlsZVRyYW5zZm9ybT1QZyhlLnRpbGVJRC5jYW5vbmljYWwsZS5wcm9qZWN0aW9uKSx0aGlzLnByb2plY3Rpb249ZS5wcm9qZWN0aW9uLHRoaXMuYnJpZ2h0bmVzcz1lLmJyaWdodG5lc3MsdGhpcy5leHRyYVNoYWRvd0Nhc3Rlcj0hIWUuZXh0cmFTaGFkb3dDYXN0ZXI7fXBhcnNlKGUsdCxpLHIsbil7dGhpcy5zdGF0dXM9XCJwYXJzaW5nXCIsdGhpcy5kYXRhPWUsdGhpcy5jb2xsaXNpb25Cb3hBcnJheT1uZXcgYWw7Y29uc3Qgbz1uZXcgZG0oT2JqZWN0LmtleXMoZS5sYXllcnMpLnNvcnQoKSkscz1uZXcgUW0odGhpcy50aWxlSUQsdGhpcy5wcm9tb3RlSWQpO3MuYnVja2V0TGF5ZXJJRHM9W107Y29uc3QgYT17fSxsPW5ldyBMdygyNTYsMjU2KSxjPXtmZWF0dXJlSW5kZXg6cyxpY29uRGVwZW5kZW5jaWVzOnt9LHBhdHRlcm5EZXBlbmRlbmNpZXM6e30sZ2x5cGhEZXBlbmRlbmNpZXM6e30sbGluZUF0bGFzOmwsYXZhaWxhYmxlSW1hZ2VzOmksYnJpZ2h0bmVzczp0aGlzLmJyaWdodG5lc3N9LGg9dC5mYW1pbGllc0J5U291cmNlW3RoaXMuc291cmNlXTtmb3IoY29uc3QgdCBpbiBoKXtjb25zdCByPWUubGF5ZXJzW3RdO2lmKCFyKWNvbnRpbnVlO2xldCBuPSExLGw9ITEsdT0hMTtmb3IoY29uc3QgZSBvZiBoW3RdKVwic3ltYm9sXCI9PT1lWzBdLnR5cGU/bj0hMDpsPSEwLGVbMF0uaXMzRCgpJiZcIm1vZGVsXCIhPT1lWzBdLnR5cGUmJih1PSEwKTtpZih0aGlzLmV4dHJhU2hhZG93Q2FzdGVyJiYhdSljb250aW51ZTtpZighMD09PXRoaXMuaXNTeW1ib2xUaWxlJiYhbiljb250aW51ZTtpZighMT09PXRoaXMuaXNTeW1ib2xUaWxlJiYhbCljb250aW51ZTsxPT09ci52ZXJzaW9uJiZIKGBWZWN0b3IgdGlsZSBzb3VyY2UgXCIke3RoaXMuc291cmNlfVwiIGxheWVyIFwiJHt0fVwiIGRvZXMgbm90IHVzZSB2ZWN0b3IgdGlsZSBzcGVjIHYyIGFuZCB0aGVyZWZvcmUgbWF5IGhhdmUgc29tZSByZW5kZXJpbmcgZXJyb3JzLmApO2NvbnN0IGQ9by5lbmNvZGUodCkscD1bXTtmb3IobGV0IGU9MDtlPHIubGVuZ3RoO2UrKyl7Y29uc3QgaT1yLmZlYXR1cmUoZSksbj1zLmdldElkKGksdCk7cC5wdXNoKHtmZWF0dXJlOmksaWQ6bixpbmRleDplLHNvdXJjZUxheWVySW5kZXg6ZH0pO31mb3IoY29uc3QgZSBvZiBoW3RdKXtjb25zdCB0PWVbMF07KCF0aGlzLmV4dHJhU2hhZG93Q2FzdGVyfHx0LmlzM0QoKSYmXCJtb2RlbFwiIT09dC50eXBlKSYmKHZvaWQgMCE9PXRoaXMuaXNTeW1ib2xUaWxlJiZcInN5bWJvbFwiPT09dC50eXBlIT09dGhpcy5pc1N5bWJvbFRpbGV8fHQubWluem9vbSYmdGhpcy56b29tPE1hdGguZmxvb3IodC5taW56b29tKXx8dC5tYXh6b29tJiZ0aGlzLnpvb20+PXQubWF4em9vbXx8XCJub25lXCIhPT10LnZpc2liaWxpdHkmJihGdyhlLHRoaXMuem9vbSxjLmJyaWdodG5lc3MsaSksKGFbdC5pZF09dC5jcmVhdGVCdWNrZXQoe2luZGV4OnMuYnVja2V0TGF5ZXJJRHMubGVuZ3RoLGxheWVyczplLHpvb206dGhpcy56b29tLGNhbm9uaWNhbDp0aGlzLmNhbm9uaWNhbCxwaXhlbFJhdGlvOnRoaXMucGl4ZWxSYXRpbyxvdmVyc2NhbGluZzp0aGlzLm92ZXJzY2FsaW5nLGNvbGxpc2lvbkJveEFycmF5OnRoaXMuY29sbGlzaW9uQm94QXJyYXksc291cmNlTGF5ZXJJbmRleDpkLHNvdXJjZUlEOnRoaXMuc291cmNlLHByb2plY3Rpb246dGhpcy5wcm9qZWN0aW9uLnNwZWN9KSkucG9wdWxhdGUocCxjLHRoaXMudGlsZUlELmNhbm9uaWNhbCx0aGlzLnRpbGVUcmFuc2Zvcm0pLHMuYnVja2V0TGF5ZXJJRHMucHVzaChlLm1hcCgoZT0+ZS5pZCkpKSkpO319bGV0IHUsZCxwLGY7bC50cmltKCk7Y29uc3QgbT17dHlwZTpcIm1heWJlUHJlcGFyZVwiLGlzU3ltYm9sVGlsZTp0aGlzLmlzU3ltYm9sVGlsZSx6b29tOnRoaXMuem9vbX0sXz0oKT0+e2lmKHUpcmV0dXJuIHRoaXMuc3RhdHVzPVwiZG9uZVwiLG4odSk7aWYodGhpcy5leHRyYVNoYWRvd0Nhc3Rlcil0aGlzLnN0YXR1cz1cImRvbmVcIixuKG51bGwse2J1Y2tldHM6TChhKS5maWx0ZXIoKGU9PiFlLmlzRW1wdHkoKSkpLGZlYXR1cmVJbmRleDpzLGNvbGxpc2lvbkJveEFycmF5Om51bGwsZ2x5cGhBdGxhc0ltYWdlOm51bGwsbGluZUF0bGFzOm51bGwsaW1hZ2VBdGxhczpudWxsLGJyaWdodG5lc3M6Yy5icmlnaHRuZXNzLGdseXBoTWFwOm51bGwsaWNvbk1hcDpudWxsLGdseXBoUG9zaXRpb25zOm51bGx9KTtlbHNlIGlmKGQmJnAmJmYpe2NvbnN0IGU9bmV3IE93KGQpLHQ9bmV3IGVnKHAsZik7Zm9yKGNvbnN0IHIgaW4gYSl7Y29uc3Qgbj1hW3JdO24gaW5zdGFuY2VvZiBneT8oRncobi5sYXllcnMsdGhpcy56b29tLGMuYnJpZ2h0bmVzcyxpKSx2ZyhuLGQsZS5wb3NpdGlvbnMscCx0Lmljb25Qb3NpdGlvbnMsdGhpcy5zaG93Q29sbGlzaW9uQm94ZXMsaSx0aGlzLnRpbGVJRC5jYW5vbmljYWwsdGhpcy50aWxlWm9vbSx0aGlzLnByb2plY3Rpb24sdGhpcy5icmlnaHRuZXNzKSk6bi5oYXNQYXR0ZXJuJiYobiBpbnN0YW5jZW9mIEV5fHxuIGluc3RhbmNlb2YgamZ8fG4gaW5zdGFuY2VvZiB2YikmJihGdyhuLmxheWVycyx0aGlzLnpvb20sYy5icmlnaHRuZXNzLGkpLG4uYWRkRmVhdHVyZXMoYyx0aGlzLnRpbGVJRC5jYW5vbmljYWwsdC5wYXR0ZXJuUG9zaXRpb25zLGksdGhpcy50aWxlVHJhbnNmb3JtLHRoaXMuYnJpZ2h0bmVzcykpO310aGlzLnN0YXR1cz1cImRvbmVcIixuKG51bGwse2J1Y2tldHM6TChhKS5maWx0ZXIoKGU9PiFlLmlzRW1wdHkoKSkpLGZlYXR1cmVJbmRleDpzLGNvbGxpc2lvbkJveEFycmF5OnRoaXMuY29sbGlzaW9uQm94QXJyYXksZ2x5cGhBdGxhc0ltYWdlOmUuaW1hZ2UsbGluZUF0bGFzOmwsaW1hZ2VBdGxhczp0LGJyaWdodG5lc3M6Yy5icmlnaHRuZXNzfSk7fX07aWYoIXRoaXMuZXh0cmFTaGFkb3dDYXN0ZXIpe2NvbnN0IGU9cShjLmdseXBoRGVwZW5kZW5jaWVzLChlPT5PYmplY3Qua2V5cyhlKS5tYXAoTnVtYmVyKSkpO09iamVjdC5rZXlzKGUpLmxlbmd0aD9yLnNlbmQoXCJnZXRHbHlwaHNcIix7dWlkOnRoaXMudWlkLHN0YWNrczplLHNjb3BlOnRoaXMuc2NvcGV9LCgoZSx0KT0+e3V8fCh1PWUsZD10LF8oKSk7fSksdm9pZCAwLCExLG0pOmQ9e307Y29uc3QgdD1PYmplY3Qua2V5cyhjLmljb25EZXBlbmRlbmNpZXMpO3QubGVuZ3RoP3Iuc2VuZChcImdldEltYWdlc1wiLHtpY29uczp0LHNvdXJjZTp0aGlzLnNvdXJjZSxzY29wZTp0aGlzLnNjb3BlLHRpbGVJRDp0aGlzLnRpbGVJRCx0eXBlOlwiaWNvbnNcIn0sKChlLHQpPT57dXx8KHU9ZSxwPXQsXygpKTt9KSx2b2lkIDAsITEsbSk6cD17fTtjb25zdCBpPU9iamVjdC5rZXlzKGMucGF0dGVybkRlcGVuZGVuY2llcyk7aS5sZW5ndGg/ci5zZW5kKFwiZ2V0SW1hZ2VzXCIse2ljb25zOmksc291cmNlOnRoaXMuc291cmNlLHNjb3BlOnRoaXMuc2NvcGUsdGlsZUlEOnRoaXMudGlsZUlELHR5cGU6XCJwYXR0ZXJuc1wifSwoKGUsdCk9Pnt1fHwodT1lLGY9dCxfKCkpO30pLHZvaWQgMCwhMSxtKTpmPXt9O31fKCk7fX1mdW5jdGlvbiBGdyhlLHQsaSxyKXtjb25zdCBuPW5ldyBvYSh0LHticmlnaHRuZXNzOml9KTtmb3IoY29uc3QgdCBvZiBlKXQucmVjYWxjdWxhdGUobixyKTt9Y2xhc3MgTnd7Y29uc3RydWN0b3IoZSl7dGhpcy5lbnRyaWVzPXt9LHRoaXMuc2NoZWR1bGVyPWU7fXJlcXVlc3QoZSx0LGkscil7Y29uc3Qgbj10aGlzLmVudHJpZXNbZV09dGhpcy5lbnRyaWVzW2VdfHx7Y2FsbGJhY2tzOltdfTtpZihuLnJlc3VsdCl7Y29uc3RbZSxpXT1uLnJlc3VsdDtyZXR1cm4gdGhpcy5zY2hlZHVsZXI/dGhpcy5zY2hlZHVsZXIuYWRkKCgoKT0+e3IoZSxpKTt9KSx0KTpyKGUsaSksKCk9Pnt9fXJldHVybiBuLmNhbGxiYWNrcy5wdXNoKHIpLG4uY2FuY2VsfHwobi5jYW5jZWw9aSgoKGkscik9PntuLnJlc3VsdD1baSxyXTtmb3IoY29uc3QgZSBvZiBuLmNhbGxiYWNrcyl0aGlzLnNjaGVkdWxlcj90aGlzLnNjaGVkdWxlci5hZGQoKCgpPT57ZShpLHIpO30pLHQpOmUoaSxyKTtzZXRUaW1lb3V0KCgoKT0+ZGVsZXRlIHRoaXMuZW50cmllc1tlXSksM2UzKTt9KSkpLCgpPT57bi5yZXN1bHR8fChuLmNhbGxiYWNrcz1uLmNhbGxiYWNrcy5maWx0ZXIoKGU9PmUhPT1yKSksbi5jYWxsYmFja3MubGVuZ3RofHwobi5jYW5jZWwoKSxkZWxldGUgdGhpcy5lbnRyaWVzW2VdKSk7fX19ZnVuY3Rpb24gVXcoZSx0LGkpe2NvbnN0IHI9SlNPTi5zdHJpbmdpZnkoZS5yZXF1ZXN0KTtyZXR1cm4gZS5kYXRhJiYodGhpcy5kZWR1cGVkLmVudHJpZXNbcl09e3Jlc3VsdDpbbnVsbCxlLmRhdGFdfSksdGhpcy5kZWR1cGVkLnJlcXVlc3Qocix7dHlwZTpcInBhcnNlVGlsZVwiLGlzU3ltYm9sVGlsZTplLmlzU3ltYm9sVGlsZSx6b29tOmUudGlsZVpvb219LCh0PT57Y29uc3Qgcj1UZShlLnJlcXVlc3QsKChlLHIsbixvKT0+e2U/dChlKTpyJiZ0KG51bGwse3ZlY3RvclRpbGU6aT92b2lkIDA6bmV3IGNtKG5ldyBrbShyKSkscmF3RGF0YTpyLGNhY2hlQ29udHJvbDpuLGV4cGlyZXM6b30pO30pKTtyZXR1cm4gKCk9PntyLmNhbmNlbCgpLHQoKTt9fSksdCl9Y2xhc3MgVncgZXh0ZW5kcyB6dHtjb25zdHJ1Y3RvcihlLHQsaSxyKXtpZihzdXBlcigpLHRoaXMuaWQ9ZSx0aGlzLmRpc3BhdGNoZXI9aSx0aGlzLnR5cGU9XCJ2ZWN0b3JcIix0aGlzLm1pbnpvb209MCx0aGlzLm1heHpvb209MjIsdGhpcy5zY2hlbWU9XCJ4eXpcIix0aGlzLnRpbGVTaXplPTUxMix0aGlzLnJlcGFyc2VPdmVyc2NhbGVkPSEwLHRoaXMuaXNUaWxlQ2xpcHBlZD0hMCx0aGlzLl9sb2FkZWQ9ITEsayh0aGlzLE8odCxbXCJ1cmxcIixcInNjaGVtZVwiLFwidGlsZVNpemVcIixcInByb21vdGVJZFwiXSkpLHRoaXMuX29wdGlvbnM9ayh7dHlwZTpcInZlY3RvclwifSx0KSx0aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmc9ISF0LmNvbGxlY3RSZXNvdXJjZVRpbWluZyw1MTIhPT10aGlzLnRpbGVTaXplKXRocm93IG5ldyBFcnJvcihcInZlY3RvciB0aWxlIHNvdXJjZXMgbXVzdCBoYXZlIGEgdGlsZVNpemUgb2YgNTEyXCIpO3RoaXMuc2V0RXZlbnRlZFBhcmVudChyKSx0aGlzLl90aWxlV29ya2Vycz17fSx0aGlzLl9kZWR1cGVkPW5ldyBOdzt9bG9hZChlKXt0aGlzLl9sb2FkZWQ9ITEsdGhpcy5maXJlKG5ldyBJdChcImRhdGFsb2FkaW5nXCIse2RhdGFUeXBlOlwic291cmNlXCJ9KSk7Y29uc3QgdD1BcnJheS5pc0FycmF5KHRoaXMubWFwLl9sYW5ndWFnZSk/dGhpcy5tYXAuX2xhbmd1YWdlLmpvaW4oKTp0aGlzLm1hcC5fbGFuZ3VhZ2UsaT10aGlzLm1hcC5fd29ybGR2aWV3O3RoaXMuX3RpbGVKU09OUmVxdWVzdD1Edyh0aGlzLl9vcHRpb25zLHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlcix0LGksKChyLG4pPT57dGhpcy5fdGlsZUpTT05SZXF1ZXN0PW51bGwsdGhpcy5fbG9hZGVkPSEwLHI/KHQmJmNvbnNvbGUud2FybihgRW5zdXJlIHRoYXQgeW91ciByZXF1ZXN0ZWQgbGFuZ3VhZ2Ugc3RyaW5nIGlzIGEgdmFsaWQgQkNQLTQ3IGNvZGUgb3IgbGlzdCBvZiBjb2Rlcy4gRm91bmQ6ICR7dH1gKSxpJiYyIT09aS5sZW5ndGgmJmNvbnNvbGUud2FybihgUmVxdWVzdGVkIHdvcmxkdmlldyBzdHJpbmdzIG11c3QgYmUgYSB2YWxpZCBJU08gYWxwaGEtMiBjb2RlLiBGb3VuZDogJHtpfWApLHRoaXMuZmlyZShuZXcgQ3QocikpKTpuJiYoayh0aGlzLG4pLG4uYm91bmRzJiYodGhpcy50aWxlQm91bmRzPW5ldyBSdyhuLmJvdW5kcyx0aGlzLm1pbnpvb20sdGhpcy5tYXh6b29tKSksR2Uobi50aWxlcyx0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIuX2N1c3RvbUFjY2Vzc1Rva2VuKSx0aGlzLmZpcmUobmV3IEl0KFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwibWV0YWRhdGFcIn0pKSx0aGlzLmZpcmUobmV3IEl0KFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwiY29udGVudFwifSkpKSxlJiZlKHIpO30pKTt9bG9hZGVkKCl7cmV0dXJuIHRoaXMuX2xvYWRlZH1oYXNUaWxlKGUpe3JldHVybiAhdGhpcy50aWxlQm91bmRzfHx0aGlzLnRpbGVCb3VuZHMuY29udGFpbnMoZS5jYW5vbmljYWwpfW9uQWRkKGUpe3RoaXMubWFwPWUsdGhpcy5sb2FkKCk7fXJlbG9hZCgpe3RoaXMuY2FuY2VsVGlsZUpTT05SZXF1ZXN0KCk7Y29uc3QgZT12YSh0aGlzLmlkLHRoaXMuc2NvcGUpO3RoaXMubG9hZCgoKCk9PnRoaXMubWFwLnN0eWxlLmNsZWFyU291cmNlKGUpKSk7fXNldFRpbGVzKGUpe3JldHVybiB0aGlzLl9vcHRpb25zLnRpbGVzPWUsdGhpcy5yZWxvYWQoKSx0aGlzfXNldFVybChlKXtyZXR1cm4gdGhpcy51cmw9ZSx0aGlzLl9vcHRpb25zLnVybD1lLHRoaXMucmVsb2FkKCksdGhpc31vblJlbW92ZSgpe3RoaXMuY2FuY2VsVGlsZUpTT05SZXF1ZXN0KCk7fXNlcmlhbGl6ZSgpe3JldHVybiBrKHt9LHRoaXMuX29wdGlvbnMpfWxvYWRUaWxlKGUsdCl7Y29uc3QgaT10aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIubm9ybWFsaXplVGlsZVVSTChlLnRpbGVJRC5jYW5vbmljYWwudXJsKHRoaXMudGlsZXMsdGhpcy5zY2hlbWUpKSxyPXtyZXF1ZXN0OnRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KGkseWUuVGlsZSksZGF0YTp2b2lkIDAsdWlkOmUudWlkLHRpbGVJRDplLnRpbGVJRCx0aWxlWm9vbTplLnRpbGVab29tLHpvb206ZS50aWxlSUQub3ZlcnNjYWxlZFosdGlsZVNpemU6dGhpcy50aWxlU2l6ZSplLnRpbGVJRC5vdmVyc2NhbGVGYWN0b3IoKSx0eXBlOnRoaXMudHlwZSxzb3VyY2U6dGhpcy5pZCxzY29wZTp0aGlzLnNjb3BlLHBpeGVsUmF0aW86ZHQuZGV2aWNlUGl4ZWxSYXRpbyxzaG93Q29sbGlzaW9uQm94ZXM6dGhpcy5tYXAuc2hvd0NvbGxpc2lvbkJveGVzLHByb21vdGVJZDp0aGlzLnByb21vdGVJZCxpc1N5bWJvbFRpbGU6ZS5pc1N5bWJvbFRpbGUsYnJpZ2h0bmVzczp0aGlzLm1hcC5zdHlsZSYmdGhpcy5tYXAuc3R5bGUuZ2V0QnJpZ2h0bmVzcygpfHwwLGV4dHJhU2hhZG93Q2FzdGVyOmUuaXNFeHRyYVNoYWRvd0Nhc3Rlcn07aWYoci5yZXF1ZXN0LmNvbGxlY3RSZXNvdXJjZVRpbWluZz10aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmcsZS5hY3RvciYmXCJleHBpcmVkXCIhPT1lLnN0YXRlKVwibG9hZGluZ1wiPT09ZS5zdGF0ZT9lLnJlbG9hZENhbGxiYWNrPXQ6ZS5yZXF1ZXN0PWUuYWN0b3Iuc2VuZChcInJlbG9hZFRpbGVcIixyLG4uYmluZCh0aGlzKSk7ZWxzZSBpZihlLmFjdG9yPXRoaXMuX3RpbGVXb3JrZXJzW2ldPXRoaXMuX3RpbGVXb3JrZXJzW2ldfHx0aGlzLmRpc3BhdGNoZXIuZ2V0QWN0b3IoKSx0aGlzLmRpc3BhdGNoZXIucmVhZHkpZS5yZXF1ZXN0PWUuYWN0b3Iuc2VuZChcImxvYWRUaWxlXCIscixuLmJpbmQodGhpcyksdm9pZCAwLCEwKTtlbHNlIHtjb25zdCB0PVV3LmNhbGwoe2RlZHVwZWQ6dGhpcy5fZGVkdXBlZH0sciwoKHQsaSk9Pnt0fHwhaT9uLmNhbGwodGhpcyx0KTooci5kYXRhPXtjYWNoZUNvbnRyb2w6aS5jYWNoZUNvbnRyb2wsZXhwaXJlczppLmV4cGlyZXMscmF3RGF0YTppLnJhd0RhdGEuc2xpY2UoMCl9LGUuYWN0b3ImJmUuYWN0b3Iuc2VuZChcImxvYWRUaWxlXCIscixuLmJpbmQodGhpcyksdm9pZCAwLCEwKSk7fSksITApO2UucmVxdWVzdD17Y2FuY2VsOnR9O31mdW5jdGlvbiBuKGkscil7cmV0dXJuIGRlbGV0ZSBlLnJlcXVlc3QsZS5hYm9ydGVkP3QobnVsbCk6aSYmNDA0IT09aS5zdGF0dXM/dChpKToociYmci5yZXNvdXJjZVRpbWluZyYmKGUucmVzb3VyY2VUaW1pbmc9ci5yZXNvdXJjZVRpbWluZyksdGhpcy5tYXAuX3JlZnJlc2hFeHBpcmVkVGlsZXMmJnImJmUuc2V0RXhwaXJ5RGF0YShyKSxlLmxvYWRWZWN0b3JEYXRhKHIsdGhpcy5tYXAucGFpbnRlciksZ2UodGhpcy5kaXNwYXRjaGVyKSx0KG51bGwpLHZvaWQoZS5yZWxvYWRDYWxsYmFjayYmKHRoaXMubG9hZFRpbGUoZSxlLnJlbG9hZENhbGxiYWNrKSxlLnJlbG9hZENhbGxiYWNrPW51bGwpKSl9fWFib3J0VGlsZShlKXtlLnJlcXVlc3QmJihlLnJlcXVlc3QuY2FuY2VsKCksZGVsZXRlIGUucmVxdWVzdCksZS5hY3RvciYmZS5hY3Rvci5zZW5kKFwiYWJvcnRUaWxlXCIse3VpZDplLnVpZCx0eXBlOnRoaXMudHlwZSxzb3VyY2U6dGhpcy5pZCxzY29wZTp0aGlzLnNjb3BlfSk7fXVubG9hZFRpbGUoZSl7ZS5hY3RvciYmZS5hY3Rvci5zZW5kKFwicmVtb3ZlVGlsZVwiLHt1aWQ6ZS51aWQsdHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuaWQsc2NvcGU6dGhpcy5zY29wZX0pLGUuZGVzdHJveSgpO31oYXNUcmFuc2l0aW9uKCl7cmV0dXJuICExfWFmdGVyVXBkYXRlKCl7dGhpcy5fdGlsZVdvcmtlcnM9e307fWNhbmNlbFRpbGVKU09OUmVxdWVzdCgpe3RoaXMuX3RpbGVKU09OUmVxdWVzdCYmKHRoaXMuX3RpbGVKU09OUmVxdWVzdC5jYW5jZWwoKSx0aGlzLl90aWxlSlNPTlJlcXVlc3Q9bnVsbCk7fX1jbGFzcyBqdyBleHRlbmRzIHp0e2NvbnN0cnVjdG9yKGUsdCxpLHIpe3N1cGVyKCksdGhpcy5pZD1lLHRoaXMuZGlzcGF0Y2hlcj1pLHRoaXMuc2V0RXZlbnRlZFBhcmVudChyKSx0aGlzLnR5cGU9XCJyYXN0ZXJcIix0aGlzLm1pbnpvb209MCx0aGlzLm1heHpvb209MjIsdGhpcy5yb3VuZFpvb209ITAsdGhpcy5zY2hlbWU9XCJ4eXpcIix0aGlzLnRpbGVTaXplPTUxMix0aGlzLl9sb2FkZWQ9ITEsdGhpcy5fb3B0aW9ucz1rKHt0eXBlOlwicmFzdGVyXCJ9LHQpLGsodGhpcyxPKHQsW1widXJsXCIsXCJzY2hlbWVcIixcInRpbGVTaXplXCJdKSk7fWxvYWQoZSl7dGhpcy5fbG9hZGVkPSExLHRoaXMuZmlyZShuZXcgSXQoXCJkYXRhbG9hZGluZ1wiLHtkYXRhVHlwZTpcInNvdXJjZVwifSkpLHRoaXMuX3RpbGVKU09OUmVxdWVzdD1Edyh0aGlzLl9vcHRpb25zLHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlcixudWxsLG51bGwsKCh0LGkpPT57dGhpcy5fdGlsZUpTT05SZXF1ZXN0PW51bGwsdGhpcy5fbG9hZGVkPSEwLHQ/dGhpcy5maXJlKG5ldyBDdCh0KSk6aSYmKGsodGhpcyxpKSxpLmJvdW5kcyYmKHRoaXMudGlsZUJvdW5kcz1uZXcgUncoaS5ib3VuZHMsdGhpcy5taW56b29tLHRoaXMubWF4em9vbSkpLEdlKGkudGlsZXMpLHRoaXMuZmlyZShuZXcgSXQoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJtZXRhZGF0YVwifSkpLHRoaXMuZmlyZShuZXcgSXQoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJjb250ZW50XCJ9KSkpLGUmJmUodCk7fSkpO31sb2FkZWQoKXtyZXR1cm4gdGhpcy5fbG9hZGVkfW9uQWRkKGUpe3RoaXMubWFwPWUsdGhpcy5sb2FkKCk7fXJlbG9hZCgpe3RoaXMuY2FuY2VsVGlsZUpTT05SZXF1ZXN0KCk7Y29uc3QgZT12YSh0aGlzLmlkLHRoaXMuc2NvcGUpO3RoaXMubG9hZCgoKCk9PnRoaXMubWFwLnN0eWxlLmNsZWFyU291cmNlKGUpKSk7fXNldFRpbGVzKGUpe3JldHVybiB0aGlzLl9vcHRpb25zLnRpbGVzPWUsdGhpcy5yZWxvYWQoKSx0aGlzfXNldFVybChlKXtyZXR1cm4gdGhpcy51cmw9ZSx0aGlzLl9vcHRpb25zLnVybD1lLHRoaXMucmVsb2FkKCksdGhpc31vblJlbW92ZSgpe3RoaXMuY2FuY2VsVGlsZUpTT05SZXF1ZXN0KCk7fXNlcmlhbGl6ZSgpe3JldHVybiBrKHt9LHRoaXMuX29wdGlvbnMpfWhhc1RpbGUoZSl7cmV0dXJuICF0aGlzLnRpbGVCb3VuZHN8fHRoaXMudGlsZUJvdW5kcy5jb250YWlucyhlLmNhbm9uaWNhbCl9bG9hZFRpbGUoZSx0KXtjb25zdCBpPWR0LmRldmljZVBpeGVsUmF0aW8+PTIscj10aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIubm9ybWFsaXplVGlsZVVSTChlLnRpbGVJRC5jYW5vbmljYWwudXJsKHRoaXMudGlsZXMsdGhpcy5zY2hlbWUpLGksdGhpcy50aWxlU2l6ZSk7ZS5yZXF1ZXN0PUllKHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KHIseWUuVGlsZSksKChpLHIsbixvKT0+KGRlbGV0ZSBlLnJlcXVlc3QsZS5hYm9ydGVkPyhlLnN0YXRlPVwidW5sb2FkZWRcIix0KG51bGwpKTppPyhlLnN0YXRlPVwiZXJyb3JlZFwiLHQoaSkpOnI/KHRoaXMubWFwLl9yZWZyZXNoRXhwaXJlZFRpbGVzJiZlLnNldEV4cGlyeURhdGEoe2NhY2hlQ29udHJvbDpuLGV4cGlyZXM6b30pLGUuc2V0VGV4dHVyZShyLHRoaXMubWFwLnBhaW50ZXIpLGUuc3RhdGU9XCJsb2FkZWRcIixnZSh0aGlzLmRpc3BhdGNoZXIpLHZvaWQgdChudWxsKSk6dChudWxsKSkpKTt9YWJvcnRUaWxlKGUsdCl7ZS5yZXF1ZXN0JiYoZS5yZXF1ZXN0LmNhbmNlbCgpLGRlbGV0ZSBlLnJlcXVlc3QpLHQoKTt9dW5sb2FkVGlsZShlLHQpe2UudGV4dHVyZSYmZS50ZXh0dXJlIGluc3RhbmNlb2YgTXk/KGUuZGVzdHJveSghMCksZS50ZXh0dXJlJiZlLnRleHR1cmUgaW5zdGFuY2VvZiBNeSYmdGhpcy5tYXAucGFpbnRlci5zYXZlVGlsZVRleHR1cmUoZS50ZXh0dXJlKSk6ZS5kZXN0cm95KCksdCgpO31oYXNUcmFuc2l0aW9uKCl7cmV0dXJuICExfWNhbmNlbFRpbGVKU09OUmVxdWVzdCgpe3RoaXMuX3RpbGVKU09OUmVxdWVzdCYmKHRoaXMuX3RpbGVKU09OUmVxdWVzdC5jYW5jZWwoKSx0aGlzLl90aWxlSlNPTlJlcXVlc3Q9bnVsbCk7fX1mdW5jdGlvbiBHdygpe3JldHVybiBudWxsIT14SS53b3JrZXJDbGFzcz9uZXcgeEkud29ya2VyQ2xhc3M6bmV3IHQuV29ya2VyKHhJLndvcmtlclVybCl9Y29uc3QgcXc9XCJtYXBib3hnbF9wcmVsb2FkZWRfd29ya2VyX3Bvb2xcIjtjbGFzcyBad3tjb25zdHJ1Y3Rvcigpe3RoaXMuYWN0aXZlPXt9O31hY3F1aXJlKGUpe2lmKCF0aGlzLndvcmtlcnMpZm9yKHRoaXMud29ya2Vycz1bXTt0aGlzLndvcmtlcnMubGVuZ3RoPFp3LndvcmtlckNvdW50Oyl0aGlzLndvcmtlcnMucHVzaChuZXcgR3cpO3JldHVybiB0aGlzLmFjdGl2ZVtlXT0hMCx0aGlzLndvcmtlcnMuc2xpY2UoKX1yZWxlYXNlKGUpe2RlbGV0ZSB0aGlzLmFjdGl2ZVtlXSx0aGlzLndvcmtlcnMmJjA9PT10aGlzLm51bUFjdGl2ZSgpJiYodGhpcy53b3JrZXJzLmZvckVhY2goKGU9PntlLnRlcm1pbmF0ZSgpO30pKSx0aGlzLndvcmtlcnM9bnVsbCk7fWlzUHJlbG9hZGVkKCl7cmV0dXJuICEhdGhpcy5hY3RpdmVbcXddfW51bUFjdGl2ZSgpe3JldHVybiBPYmplY3Qua2V5cyh0aGlzLmFjdGl2ZSkubGVuZ3RofX1sZXQgJHc7ZnVuY3Rpb24gV3coKXtyZXR1cm4gJHd8fCgkdz1uZXcgWncpLCR3fVp3LndvcmtlckNvdW50PTI7bGV0IEh3LFh3LFl3LEt3PW51bGw7ZnVuY3Rpb24gSncoKXtyZXR1cm4gUSgpJiZzZWxmLndvcmtlciYmc2VsZi53b3JrZXIuZHJhY29Vcmw/c2VsZi53b3JrZXIuZHJhY29Vcmw6WHd8fG4uRFJBQ09fVVJMfWNvbnN0IFF3PTUxMjMsZVQ9NTEyNix0VD17NTEyMDpJbnQ4QXJyYXksNTEyMTpVaW50OEFycmF5LDUxMjI6SW50MTZBcnJheSxbUXddOlVpbnQxNkFycmF5LDUxMjU6VWludDMyQXJyYXksW2VUXTpGbG9hdDMyQXJyYXl9LGlUPXs1MTIwOlwiRFRfSU5UOFwiLDUxMjE6XCJEVF9VSU5UOFwiLDUxMjI6XCJEVF9JTlQxNlwiLFtRd106XCJEVF9VSU5UMTZcIiw1MTI1OlwiRFRfVUlOVDMyXCIsW2VUXTpcIkRUX0ZMT0FUMzJcIn0sclQ9e1NDQUxBUjoxLFZFQzI6MixWRUMzOjMsVkVDNDo0LE1BVDI6NCxNQVQzOjksTUFUNDoxNn07ZnVuY3Rpb24gblQoZSx0LGkpe2NvbnN0IHI9aS5qc29uLmJ1ZmZlclZpZXdzLmxlbmd0aCxuPWkuYnVmZmVycy5sZW5ndGg7dC5idWZmZXJWaWV3PXIsaS5qc29uLmJ1ZmZlclZpZXdzW3JdPXtidWZmZXI6bixieXRlTGVuZ3RoOmUuYnl0ZUxlbmd0aH0saS5idWZmZXJzW25dPWU7fWNvbnN0IG9UPVwiS0hSX2RyYWNvX21lc2hfY29tcHJlc3Npb25cIjtmdW5jdGlvbiBzVChlLHQpe2NvbnN0IGk9ZS5leHRlbnNpb25zJiZlLmV4dGVuc2lvbnNbb1RdO2lmKCFpKXJldHVybjtjb25zdCByPW5ldyBZdy5EZWNvZGVyLG49dVQodCxpLmJ1ZmZlclZpZXcpLG89bmV3IFl3Lk1lc2g7aWYoIXIuRGVjb2RlQXJyYXlUb01lc2gobixuLmJ5dGVMZW5ndGgsbykpdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGRlY29kZSBEcmFjbyBtZXNoXCIpO2NvbnN0IHM9dC5qc29uLmFjY2Vzc29yc1tlLmluZGljZXNdLGE9dFRbcy5jb21wb25lbnRUeXBlXSxsPXMuY291bnQqYS5CWVRFU19QRVJfRUxFTUVOVCxjPVl3Ll9tYWxsb2MobCk7YT09PVVpbnQxNkFycmF5P3IuR2V0VHJpYW5nbGVzVUludDE2QXJyYXkobyxsLGMpOnIuR2V0VHJpYW5nbGVzVUludDMyQXJyYXkobyxsLGMpLG5UKFl3Lm1lbW9yeS5idWZmZXIuc2xpY2UoYyxjK2wpLHMsdCksWXcuX2ZyZWUoYyk7Zm9yKGNvbnN0IG4gb2YgT2JqZWN0LmtleXMoaS5hdHRyaWJ1dGVzKSl7Y29uc3Qgcz1yLkdldEF0dHJpYnV0ZUJ5VW5pcXVlSWQobyxpLmF0dHJpYnV0ZXNbbl0pLGE9dC5qc29uLmFjY2Vzc29yc1tlLmF0dHJpYnV0ZXNbbl1dLGw9aVRbYS5jb21wb25lbnRUeXBlXSxjPWEuY291bnQqclRbYS50eXBlXSp0VFthLmNvbXBvbmVudFR5cGVdLkJZVEVTX1BFUl9FTEVNRU5ULGg9WXcuX21hbGxvYyhjKTtyLkdldEF0dHJpYnV0ZURhdGFBcnJheUZvckFsbFBvaW50cyhvLHMsWXdbbF0sYyxoKSxuVChZdy5tZW1vcnkuYnVmZmVyLnNsaWNlKGgsaCtjKSxhLHQpLFl3Ll9mcmVlKGgpO31yLmRlc3Ryb3koKSxvLmRlc3Ryb3koKSxkZWxldGUgZS5leHRlbnNpb25zW29UXTt9Y29uc3QgYVQ9MTE3OTkzNzg5NSxsVD1uZXcgVGV4dERlY29kZXIoXCJ1dGY4XCIpO2Z1bmN0aW9uIGNUKGUsdCl7cmV0dXJuIG5ldyBVUkwoZSx0KS5ocmVmfWZ1bmN0aW9uIGhUKGUsdCxpLHIpe3JldHVybiBmZXRjaChjVChlLnVyaSxyKSkudGhlbigoZT0+ZS5hcnJheUJ1ZmZlcigpKSkudGhlbigoZT0+e3QuYnVmZmVyc1tpXT1lO30pKX1mdW5jdGlvbiB1VChlLHQpe2NvbnN0IGk9ZS5qc29uLmJ1ZmZlclZpZXdzW3RdO3JldHVybiBuZXcgVWludDhBcnJheShlLmJ1ZmZlcnNbaS5idWZmZXJdLGkuYnl0ZU9mZnNldHx8MCxpLmJ5dGVMZW5ndGgpfWZ1bmN0aW9uIGRUKGUsaSxyLG4pe2lmKGUudXJpKXtjb25zdCBvPWNUKGUudXJpLG4pO3JldHVybiBmZXRjaChvKS50aGVuKChlPT5lLmJsb2IoKSkpLnRoZW4oKGU9PnQuY3JlYXRlSW1hZ2VCaXRtYXAoZSkpKS50aGVuKChlPT57aS5pbWFnZXNbcl09ZTt9KSl9aWYodm9pZCAwIT09ZS5idWZmZXJWaWV3KXtjb25zdCBuPXVUKGksZS5idWZmZXJWaWV3KSxvPW5ldyB0LkJsb2IoW25dLHt0eXBlOmUubWltZVR5cGV9KTtyZXR1cm4gdC5jcmVhdGVJbWFnZUJpdG1hcChvKS50aGVuKChlPT57aS5pbWFnZXNbcl09ZTt9KSl9fWZ1bmN0aW9uIHBUKGUsdD0wLGkpe2NvbnN0IHI9e2pzb246bnVsbCxpbWFnZXM6W10sYnVmZmVyczpbXX07aWYobmV3IFVpbnQzMkFycmF5KGUsdCwxKVswXT09PWFUKXtjb25zdCBpPW5ldyBVaW50MzJBcnJheShlLHQpO2xldCBuPTI7Y29uc3Qgbz0oaVtuKytdPj4yKS0zLHM9aVtuKytdPj4yO2lmKG4rKyxyLmpzb249SlNPTi5wYXJzZShsVC5kZWNvZGUoaS5zdWJhcnJheShuLG4rcykpKSxuKz1zLG48byl7Y29uc3Qgbz1pW24rK107bisrO2NvbnN0IHM9dCsobjw8Mik7ci5idWZmZXJzWzBdPWUuc2xpY2UocyxzK28pO319ZWxzZSByLmpzb249SlNPTi5wYXJzZShsVC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoZSx0KSkpO2NvbnN0e2J1ZmZlcnM6bixpbWFnZXM6byxtZXNoZXM6cyxleHRlbnNpb25zVXNlZDphfT1yLmpzb247bGV0IGw9UHJvbWlzZS5yZXNvbHZlKCk7aWYobil7Y29uc3QgZT1bXTtmb3IobGV0IHQ9MDt0PG4ubGVuZ3RoO3QrKyl7Y29uc3Qgbz1uW3RdO28udXJpP2UucHVzaChoVChvLHIsdCxpKSk6ci5idWZmZXJzW3RdfHwoci5idWZmZXJzW3RdPW51bGwpO31sPVByb21pc2UuYWxsKGUpO31yZXR1cm4gbC50aGVuKCgoKT0+e2NvbnN0IGU9W10sdD1hJiZhLmluY2x1ZGVzKG9UKTtpZih0JiZlLnB1c2goZnVuY3Rpb24oKXtpZighWXcpcmV0dXJuIEh3fHwoSHc9ZnVuY3Rpb24oZSl7bGV0IHQsaT1udWxsO2Z1bmN0aW9uIHIoKXt0PW5ldyBVaW50OEFycmF5KGkuYnVmZmVyKTt9ZnVuY3Rpb24gbigpe3Rocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgRHJhY28gZXJyb3IuXCIpfWNvbnN0IG89e2E6e2E6bixkOmZ1bmN0aW9uKGUsaSxyKXtyZXR1cm4gdC5jb3B5V2l0aGluKGUsaSxpK3IpfSxjOmZ1bmN0aW9uKGUpe2NvbnN0IG49dC5sZW5ndGgsbz1NYXRoLm1heChlPj4+MCxNYXRoLmNlaWwoMS4yKm4pKSxzPU1hdGguY2VpbCgoby1uKS82NTUzNik7dHJ5e3JldHVybiBpLmdyb3cocykscigpLCEwfWNhdGNoKGUpe3JldHVybiAhMX19LGI6bn19O3JldHVybiAoV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmc/V2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmcoZSxvKTplLnRoZW4oKGU9PmUuYXJyYXlCdWZmZXIoKSkpLnRoZW4oKGU9PldlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKGUsbykpKSkudGhlbigoZT0+e2NvbnN0e1JiOm4sUWI6byxQOnMsVDphLFg6bCxKYTpjLExhOmgsUWE6dSxWYTpkLFdhOnAsZWI6ZixqYjptLGY6XyxlOmcseWI6eSx6Yjp4LEFiOnYsQmI6YixEYjp3LEdiOlR9PWUuaW5zdGFuY2UuZXhwb3J0cztpPWc7Y29uc3QgRT0oKCk9PntsZXQgZT0wLGk9MCxyPTAscz0wO3JldHVybiBhPT57ciYmKG4ocyksbihlKSxpKz1yLHI9ZT0wKSxlfHwoaSs9MTI4LGU9byhpKSk7Y29uc3QgbD1hLmxlbmd0aCs3Ji04O2xldCBjPWU7bD49aSYmKHI9bCxjPXM9byhsKSk7Zm9yKGxldCBlPTA7ZTxhLmxlbmd0aDtlKyspdFtjK2VdPWFbZV07cmV0dXJuIGN9fSkoKTtyZXR1cm4gcigpLF8oKSx7bWVtb3J5OmcsX2ZyZWU6bixfbWFsbG9jOm8sTWVzaDpjbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMucHRyPXMoKTt9ZGVzdHJveSgpe2EodGhpcy5wdHIpO319LERlY29kZXI6Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLnB0cj1jKCk7fWRlc3Ryb3koKXttKHRoaXMucHRyKTt9RGVjb2RlQXJyYXlUb01lc2goZSx0LGkpe2NvbnN0IHI9RShlKSxuPWgodGhpcy5wdHIscix0LGkucHRyKTtyZXR1cm4gISFsKG4pfUdldEF0dHJpYnV0ZUJ5VW5pcXVlSWQoZSx0KXtyZXR1cm4ge3B0cjp1KHRoaXMucHRyLGUucHRyLHQpfX1HZXRUcmlhbmdsZXNVSW50MTZBcnJheShlLHQsaSl7ZCh0aGlzLnB0cixlLnB0cix0LGkpO31HZXRUcmlhbmdsZXNVSW50MzJBcnJheShlLHQsaSl7cCh0aGlzLnB0cixlLnB0cix0LGkpO31HZXRBdHRyaWJ1dGVEYXRhQXJyYXlGb3JBbGxQb2ludHMoZSx0LGkscixuKXtmKHRoaXMucHRyLGUucHRyLHQucHRyLGkscixuKTt9fSxEVF9JTlQ4OnkoKSxEVF9VSU5UODp4KCksRFRfSU5UMTY6digpLERUX1VJTlQxNjpiKCksRFRfVUlOVDMyOncoKSxEVF9GTE9BVDMyOlQoKX19KSl9KGZldGNoKEp3KCkpKSxIdy50aGVuKChlPT57WXc9ZSxIdz12b2lkIDA7fSkpKX0oKSksbylmb3IobGV0IHQ9MDt0PG8ubGVuZ3RoO3QrKyllLnB1c2goZFQob1t0XSxyLHQsaSkpO3JldHVybiAoZS5sZW5ndGg/UHJvbWlzZS5hbGwoZSk6UHJvbWlzZS5yZXNvbHZlKCkpLnRoZW4oKCgpPT57aWYodCYmcylmb3IoY29uc3R7cHJpbWl0aXZlczplfW9mIHMpZm9yKGNvbnN0IHQgb2YgZSlzVCh0LHIpO3JldHVybiByfSkpfSkpfWZ1bmN0aW9uIGZUKGUpe3JldHVybiBmZXRjaChlKS50aGVuKChlPT5lLmFycmF5QnVmZmVyKCkpKS50aGVuKCh0PT5wVCh0LDAsZSkpKX1jbGFzcyBtVHtjb25zdHJ1Y3RvcihlLHQsaSl7aWYodGhpcy50cmlhbmdsZUNvdW50PXQubGVuZ3RoLzMsdGhpcy5taW49bmV3IHkoMCwwKSx0aGlzLm1heD1uZXcgeSgwLDApLHRoaXMueFNjYWxlPTAsdGhpcy55U2NhbGU9MCx0aGlzLmNlbGxzWD0wLHRoaXMuY2VsbHNZPTAsdGhpcy5jZWxscz1bXSx0aGlzLnBheWxvYWQ9W10sMD09PXRoaXMudHJpYW5nbGVDb3VudHx8MD09PWUubGVuZ3RofHwwPT09aSlyZXR1cm47Y29uc3Qgcj1lLm1hcCgoZT0+ZS54KSksbj1lLm1hcCgoZT0+ZS55KSk7dGhpcy5taW49bmV3IHkoTWF0aC5taW4oLi4uciksTWF0aC5taW4oLi4ubikpLHRoaXMubWF4PW5ldyB5KE1hdGgubWF4KC4uLnIpLE1hdGgubWF4KC4uLm4pKTtjb25zdCBvPXRoaXMubWF4LnN1Yih0aGlzLm1pbik7by54PU1hdGgubWF4KG8ueCwxKSxvLnk9TWF0aC5tYXgoby55LDEpO2NvbnN0IHM9TWF0aC5tYXgoby54LG8ueSkvaTt0aGlzLmNlbGxzWD1NYXRoLm1heCgxLE1hdGguY2VpbChvLngvcykpLHRoaXMuY2VsbHNZPU1hdGgubWF4KDEsTWF0aC5jZWlsKG8ueS9zKSksdGhpcy54U2NhbGU9MS9zLHRoaXMueVNjYWxlPTEvcztjb25zdCBhPVtdO2ZvcihsZXQgaT0wO2k8dGhpcy50cmlhbmdsZUNvdW50O2krKyl7Y29uc3Qgcj1lW3RbMyppKzBdXS5zdWIodGhpcy5taW4pLG49ZVt0WzMqaSsxXV0uc3ViKHRoaXMubWluKSxvPWVbdFszKmkrMl1dLnN1Yih0aGlzLm1pbiksbD1fVChNYXRoLmZsb29yKE1hdGgubWluKHIueCxuLngsby54KSksdGhpcy54U2NhbGUsdGhpcy5jZWxsc1gpLGM9X1QoTWF0aC5mbG9vcihNYXRoLm1heChyLngsbi54LG8ueCkpLHRoaXMueFNjYWxlLHRoaXMuY2VsbHNYKSxoPV9UKE1hdGguZmxvb3IoTWF0aC5taW4oci55LG4ueSxvLnkpKSx0aGlzLnlTY2FsZSx0aGlzLmNlbGxzWSksdT1fVChNYXRoLmZsb29yKE1hdGgubWF4KHIueSxuLnksby55KSksdGhpcy55U2NhbGUsdGhpcy5jZWxsc1kpLGQ9bmV3IHkoMCwwKSxwPW5ldyB5KDAsMCksZj1uZXcgeSgwLDApLG09bmV3IHkoMCwwKTtmb3IobGV0IGU9aDtlPD11OysrZSl7ZC55PXAueT1lKnMsZi55PW0ueT0oZSsxKSpzO2ZvcihsZXQgdD1sO3Q8PWM7Kyt0KWQueD1mLng9dCpzLHAueD1tLng9KHQrMSkqcywoTHAocixuLG8sZCxwLG0pfHxMcChyLG4sbyxkLG0sZikpJiZhLnB1c2goe2NlbGxJZHg6ZSp0aGlzLmNlbGxzWCt0LHRyaUlkeDppfSk7fX1pZigwPT09YS5sZW5ndGgpcmV0dXJuO2Euc29ydCgoKGUsdCk9PmUuY2VsbElkeC10LmNlbGxJZHh8fGUudHJpSWR4LXQudHJpSWR4KSk7bGV0IGw9MDtmb3IoO2w8YS5sZW5ndGg7KXtjb25zdCBlPWFbbF0uY2VsbElkeCx0PXtzdGFydDp0aGlzLnBheWxvYWQubGVuZ3RoLGxlbjowfTtmb3IoO2w8YS5sZW5ndGgmJmFbbF0uY2VsbElkeD09PWU7KSsrdC5sZW4sdGhpcy5wYXlsb2FkLnB1c2goYVtsKytdLnRyaUlkeCk7dGhpcy5jZWxsc1tlXT10O319cXVlcnkoZSx0LGkpe2lmKDA9PT10aGlzLnRyaWFuZ2xlQ291bnR8fDA9PT10aGlzLmNlbGxzLmxlbmd0aClyZXR1cm47aWYoZS54PnRoaXMubWF4Lnh8fHRoaXMubWluLng+dC54KXJldHVybjtpZihlLnk+dGhpcy5tYXgueXx8dGhpcy5taW4ueT50LnkpcmV0dXJuO3RoaXMubG9va3VwfHwodGhpcy5sb29rdXA9bmV3IFVpbnQ4QXJyYXkoTWF0aC5jZWlsKHRoaXMudHJpYW5nbGVDb3VudC84KSkpO2ZvcihsZXQgZT0wO2U8dGhpcy5sb29rdXAubGVuZ3RoO2UrKyl0aGlzLmxvb2t1cFtlXT0wO2NvbnN0IHI9X1QoZS54LXRoaXMubWluLngsdGhpcy54U2NhbGUsdGhpcy5jZWxsc1gpLG49X1QodC54LXRoaXMubWluLngsdGhpcy54U2NhbGUsdGhpcy5jZWxsc1gpLG89X1QoZS55LXRoaXMubWluLnksdGhpcy55U2NhbGUsdGhpcy5jZWxsc1kpLHM9X1QodC55LXRoaXMubWluLnksdGhpcy55U2NhbGUsdGhpcy5jZWxsc1kpO2ZvcihsZXQgZT1vO2U8PXM7ZSsrKWZvcihsZXQgdD1yO3Q8PW47dCsrKXtjb25zdCByPXRoaXMuY2VsbHNbZSp0aGlzLmNlbGxzWCt0XTtpZihyKWZvcihsZXQgZT0wO2U8ci5sZW47ZSsrKXtjb25zdCB0PXRoaXMucGF5bG9hZFtyLnN0YXJ0K2VdLG49TWF0aC5mbG9vcih0LzgpLG89MTw8dCU4O2lmKCEodGhpcy5sb29rdXBbbl0mbykmJih0aGlzLmxvb2t1cFtuXXw9byxpLnB1c2godCksaS5sZW5ndGg9PT10aGlzLnRyaWFuZ2xlQ291bnQpKXJldHVybn19fX1mdW5jdGlvbiBfVChlLHQsaSl7cmV0dXJuIE1hdGgubWF4KDAsTWF0aC5taW4oaS0xLE1hdGguZmxvb3IoZSp0KSkpfWZ1bmN0aW9uIGdUKGUsdCl7Y29uc3QgaT1lLmpzb24uYnVmZmVyVmlld3NbdC5idWZmZXJWaWV3XTtyZXR1cm4gbmV3KDAsdFRbdC5jb21wb25lbnRUeXBlXSkoZS5idWZmZXJzW2kuYnVmZmVyXSwodC5ieXRlT2Zmc2V0fHwwKSsoaS5ieXRlT2Zmc2V0fHwwKSx0LmNvdW50KnJUW3QudHlwZV0pfWZ1bmN0aW9uIHlUKGUsdCxpKXtjb25zdCByPWUuaW5kaWNlcyxuPWUuYXR0cmlidXRlcyxvPXt9O28uaW5kZXhBcnJheT1uZXcgV2E7Y29uc3Qgcz10Lmpzb24uYWNjZXNzb3JzW3JdLGE9cy5jb3VudC8zO28uaW5kZXhBcnJheS5yZXNlcnZlKGEpO2NvbnN0IGw9Z1QodCxzKTtmb3IobGV0IGU9MDtlPGE7ZSsrKW8uaW5kZXhBcnJheS5lbXBsYWNlQmFjayhsWzMqZV0sbFszKmUrMV0sbFszKmUrMl0pO28uaW5kZXhBcnJheS5fdHJpbSgpLG8udmVydGV4QXJyYXk9bmV3IHRsO2NvbnN0IGM9dC5qc29uLmFjY2Vzc29yc1tuLlBPU0lUSU9OXTtvLnZlcnRleEFycmF5LnJlc2VydmUoYy5jb3VudCk7Y29uc3QgaD1nVCh0LGMpO2ZvcihsZXQgZT0wO2U8Yy5jb3VudDtlKyspby52ZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhoWzMqZV0saFszKmUrMV0saFszKmUrMl0pO2lmKG8udmVydGV4QXJyYXkuX3RyaW0oKSxvLmFhYmI9bmV3IGVkKGMubWluLGMubWF4KSxvLmNlbnRyb2lkPWZ1bmN0aW9uKGUsdCl7Y29uc3QgaT1bMCwwLDBdLHI9ZS5sZW5ndGg7aWYocj4wKXtmb3IobGV0IG49MDtuPHI7bisrKXtjb25zdCByPTMqZVtuXTtpWzBdKz10W3JdLGlbMV0rPXRbcisxXSxpWzJdKz10W3IrMl07fWlbMF0vPXIsaVsxXS89cixpWzJdLz1yO31yZXR1cm4gaX0obCxoKSx2b2lkIDAhPT1uLkNPTE9SXzApe2NvbnN0IGU9dC5qc29uLmFjY2Vzc29yc1tuLkNPTE9SXzBdLGk9clRbZS50eXBlXTtpZihlLmNvbXBvbmVudFR5cGU9PT1lVCl7by5jb2xvckFycmF5PTM9PT1pP25ldyB0bDpuZXcga2Esby5jb2xvckFycmF5LnJlc2VydmUoZS5jb3VudCk7Y29uc3Qgcj1nVCh0LGUpO2lmKDM9PT1pKWZvcihsZXQgdD0wO3Q8ZS5jb3VudDt0Kyspby5jb2xvckFycmF5LmVtcGxhY2VCYWNrKHJbMyp0XSxyWzMqdCsxXSxyWzMqdCsyXSk7ZWxzZSBmb3IobGV0IHQ9MDt0PGUuY291bnQ7dCsrKW8uY29sb3JBcnJheS5lbXBsYWNlQmFjayhyWzQqdF0scls0KnQrMV0scls0KnQrMl0scls0KnQrM10pO28uY29sb3JBcnJheS5fdHJpbSgpO31lbHNlIGlmKGUuY29tcG9uZW50VHlwZT09PVF3JiY0PT09aSl7by5jb2xvckFycmF5PW5ldyBrYSxvLmNvbG9yQXJyYXkucmVzaXplKGUuY291bnQpO2NvbnN0IGk9Z1QodCxlKSxyPTEvNjU1MzUsbj1vLmNvbG9yQXJyYXkuZmxvYXQzMjtmb3IobGV0IGU9MDtlPDQqaS5sZW5ndGg7KytlKW5bZV09aVtlXSpyO31lbHNlIEgoYGdsVEYgY29sb3IgYnVmZmVyIHBhcnNpbmcgZm9yIGFjY2Vzc29yICR7SlNPTi5zdHJpbmdpZnkoZSl9IGlzIG5vdCBzdXBwb3J0ZWRgKTt9aWYodm9pZCAwIT09bi5OT1JNQUwpe28ubm9ybWFsQXJyYXk9bmV3IHRsO2NvbnN0IGU9dC5qc29uLmFjY2Vzc29yc1tuLk5PUk1BTF07by5ub3JtYWxBcnJheS5yZXNlcnZlKGUuY291bnQpO2NvbnN0IGk9Z1QodCxlKTtmb3IobGV0IHQ9MDt0PGUuY291bnQ7dCsrKW8ubm9ybWFsQXJyYXkuZW1wbGFjZUJhY2soaVszKnRdLGlbMyp0KzFdLGlbMyp0KzJdKTtvLm5vcm1hbEFycmF5Ll90cmltKCk7fWlmKHZvaWQgMCE9PW4uVEVYQ09PUkRfMCYmaS5sZW5ndGg+MCl7by50ZXhjb29yZEFycmF5PW5ldyBpbDtjb25zdCBlPXQuanNvbi5hY2Nlc3NvcnNbbi5URVhDT09SRF8wXTtvLnRleGNvb3JkQXJyYXkucmVzZXJ2ZShlLmNvdW50KTtjb25zdCBpPWdUKHQsZSk7Zm9yKGxldCB0PTA7dDxlLmNvdW50O3QrKylvLnRleGNvb3JkQXJyYXkuZW1wbGFjZUJhY2soaVsyKnRdLGlbMip0KzFdKTtvLnRleGNvb3JkQXJyYXkuX3RyaW0oKTt9Y29uc3QgdT1lLm1hdGVyaWFsO3JldHVybiBvLm1hdGVyaWFsPWZ1bmN0aW9uKGUsdCl7Y29uc3R7ZW1pc3NpdmVGYWN0b3I6aT1bMCwwLDBdLGFscGhhTW9kZTpyPVwiT1BBUVVFXCIsYWxwaGFDdXRvZmY6bj0uNSxub3JtYWxUZXh0dXJlOm8sb2NjbHVzaW9uVGV4dHVyZTpzLGVtaXNzaXZlVGV4dHVyZTphLGRvdWJsZVNpZGVkOmx9PWUse2Jhc2VDb2xvckZhY3RvcjpjPVsxLDEsMSwxXSxtZXRhbGxpY0ZhY3RvcjpoPTEscm91Z2huZXNzRmFjdG9yOnU9MSxiYXNlQ29sb3JUZXh0dXJlOmQsbWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlOnB9PWUucGJyTWV0YWxsaWNSb3VnaG5lc3N8fHt9O3JldHVybiB7cGJyTWV0YWxsaWNSb3VnaG5lc3M6e2Jhc2VDb2xvckZhY3RvcjpuZXcgaGkoLi4uYyksbWV0YWxsaWNGYWN0b3I6aCxyb3VnaG5lc3NGYWN0b3I6dSxiYXNlQ29sb3JUZXh0dXJlOmQ/dFtkLmluZGV4XTp2b2lkIDAsbWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlOnA/dFtwLmluZGV4XTp2b2lkIDB9LGRvdWJsZVNpZGVkOmwsZW1pc3NpdmVGYWN0b3I6aSxhbHBoYU1vZGU6cixhbHBoYUN1dG9mZjpuLG5vcm1hbFRleHR1cmU6bz90W28uaW5kZXhdOnZvaWQgMCxvY2NsdXNpb25UZXh0dXJlOnM/dFtzLmluZGV4XTp2b2lkIDAsZW1pc3Npb25UZXh0dXJlOmE/dFthLmluZGV4XTp2b2lkIDAsZGVmaW5lZDp2b2lkIDA9PT1lLmRlZmluZWR9fSh2b2lkIDAhPT11P3QuanNvbi5tYXRlcmlhbHNbdV06e2RlZmluZWQ6ITF9LGkpLHZvaWQgMCE9PW4uX0ZFQVRVUkVfUkdCQTQ0NDQmJihvLmZlYXR1cmVEYXRhPW5ldyBVaW50MzJBcnJheShnVCh0LHQuanNvbi5hY2Nlc3NvcnNbbi5fRkVBVFVSRV9SR0JBNDQ0NF0pLmJ1ZmZlcikpLG99ZnVuY3Rpb24geFQoZSx0LGkpe2NvbnN0e21hdHJpeDpyLHJvdGF0aW9uOm4sdHJhbnNsYXRpb246byxzY2FsZTpzLG1lc2g6YSxleHRyYXM6bCxjaGlsZHJlbjpjfT1lLGg9e307aWYoaC5tYXRyaXg9cnx8QXUuZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZShbXSxufHxbMCwwLDAsMV0sb3x8WzAsMCwwXSxzfHxbMSwxLDFdKSx2b2lkIDAhPT1hKXtoLm1lc2hlcz1pW2FdO2NvbnN0IGU9aC5hbmNob3I9WzAsMF07Zm9yKGNvbnN0IHQgb2YgaC5tZXNoZXMpe2NvbnN0e21pbjppLG1heDpyfT10LmFhYmI7ZVswXSs9aVswXStyWzBdLGVbMV0rPWlbMV0rclsxXTt9ZVswXT1NYXRoLmZsb29yKGVbMF0vaC5tZXNoZXMubGVuZ3RoLzIpLGVbMV09TWF0aC5mbG9vcihlWzFdL2gubWVzaGVzLmxlbmd0aC8yKTt9aWYobCYmKGwuaWQmJihoLmlkPWwuaWQpLGwubGlnaHRzJiYoaC5saWdodHM9ZnVuY3Rpb24oZSl7aWYoIWUubGVuZ3RoKXJldHVybiBbXTtjb25zdCB0PWZ1bmN0aW9uKGUpe2NvbnN0IHQ9YXRvYihlKSxpPW5ldyBVaW50OEFycmF5KHQubGVuZ3RoKTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKylpW2VdPXQuY29kZVBvaW50QXQoZSk7cmV0dXJuIGl9KGUpLGk9W10scj10Lmxlbmd0aC8yNCxuPW5ldyBVaW50MTZBcnJheSh0LmJ1ZmZlciksbz1uZXcgRmxvYXQzMkFycmF5KHQuYnVmZmVyKTtmb3IobGV0IGU9MDtlPHI7ZSsrKXtjb25zdCB0PW5bMiplKjZdLzMwLHI9blsyKmUqNisxXS8zMCxzPW5bMiplKjYrMTBdLzEwMCxhPW9bNiplKzFdLGw9b1s2KmUrMl0sYz1vWzYqZSszXSxoPW9bNiplKzRdLHU9Yy1hLGQ9aC1sLHA9TWF0aC5oeXBvdCh1LGQpO2kucHVzaCh7cG9zOlthKy41KnUsbCsuNSpkLHJdLG5vcm1hbDpbZC9wLC11L3AsMF0sd2lkdGg6cCxoZWlnaHQ6dCxkZXB0aDpzLHBvaW50czpbYSxsLGMsaF19KTt9cmV0dXJuIGl9KGwubGlnaHRzKSkpLGMpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHIgb2YgYyllLnB1c2goeFQodC5qc29uLm5vZGVzW3JdLHQsaSkpO2guY2hpbGRyZW49ZTt9cmV0dXJuIGh9ZnVuY3Rpb24gdlQoZSl7aWYoMD09PWUudmVydGljZXMubGVuZ3RofHwwPT09ZS5pbmRpY2VzLmxlbmd0aClyZXR1cm4gbnVsbDtjb25zdFt0LGldPVtlLnZlcnRpY2VzWzBdLmNsb25lKCksZS52ZXJ0aWNlc1swXS5jbG9uZSgpXTtmb3IobGV0IHI9MTtyPGUudmVydGljZXMubGVuZ3RoOysrcil7Y29uc3Qgbj1lLnZlcnRpY2VzW3JdO3QueD1NYXRoLm1pbih0Lngsbi54KSx0Lnk9TWF0aC5taW4odC55LG4ueSksaS54PU1hdGgubWF4KGkueCxuLngpLGkueT1NYXRoLm1heChpLnksbi55KTt9Y29uc3Qgcj1NYXRoLmNlaWwoTWF0aC5tYXgoaS54LXQueCxpLnktdC55KS8yNTYpLG49TWF0aC5tYXgoOCxyKSxvPW5ldyBtVChlLnZlcnRpY2VzLGUuaW5kaWNlcyxuKTtyZXR1cm4ge3ZlcnRpY2VzOmUudmVydGljZXMsaW5kaWNlczplLmluZGljZXMsZ3JpZDpvLG1pbjp0LG1heDppfX1mdW5jdGlvbiBiVChlKXtpZighZS5leHRyYXN8fCFlLmV4dHJhcy5ncm91bmQpcmV0dXJuIG51bGw7Y29uc3QgdD1lLmV4dHJhcy5ncm91bmQ7aWYoIXR8fCFBcnJheS5pc0FycmF5KHQpfHwwPT09dC5sZW5ndGgpcmV0dXJuIG51bGw7Y29uc3QgaT10WzBdO2lmKCFpfHwhQXJyYXkuaXNBcnJheShpKXx8MD09PWkubGVuZ3RoKXJldHVybiBudWxsO2NvbnN0IHI9W107Zm9yKGNvbnN0IGUgb2YgaSl7aWYoIUFycmF5LmlzQXJyYXkoZSl8fDIhPT1lLmxlbmd0aCljb250aW51ZTtjb25zdCB0PWVbMF0saT1lWzFdO1wibnVtYmVyXCI9PXR5cGVvZiB0JiZcIm51bWJlclwiPT10eXBlb2YgaSYmci5wdXNoKG5ldyB5KHQsaSkpO31pZihyLmxlbmd0aDwzKXJldHVybiBudWxsO3IubGVuZ3RoPjEmJnJbci5sZW5ndGgtMV0uZXF1YWxzKHJbMF0pJiZyLnBvcCgpO2xldCBuPTA7Zm9yKGxldCBlPTA7ZTxyLmxlbmd0aDtlKyspe2NvbnN0IHQ9cltlXSxpPXJbKGUrMSklci5sZW5ndGhdLG89clsoZSsyKSVyLmxlbmd0aF07bis9KHQueC1pLngpKihvLnktaS55KS0oby54LWkueCkqKHQueS1pLnkpO31uPjAmJnIucmV2ZXJzZSgpO2NvbnN0IG89QmYoci5mbGF0TWFwKChlPT5bZS54LGUueV0pKSxbXSk7cmV0dXJuIDA9PT1vLmxlbmd0aD9udWxsOnt2ZXJ0aWNlczpyLGluZGljZXM6b319ZnVuY3Rpb24gd1QoZSl7Y29uc3QgdD1bXSxpPVtdO2xldCByPTA7Zm9yKGNvbnN0IG4gb2YgZSl7cj10Lmxlbmd0aDtjb25zdCBlPW4udmVydGV4QXJyYXkuZmxvYXQzMixvPW4uaW5kZXhBcnJheS51aW50MTY7Zm9yKGxldCBpPTA7aTxuLnZlcnRleEFycmF5Lmxlbmd0aDtpKyspdC5wdXNoKG5ldyB5KGVbMyppKzBdLGVbMyppKzFdKSk7Zm9yKGxldCBlPTA7ZTwzKm4uaW5kZXhBcnJheS5sZW5ndGg7ZSsrKWkucHVzaChvW2VdK3IpO31pZihpLmxlbmd0aCUzIT0wKXJldHVybiBudWxsO2ZvcihsZXQgZT0wO2U8aS5sZW5ndGg7ZSs9Myl7Y29uc3Qgcj10W2lbZSswXV0sbj10W2lbZSsxXV0sbz10W2lbZSsyXV07KHIueC1uLngpKihvLnktbi55KS0oby54LW4ueCkqKHIueS1uLnkpPjAmJihbaVtlKzFdLGlbZSsyXV09W2lbZSsyXSxpW2UrMV1dKTt9cmV0dXJuIHt2ZXJ0aWNlczp0LGluZGljZXM6aX19ZnVuY3Rpb24gVFQoZSl7Y29uc3QgaT1mdW5jdGlvbihlLGkpe2NvbnN0IHI9W10sbj10LldlYkdMMlJlbmRlcmluZ0NvbnRleHQ7aWYoZS5qc29uLnRleHR1cmVzKWZvcihjb25zdCB0IG9mIGUuanNvbi50ZXh0dXJlcyl7Y29uc3Qgbz17bWFnRmlsdGVyOm4uTElORUFSLG1pbkZpbHRlcjpuLk5FQVJFU1Qsd3JhcFM6bi5SRVBFQVQsd3JhcFQ6bi5SRVBFQVR9O3ZvaWQgMCE9PXQuc2FtcGxlciYmT2JqZWN0LmFzc2lnbihvLGUuanNvbi5zYW1wbGVyc1t0LnNhbXBsZXJdKSxyLnB1c2goe2ltYWdlOmlbdC5zb3VyY2VdLHNhbXBsZXI6byx1cGxvYWRlZDohMX0pO31yZXR1cm4gcn0oZSxlLmltYWdlcykscj1mdW5jdGlvbihlLHQpe2NvbnN0IGk9W107Zm9yKGNvbnN0IHIgb2YgZS5qc29uLm1lc2hlcyl7Y29uc3Qgbj1bXTtmb3IoY29uc3QgaSBvZiByLnByaW1pdGl2ZXMpbi5wdXNoKHlUKGksZSx0KSk7aS5wdXNoKG4pO31yZXR1cm4gaX0oZSxpKSx7c2NlbmVzOm4sc2NlbmU6byxub2RlczpzfT1lLmpzb24sYT1uP25bb3x8MF0ubm9kZXM6cyxsPVtdO2Zvcihjb25zdCB0IG9mIGEpbC5wdXNoKHhUKHNbdF0sZSxyKSk7cmV0dXJuIGZ1bmN0aW9uKGUsdCxpKXtjb25zdCByPXt9LG49bmV3IFNldDtmb3IobGV0IG89MDtvPGUubGVuZ3RoO28rKyl7Y29uc3QgZT1pW3Rbb11dO2lmKCFlLmV4dHJhcyljb250aW51ZTtjb25zdCBzPWUuZXh0cmFzW1wibWFwYm94OmZvb3RwcmludDp2ZXJzaW9uXCJdLGE9ZS5leHRyYXNbXCJtYXBib3g6Zm9vdHByaW50OmlkXCJdOyhzfHxhKSYmbi5hZGQobyksXCIxLjAuMFwiPT09cyYmYSYmKHJbYV09byk7fWZvcihsZXQgbz0wO288ZS5sZW5ndGg7bysrKXtpZihuLmhhcyhvKSljb250aW51ZTtjb25zdCBzPWVbb10sYT1pW3Rbb11dO2lmKCFhLmV4dHJhcyljb250aW51ZTtsZXQgbD1udWxsO3MuaWQgaW4gciYmKGw9d1QoZVtyW3MuaWRdXS5tZXNoZXMpKSxsfHwobD1iVChhKSksbCYmKHMuZm9vdHByaW50PXZUKGwpKTt9aWYobi5zaXplPjApe2NvbnN0IHQ9QXJyYXkuZnJvbShuLnZhbHVlcygpKS5zb3J0KCgoZSx0KT0+ZS10KSk7Zm9yKGxldCBpPXQubGVuZ3RoLTE7aT49MDtpLS0pZS5zcGxpY2UodFtpXSwxKTt9fShsLGEsZS5qc29uLm5vZGVzKSxsfWZ1bmN0aW9uIEVUKGUpe2UuaGVpZ2h0bWFwPW5ldyBGbG9hdDMyQXJyYXkoNDA5NiksZS5oZWlnaHRtYXAuZmlsbCgtMSk7Y29uc3QgdD1lLnZlcnRleEFycmF5LmZsb2F0MzIsaT1lLmFhYmIubWluWzBdLTEscj1lLmFhYmIubWluWzFdLTEsbj1Tdi8oZS5hYWJiLm1heFswXS1pKzIpLG89U3YvKGUuYWFiYi5tYXhbMV0tcisyKTtmb3IobGV0IHM9MDtzPHQubGVuZ3RoO3MrPTMpe2NvbnN0IGE9dFtzKzJdLGw9KHRbcyswXS1pKSpufDAsYz0odFtzKzFdLXIpKm98MDthPmUuaGVpZ2h0bWFwW2MqU3YrbF0mJihlLmhlaWdodG1hcFtjKlN2K2xdPWEpO319ZnVuY3Rpb24gTVQoZSx0KXtjb25zdCBpPXt9O2kuaW5kZXhBcnJheT1uZXcgV2EsaS5pbmRleEFycmF5LnJlc2VydmUoNCplLmxlbmd0aCksaS52ZXJ0ZXhBcnJheT1uZXcgdGwsaS52ZXJ0ZXhBcnJheS5yZXNlcnZlKDEwKmUubGVuZ3RoKSxpLmNvbG9yQXJyYXk9bmV3IGthLGkudmVydGV4QXJyYXkucmVzZXJ2ZSgxMCplLmxlbmd0aCk7bGV0IHI9MDtmb3IoY29uc3QgbiBvZiBlKXtjb25zdCBlPU1hdGgubWluKDEwLE1hdGgubWF4KDQsMS4zKm4uaGVpZ2h0KSkqdCxvPVstbi5ub3JtYWxbMV0sbi5ub3JtYWxbMF0sMF0scz1NYXRoLm1pbiguMjksLjEqbi53aWR0aC9uLmRlcHRoKSxhPW4ud2lkdGgtMipuLmRlcHRoKnQqKHMrLjAxKSxsPUR1LnNjYWxlQW5kQWRkKFtdLG4ucG9zLG8sYS8yKSxjPUR1LnNjYWxlQW5kQWRkKFtdLG4ucG9zLG8sLWEvMiksaD1bbFswXSxsWzFdLGxbMl0rbi5oZWlnaHRdLHU9W2NbMF0sY1sxXSxjWzJdK24uaGVpZ2h0XSxkPUR1LnNjYWxlQW5kQWRkKFtdLG4ubm9ybWFsLG8scyk7RHUuc2NhbGUoZCxkLGUpO2NvbnN0IHA9RHUuc2NhbGVBbmRBZGQoW10sbi5ub3JtYWwsbywtcyk7RHUuc2NhbGUocCxwLGUpLER1LmFkZChkLGwsZCksRHUuYWRkKHAsYyxwKSxsWzJdKz0uMSxjWzJdKz0uMSxpLnZlcnRleEFycmF5LmVtcGxhY2VCYWNrKGRbMF0sZFsxXSxkWzJdKSxpLnZlcnRleEFycmF5LmVtcGxhY2VCYWNrKHBbMF0scFsxXSxwWzJdKSxpLnZlcnRleEFycmF5LmVtcGxhY2VCYWNrKGxbMF0sbFsxXSxsWzJdKSxpLnZlcnRleEFycmF5LmVtcGxhY2VCYWNrKGNbMF0sY1sxXSxjWzJdKSxpLnZlcnRleEFycmF5LmVtcGxhY2VCYWNrKGhbMF0saFsxXSxoWzJdKSxpLnZlcnRleEFycmF5LmVtcGxhY2VCYWNrKHVbMF0sdVsxXSx1WzJdKSxpLnZlcnRleEFycmF5LmVtcGxhY2VCYWNrKGxbMF0sbFsxXSxsWzJdKSxpLnZlcnRleEFycmF5LmVtcGxhY2VCYWNrKGNbMF0sY1sxXSxjWzJdKSxpLnZlcnRleEFycmF5LmVtcGxhY2VCYWNrKGRbMF0sZFsxXSxkWzJdKSxpLnZlcnRleEFycmF5LmVtcGxhY2VCYWNrKHBbMF0scFsxXSxwWzJdKTtjb25zdCBmPWEvZS8yO2kuY29sb3JBcnJheS5lbXBsYWNlQmFjaygtZi1zLC0xLGYsLjgpLGkuY29sb3JBcnJheS5lbXBsYWNlQmFjayhmK3MsLTEsZiwuOCksaS5jb2xvckFycmF5LmVtcGxhY2VCYWNrKC1mLDAsZiwxLjMpLGkuY29sb3JBcnJheS5lbXBsYWNlQmFjayhmLDAsZiwxLjMpLGkuY29sb3JBcnJheS5lbXBsYWNlQmFjayhmK3MsLS44LGYsLjcpLGkuY29sb3JBcnJheS5lbXBsYWNlQmFjayhmK3MsLS44LGYsLjcpLGkuY29sb3JBcnJheS5lbXBsYWNlQmFjaygwLDAsZiwxLjMpLGkuY29sb3JBcnJheS5lbXBsYWNlQmFjaygwLDAsZiwxLjMpLGkuY29sb3JBcnJheS5lbXBsYWNlQmFjayhmK3MsLTEuMixmLC44KSxpLmNvbG9yQXJyYXkuZW1wbGFjZUJhY2soZitzLC0xLjIsZiwuOCksaS5pbmRleEFycmF5LmVtcGxhY2VCYWNrKDYrciw0K3IsOCtyKSxpLmluZGV4QXJyYXkuZW1wbGFjZUJhY2soNytyLDkrciw1K3IpLGkuaW5kZXhBcnJheS5lbXBsYWNlQmFjaygwK3IsMStyLDIrciksaS5pbmRleEFycmF5LmVtcGxhY2VCYWNrKDErciwzK3IsMityKSxyKz0xMDt9Y29uc3Qgbj17ZGVmaW5lZDohMCxlbWlzc2l2ZUZhY3RvcjpbMCwwLDBdfSxvPXt9O3JldHVybiBvLmJhc2VDb2xvckZhY3Rvcj1oaS53aGl0ZSxuLnBick1ldGFsbGljUm91Z2huZXNzPW8saS5tYXRlcmlhbD1uLGkuYWFiYj1uZXcgZWQoWzEvMCwxLzAsMS8wXSxbLTEvMCwtMS8wLC0xLzBdKSxpfVJzKG1ULFwiVHJpYW5nbGVHcmlkSW5kZXhcIik7Y29uc3QgQVQ9e3ZlY3RvcjpWdyxyYXN0ZXI6ancsXCJyYXN0ZXItZGVtXCI6Y2xhc3MgZXh0ZW5kcyBqd3tjb25zdHJ1Y3RvcihlLHQsaSxyKXtzdXBlcihlLHQsaSxyKSx0aGlzLnR5cGU9XCJyYXN0ZXItZGVtXCIsdGhpcy5tYXh6b29tPTIyLHRoaXMuX29wdGlvbnM9ayh7dHlwZTpcInJhc3Rlci1kZW1cIn0sdCksdGhpcy5lbmNvZGluZz10LmVuY29kaW5nfHxcIm1hcGJveFwiO31sb2FkVGlsZShlLGkpe2NvbnN0IHI9dGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLm5vcm1hbGl6ZVRpbGVVUkwoZS50aWxlSUQuY2Fub25pY2FsLnVybCh0aGlzLnRpbGVzLHRoaXMuc2NoZW1lKSwhMSx0aGlzLnRpbGVTaXplKTtmdW5jdGlvbiBuKHQscil7dCYmKGUuc3RhdGU9XCJlcnJvcmVkXCIsaSh0KSksciYmKGUuZGVtPXIsZS5kZW0ub25EZXNlcmlhbGl6ZSgpLGUubmVlZHNIaWxsc2hhZGVQcmVwYXJlPSEwLGUubmVlZHNERU1UZXh0dXJlVXBsb2FkPSEwLGUuc3RhdGU9XCJsb2FkZWRcIixpKG51bGwpKTt9ZS5yZXF1ZXN0PUllKHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KHIseWUuVGlsZSksZnVuY3Rpb24ocixvLHMsYSl7aWYoZGVsZXRlIGUucmVxdWVzdCxlLmFib3J0ZWQpZS5zdGF0ZT1cInVubG9hZGVkXCIsaShudWxsKTtlbHNlIGlmKHIpZS5zdGF0ZT1cImVycm9yZWRcIixpKHIpO2Vsc2UgaWYobyl7dGhpcy5tYXAuX3JlZnJlc2hFeHBpcmVkVGlsZXMmJmUuc2V0RXhwaXJ5RGF0YSh7Y2FjaGVDb250cm9sOnMsZXhwaXJlczphfSk7Y29uc3QgaT10LkltYWdlQml0bWFwJiZvIGluc3RhbmNlb2YgdC5JbWFnZUJpdG1hcCYmdXQoKSxyPTEtKG8ud2lkdGgtKChsPW8ud2lkdGgpPD0xPzE6TWF0aC5wb3coMixNYXRoLmZsb29yKE1hdGgubG9nKGwpL01hdGguTE4yKSkpKS8yO3I8MXx8ZS5uZWlnaGJvcmluZ1RpbGVzfHwoZS5uZWlnaGJvcmluZ1RpbGVzPXRoaXMuX2dldE5laWdoYm9yaW5nVGlsZXMoZS50aWxlSUQpKTtjb25zdCBjPWk/bzpkdC5nZXRJbWFnZURhdGEobyxyKSxoPXt1aWQ6ZS51aWQsY29vcmQ6ZS50aWxlSUQsc291cmNlOnRoaXMuaWQsc2NvcGU6dGhpcy5zY29wZSxyYXdJbWFnZURhdGE6YyxlbmNvZGluZzp0aGlzLmVuY29kaW5nLHBhZGRpbmc6cn07ZS5hY3RvciYmXCJleHBpcmVkXCIhPT1lLnN0YXRlfHwoZS5hY3Rvcj10aGlzLmRpc3BhdGNoZXIuZ2V0QWN0b3IoKSxlLmFjdG9yLnNlbmQoXCJsb2FkREVNVGlsZVwiLGgsbi5iaW5kKHRoaXMpLHZvaWQgMCwhMCkpO312YXIgbDt9LmJpbmQodGhpcykpO31fZ2V0TmVpZ2hib3JpbmdUaWxlcyhlKXtjb25zdCB0PWUuY2Fub25pY2FsLGk9TWF0aC5wb3coMix0LnopLHI9KHQueC0xK2kpJWksbj0wPT09dC54P2Uud3JhcC0xOmUud3JhcCxvPSh0LngrMStpKSVpLHM9dC54KzE9PT1pP2Uud3JhcCsxOmUud3JhcCxhPXt9O3JldHVybiBhW25ldyBxdShlLm92ZXJzY2FsZWRaLG4sdC56LHIsdC55KS5rZXldPXtiYWNrZmlsbGVkOiExfSxhW25ldyBxdShlLm92ZXJzY2FsZWRaLHMsdC56LG8sdC55KS5rZXldPXtiYWNrZmlsbGVkOiExfSx0Lnk+MCYmKGFbbmV3IHF1KGUub3ZlcnNjYWxlZFosbix0Lnoscix0LnktMSkua2V5XT17YmFja2ZpbGxlZDohMX0sYVtuZXcgcXUoZS5vdmVyc2NhbGVkWixlLndyYXAsdC56LHQueCx0LnktMSkua2V5XT17YmFja2ZpbGxlZDohMX0sYVtuZXcgcXUoZS5vdmVyc2NhbGVkWixzLHQueixvLHQueS0xKS5rZXldPXtiYWNrZmlsbGVkOiExfSksdC55KzE8aSYmKGFbbmV3IHF1KGUub3ZlcnNjYWxlZFosbix0Lnoscix0LnkrMSkua2V5XT17YmFja2ZpbGxlZDohMX0sYVtuZXcgcXUoZS5vdmVyc2NhbGVkWixlLndyYXAsdC56LHQueCx0LnkrMSkua2V5XT17YmFja2ZpbGxlZDohMX0sYVtuZXcgcXUoZS5vdmVyc2NhbGVkWixzLHQueixvLHQueSsxKS5rZXldPXtiYWNrZmlsbGVkOiExfSksYX19LGdlb2pzb246Y2xhc3MgZXh0ZW5kcyB6dHtjb25zdHJ1Y3RvcihlLHQsaSxyKXtzdXBlcigpLHRoaXMuaWQ9ZSx0aGlzLnR5cGU9XCJnZW9qc29uXCIsdGhpcy5taW56b29tPTAsdGhpcy5tYXh6b29tPTE4LHRoaXMudGlsZVNpemU9NTEyLHRoaXMuaXNUaWxlQ2xpcHBlZD0hMCx0aGlzLnJlcGFyc2VPdmVyc2NhbGVkPSEwLHRoaXMuX2xvYWRlZD0hMSx0aGlzLmFjdG9yPWkuZ2V0QWN0b3IoKSx0aGlzLnNldEV2ZW50ZWRQYXJlbnQociksdGhpcy5fZGF0YT10LmRhdGEsdGhpcy5fb3B0aW9ucz1rKHt9LHQpLHRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZz10LmNvbGxlY3RSZXNvdXJjZVRpbWluZyx2b2lkIDAhPT10Lm1heHpvb20mJih0aGlzLm1heHpvb209dC5tYXh6b29tKSx0LnR5cGUmJih0aGlzLnR5cGU9dC50eXBlKSx0LmF0dHJpYnV0aW9uJiYodGhpcy5hdHRyaWJ1dGlvbj10LmF0dHJpYnV0aW9uKSx0aGlzLnByb21vdGVJZD10LnByb21vdGVJZDtjb25zdCBuPWNyL3RoaXMudGlsZVNpemU7dGhpcy53b3JrZXJPcHRpb25zPWsoe3NvdXJjZTp0aGlzLmlkLHNjb3BlOnRoaXMuc2NvcGUsY2x1c3Rlcjp0LmNsdXN0ZXJ8fCExLGdlb2pzb25WdE9wdGlvbnM6e2J1ZmZlcjoodm9pZCAwIT09dC5idWZmZXI/dC5idWZmZXI6MTI4KSpuLHRvbGVyYW5jZToodm9pZCAwIT09dC50b2xlcmFuY2U/dC50b2xlcmFuY2U6LjM3NSkqbixleHRlbnQ6Y3IsbWF4Wm9vbTp0aGlzLm1heHpvb20sbGluZU1ldHJpY3M6dC5saW5lTWV0cmljc3x8ITEsZ2VuZXJhdGVJZDp0LmdlbmVyYXRlSWR8fCExfSxzdXBlcmNsdXN0ZXJPcHRpb25zOnttYXhab29tOnZvaWQgMCE9PXQuY2x1c3Rlck1heFpvb20/dC5jbHVzdGVyTWF4Wm9vbTp0aGlzLm1heHpvb20tMSxtaW5Qb2ludHM6TWF0aC5tYXgoMix0LmNsdXN0ZXJNaW5Qb2ludHN8fDIpLGV4dGVudDpjcixyYWRpdXM6KHZvaWQgMCE9PXQuY2x1c3RlclJhZGl1cz90LmNsdXN0ZXJSYWRpdXM6NTApKm4sbG9nOiExLGdlbmVyYXRlSWQ6dC5nZW5lcmF0ZUlkfHwhMX0sY2x1c3RlclByb3BlcnRpZXM6dC5jbHVzdGVyUHJvcGVydGllcyxmaWx0ZXI6dC5maWx0ZXJ9LHQud29ya2VyT3B0aW9ucyk7fW9uQWRkKGUpe3RoaXMubWFwPWUsdGhpcy5zZXREYXRhKHRoaXMuX2RhdGEpO31zZXREYXRhKGUpe3JldHVybiB0aGlzLl9kYXRhPWUsdGhpcy5fdXBkYXRlV29ya2VyRGF0YSgpLHRoaXN9Z2V0Q2x1c3RlckV4cGFuc2lvblpvb20oZSx0KXtyZXR1cm4gdGhpcy5hY3Rvci5zZW5kKFwiZ2VvanNvbi5nZXRDbHVzdGVyRXhwYW5zaW9uWm9vbVwiLHtjbHVzdGVySWQ6ZSxzb3VyY2U6dGhpcy5pZCxzY29wZTp0aGlzLnNjb3BlfSx0KSx0aGlzfWdldENsdXN0ZXJDaGlsZHJlbihlLHQpe3JldHVybiB0aGlzLmFjdG9yLnNlbmQoXCJnZW9qc29uLmdldENsdXN0ZXJDaGlsZHJlblwiLHtjbHVzdGVySWQ6ZSxzb3VyY2U6dGhpcy5pZCxzY29wZTp0aGlzLnNjb3BlfSx0KSx0aGlzfWdldENsdXN0ZXJMZWF2ZXMoZSx0LGkscil7cmV0dXJuIHRoaXMuYWN0b3Iuc2VuZChcImdlb2pzb24uZ2V0Q2x1c3RlckxlYXZlc1wiLHtzb3VyY2U6dGhpcy5pZCxzY29wZTp0aGlzLnNjb3BlLGNsdXN0ZXJJZDplLGxpbWl0OnQsb2Zmc2V0Oml9LHIpLHRoaXN9X3VwZGF0ZVdvcmtlckRhdGEoKXtpZih0aGlzLl9wZW5kaW5nTG9hZClyZXR1cm4gdm9pZCh0aGlzLl9jb2FsZXNjZT0hMCk7dGhpcy5maXJlKG5ldyBJdChcImRhdGFsb2FkaW5nXCIse2RhdGFUeXBlOlwic291cmNlXCJ9KSksdGhpcy5fbG9hZGVkPSExO2NvbnN0IGU9ayh7fSx0aGlzLndvcmtlck9wdGlvbnMpO2Uuc2NvcGU9dGhpcy5zY29wZTtjb25zdCB0PXRoaXMuX2RhdGE7XCJzdHJpbmdcIj09dHlwZW9mIHQ/KGUucmVxdWVzdD10aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdChkdC5yZXNvbHZlVVJMKHQpLHllLlNvdXJjZSksZS5yZXF1ZXN0LmNvbGxlY3RSZXNvdXJjZVRpbWluZz10aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmcpOmUuZGF0YT1KU09OLnN0cmluZ2lmeSh0KSx0aGlzLl9wZW5kaW5nTG9hZD10aGlzLmFjdG9yLnNlbmQoYCR7dGhpcy50eXBlfS5sb2FkRGF0YWAsZSwoKGUsdCk9PntpZih0aGlzLl9sb2FkZWQ9ITAsdGhpcy5fcGVuZGluZ0xvYWQ9bnVsbCxlKXRoaXMuZmlyZShuZXcgQ3QoZSkpO2Vsc2Uge2NvbnN0IGU9e2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6dGhpcy5fbWV0YWRhdGFGaXJlZD9cImNvbnRlbnRcIjpcIm1ldGFkYXRhXCJ9O3RoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyYmdCYmdC5yZXNvdXJjZVRpbWluZyYmdC5yZXNvdXJjZVRpbWluZ1t0aGlzLmlkXSYmKGUucmVzb3VyY2VUaW1pbmc9dC5yZXNvdXJjZVRpbWluZ1t0aGlzLmlkXSksdGhpcy5maXJlKG5ldyBJdChcImRhdGFcIixlKSksdGhpcy5fbWV0YWRhdGFGaXJlZD0hMDt9dGhpcy5fY29hbGVzY2UmJih0aGlzLl91cGRhdGVXb3JrZXJEYXRhKCksdGhpcy5fY29hbGVzY2U9ITEpO30pKTt9bG9hZGVkKCl7cmV0dXJuIHRoaXMuX2xvYWRlZH1sb2FkVGlsZShlLHQpe2NvbnN0IGk9ZS5hY3Rvcj9cInJlbG9hZFRpbGVcIjpcImxvYWRUaWxlXCI7ZS5hY3Rvcj10aGlzLmFjdG9yO2NvbnN0IHI9e3R5cGU6dGhpcy50eXBlLHVpZDplLnVpZCx0aWxlSUQ6ZS50aWxlSUQsdGlsZVpvb206ZS50aWxlWm9vbSx6b29tOmUudGlsZUlELm92ZXJzY2FsZWRaLG1heFpvb206dGhpcy5tYXh6b29tLHRpbGVTaXplOnRoaXMudGlsZVNpemUsc291cmNlOnRoaXMuaWQsc2NvcGU6dGhpcy5zY29wZSxwaXhlbFJhdGlvOmR0LmRldmljZVBpeGVsUmF0aW8sc2hvd0NvbGxpc2lvbkJveGVzOnRoaXMubWFwLnNob3dDb2xsaXNpb25Cb3hlcyxwcm9tb3RlSWQ6dGhpcy5wcm9tb3RlSWQsYnJpZ2h0bmVzczp0aGlzLm1hcC5zdHlsZSYmdGhpcy5tYXAuc3R5bGUuZ2V0QnJpZ2h0bmVzcygpfHwwfTtlLnJlcXVlc3Q9dGhpcy5hY3Rvci5zZW5kKGksciwoKHIsbik9PihkZWxldGUgZS5yZXF1ZXN0LGUuZGVzdHJveSgpLGUuYWJvcnRlZD90KG51bGwpOnI/dChyKTooZS5sb2FkVmVjdG9yRGF0YShuLHRoaXMubWFwLnBhaW50ZXIsXCJyZWxvYWRUaWxlXCI9PT1pKSx0KG51bGwpKSkpLHZvaWQgMCxcImxvYWRUaWxlXCI9PT1pKTt9YWJvcnRUaWxlKGUpe2UucmVxdWVzdCYmKGUucmVxdWVzdC5jYW5jZWwoKSxkZWxldGUgZS5yZXF1ZXN0KSxlLmFib3J0ZWQ9ITA7fXVubG9hZFRpbGUoZSl7dGhpcy5hY3Rvci5zZW5kKFwicmVtb3ZlVGlsZVwiLHt1aWQ6ZS51aWQsdHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuaWQsc2NvcGU6dGhpcy5zY29wZX0pLGUuZGVzdHJveSgpO31vblJlbW92ZSgpe3RoaXMuX3BlbmRpbmdMb2FkJiZ0aGlzLl9wZW5kaW5nTG9hZC5jYW5jZWwoKTt9c2VyaWFsaXplKCl7cmV0dXJuIGsoe30sdGhpcy5fb3B0aW9ucyx7dHlwZTp0aGlzLnR5cGUsZGF0YTp0aGlzLl9kYXRhfSl9aGFzVHJhbnNpdGlvbigpe3JldHVybiAhMX19LHZpZGVvOmNsYXNzIGV4dGVuZHMgSmJ7Y29uc3RydWN0b3IoZSx0LGkscil7c3VwZXIoZSx0LGksciksdGhpcy5yb3VuZFpvb209ITAsdGhpcy50eXBlPVwidmlkZW9cIix0aGlzLm9wdGlvbnM9dDt9bG9hZCgpe3RoaXMuX2xvYWRlZD0hMTtjb25zdCBlPXRoaXMub3B0aW9uczt0aGlzLnVybHM9W107Zm9yKGNvbnN0IHQgb2YgZS51cmxzKXRoaXMudXJscy5wdXNoKHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KHQseWUuU291cmNlKS51cmwpOyFmdW5jdGlvbihlLGkpe2NvbnN0IHI9dC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIik7ci5tdXRlZD0hMCxyLm9ubG9hZHN0YXJ0PWZ1bmN0aW9uKCl7aShudWxsLHIpO307Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspe2NvbnN0IG49dC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic291cmNlXCIpO0VlKGVbaV0pfHwoci5jcm9zc09yaWdpbj1cIkFub255bW91c1wiKSxuLnNyYz1lW2ldLHIuYXBwZW5kQ2hpbGQobik7fX0odGhpcy51cmxzLCgoZSx0KT0+e3RoaXMuX2xvYWRlZD0hMCxlP3RoaXMuZmlyZShuZXcgQ3QoZSkpOnQmJih0aGlzLnZpZGVvPXQsdGhpcy52aWRlby5sb29wPSEwLHRoaXMudmlkZW8uc2V0QXR0cmlidXRlKFwicGxheXNpbmxpbmVcIixcIlwiKSx0aGlzLnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJwbGF5aW5nXCIsKCgpPT57dGhpcy5tYXAudHJpZ2dlclJlcGFpbnQoKTt9KSksdGhpcy5tYXAmJnRoaXMudmlkZW8ucGxheSgpLHRoaXMuX2ZpbmlzaExvYWRpbmcoKSk7fSkpO31wYXVzZSgpe3RoaXMudmlkZW8mJnRoaXMudmlkZW8ucGF1c2UoKTt9cGxheSgpe3RoaXMudmlkZW8mJnRoaXMudmlkZW8ucGxheSgpO31zZWVrKGUpe2lmKHRoaXMudmlkZW8pe2NvbnN0IHQ9dGhpcy52aWRlby5zZWVrYWJsZTtlPHQuc3RhcnQoMCl8fGU+dC5lbmQoMCk/dGhpcy5maXJlKG5ldyBDdChuZXcgRHQoYHNvdXJjZXMuJHt0aGlzLmlkfWAsbnVsbCxgUGxheWJhY2sgZm9yIHRoaXMgdmlkZW8gY2FuIGJlIHNldCBvbmx5IGJldHdlZW4gdGhlICR7dC5zdGFydCgwKX0gYW5kICR7dC5lbmQoMCl9LXNlY29uZCBtYXJrLmApKSk6dGhpcy52aWRlby5jdXJyZW50VGltZT1lO319Z2V0VmlkZW8oKXtyZXR1cm4gdGhpcy52aWRlb31vbkFkZChlKXt0aGlzLm1hcHx8KHRoaXMubWFwPWUsdGhpcy5sb2FkKCksdGhpcy52aWRlbyYmKHRoaXMudmlkZW8ucGxheSgpLHRoaXMuc2V0Q29vcmRpbmF0ZXModGhpcy5jb29yZGluYXRlcykpKTt9cHJlcGFyZSgpe2lmKDA9PT1PYmplY3Qua2V5cyh0aGlzLnRpbGVzKS5sZW5ndGh8fHRoaXMudmlkZW8ucmVhZHlTdGF0ZTwyKXJldHVybjtjb25zdCBlPXRoaXMubWFwLnBhaW50ZXIuY29udGV4dCx0PWUuZ2w7dGhpcy50ZXh0dXJlP3RoaXMudmlkZW8ucGF1c2VkfHwodGhpcy50ZXh0dXJlLmJpbmQodC5MSU5FQVIsdC5DTEFNUF9UT19FREdFKSx0LnRleFN1YkltYWdlMkQodC5URVhUVVJFXzJELDAsMCwwLHQuUkdCQSx0LlVOU0lHTkVEX0JZVEUsdGhpcy52aWRlbykpOih0aGlzLnRleHR1cmU9bmV3IE15KGUsdGhpcy52aWRlbyx0LlJHQkEpLHRoaXMudGV4dHVyZS5iaW5kKHQuTElORUFSLHQuQ0xBTVBfVE9fRURHRSksdGhpcy53aWR0aD10aGlzLnZpZGVvLnZpZGVvV2lkdGgsdGhpcy5oZWlnaHQ9dGhpcy52aWRlby52aWRlb0hlaWdodCksdGhpcy5fcHJlcGFyZURhdGEoZSk7fXNlcmlhbGl6ZSgpe3JldHVybiB7dHlwZTpcInZpZGVvXCIsdXJsczp0aGlzLnVybHMsY29vcmRpbmF0ZXM6dGhpcy5jb29yZGluYXRlc319aGFzVHJhbnNpdGlvbigpe3JldHVybiB0aGlzLnZpZGVvJiYhdGhpcy52aWRlby5wYXVzZWR9fSxpbWFnZTpKYixtb2RlbDpjbGFzcyBleHRlbmRzIHp0e2NvbnN0cnVjdG9yKGUsdCxpLHIpe3N1cGVyKCksdGhpcy5pZD1lLHRoaXMudHlwZT1cIm1vZGVsXCIsdGhpcy5tb2RlbHM9W10sdGhpcy5fbG9hZGVkPSExLHRoaXMuX29wdGlvbnM9dDt9bG9hZCgpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgaW4gdGhpcy5fb3B0aW9ucy5tb2RlbHMpe2NvbnN0IGk9dGhpcy5fb3B0aW9ucy5tb2RlbHNbdF0scj1mVCh0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdChpLnVyaSx5ZS5Nb2RlbCkudXJsKS50aGVuKChlPT57aWYoIWUpcmV0dXJuO2NvbnN0IHI9VFQoZSksbj1uZXcgQ3YodCxpLnBvc2l0aW9uLGkub3JpZW50YXRpb24scik7bi5jb21wdXRlQm91bmRzQW5kQXBwbHlQYXJlbnQoKSx0aGlzLm1vZGVscy5wdXNoKG4pO30pKS5jYXRjaCgoZT0+e3RoaXMuZmlyZShuZXcgQ3QobmV3IEVycm9yKGBDb3VsZCBub3QgbG9hZCBtb2RlbCAke3R9IGZyb20gJHtpLnVyaX06ICR7ZS5tZXNzYWdlfWApKSk7fSkpO2UucHVzaChyKTt9cmV0dXJuIFByb21pc2UuYWxsU2V0dGxlZChlKS50aGVuKCgoKT0+e3RoaXMuX2xvYWRlZD0hMCx0aGlzLmZpcmUobmV3IEl0KFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwibWV0YWRhdGFcIn0pKTt9KSkuY2F0Y2goKGU9Pnt0aGlzLmZpcmUobmV3IEN0KG5ldyBFcnJvcihgQ291bGQgbm90IGxvYWQgbW9kZWxzOiAke2UubWVzc2FnZX1gKSkpO30pKX1vbkFkZChlKXt0aGlzLm1hcD1lLHRoaXMubG9hZCgpO31oYXNUcmFuc2l0aW9uKCl7cmV0dXJuICExfWxvYWRlZCgpe3JldHVybiB0aGlzLl9sb2FkZWR9Z2V0TW9kZWxzKCl7cmV0dXJuIHRoaXMubW9kZWxzfWxvYWRUaWxlKGUsdCl7fXNlcmlhbGl6ZSgpe3JldHVybiB7dHlwZTpcIm1vZGVsXCJ9fX0sXCJiYXRjaGVkLW1vZGVsXCI6Y2xhc3MgZXh0ZW5kcyB6dHtjb25zdHJ1Y3RvcihlLHQsaSxyKXtzdXBlcigpLHRoaXMudHlwZT1cImJhdGNoZWQtbW9kZWxcIix0aGlzLmlkPWUsdGhpcy50aWxlU2l6ZT01MTIsdGhpcy5fb3B0aW9ucz10LHRoaXMudGlsZXM9dGhpcy5fb3B0aW9ucy50aWxlcyx0aGlzLm1heHpvb209dC5tYXh6b29tfHwxOSx0aGlzLm1pbnpvb209dC5taW56b29tfHwwLHRoaXMucm91bmRab29tPSEwLHRoaXMudXNlZEluQ29uZmxhdGlvbj0hMCx0aGlzLmRpc3BhdGNoZXI9aSx0aGlzLnJlcGFyc2VPdmVyc2NhbGVkPSExLHRoaXMuc2NoZW1lPVwieHl6XCIsdGhpcy5fbG9hZGVkPSExLHRoaXMuc2V0RXZlbnRlZFBhcmVudChyKTt9b25BZGQoZSl7dGhpcy5tYXA9ZSx0aGlzLmxvYWQoKTt9bG9hZChlKXt0aGlzLl9sb2FkZWQ9ITEsdGhpcy5maXJlKG5ldyBJdChcImRhdGFsb2FkaW5nXCIse2RhdGFUeXBlOlwic291cmNlXCJ9KSk7Y29uc3QgdD1BcnJheS5pc0FycmF5KHRoaXMubWFwLl9sYW5ndWFnZSk/dGhpcy5tYXAuX2xhbmd1YWdlLmpvaW4oKTp0aGlzLm1hcC5fbGFuZ3VhZ2UsaT10aGlzLm1hcC5fd29ybGR2aWV3O3RoaXMuX3RpbGVKU09OUmVxdWVzdD1Edyh0aGlzLl9vcHRpb25zLHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlcix0LGksKChyLG4pPT57dGhpcy5fdGlsZUpTT05SZXF1ZXN0PW51bGwsdGhpcy5fbG9hZGVkPSEwLHI/KHQmJmNvbnNvbGUud2FybihgRW5zdXJlIHRoYXQgeW91ciByZXF1ZXN0ZWQgbGFuZ3VhZ2Ugc3RyaW5nIGlzIGEgdmFsaWQgQkNQLTQ3IGNvZGUgb3IgbGlzdCBvZiBjb2Rlcy4gRm91bmQ6ICR7dH1gKSxpJiYyIT09aS5sZW5ndGgmJmNvbnNvbGUud2FybihgUmVxdWVzdGVkIHdvcmxkdmlldyBzdHJpbmdzIG11c3QgYmUgYSB2YWxpZCBJU08gYWxwaGEtMiBjb2RlLiBGb3VuZDogJHtpfWApLHRoaXMuZmlyZShuZXcgQ3QocikpKTpuJiYoayh0aGlzLG4pLG4uYm91bmRzJiYodGhpcy50aWxlQm91bmRzPW5ldyBSdyhuLmJvdW5kcyx0aGlzLm1pbnpvb20sdGhpcy5tYXh6b29tKSksR2Uobi50aWxlcyx0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIuX2N1c3RvbUFjY2Vzc1Rva2VuKSx0aGlzLmZpcmUobmV3IEl0KFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwibWV0YWRhdGFcIn0pKSx0aGlzLmZpcmUobmV3IEl0KFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwiY29udGVudFwifSkpKSxlJiZlKHIpO30pKTt9aGFzVHJhbnNpdGlvbigpe3JldHVybiAhMX1oYXNUaWxlKGUpe3JldHVybiAhdGhpcy50aWxlQm91bmRzfHx0aGlzLnRpbGVCb3VuZHMuY29udGFpbnMoZS5jYW5vbmljYWwpfWxvYWRlZCgpe3JldHVybiB0aGlzLl9sb2FkZWR9bG9hZFRpbGUoZSx0KXtjb25zdCBpPXRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVUaWxlVVJMKGUudGlsZUlELmNhbm9uaWNhbC51cmwodGhpcy50aWxlcyx0aGlzLnNjaGVtZSkpLHI9e3JlcXVlc3Q6dGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QoaSx5ZS5UaWxlKSxkYXRhOnZvaWQgMCx1aWQ6ZS51aWQsdGlsZUlEOmUudGlsZUlELHRpbGVab29tOmUudGlsZVpvb20sem9vbTplLnRpbGVJRC5vdmVyc2NhbGVkWix0aWxlU2l6ZTp0aGlzLnRpbGVTaXplKmUudGlsZUlELm92ZXJzY2FsZUZhY3RvcigpLHR5cGU6dGhpcy50eXBlLHNvdXJjZTp0aGlzLmlkLHNjb3BlOnRoaXMuc2NvcGUsc2hvd0NvbGxpc2lvbkJveGVzOnRoaXMubWFwLnNob3dDb2xsaXNpb25Cb3hlcyxpc1N5bWJvbFRpbGU6ZS5pc1N5bWJvbFRpbGUsYnJpZ2h0bmVzczp0aGlzLm1hcC5zdHlsZSYmdGhpcy5tYXAuc3R5bGUuZ2V0QnJpZ2h0bmVzcygpfHwwfTtpZihlLmFjdG9yJiZcImV4cGlyZWRcIiE9PWUuc3RhdGUpaWYoXCJsb2FkaW5nXCI9PT1lLnN0YXRlKWUucmVsb2FkQ2FsbGJhY2s9dDtlbHNlIHtpZihlLmJ1Y2tldHMpe2NvbnN0IHQ9T2JqZWN0LnZhbHVlcyhlLmJ1Y2tldHMpO2Zvcihjb25zdCBlIG9mIHQpZS5kaXJ0eT0hMDtyZXR1cm4gdm9pZChlLnN0YXRlPVwibG9hZGVkXCIpfWUucmVxdWVzdD1lLmFjdG9yLnNlbmQoXCJyZWxvYWRUaWxlXCIscixuLmJpbmQodGhpcykpO31lbHNlIGUuYWN0b3I9dGhpcy5kaXNwYXRjaGVyLmdldEFjdG9yKCksZS5yZXF1ZXN0PWUuYWN0b3Iuc2VuZChcImxvYWRUaWxlXCIscixuLmJpbmQodGhpcyksdm9pZCAwLCEwKTtmdW5jdGlvbiBuKGkscil7cmV0dXJuIGUuYWJvcnRlZD90KG51bGwpOmkmJjQwNCE9PWkuc3RhdHVzP3QoaSk6KHImJihyLnJlc291cmNlVGltaW5nJiYoZS5yZXNvdXJjZVRpbWluZz1yLnJlc291cmNlVGltaW5nKSx0aGlzLm1hcC5fcmVmcmVzaEV4cGlyZWRUaWxlcyYmZS5zZXRFeHBpcnlEYXRhKHIpLGUuYnVja2V0cz17Li4uZS5idWNrZXRzLC4uLnIuYnVja2V0c30pLGUuc3RhdGU9XCJsb2FkZWRcIix2b2lkIHQobnVsbCkpfX1zZXJpYWxpemUoKXtyZXR1cm4gayh7fSx0aGlzLl9vcHRpb25zKX19LGNhbnZhczpjbGFzcyBleHRlbmRzIEpie2NvbnN0cnVjdG9yKGUsaSxyLG4pe3N1cGVyKGUsaSxyLG4pLGkuY29vcmRpbmF0ZXM/QXJyYXkuaXNBcnJheShpLmNvb3JkaW5hdGVzKSYmND09PWkuY29vcmRpbmF0ZXMubGVuZ3RoJiYhaS5jb29yZGluYXRlcy5zb21lKChlPT4hQXJyYXkuaXNBcnJheShlKXx8MiE9PWUubGVuZ3RofHxlLnNvbWUoKGU9PlwibnVtYmVyXCIhPXR5cGVvZiBlKSkpKXx8dGhpcy5maXJlKG5ldyBDdChuZXcgRHQoYHNvdXJjZXMuJHtlfWAsbnVsbCwnXCJjb29yZGluYXRlc1wiIHByb3BlcnR5IG11c3QgYmUgYW4gYXJyYXkgb2YgNCBsb25naXR1ZGUvbGF0aXR1ZGUgYXJyYXkgcGFpcnMnKSkpOnRoaXMuZmlyZShuZXcgQ3QobmV3IER0KGBzb3VyY2VzLiR7ZX1gLG51bGwsJ21pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgXCJjb29yZGluYXRlc1wiJykpKSxpLmFuaW1hdGUmJlwiYm9vbGVhblwiIT10eXBlb2YgaS5hbmltYXRlJiZ0aGlzLmZpcmUobmV3IEN0KG5ldyBEdChgc291cmNlcy4ke2V9YCxudWxsLCdvcHRpb25hbCBcImFuaW1hdGVcIiBwcm9wZXJ0eSBtdXN0IGJlIGEgYm9vbGVhbiB2YWx1ZScpKSksaS5jYW52YXM/XCJzdHJpbmdcIj09dHlwZW9mIGkuY2FudmFzfHxpLmNhbnZhcyBpbnN0YW5jZW9mIHQuSFRNTENhbnZhc0VsZW1lbnR8fHRoaXMuZmlyZShuZXcgQ3QobmV3IER0KGBzb3VyY2VzLiR7ZX1gLG51bGwsJ1wiY2FudmFzXCIgbXVzdCBiZSBlaXRoZXIgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBJRCBvZiB0aGUgY2FudmFzIGVsZW1lbnQgZnJvbSB3aGljaCB0byByZWFkLCBvciBhbiBIVE1MQ2FudmFzRWxlbWVudCBpbnN0YW5jZScpKSk6dGhpcy5maXJlKG5ldyBDdChuZXcgRHQoYHNvdXJjZXMuJHtlfWAsbnVsbCwnbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBcImNhbnZhc1wiJykpKSx0aGlzLm9wdGlvbnM9aSx0aGlzLmFuaW1hdGU9dm9pZCAwPT09aS5hbmltYXRlfHxpLmFuaW1hdGU7fWxvYWQoKXt0aGlzLl9sb2FkZWQ9ITAsdGhpcy5jYW52YXN8fCh0aGlzLmNhbnZhcz10aGlzLm9wdGlvbnMuY2FudmFzIGluc3RhbmNlb2YgdC5IVE1MQ2FudmFzRWxlbWVudD90aGlzLm9wdGlvbnMuY2FudmFzOnQuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5vcHRpb25zLmNhbnZhcykpLHRoaXMud2lkdGg9dGhpcy5jYW52YXMud2lkdGgsdGhpcy5oZWlnaHQ9dGhpcy5jYW52YXMuaGVpZ2h0LHRoaXMuX2hhc0ludmFsaWREaW1lbnNpb25zKCk/dGhpcy5maXJlKG5ldyBDdChuZXcgRXJyb3IoXCJDYW52YXMgZGltZW5zaW9ucyBjYW5ub3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHplcm8uXCIpKSk6KHRoaXMucGxheT1mdW5jdGlvbigpe3RoaXMuX3BsYXlpbmc9ITAsdGhpcy5tYXAudHJpZ2dlclJlcGFpbnQoKTt9LHRoaXMucGF1c2U9ZnVuY3Rpb24oKXt0aGlzLl9wbGF5aW5nJiYodGhpcy5wcmVwYXJlKCksdGhpcy5fcGxheWluZz0hMSk7fSx0aGlzLl9maW5pc2hMb2FkaW5nKCkpO31nZXRDYW52YXMoKXtyZXR1cm4gdGhpcy5jYW52YXN9b25BZGQoZSl7dGhpcy5tYXA9ZSx0aGlzLmxvYWQoKSx0aGlzLmNhbnZhcyYmdGhpcy5hbmltYXRlJiZ0aGlzLnBsYXkoKTt9b25SZW1vdmUoKXt0aGlzLnBhdXNlKCk7fXByZXBhcmUoKXtsZXQgZT0hMTtpZih0aGlzLmNhbnZhcy53aWR0aCE9PXRoaXMud2lkdGgmJih0aGlzLndpZHRoPXRoaXMuY2FudmFzLndpZHRoLGU9ITApLHRoaXMuY2FudmFzLmhlaWdodCE9PXRoaXMuaGVpZ2h0JiYodGhpcy5oZWlnaHQ9dGhpcy5jYW52YXMuaGVpZ2h0LGU9ITApLHRoaXMuX2hhc0ludmFsaWREaW1lbnNpb25zKCkpcmV0dXJuO2lmKDA9PT1PYmplY3Qua2V5cyh0aGlzLnRpbGVzKS5sZW5ndGgpcmV0dXJuO2NvbnN0IHQ9dGhpcy5tYXAucGFpbnRlci5jb250ZXh0O3RoaXMudGV4dHVyZT8hZSYmIXRoaXMuX3BsYXlpbmd8fHRoaXMudGV4dHVyZSBpbnN0YW5jZW9mIEF5fHx0aGlzLnRleHR1cmUudXBkYXRlKHRoaXMuY2FudmFzLHtwcmVtdWx0aXBseTohMH0pOnRoaXMudGV4dHVyZT1uZXcgTXkodCx0aGlzLmNhbnZhcyx0LmdsLlJHQkEse3ByZW11bHRpcGx5OiEwfSksdGhpcy5fcHJlcGFyZURhdGEodCk7fXNlcmlhbGl6ZSgpe3JldHVybiB7dHlwZTpcImNhbnZhc1wiLGNvb3JkaW5hdGVzOnRoaXMuY29vcmRpbmF0ZXN9fWhhc1RyYW5zaXRpb24oKXtyZXR1cm4gdGhpcy5fcGxheWluZ31faGFzSW52YWxpZERpbWVuc2lvbnMoKXtmb3IoY29uc3QgZSBvZiBbdGhpcy5jYW52YXMud2lkdGgsdGhpcy5jYW52YXMuaGVpZ2h0XSlpZihpc05hTihlKXx8ZTw9MClyZXR1cm4gITA7cmV0dXJuICExfX0sY3VzdG9tOmNsYXNzIGV4dGVuZHMgenR7Y29uc3RydWN0b3IoZSx0LGkscil7c3VwZXIoKSx0aGlzLmlkPWUsdGhpcy50eXBlPVwiY3VzdG9tXCIsdGhpcy5fZGF0YVR5cGU9XCJyYXN0ZXJcIix0aGlzLl9kaXNwYXRjaGVyPWksdGhpcy5faW1wbGVtZW50YXRpb249dCx0aGlzLnNldEV2ZW50ZWRQYXJlbnQociksdGhpcy5zY2hlbWU9XCJ4eXpcIix0aGlzLm1pbnpvb209MCx0aGlzLm1heHpvb209MjIsdGhpcy50aWxlU2l6ZT01MTIsdGhpcy5fbG9hZGVkPSExLHRoaXMucm91bmRab29tPSEwLHRoaXMuX2ltcGxlbWVudGF0aW9ufHx0aGlzLmZpcmUobmV3IEN0KG5ldyBFcnJvcihgTWlzc2luZyBpbXBsZW1lbnRhdGlvbiBmb3IgJHt0aGlzLmlkfSBjdXN0b20gc291cmNlYCkpKSx0aGlzLl9pbXBsZW1lbnRhdGlvbi5sb2FkVGlsZXx8dGhpcy5maXJlKG5ldyBDdChuZXcgRXJyb3IoYE1pc3NpbmcgbG9hZFRpbGUgaW1wbGVtZW50YXRpb24gZm9yICR7dGhpcy5pZH0gY3VzdG9tIHNvdXJjZWApKSksdGhpcy5faW1wbGVtZW50YXRpb24uYm91bmRzJiYodGhpcy50aWxlQm91bmRzPW5ldyBSdyh0aGlzLl9pbXBsZW1lbnRhdGlvbi5ib3VuZHMsdGhpcy5taW56b29tLHRoaXMubWF4em9vbSkpLHQudXBkYXRlPXRoaXMuX3VwZGF0ZS5iaW5kKHRoaXMpLHQuY2xlYXJUaWxlcz10aGlzLl9jbGVhclRpbGVzLmJpbmQodGhpcyksdC5jb3ZlcmluZ1RpbGVzPXRoaXMuX2NvdmVyaW5nVGlsZXMuYmluZCh0aGlzKSxrKHRoaXMsTyh0LFtcImRhdGFUeXBlXCIsXCJzY2hlbWVcIixcIm1pbnpvb21cIixcIm1heHpvb21cIixcInRpbGVTaXplXCIsXCJhdHRyaWJ1dGlvblwiLFwibWluVGlsZUNhY2hlU2l6ZVwiLFwibWF4VGlsZUNhY2hlU2l6ZVwiXSkpO31zZXJpYWxpemUoKXtyZXR1cm4gTyh0aGlzLFtcInR5cGVcIixcInNjaGVtZVwiLFwibWluem9vbVwiLFwibWF4em9vbVwiLFwidGlsZVNpemVcIixcImF0dHJpYnV0aW9uXCJdKX1sb2FkKCl7dGhpcy5fbG9hZGVkPSEwLHRoaXMuZmlyZShuZXcgSXQoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJtZXRhZGF0YVwifSkpLHRoaXMuZmlyZShuZXcgSXQoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJjb250ZW50XCJ9KSk7fWxvYWRlZCgpe3JldHVybiB0aGlzLl9sb2FkZWR9b25BZGQoZSl7dGhpcy5fbWFwPWUsdGhpcy5fbG9hZGVkPSExLHRoaXMuZmlyZShuZXcgSXQoXCJkYXRhbG9hZGluZ1wiLHtkYXRhVHlwZTpcInNvdXJjZVwifSkpLHRoaXMuX2ltcGxlbWVudGF0aW9uLm9uQWRkJiZ0aGlzLl9pbXBsZW1lbnRhdGlvbi5vbkFkZChlKSx0aGlzLmxvYWQoKTt9b25SZW1vdmUoZSl7dGhpcy5faW1wbGVtZW50YXRpb24ub25SZW1vdmUmJnRoaXMuX2ltcGxlbWVudGF0aW9uLm9uUmVtb3ZlKGUpO31oYXNUaWxlKGUpe2lmKHRoaXMuX2ltcGxlbWVudGF0aW9uLmhhc1RpbGUpe2NvbnN0e3g6dCx5OmksejpyfT1lLmNhbm9uaWNhbDtyZXR1cm4gdGhpcy5faW1wbGVtZW50YXRpb24uaGFzVGlsZSh7eDp0LHk6aSx6OnJ9KX1yZXR1cm4gIXRoaXMudGlsZUJvdW5kc3x8dGhpcy50aWxlQm91bmRzLmNvbnRhaW5zKGUuY2Fub25pY2FsKX1sb2FkVGlsZShlLGkpe2NvbnN0e3g6cix5Om4sejpvfT1lLnRpbGVJRC5jYW5vbmljYWwscz1uZXcgdC5BYm9ydENvbnRyb2xsZXI7ZS5yZXF1ZXN0PVByb21pc2UucmVzb2x2ZSh0aGlzLl9pbXBsZW1lbnRhdGlvbi5sb2FkVGlsZSh7eDpyLHk6bix6Om99LHtzaWduYWw6cy5zaWduYWx9KSkudGhlbihmdW5jdGlvbihyKXtyZXR1cm4gZGVsZXRlIGUucmVxdWVzdCxlLmFib3J0ZWQ/KGUuc3RhdGU9XCJ1bmxvYWRlZFwiLGkobnVsbCkpOnZvaWQgMD09PXI/KGUuc3RhdGU9XCJlcnJvcmVkXCIsaShudWxsKSk6bnVsbD09PXI/KHRoaXMubG9hZFRpbGVEYXRhKGUse3dpZHRoOnRoaXMudGlsZVNpemUsaGVpZ2h0OnRoaXMudGlsZVNpemUsZGF0YTpudWxsfSksZS5zdGF0ZT1cImxvYWRlZFwiLGkobnVsbCkpOmZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdC5JbWFnZURhdGF8fGUgaW5zdGFuY2VvZiB0LkhUTUxDYW52YXNFbGVtZW50fHxlIGluc3RhbmNlb2YgdC5JbWFnZUJpdG1hcHx8ZSBpbnN0YW5jZW9mIHQuSFRNTEltYWdlRWxlbWVudH0ocik/KHRoaXMubG9hZFRpbGVEYXRhKGUsciksZS5zdGF0ZT1cImxvYWRlZFwiLHZvaWQgaShudWxsKSk6KGUuc3RhdGU9XCJlcnJvcmVkXCIsaShuZXcgRXJyb3IoYENhbid0IGluZmVyIGRhdGEgdHlwZSBmb3IgJHt0aGlzLmlkfSwgb25seSByYXN0ZXIgZGF0YSBzdXBwb3J0ZWQgYXQgdGhlIG1vbWVudGApKSl9LmJpbmQodGhpcykpLmNhdGNoKCh0PT57MjAhPT10LmNvZGUmJihlLnN0YXRlPVwiZXJyb3JlZFwiLGkodCkpO30pKSxlLnJlcXVlc3QuY2FuY2VsPSgpPT5zLmFib3J0KCk7fWxvYWRUaWxlRGF0YShlLHQpe2Uuc2V0VGV4dHVyZSh0LHRoaXMuX21hcC5wYWludGVyKTt9dW5sb2FkVGlsZShlLHQpe2lmKGUudGV4dHVyZSYmZS50ZXh0dXJlIGluc3RhbmNlb2YgTXk/KGUuZGVzdHJveSghMCksZS50ZXh0dXJlJiZlLnRleHR1cmUgaW5zdGFuY2VvZiBNeSYmdGhpcy5fbWFwLnBhaW50ZXIuc2F2ZVRpbGVUZXh0dXJlKGUudGV4dHVyZSkpOmUuZGVzdHJveSgpLHRoaXMuX2ltcGxlbWVudGF0aW9uLnVubG9hZFRpbGUpe2NvbnN0e3g6dCx5OmksejpyfT1lLnRpbGVJRC5jYW5vbmljYWw7dGhpcy5faW1wbGVtZW50YXRpb24udW5sb2FkVGlsZSh7eDp0LHk6aSx6OnJ9KTt9dCgpO31hYm9ydFRpbGUoZSx0KXtlLnJlcXVlc3QmJmUucmVxdWVzdC5jYW5jZWwmJihlLnJlcXVlc3QuY2FuY2VsKCksZGVsZXRlIGUucmVxdWVzdCksdCgpO31oYXNUcmFuc2l0aW9uKCl7cmV0dXJuICExfV9jb3ZlcmluZ1RpbGVzKCl7cmV0dXJuIHRoaXMuX21hcC50cmFuc2Zvcm0uY292ZXJpbmdUaWxlcyh7dGlsZVNpemU6dGhpcy50aWxlU2l6ZSxtaW56b29tOnRoaXMubWluem9vbSxtYXh6b29tOnRoaXMubWF4em9vbSxyb3VuZFpvb206dGhpcy5yb3VuZFpvb219KS5tYXAoKGU9Pih7eDplLmNhbm9uaWNhbC54LHk6ZS5jYW5vbmljYWwueSx6OmUuY2Fub25pY2FsLnp9KSkpfV9jbGVhclRpbGVzKCl7Y29uc3QgZT12YSh0aGlzLmlkLHRoaXMuc2NvcGUpO3RoaXMuX21hcC5zdHlsZS5jbGVhclNvdXJjZShlKTt9X3VwZGF0ZSgpe3RoaXMuZmlyZShuZXcgSXQoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJjb250ZW50XCJ9KSk7fX19LFNUPWZ1bmN0aW9uKGUsdCxpLHIpe2NvbnN0IG49bmV3IEFUW3QudHlwZV0oZSx0LGkscik7aWYobi5pZCE9PWUpdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBTb3VyY2UgaWQgdG8gYmUgJHtlfSBpbnN0ZWFkIG9mICR7bi5pZH1gKTtyZXR1cm4gaihbXCJsb2FkXCIsXCJhYm9ydFwiLFwidW5sb2FkXCIsXCJzZXJpYWxpemVcIixcInByZXBhcmVcIl0sbiksbn07ZnVuY3Rpb24gSVQoZSx0KXtjb25zdCBpPUF1LmlkZW50aXR5KFtdKTtyZXR1cm4gQXUuc2NhbGUoaSxpLFsuNSplLndpZHRoLC41Ki1lLmhlaWdodCwxXSksQXUudHJhbnNsYXRlKGksaSxbMSwtMSwwXSksQXUubXVsdGlwbHkoaSxpLGUuY2FsY3VsYXRlUHJvak1hdHJpeCh0LnRvVW53cmFwcGVkKCkpKSxGbG9hdDMyQXJyYXkuZnJvbShpKX1mdW5jdGlvbiBDVChlLHQsaSxyLG4sbyxzLGE9ITEpe2NvbnN0IGw9ZS50aWxlc0luKHIscyxhKTtsLnNvcnQoUFQpO2NvbnN0IGM9W107Zm9yKGNvbnN0IHIgb2YgbCljLnB1c2goe3dyYXBwZWRUaWxlSUQ6ci50aWxlLnRpbGVJRC53cmFwcGVkKCkua2V5LHF1ZXJ5UmVzdWx0czpyLnRpbGUucXVlcnlSZW5kZXJlZEZlYXR1cmVzKHQsaSxlLl9zdGF0ZSxyLG4sbyxJVChlLnRyYW5zZm9ybSxyLnRpbGUudGlsZUlEKSxhKX0pO2NvbnN0IGg9ZnVuY3Rpb24oZSl7Y29uc3QgdD17fSxpPXt9O2Zvcihjb25zdCByIG9mIGUpe2NvbnN0IGU9ci5xdWVyeVJlc3VsdHMsbj1yLndyYXBwZWRUaWxlSUQsbz1pW25dPWlbbl18fHt9O2Zvcihjb25zdCBpIGluIGUpe2NvbnN0IHI9ZVtpXSxuPW9baV09b1tpXXx8e30scz10W2ldPXRbaV18fFtdO2Zvcihjb25zdCBlIG9mIHIpbltlLmZlYXR1cmVJbmRleF18fChuW2UuZmVhdHVyZUluZGV4XT0hMCxzLnB1c2goZSkpO319cmV0dXJuIHR9KGMpO2Zvcihjb25zdCB0IGluIGgpaFt0XS5mb3JFYWNoKCh0PT57Y29uc3QgaT10LmZlYXR1cmUscj1pLmxheWVyO3ImJlwiYmFja2dyb3VuZFwiIT09ci50eXBlJiZcInNreVwiIT09ci50eXBlJiZcInNsb3RcIiE9PXIudHlwZSYmKGkuc291cmNlPXIuc291cmNlLHJbXCJzb3VyY2UtbGF5ZXJcIl0mJihpLnNvdXJjZUxheWVyPXJbXCJzb3VyY2UtbGF5ZXJcIl0pLGkuc3RhdGU9dm9pZCAwIT09aS5pZD9lLmdldEZlYXR1cmVTdGF0ZShyW1wic291cmNlLWxheWVyXCJdLGkuaWQpOnt9KTt9KSk7cmV0dXJuIGh9ZnVuY3Rpb24gelQoZSx0KXtjb25zdCBpPWUuZ2V0UmVuZGVyYWJsZUlkcygpLm1hcCgodD0+ZS5nZXRUaWxlQnlJRCh0KSkpLHI9W10sbj17fTtmb3IobGV0IGU9MDtlPGkubGVuZ3RoO2UrKyl7Y29uc3Qgbz1pW2VdLHM9by50aWxlSUQuY2Fub25pY2FsLmtleTtuW3NdfHwobltzXT0hMCxvLnF1ZXJ5U291cmNlRmVhdHVyZXMocix0KSk7fXJldHVybiByfWZ1bmN0aW9uIFBUKGUsdCl7Y29uc3QgaT1lLnRpbGVJRCxyPXQudGlsZUlEO3JldHVybiBpLm92ZXJzY2FsZWRaLXIub3ZlcnNjYWxlZFp8fGkuY2Fub25pY2FsLnktci5jYW5vbmljYWwueXx8aS53cmFwLXIud3JhcHx8aS5jYW5vbmljYWwueC1yLmNhbm9uaWNhbC54fWNsYXNzIERUe2NvbnN0cnVjdG9yKGUpe3RoaXMuc3R5bGU9ZTt9cHJvY2Vzc0xheWVyc0NoYW5nZWQoKXt0aGlzLmxheWVycz1bXTtmb3IoY29uc3QgZSBpbiB0aGlzLnN0eWxlLl9tZXJnZWRMYXllcnMpe2NvbnN0IHQ9dGhpcy5zdHlsZS5fbWVyZ2VkTGF5ZXJzW2VdO2lmKFwiZmlsbC1leHRydXNpb25cIj09PXQudHlwZSl0aGlzLmxheWVycy5wdXNoKHQpO2Vsc2UgaWYoXCJtb2RlbFwiPT09dC50eXBlKXtjb25zdCBlPXRoaXMuc3R5bGUuZ2V0TGF5ZXJTb3VyY2UodCk7ZSYmXCJiYXRjaGVkLW1vZGVsXCI9PT1lLnR5cGUmJnRoaXMubGF5ZXJzLnB1c2godCk7fX19dXBkYXRlWk9mZnNldChlLHQpe3RoaXMuY3VycmVudEJ1aWxkaW5nQnVja2V0cz1bXTtmb3IobGV0IGU9MDtlPHRoaXMubGF5ZXJzLmxlbmd0aDsrK2Upe2NvbnN0IGk9dGhpcy5sYXllcnNbZV0scj10aGlzLnN0eWxlLmdldExheWVyU291cmNlQ2FjaGUoaSk7bGV0IG49MTtcImZpbGwtZXh0cnVzaW9uXCI9PT1pLnR5cGUmJihuPWkucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tb3BhY2l0eVwiKT4wP2kucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tdmVydGljYWwtc2NhbGVcIik6MCk7bGV0IG89cj9yLmdldFRpbGUodCk6bnVsbDtpZighbyYmciYmdC5jYW5vbmljYWwuej5yLmdldFNvdXJjZSgpLm1pbnpvb20pe2xldCBlPXQuc2NhbGVkVG8oTWF0aC5taW4oci5nZXRTb3VyY2UoKS5tYXh6b29tLHQub3ZlcnNjYWxlZFotMSkpO2Zvcig7ZS5vdmVyc2NhbGVkWj49ci5nZXRTb3VyY2UoKS5taW56b29tJiYobz1yLmdldFRpbGUoZSksIW8mJjAhPT1lLm92ZXJzY2FsZWRaKTspZT1lLnNjYWxlZFRvKGUub3ZlcnNjYWxlZFotMSk7fXRoaXMuY3VycmVudEJ1aWxkaW5nQnVja2V0cy5wdXNoKHtidWNrZXQ6bz9vLmdldEJ1Y2tldChpKTpudWxsLHRpbGVJRDpvP28udGlsZUlEOnQsdmVydGljYWxTY2FsZTpufSk7fWUuaGFzQW55Wk9mZnNldD0hMTtsZXQgaT0hMTtmb3IobGV0IHI9MDtyPGUuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDtyKyspe2NvbnN0IG49ZS5zeW1ib2xJbnN0YW5jZXMuZ2V0KHIpLG89bi56T2Zmc2V0LHM9dGhpcy5fZ2V0SGVpZ2h0QXRUaWxlT2Zmc2V0KHQsbi50aWxlQW5jaG9yWCxuLnRpbGVBbmNob3JZKTtuLnpPZmZzZXQ9LTEhPT1zP3M6byxpfHxvPT09bi56T2Zmc2V0fHwoaT0hMCksZS5oYXNBbnlaT2Zmc2V0fHwwPT09bi56T2Zmc2V0fHwoZS5oYXNBbnlaT2Zmc2V0PSEwKTt9aSYmKGUuek9mZnNldEJ1ZmZlcnNOZWVkVXBsb2FkPSEwLGUuek9mZnNldFNvcnREaXJ0eT0hMCk7fV9tYXBDb29yZFRvT3ZlcmxhcHBpbmdUaWxlKGUsdCxpLHIpe2xldCBuPXQsbz1pO2lmKGUuY2Fub25pY2FsLnohPT1yLmNhbm9uaWNhbC56KXtjb25zdCBzPXIuY2Fub25pY2FsLGE9MS8oMTw8ZS5jYW5vbmljYWwuei1zLnopO249KHQrZS5jYW5vbmljYWwueCpjcikqYS1zLngqY3J8MCxvPShpK2UuY2Fub25pY2FsLnkqY3IpKmEtcy55KmNyfDA7fXJldHVybiB7dGlsZVg6bix0aWxlWTpvfX1fZ2V0SGVpZ2h0QXRUaWxlT2Zmc2V0KGUsdCxpKXtsZXQgcjtmb3IobGV0IG49MDtuPHRoaXMubGF5ZXJzLmxlbmd0aDsrK24pe2lmKFwiZmlsbC1leHRydXNpb25cIiE9PXRoaXMubGF5ZXJzW25dLnR5cGUpY29udGludWU7Y29uc3R7YnVja2V0Om8sdGlsZUlEOnMsdmVydGljYWxTY2FsZTphfT10aGlzLmN1cnJlbnRCdWlsZGluZ0J1Y2tldHNbbl07aWYoIW8pY29udGludWU7Y29uc3R7dGlsZVg6bCx0aWxlWTpjfT10aGlzLl9tYXBDb29yZFRvT3ZlcmxhcHBpbmdUaWxlKGUsdCxpLHMpLGg9by5nZXRIZWlnaHRBdFRpbGVDb29yZChsLGMpO2lmKGgmJnZvaWQgMCE9PWguaGVpZ2h0KXtpZighaC5oaWRkZW4pcmV0dXJuIGguaGVpZ2h0KmE7cj1oLmhlaWdodDt9fWZvcihsZXQgbj0wO248dGhpcy5sYXllcnMubGVuZ3RoOysrbil7aWYoXCJtb2RlbFwiIT09dGhpcy5sYXllcnNbbl0udHlwZSljb250aW51ZTtjb25zdHtidWNrZXQ6byx0aWxlSUQ6c309dGhpcy5jdXJyZW50QnVpbGRpbmdCdWNrZXRzW25dO2lmKCFvKWNvbnRpbnVlO2NvbnN0e3RpbGVYOmEsdGlsZVk6bH09dGhpcy5fbWFwQ29vcmRUb092ZXJsYXBwaW5nVGlsZShlLHQsaSxzKSxjPW8uZ2V0SGVpZ2h0QXRUaWxlQ29vcmQoYSxsKTtpZihjJiYhYy5oaWRkZW4pcmV0dXJuIHZvaWQgMD09PWMuaGVpZ2h0JiZ2b2lkIDAhPT1yP01hdGgubWluKGMubWF4SGVpZ2h0LHIpKmMudmVydGljYWxTY2FsZTooYy5oZWlnaHR8fDApKmMudmVydGljYWxTY2FsZX1yZXR1cm4gLTF9fXZhciBSVD1bXCJ0eXBlXCIsXCJzb3VyY2VcIixcInNvdXJjZS1sYXllclwiLFwibWluem9vbVwiLFwibWF4em9vbVwiLFwiZmlsdGVyXCIsXCJsYXlvdXRcIl07ZnVuY3Rpb24gTFQoZSx0KXtjb25zdCBpPXt9O2Zvcihjb25zdCB0IGluIGUpXCJyZWZcIiE9PXQmJihpW3RdPWVbdF0pO3JldHVybiBSVC5mb3JFYWNoKChlPT57ZSBpbiB0JiYoaVtlXT10W2VdKTt9KSksaX1mdW5jdGlvbiBrVChlKXtlPWUuc2xpY2UoKTtjb25zdCB0PU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspdFtlW2ldLmlkXT1lW2ldO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKVwicmVmXCJpbiBlW2ldJiYoZVtpXT1MVChlW2ldLHRbZVtpXS5yZWZdKSk7cmV0dXJuIGV9Y29uc3QgT1Q9e3NldFN0eWxlOlwic2V0U3R5bGVcIixhZGRMYXllcjpcImFkZExheWVyXCIscmVtb3ZlTGF5ZXI6XCJyZW1vdmVMYXllclwiLHNldFBhaW50UHJvcGVydHk6XCJzZXRQYWludFByb3BlcnR5XCIsc2V0TGF5b3V0UHJvcGVydHk6XCJzZXRMYXlvdXRQcm9wZXJ0eVwiLHNldFNsb3Q6XCJzZXRTbG90XCIsc2V0RmlsdGVyOlwic2V0RmlsdGVyXCIsYWRkU291cmNlOlwiYWRkU291cmNlXCIscmVtb3ZlU291cmNlOlwicmVtb3ZlU291cmNlXCIsc2V0R2VvSlNPTlNvdXJjZURhdGE6XCJzZXRHZW9KU09OU291cmNlRGF0YVwiLHNldExheWVyWm9vbVJhbmdlOlwic2V0TGF5ZXJab29tUmFuZ2VcIixzZXRMYXllclByb3BlcnR5Olwic2V0TGF5ZXJQcm9wZXJ0eVwiLHNldENlbnRlcjpcInNldENlbnRlclwiLHNldFpvb206XCJzZXRab29tXCIsc2V0QmVhcmluZzpcInNldEJlYXJpbmdcIixzZXRQaXRjaDpcInNldFBpdGNoXCIsc2V0U3ByaXRlOlwic2V0U3ByaXRlXCIsc2V0R2x5cGhzOlwic2V0R2x5cGhzXCIsc2V0VHJhbnNpdGlvbjpcInNldFRyYW5zaXRpb25cIixzZXRMaWdodDpcInNldExpZ2h0XCIsc2V0VGVycmFpbjpcInNldFRlcnJhaW5cIixzZXRGb2c6XCJzZXRGb2dcIixzZXRDYW1lcmE6XCJzZXRDYW1lcmFcIixzZXRMaWdodHM6XCJzZXRMaWdodHNcIixzZXRQcm9qZWN0aW9uOlwic2V0UHJvamVjdGlvblwiLGFkZEltcG9ydDpcImFkZEltcG9ydFwiLHJlbW92ZUltcG9ydDpcInJlbW92ZUltcG9ydFwiLHNldEltcG9ydFVybDpcInNldEltcG9ydFVybFwiLHNldEltcG9ydERhdGE6XCJzZXRJbXBvcnREYXRhXCIsc2V0SW1wb3J0Q29uZmlnOlwic2V0SW1wb3J0Q29uZmlnXCJ9O2Z1bmN0aW9uIEJUKGUsdCxpKXtpLnB1c2goe2NvbW1hbmQ6T1QuYWRkU291cmNlLGFyZ3M6W2UsdFtlXV19KTt9ZnVuY3Rpb24gRlQoZSx0LGkpe3QucHVzaCh7Y29tbWFuZDpPVC5yZW1vdmVTb3VyY2UsYXJnczpbZV19KSxpW2VdPSEwO31mdW5jdGlvbiBOVChlLHQsaSxyKXtGVChlLGksciksQlQoZSx0LGkpO31mdW5jdGlvbiBVVChlLHQsaSl7bGV0IHI7Zm9yKHIgaW4gZVtpXSlpZihlW2ldLmhhc093blByb3BlcnR5KHIpJiZcImRhdGFcIiE9PXImJiF4KGVbaV1bcl0sdFtpXVtyXSkpcmV0dXJuICExO2ZvcihyIGluIHRbaV0paWYodFtpXS5oYXNPd25Qcm9wZXJ0eShyKSYmXCJkYXRhXCIhPT1yJiYheChlW2ldW3JdLHRbaV1bcl0pKXJldHVybiAhMTtyZXR1cm4gITB9ZnVuY3Rpb24gVlQoZSx0LGkscixuLG8pe2xldCBzO2ZvcihzIGluIHQ9dHx8e30sZT1lfHx7fSllLmhhc093blByb3BlcnR5KHMpJiYoeChlW3NdLHRbc10pfHxpLnB1c2goe2NvbW1hbmQ6byxhcmdzOltyLHMsdFtzXSxuXX0pKTtmb3IocyBpbiB0KXQuaGFzT3duUHJvcGVydHkocykmJiFlLmhhc093blByb3BlcnR5KHMpJiYoeChlW3NdLHRbc10pfHxpLnB1c2goe2NvbW1hbmQ6byxhcmdzOltyLHMsdFtzXSxuXX0pKTt9ZnVuY3Rpb24galQoZSl7cmV0dXJuIGUuaWR9ZnVuY3Rpb24gR1QoZSx0KXtyZXR1cm4gZVt0LmlkXT10LGV9Y2xhc3MgcVR7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnJlc2V0KGUsdCk7fXJlc2V0KGUsdCl7dGhpcy5wb2ludHM9ZXx8W10sdGhpcy5fZGlzdGFuY2VzPVswXTtmb3IobGV0IGU9MTtlPHRoaXMucG9pbnRzLmxlbmd0aDtlKyspdGhpcy5fZGlzdGFuY2VzW2VdPXRoaXMuX2Rpc3RhbmNlc1tlLTFdK3RoaXMucG9pbnRzW2VdLmRpc3QodGhpcy5wb2ludHNbZS0xXSk7dGhpcy5sZW5ndGg9dGhpcy5fZGlzdGFuY2VzW3RoaXMuX2Rpc3RhbmNlcy5sZW5ndGgtMV0sdGhpcy5wYWRkaW5nPU1hdGgubWluKHR8fDAsLjUqdGhpcy5sZW5ndGgpLHRoaXMucGFkZGVkTGVuZ3RoPXRoaXMubGVuZ3RoLTIqdGhpcy5wYWRkaW5nO31sZXJwKGUpe2lmKDE9PT10aGlzLnBvaW50cy5sZW5ndGgpcmV0dXJuIHRoaXMucG9pbnRzWzBdO2U9eihlLDAsMSk7bGV0IHQ9MSxpPXRoaXMuX2Rpc3RhbmNlc1t0XTtjb25zdCByPWUqdGhpcy5wYWRkZWRMZW5ndGgrdGhpcy5wYWRkaW5nO2Zvcig7aTxyJiZ0PHRoaXMuX2Rpc3RhbmNlcy5sZW5ndGg7KWk9dGhpcy5fZGlzdGFuY2VzWysrdF07Y29uc3Qgbj10LTEsbz10aGlzLl9kaXN0YW5jZXNbbl0scz1pLW8sYT1zPjA/KHItbykvczowO3JldHVybiB0aGlzLnBvaW50c1tuXS5tdWx0KDEtYSkuYWRkKHRoaXMucG9pbnRzW3RdLm11bHQoYSkpfX1jbGFzcyBaVHtjb25zdHJ1Y3RvcihlLHQsaSl7Y29uc3Qgcj10aGlzLmJveENlbGxzPVtdLG49dGhpcy5jaXJjbGVDZWxscz1bXTt0aGlzLnhDZWxsQ291bnQ9TWF0aC5jZWlsKGUvaSksdGhpcy55Q2VsbENvdW50PU1hdGguY2VpbCh0L2kpO2ZvcihsZXQgZT0wO2U8dGhpcy54Q2VsbENvdW50KnRoaXMueUNlbGxDb3VudDtlKyspci5wdXNoKFtdKSxuLnB1c2goW10pO3RoaXMuY2lyY2xlS2V5cz1bXSx0aGlzLmJveEtleXM9W10sdGhpcy5iYm94ZXM9W10sdGhpcy5jaXJjbGVzPVtdLHRoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD10LHRoaXMueFNjYWxlPXRoaXMueENlbGxDb3VudC9lLHRoaXMueVNjYWxlPXRoaXMueUNlbGxDb3VudC90LHRoaXMuYm94VWlkPTAsdGhpcy5jaXJjbGVVaWQ9MDt9a2V5c0xlbmd0aCgpe3JldHVybiB0aGlzLmJveEtleXMubGVuZ3RoK3RoaXMuY2lyY2xlS2V5cy5sZW5ndGh9aW5zZXJ0KGUsdCxpLHIsbil7dGhpcy5fZm9yRWFjaENlbGwodCxpLHIsbix0aGlzLl9pbnNlcnRCb3hDZWxsLHRoaXMuYm94VWlkKyspLHRoaXMuYm94S2V5cy5wdXNoKGUpLHRoaXMuYmJveGVzLnB1c2godCksdGhpcy5iYm94ZXMucHVzaChpKSx0aGlzLmJib3hlcy5wdXNoKHIpLHRoaXMuYmJveGVzLnB1c2gobik7fWluc2VydENpcmNsZShlLHQsaSxyKXt0aGlzLl9mb3JFYWNoQ2VsbCh0LXIsaS1yLHQrcixpK3IsdGhpcy5faW5zZXJ0Q2lyY2xlQ2VsbCx0aGlzLmNpcmNsZVVpZCsrKSx0aGlzLmNpcmNsZUtleXMucHVzaChlKSx0aGlzLmNpcmNsZXMucHVzaCh0KSx0aGlzLmNpcmNsZXMucHVzaChpKSx0aGlzLmNpcmNsZXMucHVzaChyKTt9X2luc2VydEJveENlbGwoZSx0LGkscixuLG8pe3RoaXMuYm94Q2VsbHNbbl0ucHVzaChvKTt9X2luc2VydENpcmNsZUNlbGwoZSx0LGkscixuLG8pe3RoaXMuY2lyY2xlQ2VsbHNbbl0ucHVzaChvKTt9X3F1ZXJ5KGUsdCxpLHIsbixvKXtpZihpPDB8fGU+dGhpcy53aWR0aHx8cjwwfHx0PnRoaXMuaGVpZ2h0KXJldHVybiAhbiYmW107Y29uc3Qgcz1bXTtpZihlPD0wJiZ0PD0wJiZ0aGlzLndpZHRoPD1pJiZ0aGlzLmhlaWdodDw9cil7aWYobilyZXR1cm4gITA7Zm9yKGxldCBlPTA7ZTx0aGlzLmJveEtleXMubGVuZ3RoO2UrKylzLnB1c2goe2tleTp0aGlzLmJveEtleXNbZV0seDE6dGhpcy5iYm94ZXNbNCplXSx5MTp0aGlzLmJib3hlc1s0KmUrMV0seDI6dGhpcy5iYm94ZXNbNCplKzJdLHkyOnRoaXMuYmJveGVzWzQqZSszXX0pO2ZvcihsZXQgZT0wO2U8dGhpcy5jaXJjbGVLZXlzLmxlbmd0aDtlKyspe2NvbnN0IHQ9dGhpcy5jaXJjbGVzWzMqZV0saT10aGlzLmNpcmNsZXNbMyplKzFdLHI9dGhpcy5jaXJjbGVzWzMqZSsyXTtzLnB1c2goe2tleTp0aGlzLmNpcmNsZUtleXNbZV0seDE6dC1yLHkxOmktcix4Mjp0K3IseTI6aStyfSk7fXJldHVybiBvP3MuZmlsdGVyKG8pOnN9cmV0dXJuIHRoaXMuX2ZvckVhY2hDZWxsKGUsdCxpLHIsdGhpcy5fcXVlcnlDZWxsLHMse2hpdFRlc3Q6bixzZWVuVWlkczp7Ym94Ont9LGNpcmNsZTp7fX19LG8pLG4/cy5sZW5ndGg+MDpzfV9xdWVyeUNpcmNsZShlLHQsaSxyLG4pe2NvbnN0IG89ZS1pLHM9ZStpLGE9dC1pLGw9dCtpO2lmKHM8MHx8bz50aGlzLndpZHRofHxsPDB8fGE+dGhpcy5oZWlnaHQpcmV0dXJuICFyJiZbXTtjb25zdCBjPVtdO3JldHVybiB0aGlzLl9mb3JFYWNoQ2VsbChvLGEscyxsLHRoaXMuX3F1ZXJ5Q2VsbENpcmNsZSxjLHtoaXRUZXN0OnIsY2lyY2xlOnt4OmUseTp0LHJhZGl1czppfSxzZWVuVWlkczp7Ym94Ont9LGNpcmNsZTp7fX19LG4pLHI/Yy5sZW5ndGg+MDpjfXF1ZXJ5KGUsdCxpLHIsbil7cmV0dXJuIHRoaXMuX3F1ZXJ5KGUsdCxpLHIsITEsbil9aGl0VGVzdChlLHQsaSxyLG4pe3JldHVybiB0aGlzLl9xdWVyeShlLHQsaSxyLCEwLG4pfWhpdFRlc3RDaXJjbGUoZSx0LGkscil7cmV0dXJuIHRoaXMuX3F1ZXJ5Q2lyY2xlKGUsdCxpLCEwLHIpfV9xdWVyeUNlbGwoZSx0LGkscixuLG8scyxhKXtjb25zdCBsPXMuc2VlblVpZHMsYz10aGlzLmJveENlbGxzW25dO2lmKG51bGwhPT1jKXtjb25zdCBuPXRoaXMuYmJveGVzO2Zvcihjb25zdCBoIG9mIGMpaWYoIWwuYm94W2hdKXtsLmJveFtoXT0hMDtjb25zdCBjPTQqaDtpZihlPD1uW2MrMl0mJnQ8PW5bYyszXSYmaT49bltjKzBdJiZyPj1uW2MrMV0mJighYXx8YSh0aGlzLmJveEtleXNbaF0pKSl7aWYocy5oaXRUZXN0KXJldHVybiBvLnB1c2goITApLCEwO28ucHVzaCh7a2V5OnRoaXMuYm94S2V5c1toXSx4MTpuW2NdLHkxOm5bYysxXSx4MjpuW2MrMl0seTI6bltjKzNdfSk7fX19Y29uc3QgaD10aGlzLmNpcmNsZUNlbGxzW25dO2lmKG51bGwhPT1oKXtjb25zdCBuPXRoaXMuY2lyY2xlcztmb3IoY29uc3QgYyBvZiBoKWlmKCFsLmNpcmNsZVtjXSl7bC5jaXJjbGVbY109ITA7Y29uc3QgaD0zKmM7aWYodGhpcy5fY2lyY2xlQW5kUmVjdENvbGxpZGUobltoXSxuW2grMV0sbltoKzJdLGUsdCxpLHIpJiYoIWF8fGEodGhpcy5jaXJjbGVLZXlzW2NdKSkpe2lmKHMuaGl0VGVzdClyZXR1cm4gby5wdXNoKCEwKSwhMDt7Y29uc3QgZT1uW2hdLHQ9bltoKzFdLGk9bltoKzJdO28ucHVzaCh7a2V5OnRoaXMuY2lyY2xlS2V5c1tjXSx4MTplLWkseTE6dC1pLHgyOmUraSx5Mjp0K2l9KTt9fX19fV9xdWVyeUNlbGxDaXJjbGUoZSx0LGkscixuLG8scyxhKXtjb25zdCBsPXMuY2lyY2xlLGM9cy5zZWVuVWlkcyxoPXRoaXMuYm94Q2VsbHNbbl07aWYobnVsbCE9PWgpe2NvbnN0IGU9dGhpcy5iYm94ZXM7Zm9yKGNvbnN0IHQgb2YgaClpZighYy5ib3hbdF0pe2MuYm94W3RdPSEwO2NvbnN0IGk9NCp0O2lmKHRoaXMuX2NpcmNsZUFuZFJlY3RDb2xsaWRlKGwueCxsLnksbC5yYWRpdXMsZVtpKzBdLGVbaSsxXSxlW2krMl0sZVtpKzNdKSYmKCFhfHxhKHRoaXMuYm94S2V5c1t0XSkpKXJldHVybiBvLnB1c2goITApLCEwfX1jb25zdCB1PXRoaXMuY2lyY2xlQ2VsbHNbbl07aWYobnVsbCE9PXUpe2NvbnN0IGU9dGhpcy5jaXJjbGVzO2Zvcihjb25zdCB0IG9mIHUpaWYoIWMuY2lyY2xlW3RdKXtjLmNpcmNsZVt0XT0hMDtjb25zdCBpPTMqdDtpZih0aGlzLl9jaXJjbGVzQ29sbGlkZShlW2ldLGVbaSsxXSxlW2krMl0sbC54LGwueSxsLnJhZGl1cykmJighYXx8YSh0aGlzLmNpcmNsZUtleXNbdF0pKSlyZXR1cm4gby5wdXNoKCEwKSwhMH19fV9mb3JFYWNoQ2VsbChlLHQsaSxyLG4sbyxzLGEpe2NvbnN0IGw9dGhpcy5fY29udmVydFRvWENlbGxDb29yZChlKSxjPXRoaXMuX2NvbnZlcnRUb1lDZWxsQ29vcmQodCksaD10aGlzLl9jb252ZXJ0VG9YQ2VsbENvb3JkKGkpLHU9dGhpcy5fY29udmVydFRvWUNlbGxDb29yZChyKTtmb3IobGV0IGQ9bDtkPD1oO2QrKylmb3IobGV0IGw9YztsPD11O2wrKylpZihuLmNhbGwodGhpcyxlLHQsaSxyLHRoaXMueENlbGxDb3VudCpsK2QsbyxzLGEpKXJldHVybn1fY29udmVydFRvWENlbGxDb29yZChlKXtyZXR1cm4gTWF0aC5tYXgoMCxNYXRoLm1pbih0aGlzLnhDZWxsQ291bnQtMSxNYXRoLmZsb29yKGUqdGhpcy54U2NhbGUpKSl9X2NvbnZlcnRUb1lDZWxsQ29vcmQoZSl7cmV0dXJuIE1hdGgubWF4KDAsTWF0aC5taW4odGhpcy55Q2VsbENvdW50LTEsTWF0aC5mbG9vcihlKnRoaXMueVNjYWxlKSkpfV9jaXJjbGVzQ29sbGlkZShlLHQsaSxyLG4sbyl7Y29uc3Qgcz1yLWUsYT1uLXQsbD1pK287cmV0dXJuIGwqbD5zKnMrYSphfV9jaXJjbGVBbmRSZWN0Q29sbGlkZShlLHQsaSxyLG4sbyxzKXtjb25zdCBhPShvLXIpLzIsbD1NYXRoLmFicyhlLShyK2EpKTtpZihsPmEraSlyZXR1cm4gITE7Y29uc3QgYz0ocy1uKS8yLGg9TWF0aC5hYnModC0obitjKSk7aWYoaD5jK2kpcmV0dXJuICExO2lmKGw8PWF8fGg8PWMpcmV0dXJuICEwO2NvbnN0IHU9bC1hLGQ9aC1jO3JldHVybiB1KnUrZCpkPD1pKml9fWNvbnN0ICRUPTEwMDtjbGFzcyBXVHtjb25zdHJ1Y3RvcihlLHQsaT1uZXcgWlQoZS53aWR0aCsyMDAsZS5oZWlnaHQrMjAwLDI1KSxyPW5ldyBaVChlLndpZHRoKzIwMCxlLmhlaWdodCsyMDAsMjUpKXt0aGlzLnRyYW5zZm9ybT1lLHRoaXMuZ3JpZD1pLHRoaXMuaWdub3JlZEdyaWQ9cix0aGlzLnBpdGNoZmFjdG9yPU1hdGguY29zKGUuX3BpdGNoKSplLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UsdGhpcy5zY3JlZW5SaWdodEJvdW5kYXJ5PWUud2lkdGgrJFQsdGhpcy5zY3JlZW5Cb3R0b21Cb3VuZGFyeT1lLmhlaWdodCskVCx0aGlzLmdyaWRSaWdodEJvdW5kYXJ5PWUud2lkdGgrMjAwLHRoaXMuZ3JpZEJvdHRvbUJvdW5kYXJ5PWUuaGVpZ2h0KzIwMCx0aGlzLmZvZ1N0YXRlPXQ7fXBsYWNlQ29sbGlzaW9uQm94KGUsdCxpLHIsbixvLHMsYSl7bGV0IGw9aS5wcm9qZWN0ZWRBbmNob3JYLGM9aS5wcm9qZWN0ZWRBbmNob3JZLGg9aS5wcm9qZWN0ZWRBbmNob3JaO2NvbnN0IHU9aS5lbGV2YXRpb24sZD1pLnRpbGVJRCxwPWUuZ2V0UHJvamVjdGlvbigpO2lmKHUmJmQpe2NvbnN0W2UsdCxyXT1wLnVwVmVjdG9yKGQuY2Fub25pY2FsLGkudGlsZUFuY2hvclgsaS50aWxlQW5jaG9yWSksbj1wLnVwVmVjdG9yU2NhbGUoZC5jYW5vbmljYWwsdGhpcy50cmFuc2Zvcm0uY2VudGVyLmxhdCx0aGlzLnRyYW5zZm9ybS53b3JsZFNpemUpLm1ldGVyc1RvVGlsZTtsKz1lKnUqbixjKz10KnUqbixoKz1yKnUqbjt9Y29uc3QgZj10aGlzLnByb2plY3RBbmRHZXRQZXJzcGVjdGl2ZVJhdGlvKHMsbCxjLGgsaS50aWxlSUQsXCJnbG9iZVwiPT09cC5uYW1lfHwhIXV8fHRoaXMudHJhbnNmb3JtLnBpdGNoPjAscCksbT1vKmYucGVyc3BlY3RpdmVSYXRpbyxfPShpLngxKnQrci54LWkucGFkZGluZykqbStmLnBvaW50LngsZz0oaS55MSp0K3IueS1pLnBhZGRpbmcpKm0rZi5wb2ludC55LHk9KGkueDIqdCtyLngraS5wYWRkaW5nKSptK2YucG9pbnQueCx4PShpLnkyKnQrci55K2kucGFkZGluZykqbStmLnBvaW50Lnksdj1mLnBlcnNwZWN0aXZlUmF0aW88PS41NXx8Zi5vY2NsdWRlZDtyZXR1cm4gIXRoaXMuaXNJbnNpZGVHcmlkKF8sZyx5LHgpfHwhbiYmdGhpcy5ncmlkLmhpdFRlc3QoXyxnLHkseCxhKXx8dj97Ym94OltdLG9mZnNjcmVlbjohMSxvY2NsdWRlZDpmLm9jY2x1ZGVkfTp7Ym94OltfLGcseSx4XSxvZmZzY3JlZW46dGhpcy5pc09mZnNjcmVlbihfLGcseSx4KSxvY2NsdWRlZDohMX19cGxhY2VDb2xsaXNpb25DaXJjbGVzKGUsdCxpLHIsbixvLHMsYSxsLGMsaCx1LGQscCxmKXtjb25zdCBtPVtdLF89dGhpcy50cmFuc2Zvcm0uZWxldmF0aW9uLGc9ZS5nZXRQcm9qZWN0aW9uKCkseD1fP18uZ2V0QXRUaWxlT2Zmc2V0RnVuYyhmLHRoaXMudHJhbnNmb3JtLmNlbnRlci5sYXQsdGhpcy50cmFuc2Zvcm0ud29ybGRTaXplLGcpOm51bGwsdj1uZXcgeShpLnRpbGVBbmNob3JYLGkudGlsZUFuY2hvclkpO2xldHt4OmIseTp3LHo6VH09Zy5wcm9qZWN0VGlsZVBvaW50KHYueCx2LnksZi5jYW5vbmljYWwpO2lmKHgpe2NvbnN0W2UsdCxpXT14KHYpO2IrPWUsdys9dCxUKz1pO31jb25zdCBFPVwiZ2xvYmVcIj09PWcubmFtZSxNPXRoaXMucHJvamVjdEFuZEdldFBlcnNwZWN0aXZlUmF0aW8ocyxiLHcsVCxmLEV8fCEhX3x8dGhpcy50cmFuc2Zvcm0ucGl0Y2g+MCxnKSx7cGVyc3BlY3RpdmVSYXRpbzpBfT1NLFM9KGg/by9BOm8qQSkvdV8sST1jdihiLHcsVCxhKSxDPU0uc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhPjA/cHYoUyxuLGkubGluZU9mZnNldFgqUyxpLmxpbmVPZmZzZXRZKlMsITEsSSx2LGkscixhLHt9LF8mJiFoP3g6bnVsbCxoJiYhIV8sZyxmLGgpOm51bGw7bGV0IHo9ITEsUD0hMSxEPSEwO2lmKEMmJiFNLm9jY2x1ZGVkKXtjb25zdCBlPS41KmQqQStwLGk9bmV3IHkoLTEwMCwtMTAwKSxyPW5ldyB5KHRoaXMuc2NyZWVuUmlnaHRCb3VuZGFyeSx0aGlzLnNjcmVlbkJvdHRvbUJvdW5kYXJ5KSxuPW5ldyBxVCx7Zmlyc3Q6byxsYXN0OnN9PUMsYT1vLnBhdGgubGVuZ3RoO2xldCBoPVtdO2ZvcihsZXQgZT1hLTE7ZT49MTtlLS0paC5wdXNoKG8ucGF0aFtlXSk7Zm9yKGxldCBlPTE7ZTxzLnBhdGgubGVuZ3RoO2UrKyloLnB1c2gocy5wYXRoW2VdKTtjb25zdCBmPTIuNSplO2wmJihoPWgubWFwKCgoW2UsdCxpXSxyKT0+KHgmJiFFJiYoaT14KHI8YS0xP28udGlsZVBhdGhbYS0xLXJdOnMudGlsZVBhdGhbci1hKzJdKVsyXSksY3YoZSx0LGksbCkpKSksaC5zb21lKChlPT5lWzNdPD0wKSkmJihoPVtdKSk7bGV0IF89W107aWYoaC5sZW5ndGg+MCl7bGV0IGU9MS8wLHQ9LTEvMCxuPTEvMCxvPS0xLzA7Zm9yKGNvbnN0IGkgb2YgaCllPU1hdGgubWluKGUsaVswXSksbj1NYXRoLm1pbihuLGlbMV0pLHQ9TWF0aC5tYXgodCxpWzBdKSxvPU1hdGgubWF4KG8saVsxXSk7dD49aS54JiZlPD1yLngmJm8+PWkueSYmbjw9ci55JiYoXz1baC5tYXAoKGU9Pm5ldyB5KGVbMF0sZVsxXSkpKV0sKGU8aS54fHx0PnIueHx8bjxpLnl8fG8+ci55KSYmKF89WV8oXyxpLngsaS55LHIueCxyLnkpKSk7fWZvcihjb25zdCBpIG9mIF8pe24ucmVzZXQoaSwuMjUqZSk7bGV0IHI9MDtyPW4ubGVuZ3RoPD0uNSplPzE6TWF0aC5jZWlsKG4ucGFkZGVkTGVuZ3RoL2YpKzE7Zm9yKGxldCBpPTA7aTxyO2krKyl7Y29uc3Qgbz1pL01hdGgubWF4KHItMSwxKSxzPW4ubGVycChvKSxhPXMueCskVCxsPXMueSskVDttLnB1c2goYSxsLGUsMCk7Y29uc3QgaD1hLWUsZD1sLWUscD1hK2UsZj1sK2U7aWYoRD1EJiZ0aGlzLmlzT2Zmc2NyZWVuKGgsZCxwLGYpLFA9UHx8dGhpcy5pc0luc2lkZUdyaWQoaCxkLHAsZiksIXQmJnRoaXMuZ3JpZC5oaXRUZXN0Q2lyY2xlKGEsbCxlLHUpJiYoej0hMCwhYykpcmV0dXJuIHtjaXJjbGVzOltdLG9mZnNjcmVlbjohMSxjb2xsaXNpb25EZXRlY3RlZDp6LG9jY2x1ZGVkOiExfX19fXJldHVybiB7Y2lyY2xlczohYyYmenx8IVA/W106bSxvZmZzY3JlZW46RCxjb2xsaXNpb25EZXRlY3RlZDp6LG9jY2x1ZGVkOk0ub2NjbHVkZWR9fXF1ZXJ5UmVuZGVyZWRTeW1ib2xzKGUpe2lmKDA9PT1lLmxlbmd0aHx8MD09PXRoaXMuZ3JpZC5rZXlzTGVuZ3RoKCkmJjA9PT10aGlzLmlnbm9yZWRHcmlkLmtleXNMZW5ndGgoKSlyZXR1cm4ge307Y29uc3QgdD1bXTtsZXQgaT0xLzAscj0xLzAsbj0tMS8wLG89LTEvMDtmb3IoY29uc3QgcyBvZiBlKXtjb25zdCBlPW5ldyB5KHMueCskVCxzLnkrJFQpO2k9TWF0aC5taW4oaSxlLngpLHI9TWF0aC5taW4ocixlLnkpLG49TWF0aC5tYXgobixlLngpLG89TWF0aC5tYXgobyxlLnkpLHQucHVzaChlKTt9Y29uc3Qgcz10aGlzLmdyaWQucXVlcnkoaSxyLG4sbykuY29uY2F0KHRoaXMuaWdub3JlZEdyaWQucXVlcnkoaSxyLG4sbykpLGE9e30sbD17fTtmb3IoY29uc3QgZSBvZiBzKXtjb25zdCBpPWUua2V5O3ZvaWQgMD09PWFbaS5idWNrZXRJbnN0YW5jZUlkXSYmKGFbaS5idWNrZXRJbnN0YW5jZUlkXT17fSksYVtpLmJ1Y2tldEluc3RhbmNlSWRdW2kuZmVhdHVyZUluZGV4XXx8YnAodCxbbmV3IHkoZS54MSxlLnkxKSxuZXcgeShlLngyLGUueTEpLG5ldyB5KGUueDIsZS55MiksbmV3IHkoZS54MSxlLnkyKV0pJiYoYVtpLmJ1Y2tldEluc3RhbmNlSWRdW2kuZmVhdHVyZUluZGV4XT0hMCx2b2lkIDA9PT1sW2kuYnVja2V0SW5zdGFuY2VJZF0mJihsW2kuYnVja2V0SW5zdGFuY2VJZF09W10pLGxbaS5idWNrZXRJbnN0YW5jZUlkXS5wdXNoKGkuZmVhdHVyZUluZGV4KSk7fXJldHVybiBsfWluc2VydENvbGxpc2lvbkJveChlLHQsaSxyLG4peyh0P3RoaXMuaWdub3JlZEdyaWQ6dGhpcy5ncmlkKS5pbnNlcnQoe2J1Y2tldEluc3RhbmNlSWQ6aSxmZWF0dXJlSW5kZXg6cixjb2xsaXNpb25Hcm91cElEOm59LGVbMF0sZVsxXSxlWzJdLGVbM10pO31pbnNlcnRDb2xsaXNpb25DaXJjbGVzKGUsdCxpLHIsbil7Y29uc3Qgbz10P3RoaXMuaWdub3JlZEdyaWQ6dGhpcy5ncmlkLHM9e2J1Y2tldEluc3RhbmNlSWQ6aSxmZWF0dXJlSW5kZXg6cixjb2xsaXNpb25Hcm91cElEOm59O2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCs9NClvLmluc2VydENpcmNsZShzLGVbdF0sZVt0KzFdLGVbdCsyXSk7fXByb2plY3RBbmRHZXRQZXJzcGVjdGl2ZVJhdGlvKGUsdCxpLHIsbixvLHMpe2NvbnN0IGE9W3QsaSxyLDFdO2xldCBsPSExO2lmKHJ8fHRoaXMudHJhbnNmb3JtLnBpdGNoPjApe2lmKHl1LnRyYW5zZm9ybU1hdDQoYSxhLGUpLHRoaXMuZm9nU3RhdGUmJm4mJlwiZ2xvYmVcIiE9PXMubmFtZSl7Y29uc3QgZT1mdW5jdGlvbihlLHQsaSxyLG4sbyl7Y29uc3Qgcz1vLmNhbGN1bGF0ZUZvZ1RpbGVNYXRyaXgobiksYT1bdCxpLHJdO3JldHVybiBEdS50cmFuc2Zvcm1NYXQ0KGEsYSxzKSxtdyhlLER1Lmxlbmd0aChhKSxvLnBpdGNoLG8uX2Zvdil9KHRoaXMuZm9nU3RhdGUsdCxpLHIsbi50b1Vud3JhcHBlZCgpLHRoaXMudHJhbnNmb3JtKTtsPWU+Ljk7fX1lbHNlIHZ2KGEsYSxlKTtjb25zdCBjPWFbM107cmV0dXJuIHtwb2ludDpuZXcgeSgoYVswXS9jKzEpLzIqdGhpcy50cmFuc2Zvcm0ud2lkdGgrJFQsKC1hWzFdL2MrMSkvMip0aGlzLnRyYW5zZm9ybS5oZWlnaHQrJFQpLHBlcnNwZWN0aXZlUmF0aW86TWF0aC5taW4oLjUrdGhpcy50cmFuc2Zvcm0uZ2V0Q2FtZXJhVG9DZW50ZXJEaXN0YW5jZShzKS9jKi41LDEuNSksc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhOmMsb2NjbHVkZWQ6byYmYVsyXT5jfHxsfX1pc09mZnNjcmVlbihlLHQsaSxyKXtyZXR1cm4gaTwkVHx8ZT49dGhpcy5zY3JlZW5SaWdodEJvdW5kYXJ5fHxyPCRUfHx0PnRoaXMuc2NyZWVuQm90dG9tQm91bmRhcnl9aXNJbnNpZGVHcmlkKGUsdCxpLHIpe3JldHVybiBpPj0wJiZlPHRoaXMuZ3JpZFJpZ2h0Qm91bmRhcnkmJnI+PTAmJnQ8dGhpcy5ncmlkQm90dG9tQm91bmRhcnl9Z2V0Vmlld3BvcnRNYXRyaXgoKXtjb25zdCBlPUF1LmlkZW50aXR5KFtdKTtyZXR1cm4gQXUudHJhbnNsYXRlKGUsZSxbLTEwMCwtMTAwLDBdKSxlfX1mdW5jdGlvbiBIVChlLHQsaSl7Y29uc3Qgcj10LmNyZWF0ZVRpbGVNYXRyaXgoZSxlLndvcmxkU2l6ZSxpLnRvVW53cmFwcGVkKCkpO3JldHVybiBBdS5tdWx0aXBseShuZXcgRmxvYXQzMkFycmF5KDE2KSxlLnByb2pNYXRyaXgscil9ZnVuY3Rpb24gWFQoZSx0LGkpe2lmKHQucHJvamVjdGlvbi5uYW1lPT09aS5wcm9qZWN0aW9uLm5hbWUpcmV0dXJuIGUucHJvak1hdHJpeDtjb25zdCByPWkuY2xvbmUoKTtyZXR1cm4gci5zZXRQcm9qZWN0aW9uKHQucHJvamVjdGlvbiksSFQocix0LmdldFByb2plY3Rpb24oKSxlKX1mdW5jdGlvbiBZVChlLHQsaSl7cmV0dXJuIHQubmFtZT09PWkucHJvamVjdGlvbi5uYW1lP2UucHJvak1hdHJpeDpIVChpLHQsZSl9Y2xhc3MgS1R7Y29uc3RydWN0b3IoZSx0LGkscil7dGhpcy5vcGFjaXR5PWU/TWF0aC5tYXgoMCxNYXRoLm1pbigxLGUub3BhY2l0eSsoZS5wbGFjZWQ/dDotdCkpKTpyJiZpPzE6MCx0aGlzLnBsYWNlZD1pO31pc0hpZGRlbigpe3JldHVybiAwPT09dGhpcy5vcGFjaXR5JiYhdGhpcy5wbGFjZWR9fWNsYXNzIEpUe2NvbnN0cnVjdG9yKGUsdCxpLHIsbixvPSExKXt0aGlzLnRleHQ9bmV3IEtUKGU/ZS50ZXh0Om51bGwsdCxpLG4pLHRoaXMuaWNvbj1uZXcgS1QoZT9lLmljb246bnVsbCx0LHIsbiksdGhpcy5jbGlwcGVkPW87fWlzSGlkZGVuKCl7cmV0dXJuIHRoaXMudGV4dC5pc0hpZGRlbigpJiZ0aGlzLmljb24uaXNIaWRkZW4oKX19Y2xhc3MgUVR7Y29uc3RydWN0b3IoZSx0LGkscj0hMSl7dGhpcy50ZXh0PWUsdGhpcy5pY29uPXQsdGhpcy5za2lwRmFkZT1pLHRoaXMuY2xpcHBlZD1yO319Y2xhc3MgZUV7Y29uc3RydWN0b3IoKXt0aGlzLmludlByb2pNYXRyaXg9QXUuY3JlYXRlKCksdGhpcy52aWV3cG9ydE1hdHJpeD1BdS5jcmVhdGUoKSx0aGlzLmNpcmNsZXM9W107fX1jbGFzcyB0RXtjb25zdHJ1Y3RvcihlLHQsaSxyLG4pe3RoaXMuYnVja2V0SW5zdGFuY2VJZD1lLHRoaXMuZmVhdHVyZUluZGV4PXQsdGhpcy5zb3VyY2VMYXllckluZGV4PWksdGhpcy5idWNrZXRJbmRleD1yLHRoaXMudGlsZUlEPW47fX1jbGFzcyBpRXtjb25zdHJ1Y3RvcihlKXt0aGlzLmNyb3NzU291cmNlQ29sbGlzaW9ucz1lLHRoaXMubWF4R3JvdXBJRD0wLHRoaXMuY29sbGlzaW9uR3JvdXBzPXt9O31nZXQoZSl7aWYodGhpcy5jcm9zc1NvdXJjZUNvbGxpc2lvbnMpcmV0dXJuIHtJRDowLHByZWRpY2F0ZTpudWxsfTtpZighdGhpcy5jb2xsaXNpb25Hcm91cHNbZV0pe2NvbnN0IHQ9Kyt0aGlzLm1heEdyb3VwSUQ7dGhpcy5jb2xsaXNpb25Hcm91cHNbZV09e0lEOnQscHJlZGljYXRlOmU9PmUuY29sbGlzaW9uR3JvdXBJRD09PXR9O31yZXR1cm4gdGhpcy5jb2xsaXNpb25Hcm91cHNbZV19fWZ1bmN0aW9uIHJFKGUsdCxpLHIsbil7Y29uc3R7aG9yaXpvbnRhbEFsaWduOm8sdmVydGljYWxBbGlnbjpzfT1GXyhlKSxhPS0oby0uNSkqdCxsPS0ocy0uNSkqaSxjPXhnKGUscik7cmV0dXJuIG5ldyB5KGErY1swXSpuLGwrY1sxXSpuKX1mdW5jdGlvbiBuRShlLHQsaSxyLG4pe2NvbnN0IG89bmV3IHkoZSx0KTtyZXR1cm4gaSYmby5fcm90YXRlKHI/bjotbiksb31jbGFzcyBvRXtjb25zdHJ1Y3RvcihlLHQsaSxyLG4sbyl7dGhpcy50cmFuc2Zvcm09ZS5jbG9uZSgpLHRoaXMucHJvamVjdGlvbj1lLnByb2plY3Rpb24ubmFtZSx0aGlzLmNvbGxpc2lvbkluZGV4PW5ldyBXVCh0aGlzLnRyYW5zZm9ybSxuKSx0aGlzLmJ1aWxkaW5nSW5kZXg9byx0aGlzLnBsYWNlbWVudHM9e30sdGhpcy5vcGFjaXRpZXM9e30sdGhpcy52YXJpYWJsZU9mZnNldHM9e30sdGhpcy5zdGFsZT0hMSx0aGlzLmNvbW1pdFRpbWU9MCx0aGlzLmZhZGVEdXJhdGlvbj10LHRoaXMucmV0YWluZWRRdWVyeURhdGE9e30sdGhpcy5jb2xsaXNpb25Hcm91cHM9bmV3IGlFKGkpLHRoaXMuY29sbGlzaW9uQ2lyY2xlQXJyYXlzPXt9LHRoaXMucHJldlBsYWNlbWVudD1yLHImJihyLnByZXZQbGFjZW1lbnQ9dm9pZCAwKSx0aGlzLnBsYWNlZE9yaWVudGF0aW9ucz17fTt9Z2V0QnVja2V0UGFydHMoZSx0LGkscil7Y29uc3Qgbj1pLmdldEJ1Y2tldCh0KSxvPWkubGF0ZXN0RmVhdHVyZUluZGV4O2lmKCFufHwhb3x8dC5mcWlkIT09bi5sYXllcklkc1swXSlyZXR1cm47Y29uc3Qgcz1uLmxheWVyc1swXS5sYXlvdXQsYT1pLmNvbGxpc2lvbkJveEFycmF5LGw9TWF0aC5wb3coMix0aGlzLnRyYW5zZm9ybS56b29tLWkudGlsZUlELm92ZXJzY2FsZWRaKSxjPWkudGlsZVNpemUvY3IsaD1pLnRpbGVJRC50b1Vud3JhcHBlZCgpO3RoaXMudHJhbnNmb3JtLnNldFByb2plY3Rpb24obi5wcm9qZWN0aW9uKTtjb25zdCB1PShkPWkudGlsZUlELHA9bi5nZXRQcm9qZWN0aW9uKCksZj10aGlzLnRyYW5zZm9ybSxwLm5hbWU9PT10aGlzLnByb2plY3Rpb24/Zi5jYWxjdWxhdGVQcm9qTWF0cml4KGQudG9VbndyYXBwZWQoKSk6SFQoZixwLGQpKTt2YXIgZCxwLGY7Y29uc3QgbT1cIm1hcFwiPT09cy5nZXQoXCJ0ZXh0LXBpdGNoLWFsaWdubWVudFwiKSxfPVwibWFwXCI9PT1zLmdldChcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIpO3QuY29tcGlsZUZpbHRlcigpO2NvbnN0IGc9dC5keW5hbWljRmlsdGVyKCkseT10LmR5bmFtaWNGaWx0ZXJOZWVkc0ZlYXR1cmUoKSx4PXRoaXMudHJhbnNmb3JtLmNhbGN1bGF0ZVBpeGVsc1RvVGlsZVVuaXRzTWF0cml4KGkpLHY9YXYodSxpLnRpbGVJRC5jYW5vbmljYWwsbSxfLHRoaXMudHJhbnNmb3JtLG4uZ2V0UHJvamVjdGlvbigpLHgpO2xldCBiPW51bGw7aWYobSl7Y29uc3QgZT1sdih1LGkudGlsZUlELmNhbm9uaWNhbCxtLF8sdGhpcy50cmFuc2Zvcm0sbi5nZXRQcm9qZWN0aW9uKCkseCk7Yj1BdS5tdWx0aXBseShbXSx0aGlzLnRyYW5zZm9ybS5sYWJlbFBsYW5lTWF0cml4LGUpO31sZXQgdz1udWxsO2cmJmkubGF0ZXN0RmVhdHVyZUluZGV4JiYodz17dW53cmFwcGVkVGlsZUlEOmgsZHluYW1pY0ZpbHRlcjpnLGR5bmFtaWNGaWx0ZXJOZWVkc0ZlYXR1cmU6eSxmZWF0dXJlSW5kZXg6aS5sYXRlc3RGZWF0dXJlSW5kZXh9KSx0aGlzLnJldGFpbmVkUXVlcnlEYXRhW24uYnVja2V0SW5zdGFuY2VJZF09bmV3IHRFKG4uYnVja2V0SW5zdGFuY2VJZCxvLG4uc291cmNlTGF5ZXJJbmRleCxuLmluZGV4LGkudGlsZUlEKTtjb25zdCBUPXtidWNrZXQ6bixsYXlvdXQ6cyxwb3NNYXRyaXg6dSx0ZXh0TGFiZWxQbGFuZU1hdHJpeDp2LGxhYmVsVG9TY3JlZW5NYXRyaXg6YixjbGlwcGluZ0RhdGE6dyxzY2FsZTpsLHRleHRQaXhlbFJhdGlvOmMsaG9sZGluZ0ZvckZhZGU6aS5ob2xkaW5nRm9yRmFkZSgpLGNvbGxpc2lvbkJveEFycmF5OmEscGFydGlhbGx5RXZhbHVhdGVkVGV4dFNpemU6bV8obi50ZXh0U2l6ZURhdGEsdGhpcy50cmFuc2Zvcm0uem9vbSkscGFydGlhbGx5RXZhbHVhdGVkSWNvblNpemU6bV8obi5pY29uU2l6ZURhdGEsdGhpcy50cmFuc2Zvcm0uem9vbSksY29sbGlzaW9uR3JvdXA6dGhpcy5jb2xsaXNpb25Hcm91cHMuZ2V0KG4uc291cmNlSUQpfTtpZihyKWZvcihjb25zdCB0IG9mIG4uc29ydEtleVJhbmdlcyl7Y29uc3R7c29ydEtleTppLHN5bWJvbEluc3RhbmNlU3RhcnQ6cixzeW1ib2xJbnN0YW5jZUVuZDpufT10O2UucHVzaCh7c29ydEtleTppLHN5bWJvbEluc3RhbmNlU3RhcnQ6cixzeW1ib2xJbnN0YW5jZUVuZDpuLHBhcmFtZXRlcnM6VH0pO31lbHNlIGUucHVzaCh7c3ltYm9sSW5zdGFuY2VTdGFydDowLHN5bWJvbEluc3RhbmNlRW5kOm4uc3ltYm9sSW5zdGFuY2VzLmxlbmd0aCxwYXJhbWV0ZXJzOlR9KTt9YXR0ZW1wdEFuY2hvclBsYWNlbWVudChlLHQsaSxyLG4sbyxzLGEsbCxjLGgsdSxkLHAsZixtLF8sZyl7Y29uc3R7dGV4dE9mZnNldDA6eSx0ZXh0T2Zmc2V0MTp4LGNyb3NzVGlsZUlEOnZ9PXUsYj1beSx4XSx3PXJFKGUsaSxyLGIsbiksVD10aGlzLmNvbGxpc2lvbkluZGV4LnBsYWNlQ29sbGlzaW9uQm94KHAsbix0LG5FKHcueCx3LnksbyxzLHRoaXMudHJhbnNmb3JtLmFuZ2xlKSxoLGEsbCxjLnByZWRpY2F0ZSk7aWYobSl7Y29uc3QgZT1wLmdldFN5bWJvbEluc3RhbmNlSWNvblNpemUoZyx0aGlzLnRyYW5zZm9ybS56b29tLHUucGxhY2VkSWNvblN5bWJvbEluZGV4KTtpZigwPT09dGhpcy5jb2xsaXNpb25JbmRleC5wbGFjZUNvbGxpc2lvbkJveChwLGUsbSxuRSh3Lngsdy55LG8scyx0aGlzLnRyYW5zZm9ybS5hbmdsZSksaCxhLGwsYy5wcmVkaWNhdGUpLmJveC5sZW5ndGgpcmV0dXJufWlmKFQuYm94Lmxlbmd0aD4wKXtsZXQgdDtyZXR1cm4gdGhpcy5wcmV2UGxhY2VtZW50JiZ0aGlzLnByZXZQbGFjZW1lbnQudmFyaWFibGVPZmZzZXRzW3ZdJiZ0aGlzLnByZXZQbGFjZW1lbnQucGxhY2VtZW50c1t2XSYmdGhpcy5wcmV2UGxhY2VtZW50LnBsYWNlbWVudHNbdl0udGV4dCYmKHQ9dGhpcy5wcmV2UGxhY2VtZW50LnZhcmlhYmxlT2Zmc2V0c1t2XS5hbmNob3IpLHRoaXMudmFyaWFibGVPZmZzZXRzW3ZdPXt0ZXh0T2Zmc2V0OmIsd2lkdGg6aSxoZWlnaHQ6cixhbmNob3I6ZSx0ZXh0U2NhbGU6bixwcmV2QW5jaG9yOnR9LHRoaXMubWFya1VzZWRKdXN0aWZpY2F0aW9uKHAsZSx1LGYpLHAuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmKHRoaXMubWFya1VzZWRPcmllbnRhdGlvbihwLGYsdSksdGhpcy5wbGFjZWRPcmllbnRhdGlvbnNbdl09Zikse3NoaWZ0OncscGxhY2VkR2x5cGhCb3hlczpUfX19cGxhY2VMYXllckJ1Y2tldFBhcnQoZSx0LGkscil7Y29uc3R7YnVja2V0Om4sbGF5b3V0Om8scG9zTWF0cml4OnMsdGV4dExhYmVsUGxhbmVNYXRyaXg6YSxsYWJlbFRvU2NyZWVuTWF0cml4OmwsY2xpcHBpbmdEYXRhOmMsdGV4dFBpeGVsUmF0aW86aCxob2xkaW5nRm9yRmFkZTp1LGNvbGxpc2lvbkJveEFycmF5OmQscGFydGlhbGx5RXZhbHVhdGVkVGV4dFNpemU6cCxwYXJ0aWFsbHlFdmFsdWF0ZWRJY29uU2l6ZTpmLGNvbGxpc2lvbkdyb3VwOm19PWUucGFyYW1ldGVycyxfPW8uZ2V0KFwidGV4dC1vcHRpb25hbFwiKSxnPW8uZ2V0KFwiaWNvbi1vcHRpb25hbFwiKSx4PW8uZ2V0KFwidGV4dC1hbGxvdy1vdmVybGFwXCIpLHY9by5nZXQoXCJpY29uLWFsbG93LW92ZXJsYXBcIiksYj1cIm1hcFwiPT09by5nZXQoXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiKSx3PVwibWFwXCI9PT1vLmdldChcInRleHQtcGl0Y2gtYWxpZ25tZW50XCIpLFQ9XCJ2aWV3cG9ydC15XCI9PT1vLmdldChcInN5bWJvbC16LW9yZGVyXCIpLEU9by5nZXQoXCJzeW1ib2wtei1lbGV2YXRlXCIpO3RoaXMudHJhbnNmb3JtLnNldFByb2plY3Rpb24obi5wcm9qZWN0aW9uKTtsZXQgTT14JiYodnx8IW4uaGFzSWNvbkRhdGEoKXx8ZyksQT12JiYoeHx8IW4uaGFzVGV4dERhdGEoKXx8Xyk7IW4uY29sbGlzaW9uQXJyYXlzJiZkJiZuLmRlc2VyaWFsaXplQ29sbGlzaW9uQm94ZXMoZCksaSYmciYmbi51cGRhdGVDb2xsaXNpb25EZWJ1Z0J1ZmZlcnModGhpcy50cmFuc2Zvcm0uem9vbSxkKTtjb25zdCBTPShlLHIsZCk9Pntjb25zdHtjcm9zc1RpbGVJRDpULG51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlczpFfT1lO2lmKGMpe2NvbnN0IGk9e3pvb206dGhpcy50cmFuc2Zvcm0uem9vbSxwaXRjaDp0aGlzLnRyYW5zZm9ybS5waXRjaH07bGV0IHI9bnVsbDtpZihjLmR5bmFtaWNGaWx0ZXJOZWVkc0ZlYXR1cmUpe2NvbnN0IHQ9dGhpcy5yZXRhaW5lZFF1ZXJ5RGF0YVtuLmJ1Y2tldEluc3RhbmNlSWRdO3I9Yy5mZWF0dXJlSW5kZXgubG9hZEZlYXR1cmUoe2ZlYXR1cmVJbmRleDplLmZlYXR1cmVJbmRleCxidWNrZXRJbmRleDp0LmJ1Y2tldEluZGV4LHNvdXJjZUxheWVySW5kZXg6dC5zb3VyY2VMYXllckluZGV4LGxheW91dFZlcnRleEFycmF5T2Zmc2V0OjB9KTt9aWYoISgwLGMuZHluYW1pY0ZpbHRlcikoaSxyLHRoaXMucmV0YWluZWRRdWVyeURhdGFbbi5idWNrZXRJbnN0YW5jZUlkXS50aWxlSUQuY2Fub25pY2FsLG5ldyB5KGUudGlsZUFuY2hvclgsZS50aWxlQW5jaG9yWSksdGhpcy50cmFuc2Zvcm0uY2FsY3VsYXRlRGlzdGFuY2VUaWxlRGF0YShjLnVud3JhcHBlZFRpbGVJRCkpKXJldHVybiB0aGlzLnBsYWNlbWVudHNbVF09bmV3IFFUKCExLCExLCExLCEwKSx2b2lkIHQuYWRkKFQpfWlmKHQuaGFzKFQpKXJldHVybjtpZih1KXJldHVybiB2b2lkKHRoaXMucGxhY2VtZW50c1tUXT1uZXcgUVQoITEsITEsITEpKTtsZXQgUz0hMSxJPSExLEM9ITAsej0hMSxQPSExLEQ9bnVsbCxSPXtib3g6bnVsbCxvZmZzY3JlZW46bnVsbCxvY2NsdWRlZDpudWxsfSxMPXtib3g6bnVsbCxvZmZzY3JlZW46bnVsbCxvY2NsdWRlZDpudWxsfSxrPW51bGwsTz1udWxsLEI9bnVsbCxGPTAsTj0wLFU9MDtkLnRleHRGZWF0dXJlSW5kZXg/Rj1kLnRleHRGZWF0dXJlSW5kZXg6ZS51c2VSdW50aW1lQ29sbGlzaW9uQ2lyY2xlcyYmKEY9ZS5mZWF0dXJlSW5kZXgpLGQudmVydGljYWxUZXh0RmVhdHVyZUluZGV4JiYoTj1kLnZlcnRpY2FsVGV4dEZlYXR1cmVJbmRleCk7Y29uc3QgVj10PT57dC50aWxlSUQ9dGhpcy5yZXRhaW5lZFF1ZXJ5RGF0YVtuLmJ1Y2tldEluc3RhbmNlSWRdLnRpbGVJRDtjb25zdCBpPXRoaXMudHJhbnNmb3JtLmVsZXZhdGlvbjt0LmVsZXZhdGlvbj1lLnpPZmZzZXQrKGk/aS5nZXRBdFRpbGVPZmZzZXQodC50aWxlSUQsdC50aWxlQW5jaG9yWCx0LnRpbGVBbmNob3JZKTowKTt9LGo9ZC50ZXh0Qm94O2lmKGope1Yoaik7Y29uc3QgdD10PT57bGV0IGk9QV8uaG9yaXpvbnRhbDtpZihuLmFsbG93VmVydGljYWxQbGFjZW1lbnQmJiF0JiZ0aGlzLnByZXZQbGFjZW1lbnQpe2NvbnN0IHQ9dGhpcy5wcmV2UGxhY2VtZW50LnBsYWNlZE9yaWVudGF0aW9uc1tUXTt0JiYodGhpcy5wbGFjZWRPcmllbnRhdGlvbnNbVF09dCxpPXQsdGhpcy5tYXJrVXNlZE9yaWVudGF0aW9uKG4saSxlKSk7fXJldHVybiBpfSxpPShlLHQpPT57aWYobi5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiZFPjAmJmQudmVydGljYWxUZXh0Qm94KXtmb3IoY29uc3QgaSBvZiBuLndyaXRpbmdNb2RlcylpZihpPT09QV8udmVydGljYWw/KFI9dCgpLEw9Uik6Uj1lKCksUiYmUi5ib3gmJlIuYm94Lmxlbmd0aClicmVha31lbHNlIFI9ZSgpO307aWYoby5nZXQoXCJ0ZXh0LXZhcmlhYmxlLWFuY2hvclwiKSl7bGV0IGE9by5nZXQoXCJ0ZXh0LXZhcmlhYmxlLWFuY2hvclwiKTtpZih0aGlzLnByZXZQbGFjZW1lbnQmJnRoaXMucHJldlBsYWNlbWVudC52YXJpYWJsZU9mZnNldHNbVF0pe2NvbnN0IGU9dGhpcy5wcmV2UGxhY2VtZW50LnZhcmlhYmxlT2Zmc2V0c1tUXTthLmluZGV4T2YoZS5hbmNob3IpPjAmJihhPWEuZmlsdGVyKCh0PT50IT09ZS5hbmNob3IpKSxhLnVuc2hpZnQoZS5hbmNob3IpKTt9Y29uc3QgbD0odCxpLG8pPT57Y29uc3QgbD1uLmdldFN5bWJvbEluc3RhbmNlVGV4dFNpemUocCxlLHRoaXMudHJhbnNmb3JtLnpvb20sciksYz0odC54Mi10LngxKSpsKzIqdC5wYWRkaW5nLHU9KHQueTItdC55MSkqbCsyKnQucGFkZGluZyxkPWUuaGFzSWNvblRleHRGaXQmJiF2P2k6bnVsbDtkJiZWKGQpO2xldCBfPXtib3g6W10sb2Zmc2NyZWVuOiExLG9jY2x1ZGVkOiExfTtjb25zdCBnPXg/MiphLmxlbmd0aDphLmxlbmd0aDtmb3IobGV0IGk9MDtpPGc7KytpKXtjb25zdCBnPXRoaXMuYXR0ZW1wdEFuY2hvclBsYWNlbWVudChhW2klYS5sZW5ndGhdLHQsYyx1LGwsYix3LGgscyxtLGk+PWEubGVuZ3RoLGUscixuLG8sZCxwLGYpO2lmKGcmJihfPWcucGxhY2VkR2x5cGhCb3hlcyxfJiZfLmJveCYmXy5ib3gubGVuZ3RoKSl7Uz0hMCxEPWcuc2hpZnQ7YnJlYWt9fXJldHVybiBffTtpKCgoKT0+bChqLGQuaWNvbkJveCxBXy5ob3Jpem9udGFsKSksKCgpPT57Y29uc3QgZT1kLnZlcnRpY2FsVGV4dEJveDtyZXR1cm4gZSYmVihlKSxuLmFsbG93VmVydGljYWxQbGFjZW1lbnQmJiEoUiYmUi5ib3gmJlIuYm94Lmxlbmd0aCkmJkU+MCYmZT9sKGUsZC52ZXJ0aWNhbEljb25Cb3gsQV8udmVydGljYWwpOntib3g6bnVsbCxvZmZzY3JlZW46bnVsbCxvY2NsdWRlZDpudWxsfX0pKSxSJiYoUz1SLmJveCxDPVIub2Zmc2NyZWVuLHo9Ui5vY2NsdWRlZCk7Y29uc3QgYz10KCEoIVJ8fCFSLmJveCkpO2lmKCFTJiZ0aGlzLnByZXZQbGFjZW1lbnQpe2NvbnN0IHQ9dGhpcy5wcmV2UGxhY2VtZW50LnZhcmlhYmxlT2Zmc2V0c1tUXTt0JiYodGhpcy52YXJpYWJsZU9mZnNldHNbVF09dCx0aGlzLm1hcmtVc2VkSnVzdGlmaWNhdGlvbihuLHQuYW5jaG9yLGUsYykpO319ZWxzZSB7Y29uc3Qgbz0odCxpKT0+e2NvbnN0IG89bi5nZXRTeW1ib2xJbnN0YW5jZVRleHRTaXplKHAsZSx0aGlzLnRyYW5zZm9ybS56b29tLHIpLGE9dGhpcy5jb2xsaXNpb25JbmRleC5wbGFjZUNvbGxpc2lvbkJveChuLG8sdCxuZXcgeSgwLDApLHgsaCxzLG0ucHJlZGljYXRlKTtyZXR1cm4gYSYmYS5ib3gmJmEuYm94Lmxlbmd0aCYmKHRoaXMubWFya1VzZWRPcmllbnRhdGlvbihuLGksZSksdGhpcy5wbGFjZWRPcmllbnRhdGlvbnNbVF09aSksYX07aSgoKCk9Pm8oaixBXy5ob3Jpem9udGFsKSksKCgpPT57Y29uc3QgZT1kLnZlcnRpY2FsVGV4dEJveDtyZXR1cm4gbi5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiZFPjAmJmU/KFYoZSksbyhlLEFfLnZlcnRpY2FsKSk6e2JveDpudWxsLG9mZnNjcmVlbjpudWxsLG9jY2x1ZGVkOm51bGx9fSkpLHQoISEoUiYmUi5ib3gmJlIuYm94Lmxlbmd0aCkpO319aWYoaz1SLFM9ayYmay5ib3gmJmsuYm94Lmxlbmd0aD4wLEM9ayYmay5vZmZzY3JlZW4sej1rJiZrLm9jY2x1ZGVkLGUudXNlUnVudGltZUNvbGxpc2lvbkNpcmNsZXMpe2NvbnN0IHQ9bi50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldChlLmNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleD49MD9lLmNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleDplLnZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4KSxyPWZfKG4udGV4dFNpemVEYXRhLHAsdCksYz1vLmdldChcInRleHQtcGFkZGluZ1wiKTtPPXRoaXMuY29sbGlzaW9uSW5kZXgucGxhY2VDb2xsaXNpb25DaXJjbGVzKG4seCx0LG4ubGluZVZlcnRleEFycmF5LG4uZ2x5cGhPZmZzZXRBcnJheSxyLHMsYSxsLGksdyxtLnByZWRpY2F0ZSxlLmNvbGxpc2lvbkNpcmNsZURpYW1ldGVyKnIvdV8sYyx0aGlzLnJldGFpbmVkUXVlcnlEYXRhW24uYnVja2V0SW5zdGFuY2VJZF0udGlsZUlEKSxTPXh8fE8uY2lyY2xlcy5sZW5ndGg+MCYmIU8uY29sbGlzaW9uRGV0ZWN0ZWQsQz1DJiZPLm9mZnNjcmVlbix6PU8ub2NjbHVkZWQ7fWlmKGQuaWNvbkZlYXR1cmVJbmRleCYmKFU9ZC5pY29uRmVhdHVyZUluZGV4KSxkLmljb25Cb3gpe2NvbnN0IHQ9dD0+e1YodCk7Y29uc3QgaT1lLmhhc0ljb25UZXh0Rml0JiZEP25FKEQueCxELnksYix3LHRoaXMudHJhbnNmb3JtLmFuZ2xlKTpuZXcgeSgwLDApLHI9bi5nZXRTeW1ib2xJbnN0YW5jZUljb25TaXplKGYsdGhpcy50cmFuc2Zvcm0uem9vbSxlLnBsYWNlZEljb25TeW1ib2xJbmRleCk7cmV0dXJuIHRoaXMuY29sbGlzaW9uSW5kZXgucGxhY2VDb2xsaXNpb25Cb3gobixyLHQsaSx2LGgscyxtLnByZWRpY2F0ZSl9O0wmJkwuYm94JiZMLmJveC5sZW5ndGgmJmQudmVydGljYWxJY29uQm94PyhCPXQoZC52ZXJ0aWNhbEljb25Cb3gpLEk9Qi5ib3gubGVuZ3RoPjApOihCPXQoZC5pY29uQm94KSxJPUIuYm94Lmxlbmd0aD4wKSxDPUMmJkIub2Zmc2NyZWVuLFA9Qi5vY2NsdWRlZDt9Y29uc3QgRz1ffHwwPT09ZS5udW1Ib3Jpem9udGFsR2x5cGhWZXJ0aWNlcyYmMD09PUUscT1nfHwwPT09ZS5udW1JY29uVmVydGljZXM7aWYoR3x8cT9xP0d8fChJPUkmJlMpOlM9SSYmUzpJPVM9SSYmUyxTJiZrJiZrLmJveCYmdGhpcy5jb2xsaXNpb25JbmRleC5pbnNlcnRDb2xsaXNpb25Cb3goay5ib3gsby5nZXQoXCJ0ZXh0LWlnbm9yZS1wbGFjZW1lbnRcIiksbi5idWNrZXRJbnN0YW5jZUlkLEwmJkwuYm94JiZOP046RixtLklEKSxJJiZCJiZ0aGlzLmNvbGxpc2lvbkluZGV4Lmluc2VydENvbGxpc2lvbkJveChCLmJveCxvLmdldChcImljb24taWdub3JlLXBsYWNlbWVudFwiKSxuLmJ1Y2tldEluc3RhbmNlSWQsVSxtLklEKSxPJiYoUyYmdGhpcy5jb2xsaXNpb25JbmRleC5pbnNlcnRDb2xsaXNpb25DaXJjbGVzKE8uY2lyY2xlcyxvLmdldChcInRleHQtaWdub3JlLXBsYWNlbWVudFwiKSxuLmJ1Y2tldEluc3RhbmNlSWQsRixtLklEKSxpKSl7Y29uc3QgZT1uLmJ1Y2tldEluc3RhbmNlSWQ7bGV0IHQ9dGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheXNbZV07dm9pZCAwPT09dCYmKHQ9dGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheXNbZV09bmV3IGVFKTtmb3IobGV0IGU9MDtlPE8uY2lyY2xlcy5sZW5ndGg7ZSs9NCl0LmNpcmNsZXMucHVzaChPLmNpcmNsZXNbZSswXSksdC5jaXJjbGVzLnB1c2goTy5jaXJjbGVzW2UrMV0pLHQuY2lyY2xlcy5wdXNoKE8uY2lyY2xlc1tlKzJdKSx0LmNpcmNsZXMucHVzaChPLmNvbGxpc2lvbkRldGVjdGVkPzE6MCk7fWNvbnN0IFo9XCJnbG9iZVwiIT09bi5wcm9qZWN0aW9uLm5hbWU7TT1NJiYoWnx8IXopLEE9QSYmKFp8fCFQKSx0aGlzLnBsYWNlbWVudHNbVF09bmV3IFFUKFN8fE0sSXx8QSxDfHxuLmp1c3RSZWxvYWRlZCksdC5hZGQoVCk7fTtpZihFJiZ0aGlzLmJ1aWxkaW5nSW5kZXgmJih0aGlzLmJ1aWxkaW5nSW5kZXgudXBkYXRlWk9mZnNldChuLHRoaXMucmV0YWluZWRRdWVyeURhdGFbbi5idWNrZXRJbnN0YW5jZUlkXS50aWxlSUQpLG4udXBkYXRlWk9mZnNldCgpKSxUKXtjb25zdCBlPW4uZ2V0U29ydGVkU3ltYm9sSW5kZXhlcyh0aGlzLnRyYW5zZm9ybS5hbmdsZSk7Zm9yKGxldCB0PWUubGVuZ3RoLTE7dD49MDstLXQpe2NvbnN0IGk9ZVt0XTtTKG4uc3ltYm9sSW5zdGFuY2VzLmdldChpKSxpLG4uY29sbGlzaW9uQXJyYXlzW2ldKTt9bi5oYXNBbnlaT2Zmc2V0JiZIKGAke24ubGF5ZXJJZHNbMF19IGxheWVyIHN5bWJvbC16LWVsZXZhdGU6IHN5bWJvbHMgYXJlIG5vdCBzb3J0ZWQgYnkgZWxldmF0aW9uIGlmIHN5bWJvbC16LW9yZGVyIGlzIGV2YWx1YXRlZCB0byB2aWV3cG9ydC15YCk7fWVsc2UgaWYobi5oYXNBbnlaT2Zmc2V0KXtjb25zdCBlPW4uZ2V0U29ydGVkSW5kZXhlc0J5Wk9mZnNldCgpO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7Kyt0KXtjb25zdCBpPWVbdF07UyhuLnN5bWJvbEluc3RhbmNlcy5nZXQoaSksaSxuLmNvbGxpc2lvbkFycmF5c1tpXSk7fX1lbHNlIGZvcihsZXQgdD1lLnN5bWJvbEluc3RhbmNlU3RhcnQ7dDxlLnN5bWJvbEluc3RhbmNlRW5kO3QrKylTKG4uc3ltYm9sSW5zdGFuY2VzLmdldCh0KSx0LG4uY29sbGlzaW9uQXJyYXlzW3RdKTtpZihpJiZuLmJ1Y2tldEluc3RhbmNlSWQgaW4gdGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheXMpe2NvbnN0IGU9dGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheXNbbi5idWNrZXRJbnN0YW5jZUlkXTtBdS5pbnZlcnQoZS5pbnZQcm9qTWF0cml4LHMpLGUudmlld3BvcnRNYXRyaXg9dGhpcy5jb2xsaXNpb25JbmRleC5nZXRWaWV3cG9ydE1hdHJpeCgpO31uLmp1c3RSZWxvYWRlZD0hMTt9bWFya1VzZWRKdXN0aWZpY2F0aW9uKGUsdCxpLHIpe2NvbnN0e2xlZnRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6bixjZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6byxyaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleDpzLHZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4OmEsY3Jvc3NUaWxlSUQ6bH09aSxjPWJnKHQpLGg9cj09PUFfLnZlcnRpY2FsP2E6XCJsZWZ0XCI9PT1jP246XCJjZW50ZXJcIj09PWM/bzpcInJpZ2h0XCI9PT1jP3M6LTE7bj49MCYmKGUudGV4dC5wbGFjZWRTeW1ib2xBcnJheS5nZXQobikuY3Jvc3NUaWxlSUQ9aD49MCYmbiE9PWg/MDpsKSxvPj0wJiYoZS50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldChvKS5jcm9zc1RpbGVJRD1oPj0wJiZvIT09aD8wOmwpLHM+PTAmJihlLnRleHQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KHMpLmNyb3NzVGlsZUlEPWg+PTAmJnMhPT1oPzA6bCksYT49MCYmKGUudGV4dC5wbGFjZWRTeW1ib2xBcnJheS5nZXQoYSkuY3Jvc3NUaWxlSUQ9aD49MCYmYSE9PWg/MDpsKTt9bWFya1VzZWRPcmllbnRhdGlvbihlLHQsaSl7Y29uc3Qgcj10PT09QV8uaG9yaXpvbnRhbHx8dD09PUFfLmhvcml6b250YWxPbmx5P3Q6MCxuPXQ9PT1BXy52ZXJ0aWNhbD90OjAse2xlZnRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6byxjZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6cyxyaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleDphLHZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4Omx9PWksYz1lLnRleHQucGxhY2VkU3ltYm9sQXJyYXk7bz49MCYmKGMuZ2V0KG8pLnBsYWNlZE9yaWVudGF0aW9uPXIpLHM+PTAmJihjLmdldChzKS5wbGFjZWRPcmllbnRhdGlvbj1yKSxhPj0wJiYoYy5nZXQoYSkucGxhY2VkT3JpZW50YXRpb249ciksbD49MCYmKGMuZ2V0KGwpLnBsYWNlZE9yaWVudGF0aW9uPW4pO31jb21taXQoZSl7dGhpcy5jb21taXRUaW1lPWUsdGhpcy56b29tQXRMYXN0UmVjZW5jeUNoZWNrPXRoaXMudHJhbnNmb3JtLnpvb207Y29uc3QgdD10aGlzLnByZXZQbGFjZW1lbnQ7bGV0IGk9ITE7dGhpcy5wcmV2Wm9vbUFkanVzdG1lbnQ9dD90Lnpvb21BZGp1c3RtZW50KHRoaXMudHJhbnNmb3JtLnpvb20pOjA7Y29uc3Qgcj10P3Quc3ltYm9sRmFkZUNoYW5nZShlKToxLG49dD90Lm9wYWNpdGllczp7fSxvPXQ/dC52YXJpYWJsZU9mZnNldHM6e30scz10P3QucGxhY2VkT3JpZW50YXRpb25zOnt9O2Zvcihjb25zdCBlIGluIHRoaXMucGxhY2VtZW50cyl7Y29uc3QgdD10aGlzLnBsYWNlbWVudHNbZV0sbz1uW2VdO28/KHRoaXMub3BhY2l0aWVzW2VdPW5ldyBKVChvLHIsdC50ZXh0LHQuaWNvbixudWxsLHQuY2xpcHBlZCksaT1pfHx0LnRleHQhPT1vLnRleHQucGxhY2VkfHx0Lmljb24hPT1vLmljb24ucGxhY2VkKToodGhpcy5vcGFjaXRpZXNbZV09bmV3IEpUKG51bGwscix0LnRleHQsdC5pY29uLHQuc2tpcEZhZGUsdC5jbGlwcGVkKSxpPWl8fHQudGV4dHx8dC5pY29uKTt9Zm9yKGNvbnN0IGUgaW4gbil7Y29uc3QgdD1uW2VdO2lmKCF0aGlzLm9wYWNpdGllc1tlXSl7Y29uc3Qgbj1uZXcgSlQodCxyLCExLCExKTtuLmlzSGlkZGVuKCl8fCh0aGlzLm9wYWNpdGllc1tlXT1uLGk9aXx8dC50ZXh0LnBsYWNlZHx8dC5pY29uLnBsYWNlZCk7fX1mb3IoY29uc3QgZSBpbiBvKXRoaXMudmFyaWFibGVPZmZzZXRzW2VdfHwhdGhpcy5vcGFjaXRpZXNbZV18fHRoaXMub3BhY2l0aWVzW2VdLmlzSGlkZGVuKCl8fCh0aGlzLnZhcmlhYmxlT2Zmc2V0c1tlXT1vW2VdKTtmb3IoY29uc3QgZSBpbiBzKXRoaXMucGxhY2VkT3JpZW50YXRpb25zW2VdfHwhdGhpcy5vcGFjaXRpZXNbZV18fHRoaXMub3BhY2l0aWVzW2VdLmlzSGlkZGVuKCl8fCh0aGlzLnBsYWNlZE9yaWVudGF0aW9uc1tlXT1zW2VdKTtpP3RoaXMubGFzdFBsYWNlbWVudENoYW5nZVRpbWU9ZTpcIm51bWJlclwiIT10eXBlb2YgdGhpcy5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZSYmKHRoaXMubGFzdFBsYWNlbWVudENoYW5nZVRpbWU9dD90Lmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lOmUpO311cGRhdGVMYXllck9wYWNpdGllcyhlLHQpe2NvbnN0IGk9bmV3IFNldDtmb3IoY29uc3QgciBvZiB0KXtjb25zdCB0PXIuZ2V0QnVja2V0KGUpO3QmJnIubGF0ZXN0RmVhdHVyZUluZGV4JiZlLmZxaWQ9PT10LmxheWVySWRzWzBdJiYodGhpcy51cGRhdGVCdWNrZXRPcGFjaXRpZXModCxpLHIuY29sbGlzaW9uQm94QXJyYXkpLHQubGF5ZXJzWzBdLmxheW91dC5nZXQoXCJzeW1ib2wtei1lbGV2YXRlXCIpJiZ0aGlzLmJ1aWxkaW5nSW5kZXgmJih0aGlzLmJ1aWxkaW5nSW5kZXgudXBkYXRlWk9mZnNldCh0LHIudGlsZUlEKSx0LnVwZGF0ZVpPZmZzZXQoKSkpO319dXBkYXRlQnVja2V0T3BhY2l0aWVzKGUsdCxpKXtlLmhhc1RleHREYXRhKCkmJmUudGV4dC5vcGFjaXR5VmVydGV4QXJyYXkuY2xlYXIoKSxlLmhhc0ljb25EYXRhKCkmJmUuaWNvbi5vcGFjaXR5VmVydGV4QXJyYXkuY2xlYXIoKSxlLmhhc0ljb25Db2xsaXNpb25Cb3hEYXRhKCkmJmUuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheS5jbGVhcigpLGUuaGFzVGV4dENvbGxpc2lvbkJveERhdGEoKSYmZS50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5LmNsZWFyKCk7Y29uc3Qgcj1lLmxheWVyc1swXS5sYXlvdXQsbj0hIWUubGF5ZXJzWzBdLmR5bmFtaWNGaWx0ZXIoKSxvPW5ldyBKVChudWxsLDAsITEsITEsITApLHM9ci5nZXQoXCJ0ZXh0LWFsbG93LW92ZXJsYXBcIiksYT1yLmdldChcImljb24tYWxsb3ctb3ZlcmxhcFwiKSxsPXIuZ2V0KFwidGV4dC12YXJpYWJsZS1hbmNob3JcIiksYz1cIm1hcFwiPT09ci5nZXQoXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiKSxoPVwibWFwXCI9PT1yLmdldChcInRleHQtcGl0Y2gtYWxpZ25tZW50XCIpLHU9bmV3IEpUKG51bGwsMCxzJiYoYXx8IWUuaGFzSWNvbkRhdGEoKXx8ci5nZXQoXCJpY29uLW9wdGlvbmFsXCIpKSxhJiYoc3x8IWUuaGFzVGV4dERhdGEoKXx8ci5nZXQoXCJ0ZXh0LW9wdGlvbmFsXCIpKSwhMCk7IWUuY29sbGlzaW9uQXJyYXlzJiZpJiYoZS5oYXNJY29uQ29sbGlzaW9uQm94RGF0YSgpfHxlLmhhc1RleHRDb2xsaXNpb25Cb3hEYXRhKCkpJiZlLmRlc2VyaWFsaXplQ29sbGlzaW9uQm94ZXMoaSk7Y29uc3QgZD0oZSx0LGkpPT57Zm9yKGxldCByPTA7cjx0LzQ7cisrKWUub3BhY2l0eVZlcnRleEFycmF5LmVtcGxhY2VCYWNrKGkpO307bGV0IHA9MDtmb3IobGV0IGk9MDtpPGUuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDtpKyspe2NvbnN0IHI9ZS5zeW1ib2xJbnN0YW5jZXMuZ2V0KGkpLHtudW1Ib3Jpem9udGFsR2x5cGhWZXJ0aWNlczpzLG51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlczphLGNyb3NzVGlsZUlEOmYsbnVtSWNvblZlcnRpY2VzOm19PXIsXz10LmhhcyhmKTtsZXQgZz10aGlzLm9wYWNpdGllc1tmXTtfP2c9bzpnfHwoZz11LHRoaXMub3BhY2l0aWVzW2ZdPWcpLHQuYWRkKGYpO2NvbnN0IHg9cz4wfHxhPjAsdj1tPjAsYj10aGlzLnBsYWNlZE9yaWVudGF0aW9uc1tmXSx3PWI9PT1BXy52ZXJ0aWNhbCxUPWI9PT1BXy5ob3Jpem9udGFsfHxiPT09QV8uaG9yaXpvbnRhbE9ubHk7aWYoIXgmJiF2fHxnLmlzSGlkZGVuKCl8fHArKyx4KXtjb25zdCB0PWZFKGcudGV4dCk7ZChlLnRleHQscyx3P21FOnQpLGQoZS50ZXh0LGEsVD9tRTp0KTtjb25zdCBpPWcudGV4dC5pc0hpZGRlbigpLHtsZWZ0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4Om4sY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4Om8scmlnaHRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6bCx2ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleDpjfT1yLGg9ZS50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LHU9aXx8dz8xOjA7bj49MCYmKGguZ2V0KG4pLmhpZGRlbj11KSxvPj0wJiYoaC5nZXQobykuaGlkZGVuPXUpLGw+PTAmJihoLmdldChsKS5oaWRkZW49dSksYz49MCYmKGguZ2V0KGMpLmhpZGRlbj1pfHxUPzE6MCk7Y29uc3QgcD10aGlzLnZhcmlhYmxlT2Zmc2V0c1tmXTtwJiZ0aGlzLm1hcmtVc2VkSnVzdGlmaWNhdGlvbihlLHAuYW5jaG9yLHIsYik7Y29uc3QgbT10aGlzLnBsYWNlZE9yaWVudGF0aW9uc1tmXTttJiYodGhpcy5tYXJrVXNlZEp1c3RpZmljYXRpb24oZSxcImxlZnRcIixyLG0pLHRoaXMubWFya1VzZWRPcmllbnRhdGlvbihlLG0scikpO31pZih2KXtjb25zdCB0PWZFKGcuaWNvbikse3BsYWNlZEljb25TeW1ib2xJbmRleDppLHZlcnRpY2FsUGxhY2VkSWNvblN5bWJvbEluZGV4Om59PXIsbz1lLmljb24ucGxhY2VkU3ltYm9sQXJyYXkscz1nLmljb24uaXNIaWRkZW4oKT8xOjA7aT49MCYmKGQoZS5pY29uLG0sdz9tRTp0KSxvLmdldChpKS5oaWRkZW49cyksbj49MCYmKGQoZS5pY29uLHIubnVtVmVydGljYWxJY29uVmVydGljZXMsVD9tRTp0KSxvLmdldChuKS5oaWRkZW49cyk7fWlmKGUuaGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKXx8ZS5oYXNUZXh0Q29sbGlzaW9uQm94RGF0YSgpKXtjb25zdCB0PWUuY29sbGlzaW9uQXJyYXlzW2ldO2lmKHQpe2xldCBpPW5ldyB5KDAsMCksbz0hMDtpZih0LnRleHRCb3h8fHQudmVydGljYWxUZXh0Qm94KXtpZihsKXtjb25zdCBlPXRoaXMudmFyaWFibGVPZmZzZXRzW2ZdO2U/KGk9ckUoZS5hbmNob3IsZS53aWR0aCxlLmhlaWdodCxlLnRleHRPZmZzZXQsZS50ZXh0U2NhbGUpLGMmJmkuX3JvdGF0ZShoP3RoaXMudHJhbnNmb3JtLmFuZ2xlOi10aGlzLnRyYW5zZm9ybS5hbmdsZSkpOm89ITE7fW4mJihvPSFnLmNsaXBwZWQpLHQudGV4dEJveCYmc0UoZS50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5LGcudGV4dC5wbGFjZWQsIW98fHcsaS54LGkueSksdC52ZXJ0aWNhbFRleHRCb3gmJnNFKGUudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheSxnLnRleHQucGxhY2VkLCFvfHxULGkueCxpLnkpO31jb25zdCBzPW8mJkJvb2xlYW4oIVQmJnQudmVydGljYWxJY29uQm94KTt0Lmljb25Cb3gmJnNFKGUuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheSxnLmljb24ucGxhY2VkLHMsci5oYXNJY29uVGV4dEZpdD9pLng6MCxyLmhhc0ljb25UZXh0Rml0P2kueTowKSx0LnZlcnRpY2FsSWNvbkJveCYmc0UoZS5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5LGcuaWNvbi5wbGFjZWQsIXMsci5oYXNJY29uVGV4dEZpdD9pLng6MCxyLmhhc0ljb25UZXh0Rml0P2kueTowKTt9fX1pZihlLmZ1bGx5Q2xpcHBlZD0wPT09cCxlLnNvcnRGZWF0dXJlcyh0aGlzLnRyYW5zZm9ybS5hbmdsZSksdGhpcy5yZXRhaW5lZFF1ZXJ5RGF0YVtlLmJ1Y2tldEluc3RhbmNlSWRdJiYodGhpcy5yZXRhaW5lZFF1ZXJ5RGF0YVtlLmJ1Y2tldEluc3RhbmNlSWRdLmZlYXR1cmVTb3J0T3JkZXI9ZS5mZWF0dXJlU29ydE9yZGVyKSxlLmhhc1RleHREYXRhKCkmJmUudGV4dC5vcGFjaXR5VmVydGV4QnVmZmVyJiZlLnRleHQub3BhY2l0eVZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKGUudGV4dC5vcGFjaXR5VmVydGV4QXJyYXkpLGUuaGFzSWNvbkRhdGEoKSYmZS5pY29uLm9wYWNpdHlWZXJ0ZXhCdWZmZXImJmUuaWNvbi5vcGFjaXR5VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEoZS5pY29uLm9wYWNpdHlWZXJ0ZXhBcnJheSksZS5oYXNJY29uQ29sbGlzaW9uQm94RGF0YSgpJiZlLmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QnVmZmVyJiZlLmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QnVmZmVyLnVwZGF0ZURhdGEoZS5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5KSxlLmhhc1RleHRDb2xsaXNpb25Cb3hEYXRhKCkmJmUudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXImJmUudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShlLnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXkpLGUuYnVja2V0SW5zdGFuY2VJZCBpbiB0aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5cyl7Y29uc3QgdD10aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5c1tlLmJ1Y2tldEluc3RhbmNlSWRdO2UucGxhY2VtZW50SW52UHJvak1hdHJpeD10LmludlByb2pNYXRyaXgsZS5wbGFjZW1lbnRWaWV3cG9ydE1hdHJpeD10LnZpZXdwb3J0TWF0cml4LGUuY29sbGlzaW9uQ2lyY2xlQXJyYXk9dC5jaXJjbGVzLGRlbGV0ZSB0aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5c1tlLmJ1Y2tldEluc3RhbmNlSWRdO319c3ltYm9sRmFkZUNoYW5nZShlKXtyZXR1cm4gMD09PXRoaXMuZmFkZUR1cmF0aW9uPzE6KGUtdGhpcy5jb21taXRUaW1lKS90aGlzLmZhZGVEdXJhdGlvbit0aGlzLnByZXZab29tQWRqdXN0bWVudH16b29tQWRqdXN0bWVudChlKXtyZXR1cm4gTWF0aC5tYXgoMCwodGhpcy50cmFuc2Zvcm0uem9vbS1lKS8xLjUpfWhhc1RyYW5zaXRpb25zKGUpe3JldHVybiB0aGlzLnN0YWxlfHxlLXRoaXMubGFzdFBsYWNlbWVudENoYW5nZVRpbWU8dGhpcy5mYWRlRHVyYXRpb259c3RpbGxSZWNlbnQoZSx0KXtjb25zdCBpPXRoaXMuem9vbUF0TGFzdFJlY2VuY3lDaGVjaz09PXQ/MS10aGlzLnpvb21BZGp1c3RtZW50KHQpOjE7cmV0dXJuIHRoaXMuem9vbUF0TGFzdFJlY2VuY3lDaGVjaz10LHRoaXMuY29tbWl0VGltZSt0aGlzLmZhZGVEdXJhdGlvbippPmV9c2V0U3RhbGUoKXt0aGlzLnN0YWxlPSEwO319ZnVuY3Rpb24gc0UoZSx0LGkscixuKXtlLmVtcGxhY2VCYWNrKHQ/MTowLGk/MTowLHJ8fDAsbnx8MCksZS5lbXBsYWNlQmFjayh0PzE6MCxpPzE6MCxyfHwwLG58fDApLGUuZW1wbGFjZUJhY2sodD8xOjAsaT8xOjAscnx8MCxufHwwKSxlLmVtcGxhY2VCYWNrKHQ/MTowLGk/MTowLHJ8fDAsbnx8MCk7fWNvbnN0IGFFPU1hdGgucG93KDIsMjUpLGxFPU1hdGgucG93KDIsMjQpLGNFPU1hdGgucG93KDIsMTcpLGhFPU1hdGgucG93KDIsMTYpLHVFPU1hdGgucG93KDIsOSksZEU9TWF0aC5wb3coMiw4KSxwRT1NYXRoLnBvdygyLDEpO2Z1bmN0aW9uIGZFKGUpe2lmKDA9PT1lLm9wYWNpdHkmJiFlLnBsYWNlZClyZXR1cm4gMDtpZigxPT09ZS5vcGFjaXR5JiZlLnBsYWNlZClyZXR1cm4gNDI5NDk2NzI5NTtjb25zdCB0PWUucGxhY2VkPzE6MCxpPU1hdGguZmxvb3IoMTI3KmUub3BhY2l0eSk7cmV0dXJuIGkqYUUrdCpsRStpKmNFK3QqaEUraSp1RSt0KmRFK2kqcEUrdH1jb25zdCBtRT0wO2NsYXNzIF9Fe2NvbnN0cnVjdG9yKGUpe3RoaXMuX3NvcnRBY3Jvc3NUaWxlcz1cInZpZXdwb3J0LXlcIiE9PWUubGF5b3V0LmdldChcInN5bWJvbC16LW9yZGVyXCIpJiZ2b2lkIDAhPT1lLmxheW91dC5nZXQoXCJzeW1ib2wtc29ydC1rZXlcIikuY29uc3RhbnRPcigxKSx0aGlzLl9jdXJyZW50VGlsZUluZGV4PTAsdGhpcy5fY3VycmVudFBhcnRJbmRleD0wLHRoaXMuX3NlZW5Dcm9zc1RpbGVJRHM9bmV3IFNldCx0aGlzLl9idWNrZXRQYXJ0cz1bXTt9Y29udGludWVQbGFjZW1lbnQoZSx0LGkscixuKXtjb25zdCBvPXRoaXMuX2J1Y2tldFBhcnRzO2Zvcig7dGhpcy5fY3VycmVudFRpbGVJbmRleDxlLmxlbmd0aDspaWYodC5nZXRCdWNrZXRQYXJ0cyhvLHIsZVt0aGlzLl9jdXJyZW50VGlsZUluZGV4XSx0aGlzLl9zb3J0QWNyb3NzVGlsZXMpLHRoaXMuX2N1cnJlbnRUaWxlSW5kZXgrKyxuKCkpcmV0dXJuICEwO2Zvcih0aGlzLl9zb3J0QWNyb3NzVGlsZXMmJih0aGlzLl9zb3J0QWNyb3NzVGlsZXM9ITEsby5zb3J0KCgoZSx0KT0+ZS5zb3J0S2V5LXQuc29ydEtleSkpKTt0aGlzLl9jdXJyZW50UGFydEluZGV4PG8ubGVuZ3RoOyl7Y29uc3QgZT1vW3RoaXMuX2N1cnJlbnRQYXJ0SW5kZXhdO2lmKHQucGxhY2VMYXllckJ1Y2tldFBhcnQoZSx0aGlzLl9zZWVuQ3Jvc3NUaWxlSURzLGksMD09PWUuc3ltYm9sSW5zdGFuY2VTdGFydCksdGhpcy5fY3VycmVudFBhcnRJbmRleCsrLG4oKSlyZXR1cm4gITB9cmV0dXJuICExfX1jbGFzcyBnRXtjb25zdHJ1Y3RvcihlLHQsaSxyLG4sbyxzLGEsbCl7dGhpcy5wbGFjZW1lbnQ9bmV3IG9FKGUsbixvLHMsYSxsKSx0aGlzLl9jdXJyZW50UGxhY2VtZW50SW5kZXg9dC5sZW5ndGgtMSx0aGlzLl9mb3JjZUZ1bGxQbGFjZW1lbnQ9aSx0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXM9cix0aGlzLl9kb25lPSExO31pc0RvbmUoKXtyZXR1cm4gdGhpcy5fZG9uZX1jb250aW51ZVBsYWNlbWVudChlLHQsaSxyKXtjb25zdCBuPWR0Lm5vdygpLG89KCk9Pntjb25zdCBlPWR0Lm5vdygpLW47cmV0dXJuICF0aGlzLl9mb3JjZUZ1bGxQbGFjZW1lbnQmJmU+Mn07Zm9yKDt0aGlzLl9jdXJyZW50UGxhY2VtZW50SW5kZXg+PTA7KXtjb25zdCBuPXRbZVt0aGlzLl9jdXJyZW50UGxhY2VtZW50SW5kZXhdXSxzPXRoaXMucGxhY2VtZW50LmNvbGxpc2lvbkluZGV4LnRyYW5zZm9ybS56b29tO2lmKFwic3ltYm9sXCI9PT1uLnR5cGUmJighbi5taW56b29tfHxuLm1pbnpvb208PXMpJiYoIW4ubWF4em9vbXx8bi5tYXh6b29tPnMpKXtjb25zdCBlPW4sdD1lLmxheW91dC5nZXQoXCJzeW1ib2wtei1lbGV2YXRlXCIpLHM9dGhpcy5faW5Qcm9ncmVzc0xheWVyPXRoaXMuX2luUHJvZ3Jlc3NMYXllcnx8bmV3IF9FKGUpLGE9dmEobi5zb3VyY2Usbi5zY29wZSk7aWYocy5jb250aW51ZVBsYWNlbWVudCh0P3JbYV06aVthXSx0aGlzLnBsYWNlbWVudCx0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXMsbixvKSlyZXR1cm47ZGVsZXRlIHRoaXMuX2luUHJvZ3Jlc3NMYXllcjt9dGhpcy5fY3VycmVudFBsYWNlbWVudEluZGV4LS07fXRoaXMuX2RvbmU9ITA7fWNvbW1pdChlKXtyZXR1cm4gdGhpcy5wbGFjZW1lbnQuY29tbWl0KGUpLHRoaXMucGxhY2VtZW50fX1jb25zdCB5RT1bSW50OEFycmF5LFVpbnQ4QXJyYXksVWludDhDbGFtcGVkQXJyYXksSW50MTZBcnJheSxVaW50MTZBcnJheSxJbnQzMkFycmF5LFVpbnQzMkFycmF5LEZsb2F0MzJBcnJheSxGbG9hdDY0QXJyYXldO2NsYXNzIHhFe3N0YXRpYyBmcm9tKGUpe2lmKCEoZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSl0aHJvdyBuZXcgRXJyb3IoXCJEYXRhIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgQXJyYXlCdWZmZXIuXCIpO2NvbnN0W3QsaV09bmV3IFVpbnQ4QXJyYXkoZSwwLDIpO2lmKDIxOSE9PXQpdGhyb3cgbmV3IEVycm9yKFwiRGF0YSBkb2VzIG5vdCBhcHBlYXIgdG8gYmUgaW4gYSBLREJ1c2ggZm9ybWF0LlwiKTtjb25zdCByPWk+PjQ7aWYoMSE9PXIpdGhyb3cgbmV3IEVycm9yKGBHb3QgdiR7cn0gZGF0YSB3aGVuIGV4cGVjdGVkIHYxLmApO2NvbnN0IG49eUVbMTUmaV07aWYoIW4pdGhyb3cgbmV3IEVycm9yKFwiVW5yZWNvZ25pemVkIGFycmF5IHR5cGUuXCIpO2NvbnN0W29dPW5ldyBVaW50MTZBcnJheShlLDIsMSksW3NdPW5ldyBVaW50MzJBcnJheShlLDQsMSk7cmV0dXJuIG5ldyB4RShzLG8sbixlKX1jb25zdHJ1Y3RvcihlLHQ9NjQsaT1GbG9hdDY0QXJyYXkscil7aWYoaXNOYU4oZSl8fGU8MCl0aHJvdyBuZXcgRXJyb3IoYFVucGV4cGVjdGVkIG51bUl0ZW1zIHZhbHVlOiAke2V9LmApO3RoaXMubnVtSXRlbXM9K2UsdGhpcy5ub2RlU2l6ZT1NYXRoLm1pbihNYXRoLm1heCgrdCwyKSw2NTUzNSksdGhpcy5BcnJheVR5cGU9aSx0aGlzLkluZGV4QXJyYXlUeXBlPWU8NjU1MzY/VWludDE2QXJyYXk6VWludDMyQXJyYXk7Y29uc3Qgbj15RS5pbmRleE9mKHRoaXMuQXJyYXlUeXBlKSxvPTIqZSp0aGlzLkFycmF5VHlwZS5CWVRFU19QRVJfRUxFTUVOVCxzPWUqdGhpcy5JbmRleEFycmF5VHlwZS5CWVRFU19QRVJfRUxFTUVOVCxhPSg4LXMlOCklODtpZihuPDApdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIHR5cGVkIGFycmF5IGNsYXNzOiAke2l9LmApO3ImJnIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj8odGhpcy5kYXRhPXIsdGhpcy5pZHM9bmV3IHRoaXMuSW5kZXhBcnJheVR5cGUodGhpcy5kYXRhLDgsZSksdGhpcy5jb29yZHM9bmV3IHRoaXMuQXJyYXlUeXBlKHRoaXMuZGF0YSw4K3MrYSwyKmUpLHRoaXMuX3Bvcz0yKmUsdGhpcy5fZmluaXNoZWQ9ITApOih0aGlzLmRhdGE9bmV3IEFycmF5QnVmZmVyKDgrbytzK2EpLHRoaXMuaWRzPW5ldyB0aGlzLkluZGV4QXJyYXlUeXBlKHRoaXMuZGF0YSw4LGUpLHRoaXMuY29vcmRzPW5ldyB0aGlzLkFycmF5VHlwZSh0aGlzLmRhdGEsOCtzK2EsMiplKSx0aGlzLl9wb3M9MCx0aGlzLl9maW5pc2hlZD0hMSxuZXcgVWludDhBcnJheSh0aGlzLmRhdGEsMCwyKS5zZXQoWzIxOSwxNituXSksbmV3IFVpbnQxNkFycmF5KHRoaXMuZGF0YSwyLDEpWzBdPXQsbmV3IFVpbnQzMkFycmF5KHRoaXMuZGF0YSw0LDEpWzBdPWUpO31hZGQoZSx0KXtjb25zdCBpPXRoaXMuX3Bvcz4+MTtyZXR1cm4gdGhpcy5pZHNbaV09aSx0aGlzLmNvb3Jkc1t0aGlzLl9wb3MrK109ZSx0aGlzLmNvb3Jkc1t0aGlzLl9wb3MrK109dCxpfWZpbmlzaCgpe2NvbnN0IGU9dGhpcy5fcG9zPj4xO2lmKGUhPT10aGlzLm51bUl0ZW1zKXRocm93IG5ldyBFcnJvcihgQWRkZWQgJHtlfSBpdGVtcyB3aGVuIGV4cGVjdGVkICR7dGhpcy5udW1JdGVtc30uYCk7cmV0dXJuIHZFKHRoaXMuaWRzLHRoaXMuY29vcmRzLHRoaXMubm9kZVNpemUsMCx0aGlzLm51bUl0ZW1zLTEsMCksdGhpcy5fZmluaXNoZWQ9ITAsdGhpc31yYW5nZShlLHQsaSxyKXtpZighdGhpcy5fZmluaXNoZWQpdGhyb3cgbmV3IEVycm9yKFwiRGF0YSBub3QgeWV0IGluZGV4ZWQgLSBjYWxsIGluZGV4LmZpbmlzaCgpLlwiKTtjb25zdHtpZHM6bixjb29yZHM6byxub2RlU2l6ZTpzfT10aGlzLGE9WzAsbi5sZW5ndGgtMSwwXSxsPVtdO2Zvcig7YS5sZW5ndGg7KXtjb25zdCBjPWEucG9wKCl8fDAsaD1hLnBvcCgpfHwwLHU9YS5wb3AoKXx8MDtpZihoLXU8PXMpe2ZvcihsZXQgcz11O3M8PWg7cysrKXtjb25zdCBhPW9bMipzXSxjPW9bMipzKzFdO2E+PWUmJmE8PWkmJmM+PXQmJmM8PXImJmwucHVzaChuW3NdKTt9Y29udGludWV9Y29uc3QgZD11K2g+PjEscD1vWzIqZF0sZj1vWzIqZCsxXTtwPj1lJiZwPD1pJiZmPj10JiZmPD1yJiZsLnB1c2gobltkXSksKDA9PT1jP2U8PXA6dDw9ZikmJihhLnB1c2godSksYS5wdXNoKGQtMSksYS5wdXNoKDEtYykpLCgwPT09Yz9pPj1wOnI+PWYpJiYoYS5wdXNoKGQrMSksYS5wdXNoKGgpLGEucHVzaCgxLWMpKTt9cmV0dXJuIGx9d2l0aGluKGUsdCxpKXtpZighdGhpcy5fZmluaXNoZWQpdGhyb3cgbmV3IEVycm9yKFwiRGF0YSBub3QgeWV0IGluZGV4ZWQgLSBjYWxsIGluZGV4LmZpbmlzaCgpLlwiKTtjb25zdHtpZHM6cixjb29yZHM6bixub2RlU2l6ZTpvfT10aGlzLHM9WzAsci5sZW5ndGgtMSwwXSxhPVtdLGw9aSppO2Zvcig7cy5sZW5ndGg7KXtjb25zdCBjPXMucG9wKCl8fDAsaD1zLnBvcCgpfHwwLHU9cy5wb3AoKXx8MDtpZihoLXU8PW8pe2ZvcihsZXQgaT11O2k8PWg7aSsrKUVFKG5bMippXSxuWzIqaSsxXSxlLHQpPD1sJiZhLnB1c2gocltpXSk7Y29udGludWV9Y29uc3QgZD11K2g+PjEscD1uWzIqZF0sZj1uWzIqZCsxXTtFRShwLGYsZSx0KTw9bCYmYS5wdXNoKHJbZF0pLCgwPT09Yz9lLWk8PXA6dC1pPD1mKSYmKHMucHVzaCh1KSxzLnB1c2goZC0xKSxzLnB1c2goMS1jKSksKDA9PT1jP2UraT49cDp0K2k+PWYpJiYocy5wdXNoKGQrMSkscy5wdXNoKGgpLHMucHVzaCgxLWMpKTt9cmV0dXJuIGF9fWZ1bmN0aW9uIHZFKGUsdCxpLHIsbixvKXtpZihuLXI8PWkpcmV0dXJuO2NvbnN0IHM9cituPj4xO2JFKGUsdCxzLHIsbixvKSx2RShlLHQsaSxyLHMtMSwxLW8pLHZFKGUsdCxpLHMrMSxuLDEtbyk7fWZ1bmN0aW9uIGJFKGUsdCxpLHIsbixvKXtmb3IoO24+cjspe2lmKG4tcj42MDApe2NvbnN0IHM9bi1yKzEsYT1pLXIrMSxsPU1hdGgubG9nKHMpLGM9LjUqTWF0aC5leHAoMipsLzMpLGg9LjUqTWF0aC5zcXJ0KGwqYyoocy1jKS9zKSooYS1zLzI8MD8tMToxKTtiRShlLHQsaSxNYXRoLm1heChyLE1hdGguZmxvb3IoaS1hKmMvcytoKSksTWF0aC5taW4obixNYXRoLmZsb29yKGkrKHMtYSkqYy9zK2gpKSxvKTt9Y29uc3Qgcz10WzIqaStvXTtsZXQgYT1yLGw9bjtmb3Iod0UoZSx0LHIsaSksdFsyKm4rb10+cyYmd0UoZSx0LHIsbik7YTxsOyl7Zm9yKHdFKGUsdCxhLGwpLGErKyxsLS07dFsyKmErb108czspYSsrO2Zvcig7dFsyKmwrb10+czspbC0tO310WzIqcitvXT09PXM/d0UoZSx0LHIsbCk6KGwrKyx3RShlLHQsbCxuKSksbDw9aSYmKHI9bCsxKSxpPD1sJiYobj1sLTEpO319ZnVuY3Rpb24gd0UoZSx0LGkscil7VEUoZSxpLHIpLFRFKHQsMippLDIqciksVEUodCwyKmkrMSwyKnIrMSk7fWZ1bmN0aW9uIFRFKGUsdCxpKXtjb25zdCByPWVbdF07ZVt0XT1lW2ldLGVbaV09cjt9ZnVuY3Rpb24gRUUoZSx0LGkscil7Y29uc3Qgbj1lLWksbz10LXI7cmV0dXJuIG4qbitvKm99Y29uc3QgTUU9NTEyL2NyLzI7Y2xhc3MgQUV7Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMudGlsZUlEPWUsdGhpcy5idWNrZXRJbnN0YW5jZUlkPWksdGhpcy5pbmRleD1uZXcgeEUodC5sZW5ndGgsMTYsSW50MzJBcnJheSksdGhpcy5rZXlzPVtdLHRoaXMuY3Jvc3NUaWxlSURzPVtdO2NvbnN0IHI9ZS5jYW5vbmljYWwueCpjcixuPWUuY2Fub25pY2FsLnkqY3I7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspe2NvbnN0e2tleTppLGNyb3NzVGlsZUlEOm8sdGlsZUFuY2hvclg6cyx0aWxlQW5jaG9yWTphfT10LmdldChlKSxsPU1hdGguZmxvb3IoKHIrcykqTUUpLGM9TWF0aC5mbG9vcigobithKSpNRSk7dGhpcy5pbmRleC5hZGQobCxjKSx0aGlzLmtleXMucHVzaChpKSx0aGlzLmNyb3NzVGlsZUlEcy5wdXNoKG8pO310aGlzLmluZGV4LmZpbmlzaCgpO31maW5kTWF0Y2hlcyhlLHQsaSl7Y29uc3Qgcj10aGlzLnRpbGVJRC5jYW5vbmljYWwuejx0LmNhbm9uaWNhbC56PzE6TWF0aC5wb3coMix0aGlzLnRpbGVJRC5jYW5vbmljYWwuei10LmNhbm9uaWNhbC56KSxuPU1FL01hdGgucG93KDIsdC5jYW5vbmljYWwuei10aGlzLnRpbGVJRC5jYW5vbmljYWwueiksbz10LmNhbm9uaWNhbC54KmNyLHM9dC5jYW5vbmljYWwueSpjcjtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3QgYT1lLmdldCh0KTtpZihhLmNyb3NzVGlsZUlEKWNvbnRpbnVlO2NvbnN0e2tleTpsLHRpbGVBbmNob3JYOmMsdGlsZUFuY2hvclk6aH09YSx1PU1hdGguZmxvb3IoKG8rYykqbiksZD1NYXRoLmZsb29yKChzK2gpKm4pLHA9dGhpcy5pbmRleC5yYW5nZSh1LXIsZC1yLHUrcixkK3IpO2Zvcihjb25zdCBlIG9mIHApe2NvbnN0IHQ9dGhpcy5jcm9zc1RpbGVJRHNbZV07aWYodGhpcy5rZXlzW2VdPT09bCYmIWkuaGFzKHQpKXtpLmFkZCh0KSxhLmNyb3NzVGlsZUlEPXQ7YnJlYWt9fX19fWNsYXNzIFNFe2NvbnN0cnVjdG9yKCl7dGhpcy5tYXhDcm9zc1RpbGVJRD0wO31nZW5lcmF0ZSgpe3JldHVybiArK3RoaXMubWF4Q3Jvc3NUaWxlSUR9fWNsYXNzIElFe2NvbnN0cnVjdG9yKCl7dGhpcy5pbmRleGVzPXt9LHRoaXMudXNlZENyb3NzVGlsZUlEcz17fSx0aGlzLmxuZz0wO31oYW5kbGVXcmFwSnVtcChlKXtjb25zdCB0PU1hdGgucm91bmQoKGUtdGhpcy5sbmcpLzM2MCk7aWYoMCE9PXQpZm9yKGNvbnN0IGUgaW4gdGhpcy5pbmRleGVzKXtjb25zdCBpPXRoaXMuaW5kZXhlc1tlXSxyPXt9O2Zvcihjb25zdCBlIGluIGkpe2NvbnN0IG49aVtlXTtuLnRpbGVJRD1uLnRpbGVJRC51bndyYXBUbyhuLnRpbGVJRC53cmFwK3QpLHJbbi50aWxlSUQua2V5XT1uO310aGlzLmluZGV4ZXNbZV09cjt9dGhpcy5sbmc9ZTt9YWRkQnVja2V0KGUsdCxpKXtpZih0aGlzLmluZGV4ZXNbZS5vdmVyc2NhbGVkWl0mJnRoaXMuaW5kZXhlc1tlLm92ZXJzY2FsZWRaXVtlLmtleV0pe2lmKHRoaXMuaW5kZXhlc1tlLm92ZXJzY2FsZWRaXVtlLmtleV0uYnVja2V0SW5zdGFuY2VJZD09PXQuYnVja2V0SW5zdGFuY2VJZClyZXR1cm4gITE7dGhpcy5yZW1vdmVCdWNrZXRDcm9zc1RpbGVJRHMoZS5vdmVyc2NhbGVkWix0aGlzLmluZGV4ZXNbZS5vdmVyc2NhbGVkWl1bZS5rZXldKTt9Zm9yKGxldCBlPTA7ZTx0LnN5bWJvbEluc3RhbmNlcy5sZW5ndGg7ZSsrKXQuc3ltYm9sSW5zdGFuY2VzLmdldChlKS5jcm9zc1RpbGVJRD0wO3RoaXMudXNlZENyb3NzVGlsZUlEc1tlLm92ZXJzY2FsZWRaXXx8KHRoaXMudXNlZENyb3NzVGlsZUlEc1tlLm92ZXJzY2FsZWRaXT1uZXcgU2V0KTtjb25zdCByPXRoaXMudXNlZENyb3NzVGlsZUlEc1tlLm92ZXJzY2FsZWRaXTtmb3IoY29uc3QgaSBpbiB0aGlzLmluZGV4ZXMpe2NvbnN0IG49dGhpcy5pbmRleGVzW2ldO2lmKE51bWJlcihpKT5lLm92ZXJzY2FsZWRaKWZvcihjb25zdCBpIGluIG4pe2NvbnN0IG89bltpXTtvLnRpbGVJRC5pc0NoaWxkT2YoZSkmJm8uZmluZE1hdGNoZXModC5zeW1ib2xJbnN0YW5jZXMsZSxyKTt9ZWxzZSB7Y29uc3Qgbz1uW2Uuc2NhbGVkVG8oTnVtYmVyKGkpKS5rZXldO28mJm8uZmluZE1hdGNoZXModC5zeW1ib2xJbnN0YW5jZXMsZSxyKTt9fWZvcihsZXQgZT0wO2U8dC5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoO2UrKyl7Y29uc3Qgbj10LnN5bWJvbEluc3RhbmNlcy5nZXQoZSk7bi5jcm9zc1RpbGVJRHx8KG4uY3Jvc3NUaWxlSUQ9aS5nZW5lcmF0ZSgpLHIuYWRkKG4uY3Jvc3NUaWxlSUQpKTt9cmV0dXJuIHZvaWQgMD09PXRoaXMuaW5kZXhlc1tlLm92ZXJzY2FsZWRaXSYmKHRoaXMuaW5kZXhlc1tlLm92ZXJzY2FsZWRaXT17fSksdGhpcy5pbmRleGVzW2Uub3ZlcnNjYWxlZFpdW2Uua2V5XT1uZXcgQUUoZSx0LnN5bWJvbEluc3RhbmNlcyx0LmJ1Y2tldEluc3RhbmNlSWQpLCEwfXJlbW92ZUJ1Y2tldENyb3NzVGlsZUlEcyhlLHQpe2Zvcihjb25zdCBpIG9mIHQuY3Jvc3NUaWxlSURzKXRoaXMudXNlZENyb3NzVGlsZUlEc1tlXS5kZWxldGUoaSk7fXJlbW92ZVN0YWxlQnVja2V0cyhlKXtsZXQgdD0hMTtmb3IoY29uc3QgaSBpbiB0aGlzLmluZGV4ZXMpe2NvbnN0IHI9dGhpcy5pbmRleGVzW2ldO2Zvcihjb25zdCBuIGluIHIpZVtyW25dLmJ1Y2tldEluc3RhbmNlSWRdfHwodGhpcy5yZW1vdmVCdWNrZXRDcm9zc1RpbGVJRHMoaSxyW25dKSxkZWxldGUgcltuXSx0PSEwKTt9cmV0dXJuIHR9fWNsYXNzIENFe2NvbnN0cnVjdG9yKCl7dGhpcy5sYXllckluZGV4ZXM9e30sdGhpcy5jcm9zc1RpbGVJRHM9bmV3IFNFLHRoaXMubWF4QnVja2V0SW5zdGFuY2VJZD0wLHRoaXMuYnVja2V0c0luQ3VycmVudFBsYWNlbWVudD17fTt9YWRkTGF5ZXIoZSx0LGkscil7bGV0IG49dGhpcy5sYXllckluZGV4ZXNbZS5mcWlkXTt2b2lkIDA9PT1uJiYobj10aGlzLmxheWVySW5kZXhlc1tlLmZxaWRdPW5ldyBJRSk7bGV0IG89ITE7Y29uc3Qgcz17fTtcImdsb2JlXCIhPT1yLm5hbWUmJm4uaGFuZGxlV3JhcEp1bXAoaSk7Zm9yKGNvbnN0IGkgb2YgdCl7Y29uc3QgdD1pLmdldEJ1Y2tldChlKTt0JiZlLmZxaWQ9PT10LmxheWVySWRzWzBdJiYodC5idWNrZXRJbnN0YW5jZUlkfHwodC5idWNrZXRJbnN0YW5jZUlkPSsrdGhpcy5tYXhCdWNrZXRJbnN0YW5jZUlkKSxuLmFkZEJ1Y2tldChpLnRpbGVJRCx0LHRoaXMuY3Jvc3NUaWxlSURzKSYmKG89ITApLHNbdC5idWNrZXRJbnN0YW5jZUlkXT0hMCk7fXJldHVybiBuLnJlbW92ZVN0YWxlQnVja2V0cyhzKSYmKG89ITApLG99cHJ1bmVVbnVzZWRMYXllcnMoZSl7Y29uc3QgdD17fTtlLmZvckVhY2goKGU9Pnt0W2VdPSEwO30pKTtmb3IoY29uc3QgZSBpbiB0aGlzLmxheWVySW5kZXhlcyl0W2VdfHxkZWxldGUgdGhpcy5sYXllckluZGV4ZXNbZV07fX12YXIgekU9XCJcXG4jZGVmaW5lIEVQU0lMT04gMC4wMDAwMDAxXFxuI2RlZmluZSBQSSAzLjE0MTU5MjY1MzU4OTc5M1xcbiNpZmRlZiBSRU5ERVJfQ1VUT0ZGXFxuZmxvYXQgY3V0b2ZmX29wYWNpdHkodmVjNCBjdXRvZmZfcGFyYW1zLGZsb2F0IGRlcHRoKSB7ZmxvYXQgbmVhcj1jdXRvZmZfcGFyYW1zLng7ZmxvYXQgZmFyPWN1dG9mZl9wYXJhbXMueTtmbG9hdCBjdXRvZmZTdGFydD1jdXRvZmZfcGFyYW1zLno7ZmxvYXQgY3V0b2ZmRW5kPWN1dG9mZl9wYXJhbXMudy0wLjAwMDE7ZmxvYXQgbGluZWFyRGVwdGg9KGRlcHRoLW5lYXIpLyhmYXItbmVhcik7cmV0dXJuIGNsYW1wKChsaW5lYXJEZXB0aC1jdXRvZmZTdGFydCkvKGN1dG9mZkVuZC1jdXRvZmZTdGFydCksMC4wLDEuMCk7fVxcbiNlbmRpZlwiLFBFPVwiaW4gaGlnaHAgdmVjMyBhX3Bvc18zZjt1bmlmb3JtIGxvd3AgbWF0NCB1X21hdHJpeDtvdXQgaGlnaHAgdmVjMyB2X3V2O3ZvaWQgbWFpbigpIHtjb25zdCBtYXQzIGhhbGZfbmVnX3BpX2Fyb3VuZF94PW1hdDMoMS4wLDAuMCwgMC4wLDAuMCwwLjAsLTEuMCwwLjAsMS4wLCAwLjApO3ZfdXY9aGFsZl9uZWdfcGlfYXJvdW5kX3gqYV9wb3NfM2Y7dmVjNCBwb3M9dV9tYXRyaXgqdmVjNChhX3Bvc18zZiwxLjApO2dsX1Bvc2l0aW9uPXBvcy54eXd3O31cIixERT1cIlxcbiNkZWZpbmUgRUxFVkFUSU9OX1NDQUxFIDcuMFxcbiNkZWZpbmUgRUxFVkFUSU9OX09GRlNFVCA0NTAuMFxcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG51bmlmb3JtIHZlYzMgdV90aWxlX3RsX3VwO3VuaWZvcm0gdmVjMyB1X3RpbGVfdHJfdXA7dW5pZm9ybSB2ZWMzIHVfdGlsZV9icl91cDt1bmlmb3JtIHZlYzMgdV90aWxlX2JsX3VwO3VuaWZvcm0gZmxvYXQgdV90aWxlX3VwX3NjYWxlO3ZlYzMgZWxldmF0aW9uVmVjdG9yKHZlYzIgcG9zKSB7dmVjMiB1dj1wb3MvRVhURU5UO3ZlYzMgdXA9bm9ybWFsaXplKG1peChcXG5taXgodV90aWxlX3RsX3VwLHVfdGlsZV90cl91cCx1di54eHgpLG1peCh1X3RpbGVfYmxfdXAsdV90aWxlX2JyX3VwLHV2Lnh4eCksdXYueXl5KSk7cmV0dXJuIHVwKnVfdGlsZV91cF9zY2FsZTt9XFxuI2Vsc2VcXG52ZWMzIGVsZXZhdGlvblZlY3Rvcih2ZWMyIHBvcykgeyByZXR1cm4gdmVjMygwLDAsMSk7IH1cXG4jZW5kaWZcXG4jaWZkZWYgVEVSUkFJTlxcbnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIHVfZGVtO3VuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIHVfZGVtX3ByZXY7dW5pZm9ybSB2ZWMyIHVfZGVtX3RsO3VuaWZvcm0gdmVjMiB1X2RlbV90bF9wcmV2O3VuaWZvcm0gZmxvYXQgdV9kZW1fc2NhbGU7dW5pZm9ybSBmbG9hdCB1X2RlbV9zY2FsZV9wcmV2O3VuaWZvcm0gZmxvYXQgdV9kZW1fc2l6ZTt1bmlmb3JtIGZsb2F0IHVfZGVtX2xlcnA7dW5pZm9ybSBmbG9hdCB1X2V4YWdnZXJhdGlvbjt1bmlmb3JtIGZsb2F0IHVfbWV0ZXJfdG9fZGVtO3VuaWZvcm0gbWF0NCB1X2xhYmVsX3BsYW5lX21hdHJpeF9pbnY7dW5pZm9ybSBzYW1wbGVyMkQgdV9kZXB0aDt1bmlmb3JtIHZlYzIgdV9kZXB0aF9zaXplX2ludjt2ZWM0IHRpbGVVdlRvRGVtU2FtcGxlKHZlYzIgdXYsZmxvYXQgZGVtX3NpemUsZmxvYXQgZGVtX3NjYWxlLHZlYzIgZGVtX3RsKSB7dmVjMiBwb3M9ZGVtX3NpemUqKHV2KmRlbV9zY2FsZStkZW1fdGwpKzEuMDt2ZWMyIGY9ZnJhY3QocG9zKTtyZXR1cm4gdmVjNCgocG9zLWYrMC41KS8oZGVtX3NpemUrMi4wKSxmKTt9ZmxvYXQgY3VycmVudEVsZXZhdGlvbih2ZWMyIGFwb3MpIHtcXG4jaWZkZWYgVEVSUkFJTl9ERU1fRkxPQVRfRk9STUFUXFxudmVjMiBwb3M9KHVfZGVtX3NpemUqKGFwb3MvODE5Mi4wKnVfZGVtX3NjYWxlK3VfZGVtX3RsKSsxLjUpLyh1X2RlbV9zaXplKzIuMCk7cmV0dXJuIHVfZXhhZ2dlcmF0aW9uKnRleHR1cmUodV9kZW0scG9zKS5yO1xcbiNlbHNlXFxuZmxvYXQgZGQ9MS4wLyh1X2RlbV9zaXplKzIuMCk7dmVjNCByPXRpbGVVdlRvRGVtU2FtcGxlKGFwb3MvODE5Mi4wLHVfZGVtX3NpemUsdV9kZW1fc2NhbGUsdV9kZW1fdGwpO3ZlYzIgcG9zPXIueHk7dmVjMiBmPXIuenc7ZmxvYXQgdGw9dGV4dHVyZSh1X2RlbSxwb3MpLnI7ZmxvYXQgdHI9dGV4dHVyZSh1X2RlbSxwb3MrdmVjMihkZCwwKSkucjtmbG9hdCBibD10ZXh0dXJlKHVfZGVtLHBvcyt2ZWMyKDAsZGQpKS5yO2Zsb2F0IGJyPXRleHR1cmUodV9kZW0scG9zK3ZlYzIoZGQsZGQpKS5yO3JldHVybiB1X2V4YWdnZXJhdGlvbiptaXgobWl4KHRsLHRyLGYueCksbWl4KGJsLGJyLGYueCksZi55KTtcXG4jZW5kaWZcXG59ZmxvYXQgcHJldkVsZXZhdGlvbih2ZWMyIGFwb3MpIHtcXG4jaWZkZWYgVEVSUkFJTl9ERU1fRkxPQVRfRk9STUFUXFxudmVjMiBwb3M9KHVfZGVtX3NpemUqKGFwb3MvODE5Mi4wKnVfZGVtX3NjYWxlX3ByZXYrdV9kZW1fdGxfcHJldikrMS41KS8odV9kZW1fc2l6ZSsyLjApO3JldHVybiB1X2V4YWdnZXJhdGlvbip0ZXh0dXJlKHVfZGVtX3ByZXYscG9zKS5yO1xcbiNlbHNlXFxuZmxvYXQgZGQ9MS4wLyh1X2RlbV9zaXplKzIuMCk7dmVjNCByPXRpbGVVdlRvRGVtU2FtcGxlKGFwb3MvODE5Mi4wLHVfZGVtX3NpemUsdV9kZW1fc2NhbGVfcHJldix1X2RlbV90bF9wcmV2KTt2ZWMyIHBvcz1yLnh5O3ZlYzIgZj1yLnp3O2Zsb2F0IHRsPXRleHR1cmUodV9kZW1fcHJldixwb3MpLnI7ZmxvYXQgdHI9dGV4dHVyZSh1X2RlbV9wcmV2LHBvcyt2ZWMyKGRkLDApKS5yO2Zsb2F0IGJsPXRleHR1cmUodV9kZW1fcHJldixwb3MrdmVjMigwLGRkKSkucjtmbG9hdCBicj10ZXh0dXJlKHVfZGVtX3ByZXYscG9zK3ZlYzIoZGQsZGQpKS5yO3JldHVybiB1X2V4YWdnZXJhdGlvbiptaXgobWl4KHRsLHRyLGYueCksbWl4KGJsLGJyLGYueCksZi55KTtcXG4jZW5kaWZcXG59XFxuI2lmZGVmIFRFUlJBSU5fVkVSVEVYX01PUlBISU5HXFxuZmxvYXQgZWxldmF0aW9uKHZlYzIgYXBvcykge1xcbiNpZmRlZiBaRVJPX0VYQUdHRVJBVElPTlxcbnJldHVybiAwLjA7XFxuI2VuZGlmXFxuZmxvYXQgbmV4dEVsZXZhdGlvbj1jdXJyZW50RWxldmF0aW9uKGFwb3MpO2Zsb2F0IHByZXZFbGV2YXRpb249cHJldkVsZXZhdGlvbihhcG9zKTtyZXR1cm4gbWl4KHByZXZFbGV2YXRpb24sbmV4dEVsZXZhdGlvbix1X2RlbV9sZXJwKTt9XFxuI2Vsc2VcXG5mbG9hdCBlbGV2YXRpb24odmVjMiBhcG9zKSB7XFxuI2lmZGVmIFpFUk9fRVhBR0dFUkFUSU9OXFxucmV0dXJuIDAuMDtcXG4jZW5kaWZcXG5yZXR1cm4gY3VycmVudEVsZXZhdGlvbihhcG9zKTt9XFxuI2VuZGlmXFxuaGlnaHAgZmxvYXQgdW5wYWNrX2RlcHRoKGhpZ2hwIHZlYzQgcmdiYV9kZXB0aClcXG57Y29uc3QgaGlnaHAgdmVjNCBiaXRfc2hpZnQ9dmVjNCgxLjAvKDI1NS4wKjI1NS4wKjI1NS4wKSwxLjAvKDI1NS4wKjI1NS4wKSwxLjAvMjU1LjAsMS4wKTtyZXR1cm4gZG90KHJnYmFfZGVwdGgsYml0X3NoaWZ0KSoyLjAtMS4wO31ib29sIGlzT2NjbHVkZWQodmVjNCBmcmFnKSB7dmVjMyBjb29yZD1mcmFnLnh5ei9mcmFnLnc7ZmxvYXQgZGVwdGg9dW5wYWNrX2RlcHRoKHRleHR1cmUodV9kZXB0aCwoY29vcmQueHkrMS4wKSowLjUpKTtyZXR1cm4gY29vcmQueiA+IGRlcHRoKzAuMDAwNTt9ZmxvYXQgb2NjbHVzaW9uRmFkZSh2ZWM0IGZyYWcpIHt2ZWMzIGNvb3JkPWZyYWcueHl6L2ZyYWcudzt2ZWMzIGRmPXZlYzMoNS4wKnVfZGVwdGhfc2l6ZV9pbnYsMC4wKTt2ZWMyIHV2PTAuNSpjb29yZC54eSswLjU7dmVjNCBkZXB0aD12ZWM0KFxcbnVucGFja19kZXB0aCh0ZXh0dXJlKHVfZGVwdGgsdXYtZGYueHopKSx1bnBhY2tfZGVwdGgodGV4dHVyZSh1X2RlcHRoLHV2K2RmLnh6KSksdW5wYWNrX2RlcHRoKHRleHR1cmUodV9kZXB0aCx1di1kZi56eSkpLHVucGFja19kZXB0aCh0ZXh0dXJlKHVfZGVwdGgsdXYrZGYuenkpKVxcbik7cmV0dXJuIGRvdCh2ZWM0KDAuMjUpLHZlYzQoMS4wKS1jbGFtcCgzMDAuMCoodmVjNChjb29yZC56LTAuMDAxKS1kZXB0aCksMC4wLDEuMCkpO312ZWM0IGZvdXJTYW1wbGUodmVjMiBwb3MsdmVjMiBvZmYpIHtmbG9hdCB0bD10ZXh0dXJlKHVfZGVtLHBvcykucjtmbG9hdCB0cj10ZXh0dXJlKHVfZGVtLHBvcyt2ZWMyKG9mZi54LDAuMCkpLnI7ZmxvYXQgYmw9dGV4dHVyZSh1X2RlbSxwb3MrdmVjMigwLjAsb2ZmLnkpKS5yO2Zsb2F0IGJyPXRleHR1cmUodV9kZW0scG9zK29mZikucjtyZXR1cm4gdmVjNCh0bCx0cixibCxicik7fWZsb2F0IGZsYXRFbGV2YXRpb24odmVjMiBwYWNrKSB7dmVjMiBhcG9zPWZsb29yKHBhY2svOC4wKTt2ZWMyIHNwYW49MTAuMCoocGFjay1hcG9zKjguMCk7dmVjMiB1dlRleD0oYXBvcy12ZWMyKDEuMCwxLjApKS84MTkwLjA7ZmxvYXQgc2l6ZT11X2RlbV9zaXplKzIuMDtmbG9hdCBkZD0xLjAvc2l6ZTt2ZWMyIHBvcz11X2RlbV9zaXplKih1dlRleCp1X2RlbV9zY2FsZSt1X2RlbV90bCkrMS4wO3ZlYzIgZj1mcmFjdChwb3MpO3Bvcz0ocG9zLWYrMC41KSpkZDt2ZWM0IGg9Zm91clNhbXBsZShwb3MsdmVjMihkZCkpO2Zsb2F0IHo9bWl4KG1peChoLngsaC55LGYueCksbWl4KGgueixoLncsZi54KSxmLnkpO3ZlYzIgdz1mbG9vcigwLjUqKHNwYW4qdV9tZXRlcl90b19kZW0tMS4wKSk7dmVjMiBkPWRkKnc7aD1mb3VyU2FtcGxlKHBvcy1kLDIuMCpkK3ZlYzIoZGQpKTt2ZWM0IGRpZmY9YWJzKGgueHp4eS1oLnl3encpO3ZlYzIgc2xvcGU9bWluKHZlYzIoMC4yNSksdV9tZXRlcl90b19kZW0qMC41KihkaWZmLnh6K2RpZmYueXcpLygyLjAqdyt2ZWMyKDEuMCkpKTt2ZWMyIGZpeD1zbG9wZSpzcGFuO2Zsb2F0IGJhc2U9eittYXgoZml4LngsZml4LnkpO3JldHVybiB1X2V4YWdnZXJhdGlvbipiYXNlO31mbG9hdCBlbGV2YXRpb25Gcm9tVWludDE2KGZsb2F0IHdvcmQpIHtyZXR1cm4gdV9leGFnZ2VyYXRpb24qKHdvcmQvRUxFVkFUSU9OX1NDQUxFLUVMRVZBVElPTl9PRkZTRVQpO31cXG4jZWxzZVxcbmZsb2F0IGVsZXZhdGlvbih2ZWMyIHBvcykgeyByZXR1cm4gMC4wOyB9Ym9vbCBpc09jY2x1ZGVkKHZlYzQgZnJhZykgeyByZXR1cm4gZmFsc2U7IH1mbG9hdCBvY2NsdXNpb25GYWRlKHZlYzQgZnJhZykgeyByZXR1cm4gMS4wOyB9XFxuI2VuZGlmXCIsUkU9XCIjaWZkZWYgRk9HXFxudW5pZm9ybSBtZWRpdW1wIHZlYzQgdV9mb2dfY29sb3I7dW5pZm9ybSBtZWRpdW1wIHZlYzIgdV9mb2dfcmFuZ2U7dW5pZm9ybSBtZWRpdW1wIGZsb2F0IHVfZm9nX2hvcml6b25fYmxlbmQ7dW5pZm9ybSBtZWRpdW1wIG1hdDQgdV9mb2dfbWF0cml4O291dCB2ZWMzIHZfZm9nX3BvcztmbG9hdCBmb2dfcmFuZ2UoZmxvYXQgZGVwdGgpIHtyZXR1cm4gKGRlcHRoLXVfZm9nX3JhbmdlWzBdKS8odV9mb2dfcmFuZ2VbMV0tdV9mb2dfcmFuZ2VbMF0pO31mbG9hdCBmb2dfaG9yaXpvbl9ibGVuZGluZyh2ZWMzIGNhbWVyYV9kaXIpIHtmbG9hdCB0PW1heCgwLjAsY2FtZXJhX2Rpci56L3VfZm9nX2hvcml6b25fYmxlbmQpO3JldHVybiB1X2ZvZ19jb2xvci5hKmV4cCgtMy4wKnQqdCk7fWZsb2F0IGZvZ19vcGFjaXR5KGZsb2F0IHQpIHtjb25zdCBmbG9hdCBkZWNheT02LjA7ZmxvYXQgZmFsbG9mZj0xLjAtbWluKDEuMCxleHAoLWRlY2F5KnQpKTtmYWxsb2ZmKj1mYWxsb2ZmKmZhbGxvZmY7cmV0dXJuIHVfZm9nX2NvbG9yLmEqbWluKDEuMCwxLjAwNzQ3KmZhbGxvZmYpO312ZWMzIGZvZ19wb3NpdGlvbih2ZWMzIHBvcykge3JldHVybiAodV9mb2dfbWF0cml4KnZlYzQocG9zLDEuMCkpLnh5ejt9dmVjMyBmb2dfcG9zaXRpb24odmVjMiBwb3MpIHtyZXR1cm4gZm9nX3Bvc2l0aW9uKHZlYzMocG9zLDAuMCkpO31mbG9hdCBmb2codmVjMyBwb3MpIHtmbG9hdCBkZXB0aD1sZW5ndGgocG9zKTtmbG9hdCBvcGFjaXR5PWZvZ19vcGFjaXR5KGZvZ19yYW5nZShkZXB0aCkpO3JldHVybiBvcGFjaXR5KmZvZ19ob3Jpem9uX2JsZW5kaW5nKHBvcy9kZXB0aCk7fVxcbiNlbmRpZlwiLExFPVwiaGlnaHAgdmVjMyBoYXNoKGhpZ2hwIHZlYzIgcCkge2hpZ2hwIHZlYzMgcDM9ZnJhY3QocC54eXgqdmVjMyg0NDMuODk3NSwzOTcuMjk3Myw0OTEuMTg3MSkpO3AzKz1kb3QocDMscDMueXh6KzE5LjE5KTtyZXR1cm4gZnJhY3QoKHAzLnh4eStwMy55enopKnAzLnp5eCk7fXZlYzMgZGl0aGVyKHZlYzMgY29sb3IsaGlnaHAgdmVjMiBzZWVkKSB7dmVjMyBybmQ9aGFzaChzZWVkKStoYXNoKHNlZWQrMC41OTM3NCktMC41O3JldHVybiBjb2xvcitybmQvMjU1LjA7fVxcbiNpZmRlZiBGT0dcXG51bmlmb3JtIG1lZGl1bXAgdmVjNCB1X2ZvZ19jb2xvcjt1bmlmb3JtIG1lZGl1bXAgdmVjMiB1X2ZvZ19yYW5nZTt1bmlmb3JtIG1lZGl1bXAgZmxvYXQgdV9mb2dfaG9yaXpvbl9ibGVuZDt1bmlmb3JtIG1lZGl1bXAgdmVjMiB1X2ZvZ192ZXJ0aWNhbF9saW1pdDt1bmlmb3JtIG1lZGl1bXAgZmxvYXQgdV9mb2dfdGVtcG9yYWxfb2Zmc2V0O2luIHZlYzMgdl9mb2dfcG9zO3VuaWZvcm0gaGlnaHAgdmVjMyB1X2ZydXN0dW1fdGw7dW5pZm9ybSBoaWdocCB2ZWMzIHVfZnJ1c3R1bV90cjt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9mcnVzdHVtX2JyO3VuaWZvcm0gaGlnaHAgdmVjMyB1X2ZydXN0dW1fYmw7dW5pZm9ybSBoaWdocCB2ZWMzIHVfZ2xvYmVfcG9zO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9nbG9iZV9yYWRpdXM7dW5pZm9ybSBoaWdocCB2ZWMyIHVfdmlld3BvcnQ7dW5pZm9ybSBmbG9hdCB1X2dsb2JlX3RyYW5zaXRpb247dW5pZm9ybSBpbnQgdV9pc19nbG9iZTtmbG9hdCBmb2dfcmFuZ2UoZmxvYXQgZGVwdGgpIHtyZXR1cm4gKGRlcHRoLXVfZm9nX3JhbmdlWzBdKS8odV9mb2dfcmFuZ2VbMV0tdV9mb2dfcmFuZ2VbMF0pO31mbG9hdCBmb2dfaG9yaXpvbl9ibGVuZGluZyh2ZWMzIGNhbWVyYV9kaXIpIHtmbG9hdCB0PW1heCgwLjAsY2FtZXJhX2Rpci56L3VfZm9nX2hvcml6b25fYmxlbmQpO3JldHVybiB1X2ZvZ19jb2xvci5hKmV4cCgtMy4wKnQqdCk7fWZsb2F0IGZvZ19vcGFjaXR5KGZsb2F0IHQpIHtjb25zdCBmbG9hdCBkZWNheT02LjA7ZmxvYXQgZmFsbG9mZj0xLjAtbWluKDEuMCxleHAoLWRlY2F5KnQpKTtmYWxsb2ZmKj1mYWxsb2ZmKmZhbGxvZmY7cmV0dXJuIHVfZm9nX2NvbG9yLmEqbWluKDEuMCwxLjAwNzQ3KmZhbGxvZmYpO31mbG9hdCBnbG9iZV9nbG93X3Byb2dyZXNzKCkge2hpZ2hwIHZlYzIgdXY9Z2xfRnJhZ0Nvb3JkLnh5L3Vfdmlld3BvcnQ7aGlnaHAgdmVjMyByYXlfZGlyPW1peChcXG5taXgodV9mcnVzdHVtX3RsLHVfZnJ1c3R1bV90cix1di54KSxtaXgodV9mcnVzdHVtX2JsLHVfZnJ1c3R1bV9icix1di54KSwxLjAtdXYueSk7aGlnaHAgdmVjMyBkaXI9bm9ybWFsaXplKHJheV9kaXIpO2hpZ2hwIHZlYzMgY2xvc2VzdF9wb2ludD1kb3QodV9nbG9iZV9wb3MsZGlyKSpkaXI7aGlnaHAgZmxvYXQgc2RmPWxlbmd0aChjbG9zZXN0X3BvaW50LXVfZ2xvYmVfcG9zKS91X2dsb2JlX3JhZGl1cztyZXR1cm4gc2RmK1BJKjAuNTt9ZmxvYXQgZm9nX29wYWNpdHkodmVjMyBwb3MpIHtmbG9hdCBkZXB0aD1sZW5ndGgocG9zKTtyZXR1cm4gZm9nX29wYWNpdHkoZm9nX3JhbmdlKGRlcHRoKSk7fXZlYzMgZm9nX2FwcGx5KHZlYzMgY29sb3IsdmVjMyBwb3MsZmxvYXQgb3BhY2l0eV9saW1pdCkge2Zsb2F0IGRlcHRoPWxlbmd0aChwb3MpO2Zsb2F0IG9wYWNpdHk7aWYgKHVfaXNfZ2xvYmU9PTEpIHtmbG9hdCBnbG93X3Byb2dyZXNzPWdsb2JlX2dsb3dfcHJvZ3Jlc3MoKTtmbG9hdCB0PW1peChnbG93X3Byb2dyZXNzLGRlcHRoLHVfZ2xvYmVfdHJhbnNpdGlvbik7b3BhY2l0eT1mb2dfb3BhY2l0eShmb2dfcmFuZ2UodCkpO30gZWxzZSB7b3BhY2l0eT1mb2dfb3BhY2l0eShmb2dfcmFuZ2UoZGVwdGgpKTtvcGFjaXR5Kj1mb2dfaG9yaXpvbl9ibGVuZGluZyhwb3MvZGVwdGgpO31yZXR1cm4gbWl4KGNvbG9yLHVfZm9nX2NvbG9yLnJnYixtaW4ob3BhY2l0eSxvcGFjaXR5X2xpbWl0KSk7fXZlYzMgZm9nX2FwcGx5KHZlYzMgY29sb3IsdmVjMyBwb3MpIHtyZXR1cm4gZm9nX2FwcGx5KGNvbG9yLHBvcywxLjApO312ZWM0IGZvZ19hcHBseV9mcm9tX3ZlcnQodmVjNCBjb2xvcixmbG9hdCBmb2dfb3BhYykge2Zsb2F0IGFscGhhPUVQU0lMT04rY29sb3IuYTtjb2xvci5yZ2I9bWl4KGNvbG9yLnJnYi9hbHBoYSx1X2ZvZ19jb2xvci5yZ2IsZm9nX29wYWMpKmFscGhhO3JldHVybiBjb2xvcjt9dmVjMyBmb2dfYXBwbHlfc2t5X2dyYWRpZW50KHZlYzMgY2FtZXJhX3JheSx2ZWMzIHNreV9jb2xvcikge2Zsb2F0IGhvcml6b25fYmxlbmQ9Zm9nX2hvcml6b25fYmxlbmRpbmcobm9ybWFsaXplKGNhbWVyYV9yYXkpKTtyZXR1cm4gbWl4KHNreV9jb2xvcix1X2ZvZ19jb2xvci5yZ2IsaG9yaXpvbl9ibGVuZCk7fXZlYzQgZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQodmVjNCBjb2xvcix2ZWMzIHBvcykge2Zsb2F0IGFscGhhPUVQU0lMT04rY29sb3IuYTtjb2xvci5yZ2I9Zm9nX2FwcGx5KGNvbG9yLnJnYi9hbHBoYSxwb3MpKmFscGhhO3JldHVybiBjb2xvcjt9dmVjNCBmb2dfYXBwbHlfcHJlbXVsdGlwbGllZCh2ZWM0IGNvbG9yLHZlYzMgcG9zLGZsb2F0IGhlaWdodE1ldGVycykge2Zsb2F0IHZlcnRpY2FsUHJvZ3Jlc3M9KHVfZm9nX3ZlcnRpY2FsX2xpbWl0LnggPiAwLjAgfHwgdV9mb2dfdmVydGljYWxfbGltaXQueSA+IDAuMCkgPyBzbW9vdGhzdGVwKHVfZm9nX3ZlcnRpY2FsX2xpbWl0LngsdV9mb2dfdmVydGljYWxfbGltaXQueSxoZWlnaHRNZXRlcnMpIDogMC4wO2Zsb2F0IG9wYWNpdHlMaW1pdD0xLjAtc21vb3Roc3RlcCgwLjksMS4wLGZvZ19vcGFjaXR5KHBvcykpO3JldHVybiBtaXgoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQoY29sb3IscG9zKSxjb2xvcixtaW4odmVydGljYWxQcm9ncmVzcyxvcGFjaXR5TGltaXQpKTt9dmVjMyBmb2dfZGl0aGVyKHZlYzMgY29sb3IpIHtcXG4jaWZkZWYgRk9HX0RJVEhFUklOR1xcbnZlYzIgZGl0aGVyX3NlZWQ9Z2xfRnJhZ0Nvb3JkLnh5K3VfZm9nX3RlbXBvcmFsX29mZnNldDtyZXR1cm4gZGl0aGVyKGNvbG9yLGRpdGhlcl9zZWVkKTtcXG4jZWxzZVxcbnJldHVybiBjb2xvcjtcXG4jZW5kaWZcXG59dmVjNCBmb2dfZGl0aGVyKHZlYzQgY29sb3IpIHtyZXR1cm4gdmVjNChmb2dfZGl0aGVyKGNvbG9yLnJnYiksY29sb3IuYSk7fVxcbiNlbmRpZlwiLGtFPVwiI2lmZGVmIFJBU1RFUl9BUlJBWVxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2UwO3VuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2UxO2NvbnN0IHZlYzQgTk9EQVRBPXZlYzQoMSk7dmVjNCBfcmFUZXhMaW5lYXJDb29yZCh2ZWMyIHRleENvb3JkLHZlYzIgdGV4UmVzb2x1dGlvbixvdXQgdmVjMiBmeHkpIHt0ZXhDb29yZD10ZXhDb29yZCp0ZXhSZXNvbHV0aW9uLTAuNTtmeHk9ZnJhY3QodGV4Q29vcmQpO3RleENvb3JkLT1meHk7cmV0dXJuICh0ZXhDb29yZC54eHl5K3ZlYzIoMS41LDAuNSkueHl4eSkvdGV4UmVzb2x1dGlvbi54eHl5O312ZWMyIF9yYVRleExpbmVhck1peCh2ZWMyIGZ4eSx2ZWM0IGNvbG9yTWl4LGZsb2F0IGNvbG9yT2Zmc2V0LHZlYzQgdDAwLHZlYzQgdDEwLHZlYzQgdDAxLHZlYzQgdDExKSB7dmVjMiBjMDA9dDAwPT1OT0RBVEEgPyB2ZWMyKDApIDogdmVjMihjb2xvck9mZnNldCtkb3QodDAwLGNvbG9yTWl4KSwxKTt2ZWMyIGMxMD10MTA9PU5PREFUQSA/IHZlYzIoMCkgOiB2ZWMyKGNvbG9yT2Zmc2V0K2RvdCh0MTAsY29sb3JNaXgpLDEpO3ZlYzIgYzAxPXQwMT09Tk9EQVRBID8gdmVjMigwKSA6IHZlYzIoY29sb3JPZmZzZXQrZG90KHQwMSxjb2xvck1peCksMSk7dmVjMiBjMTE9dDExPT1OT0RBVEEgPyB2ZWMyKDApIDogdmVjMihjb2xvck9mZnNldCtkb3QodDExLGNvbG9yTWl4KSwxKTtyZXR1cm4gbWl4KG1peChjMDEsYzExLGZ4eS54KSxtaXgoYzAwLGMxMCxmeHkueCksZnh5LnkpO312ZWMyIHJhVGV4dHVyZTJEX2ltYWdlMF9saW5lYXIodmVjMiB0ZXhDb29yZCx2ZWMyIHRleFJlc29sdXRpb24sdmVjNCBjb2xvck1peCxmbG9hdCBjb2xvck9mZnNldCkge3ZlYzIgZnh5O3ZlYzQgYz1fcmFUZXhMaW5lYXJDb29yZCh0ZXhDb29yZCx0ZXhSZXNvbHV0aW9uLGZ4eSk7cmV0dXJuIF9yYVRleExpbmVhck1peChmeHksY29sb3JNaXgsY29sb3JPZmZzZXQsdGV4dHVyZSh1X2ltYWdlMCxjLnl6KSx0ZXh0dXJlKHVfaW1hZ2UwLGMueHopLHRleHR1cmUodV9pbWFnZTAsYy55dyksdGV4dHVyZSh1X2ltYWdlMCxjLnh3KVxcbik7fXZlYzIgcmFUZXh0dXJlMkRfaW1hZ2UxX2xpbmVhcih2ZWMyIHRleENvb3JkLHZlYzIgdGV4UmVzb2x1dGlvbix2ZWM0IGNvbG9yTWl4LGZsb2F0IGNvbG9yT2Zmc2V0KSB7dmVjMiBmeHk7dmVjNCBjPV9yYVRleExpbmVhckNvb3JkKHRleENvb3JkLHRleFJlc29sdXRpb24sZnh5KTtyZXR1cm4gX3JhVGV4TGluZWFyTWl4KGZ4eSxjb2xvck1peCxjb2xvck9mZnNldCx0ZXh0dXJlKHVfaW1hZ2UxLGMueXopLHRleHR1cmUodV9pbWFnZTEsYy54eiksdGV4dHVyZSh1X2ltYWdlMSxjLnl3KSx0ZXh0dXJlKHVfaW1hZ2UxLGMueHcpXFxuKTt9dmVjMiByYVRleHR1cmUyRF9pbWFnZTBfbmVhcmVzdCh2ZWMyIHRleENvb3JkLHZlYzIgdGV4UmVzb2x1dGlvbix2ZWM0IGNvbG9yTWl4LGZsb2F0IGNvbG9yT2Zmc2V0KSB7dmVjNCB0PXRleHR1cmUodV9pbWFnZTAsdGV4Q29vcmQpO3JldHVybiB0PT1OT0RBVEEgPyB2ZWMyKDApIDogdmVjMihjb2xvck9mZnNldCtkb3QodCxjb2xvck1peCksMSk7fXZlYzIgcmFUZXh0dXJlMkRfaW1hZ2UxX25lYXJlc3QodmVjMiB0ZXhDb29yZCx2ZWMyIHRleFJlc29sdXRpb24sdmVjNCBjb2xvck1peCxmbG9hdCBjb2xvck9mZnNldCkge3ZlYzQgdD10ZXh0dXJlKHVfaW1hZ2UxLHRleENvb3JkKTtyZXR1cm4gdD09Tk9EQVRBID8gdmVjMigwKSA6IHZlYzIoY29sb3JPZmZzZXQrZG90KHQsY29sb3JNaXgpLDEpO31cXG4jZW5kaWZcIixPRT1cIiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbnVuaWZvcm0gbWVkaXVtcCB2ZWMzIHVfc2hhZG93X2RpcmVjdGlvbjt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9zaGFkb3dfbm9ybWFsX29mZnNldDt2ZWMzIHNoYWRvd19ub3JtYWxfb2Zmc2V0KHZlYzMgbm9ybWFsKSB7ZmxvYXQgdGlsZUluTWV0ZXJzPXVfc2hhZG93X25vcm1hbF9vZmZzZXRbMF07dmVjMyBuPXZlYzMoLW5vcm1hbC54eSx0aWxlSW5NZXRlcnMqbm9ybWFsLnopO2Zsb2F0IGRvdFNjYWxlPW1pbigxLjAtZG90KG5vcm1hbCx1X3NoYWRvd19kaXJlY3Rpb24pLDEuMCkqMC41KzAuNTtyZXR1cm4gbipkb3RTY2FsZTt9dmVjMyBzaGFkb3dfbm9ybWFsX29mZnNldF9tb2RlbCh2ZWMzIG5vcm1hbCkge2Zsb2F0IGRvdFNjYWxlPW1pbigxLjAtZG90KG5vcm1hbCx1X3NoYWRvd19kaXJlY3Rpb24pLDEuMCkqMC41KzAuNTtyZXR1cm4gbm9ybWFsKmRvdFNjYWxlO31mbG9hdCBzaGFkb3dfbm9ybWFsX29mZnNldF9tdWx0aXBsaWVyMCgpIHtyZXR1cm4gdV9zaGFkb3dfbm9ybWFsX29mZnNldFsxXTt9ZmxvYXQgc2hhZG93X25vcm1hbF9vZmZzZXRfbXVsdGlwbGllcjEoKSB7cmV0dXJuIHVfc2hhZG93X25vcm1hbF9vZmZzZXRbMl07fVxcbiNlbmRpZi8vUkVOREVSX1NIQURPV1NcIixCRT1cIiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbiNpZmRlZiBERVBUSF9URVhUVVJFXFxudW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgdV9zaGFkb3dtYXBfMDt1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCB1X3NoYWRvd21hcF8xO1xcbiNlbHNlXFxudW5pZm9ybSBzYW1wbGVyMkQgdV9zaGFkb3dtYXBfMDt1bmlmb3JtIHNhbXBsZXIyRCB1X3NoYWRvd21hcF8xO1xcbiNlbmRpZlxcbnVuaWZvcm0gZmxvYXQgdV9zaGFkb3dfaW50ZW5zaXR5O3VuaWZvcm0gZmxvYXQgdV9zaGFkb3dfbWFwX3Jlc29sdXRpb247dW5pZm9ybSBmbG9hdCB1X3NoYWRvd190ZXhlbF9zaXplO3VuaWZvcm0gaGlnaHAgdmVjMyB1X3NoYWRvd19ub3JtYWxfb2Zmc2V0O3VuaWZvcm0gdmVjMiB1X2ZhZGVfcmFuZ2U7dW5pZm9ybSBtZWRpdW1wIHZlYzMgdV9zaGFkb3dfZGlyZWN0aW9uO3VuaWZvcm0gaGlnaHAgdmVjMyB1X3NoYWRvd19iaWFzO2hpZ2hwIGZsb2F0IHNoYWRvd19zYW1wbGVfMShoaWdocCB2ZWMyIHV2LGhpZ2hwIGZsb2F0IGNvbXBhcmUpIHtoaWdocCBmbG9hdCBzaGFkb3dfZGVwdGg7XFxuI2lmZGVmIERFUFRIX1RFWFRVUkVcXG5zaGFkb3dfZGVwdGg9dGV4dHVyZSh1X3NoYWRvd21hcF8xLHV2KS5yO1xcbiNlbHNlXFxuc2hhZG93X2RlcHRoPXVucGFja19kZXB0aCh0ZXh0dXJlKHVfc2hhZG93bWFwXzEsdXYpKSowLjUrMC41O1xcbiNlbmRpZlxcbnJldHVybiBzdGVwKHNoYWRvd19kZXB0aCxjb21wYXJlKTt9aGlnaHAgZmxvYXQgc2hhZG93X3NhbXBsZV8wKGhpZ2hwIHZlYzIgdXYsaGlnaHAgZmxvYXQgY29tcGFyZSkge2hpZ2hwIGZsb2F0IHNoYWRvd19kZXB0aDtcXG4jaWZkZWYgREVQVEhfVEVYVFVSRVxcbnNoYWRvd19kZXB0aD10ZXh0dXJlKHVfc2hhZG93bWFwXzAsdXYpLnI7XFxuI2Vsc2VcXG5zaGFkb3dfZGVwdGg9dW5wYWNrX2RlcHRoKHRleHR1cmUodV9zaGFkb3dtYXBfMCx1dikpKjAuNSswLjU7XFxuI2VuZGlmXFxucmV0dXJuIHN0ZXAoc2hhZG93X2RlcHRoLGNvbXBhcmUpO31mbG9hdCBzaGFkb3dfb2NjbHVzaW9uXzEoaGlnaHAgdmVjNCBwb3MsaGlnaHAgZmxvYXQgYmlhcykge2hpZ2hwIHZlYzIgdXY9cG9zLnh5O3JldHVybiBzaGFkb3dfc2FtcGxlXzEodXYscG9zLnotYmlhcyk7fWZsb2F0IHNoYWRvd19vY2NsdXNpb25fMChoaWdocCB2ZWM0IHBvcyxoaWdocCBmbG9hdCBiaWFzKSB7aGlnaHAgZmxvYXQgY29tcGFyZTA9cG9zLnotYmlhcztcXG4jaWZkZWYgTkFUSVZFXFxuaGlnaHAgdmVjMiB1dj1wb3MueHk7aGlnaHAgdmVjNCBzYW1wbGVzPXRleHR1cmVHYXRoZXIodV9zaGFkb3dtYXBfMCx1diwwKTtsb3dwIHZlYzQgc3RlcFNhbXBsZXM9c3RlcChzYW1wbGVzLHZlYzQoY29tcGFyZTApKTtcXG4jZWxzZVxcbmhpZ2hwIHZlYzIgdXYwMD1wb3MueHktdmVjMigwLjUqdV9zaGFkb3dfdGV4ZWxfc2l6ZSk7aGlnaHAgdmVjMiB1djEwPXV2MDArdmVjMih1X3NoYWRvd190ZXhlbF9zaXplLDAuMCk7aGlnaHAgdmVjMiB1djAxPXV2MDArdmVjMigwLjAsdV9zaGFkb3dfdGV4ZWxfc2l6ZSk7aGlnaHAgdmVjMiB1djExPXV2MDErdmVjMih1X3NoYWRvd190ZXhlbF9zaXplLDAuMCk7bG93cCB2ZWM0IHN0ZXBTYW1wbGVzPXZlYzQoXFxuc2hhZG93X3NhbXBsZV8wKHV2MDEsY29tcGFyZTApLHNoYWRvd19zYW1wbGVfMCh1djExLGNvbXBhcmUwKSxzaGFkb3dfc2FtcGxlXzAodXYxMCxjb21wYXJlMCksc2hhZG93X3NhbXBsZV8wKHV2MDAsY29tcGFyZTApXFxuKTtcXG4jZW5kaWZcXG52ZWMyIGY9ZnJhY3QocG9zLnh5KnVfc2hhZG93X21hcF9yZXNvbHV0aW9uLXZlYzIoMC41KSk7bG93cCB2ZWMyIGxlcnB4PW1peChzdGVwU2FtcGxlcy53eCxzdGVwU2FtcGxlcy56eSxmLnh4KTtyZXR1cm4gbWl4KGxlcnB4LngsbGVycHgueSxmLnkpO31mbG9hdCBzaGFkb3dfb2NjbHVzaW9uKGhpZ2hwIHZlYzQgbGlnaHRfdmlld19wb3MwLGhpZ2hwIHZlYzQgbGlnaHRfdmlld19wb3MxLGZsb2F0IHZpZXdfZGVwdGgsaGlnaHAgZmxvYXQgYmlhcykge1xcbiNpZmRlZiBTSEFET1dTX1NJTkdMRV9DQVNDQURFXFxubGlnaHRfdmlld19wb3MwLnh5ej1saWdodF92aWV3X3BvczAueHl6L2xpZ2h0X3ZpZXdfcG9zMC53KjAuNSswLjU7cmV0dXJuIHNoYWRvd19vY2NsdXNpb25fMChsaWdodF92aWV3X3BvczAsYmlhcyk7XFxuI2Vsc2VcXG5saWdodF92aWV3X3BvczAueHl6Lz1saWdodF92aWV3X3BvczAudztsaWdodF92aWV3X3BvczEueHl6Lz1saWdodF92aWV3X3BvczEudzt2ZWM0IHV2PXZlYzQobGlnaHRfdmlld19wb3MwLnh5LGxpZ2h0X3ZpZXdfcG9zMS54eSk7dmVjNCBhYnNfYm91bmRzPWFicyh1dik7aWYgKGFic19ib3VuZHMueCA8IDEuMCAmJiBhYnNfYm91bmRzLnkgPCAxLjApIHtsaWdodF92aWV3X3BvczAueHl6PWxpZ2h0X3ZpZXdfcG9zMC54eXoqMC41KzAuNTtyZXR1cm4gc2hhZG93X29jY2x1c2lvbl8wKGxpZ2h0X3ZpZXdfcG9zMCxiaWFzKTt9aWYgKGFic19ib3VuZHMueiA+PTEuMCB8fCBhYnNfYm91bmRzLncgPj0xLjApIHtyZXR1cm4gMC4wO31saWdodF92aWV3X3BvczEueHl6PWxpZ2h0X3ZpZXdfcG9zMS54eXoqMC41KzAuNTtmbG9hdCBvY2NsdXNpb24xPXNoYWRvd19vY2NsdXNpb25fMShsaWdodF92aWV3X3BvczEsYmlhcyk7cmV0dXJuIG1peChvY2NsdXNpb24xLDAuMCxzbW9vdGhzdGVwKHVfZmFkZV9yYW5nZS54LHVfZmFkZV9yYW5nZS55LHZpZXdfZGVwdGgpKTtcXG4jZW5kaWZcXG59aGlnaHAgZmxvYXQgY2FsY3VsYXRlX3NoYWRvd19iaWFzKGZsb2F0IE5Eb3RMKSB7XFxuI2lmZGVmIE5PUk1BTF9PRkZTRVRcXG5yZXR1cm4gMC41KnVfc2hhZG93X2JpYXMueDtcXG4jZWxzZVxcbnJldHVybiAwLjUqKHVfc2hhZG93X2JpYXMueCtjbGFtcCh1X3NoYWRvd19iaWFzLnkqdGFuKGFjb3MoTkRvdEwpKSwwLjAsdV9zaGFkb3dfYmlhcy56KSk7XFxuI2VuZGlmXFxufWZsb2F0IHNoYWRvd2VkX2xpZ2h0X2ZhY3Rvcl9ub3JtYWwodmVjMyBOLGhpZ2hwIHZlYzQgbGlnaHRfdmlld19wb3MwLGhpZ2hwIHZlYzQgbGlnaHRfdmlld19wb3MxLGZsb2F0IHZpZXdfZGVwdGgpIHtmbG9hdCBORG90TD1kb3QoTix1X3NoYWRvd19kaXJlY3Rpb24pO2Zsb2F0IGJpYXM9Y2FsY3VsYXRlX3NoYWRvd19iaWFzKE5Eb3RMKTtmbG9hdCBvY2NsdXNpb249c2hhZG93X29jY2x1c2lvbihsaWdodF92aWV3X3BvczAsbGlnaHRfdmlld19wb3MxLHZpZXdfZGVwdGgsYmlhcyk7cmV0dXJuIG1peCgwLjAsKDEuMC0odV9zaGFkb3dfaW50ZW5zaXR5Km9jY2x1c2lvbikpKk5Eb3RMLHN0ZXAoMC4wLE5Eb3RMKSk7fWZsb2F0IHNoYWRvd2VkX2xpZ2h0X2ZhY3Rvcl9ub3JtYWxfdW5iaWFzZWQodmVjMyBOLGhpZ2hwIHZlYzQgbGlnaHRfdmlld19wb3MwLGhpZ2hwIHZlYzQgbGlnaHRfdmlld19wb3MxLGZsb2F0IHZpZXdfZGVwdGgpIHtmbG9hdCBORG90TD1kb3QoTix1X3NoYWRvd19kaXJlY3Rpb24pO2Zsb2F0IGJpYXM9MC4wO2Zsb2F0IG9jY2x1c2lvbj1zaGFkb3dfb2NjbHVzaW9uKGxpZ2h0X3ZpZXdfcG9zMCxsaWdodF92aWV3X3BvczEsdmlld19kZXB0aCxiaWFzKTtyZXR1cm4gbWl4KDAuMCwoMS4wLSh1X3NoYWRvd19pbnRlbnNpdHkqb2NjbHVzaW9uKSkqTkRvdEwsc3RlcCgwLjAsTkRvdEwpKTt9ZmxvYXQgc2hhZG93ZWRfbGlnaHRfZmFjdG9yKGhpZ2hwIHZlYzQgbGlnaHRfdmlld19wb3MwLGhpZ2hwIHZlYzQgbGlnaHRfdmlld19wb3MxLGZsb2F0IHZpZXdfZGVwdGgpIHtmbG9hdCBiaWFzPTAuMDtmbG9hdCBvY2NsdXNpb249c2hhZG93X29jY2x1c2lvbihsaWdodF92aWV3X3BvczAsbGlnaHRfdmlld19wb3MxLHZpZXdfZGVwdGgsYmlhcyk7cmV0dXJuIDEuMC0odV9zaGFkb3dfaW50ZW5zaXR5Km9jY2x1c2lvbik7fWZsb2F0IHNoYWRvd19vY2NsdXNpb24oZmxvYXQgbmRvdGwsaGlnaHAgdmVjNCBsaWdodF92aWV3X3BvczAsaGlnaHAgdmVjNCBsaWdodF92aWV3X3BvczEsZmxvYXQgdmlld19kZXB0aCkge2Zsb2F0IGJpYXM9Y2FsY3VsYXRlX3NoYWRvd19iaWFzKG5kb3RsKTtyZXR1cm4gc2hhZG93X29jY2x1c2lvbihsaWdodF92aWV3X3BvczAsbGlnaHRfdmlld19wb3MxLHZpZXdfZGVwdGgsYmlhcyk7fVxcbiNlbmRpZlwiO2NvbnN0IEZFPVtdO3FFKHpFLEZFKTtjb25zdCBORT17XCJfcHJlbHVkZV9mb2cudmVydGV4Lmdsc2xcIjpSRSxcIl9wcmVsdWRlX3RlcnJhaW4udmVydGV4Lmdsc2xcIjpERSxcIl9wcmVsdWRlX3NoYWRvdy52ZXJ0ZXguZ2xzbFwiOk9FLFwiX3ByZWx1ZGVfZm9nLmZyYWdtZW50Lmdsc2xcIjpMRSxcIl9wcmVsdWRlX3NoYWRvdy5mcmFnbWVudC5nbHNsXCI6QkUsXCJfcHJlbHVkZV9saWdodGluZy5nbHNsXCI6XCJcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbnVuaWZvcm0gbWVkaXVtcCB2ZWMzIHVfbGlnaHRpbmdfYW1iaWVudF9jb2xvcjt1bmlmb3JtIG1lZGl1bXAgdmVjMyB1X2xpZ2h0aW5nX2RpcmVjdGlvbmFsX2Rpcjt1bmlmb3JtIG1lZGl1bXAgdmVjMyB1X2xpZ2h0aW5nX2RpcmVjdGlvbmFsX2NvbG9yO3VuaWZvcm0gbWVkaXVtcCB2ZWMzIHVfZ3JvdW5kX3JhZGlhbmNlO2Zsb2F0IGNhbGN1bGF0ZV9hbWJpZW50X2RpcmVjdGlvbmFsX2ZhY3Rvcih2ZWMzIG5vcm1hbCkge2Zsb2F0IE5kb3RMPWRvdChub3JtYWwsdV9saWdodGluZ19kaXJlY3Rpb25hbF9kaXIpO2NvbnN0IGZsb2F0IGZhY3Rvcl9yZWR1Y3Rpb25fbWF4PTAuMztmbG9hdCBkaXJfbHVtaW5hbmNlPWRvdCh1X2xpZ2h0aW5nX2RpcmVjdGlvbmFsX2NvbG9yLHZlYzMoMC4yMTI2LDAuNzE1MiwwLjA3MjIpKTtmbG9hdCBkaXJlY3Rpb25hbF9mYWN0b3JfbWluPTEuMC1mYWN0b3JfcmVkdWN0aW9uX21heCptaW4oZGlyX2x1bWluYW5jZSwxLjApO2Zsb2F0IGFtYmllbnRfZGlyZWN0aW9uYWxfZmFjdG9yPW1peChkaXJlY3Rpb25hbF9mYWN0b3JfbWluLDEuMCxtaW4oKE5kb3RMKzEuMCksMS4wKSk7Y29uc3QgZmxvYXQgdmVydGljYWxfZmFjdG9yX21pbj0wLjkyO2Zsb2F0IHZlcnRpY2FsX2ZhY3Rvcj1taXgodmVydGljYWxfZmFjdG9yX21pbiwxLjAsbm9ybWFsLnoqMC41KzAuNSk7cmV0dXJuIHZlcnRpY2FsX2ZhY3RvciphbWJpZW50X2RpcmVjdGlvbmFsX2ZhY3Rvcjt9dmVjMyBsaW5lYXJQcm9kdWN0KHZlYzMgc3JnYkluLHZlYzMgaykge3JldHVybiBzcmdiSW4qcG93KGssdmVjMygxLi8yLjIpKTt9dmVjMyBhcHBseV9saWdodGluZyh2ZWMzIGNvbG9yLHZlYzMgbm9ybWFsLGZsb2F0IGRpcl9mYWN0b3IpIHtmbG9hdCBhbWJpZW50X2RpcmVjdGlvbmFsX2ZhY3Rvcj1jYWxjdWxhdGVfYW1iaWVudF9kaXJlY3Rpb25hbF9mYWN0b3Iobm9ybWFsKTt2ZWMzIGFtYmllbnRfY29udHJpYj1hbWJpZW50X2RpcmVjdGlvbmFsX2ZhY3Rvcip1X2xpZ2h0aW5nX2FtYmllbnRfY29sb3I7dmVjMyBkaXJlY3Rpb25hbF9jb250cmliPXVfbGlnaHRpbmdfZGlyZWN0aW9uYWxfY29sb3IqZGlyX2ZhY3RvcjtyZXR1cm4gbGluZWFyUHJvZHVjdChjb2xvcixhbWJpZW50X2NvbnRyaWIrZGlyZWN0aW9uYWxfY29udHJpYik7fXZlYzQgYXBwbHlfbGlnaHRpbmcodmVjNCBjb2xvcix2ZWMzIG5vcm1hbCxmbG9hdCBkaXJfZmFjdG9yKSB7cmV0dXJuIHZlYzQoYXBwbHlfbGlnaHRpbmcoY29sb3IucmdiLG5vcm1hbCxkaXJfZmFjdG9yKSxjb2xvci5hKTt9dmVjMyBhcHBseV9saWdodGluZyh2ZWMzIGNvbG9yLHZlYzMgbm9ybWFsKSB7ZmxvYXQgZGlyX2ZhY3Rvcj1tYXgoZG90KG5vcm1hbCx1X2xpZ2h0aW5nX2RpcmVjdGlvbmFsX2RpciksMC4wKTtyZXR1cm4gYXBwbHlfbGlnaHRpbmcoY29sb3IucmdiLG5vcm1hbCxkaXJfZmFjdG9yKTt9dmVjNCBhcHBseV9saWdodGluZyh2ZWM0IGNvbG9yLHZlYzMgbm9ybWFsKSB7ZmxvYXQgZGlyX2ZhY3Rvcj1tYXgoZG90KG5vcm1hbCx1X2xpZ2h0aW5nX2RpcmVjdGlvbmFsX2RpciksMC4wKTtyZXR1cm4gdmVjNChhcHBseV9saWdodGluZyhjb2xvci5yZ2Isbm9ybWFsLGRpcl9mYWN0b3IpLGNvbG9yLmEpO312ZWMzIGFwcGx5X2xpZ2h0aW5nX2dyb3VuZCh2ZWMzIGNvbG9yKSB7cmV0dXJuIGNvbG9yKnVfZ3JvdW5kX3JhZGlhbmNlO312ZWM0IGFwcGx5X2xpZ2h0aW5nX2dyb3VuZCh2ZWM0IGNvbG9yKSB7cmV0dXJuIHZlYzQoYXBwbHlfbGlnaHRpbmdfZ3JvdW5kKGNvbG9yLnJnYiksY29sb3IuYSk7fWZsb2F0IGNhbGN1bGF0ZV9OZG90TCh2ZWMzIG5vcm1hbCkge2NvbnN0IGZsb2F0IGV4dD0wLjcwNzEwNjc4MTE4O3JldHVybiAoY2xhbXAoZG90KG5vcm1hbCx1X2xpZ2h0aW5nX2RpcmVjdGlvbmFsX2RpciksLWV4dCwxLjApK2V4dCkvKDEuMCtleHQpO312ZWM0IGFwcGx5X2xpZ2h0aW5nX3dpdGhfZW1pc3Npb25fZ3JvdW5kKHZlYzQgY29sb3IsZmxvYXQgZW1pc3NpdmVfc3RyZW5ndGgpIHtyZXR1cm4gbWl4KGFwcGx5X2xpZ2h0aW5nX2dyb3VuZChjb2xvciksY29sb3IsZW1pc3NpdmVfc3RyZW5ndGgpO312ZWMzIGNvbXB1dGVfZmxvb2RfbGlnaHRpbmcodmVjMyBmbG9vZF9saWdodF9jb2xvcixmbG9hdCBmdWxseV9vY2NsdWRlZF9mYWN0b3IsZmxvYXQgb2NjbHVzaW9uLHZlYzMgZ3JvdW5kX3NoYWRvd19mYWN0b3IpIHt2ZWMzIGZ1bGx5X29jY2x1ZGVkX2NvbG9yPWZsb29kX2xpZ2h0X2NvbG9yKm1peChncm91bmRfc2hhZG93X2ZhY3Rvcix2ZWMzKDEuMCksZnVsbHlfb2NjbHVkZWRfZmFjdG9yKTtmbG9hdCBvY2NsdXNpb25fcmFtcD1zbW9vdGhzdGVwKDAuMCwwLjIsMS4wLW9jY2x1c2lvbik7cmV0dXJuIG1peChmdWxseV9vY2NsdWRlZF9jb2xvcixmbG9vZF9saWdodF9jb2xvcixvY2NsdXNpb25fcmFtcCk7fXZlYzMgY29tcHV0ZV9lbWlzc2l2ZV9kcmFwZWQodmVjMyB1bmxpdF9jb2xvcixmbG9hdCBmdWxseV9vY2NsdWRlZF9mYWN0b3IsZmxvYXQgb2NjbHVzaW9uLHZlYzMgZ3JvdW5kX3NoYWRvd19mYWN0b3IpIHt2ZWMzIGZ1bGx5X29jY2x1ZGVkX2NvbG9yPXVubGl0X2NvbG9yKm1peChncm91bmRfc2hhZG93X2ZhY3Rvcix2ZWMzKDEuMCksZnVsbHlfb2NjbHVkZWRfZmFjdG9yKTtyZXR1cm4gbWl4KGZ1bGx5X29jY2x1ZGVkX2NvbG9yLHVubGl0X2NvbG9yLDEuMC1vY2NsdXNpb24pO31cXG4jZW5kaWYvL0xJR0hUSU5HXzNEX01PREVcIixcIl9wcmVsdWRlX3Jhc3Rlcl9hcnJheS5nbHNsXCI6a0V9LFVFPXt9O1pFKFwiXCIsREUpLFpFKExFLFJFKSxaRShCRSxPRSksWkUoa0UsXCJcIik7Y29uc3QgVkU9WkUoXCJcXG5vdXQgdmVjNCBnbEZyYWdDb2xvcjtoaWdocCBmbG9hdCB1bnBhY2tfZGVwdGgoaGlnaHAgdmVjNCByZ2JhX2RlcHRoKVxcbntjb25zdCBoaWdocCB2ZWM0IGJpdF9zaGlmdD12ZWM0KDEuMC8oMjU1LjAqMjU1LjAqMjU1LjApLDEuMC8oMjU1LjAqMjU1LjApLDEuMC8yNTUuMCwxLjApO3JldHVybiBkb3QocmdiYV9kZXB0aCxiaXRfc2hpZnQpKjIuMC0xLjA7fWhpZ2hwIHZlYzQgcGFja19kZXB0aChoaWdocCBmbG9hdCBuZGNfeikge2hpZ2hwIGZsb2F0IGRlcHRoPW5kY196KjAuNSswLjU7Y29uc3QgaGlnaHAgdmVjNCBiaXRfc2hpZnQ9dmVjNCgyNTUuMCoyNTUuMCoyNTUuMCwyNTUuMCoyNTUuMCwyNTUuMCwxLjApO2NvbnN0IGhpZ2hwIHZlYzQgYml0X21hc2sgPXZlYzQoMC4wLDEuMC8yNTUuMCwxLjAvMjU1LjAsMS4wLzI1NS4wKTtoaWdocCB2ZWM0IHJlcz1mcmFjdChkZXB0aCpiaXRfc2hpZnQpO3Jlcy09cmVzLnh4eXoqYml0X21hc2s7cmV0dXJuIHJlczt9XFxuI2lmZGVmIElORElDQVRPUl9DVVRPVVRcXG51bmlmb3JtIHZlYzIgdV9pbmRpY2F0b3JfY3V0b3V0X2NlbnRlcnM7dW5pZm9ybSB2ZWM0IHVfaW5kaWNhdG9yX2N1dG91dF9wYXJhbXM7XFxuI2VuZGlmXFxudmVjNCBhcHBseUN1dG91dCh2ZWM0IGNvbG9yKSB7XFxuI2lmZGVmIElORElDQVRPUl9DVVRPVVRcXG5mbG9hdCBob2xlTWluT3BhY2l0eT11X2luZGljYXRvcl9jdXRvdXRfcGFyYW1zLng7ZmxvYXQgaG9sZVJhZGl1cz1tYXgodV9pbmRpY2F0b3JfY3V0b3V0X3BhcmFtcy55LDAuMCk7ZmxvYXQgaG9sZUFzcGVjdFJhdGlvPXVfaW5kaWNhdG9yX2N1dG91dF9wYXJhbXMuejtmbG9hdCBmYWRlU3RhcnQ9dV9pbmRpY2F0b3JfY3V0b3V0X3BhcmFtcy53O2Zsb2F0IGRpc3RBPWRpc3RhbmNlKHZlYzIoZ2xfRnJhZ0Nvb3JkLngsZ2xfRnJhZ0Nvb3JkLnkqaG9sZUFzcGVjdFJhdGlvKSx2ZWMyKHVfaW5kaWNhdG9yX2N1dG91dF9jZW50ZXJzWzBdLHVfaW5kaWNhdG9yX2N1dG91dF9jZW50ZXJzWzFdKmhvbGVBc3BlY3RSYXRpbykpO3JldHVybiBjb2xvciptaW4oc21vb3Roc3RlcChmYWRlU3RhcnQsaG9sZVJhZGl1cyxkaXN0QSkraG9sZU1pbk9wYWNpdHksMS4wKTtcXG4jZWxzZVxcbnJldHVybiBjb2xvcjtcXG4jZW5kaWZcXG59XFxuI2lmZGVmIERFQlVHX1dJUkVGUkFNRVxcbiNkZWZpbmUgSEFORExFX1dJUkVGUkFNRV9ERUJVRyBcXFxcXFxuZ2xGcmFnQ29sb3I9dmVjNCgwLjcsMC4wLDAuMCwwLjcpOyBcXFxcXFxuZ2xfRnJhZ0RlcHRoPWdsX0ZyYWdDb29yZC56LTAuMDAwMTtcXG4jZWxzZVxcbiNkZWZpbmUgSEFORExFX1dJUkVGUkFNRV9ERUJVR1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfQ1VUT0ZGXFxudW5pZm9ybSBoaWdocCB2ZWM0IHVfY3V0b2ZmX3BhcmFtcztpbiBmbG9hdCB2X2N1dG9mZl9vcGFjaXR5O1xcbiNlbmRpZlwiLFwiXFxuI2RlZmluZSBFWFRFTlQgODE5Mi4wXFxuI2RlZmluZSBSQURfVE9fREVHIDE4MC4wL1BJXFxuI2RlZmluZSBERUdfVE9fUkFEIFBJLzE4MC4wXFxuI2RlZmluZSBHTE9CRV9SQURJVVMgRVhURU5UL1BJLzIuMFxcbmZsb2F0IHdyYXAoZmxvYXQgbixmbG9hdCBtaW4sZmxvYXQgbWF4KSB7ZmxvYXQgZD1tYXgtbWluO2Zsb2F0IHc9bW9kKG1vZChuLW1pbixkKStkLGQpK21pbjtyZXR1cm4gKHc9PW1pbikgPyBtYXggOiB3O31cXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyBtZXJjYXRvcl90aWxlX3Bvc2l0aW9uKG1hdDQgbWF0cml4LHZlYzIgdGlsZV9hbmNob3IsdmVjMyB0aWxlX2lkLHZlYzIgbWVyY2F0b3JfY2VudGVyKSB7XFxuI2lmbmRlZiBQUk9KRUNURURfUE9TX09OX1ZJRVdQT1JUXFxuZmxvYXQgdGlsZXM9dGlsZV9pZC56O3ZlYzIgbWVyY2F0b3I9KHRpbGVfYW5jaG9yL0VYVEVOVCt0aWxlX2lkLnh5KS90aWxlczttZXJjYXRvci09bWVyY2F0b3JfY2VudGVyO21lcmNhdG9yLng9d3JhcChtZXJjYXRvci54LC0wLjUsMC41KTt2ZWM0IG1lcmNhdG9yX3RpbGU9dmVjNChtZXJjYXRvci54eSpFWFRFTlQsRVhURU5ULygyLjAqUEkpLDEuMCk7bWVyY2F0b3JfdGlsZT1tYXRyaXgqbWVyY2F0b3JfdGlsZTtyZXR1cm4gbWVyY2F0b3JfdGlsZS54eXo7XFxuI2Vsc2VcXG5yZXR1cm4gdmVjMygwLjApO1xcbiNlbmRpZlxcbn12ZWMzIG1peF9nbG9iZV9tZXJjYXRvcih2ZWMzIGdsb2JlLHZlYzMgbWVyY2F0b3IsZmxvYXQgdCkge3JldHVybiBtaXgoZ2xvYmUsbWVyY2F0b3IsdCk7fW1hdDMgZ2xvYmVfbWVyY2F0b3Jfc3VyZmFjZV92ZWN0b3JzKHZlYzMgcG9zX25vcm1hbCx2ZWMzIHVwX2RpcixmbG9hdCB6b29tX3RyYW5zaXRpb24pIHt2ZWMzIG5vcm1hbD16b29tX3RyYW5zaXRpb249PTAuMCA/IHBvc19ub3JtYWwgOiBub3JtYWxpemUobWl4KHBvc19ub3JtYWwsdXBfZGlyLHpvb21fdHJhbnNpdGlvbikpO3ZlYzMgeEF4aXM9bm9ybWFsaXplKHZlYzMobm9ybWFsLnosMC4wLC1ub3JtYWwueCkpO3ZlYzMgeUF4aXM9bm9ybWFsaXplKGNyb3NzKG5vcm1hbCx4QXhpcykpO3JldHVybiBtYXQzKHhBeGlzLHlBeGlzLG5vcm1hbCk7fVxcbiNlbmRpZlxcbnZlYzIgdW5wYWNrX2Zsb2F0KGNvbnN0IGZsb2F0IHBhY2tlZFZhbHVlKSB7aW50IHBhY2tlZEludFZhbHVlPWludChwYWNrZWRWYWx1ZSk7aW50IHYwPXBhY2tlZEludFZhbHVlLzI1NjtyZXR1cm4gdmVjMih2MCxwYWNrZWRJbnRWYWx1ZS12MCoyNTYpO312ZWMyIHVucGFja19vcGFjaXR5KGNvbnN0IGZsb2F0IHBhY2tlZE9wYWNpdHkpIHtpbnQgaW50T3BhY2l0eT1pbnQocGFja2VkT3BhY2l0eSkvMjtyZXR1cm4gdmVjMihmbG9hdChpbnRPcGFjaXR5KS8xMjcuMCxtb2QocGFja2VkT3BhY2l0eSwyLjApKTt9dmVjNCBkZWNvZGVfY29sb3IoY29uc3QgdmVjMiBlbmNvZGVkQ29sb3IpIHtyZXR1cm4gdmVjNChcXG51bnBhY2tfZmxvYXQoZW5jb2RlZENvbG9yWzBdKS8yNTUuMCx1bnBhY2tfZmxvYXQoZW5jb2RlZENvbG9yWzFdKS8yNTUuMFxcbik7fWZsb2F0IHVucGFja19taXhfdmVjMihjb25zdCB2ZWMyIHBhY2tlZFZhbHVlLGNvbnN0IGZsb2F0IHQpIHtyZXR1cm4gbWl4KHBhY2tlZFZhbHVlWzBdLHBhY2tlZFZhbHVlWzFdLHQpO312ZWM0IHVucGFja19taXhfY29sb3IoY29uc3QgdmVjNCBwYWNrZWRDb2xvcnMsY29uc3QgZmxvYXQgdCkge3ZlYzQgbWluQ29sb3I9ZGVjb2RlX2NvbG9yKHZlYzIocGFja2VkQ29sb3JzWzBdLHBhY2tlZENvbG9yc1sxXSkpO3ZlYzQgbWF4Q29sb3I9ZGVjb2RlX2NvbG9yKHZlYzIocGFja2VkQ29sb3JzWzJdLHBhY2tlZENvbG9yc1szXSkpO3JldHVybiBtaXgobWluQ29sb3IsbWF4Q29sb3IsdCk7fXZlYzIgZ2V0X3BhdHRlcm5fcG9zKGNvbnN0IHZlYzIgcGl4ZWxfY29vcmRfdXBwZXIsY29uc3QgdmVjMiBwaXhlbF9jb29yZF9sb3dlcixjb25zdCB2ZWMyIHBhdHRlcm5fc2l6ZSxjb25zdCBmbG9hdCB0aWxlX3VuaXRzX3RvX3BpeGVscyxjb25zdCB2ZWMyIHBvcykge3ZlYzIgb2Zmc2V0PW1vZChtb2QobW9kKHBpeGVsX2Nvb3JkX3VwcGVyLHBhdHRlcm5fc2l6ZSkqMjU2LjAscGF0dGVybl9zaXplKSoyNTYuMCtwaXhlbF9jb29yZF9sb3dlcixwYXR0ZXJuX3NpemUpO3JldHVybiAodGlsZV91bml0c190b19waXhlbHMqcG9zK29mZnNldCkvcGF0dGVybl9zaXplO31mbG9hdCBtZXJjYXRvclhmcm9tTG5nKGZsb2F0IGxuZykge3JldHVybiAoMTgwLjArbG5nKS8zNjAuMDt9ZmxvYXQgbWVyY2F0b3JZZnJvbUxhdChmbG9hdCBsYXQpIHtyZXR1cm4gKDE4MC4wLShSQURfVE9fREVHKmxvZyh0YW4oUEkvNC4wK2xhdC8yLjAqREVHX1RPX1JBRCkpKSkvMzYwLjA7fXZlYzMgbGF0TG5nVG9FQ0VGKHZlYzIgbGF0TG5nKSB7bGF0TG5nPURFR19UT19SQUQqbGF0TG5nO2Zsb2F0IGNvc0xhdD1jb3MobGF0TG5nWzBdKTtmbG9hdCBzaW5MYXQ9c2luKGxhdExuZ1swXSk7ZmxvYXQgY29zTG5nPWNvcyhsYXRMbmdbMV0pO2Zsb2F0IHNpbkxuZz1zaW4obGF0TG5nWzFdKTtmbG9hdCBzeD1jb3NMYXQqc2luTG5nKkdMT0JFX1JBRElVUztmbG9hdCBzeT0tc2luTGF0KkdMT0JFX1JBRElVUztmbG9hdCBzej1jb3NMYXQqY29zTG5nKkdMT0JFX1JBRElVUztyZXR1cm4gdmVjMyhzeCxzeSxzeik7fVxcbiNpZmRlZiBSRU5ERVJfQ1VUT0ZGXFxudW5pZm9ybSB2ZWM0IHVfY3V0b2ZmX3BhcmFtcztvdXQgZmxvYXQgdl9jdXRvZmZfb3BhY2l0eTtcXG4jZW5kaWZcXG5jb25zdCB2ZWM0IEFXQVk9dmVjNCgtMTAwMC4wLC0xMDAwLjAsLTEwMDAuMCwxKTtjb25zdCBmbG9hdCBza2lydE9mZnNldD0yNDU3NS4wO3ZlYzMgZGVjb21wb3NlVG9Qb3NBbmRTa2lydCh2ZWMyIHBvc1dpdGhDb21wb3NlZFNraXJ0KVxcbntmbG9hdCBza2lydD1mbG9hdChwb3NXaXRoQ29tcG9zZWRTa2lydC54ID49c2tpcnRPZmZzZXQpO3ZlYzIgcG9zPXBvc1dpdGhDb21wb3NlZFNraXJ0LXZlYzIoc2tpcnQqc2tpcnRPZmZzZXQsMC4wKTtyZXR1cm4gdmVjMyhwb3Msc2tpcnQpO31cIiksakU9ekU7dmFyIEdFPXtiYWNrZ3JvdW5kOlpFKCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy5mcmFnbWVudC5nbHNsXCJcXG4jaW5jbHVkZSBcIl9wcmVsdWRlX2xpZ2h0aW5nLmdsc2xcIlxcbnVuaWZvcm0gdmVjNCB1X2NvbG9yO3VuaWZvcm0gZmxvYXQgdV9vcGFjaXR5O1xcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxuaW4gdmVjNCB2X2NvbG9yO1xcbiNlbmRpZlxcbnZvaWQgbWFpbigpIHt2ZWM0IG91dF9jb2xvcjtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbm91dF9jb2xvcj12X2NvbG9yO1xcbiNlbHNlXFxub3V0X2NvbG9yPXVfY29sb3I7XFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbm91dF9jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKG91dF9jb2xvcix2X2ZvZ19wb3MpKTtcXG4jZW5kaWZcXG5nbEZyYWdDb2xvcj1vdXRfY29sb3IqdV9vcGFjaXR5O1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbEZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxuSEFORExFX1dJUkVGUkFNRV9ERUJVRzt9JywnI2luY2x1ZGUgXCJfcHJlbHVkZV9mb2cudmVydGV4Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfbGlnaHRpbmcuZ2xzbFwiXFxuaW4gdmVjMiBhX3Bvczt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG51bmlmb3JtIG1lZGl1bXAgdmVjNCB1X2NvbG9yO291dCB2ZWM0IHZfY29sb3I7dW5pZm9ybSBmbG9hdCB1X2VtaXNzaXZlX3N0cmVuZ3RoO1xcbiNlbmRpZlxcbnZvaWQgbWFpbigpIHtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zLDAsMSk7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG52X2NvbG9yPWFwcGx5X2xpZ2h0aW5nX3dpdGhfZW1pc3Npb25fZ3JvdW5kKHVfY29sb3IsdV9lbWlzc2l2ZV9zdHJlbmd0aCk7XFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24oYV9wb3MpO1xcbiNlbmRpZlxcbn0nKSxiYWNrZ3JvdW5kUGF0dGVybjpaRSgnI2luY2x1ZGUgXCJfcHJlbHVkZV9mb2cuZnJhZ21lbnQuZ2xzbFwiXFxuI2luY2x1ZGUgXCJfcHJlbHVkZV9saWdodGluZy5nbHNsXCJcXG51bmlmb3JtIHZlYzIgdV9wYXR0ZXJuX3RsO3VuaWZvcm0gdmVjMiB1X3BhdHRlcm5fYnI7dW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt1bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTt1bmlmb3JtIGZsb2F0IHVfZW1pc3NpdmVfc3RyZW5ndGg7dW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTtpbiB2ZWMyIHZfcG9zO3ZvaWQgbWFpbigpIHt2ZWMyIGltYWdlY29vcmQ9bW9kKHZfcG9zLDEuMCk7dmVjMiBwb3M9bWl4KHVfcGF0dGVybl90bC91X3RleHNpemUsdV9wYXR0ZXJuX2JyL3VfdGV4c2l6ZSxpbWFnZWNvb3JkKTt2ZWM0IG91dF9jb2xvcj10ZXh0dXJlKHVfaW1hZ2UscG9zKTtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbm91dF9jb2xvcj1hcHBseV9saWdodGluZ193aXRoX2VtaXNzaW9uX2dyb3VuZChvdXRfY29sb3IsdV9lbWlzc2l2ZV9zdHJlbmd0aCk7XFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbm91dF9jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKG91dF9jb2xvcix2X2ZvZ19wb3MpKTtcXG4jZW5kaWZcXG5nbEZyYWdDb2xvcj1vdXRfY29sb3IqdV9vcGFjaXR5O1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbEZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxuSEFORExFX1dJUkVGUkFNRV9ERUJVRzt9JywnI2luY2x1ZGUgXCJfcHJlbHVkZV9mb2cudmVydGV4Lmdsc2xcIlxcbnVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9wYXR0ZXJuX3NpemU7dW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfdXBwZXI7dW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfbG93ZXI7dW5pZm9ybSBmbG9hdCB1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzO2luIHZlYzIgYV9wb3M7b3V0IHZlYzIgdl9wb3M7dm9pZCBtYWluKCkge2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTt2X3Bvcz1nZXRfcGF0dGVybl9wb3ModV9waXhlbF9jb29yZF91cHBlcix1X3BpeGVsX2Nvb3JkX2xvd2VyLHVfcGF0dGVybl9zaXplLHVfdGlsZV91bml0c190b19waXhlbHMsYV9wb3MpO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKGFfcG9zKTtcXG4jZW5kaWZcXG59JyksY2lyY2xlOlpFKCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy5mcmFnbWVudC5nbHNsXCJcXG4jaW5jbHVkZSBcIl9wcmVsdWRlX2xpZ2h0aW5nLmdsc2xcIlxcbmluIHZlYzMgdl9kYXRhO2luIGZsb2F0IHZfdmlzaWJpbGl0eTtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgcmFkaXVzXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBzdHJva2VfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgc3Ryb2tlX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHN0cm9rZV9vcGFjaXR5XFxudW5pZm9ybSBmbG9hdCB1X2VtaXNzaXZlX3N0cmVuZ3RoO3ZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCByYWRpdXNcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IHN0cm9rZV9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgc3Ryb2tlX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBzdHJva2Vfb3BhY2l0eVxcbnZlYzIgZXh0cnVkZT12X2RhdGEueHk7ZmxvYXQgZXh0cnVkZV9sZW5ndGg9bGVuZ3RoKGV4dHJ1ZGUpO2xvd3AgZmxvYXQgYW50aWFsaWFzYmx1cj12X2RhdGEuejtmbG9hdCBhbnRpYWxpYXNlZF9ibHVyPS1tYXgoYmx1cixhbnRpYWxpYXNibHVyKTtmbG9hdCBvcGFjaXR5X3Q9c21vb3Roc3RlcCgwLjAsYW50aWFsaWFzZWRfYmx1cixleHRydWRlX2xlbmd0aC0xLjApO2Zsb2F0IGNvbG9yX3Q9c3Ryb2tlX3dpZHRoIDwgMC4wMSA/IDAuMCA6IHNtb290aHN0ZXAoXFxuYW50aWFsaWFzZWRfYmx1ciwwLjAsZXh0cnVkZV9sZW5ndGgtcmFkaXVzLyhyYWRpdXMrc3Ryb2tlX3dpZHRoKVxcbik7dmVjNCBvdXRfY29sb3I9bWl4KGNvbG9yKm9wYWNpdHksc3Ryb2tlX2NvbG9yKnN0cm9rZV9vcGFjaXR5LGNvbG9yX3QpO1xcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxub3V0X2NvbG9yPWFwcGx5X2xpZ2h0aW5nX3dpdGhfZW1pc3Npb25fZ3JvdW5kKG91dF9jb2xvcix1X2VtaXNzaXZlX3N0cmVuZ3RoKTtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxub3V0X2NvbG9yPWZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKG91dF9jb2xvcix2X2ZvZ19wb3MpO1xcbiNlbmRpZlxcbmdsRnJhZ0NvbG9yPW91dF9jb2xvcioodl92aXNpYmlsaXR5Km9wYWNpdHlfdCk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59JywnI2luY2x1ZGUgXCJfcHJlbHVkZV9mb2cudmVydGV4Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfdGVycmFpbi52ZXJ0ZXguZ2xzbFwiXFxuI2RlZmluZSBOVU1fVklTSUJJTElUWV9SSU5HUyAyXFxuI2RlZmluZSBJTlZfU1FSVDIgMC43MDcxMDY3OFxcbiNkZWZpbmUgRUxFVkFUSU9OX0JJQVMgMC4wMDAxXFxuI2RlZmluZSBOVU1fU0FNUExFU19QRVJfUklORyAxNlxcbnVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIG1hdDIgdV9leHRydWRlX3NjYWxlO3VuaWZvcm0gbG93cCBmbG9hdCB1X2RldmljZV9waXhlbF9yYXRpbzt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTtpbiB2ZWMyIGFfcG9zO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5pbiB2ZWMzIGFfcG9zXzM7aW4gdmVjMyBhX3Bvc19ub3JtYWxfMzt1bmlmb3JtIG1hdDQgdV9pbnZfcm90X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9tZXJjX2NlbnRlcjt1bmlmb3JtIHZlYzMgdV90aWxlX2lkO3VuaWZvcm0gZmxvYXQgdV96b29tX3RyYW5zaXRpb247dW5pZm9ybSB2ZWMzIHVfdXBfZGlyO1xcbiNlbmRpZlxcbm91dCB2ZWMzIHZfZGF0YTtvdXQgZmxvYXQgdl92aXNpYmlsaXR5O1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCByYWRpdXNcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IHN0cm9rZV9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCBzdHJva2Vfd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgc3Ryb2tlX29wYWNpdHlcXG52ZWMyIGNhbGNfb2Zmc2V0KHZlYzIgZXh0cnVzaW9uLGZsb2F0IHJhZGl1cyxmbG9hdCBzdHJva2Vfd2lkdGgsIGZsb2F0IHZpZXdfc2NhbGUpIHtyZXR1cm4gZXh0cnVzaW9uKihyYWRpdXMrc3Ryb2tlX3dpZHRoKSp1X2V4dHJ1ZGVfc2NhbGUqdmlld19zY2FsZTt9ZmxvYXQgY2FudGlsZXZlcmVkX2VsZXZhdGlvbih2ZWMyIHBvcyxmbG9hdCByYWRpdXMsZmxvYXQgc3Ryb2tlX3dpZHRoLGZsb2F0IHZpZXdfc2NhbGUpIHt2ZWMyIGMxPXBvcytjYWxjX29mZnNldCh2ZWMyKC0xLC0xKSxyYWRpdXMsc3Ryb2tlX3dpZHRoLHZpZXdfc2NhbGUpO3ZlYzIgYzI9cG9zK2NhbGNfb2Zmc2V0KHZlYzIoMSwtMSkscmFkaXVzLHN0cm9rZV93aWR0aCx2aWV3X3NjYWxlKTt2ZWMyIGMzPXBvcytjYWxjX29mZnNldCh2ZWMyKDEsMSkscmFkaXVzLHN0cm9rZV93aWR0aCx2aWV3X3NjYWxlKTt2ZWMyIGM0PXBvcytjYWxjX29mZnNldCh2ZWMyKC0xLDEpLHJhZGl1cyxzdHJva2Vfd2lkdGgsdmlld19zY2FsZSk7ZmxvYXQgaDE9ZWxldmF0aW9uKGMxKStFTEVWQVRJT05fQklBUztmbG9hdCBoMj1lbGV2YXRpb24oYzIpK0VMRVZBVElPTl9CSUFTO2Zsb2F0IGgzPWVsZXZhdGlvbihjMykrRUxFVkFUSU9OX0JJQVM7ZmxvYXQgaDQ9ZWxldmF0aW9uKGM0KStFTEVWQVRJT05fQklBUztyZXR1cm4gbWF4KGg0LG1heChoMyxtYXgoaDEsaDIpKSk7fWZsb2F0IGNpcmNsZV9lbGV2YXRpb24odmVjMiBwb3MpIHtcXG4jaWYgZGVmaW5lZChURVJSQUlOKVxcbnJldHVybiBlbGV2YXRpb24ocG9zKStFTEVWQVRJT05fQklBUztcXG4jZWxzZVxcbnJldHVybiAwLjA7XFxuI2VuZGlmXFxufXZlYzQgcHJvamVjdF92ZXJ0ZXgodmVjMiBleHRydXNpb24sdmVjNCB3b3JsZF9jZW50ZXIsdmVjNCBwcm9qZWN0ZWRfY2VudGVyLGZsb2F0IHJhZGl1cyxmbG9hdCBzdHJva2Vfd2lkdGgsIGZsb2F0IHZpZXdfc2NhbGUsbWF0MyBzdXJmYWNlX3ZlY3RvcnMpIHt2ZWMyIHNhbXBsZV9vZmZzZXQ9Y2FsY19vZmZzZXQoZXh0cnVzaW9uLHJhZGl1cyxzdHJva2Vfd2lkdGgsdmlld19zY2FsZSk7XFxuI2lmZGVmIFBJVENIX1dJVEhfTUFQXFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnJldHVybiB1X21hdHJpeCooIHdvcmxkX2NlbnRlcit2ZWM0KHNhbXBsZV9vZmZzZXQueCpzdXJmYWNlX3ZlY3RvcnNbMF0rc2FtcGxlX29mZnNldC55KnN1cmZhY2VfdmVjdG9yc1sxXSwwKSApO1xcbiNlbHNlXFxucmV0dXJuIHVfbWF0cml4Kiggd29ybGRfY2VudGVyK3ZlYzQoc2FtcGxlX29mZnNldCwwLDApICk7XFxuI2VuZGlmXFxuI2Vsc2VcXG5yZXR1cm4gcHJvamVjdGVkX2NlbnRlcit2ZWM0KHNhbXBsZV9vZmZzZXQsMCwwKTtcXG4jZW5kaWZcXG59ZmxvYXQgZ2V0X3NhbXBsZV9zdGVwKCkge1xcbiNpZmRlZiBQSVRDSF9XSVRIX01BUFxcbnJldHVybiAyLjAqUEkvZmxvYXQoTlVNX1NBTVBMRVNfUEVSX1JJTkcpO1xcbiNlbHNlXFxucmV0dXJuIFBJL2Zsb2F0KE5VTV9TQU1QTEVTX1BFUl9SSU5HKTtcXG4jZW5kaWZcXG59dm9pZCBtYWluKHZvaWQpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCByYWRpdXNcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IHN0cm9rZV9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgc3Ryb2tlX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBzdHJva2Vfb3BhY2l0eVxcbnZlYzIgZXh0cnVkZT12ZWMyKG1vZChhX3BvcywyLjApKjIuMC0xLjApO3ZlYzIgY2lyY2xlX2NlbnRlcj1mbG9vcihhX3BvcyowLjUpO3ZlYzQgd29ybGRfY2VudGVyO21hdDMgc3VyZmFjZV92ZWN0b3JzO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG52ZWMzIHBvc19ub3JtYWxfMz1hX3Bvc19ub3JtYWxfMy8xNjM4NC4wO3N1cmZhY2VfdmVjdG9ycz1nbG9iZV9tZXJjYXRvcl9zdXJmYWNlX3ZlY3RvcnMocG9zX25vcm1hbF8zLHVfdXBfZGlyLHVfem9vbV90cmFuc2l0aW9uKTt2ZWMzIHN1cmZhY2VfZXh0cnVzaW9uPWV4dHJ1ZGUueCpzdXJmYWNlX3ZlY3RvcnNbMF0rZXh0cnVkZS55KnN1cmZhY2VfdmVjdG9yc1sxXTt2ZWMzIGdsb2JlX2VsZXZhdGlvbj1lbGV2YXRpb25WZWN0b3IoY2lyY2xlX2NlbnRlcikqY2lyY2xlX2VsZXZhdGlvbihjaXJjbGVfY2VudGVyKTt2ZWMzIGdsb2JlX3Bvcz1hX3Bvc18zK3N1cmZhY2VfZXh0cnVzaW9uK2dsb2JlX2VsZXZhdGlvbjt2ZWMzIG1lcmNhdG9yX2VsZXZhdGlvbj11X3VwX2Rpcip1X3RpbGVfdXBfc2NhbGUqY2lyY2xlX2VsZXZhdGlvbihjaXJjbGVfY2VudGVyKTt2ZWMzIG1lcmNfcG9zPW1lcmNhdG9yX3RpbGVfcG9zaXRpb24odV9pbnZfcm90X21hdHJpeCxjaXJjbGVfY2VudGVyLHVfdGlsZV9pZCx1X21lcmNfY2VudGVyKStzdXJmYWNlX2V4dHJ1c2lvbittZXJjYXRvcl9lbGV2YXRpb247dmVjMyBwb3M9bWl4X2dsb2JlX21lcmNhdG9yKGdsb2JlX3BvcyxtZXJjX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7d29ybGRfY2VudGVyPXZlYzQocG9zLDEpO1xcbiNlbHNlIFxcbnN1cmZhY2VfdmVjdG9ycz1tYXQzKDEuMCk7ZmxvYXQgaGVpZ2h0PWNpcmNsZV9lbGV2YXRpb24oY2lyY2xlX2NlbnRlcik7d29ybGRfY2VudGVyPXZlYzQoY2lyY2xlX2NlbnRlcixoZWlnaHQsMSk7XFxuI2VuZGlmXFxudmVjNCBwcm9qZWN0ZWRfY2VudGVyPXVfbWF0cml4KndvcmxkX2NlbnRlcjtmbG9hdCB2aWV3X3NjYWxlPTAuMDtcXG4jaWZkZWYgUElUQ0hfV0lUSF9NQVBcXG4jaWZkZWYgU0NBTEVfV0lUSF9NQVBcXG52aWV3X3NjYWxlPTEuMDtcXG4jZWxzZVxcbnZpZXdfc2NhbGU9cHJvamVjdGVkX2NlbnRlci53L3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTtcXG4jZW5kaWZcXG4jZWxzZVxcbiNpZmRlZiBTQ0FMRV9XSVRIX01BUFxcbnZpZXdfc2NhbGU9dV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlO1xcbiNlbHNlXFxudmlld19zY2FsZT1wcm9qZWN0ZWRfY2VudGVyLnc7XFxuI2VuZGlmXFxuI2VuZGlmXFxuZ2xfUG9zaXRpb249cHJvamVjdF92ZXJ0ZXgoZXh0cnVkZSx3b3JsZF9jZW50ZXIscHJvamVjdGVkX2NlbnRlcixyYWRpdXMsc3Ryb2tlX3dpZHRoLHZpZXdfc2NhbGUsc3VyZmFjZV92ZWN0b3JzKTtmbG9hdCB2aXNpYmlsaXR5PTAuMDtcXG4jaWZkZWYgVEVSUkFJTlxcbmZsb2F0IHN0ZXA9Z2V0X3NhbXBsZV9zdGVwKCk7dmVjNCBvY2NsdXNpb25fd29ybGRfY2VudGVyO3ZlYzQgb2NjbHVzaW9uX3Byb2plY3RlZF9jZW50ZXI7XFxuI2lmZGVmIFBJVENIX1dJVEhfTUFQXFxuZmxvYXQgY2FudGlsZXZlcmVkX2hlaWdodD1jYW50aWxldmVyZWRfZWxldmF0aW9uKGNpcmNsZV9jZW50ZXIscmFkaXVzLHN0cm9rZV93aWR0aCx2aWV3X3NjYWxlKTtvY2NsdXNpb25fd29ybGRfY2VudGVyPXZlYzQoY2lyY2xlX2NlbnRlcixjYW50aWxldmVyZWRfaGVpZ2h0LDEpO29jY2x1c2lvbl9wcm9qZWN0ZWRfY2VudGVyPXVfbWF0cml4Km9jY2x1c2lvbl93b3JsZF9jZW50ZXI7XFxuI2Vsc2VcXG5vY2NsdXNpb25fd29ybGRfY2VudGVyPXdvcmxkX2NlbnRlcjtvY2NsdXNpb25fcHJvamVjdGVkX2NlbnRlcj1wcm9qZWN0ZWRfY2VudGVyO1xcbiNlbmRpZlxcbmZvcihpbnQgcmluZz0wOyByaW5nIDwgTlVNX1ZJU0lCSUxJVFlfUklOR1M7IHJpbmcrKykge2Zsb2F0IHNjYWxlPShmbG9hdChyaW5nKSsxLjApL2Zsb2F0KE5VTV9WSVNJQklMSVRZX1JJTkdTKTtmb3IoaW50IGk9MDsgaSA8IE5VTV9TQU1QTEVTX1BFUl9SSU5HOyBpKyspIHt2ZWMyIGV4dHJ1c2lvbj12ZWMyKGNvcyhzdGVwKmZsb2F0KGkpKSwtc2luKHN0ZXAqZmxvYXQoaSkpKSpzY2FsZTt2ZWM0IGZyYWdfcG9zPXByb2plY3RfdmVydGV4KGV4dHJ1c2lvbixvY2NsdXNpb25fd29ybGRfY2VudGVyLG9jY2x1c2lvbl9wcm9qZWN0ZWRfY2VudGVyLHJhZGl1cyxzdHJva2Vfd2lkdGgsdmlld19zY2FsZSxzdXJmYWNlX3ZlY3RvcnMpO3Zpc2liaWxpdHkrPWZsb2F0KCFpc09jY2x1ZGVkKGZyYWdfcG9zKSk7fX12aXNpYmlsaXR5Lz1mbG9hdChOVU1fVklTSUJJTElUWV9SSU5HUykqZmxvYXQoTlVNX1NBTVBMRVNfUEVSX1JJTkcpO1xcbiNlbHNlXFxudmlzaWJpbGl0eT0xLjA7XFxuI2VuZGlmXFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZpc2liaWxpdHk9MS4wO1xcbiNlbmRpZlxcbnZfdmlzaWJpbGl0eT12aXNpYmlsaXR5O2xvd3AgZmxvYXQgYW50aWFsaWFzYmx1cj0xLjAvdV9kZXZpY2VfcGl4ZWxfcmF0aW8vKHJhZGl1cytzdHJva2Vfd2lkdGgpO3ZfZGF0YT12ZWMzKGV4dHJ1ZGUueCxleHRydWRlLnksYW50aWFsaWFzYmx1cik7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24od29ybGRfY2VudGVyLnh5eik7XFxuI2VuZGlmXFxufScpLGNsaXBwaW5nTWFzazpaRShcInZvaWQgbWFpbigpIHtnbEZyYWdDb2xvcj12ZWM0KDEuMCk7fVwiLFwiaW4gdmVjMiBhX3Bvczt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dm9pZCBtYWluKCkge2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTt9XCIpLGhlYXRtYXA6WkUoJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLmZyYWdtZW50Lmdsc2xcIlxcbnVuaWZvcm0gaGlnaHAgZmxvYXQgdV9pbnRlbnNpdHk7aW4gdmVjMiB2X2V4dHJ1ZGU7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCBmbG9hdCB3ZWlnaHRcXG4jZGVmaW5lIEdBVVNTX0NPRUYgMC4zOTg5NDIyODA0MDE0MzI3XFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIGZsb2F0IHdlaWdodFxcbmZsb2F0IGQ9LTAuNSozLjAqMy4wKmRvdCh2X2V4dHJ1ZGUsdl9leHRydWRlKTtmbG9hdCB2YWw9d2VpZ2h0KnVfaW50ZW5zaXR5KkdBVVNTX0NPRUYqZXhwKGQpO2dsRnJhZ0NvbG9yPXZlYzQodmFsLDEuMCwxLjAsMS4wKTtcXG4jaWZkZWYgRk9HXFxuaWYgKHVfaXNfZ2xvYmU9PTApIHtnbEZyYWdDb2xvci5yKj1wb3coMS4wLWZvZ19vcGFjaXR5KHZfZm9nX3BvcyksMi4wKTt9XFxuI2VuZGlmXFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG5IQU5ETEVfV0lSRUZSQU1FX0RFQlVHO30nLCcjaW5jbHVkZSBcIl9wcmVsdWRlX3RlcnJhaW4udmVydGV4Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLnZlcnRleC5nbHNsXCJcXG51bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBmbG9hdCB1X2V4dHJ1ZGVfc2NhbGU7dW5pZm9ybSBmbG9hdCB1X29wYWNpdHk7dW5pZm9ybSBmbG9hdCB1X2ludGVuc2l0eTtpbiB2ZWMyIGFfcG9zO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5pbiB2ZWMzIGFfcG9zXzM7aW4gdmVjMyBhX3Bvc19ub3JtYWxfMzt1bmlmb3JtIG1hdDQgdV9pbnZfcm90X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9tZXJjX2NlbnRlcjt1bmlmb3JtIHZlYzMgdV90aWxlX2lkO3VuaWZvcm0gZmxvYXQgdV96b29tX3RyYW5zaXRpb247dW5pZm9ybSB2ZWMzIHVfdXBfZGlyO1xcbiNlbmRpZlxcbm91dCB2ZWMyIHZfZXh0cnVkZTtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIGZsb2F0IHdlaWdodFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCByYWRpdXNcXG5jb25zdCBoaWdocCBmbG9hdCBaRVJPPTEuMC8yNTUuMC8xNi4wO1xcbiNkZWZpbmUgR0FVU1NfQ09FRiAwLjM5ODk0MjI4MDQwMTQzMjdcXG52b2lkIG1haW4odm9pZCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIGZsb2F0IHdlaWdodFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgcmFkaXVzXFxudmVjMiB1bnNjYWxlZF9leHRydWRlPXZlYzIobW9kKGFfcG9zLDIuMCkqMi4wLTEuMCk7ZmxvYXQgUz1zcXJ0KC0yLjAqbG9nKFpFUk8vd2VpZ2h0L3VfaW50ZW5zaXR5L0dBVVNTX0NPRUYpKS8zLjA7dl9leHRydWRlPVMqdW5zY2FsZWRfZXh0cnVkZTt2ZWMyIGV4dHJ1ZGU9dl9leHRydWRlKnJhZGl1cyp1X2V4dHJ1ZGVfc2NhbGU7dmVjMiB0aWxlUG9zPWZsb29yKGFfcG9zKjAuNSk7dmVjMyBwb3M7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZlYzMgcG9zX25vcm1hbF8zPWFfcG9zX25vcm1hbF8zLzE2Mzg0LjA7bWF0MyBzdXJmYWNlX3ZlY3RvcnM9Z2xvYmVfbWVyY2F0b3Jfc3VyZmFjZV92ZWN0b3JzKHBvc19ub3JtYWxfMyx1X3VwX2Rpcix1X3pvb21fdHJhbnNpdGlvbik7dmVjMyBzdXJmYWNlX2V4dHJ1c2lvbj1leHRydWRlLngqc3VyZmFjZV92ZWN0b3JzWzBdK2V4dHJ1ZGUueSpzdXJmYWNlX3ZlY3RvcnNbMV07dmVjMyBnbG9iZV9lbGV2YXRpb249ZWxldmF0aW9uVmVjdG9yKHRpbGVQb3MpKmVsZXZhdGlvbih0aWxlUG9zKTt2ZWMzIGdsb2JlX3Bvcz1hX3Bvc18zK3N1cmZhY2VfZXh0cnVzaW9uK2dsb2JlX2VsZXZhdGlvbjt2ZWMzIG1lcmNhdG9yX2VsZXZhdGlvbj11X3VwX2Rpcip1X3RpbGVfdXBfc2NhbGUqZWxldmF0aW9uKHRpbGVQb3MpO3ZlYzMgbWVyY19wb3M9bWVyY2F0b3JfdGlsZV9wb3NpdGlvbih1X2ludl9yb3RfbWF0cml4LHRpbGVQb3MsdV90aWxlX2lkLHVfbWVyY19jZW50ZXIpK3N1cmZhY2VfZXh0cnVzaW9uK21lcmNhdG9yX2VsZXZhdGlvbjtwb3M9bWl4X2dsb2JlX21lcmNhdG9yKGdsb2JlX3BvcyxtZXJjX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7XFxuI2Vsc2VcXG5wb3M9dmVjMyh0aWxlUG9zK2V4dHJ1ZGUsZWxldmF0aW9uKHRpbGVQb3MpKTtcXG4jZW5kaWZcXG5nbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KHBvcywxKTtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihwb3MpO1xcbiNlbmRpZlxcbn0nKSxoZWF0bWFwVGV4dHVyZTpaRShcInVuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7dW5pZm9ybSBzYW1wbGVyMkQgdV9jb2xvcl9yYW1wO3VuaWZvcm0gZmxvYXQgdV9vcGFjaXR5O2luIHZlYzIgdl9wb3M7dm9pZCBtYWluKCkge2Zsb2F0IHQ9dGV4dHVyZSh1X2ltYWdlLHZfcG9zKS5yO3ZlYzQgY29sb3I9dGV4dHVyZSh1X2NvbG9yX3JhbXAsdmVjMih0LDAuNSkpO2dsRnJhZ0NvbG9yPWNvbG9yKnVfb3BhY2l0eTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xGcmFnQ29sb3I9dmVjNCgwLjApO1xcbiNlbmRpZlxcbkhBTkRMRV9XSVJFRlJBTUVfREVCVUc7fVwiLFwiaW4gdmVjMiBhX3BvcztvdXQgdmVjMiB2X3Bvczt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dmVjNChhX3BvcywwLDEpO3ZfcG9zPWFfcG9zKjAuNSswLjU7fVwiKSxjb2xsaXNpb25Cb3g6WkUoXCJpbiBmbG9hdCB2X3BsYWNlZDtpbiBmbG9hdCB2X25vdFVzZWQ7dm9pZCBtYWluKCkge3ZlYzQgcmVkID12ZWM0KDEuMCwwLjAsMC4wLDEuMCk7dmVjNCBibHVlPXZlYzQoMC4wLDAuMCwxLjAsMC41KTtnbEZyYWdDb2xvciA9bWl4KHJlZCxibHVlLHN0ZXAoMC41LHZfcGxhY2VkKSkqMC41O2dsRnJhZ0NvbG9yKj1taXgoMS4wLDAuMSxzdGVwKDAuNSx2X25vdFVzZWQpKTt9XCIsJyNpbmNsdWRlIFwiX3ByZWx1ZGVfdGVycmFpbi52ZXJ0ZXguZ2xzbFwiXFxuaW4gdmVjMyBhX3BvcztpbiB2ZWMyIGFfYW5jaG9yX3BvcztpbiB2ZWMyIGFfZXh0cnVkZTtpbiB2ZWMyIGFfcGxhY2VkO2luIHZlYzIgYV9zaGlmdDtpbiBmbG9hdCBhX3NpemVfc2NhbGU7aW4gdmVjMiBhX3BhZGRpbmc7aW4gZmxvYXQgYV96X29mZnNldDt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfZXh0cnVkZV9zY2FsZTt1bmlmb3JtIGZsb2F0IHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTtvdXQgZmxvYXQgdl9wbGFjZWQ7b3V0IGZsb2F0IHZfbm90VXNlZDt2b2lkIG1haW4oKSB7dmVjNCBwcm9qZWN0ZWRQb2ludD11X21hdHJpeCp2ZWM0KGFfcG9zK2VsZXZhdGlvblZlY3RvcihhX2FuY2hvcl9wb3MpKihhX3pfb2Zmc2V0K2VsZXZhdGlvbihhX2FuY2hvcl9wb3MpKSwxKTtoaWdocCBmbG9hdCBjYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlPXByb2plY3RlZFBvaW50Lnc7aGlnaHAgZmxvYXQgY29sbGlzaW9uX3BlcnNwZWN0aXZlX3JhdGlvPWNsYW1wKFxcbjAuNSswLjUqKHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZS9jYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlKSwwLjAsMS41KTtnbF9Qb3NpdGlvbj1wcm9qZWN0ZWRQb2ludDtnbF9Qb3NpdGlvbi54eSs9KGFfZXh0cnVkZSphX3NpemVfc2NhbGUrYV9zaGlmdCthX3BhZGRpbmcpKnVfZXh0cnVkZV9zY2FsZSpnbF9Qb3NpdGlvbi53KmNvbGxpc2lvbl9wZXJzcGVjdGl2ZV9yYXRpbzt2X3BsYWNlZD1hX3BsYWNlZC54O3Zfbm90VXNlZD1hX3BsYWNlZC55O30nKSxjb2xsaXNpb25DaXJjbGU6WkUoXCJpbiBmbG9hdCB2X3JhZGl1cztpbiB2ZWMyIHZfZXh0cnVkZTtpbiBmbG9hdCB2X3BlcnNwZWN0aXZlX3JhdGlvO2luIGZsb2F0IHZfY29sbGlzaW9uO3ZvaWQgbWFpbigpIHtmbG9hdCBhbHBoYT0wLjUqbWluKHZfcGVyc3BlY3RpdmVfcmF0aW8sMS4wKTtmbG9hdCBzdHJva2VfcmFkaXVzPTAuOSptYXgodl9wZXJzcGVjdGl2ZV9yYXRpbywxLjApO2Zsb2F0IGRpc3RhbmNlX3RvX2NlbnRlcj1sZW5ndGgodl9leHRydWRlKTtmbG9hdCBkaXN0YW5jZV90b19lZGdlPWFicyhkaXN0YW5jZV90b19jZW50ZXItdl9yYWRpdXMpO2Zsb2F0IG9wYWNpdHlfdD1zbW9vdGhzdGVwKC1zdHJva2VfcmFkaXVzLDAuMCwtZGlzdGFuY2VfdG9fZWRnZSk7dmVjNCBjb2xvcj1taXgodmVjNCgwLjAsMC4wLDEuMCwwLjUpLHZlYzQoMS4wLDAuMCwwLjAsMS4wKSx2X2NvbGxpc2lvbik7Z2xGcmFnQ29sb3I9Y29sb3IqYWxwaGEqb3BhY2l0eV90O31cIixcImluIHZlYzIgYV9wb3NfMmY7aW4gZmxvYXQgYV9yYWRpdXM7aW4gdmVjMiBhX2ZsYWdzO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIG1hdDQgdV9pbnZfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3ZpZXdwb3J0X3NpemU7dW5pZm9ybSBmbG9hdCB1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U7b3V0IGZsb2F0IHZfcmFkaXVzO291dCB2ZWMyIHZfZXh0cnVkZTtvdXQgZmxvYXQgdl9wZXJzcGVjdGl2ZV9yYXRpbztvdXQgZmxvYXQgdl9jb2xsaXNpb247dmVjMyB0b1RpbGVQb3NpdGlvbih2ZWMyIHNjcmVlblBvcykge3ZlYzQgcmF5U3RhcnQ9dV9pbnZfbWF0cml4KnZlYzQoc2NyZWVuUG9zLC0xLjAsMS4wKTt2ZWM0IHJheUVuZCAgPXVfaW52X21hdHJpeCp2ZWM0KHNjcmVlblBvcywgMS4wLDEuMCk7cmF5U3RhcnQueHl6Lz1yYXlTdGFydC53O3JheUVuZC54eXogIC89cmF5RW5kLnc7aGlnaHAgZmxvYXQgdD0oMC4wLXJheVN0YXJ0LnopLyhyYXlFbmQuei1yYXlTdGFydC56KTtyZXR1cm4gbWl4KHJheVN0YXJ0Lnh5eixyYXlFbmQueHl6LHQpO312b2lkIG1haW4oKSB7dmVjMiBxdWFkQ2VudGVyUG9zPWFfcG9zXzJmO2Zsb2F0IHJhZGl1cz1hX3JhZGl1cztmbG9hdCBjb2xsaXNpb249YV9mbGFncy54O2Zsb2F0IHZlcnRleElkeD1hX2ZsYWdzLnk7dmVjMiBxdWFkVmVydGV4T2Zmc2V0PXZlYzIoXFxubWl4KC0xLjAsMS4wLGZsb2F0KHZlcnRleElkeCA+PTIuMCkpLG1peCgtMS4wLDEuMCxmbG9hdCh2ZXJ0ZXhJZHggPj0xLjAgJiYgdmVydGV4SWR4IDw9Mi4wKSkpO3ZlYzIgcXVhZFZlcnRleEV4dGVudD1xdWFkVmVydGV4T2Zmc2V0KnJhZGl1czt2ZWMzIHRpbGVQb3M9dG9UaWxlUG9zaXRpb24ocXVhZENlbnRlclBvcyk7dmVjNCBjbGlwUG9zPXVfbWF0cml4KnZlYzQodGlsZVBvcywxLjApO2hpZ2hwIGZsb2F0IGNhbWVyYV90b19hbmNob3JfZGlzdGFuY2U9Y2xpcFBvcy53O2hpZ2hwIGZsb2F0IGNvbGxpc2lvbl9wZXJzcGVjdGl2ZV9yYXRpbz1jbGFtcChcXG4wLjUrMC41Kih1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UvY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZSksMC4wLDQuMCk7ZmxvYXQgcGFkZGluZ19mYWN0b3I9MS4yO3ZfcmFkaXVzPXJhZGl1czt2X2V4dHJ1ZGU9cXVhZFZlcnRleEV4dGVudCpwYWRkaW5nX2ZhY3Rvcjt2X3BlcnNwZWN0aXZlX3JhdGlvPWNvbGxpc2lvbl9wZXJzcGVjdGl2ZV9yYXRpbzt2X2NvbGxpc2lvbj1jb2xsaXNpb247Z2xfUG9zaXRpb249dmVjNChjbGlwUG9zLnh5ei9jbGlwUG9zLncsMS4wKSt2ZWM0KHF1YWRWZXJ0ZXhFeHRlbnQqcGFkZGluZ19mYWN0b3IvdV92aWV3cG9ydF9zaXplKjIuMCwwLjAsMC4wKTt9XCIpLGRlYnVnOlpFKFwidW5pZm9ybSBoaWdocCB2ZWM0IHVfY29sb3I7dW5pZm9ybSBzYW1wbGVyMkQgdV9vdmVybGF5O2luIHZlYzIgdl91djt2b2lkIG1haW4oKSB7dmVjNCBvdmVybGF5X2NvbG9yPXRleHR1cmUodV9vdmVybGF5LHZfdXYpO2dsRnJhZ0NvbG9yPW1peCh1X2NvbG9yLG92ZXJsYXlfY29sb3Isb3ZlcmxheV9jb2xvci5hKTt9XCIsJyNpbmNsdWRlIFwiX3ByZWx1ZGVfdGVycmFpbi52ZXJ0ZXguZ2xzbFwiXFxuaW4gdmVjMiBhX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxuaW4gdmVjMyBhX3Bvc18zO1xcbiNlbmRpZlxcbm91dCB2ZWMyIHZfdXY7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gZmxvYXQgdV9vdmVybGF5X3NjYWxlO3ZvaWQgbWFpbigpIHtmbG9hdCBoPWVsZXZhdGlvbihhX3Bvcyk7dl91dj1hX3Bvcy84MTkyLjA7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmdsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3NfMytlbGV2YXRpb25WZWN0b3IoYV9wb3MpKmgsMSk7XFxuI2Vsc2VcXG5nbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zKnVfb3ZlcmxheV9zY2FsZSxoLDEpO1xcbiNlbmRpZlxcbn0nKSxmaWxsOlpFKCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy5mcmFnbWVudC5nbHNsXCJcXG4jaW5jbHVkZSBcIl9wcmVsdWRlX2xpZ2h0aW5nLmdsc2xcIlxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxudW5pZm9ybSBmbG9hdCB1X2VtaXNzaXZlX3N0cmVuZ3RoO3ZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxudmVjNCBvdXRfY29sb3I9Y29sb3I7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG5vdXRfY29sb3I9YXBwbHlfbGlnaHRpbmdfd2l0aF9lbWlzc2lvbl9ncm91bmQob3V0X2NvbG9yLHVfZW1pc3NpdmVfc3RyZW5ndGgpO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5vdXRfY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChvdXRfY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuZ2xGcmFnQ29sb3I9b3V0X2NvbG9yKm9wYWNpdHk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG5IQU5ETEVfV0lSRUZSQU1FX0RFQlVHO30nLCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy52ZXJ0ZXguZ2xzbFwiXFxuaW4gdmVjMiBhX3Bvczt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbmdsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihhX3Bvcyk7XFxuI2VuZGlmXFxufScpLGZpbGxPdXRsaW5lOlpFKCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy5mcmFnbWVudC5nbHNsXCJcXG4jaW5jbHVkZSBcIl9wcmVsdWRlX2xpZ2h0aW5nLmdsc2xcIlxcbmluIHZlYzIgdl9wb3M7dW5pZm9ybSBmbG9hdCB1X2VtaXNzaXZlX3N0cmVuZ3RoO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBvdXRsaW5lX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBvdXRsaW5lX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuZmxvYXQgZGlzdD1sZW5ndGgodl9wb3MtZ2xfRnJhZ0Nvb3JkLnh5KTtmbG9hdCBhbHBoYT0xLjAtc21vb3Roc3RlcCgwLjAsMS4wLGRpc3QpO3ZlYzQgb3V0X2NvbG9yPW91dGxpbmVfY29sb3I7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG5vdXRfY29sb3I9YXBwbHlfbGlnaHRpbmdfd2l0aF9lbWlzc2lvbl9ncm91bmQob3V0X2NvbG9yLHVfZW1pc3NpdmVfc3RyZW5ndGgpO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5vdXRfY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChvdXRfY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuZ2xGcmFnQ29sb3I9b3V0X2NvbG9yKihhbHBoYSpvcGFjaXR5KTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xGcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbkhBTkRMRV9XSVJFRlJBTUVfREVCVUc7fScsJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLnZlcnRleC5nbHNsXCJcXG5pbiB2ZWMyIGFfcG9zO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV93b3JsZDtvdXQgdmVjMiB2X3BvcztcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgb3V0bGluZV9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgb3V0bGluZV9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbmdsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTt2X3Bvcz0oZ2xfUG9zaXRpb24ueHkvZ2xfUG9zaXRpb24udysxLjApLzIuMCp1X3dvcmxkO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKGFfcG9zKTtcXG4jZW5kaWZcXG59JyksZmlsbE91dGxpbmVQYXR0ZXJuOlpFKCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy5mcmFnbWVudC5nbHNsXCJcXG4jaW5jbHVkZSBcIl9wcmVsdWRlX2xpZ2h0aW5nLmdsc2xcIlxcbnVuaWZvcm0gdmVjMiB1X3RleHNpemU7dW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTt1bmlmb3JtIGZsb2F0IHVfZW1pc3NpdmVfc3RyZW5ndGg7aW4gdmVjMiB2X3BvcztpbiB2ZWMyIHZfcG9zX3dvcmxkO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVyblxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVyblxcbnZlYzIgcGF0dGVybl90bD1wYXR0ZXJuLnh5O3ZlYzIgcGF0dGVybl9icj1wYXR0ZXJuLnp3O3ZlYzIgaW1hZ2Vjb29yZD1tb2Qodl9wb3MsMS4wKTt2ZWMyIHBvcz1taXgocGF0dGVybl90bC91X3RleHNpemUscGF0dGVybl9ici91X3RleHNpemUsaW1hZ2Vjb29yZCk7ZmxvYXQgZGlzdD1sZW5ndGgodl9wb3Nfd29ybGQtZ2xfRnJhZ0Nvb3JkLnh5KTtmbG9hdCBhbHBoYT0xLjAtc21vb3Roc3RlcCgwLjAsMS4wLGRpc3QpO3ZlYzQgb3V0X2NvbG9yPXRleHR1cmUodV9pbWFnZSxwb3MpO1xcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxub3V0X2NvbG9yPWFwcGx5X2xpZ2h0aW5nX3dpdGhfZW1pc3Npb25fZ3JvdW5kKG91dF9jb2xvcix1X2VtaXNzaXZlX3N0cmVuZ3RoKTtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxub3V0X2NvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQob3V0X2NvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbmdsRnJhZ0NvbG9yPW91dF9jb2xvciooYWxwaGEqb3BhY2l0eSk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG5IQU5ETEVfV0lSRUZSQU1FX0RFQlVHO30nLCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy52ZXJ0ZXguZ2xzbFwiXFxudW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3dvcmxkO3VuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX3VwcGVyO3VuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX2xvd2VyO3VuaWZvcm0gZmxvYXQgdV90aWxlX3VuaXRzX3RvX3BpeGVscztpbiB2ZWMyIGFfcG9zO291dCB2ZWMyIHZfcG9zO291dCB2ZWMyIHZfcG9zX3dvcmxkO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVyblxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb1xcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVyblxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9cXG52ZWMyIHBhdHRlcm5fdGw9cGF0dGVybi54eTt2ZWMyIHBhdHRlcm5fYnI9cGF0dGVybi56dztnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zLDAsMSk7dmVjMiBkaXNwbGF5X3NpemU9KHBhdHRlcm5fYnItcGF0dGVybl90bCkvcGl4ZWxfcmF0aW87dl9wb3M9Z2V0X3BhdHRlcm5fcG9zKHVfcGl4ZWxfY29vcmRfdXBwZXIsdV9waXhlbF9jb29yZF9sb3dlcixkaXNwbGF5X3NpemUsdV90aWxlX3VuaXRzX3RvX3BpeGVscyxhX3Bvcyk7dl9wb3Nfd29ybGQ9KGdsX1Bvc2l0aW9uLnh5L2dsX1Bvc2l0aW9uLncrMS4wKS8yLjAqdV93b3JsZDtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihhX3Bvcyk7XFxuI2VuZGlmXFxufScpLGZpbGxQYXR0ZXJuOlpFKCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy5mcmFnbWVudC5nbHNsXCJcXG4jaW5jbHVkZSBcIl9wcmVsdWRlX2xpZ2h0aW5nLmdsc2xcIlxcbnVuaWZvcm0gdmVjMiB1X3RleHNpemU7dW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTtpbiB2ZWMyIHZfcG9zO3VuaWZvcm0gZmxvYXQgdV9lbWlzc2l2ZV9zdHJlbmd0aDtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5cXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5cXG52ZWMyIHBhdHRlcm5fdGw9cGF0dGVybi54eTt2ZWMyIHBhdHRlcm5fYnI9cGF0dGVybi56dzt2ZWMyIGltYWdlY29vcmQ9bW9kKHZfcG9zLDEuMCk7dmVjMiBwb3M9bWl4KHBhdHRlcm5fdGwvdV90ZXhzaXplLHBhdHRlcm5fYnIvdV90ZXhzaXplLGltYWdlY29vcmQpO3ZlYzQgb3V0X2NvbG9yPXRleHR1cmUodV9pbWFnZSxwb3MpO1xcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxub3V0X2NvbG9yPWFwcGx5X2xpZ2h0aW5nX3dpdGhfZW1pc3Npb25fZ3JvdW5kKG91dF9jb2xvcix1X2VtaXNzaXZlX3N0cmVuZ3RoKTtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxub3V0X2NvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQob3V0X2NvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbmdsRnJhZ0NvbG9yPW91dF9jb2xvcipvcGFjaXR5O1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbEZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxuSEFORExFX1dJUkVGUkFNRV9ERUJVRzt9JywnI2luY2x1ZGUgXCJfcHJlbHVkZV9mb2cudmVydGV4Lmdsc2xcIlxcbnVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9waXhlbF9jb29yZF91cHBlcjt1bmlmb3JtIHZlYzIgdV9waXhlbF9jb29yZF9sb3dlcjt1bmlmb3JtIGZsb2F0IHVfdGlsZV91bml0c190b19waXhlbHM7aW4gdmVjMiBhX3BvcztvdXQgdmVjMiB2X3BvcztcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9cXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvXFxudmVjMiBwYXR0ZXJuX3RsPXBhdHRlcm4ueHk7dmVjMiBwYXR0ZXJuX2JyPXBhdHRlcm4uenc7dmVjMiBkaXNwbGF5X3NpemU9KHBhdHRlcm5fYnItcGF0dGVybl90bCkvcGl4ZWxfcmF0aW87Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO3ZfcG9zPWdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLHVfcGl4ZWxfY29vcmRfbG93ZXIsZGlzcGxheV9zaXplLHVfdGlsZV91bml0c190b19waXhlbHMsYV9wb3MpO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKGFfcG9zKTtcXG4jZW5kaWZcXG59JyksZmlsbEV4dHJ1c2lvbjpaRSgnI2luY2x1ZGUgXCJfcHJlbHVkZV9mb2cuZnJhZ21lbnQuZ2xzbFwiXFxuI2luY2x1ZGUgXCJfcHJlbHVkZV9zaGFkb3cuZnJhZ21lbnQuZ2xzbFwiXFxuI2luY2x1ZGUgXCJfcHJlbHVkZV9saWdodGluZy5nbHNsXCJcXG5pbiB2ZWM0IHZfY29sb3I7aW4gdmVjNCB2X2ZsYXQ7XFxuI2lmZGVmIFJFTkRFUl9TSEFET1dTXFxuaW4gaGlnaHAgdmVjNCB2X3Bvc19saWdodF92aWV3XzA7aW4gaGlnaHAgdmVjNCB2X3Bvc19saWdodF92aWV3XzE7aW4gZmxvYXQgdl9kZXB0aDtcXG4jZW5kaWZcXG51bmlmb3JtIGxvd3AgZmxvYXQgdV9vcGFjaXR5O1xcbiNpZmRlZiBGQVVYX0FPXFxudW5pZm9ybSBsb3dwIHZlYzIgdV9hbztpbiB2ZWMyIHZfYW87XFxuI2VuZGlmXFxuI2lmIGRlZmluZWQoWkVST19ST09GX1JBRElVUykgJiYgIWRlZmluZWQoTElHSFRJTkdfM0RfTU9ERSlcXG5pbiB2ZWM0IHZfcm9vZl9jb2xvcjtcXG4jZW5kaWZcXG4jaWYgZGVmaW5lZChaRVJPX1JPT0ZfUkFESVVTKSB8fCBkZWZpbmVkKFJFTkRFUl9TSEFET1dTKSB8fCBkZWZpbmVkKExJR0hUSU5HXzNEX01PREUpXFxuaW4gaGlnaHAgdmVjMyB2X25vcm1hbDtcXG4jZW5kaWZcXG51bmlmb3JtIHZlYzMgdV9mbG9vZF9saWdodF9jb2xvcjt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfdmVydGljYWxfc2NhbGU7dW5pZm9ybSBmbG9hdCB1X2Zsb29kX2xpZ2h0X2ludGVuc2l0eTt1bmlmb3JtIHZlYzMgdV9ncm91bmRfc2hhZG93X2ZhY3RvcjtcXG4jaWYgZGVmaW5lZChMSUdIVElOR18zRF9NT0RFKSAmJiBkZWZpbmVkKEZMT09EX0xJR0hUKVxcbmluIGZsb2F0IHZfZmxvb2RfcmFkaXVzO2luIGZsb2F0IHZfaGFzX2Zsb29kbGlnaHQ7XFxuI2VuZGlmXFxudW5pZm9ybSBmbG9hdCB1X2VtaXNzaXZlX3N0cmVuZ3RoO2luIGZsb2F0IHZfaGVpZ2h0O3ZvaWQgbWFpbigpIHtcXG4jaWYgZGVmaW5lZChaRVJPX1JPT0ZfUkFESVVTKSB8fCBkZWZpbmVkKFJFTkRFUl9TSEFET1dTKSB8fCBkZWZpbmVkKExJR0hUSU5HXzNEX01PREUpXFxudmVjMyBub3JtYWw9bm9ybWFsaXplKHZfbm9ybWFsKTtcXG4jZW5kaWZcXG5mbG9hdCB6O3ZlYzQgY29sb3I9dl9jb2xvcjtcXG4jaWZkZWYgWkVST19ST09GX1JBRElVU1xcbno9ZmxvYXQobm9ybWFsLnogPiAwLjAwMDAxKTtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbm5vcm1hbD1taXgobm9ybWFsLHZlYzMoMC4wLDAuMCwxLjApLHopO1xcbiNlbHNlXFxuY29sb3I9bWl4KHZfY29sb3Isdl9yb29mX2NvbG9yLHopO1xcbiNlbmRpZlxcbiNlbmRpZlxcbmZsb2F0IGg9bWF4KDAuMCx2X2hlaWdodCk7ZmxvYXQgYW9fc2hhZGU9MS4wO1xcbiNpZmRlZiBGQVVYX0FPXFxuZmxvYXQgaW50ZW5zaXR5PXVfYW9bMF07ZmxvYXQgaF9mbG9vcnM9aC8odV9hb1sxXSp1X3ZlcnRpY2FsX3NjYWxlKTtmbG9hdCB5X3NoYWRlPTEuMC0wLjkqaW50ZW5zaXR5Km1pbih2X2FvLnksMS4wKTthb19zaGFkZT0oMS4wLTAuMDgqaW50ZW5zaXR5KSooeV9zaGFkZSsoMS4wLXlfc2hhZGUpKigxLjAtcG93KDEuMC1taW4oaF9mbG9vcnMvMTYuMCwxLjApLDE2LjApKSkrMC4wOCppbnRlbnNpdHkqbWluKGhfZmxvb3JzLzE2MC4wLDEuMCk7ZmxvYXQgY29uY2F2ZT12X2FvLngqdl9hby54O1xcbiNpZmRlZiBaRVJPX1JPT0ZfUkFESVVTXFxuY29uY2F2ZSo9KDEuMC16KTtcXG4jZW5kaWZcXG5mbG9hdCB4X3NoYWRlPW1peCgxLjAsbWl4KDAuNiwwLjc1LG1pbihoX2Zsb29ycy8zMC4wLDEuMCkpLGludGVuc2l0eSkrMC4xKmludGVuc2l0eSptaW4oaCwxLjApO2FvX3NoYWRlKj1taXgoMS4wLHhfc2hhZGUqeF9zaGFkZSp4X3NoYWRlLGNvbmNhdmUpO1xcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxuI2lmZGVmIEZMT09EX0xJR0hUXFxuY29sb3IucmdiKj1taXgoYW9fc2hhZGUsMS4wLHZfaGFzX2Zsb29kbGlnaHQpO1xcbiNlbHNlXFxuY29sb3IucmdiKj1hb19zaGFkZTtcXG4jZW5kaWZcXG4jZWxzZVxcbmNvbG9yLnJnYio9YW9fc2hhZGU7XFxuI2VuZGlmXFxuI2VuZGlmXFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG5mbG9hdCBmbG9vZF9yYWRpYW5jZT0wLjA7XFxuI2lmZGVmIEZMT09EX0xJR0hUXFxuZmxvb2RfcmFkaWFuY2U9KDEuMC1taW4oaC92X2Zsb29kX3JhZGl1cywxLjApKSp1X2Zsb29kX2xpZ2h0X2ludGVuc2l0eSp2X2hhc19mbG9vZGxpZ2h0O1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbiNpZmRlZiBGTE9PRF9MSUdIVFxcbmZsb2F0IG5kb3RsX3VuY2xhbXBlZD1kb3Qobm9ybWFsLHVfc2hhZG93X2RpcmVjdGlvbik7ZmxvYXQgbmRvdGw9bWF4KDAuMCxuZG90bF91bmNsYW1wZWQpO2Zsb2F0IG9jY2x1c2lvbj1uZG90bF91bmNsYW1wZWQgPCAwLjAgPyAxLjAgOiBzaGFkb3dfb2NjbHVzaW9uKG5kb3RsLHZfcG9zX2xpZ2h0X3ZpZXdfMCx2X3Bvc19saWdodF92aWV3XzEsdl9kZXB0aCk7dmVjMyBsaXRDb2xvcj1hcHBseV9saWdodGluZyhjb2xvci5yZ2Isbm9ybWFsLCgxLjAtdV9zaGFkb3dfaW50ZW5zaXR5Km9jY2x1c2lvbikqbmRvdGwpO3ZlYzMgZmxvb2RMaXRDb2xvcj1jb21wdXRlX2Zsb29kX2xpZ2h0aW5nKHVfZmxvb2RfbGlnaHRfY29sb3IqdV9vcGFjaXR5LDEuMC11X3NoYWRvd19pbnRlbnNpdHksb2NjbHVzaW9uLHVfZ3JvdW5kX3NoYWRvd19mYWN0b3IpO2NvbG9yLnJnYj1taXgobGl0Q29sb3IsZmxvb2RMaXRDb2xvcixmbG9vZF9yYWRpYW5jZSk7XFxuI2Vsc2VcXG5mbG9hdCBzaGFkb3dlZF9saWdodGluZ19mYWN0b3I9c2hhZG93ZWRfbGlnaHRfZmFjdG9yX25vcm1hbChub3JtYWwsdl9wb3NfbGlnaHRfdmlld18wLHZfcG9zX2xpZ2h0X3ZpZXdfMSx2X2RlcHRoKTtjb2xvci5yZ2I9YXBwbHlfbGlnaHRpbmcoY29sb3IucmdiLG5vcm1hbCxzaGFkb3dlZF9saWdodGluZ19mYWN0b3IpO1xcbiNlbmRpZlxcbiNlbHNlXFxuY29sb3IucmdiPWFwcGx5X2xpZ2h0aW5nKGNvbG9yLnJnYixub3JtYWwpO1xcbiNpZmRlZiBGTE9PRF9MSUdIVFxcbmNvbG9yLnJnYj1taXgoY29sb3IucmdiLHVfZmxvb2RfbGlnaHRfY29sb3IqdV9vcGFjaXR5LGZsb29kX3JhZGlhbmNlKTtcXG4jZW5kaWZcXG4jZW5kaWZcXG5jb2xvci5yZ2I9bWl4KGNvbG9yLnJnYix2X2ZsYXQucmdiLHVfZW1pc3NpdmVfc3RyZW5ndGgpO2NvbG9yKj11X29wYWNpdHk7XFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbmNvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQoY29sb3Isdl9mb2dfcG9zLGgpKTtcXG4jZW5kaWZcXG4jaWZkZWYgUkVOREVSX0NVVE9GRlxcbmNvbG9yKj12X2N1dG9mZl9vcGFjaXR5O1xcbiNlbmRpZlxcbiNpZmRlZiBJTkRJQ0FUT1JfQ1VUT1VUXFxuY29sb3I9YXBwbHlDdXRvdXQoY29sb3IpO1xcbiNlbmRpZlxcbmdsRnJhZ0NvbG9yPWNvbG9yO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbEZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxuSEFORExFX1dJUkVGUkFNRV9ERUJVRzt9JywnI2luY2x1ZGUgXCJfcHJlbHVkZV9mb2cudmVydGV4Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfdGVycmFpbi52ZXJ0ZXguZ2xzbFwiXFxuI2luY2x1ZGUgXCJfcHJlbHVkZV9zaGFkb3cudmVydGV4Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfbGlnaHRpbmcuZ2xzbFwiXFxuI2lmZGVmIFJFTkRFUl9DVVRPRkZcXG5pbnZhcmlhbnQgZ2xfUG9zaXRpb247XFxuI2VuZGlmXFxudW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMyB1X2xpZ2h0Y29sb3I7dW5pZm9ybSBsb3dwIHZlYzMgdV9saWdodHBvczt1bmlmb3JtIGxvd3AgZmxvYXQgdV9saWdodGludGVuc2l0eTt1bmlmb3JtIGZsb2F0IHVfdmVydGljYWxfZ3JhZGllbnQ7dW5pZm9ybSBsb3dwIGZsb2F0IHVfb3BhY2l0eTt1bmlmb3JtIGZsb2F0IHVfZWRnZV9yYWRpdXM7aW4gdmVjNCBhX3Bvc19ub3JtYWxfZWQ7aW4gdmVjMiBhX2NlbnRyb2lkX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxuaW4gdmVjMyBhX3Bvc18zO2luIHZlYzMgYV9wb3Nfbm9ybWFsXzM7dW5pZm9ybSBtYXQ0IHVfaW52X3JvdF9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfbWVyY19jZW50ZXI7dW5pZm9ybSB2ZWMzIHVfdGlsZV9pZDt1bmlmb3JtIGZsb2F0IHVfem9vbV90cmFuc2l0aW9uO3VuaWZvcm0gdmVjMyB1X3VwX2Rpcjt1bmlmb3JtIGZsb2F0IHVfaGVpZ2h0X2xpZnQ7XFxuI2VuZGlmXFxudW5pZm9ybSBoaWdocCBmbG9hdCB1X3ZlcnRpY2FsX3NjYWxlO291dCB2ZWM0IHZfY29sb3I7b3V0IHZlYzQgdl9mbGF0O1xcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbnVuaWZvcm0gbWF0NCB1X2xpZ2h0X21hdHJpeF8wO3VuaWZvcm0gbWF0NCB1X2xpZ2h0X21hdHJpeF8xO291dCBoaWdocCB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMDtvdXQgaGlnaHAgdmVjNCB2X3Bvc19saWdodF92aWV3XzE7b3V0IGZsb2F0IHZfZGVwdGg7XFxuI2VuZGlmXFxuI2lmIGRlZmluZWQoWkVST19ST09GX1JBRElVUykgJiYgIWRlZmluZWQoTElHSFRJTkdfM0RfTU9ERSlcXG5vdXQgdmVjNCB2X3Jvb2ZfY29sb3I7XFxuI2VuZGlmXFxuI2lmIGRlZmluZWQoWkVST19ST09GX1JBRElVUykgfHwgZGVmaW5lZChSRU5ERVJfU0hBRE9XUykgfHwgZGVmaW5lZChMSUdIVElOR18zRF9NT0RFKVxcbm91dCBoaWdocCB2ZWMzIHZfbm9ybWFsO1xcbiNlbmRpZlxcbiNpZmRlZiBGQVVYX0FPXFxudW5pZm9ybSBsb3dwIHZlYzIgdV9hbztvdXQgdmVjMiB2X2FvO1xcbiNlbmRpZlxcbiNpZiBkZWZpbmVkKExJR0hUSU5HXzNEX01PREUpICYmIGRlZmluZWQoRkxPT0RfTElHSFQpXFxub3V0IGZsb2F0IHZfZmxvb2RfcmFkaXVzO291dCBmbG9hdCB2X2hhc19mbG9vZGxpZ2h0O1xcbiNlbmRpZlxcbm91dCBmbG9hdCB2X2hlaWdodDtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIGZsb2F0IGJhc2VcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIGZsb2F0IGhlaWdodFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgZmxvYXQgZmxvb2RfbGlnaHRfd2FsbF9yYWRpdXNcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgZmxvYXQgYmFzZVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIGZsb2F0IGhlaWdodFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCBmbG9hdCBmbG9vZF9saWdodF93YWxsX3JhZGl1c1xcbmJhc2UqPXVfdmVydGljYWxfc2NhbGU7aGVpZ2h0Kj11X3ZlcnRpY2FsX3NjYWxlO3ZlYzQgcG9zX254PWZsb29yKGFfcG9zX25vcm1hbF9lZCowLjUpO3ZlYzQgdG9wX3VwX255X3N0YXJ0PWFfcG9zX25vcm1hbF9lZC0yLjAqcG9zX254O3ZlYzMgdG9wX3VwX255PXRvcF91cF9ueV9zdGFydC54eXo7ZmxvYXQgeF9ub3JtYWw9cG9zX254LnovODE5Mi4wO3ZlYzMgbm9ybWFsPXRvcF91cF9ueS55PT0xLjAgPyB2ZWMzKDAuMCwwLjAsMS4wKSA6IG5vcm1hbGl6ZSh2ZWMzKHhfbm9ybWFsLCgyLjAqdG9wX3VwX255LnotMS4wKSooMS4wLWFicyh4X25vcm1hbCkpLDAuMCkpO1xcbiNpZiBkZWZpbmVkKFpFUk9fUk9PRl9SQURJVVMpIHx8IGRlZmluZWQoUkVOREVSX1NIQURPV1MpIHx8IGRlZmluZWQoTElHSFRJTkdfM0RfTU9ERSlcXG52X25vcm1hbD1ub3JtYWw7XFxuI2VuZGlmXFxuYmFzZT1tYXgoMC4wLGJhc2UpO2hlaWdodD1tYXgoMC4wLHRvcF91cF9ueS55PT0wLjAgJiYgdG9wX3VwX255Lng9PTEuMCA/IGhlaWdodC11X2VkZ2VfcmFkaXVzIDogaGVpZ2h0KTtmbG9hdCB0PXRvcF91cF9ueS54O3ZlYzIgY2VudHJvaWRfcG9zPXZlYzIoMC4wKTtcXG4jaWYgZGVmaW5lZChIQVNfQ0VOVFJPSUQpIHx8IGRlZmluZWQoVEVSUkFJTilcXG5jZW50cm9pZF9wb3M9YV9jZW50cm9pZF9wb3M7XFxuI2VuZGlmXFxuZmxvYXQgZWxlPTAuMDtmbG9hdCBoPTAuMDtmbG9hdCBjX2VsZTt2ZWMzIHBvcztcXG4jaWZkZWYgVEVSUkFJTlxcbmJvb2wgZmxhdF9yb29mPWNlbnRyb2lkX3Bvcy54ICE9MC4wICYmIHQgPiAwLjA7ZWxlPWVsZXZhdGlvbihwb3NfbngueHkpO2NfZWxlPWZsYXRfcm9vZiA/IGNlbnRyb2lkX3Bvcy55PT0wLjAgPyBlbGV2YXRpb25Gcm9tVWludDE2KGNlbnRyb2lkX3Bvcy54KSA6IGZsYXRFbGV2YXRpb24oY2VudHJvaWRfcG9zKSA6IGVsZTtoPWZsYXRfcm9vZiA/IG1heChjX2VsZStoZWlnaHQsZWxlK2Jhc2UrMi4wKSA6IGVsZSsodCA+IDAuMCA/IGhlaWdodCA6IGJhc2U9PTAuMCA/LTUuMCA6IGJhc2UpO3Bvcz12ZWMzKHBvc19ueC54eSxoKTtcXG4jZWxzZVxcbmg9dCA+IDAuMCA/IGhlaWdodCA6IGJhc2U7cG9zPXZlYzMocG9zX254Lnh5LGgpO1xcbiNlbmRpZlxcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5mbG9hdCBsaWZ0PWZsb2F0KCh0K2Jhc2UpID4gMC4wKSp1X2hlaWdodF9saWZ0O2grPWxpZnQ7dmVjMyBnbG9iZV9ub3JtYWw9bm9ybWFsaXplKG1peChhX3Bvc19ub3JtYWxfMy8xNjM4NC4wLHVfdXBfZGlyLHVfem9vbV90cmFuc2l0aW9uKSk7dmVjMyBnbG9iZV9wb3M9YV9wb3NfMytnbG9iZV9ub3JtYWwqKHVfdGlsZV91cF9zY2FsZSpoKTt2ZWMzIG1lcmNfcG9zPW1lcmNhdG9yX3RpbGVfcG9zaXRpb24odV9pbnZfcm90X21hdHJpeCxwb3MueHksdV90aWxlX2lkLHVfbWVyY19jZW50ZXIpK3VfdXBfZGlyKnVfdGlsZV91cF9zY2FsZSpwb3Muejtwb3M9bWl4X2dsb2JlX21lcmNhdG9yKGdsb2JlX3BvcyxtZXJjX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7XFxuI2VuZGlmXFxuZmxvYXQgaGlkZGVuPWZsb2F0KGNlbnRyb2lkX3Bvcy54PT0wLjAgJiYgY2VudHJvaWRfcG9zLnk9PTEuMCk7Z2xfUG9zaXRpb249bWl4KHVfbWF0cml4KnZlYzQocG9zLDEpLEFXQVksaGlkZGVuKTtoPWgtZWxlO3ZfaGVpZ2h0PWg7XFxuI2lmZGVmIFJFTkRFUl9TSEFET1dTXFxudmVjMyBzaGRfcG9zMD1wb3M7dmVjMyBzaGRfcG9zMT1wb3M7XFxuI2lmZGVmIE5PUk1BTF9PRkZTRVRcXG52ZWMzIG9mZnNldD1zaGFkb3dfbm9ybWFsX29mZnNldChub3JtYWwpO3NoZF9wb3MwKz1vZmZzZXQqc2hhZG93X25vcm1hbF9vZmZzZXRfbXVsdGlwbGllcjAoKTtzaGRfcG9zMSs9b2Zmc2V0KnNoYWRvd19ub3JtYWxfb2Zmc2V0X211bHRpcGxpZXIxKCk7XFxuI2VuZGlmXFxudl9wb3NfbGlnaHRfdmlld18wPXVfbGlnaHRfbWF0cml4XzAqdmVjNChzaGRfcG9zMCwxKTt2X3Bvc19saWdodF92aWV3XzE9dV9saWdodF9tYXRyaXhfMSp2ZWM0KHNoZF9wb3MxLDEpO3ZfZGVwdGg9Z2xfUG9zaXRpb24udztcXG4jZW5kaWZcXG5mbG9hdCBOZG90TD0wLjA7ZmxvYXQgY29sb3J2YWx1ZT0wLjA7XFxuI2lmbmRlZiBMSUdIVElOR18zRF9NT0RFXFxuY29sb3J2YWx1ZT1jb2xvci5yKjAuMjEyNitjb2xvci5nKjAuNzE1Mitjb2xvci5iKjAuMDcyMjt2ZWM0IGFtYmllbnRsaWdodD12ZWM0KDAuMDMsMC4wMywwLjAzLDEuMCk7Y29sb3IrPWFtYmllbnRsaWdodDtOZG90TD1jbGFtcChkb3Qobm9ybWFsLHVfbGlnaHRwb3MpLDAuMCwxLjApO05kb3RMPW1peCgoMS4wLXVfbGlnaHRpbnRlbnNpdHkpLG1heCgoMS4wLWNvbG9ydmFsdWUrdV9saWdodGludGVuc2l0eSksMS4wKSxOZG90TCk7aWYgKG5vcm1hbC55ICE9MC4wKSB7ZmxvYXQgcj0wLjg0O3I9bWl4KDAuNywwLjk4LDEuMC11X2xpZ2h0aW50ZW5zaXR5KTtOZG90TCo9KFxcbigxLjAtdV92ZXJ0aWNhbF9ncmFkaWVudCkrKHVfdmVydGljYWxfZ3JhZGllbnQqY2xhbXAoKHQrYmFzZSkqcG93KGhlaWdodC8xNTAuMCwwLjUpLHIsMS4wKSkpO31cXG4jZW5kaWZcXG4jaWZkZWYgRkFVWF9BT1xcbmZsb2F0IGNvbmNhdmU9cG9zX254LnctZmxvb3IocG9zX254LncqMC41KSoyLjA7ZmxvYXQgc3RhcnQ9dG9wX3VwX255X3N0YXJ0Lnc7ZmxvYXQgeV9ncm91bmQ9MS4wLWNsYW1wKHQrYmFzZSwwLjAsMS4wKTtmbG9hdCB0b3BfaGVpZ2h0PWhlaWdodDtcXG4jaWZkZWYgVEVSUkFJTlxcbnRvcF9oZWlnaHQ9bWl4KG1heChjX2VsZStoZWlnaHQsZWxlK2Jhc2UrMi4wKSxlbGUraGVpZ2h0LGZsb2F0KGNlbnRyb2lkX3Bvcy54PT0wLjApKS1lbGU7eV9ncm91bmQrPXlfZ3JvdW5kKjUuMC9tYXgoMy4wLHRvcF9oZWlnaHQpO1xcbiNlbmRpZlxcbnZfYW89dmVjMihtaXgoY29uY2F2ZSwtY29uY2F2ZSxzdGFydCkseV9ncm91bmQpO05kb3RMKj0oMS4wKzAuMDUqKDEuMC10b3BfdXBfbnkueSkqdV9hb1swXSk7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnRvcF9oZWlnaHQrPXVfaGVpZ2h0X2xpZnQ7XFxuI2VuZGlmXFxuZ2xfUG9zaXRpb24uei09KDAuMDAwMDAwNioobWluKHRvcF9oZWlnaHQsNTAwLikrMi4wKm1pbihiYXNlLDUwMC4wKSs2MC4wKmNvbmNhdmUrMy4wKnN0YXJ0KSkqZ2xfUG9zaXRpb24udztcXG4jZW5kaWZcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbiNpZmRlZiBGTE9PRF9MSUdIVFxcbmZsb2F0IGlzX3dhbGw9MS4wLWZsb2F0KHQgPiAwLjAgJiYgdG9wX3VwX255LnkgPiAwLjApO3ZfaGFzX2Zsb29kbGlnaHQ9ZmxvYXQoZmxvb2RfbGlnaHRfd2FsbF9yYWRpdXMgPiAwLjAgJiYgaXNfd2FsbCA+IDAuMCk7dl9mbG9vZF9yYWRpdXM9Zmxvb2RfbGlnaHRfd2FsbF9yYWRpdXMqdV92ZXJ0aWNhbF9zY2FsZTtcXG4jZW5kaWZcXG52X2NvbG9yPXZlYzQoY29sb3IucmdiLDEuMCk7dl9mbGF0PXZlYzQobGluZWFyUHJvZHVjdChjb2xvci5yZ2IsdmVjMyhjYWxjdWxhdGVfTmRvdEwobm9ybWFsKSkpLDEuMCk7XFxuI2Vsc2VcXG52X2NvbG9yPXZlYzQoMC4wLDAuMCwwLjAsMS4wKTt2X2NvbG9yLnJnYis9Y2xhbXAoY29sb3IucmdiKk5kb3RMKnVfbGlnaHRjb2xvcixtaXgodmVjMygwLjApLHZlYzMoMC4zKSwxLjAtdV9saWdodGNvbG9yKSx2ZWMzKDEuMCkpO3ZfY29sb3IqPXVfb3BhY2l0eTtcXG4jZW5kaWZcXG4jaWYgZGVmaW5lZChaRVJPX1JPT0ZfUkFESVVTKSAmJiAhZGVmaW5lZChMSUdIVElOR18zRF9NT0RFKVxcbmZsb2F0IHJvb2ZOZG90TD1jbGFtcCh1X2xpZ2h0cG9zLnosMC4wLDEuMCk7cm9vZk5kb3RMPW1peCgoMS4wLXVfbGlnaHRpbnRlbnNpdHkpLG1heCgoMS4wLWNvbG9ydmFsdWUrdV9saWdodGludGVuc2l0eSksMS4wKSxyb29mTmRvdEwpO3Zfcm9vZl9jb2xvcj12ZWM0KDAuMCwwLjAsMC4wLDEuMCk7dl9yb29mX2NvbG9yLnJnYis9Y2xhbXAoY29sb3IucmdiKnJvb2ZOZG90TCp1X2xpZ2h0Y29sb3IsbWl4KHZlYzMoMC4wKSx2ZWMzKDAuMyksMS4wLXVfbGlnaHRjb2xvciksdmVjMygxLjApKTt2X3Jvb2ZfY29sb3IqPXVfb3BhY2l0eTtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihwb3MpO1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfQ1VUT0ZGXFxudl9jdXRvZmZfb3BhY2l0eT1jdXRvZmZfb3BhY2l0eSh1X2N1dG9mZl9wYXJhbXMsZ2xfUG9zaXRpb24ueik7XFxuI2VuZGlmXFxufScpLGZpbGxFeHRydXNpb25EZXB0aDpaRShcImluIGhpZ2hwIGZsb2F0IHZfZGVwdGg7dm9pZCBtYWluKCkge1xcbiNpZm5kZWYgREVQVEhfVEVYVFVSRVxcbmdsRnJhZ0NvbG9yPXBhY2tfZGVwdGgodl9kZXB0aCk7XFxuI2VuZGlmXFxufVwiLCcjaW5jbHVkZSBcIl9wcmVsdWRlX3RlcnJhaW4udmVydGV4Lmdsc2xcIlxcbnVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIGZsb2F0IHVfZWRnZV9yYWRpdXM7dW5pZm9ybSBmbG9hdCB1X3ZlcnRpY2FsX3NjYWxlO2luIHZlYzQgYV9wb3Nfbm9ybWFsX2VkO2luIHZlYzIgYV9jZW50cm9pZF9wb3M7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCBmbG9hdCBiYXNlXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCBmbG9hdCBoZWlnaHRcXG5vdXQgaGlnaHAgZmxvYXQgdl9kZXB0aDt2b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgZmxvYXQgYmFzZVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIGZsb2F0IGhlaWdodFxcbmJhc2UqPXVfdmVydGljYWxfc2NhbGU7aGVpZ2h0Kj11X3ZlcnRpY2FsX3NjYWxlO3ZlYzMgcG9zX254PWZsb29yKGFfcG9zX25vcm1hbF9lZC54eXoqMC41KTttZWRpdW1wIHZlYzMgdG9wX3VwX255PWFfcG9zX25vcm1hbF9lZC54eXotMi4wKnBvc19ueDtiYXNlPW1heCgwLjAsYmFzZSk7aGVpZ2h0PW1heCgwLjAsdG9wX3VwX255Lnk9PTAuMCAmJiB0b3BfdXBfbnkueD09MS4wID8gaGVpZ2h0LXVfZWRnZV9yYWRpdXMgOiBoZWlnaHQpO2Zsb2F0IHQ9dG9wX3VwX255Lng7dmVjMiBjZW50cm9pZF9wb3M9dmVjMigwLjApO1xcbiNpZiBkZWZpbmVkKEhBU19DRU5UUk9JRCkgfHwgZGVmaW5lZChURVJSQUlOKVxcbmNlbnRyb2lkX3Bvcz1hX2NlbnRyb2lkX3BvcztcXG4jZW5kaWZcXG52ZWMzIHBvcztcXG4jaWZkZWYgVEVSUkFJTlxcbmJvb2wgZmxhdF9yb29mPWNlbnRyb2lkX3Bvcy54ICE9MC4wICYmIHQgPiAwLjA7ZmxvYXQgZWxlPWVsZXZhdGlvbihwb3NfbngueHkpO2Zsb2F0IGNfZWxlPWZsYXRfcm9vZiA/IGNlbnRyb2lkX3Bvcy55PT0wLjAgPyBlbGV2YXRpb25Gcm9tVWludDE2KGNlbnRyb2lkX3Bvcy54KSA6IGZsYXRFbGV2YXRpb24oY2VudHJvaWRfcG9zKSA6IGVsZTtmbG9hdCBoPWZsYXRfcm9vZiA/IG1heChjX2VsZStoZWlnaHQsZWxlK2Jhc2UrMi4wKSA6IGVsZSsodCA+IDAuMCA/IGhlaWdodCA6IGJhc2UpO3Bvcz12ZWMzKHBvc19ueC54eSxoKTtcXG4jZWxzZVxcbnBvcz12ZWMzKHBvc19ueC54eSx0ID4gMC4wID8gaGVpZ2h0IDogYmFzZSk7XFxuI2VuZGlmXFxuZmxvYXQgaGlkZGVuPWZsb2F0KGNlbnRyb2lkX3Bvcy54PT0wLjAgJiYgY2VudHJvaWRfcG9zLnk9PTEuMCk7Z2xfUG9zaXRpb249bWl4KHVfbWF0cml4KnZlYzQocG9zLDEpLEFXQVksaGlkZGVuKTt2X2RlcHRoPWdsX1Bvc2l0aW9uLnovZ2xfUG9zaXRpb24udzt9JyksZmlsbEV4dHJ1c2lvblBhdHRlcm46WkUoJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLmZyYWdtZW50Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfbGlnaHRpbmcuZ2xzbFwiXFxudW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO1xcbiNpZmRlZiBGQVVYX0FPXFxudW5pZm9ybSBsb3dwIHZlYzIgdV9hbztpbiB2ZWMzIHZfYW87XFxuI2VuZGlmXFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG5pbiB2ZWMzIHZfbm9ybWFsO1xcbiNlbmRpZlxcbmluIHZlYzIgdl9wb3M7aW4gdmVjNCB2X2xpZ2h0aW5nO3VuaWZvcm0gbG93cCBmbG9hdCB1X29wYWNpdHk7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCBmbG9hdCBiYXNlXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCBmbG9hdCBoZWlnaHRcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgdmVjNCBwYXR0ZXJuXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCBmbG9hdCBwaXhlbF9yYXRpb1xcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCBmbG9hdCBiYXNlXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgZmxvYXQgaGVpZ2h0XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCBmbG9hdCBwaXhlbF9yYXRpb1xcbnZlYzIgcGF0dGVybl90bD1wYXR0ZXJuLnh5O3ZlYzIgcGF0dGVybl9icj1wYXR0ZXJuLnp3O3ZlYzIgaW1hZ2Vjb29yZD1tb2Qodl9wb3MsMS4wKTt2ZWMyIHBvcz1taXgocGF0dGVybl90bC91X3RleHNpemUscGF0dGVybl9ici91X3RleHNpemUsaW1hZ2Vjb29yZCk7dmVjNCBvdXRfY29sb3I9dGV4dHVyZSh1X2ltYWdlLHBvcyk7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG5vdXRfY29sb3I9YXBwbHlfbGlnaHRpbmcob3V0X2NvbG9yLG5vcm1hbGl6ZSh2X25vcm1hbCkpKnVfb3BhY2l0eTtcXG4jZWxzZVxcbm91dF9jb2xvcj1vdXRfY29sb3Iqdl9saWdodGluZztcXG4jZW5kaWZcXG4jaWZkZWYgRkFVWF9BT1xcbmZsb2F0IGludGVuc2l0eT11X2FvWzBdO2Zsb2F0IGg9bWF4KDAuMCx2X2FvLnopO2Zsb2F0IGhfZmxvb3JzPWgvdV9hb1sxXTtmbG9hdCB5X3NoYWRlPTEuMC0wLjkqaW50ZW5zaXR5Km1pbih2X2FvLnksMS4wKTtmbG9hdCBzaGFkZT0oMS4wLTAuMDgqaW50ZW5zaXR5KSooeV9zaGFkZSsoMS4wLXlfc2hhZGUpKigxLjAtcG93KDEuMC1taW4oaF9mbG9vcnMvMTYuMCwxLjApLDE2LjApKSkrMC4wOCppbnRlbnNpdHkqbWluKGhfZmxvb3JzLzE2MC4wLDEuMCk7ZmxvYXQgY29uY2F2ZT12X2FvLngqdl9hby54O2Zsb2F0IHhfc2hhZGU9bWl4KDEuMCxtaXgoMC42LDAuNzUsbWluKGhfZmxvb3JzLzMwLjAsMS4wKSksaW50ZW5zaXR5KSswLjEqaW50ZW5zaXR5Km1pbihoLDEuMCk7c2hhZGUqPW1peCgxLjAseF9zaGFkZSp4X3NoYWRlKnhfc2hhZGUsY29uY2F2ZSk7b3V0X2NvbG9yLnJnYj1vdXRfY29sb3IucmdiKnNoYWRlO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5vdXRfY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChvdXRfY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuI2lmZGVmIElORElDQVRPUl9DVVRPVVRcXG5vdXRfY29sb3I9YXBwbHlDdXRvdXQob3V0X2NvbG9yKTtcXG4jZW5kaWZcXG5nbEZyYWdDb2xvcj1vdXRfY29sb3I7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG5IQU5ETEVfV0lSRUZSQU1FX0RFQlVHO30nLCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy52ZXJ0ZXguZ2xzbFwiXFxuI2luY2x1ZGUgXCJfcHJlbHVkZV90ZXJyYWluLnZlcnRleC5nbHNsXCJcXG4jaW5jbHVkZSBcIl9wcmVsdWRlX2xpZ2h0aW5nLmdsc2xcIlxcbnVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9waXhlbF9jb29yZF91cHBlcjt1bmlmb3JtIHZlYzIgdV9waXhlbF9jb29yZF9sb3dlcjt1bmlmb3JtIGZsb2F0IHVfaGVpZ2h0X2ZhY3Rvcjt1bmlmb3JtIGZsb2F0IHVfdGlsZV91bml0c190b19waXhlbHM7dW5pZm9ybSBmbG9hdCB1X3ZlcnRpY2FsX2dyYWRpZW50O3VuaWZvcm0gbG93cCBmbG9hdCB1X29wYWNpdHk7dW5pZm9ybSB2ZWMzIHVfbGlnaHRjb2xvcjt1bmlmb3JtIGxvd3AgdmVjMyB1X2xpZ2h0cG9zO3VuaWZvcm0gbG93cCBmbG9hdCB1X2xpZ2h0aW50ZW5zaXR5O2luIHZlYzQgYV9wb3Nfbm9ybWFsX2VkO2luIHZlYzIgYV9jZW50cm9pZF9wb3M7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmluIHZlYzMgYV9wb3NfMztpbiB2ZWMzIGFfcG9zX25vcm1hbF8zO3VuaWZvcm0gbWF0NCB1X2ludl9yb3RfbWF0cml4O3VuaWZvcm0gdmVjMiB1X21lcmNfY2VudGVyO3VuaWZvcm0gdmVjMyB1X3RpbGVfaWQ7dW5pZm9ybSBmbG9hdCB1X3pvb21fdHJhbnNpdGlvbjt1bmlmb3JtIHZlYzMgdV91cF9kaXI7dW5pZm9ybSBmbG9hdCB1X2hlaWdodF9saWZ0O1xcbiNlbmRpZlxcbm91dCB2ZWMyIHZfcG9zO291dCB2ZWM0IHZfbGlnaHRpbmc7XFxuI2lmZGVmIEZBVVhfQU9cXG51bmlmb3JtIGxvd3AgdmVjMiB1X2FvO291dCB2ZWMzIHZfYW87XFxuI2VuZGlmXFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG5vdXQgdmVjMyB2X25vcm1hbDtcXG4jZW5kaWZcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIGZsb2F0IGJhc2VcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIGZsb2F0IGhlaWdodFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIGZsb2F0IHBpeGVsX3JhdGlvXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIGZsb2F0IGJhc2VcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCBmbG9hdCBoZWlnaHRcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVyblxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIGZsb2F0IHBpeGVsX3JhdGlvXFxudmVjMiBwYXR0ZXJuX3RsPXBhdHRlcm4ueHk7dmVjMiBwYXR0ZXJuX2JyPXBhdHRlcm4uenc7dmVjNCBwb3Nfbng9Zmxvb3IoYV9wb3Nfbm9ybWFsX2VkKjAuNSk7bWVkaXVtcCB2ZWM0IHRvcF91cF9ueV9zdGFydD1hX3Bvc19ub3JtYWxfZWQtMi4wKnBvc19ueDttZWRpdW1wIHZlYzMgdG9wX3VwX255PXRvcF91cF9ueV9zdGFydC54eXo7ZmxvYXQgeF9ub3JtYWw9cG9zX254LnovODE5Mi4wO3ZlYzMgbm9ybWFsPXRvcF91cF9ueS55PT0xLjAgPyB2ZWMzKDAuMCwwLjAsMS4wKSA6IG5vcm1hbGl6ZSh2ZWMzKHhfbm9ybWFsLCgyLjAqdG9wX3VwX255LnotMS4wKSooMS4wLWFicyh4X25vcm1hbCkpLDAuMCkpO2Zsb2F0IGVkZ2VkaXN0YW5jZT1hX3Bvc19ub3JtYWxfZWQudzt2ZWMyIGRpc3BsYXlfc2l6ZT0ocGF0dGVybl9ici1wYXR0ZXJuX3RsKS9waXhlbF9yYXRpbztiYXNlPW1heCgwLjAsYmFzZSk7aGVpZ2h0PW1heCgwLjAsaGVpZ2h0KTtmbG9hdCB0PXRvcF91cF9ueS54O2Zsb2F0IHo9dCA+IDAuMCA/IGhlaWdodCA6IGJhc2U7dmVjMiBjZW50cm9pZF9wb3M9dmVjMigwLjApO1xcbiNpZiBkZWZpbmVkKEhBU19DRU5UUk9JRCkgfHwgZGVmaW5lZChURVJSQUlOKVxcbmNlbnRyb2lkX3Bvcz1hX2NlbnRyb2lkX3BvcztcXG4jZW5kaWZcXG5mbG9hdCBlbGU9MC4wO2Zsb2F0IGg9ejt2ZWMzIHA7ZmxvYXQgY19lbGU7XFxuI2lmZGVmIFRFUlJBSU5cXG5ib29sIGZsYXRfcm9vZj1jZW50cm9pZF9wb3MueCAhPTAuMCAmJiB0ID4gMC4wO2VsZT1lbGV2YXRpb24ocG9zX254Lnh5KTtjX2VsZT1mbGF0X3Jvb2YgPyBjZW50cm9pZF9wb3MueT09MC4wID8gZWxldmF0aW9uRnJvbVVpbnQxNihjZW50cm9pZF9wb3MueCkgOiBmbGF0RWxldmF0aW9uKGNlbnRyb2lkX3BvcykgOiBlbGU7aD1mbGF0X3Jvb2YgPyBtYXgoY19lbGUraGVpZ2h0LGVsZStiYXNlKzIuMCkgOiBlbGUrKHQgPiAwLjAgPyBoZWlnaHQgOiBiYXNlPT0wLjAgPy01LjAgOiBiYXNlKTtwPXZlYzMocG9zX254Lnh5LGgpO1xcbiNlbHNlXFxucD12ZWMzKHBvc19ueC54eSx6KTtcXG4jZW5kaWZcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxuZmxvYXQgbGlmdD1mbG9hdCgodCtiYXNlKSA+IDAuMCkqdV9oZWlnaHRfbGlmdDtoKz1saWZ0O3ZlYzMgZ2xvYmVfbm9ybWFsPW5vcm1hbGl6ZShtaXgoYV9wb3Nfbm9ybWFsXzMvMTYzODQuMCx1X3VwX2Rpcix1X3pvb21fdHJhbnNpdGlvbikpO3ZlYzMgZ2xvYmVfcG9zPWFfcG9zXzMrZ2xvYmVfbm9ybWFsKih1X3RpbGVfdXBfc2NhbGUqKHAueitsaWZ0KSk7dmVjMyBtZXJjX3Bvcz1tZXJjYXRvcl90aWxlX3Bvc2l0aW9uKHVfaW52X3JvdF9tYXRyaXgscC54eSx1X3RpbGVfaWQsdV9tZXJjX2NlbnRlcikrdV91cF9kaXIqdV90aWxlX3VwX3NjYWxlKnAuejtwPW1peF9nbG9iZV9tZXJjYXRvcihnbG9iZV9wb3MsbWVyY19wb3MsdV96b29tX3RyYW5zaXRpb24pO1xcbiNlbmRpZlxcbmZsb2F0IGhpZGRlbj1mbG9hdChjZW50cm9pZF9wb3MueD09MC4wICYmIGNlbnRyb2lkX3Bvcy55PT0xLjApO2dsX1Bvc2l0aW9uPW1peCh1X21hdHJpeCp2ZWM0KHAsMSksQVdBWSxoaWRkZW4pO3ZlYzIgcG9zPW5vcm1hbC56PT0xLjBcXG4/IHBvc19ueC54eVxcbjogdmVjMihlZGdlZGlzdGFuY2Useip1X2hlaWdodF9mYWN0b3IpO3ZfcG9zPWdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLHVfcGl4ZWxfY29vcmRfbG93ZXIsZGlzcGxheV9zaXplLHVfdGlsZV91bml0c190b19waXhlbHMscG9zKTt2X2xpZ2h0aW5nPXZlYzQoMC4wLDAuMCwwLjAsMS4wKTtmbG9hdCBOZG90TD0wLjA7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG5OZG90TD1jYWxjdWxhdGVfTmRvdEwobm9ybWFsKTtcXG4jZWxzZVxcbk5kb3RMPWNsYW1wKGRvdChub3JtYWwsdV9saWdodHBvcyksMC4wLDEuMCk7TmRvdEw9bWl4KCgxLjAtdV9saWdodGludGVuc2l0eSksbWF4KCgwLjUrdV9saWdodGludGVuc2l0eSksMS4wKSxOZG90TCk7XFxuI2VuZGlmXFxuaWYgKG5vcm1hbC55ICE9MC4wKSB7ZmxvYXQgcj0wLjg0O1xcbiNpZm5kZWYgTElHSFRJTkdfM0RfTU9ERVxcbnI9bWl4KDAuNywwLjk4LDEuMC11X2xpZ2h0aW50ZW5zaXR5KTtcXG4jZW5kaWZcXG5OZG90TCo9KFxcbigxLjAtdV92ZXJ0aWNhbF9ncmFkaWVudCkrKHVfdmVydGljYWxfZ3JhZGllbnQqY2xhbXAoKHQrYmFzZSkqcG93KGhlaWdodC8xNTAuMCwwLjUpLHIsMS4wKSkpO31cXG4jaWZkZWYgRkFVWF9BT1xcbmZsb2F0IGNvbmNhdmU9cG9zX254LnctZmxvb3IocG9zX254LncqMC41KSoyLjA7ZmxvYXQgc3RhcnQ9dG9wX3VwX255X3N0YXJ0Lnc7ZmxvYXQgeV9ncm91bmQ9MS4wLWNsYW1wKHQrYmFzZSwwLjAsMS4wKTtmbG9hdCB0b3BfaGVpZ2h0PWhlaWdodDtcXG4jaWZkZWYgVEVSUkFJTlxcbnRvcF9oZWlnaHQ9bWl4KG1heChjX2VsZStoZWlnaHQsZWxlK2Jhc2UrMi4wKSxlbGUraGVpZ2h0LGZsb2F0KGNlbnRyb2lkX3Bvcy54PT0wLjApKS1lbGU7eV9ncm91bmQrPXlfZ3JvdW5kKjUuMC9tYXgoMy4wLHRvcF9oZWlnaHQpO1xcbiNlbmRpZlxcbnZfYW89dmVjMyhtaXgoY29uY2F2ZSwtY29uY2F2ZSxzdGFydCkseV9ncm91bmQsaC1lbGUpO05kb3RMKj0oMS4wKzAuMDUqKDEuMC10b3BfdXBfbnkueSkqdV9hb1swXSk7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnRvcF9oZWlnaHQrPXVfaGVpZ2h0X2xpZnQ7XFxuI2VuZGlmXFxuZ2xfUG9zaXRpb24uei09KDAuMDAwMDAwNioobWluKHRvcF9oZWlnaHQsNTAwLikrMi4wKm1pbihiYXNlLDUwMC4wKSs2MC4wKmNvbmNhdmUrMy4wKnN0YXJ0KSkqZ2xfUG9zaXRpb24udztcXG4jZW5kaWZcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbnZfbm9ybWFsPW5vcm1hbDtcXG4jZWxzZVxcbnZfbGlnaHRpbmcucmdiKz1jbGFtcChOZG90TCp1X2xpZ2h0Y29sb3IsbWl4KHZlYzMoMC4wKSx2ZWMzKDAuMyksMS4wLXVfbGlnaHRjb2xvciksdmVjMygxLjApKTt2X2xpZ2h0aW5nKj11X29wYWNpdHk7XFxuI2VuZGlmIFxcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKHApO1xcbiNlbmRpZlxcbn0nKSxncm91bmRTaGFkb3c6WkUoJyNpbmNsdWRlIFwiX3ByZWx1ZGVfc2hhZG93LmZyYWdtZW50Lmdsc2xcIlxcbnByZWNpc2lvbiBoaWdocCBmbG9hdDt1bmlmb3JtIHZlYzMgdV9ncm91bmRfc2hhZG93X2ZhY3RvcjtpbiB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMDtpbiB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMTtpbiBmbG9hdCB2X2RlcHRoO1xcbiNpZmRlZiBGT0dcXG5pbiBmbG9hdCB2X2ZvZ19vcGFjaXR5O1xcbiNlbmRpZlxcbnZvaWQgbWFpbigpIHtmbG9hdCBsaWdodD1zaGFkb3dlZF9saWdodF9mYWN0b3Iodl9wb3NfbGlnaHRfdmlld18wLHZfcG9zX2xpZ2h0X3ZpZXdfMSx2X2RlcHRoKTt2ZWMzIHNoYWRvdz1taXgodV9ncm91bmRfc2hhZG93X2ZhY3Rvcix2ZWMzKDEuMCksbGlnaHQpO1xcbiNpZmRlZiBSRU5ERVJfQ1VUT0ZGXFxuc2hhZG93PW1peCh2ZWMzKDEuMCksc2hhZG93LGN1dG9mZl9vcGFjaXR5KHVfY3V0b2ZmX3BhcmFtcyx2X2RlcHRoKSk7XFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbnNoYWRvdz1taXgoc2hhZG93LHZlYzMoMS4wKSx2X2ZvZ19vcGFjaXR5KTtcXG4jZW5kaWZcXG4jaWZkZWYgSU5ESUNBVE9SX0NVVE9VVFxcbnNoYWRvdz1taXgoc2hhZG93LHZlYzMoMS4wKSwxLjAtYXBwbHlDdXRvdXQodmVjNCgxLjApKS5yKTtcXG4jZW5kaWZcXG5nbEZyYWdDb2xvcj12ZWM0KHNoYWRvdywxLjApO30nLCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy52ZXJ0ZXguZ2xzbFwiXFxudW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X2xpZ2h0X21hdHJpeF8wO3VuaWZvcm0gbWF0NCB1X2xpZ2h0X21hdHJpeF8xO2luIHZlYzIgYV9wb3M7b3V0IHZlYzQgdl9wb3NfbGlnaHRfdmlld18wO291dCB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMTtvdXQgZmxvYXQgdl9kZXB0aDtcXG4jaWZkZWYgRk9HXFxub3V0IGZsb2F0IHZfZm9nX29wYWNpdHk7XFxuI2VuZGlmXFxudm9pZCBtYWluKCkge2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMC4wLDEuMCk7dl9wb3NfbGlnaHRfdmlld18wPXVfbGlnaHRfbWF0cml4XzAqdmVjNChhX3BvcywwLjAsMS4wKTt2X3Bvc19saWdodF92aWV3XzE9dV9saWdodF9tYXRyaXhfMSp2ZWM0KGFfcG9zLDAuMCwxLjApO3ZfZGVwdGg9Z2xfUG9zaXRpb24udztcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihhX3Bvcyk7dl9mb2dfb3BhY2l0eT1mb2codl9mb2dfcG9zKTtcXG4jZW5kaWZcXG59JyksZmlsbEV4dHJ1c2lvbkdyb3VuZEVmZmVjdDpaRShcInVuaWZvcm0gaGlnaHAgZmxvYXQgdV9hb19wYXNzO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9vcGFjaXR5O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9mbG9vZF9saWdodF9pbnRlbnNpdHk7dW5pZm9ybSBoaWdocCB2ZWMzIHVfZmxvb2RfbGlnaHRfY29sb3I7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2F0dGVudWF0aW9uO3VuaWZvcm0gc2FtcGxlcjJEIHVfZmI7dW5pZm9ybSBmbG9hdCB1X2ZiX3NpemU7XFxuI2lmZGVmIFNERl9TVUJQQVNTXFxuaW4gaGlnaHAgdmVjMiB2X3BvcztpbiBoaWdocCB2ZWM0IHZfbGluZV9zZWdtZW50O2luIGhpZ2hwIGZsb2F0IHZfZmxvb2RfbGlnaHRfcmFkaXVzX3RpbGU7aW4gaGlnaHAgdmVjMiB2X2FvO2Zsb2F0IGxpbmVfZGYoaGlnaHAgdmVjMiBhLGhpZ2hwIHZlYzIgYixoaWdocCB2ZWMyIHApIHtoaWdocCB2ZWMyIGJhPWItYTtoaWdocCB2ZWMyIHBhPXAtYTtoaWdocCBmbG9hdCByPWNsYW1wKGRvdChwYSxiYSkvZG90KGJhLGJhKSwwLjAsMS4wKTtyZXR1cm4gbGVuZ3RoKHBhLXIqYmEpO31cXG4jaWZkZWYgRk9HXFxuaW4gaGlnaHAgZmxvYXQgdl9mb2c7XFxuI2VuZGlmXFxuI2VuZGlmXFxudm9pZCBtYWluKCkge1xcbiNpZmRlZiBDTEVBUl9TVUJQQVNTXFxudmVjNCBjb2xvcj12ZWM0KDEuMCk7XFxuI2lmZGVmIENMRUFSX0ZST01fVEVYVFVSRVxcbmNvbG9yPXRleHR1cmUodV9mYixnbF9GcmFnQ29vcmQueHkvdmVjMih1X2ZiX3NpemUpKTtcXG4jZW5kaWZcXG5nbEZyYWdDb2xvcj1jb2xvcjtcXG4jZWxzZVxcbiNpZmRlZiBTREZfU1VCUEFTU1xcbmhpZ2hwIGZsb2F0IGQ9bGluZV9kZih2X2xpbmVfc2VnbWVudC54eSx2X2xpbmVfc2VnbWVudC56dyx2X3Bvcyk7aGlnaHAgZmxvYXQgZWZmZWN0X3JhZGl1cz1taXgodl9mbG9vZF9saWdodF9yYWRpdXNfdGlsZSx2X2FvLnksdV9hb19wYXNzKTtkLz1lZmZlY3RfcmFkaXVzO2Q9bWluKGQsMS4wKTtkPTEuMC1wb3coMS4wLWQsdV9hdHRlbnVhdGlvbik7aGlnaHAgZmxvYXQgZWZmZWN0X2ludGVuc2l0eT1taXgodV9mbG9vZF9saWdodF9pbnRlbnNpdHksdl9hby54LHVfYW9fcGFzcyk7aGlnaHAgZmxvYXQgZm9nPTEuMDtcXG4jaWZkZWYgRk9HXFxuZm9nPXZfZm9nO1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfQ1VUT0ZGXFxuZm9nKj12X2N1dG9mZl9vcGFjaXR5O1xcbiNlbmRpZlxcbmdsRnJhZ0NvbG9yPXZlYzQodmVjMygwLjApLG1peCgxLjAsZCxlZmZlY3RfaW50ZW5zaXR5KnVfb3BhY2l0eSpmb2cpKTtcXG4jZWxzZVxcbnZlYzQgY29sb3I9bWl4KHZlYzQodV9mbG9vZF9saWdodF9jb2xvciwxLjApLHZlYzQodmVjMygwLjApLDEuMCksdV9hb19wYXNzKTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuY29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbmdsRnJhZ0NvbG9yPWNvbG9yO0hBTkRMRV9XSVJFRlJBTUVfREVCVUc7XFxuI2VuZGlmXFxuI2VuZGlmXFxufVwiLCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy52ZXJ0ZXguZ2xzbFwiXFxuaW4gaGlnaHAgdmVjNCBhX3Bvc19lbmQ7aW4gaGlnaHAgZmxvYXQgYV9hbmd1bGFyX29mZnNldF9mYWN0b3I7aW4gaGlnaHAgZmxvYXQgYV9oaWRkZW5fYnlfbGFuZG1hcms7XFxuI2lmZGVmIFNERl9TVUJQQVNTXFxub3V0IGhpZ2hwIHZlYzIgdl9wb3M7b3V0IGhpZ2hwIHZlYzQgdl9saW5lX3NlZ21lbnQ7b3V0IGhpZ2hwIGZsb2F0IHZfZmxvb2RfbGlnaHRfcmFkaXVzX3RpbGU7b3V0IGhpZ2hwIHZlYzIgdl9hbztcXG4jaWZkZWYgRk9HXFxub3V0IGhpZ2hwIGZsb2F0IHZfZm9nO1xcbiNlbmRpZlxcbiNlbmRpZlxcbnVuaWZvcm0gaGlnaHAgZmxvYXQgdV9mbG9vZF9saWdodF9pbnRlbnNpdHk7dW5pZm9ybSBoaWdocCBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9hb19wYXNzO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9tZXRlcl90b190aWxlO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9lZGdlX3JhZGl1czt1bmlmb3JtIGhpZ2hwIHZlYzIgdV9hbztcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIGZsb2F0IGZsb29kX2xpZ2h0X2dyb3VuZF9yYWRpdXNcXG5jb25zdCBmbG9hdCBUQU5HRU5UX0NVVE9GRj00LjA7Y29uc3QgZmxvYXQgTk9STT0zMjc2Ny4wO3ZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCBmbG9hdCBmbG9vZF9saWdodF9ncm91bmRfcmFkaXVzXFxudmVjMiBwPWFfcG9zX2VuZC54eTt2ZWMyIHE9Zmxvb3IoYV9wb3NfZW5kLnp3KjAuNSk7dmVjMiBzdGFydF9ib3R0b209YV9wb3NfZW5kLnp3LXEqMi4wO2Zsb2F0IGZsX2dyb3VuZF9yYWRpdXM9Zmxvb2RfbGlnaHRfZ3JvdW5kX3JhZGl1cztcXG4jaWZkZWYgRk9SQ0VfQUJTX0ZMX0dST1VORF9SQURJVVNcXG5mbF9ncm91bmRfcmFkaXVzPWFicyhmbG9vZF9saWdodF9ncm91bmRfcmFkaXVzKTtcXG4jZW5kaWZcXG5mbG9hdCBmbG9vZF9yYWRpdXNfdGlsZT1mbF9ncm91bmRfcmFkaXVzKnVfbWV0ZXJfdG9fdGlsZTt2ZWMyIHY9bm9ybWFsaXplKHEtcCk7ZmxvYXQgYW9fcmFkaXVzPXVfYW8ueS8zLjU7ZmxvYXQgZWZmZWN0X3JhZGl1cz1taXgoZmxvb2RfcmFkaXVzX3RpbGUsYW9fcmFkaXVzLHVfYW9fcGFzcykrdV9lZGdlX3JhZGl1cztmbG9hdCBhbmd1bGFyX29mZnNldF9mYWN0b3I9YV9hbmd1bGFyX29mZnNldF9mYWN0b3IvTk9STSpUQU5HRU5UX0NVVE9GRjtmbG9hdCBhbmd1bGFyX29mZnNldD1hbmd1bGFyX29mZnNldF9mYWN0b3IqZWZmZWN0X3JhZGl1cztmbG9hdCB0b3A9MS4wLXN0YXJ0X2JvdHRvbS55O2Zsb2F0IHNpZGU9KDAuNS1zdGFydF9ib3R0b20ueCkqMi4wO3ZlYzIgZXh0cnVzaW9uX3BhcmFsbGVsPXYqc2lkZSptaXgoMS4wLGFuZ3VsYXJfb2Zmc2V0LHRvcCk7dmVjMiBwZXJwPXZlYzIodi55LC12LngpO3ZlYzIgZXh0cnVzaW9uX3BlcnA9cGVycCplZmZlY3RfcmFkaXVzKnRvcDt2ZWMzIHBvcz12ZWMzKG1peChxLHAsc3RhcnRfYm90dG9tLngpLDAuMCk7cG9zLnh5Kz1leHRydXNpb25fcGFyYWxsZWwrZXh0cnVzaW9uX3BlcnA7XFxuI2lmZGVmIFNERl9TVUJQQVNTXFxudl9wb3M9cG9zLnh5O3ZfbGluZV9zZWdtZW50PXZlYzQocCxxKStwZXJwLnh5eHkqdV9lZGdlX3JhZGl1czt2X2Zsb29kX2xpZ2h0X3JhZGl1c190aWxlPWZsb29kX3JhZGl1c190aWxlO3ZfYW89dmVjMih1X2FvLngsYW9fcmFkaXVzKTtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihwb3MpO3ZfZm9nPTEuMC1mb2codl9mb2dfcG9zKTtcXG4jZW5kaWZcXG4jZW5kaWZcXG5mbG9hdCBoaWRkZW5fYnlfbGFuZG1hcms9MC4wO1xcbiNpZmRlZiBIQVNfQ0VOVFJPSURcXG5oaWRkZW5fYnlfbGFuZG1hcms9YV9oaWRkZW5fYnlfbGFuZG1hcms7XFxuI2VuZGlmXFxuZmxvYXQgaXNGbG9vZGxpdD1mbG9hdChmbF9ncm91bmRfcmFkaXVzID4gMC4wICYmIHVfZmxvb2RfbGlnaHRfaW50ZW5zaXR5ID4gMC4wKTtmbG9hdCBoaWRkZW49bWl4KDEuMC1pc0Zsb29kbGl0LGlzRmxvb2RsaXQsdV9hb19wYXNzKTtoaWRkZW4rPWhpZGRlbl9ieV9sYW5kbWFyaztnbF9Qb3NpdGlvbj1taXgodV9tYXRyaXgqdmVjNChwb3MsMS4wKSxBV0FZLGZsb2F0KGhpZGRlbiA+IDAuMCkpO1xcbiNpZmRlZiBSRU5ERVJfQ1VUT0ZGXFxudl9jdXRvZmZfb3BhY2l0eT1jdXRvZmZfb3BhY2l0eSh1X2N1dG9mZl9wYXJhbXMsZ2xfUG9zaXRpb24ueik7XFxuI2VuZGlmXFxufScpLGhpbGxzaGFkZVByZXBhcmU6WkUoXCJwcmVjaXNpb24gaGlnaHAgZmxvYXQ7dW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTtpbiB2ZWMyIHZfcG9zO3VuaWZvcm0gdmVjMiB1X2RpbWVuc2lvbjt1bmlmb3JtIGZsb2F0IHVfem9vbTtmbG9hdCBnZXRFbGV2YXRpb24odmVjMiBjb29yZCkge3JldHVybiB0ZXh0dXJlKHVfaW1hZ2UsY29vcmQpLnIvNC4wO312b2lkIG1haW4oKSB7dmVjMiBlcHNpbG9uPTEuMC91X2RpbWVuc2lvbjtmbG9hdCBhPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKC1lcHNpbG9uLngsLWVwc2lsb24ueSkpO2Zsb2F0IGI9Z2V0RWxldmF0aW9uKHZfcG9zK3ZlYzIoMCwtZXBzaWxvbi55KSk7ZmxvYXQgYz1nZXRFbGV2YXRpb24odl9wb3MrdmVjMihlcHNpbG9uLngsLWVwc2lsb24ueSkpO2Zsb2F0IGQ9Z2V0RWxldmF0aW9uKHZfcG9zK3ZlYzIoLWVwc2lsb24ueCwwKSk7ZmxvYXQgZT1nZXRFbGV2YXRpb24odl9wb3MrdmVjMihlcHNpbG9uLngsMCkpO2Zsb2F0IGY9Z2V0RWxldmF0aW9uKHZfcG9zK3ZlYzIoLWVwc2lsb24ueCxlcHNpbG9uLnkpKTtmbG9hdCBnPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKDAsZXBzaWxvbi55KSk7ZmxvYXQgaD1nZXRFbGV2YXRpb24odl9wb3MrdmVjMihlcHNpbG9uLngsZXBzaWxvbi55KSk7ZmxvYXQgZXhhZ2dlcmF0aW9uRmFjdG9yPXVfem9vbSA8IDIuMCA/IDAuNCA6IHVfem9vbSA8IDQuNSA/IDAuMzUgOiAwLjM7ZmxvYXQgZXhhZ2dlcmF0aW9uPXVfem9vbSA8IDE1LjAgPyAodV96b29tLTE1LjApKmV4YWdnZXJhdGlvbkZhY3RvciA6IDAuMDt2ZWMyIGRlcml2PXZlYzIoXFxuKGMrZStlK2gpLShhK2QrZCtmKSwoZitnK2craCktKGErYitiK2MpXFxuKS9wb3coMi4wLGV4YWdnZXJhdGlvbisoMTkuMjU2Mi11X3pvb20pKTtnbEZyYWdDb2xvcj1jbGFtcCh2ZWM0KFxcbmRlcml2LngvMi4wKzAuNSxkZXJpdi55LzIuMCswLjUsMS4wLDEuMCksMC4wLDEuMCk7fVwiLFwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X2RpbWVuc2lvbjtpbiB2ZWMyIGFfcG9zO2luIHZlYzIgYV90ZXh0dXJlX3BvcztvdXQgdmVjMiB2X3Bvczt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO2hpZ2hwIHZlYzIgZXBzaWxvbj0xLjAvdV9kaW1lbnNpb247ZmxvYXQgc2NhbGU9KHVfZGltZW5zaW9uLngtMi4wKS91X2RpbWVuc2lvbi54O3ZfcG9zPShhX3RleHR1cmVfcG9zLzgxOTIuMCkqc2NhbGUrZXBzaWxvbjt9XCIpLGhpbGxzaGFkZTpaRSgnI2luY2x1ZGUgXCJfcHJlbHVkZV9mb2cuZnJhZ21lbnQuZ2xzbFwiXFxuI2luY2x1ZGUgXCJfcHJlbHVkZV9saWdodGluZy5nbHNsXCJcXG51bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO2luIHZlYzIgdl9wb3M7dW5pZm9ybSB2ZWMyIHVfbGF0cmFuZ2U7dW5pZm9ybSB2ZWMyIHVfbGlnaHQ7dW5pZm9ybSB2ZWM0IHVfc2hhZG93O3VuaWZvcm0gdmVjNCB1X2hpZ2hsaWdodDt1bmlmb3JtIHZlYzQgdV9hY2NlbnQ7dW5pZm9ybSBmbG9hdCB1X2VtaXNzaXZlX3N0cmVuZ3RoO3ZvaWQgbWFpbigpIHt2ZWM0IHBpeGVsPXRleHR1cmUodV9pbWFnZSx2X3Bvcyk7dmVjMiBkZXJpdj0oKHBpeGVsLnJnKjIuMCktMS4wKTtmbG9hdCBzY2FsZUZhY3Rvcj1jb3MocmFkaWFucygodV9sYXRyYW5nZVswXS11X2xhdHJhbmdlWzFdKSooMS4wLXZfcG9zLnkpK3VfbGF0cmFuZ2VbMV0pKTtmbG9hdCBzbG9wZT1hdGFuKDEuMjUqbGVuZ3RoKGRlcml2KS9zY2FsZUZhY3Rvcik7ZmxvYXQgYXNwZWN0PWRlcml2LnggIT0wLjAgPyBhdGFuKGRlcml2LnksLWRlcml2LngpIDogUEkvMi4wKihkZXJpdi55ID4gMC4wID8gMS4wIDotMS4wKTtmbG9hdCBpbnRlbnNpdHk9dV9saWdodC54O2Zsb2F0IGF6aW11dGg9dV9saWdodC55K1BJO2Zsb2F0IGJhc2U9MS44NzUtaW50ZW5zaXR5KjEuNzU7ZmxvYXQgbWF4VmFsdWU9MC41KlBJO2Zsb2F0IHNjYWxlZFNsb3BlPWludGVuc2l0eSAhPTAuNSA/ICgocG93KGJhc2Usc2xvcGUpLTEuMCkvKHBvdyhiYXNlLG1heFZhbHVlKS0xLjApKSptYXhWYWx1ZSA6IHNsb3BlO2Zsb2F0IGFjY2VudD1jb3Moc2NhbGVkU2xvcGUpO3ZlYzQgYWNjZW50X2NvbG9yPSgxLjAtYWNjZW50KSp1X2FjY2VudCpjbGFtcChpbnRlbnNpdHkqMi4wLDAuMCwxLjApO2Zsb2F0IHNoYWRlPWFicyhtb2QoKGFzcGVjdCthemltdXRoKS9QSSswLjUsMi4wKS0xLjApO3ZlYzQgc2hhZGVfY29sb3I9bWl4KHVfc2hhZG93LHVfaGlnaGxpZ2h0LHNoYWRlKSpzaW4oc2NhbGVkU2xvcGUpKmNsYW1wKGludGVuc2l0eSoyLjAsMC4wLDEuMCk7Z2xGcmFnQ29sb3I9YWNjZW50X2NvbG9yKigxLjAtc2hhZGVfY29sb3IuYSkrc2hhZGVfY29sb3I7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG5nbEZyYWdDb2xvcj1hcHBseV9saWdodGluZ193aXRoX2VtaXNzaW9uX2dyb3VuZChnbEZyYWdDb2xvcix1X2VtaXNzaXZlX3N0cmVuZ3RoKTtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxuZ2xGcmFnQ29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChnbEZyYWdDb2xvcix2X2ZvZ19wb3MpKTtcXG4jZW5kaWZcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xGcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbkhBTkRMRV9XSVJFRlJBTUVfREVCVUc7fScsJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLnZlcnRleC5nbHNsXCJcXG51bmlmb3JtIG1hdDQgdV9tYXRyaXg7aW4gdmVjMiBhX3BvcztpbiB2ZWMyIGFfdGV4dHVyZV9wb3M7b3V0IHZlYzIgdl9wb3M7dm9pZCBtYWluKCkge2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTt2X3Bvcz1hX3RleHR1cmVfcG9zLzgxOTIuMDtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihhX3Bvcyk7XFxuI2VuZGlmXFxufScpLGxpbmU6WkUoJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLmZyYWdtZW50Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfbGlnaHRpbmcuZ2xzbFwiXFxudW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3VuaWZvcm0gZmxvYXQgdV9hbHBoYV9kaXNjYXJkX3RocmVzaG9sZDt1bmlmb3JtIGhpZ2hwIHZlYzIgdV90cmltX29mZnNldDtpbiB2ZWMyIHZfd2lkdGgyO2luIHZlYzIgdl9ub3JtYWw7aW4gZmxvYXQgdl9nYW1tYV9zY2FsZTtpbiBoaWdocCB2ZWM0IHZfdXY7XFxuI2lmZGVmIFJFTkRFUl9MSU5FX0RBU0hcXG51bmlmb3JtIHNhbXBsZXIyRCB1X2Rhc2hfaW1hZ2U7aW4gdmVjMiB2X3RleDtcXG4jZW5kaWZcXG4jaWZkZWYgUkVOREVSX0xJTkVfR1JBRElFTlRcXG51bmlmb3JtIHNhbXBsZXIyRCB1X2dyYWRpZW50X2ltYWdlO1xcbiNlbmRpZlxcbmZsb2F0IGx1bWluYW5jZSh2ZWMzIGMpIHtyZXR1cm4gKGMucitjLnIrYy5iK2MuZytjLmcrYy5nKSowLjE2Njc7fXVuaWZvcm0gZmxvYXQgdV9lbWlzc2l2ZV9zdHJlbmd0aDtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgZmxvb3J3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IGRhc2hcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJvcmRlcl93aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IGJvcmRlcl9jb2xvclxcbmZsb2F0IGxpbmVhcnN0ZXAoZmxvYXQgZWRnZTAsZmxvYXQgZWRnZTEsZmxvYXQgeCkge3JldHVybiAgY2xhbXAoKHgtZWRnZTApLyhlZGdlMS1lZGdlMCksMC4wLDEuMCk7fXZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBmbG9vcndpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCB2ZWM0IGRhc2hcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJvcmRlcl93aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgdmVjNCBib3JkZXJfY29sb3JcXG5mbG9hdCBkaXN0PWxlbmd0aCh2X25vcm1hbCkqdl93aWR0aDIucztmbG9hdCBibHVyMj0oYmx1cisxLjAvdV9kZXZpY2VfcGl4ZWxfcmF0aW8pKnZfZ2FtbWFfc2NhbGU7ZmxvYXQgYWxwaGE9Y2xhbXAobWluKGRpc3QtKHZfd2lkdGgyLnQtYmx1cjIpLHZfd2lkdGgyLnMtZGlzdCkvYmx1cjIsMC4wLDEuMCk7XFxuI2lmZGVmIFJFTkRFUl9MSU5FX0RBU0hcXG5mbG9hdCBzZGZkaXN0PXRleHR1cmUodV9kYXNoX2ltYWdlLHZfdGV4KS5hO2Zsb2F0IHNkZmdhbW1hPTEuMC8oMi4wKnVfZGV2aWNlX3BpeGVsX3JhdGlvKS9kYXNoLno7YWxwaGEqPWxpbmVhcnN0ZXAoMC41LXNkZmdhbW1hL2Zsb29yd2lkdGgsMC41K3NkZmdhbW1hL2Zsb29yd2lkdGgsc2RmZGlzdCk7XFxuI2VuZGlmXFxuaGlnaHAgdmVjNCBvdXRfY29sb3I7XFxuI2lmZGVmIFJFTkRFUl9MSU5FX0dSQURJRU5UXFxub3V0X2NvbG9yPXRleHR1cmUodV9ncmFkaWVudF9pbWFnZSx2X3V2Lnh5KTtcXG4jZWxzZVxcbm91dF9jb2xvcj1jb2xvcjtcXG4jZW5kaWZcXG5mbG9hdCB0cmltbWVkPTEuMDtcXG4jaWZkZWYgUkVOREVSX0xJTkVfVFJJTV9PRkZTRVRcXG5oaWdocCBmbG9hdCBzdGFydD12X3V2WzJdO2hpZ2hwIGZsb2F0IGVuZD12X3V2WzNdO2hpZ2hwIGZsb2F0IHRyaW1fc3RhcnQ9dV90cmltX29mZnNldFswXTtoaWdocCBmbG9hdCB0cmltX2VuZD11X3RyaW1fb2Zmc2V0WzFdO2hpZ2hwIGZsb2F0IGxpbmVfcHJvZ3Jlc3M9KHN0YXJ0Kyh2X3V2LngpKihlbmQtc3RhcnQpKTtpZiAodHJpbV9lbmQgPiB0cmltX3N0YXJ0KSB7aWYgKGxpbmVfcHJvZ3Jlc3MgPD10cmltX2VuZCAmJiBsaW5lX3Byb2dyZXNzID49dHJpbV9zdGFydCkge291dF9jb2xvcj12ZWM0KDAsMCwwLDApO3RyaW1tZWQ9MC4wO319XFxuI2VuZGlmXFxuaWYgKHVfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQgIT0wLjApIHtpZiAoYWxwaGEgPCB1X2FscGhhX2Rpc2NhcmRfdGhyZXNob2xkKSB7ZGlzY2FyZDt9fVxcbiNpZmRlZiBSRU5ERVJfTElORV9CT1JERVJcXG5mbG9hdCBlZGdlQmx1cj0oYm9yZGVyX3dpZHRoKzEuMC91X2RldmljZV9waXhlbF9yYXRpbyk7ZmxvYXQgYWxwaGEyPWNsYW1wKG1pbihkaXN0LSh2X3dpZHRoMi50LWVkZ2VCbHVyKSx2X3dpZHRoMi5zLWRpc3QpL2VkZ2VCbHVyLDAuMCwxLjApO2lmIChhbHBoYTIgPCAxLikge2Zsb2F0IHNtb290aEFscGhhPXNtb290aHN0ZXAoMC42LDEuMCxhbHBoYTIpO2lmIChib3JkZXJfY29sb3IuYT09MC4wKSB7ICAgIFxcbmZsb2F0IFk9KG91dF9jb2xvci5hID4gMC4wMSkgPyBsdW1pbmFuY2Uob3V0X2NvbG9yLnJnYi9vdXRfY29sb3IuYSkgOiAxLjtmbG9hdCBhZGp1c3RtZW50PShZID4gMC4pID8gMC41L1kgOiAwLjQ1O2lmIChvdXRfY29sb3IuYSA+IDAuMjUgJiYgWSA8IDAuMjUpIHt2ZWMzIGJvcmRlckNvbG9yPShZID4gMC4pID8gb3V0X2NvbG9yLnJnYiA6IHZlYzMoMSwxLDEpKm91dF9jb2xvci5hO291dF9jb2xvci5yZ2I9b3V0X2NvbG9yLnJnYitib3JkZXJDb2xvciooYWRqdXN0bWVudCooMS4wLXNtb290aEFscGhhKSk7fSBlbHNlIHtvdXRfY29sb3IucmdiKj0oMC42ICswLjQqc21vb3RoQWxwaGEpO319IGVsc2Uge291dF9jb2xvci5yZ2I9bWl4KGJvcmRlcl9jb2xvci5yZ2IqYm9yZGVyX2NvbG9yLmEqdHJpbW1lZCxvdXRfY29sb3IucmdiLHNtb290aEFscGhhKTt9fVxcbiNlbmRpZlxcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxub3V0X2NvbG9yPWFwcGx5X2xpZ2h0aW5nX3dpdGhfZW1pc3Npb25fZ3JvdW5kKG91dF9jb2xvcix1X2VtaXNzaXZlX3N0cmVuZ3RoKTtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxub3V0X2NvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQob3V0X2NvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbm91dF9jb2xvcio9KGFscGhhKm9wYWNpdHkpO1xcbiNpZmRlZiBJTkRJQ0FUT1JfQ1VUT1VUXFxub3V0X2NvbG9yPWFwcGx5Q3V0b3V0KG91dF9jb2xvcik7XFxuI2VuZGlmXFxuZ2xGcmFnQ29sb3I9b3V0X2NvbG9yO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbEZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxuSEFORExFX1dJUkVGUkFNRV9ERUJVRzt9JywnI2luY2x1ZGUgXCJfcHJlbHVkZV9mb2cudmVydGV4Lmdsc2xcIlxcbiNkZWZpbmUgRVhUUlVERV9TQ0FMRSAwLjAxNTg3MzAxNlxcbmluIHZlYzIgYV9wb3Nfbm9ybWFsO2luIHZlYzQgYV9kYXRhO1xcbiNpZiBkZWZpbmVkKFJFTkRFUl9MSU5FX0dSQURJRU5UKSB8fCBkZWZpbmVkKFJFTkRFUl9MSU5FX1RSSU1fT0ZGU0VUKVxcbmluIGhpZ2hwIHZlYzQgYV9wYWNrZWQ7XFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9MSU5FX0RBU0hcXG5pbiBmbG9hdCBhX2xpbmVzb2ZhcjtcXG4jZW5kaWZcXG51bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBtYXQyIHVfcGl4ZWxzX3RvX3RpbGVfdW5pdHM7dW5pZm9ybSB2ZWMyIHVfdW5pdHNfdG9fcGl4ZWxzO3VuaWZvcm0gbG93cCBmbG9hdCB1X2RldmljZV9waXhlbF9yYXRpbztvdXQgdmVjMiB2X25vcm1hbDtvdXQgdmVjMiB2X3dpZHRoMjtvdXQgZmxvYXQgdl9nYW1tYV9zY2FsZTtvdXQgaGlnaHAgdmVjNCB2X3V2O1xcbiNpZmRlZiBSRU5ERVJfTElORV9EQVNIXFxudW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt1bmlmb3JtIGZsb2F0IHVfdGlsZV91bml0c190b19waXhlbHM7b3V0IHZlYzIgdl90ZXg7XFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9MSU5FX0dSQURJRU5UXFxudW5pZm9ybSBmbG9hdCB1X2ltYWdlX2hlaWdodDtcXG4jZW5kaWZcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgZmxvb3J3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IGRhc2hcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IGdhcHdpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9mZnNldFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCB3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBib3JkZXJfd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBib3JkZXJfY29sb3JcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgZmxvb3J3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgdmVjNCBkYXNoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCBnYXB3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb2Zmc2V0XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCB3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYm9yZGVyX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCB2ZWM0IGJvcmRlcl9jb2xvclxcbmZsb2F0IEFOVElBTElBU0lORz0xLjAvdV9kZXZpY2VfcGl4ZWxfcmF0aW8vMi4wO3ZlYzIgYV9leHRydWRlPWFfZGF0YS54eS0xMjguMDtmbG9hdCBhX2RpcmVjdGlvbj1tb2QoYV9kYXRhLnosNC4wKS0xLjA7dmVjMiBwb3M9Zmxvb3IoYV9wb3Nfbm9ybWFsKjAuNSk7bWVkaXVtcCB2ZWMyIG5vcm1hbD1hX3Bvc19ub3JtYWwtMi4wKnBvcztub3JtYWwueT1ub3JtYWwueSoyLjAtMS4wO3Zfbm9ybWFsPW5vcm1hbDtnYXB3aWR0aD1nYXB3aWR0aC8yLjA7ZmxvYXQgaGFsZndpZHRoPXdpZHRoLzIuMDtvZmZzZXQ9LTEuMCpvZmZzZXQ7ZmxvYXQgaW5zZXQ9Z2Fwd2lkdGgrKGdhcHdpZHRoID4gMC4wID8gQU5USUFMSUFTSU5HIDogMC4wKTtmbG9hdCBvdXRzZXQ9Z2Fwd2lkdGgraGFsZndpZHRoKihnYXB3aWR0aCA+IDAuMCA/IDIuMCA6IDEuMCkrKGhhbGZ3aWR0aD09MC4wID8gMC4wIDogQU5USUFMSUFTSU5HKTttZWRpdW1wIHZlYzIgZGlzdD1vdXRzZXQqYV9leHRydWRlKkVYVFJVREVfU0NBTEU7bWVkaXVtcCBmbG9hdCB1PTAuNSphX2RpcmVjdGlvbjttZWRpdW1wIGZsb2F0IHQ9MS4wLWFicyh1KTttZWRpdW1wIHZlYzIgb2Zmc2V0Mj1vZmZzZXQqYV9leHRydWRlKkVYVFJVREVfU0NBTEUqbm9ybWFsLnkqbWF0Mih0LC11LHUsdCk7dmVjNCBwcm9qZWN0ZWRfZXh0cnVkZT11X21hdHJpeCp2ZWM0KGRpc3QqdV9waXhlbHNfdG9fdGlsZV91bml0cywwLjAsMC4wKTtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KHBvcytvZmZzZXQyKnVfcGl4ZWxzX3RvX3RpbGVfdW5pdHMsMC4wLDEuMCkrcHJvamVjdGVkX2V4dHJ1ZGU7XFxuI2lmbmRlZiBSRU5ERVJfVE9fVEVYVFVSRVxcbmZsb2F0IGV4dHJ1ZGVfbGVuZ3RoX3dpdGhvdXRfcGVyc3BlY3RpdmU9bGVuZ3RoKGRpc3QpO2Zsb2F0IGV4dHJ1ZGVfbGVuZ3RoX3dpdGhfcGVyc3BlY3RpdmU9bGVuZ3RoKHByb2plY3RlZF9leHRydWRlLnh5L2dsX1Bvc2l0aW9uLncqdV91bml0c190b19waXhlbHMpO3ZfZ2FtbWFfc2NhbGU9ZXh0cnVkZV9sZW5ndGhfd2l0aG91dF9wZXJzcGVjdGl2ZS9leHRydWRlX2xlbmd0aF93aXRoX3BlcnNwZWN0aXZlO1xcbiNlbHNlXFxudl9nYW1tYV9zY2FsZT0xLjA7XFxuI2VuZGlmXFxuI2lmIGRlZmluZWQoUkVOREVSX0xJTkVfR1JBRElFTlQpIHx8IGRlZmluZWQoUkVOREVSX0xJTkVfVFJJTV9PRkZTRVQpXFxuZmxvYXQgYV91dl94PWFfcGFja2VkWzBdO2Zsb2F0IGFfc3BsaXRfaW5kZXg9YV9wYWNrZWRbMV07aGlnaHAgZmxvYXQgYV9jbGlwX3N0YXJ0PWFfcGFja2VkWzJdO2hpZ2hwIGZsb2F0IGFfY2xpcF9lbmQ9YV9wYWNrZWRbM107XFxuI2lmZGVmIFJFTkRFUl9MSU5FX0dSQURJRU5UXFxuaGlnaHAgZmxvYXQgdGV4ZWxfaGVpZ2h0PTEuMC91X2ltYWdlX2hlaWdodDtoaWdocCBmbG9hdCBoYWxmX3RleGVsX2hlaWdodD0wLjUqdGV4ZWxfaGVpZ2h0O3ZfdXY9dmVjNChhX3V2X3gsYV9zcGxpdF9pbmRleCp0ZXhlbF9oZWlnaHQtaGFsZl90ZXhlbF9oZWlnaHQsYV9jbGlwX3N0YXJ0LGFfY2xpcF9lbmQpO1xcbiNlbHNlXFxudl91dj12ZWM0KGFfdXZfeCwwLjAsYV9jbGlwX3N0YXJ0LGFfY2xpcF9lbmQpO1xcbiNlbmRpZlxcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfTElORV9EQVNIXFxuZmxvYXQgc2NhbGU9ZGFzaC56PT0wLjAgPyAwLjAgOiB1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzL2Rhc2guejtmbG9hdCBoZWlnaHQ9ZGFzaC55O3ZfdGV4PXZlYzIoYV9saW5lc29mYXIqc2NhbGUvZmxvb3J3aWR0aCwoLW5vcm1hbC55KmhlaWdodCtkYXNoLngrMC41KS91X3RleHNpemUueSk7XFxuI2VuZGlmXFxudl93aWR0aDI9dmVjMihvdXRzZXQsaW5zZXQpO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKHBvcyk7XFxuI2VuZGlmXFxufScpLGxpbmVQYXR0ZXJuOlpFKCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy5mcmFnbWVudC5nbHNsXCJcXG4jaW5jbHVkZSBcIl9wcmVsdWRlX2xpZ2h0aW5nLmdsc2xcIlxcbnVuaWZvcm0gbG93cCBmbG9hdCB1X2RldmljZV9waXhlbF9yYXRpbzt1bmlmb3JtIHZlYzIgdV90ZXhzaXplO3VuaWZvcm0gZmxvYXQgdV90aWxlX3VuaXRzX3RvX3BpeGVsczt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO2luIHZlYzIgdl9ub3JtYWw7aW4gdmVjMiB2X3dpZHRoMjtpbiBmbG9hdCB2X2xpbmVzb2ZhcjtpbiBmbG9hdCB2X2dhbW1hX3NjYWxlO2luIGZsb2F0IHZfd2lkdGg7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVyblxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxudmVjMiBwYXR0ZXJuX3RsPXBhdHRlcm4ueHk7dmVjMiBwYXR0ZXJuX2JyPXBhdHRlcm4uenc7dmVjMiBkaXNwbGF5X3NpemU9KHBhdHRlcm5fYnItcGF0dGVybl90bCkvcGl4ZWxfcmF0aW87dmVjMiBwYXR0ZXJuX3NpemU9dmVjMihkaXNwbGF5X3NpemUueC91X3RpbGVfdW5pdHNfdG9fcGl4ZWxzLGRpc3BsYXlfc2l6ZS55KTtmbG9hdCBhc3BlY3Q9ZGlzcGxheV9zaXplLnkvdl93aWR0aDtmbG9hdCBkaXN0PWxlbmd0aCh2X25vcm1hbCkqdl93aWR0aDIucztmbG9hdCBibHVyMj0oYmx1cisxLjAvdV9kZXZpY2VfcGl4ZWxfcmF0aW8pKnZfZ2FtbWFfc2NhbGU7ZmxvYXQgYWxwaGE9Y2xhbXAobWluKGRpc3QtKHZfd2lkdGgyLnQtYmx1cjIpLHZfd2lkdGgyLnMtZGlzdCkvYmx1cjIsMC4wLDEuMCk7ZmxvYXQgeD1tb2Qodl9saW5lc29mYXIvcGF0dGVybl9zaXplLngqYXNwZWN0LDEuMCk7ZmxvYXQgeT0wLjUqdl9ub3JtYWwueSswLjU7dmVjMiB0ZXhlbF9zaXplPTEuMC91X3RleHNpemU7dmVjMiBwb3M9bWl4KHBhdHRlcm5fdGwqdGV4ZWxfc2l6ZS10ZXhlbF9zaXplLHBhdHRlcm5fYnIqdGV4ZWxfc2l6ZSt0ZXhlbF9zaXplLHZlYzIoeCx5KSk7dmVjNCBjb2xvcj10ZXh0dXJlKHVfaW1hZ2UscG9zKTtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbmNvbG9yPWFwcGx5X2xpZ2h0aW5nX2dyb3VuZChjb2xvcik7XFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbmNvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQoY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuY29sb3IqPShhbHBoYSpvcGFjaXR5KTtcXG4jaWZkZWYgSU5ESUNBVE9SX0NVVE9VVFxcbmNvbG9yPWFwcGx5Q3V0b3V0KGNvbG9yKTtcXG4jZW5kaWZcXG5nbEZyYWdDb2xvcj1jb2xvcjtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xGcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbkhBTkRMRV9XSVJFRlJBTUVfREVCVUc7fScsJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLnZlcnRleC5nbHNsXCJcXG4jZGVmaW5lIHNjYWxlIDAuMDE1ODczMDE2XFxuaW4gdmVjMiBhX3Bvc19ub3JtYWw7aW4gdmVjNCBhX2RhdGE7aW4gZmxvYXQgYV9saW5lc29mYXI7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3VuaXRzX3RvX3BpeGVsczt1bmlmb3JtIG1hdDIgdV9waXhlbHNfdG9fdGlsZV91bml0czt1bmlmb3JtIGxvd3AgZmxvYXQgdV9kZXZpY2VfcGl4ZWxfcmF0aW87b3V0IHZlYzIgdl9ub3JtYWw7b3V0IHZlYzIgdl93aWR0aDI7b3V0IGZsb2F0IHZfbGluZXNvZmFyO291dCBmbG9hdCB2X2dhbW1hX3NjYWxlO291dCBmbG9hdCB2X3dpZHRoO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb2Zmc2V0XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IGdhcHdpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IHdpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGZsb29yd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb2Zmc2V0XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCBnYXB3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGZsb29yd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVyblxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9cXG5mbG9hdCBBTlRJQUxJQVNJTkc9MS4wL3VfZGV2aWNlX3BpeGVsX3JhdGlvLzIuMDt2ZWMyIGFfZXh0cnVkZT1hX2RhdGEueHktMTI4LjA7ZmxvYXQgYV9kaXJlY3Rpb249bW9kKGFfZGF0YS56LDQuMCktMS4wO3ZlYzIgcG9zPWZsb29yKGFfcG9zX25vcm1hbCowLjUpO21lZGl1bXAgdmVjMiBub3JtYWw9YV9wb3Nfbm9ybWFsLTIuMCpwb3M7bm9ybWFsLnk9bm9ybWFsLnkqMi4wLTEuMDt2X25vcm1hbD1ub3JtYWw7Z2Fwd2lkdGg9Z2Fwd2lkdGgvMi4wO2Zsb2F0IGhhbGZ3aWR0aD13aWR0aC8yLjA7b2Zmc2V0PS0xLjAqb2Zmc2V0O2Zsb2F0IGluc2V0PWdhcHdpZHRoKyhnYXB3aWR0aCA+IDAuMCA/IEFOVElBTElBU0lORyA6IDAuMCk7ZmxvYXQgb3V0c2V0PWdhcHdpZHRoK2hhbGZ3aWR0aCooZ2Fwd2lkdGggPiAwLjAgPyAyLjAgOiAxLjApKyhoYWxmd2lkdGg9PTAuMCA/IDAuMCA6IEFOVElBTElBU0lORyk7bWVkaXVtcCB2ZWMyIGRpc3Q9b3V0c2V0KmFfZXh0cnVkZSpzY2FsZTttZWRpdW1wIGZsb2F0IHU9MC41KmFfZGlyZWN0aW9uO21lZGl1bXAgZmxvYXQgdD0xLjAtYWJzKHUpO21lZGl1bXAgdmVjMiBvZmZzZXQyPW9mZnNldCphX2V4dHJ1ZGUqc2NhbGUqbm9ybWFsLnkqbWF0Mih0LC11LHUsdCk7dmVjNCBwcm9qZWN0ZWRfZXh0cnVkZT11X21hdHJpeCp2ZWM0KGRpc3QqdV9waXhlbHNfdG9fdGlsZV91bml0cywwLjAsMC4wKTtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KHBvcytvZmZzZXQyKnVfcGl4ZWxzX3RvX3RpbGVfdW5pdHMsMC4wLDEuMCkrcHJvamVjdGVkX2V4dHJ1ZGU7XFxuI2lmbmRlZiBSRU5ERVJfVE9fVEVYVFVSRVxcbmZsb2F0IGV4dHJ1ZGVfbGVuZ3RoX3dpdGhvdXRfcGVyc3BlY3RpdmU9bGVuZ3RoKGRpc3QpO2Zsb2F0IGV4dHJ1ZGVfbGVuZ3RoX3dpdGhfcGVyc3BlY3RpdmU9bGVuZ3RoKHByb2plY3RlZF9leHRydWRlLnh5L2dsX1Bvc2l0aW9uLncqdV91bml0c190b19waXhlbHMpO3ZfZ2FtbWFfc2NhbGU9ZXh0cnVkZV9sZW5ndGhfd2l0aG91dF9wZXJzcGVjdGl2ZS9leHRydWRlX2xlbmd0aF93aXRoX3BlcnNwZWN0aXZlO1xcbiNlbHNlXFxudl9nYW1tYV9zY2FsZT0xLjA7XFxuI2VuZGlmXFxudl9saW5lc29mYXI9YV9saW5lc29mYXI7dl93aWR0aDI9dmVjMihvdXRzZXQsaW5zZXQpO3Zfd2lkdGg9Zmxvb3J3aWR0aDtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihwb3MpO1xcbiNlbmRpZlxcbn0nKSxyYXN0ZXI6WkUoJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLmZyYWdtZW50Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfbGlnaHRpbmcuZ2xzbFwiXFxuI2luY2x1ZGUgXCJfcHJlbHVkZV9yYXN0ZXJfYXJyYXkuZ2xzbFwiXFxudW5pZm9ybSBmbG9hdCB1X2ZhZGVfdDt1bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfcmFzdGVyX2VsZXZhdGlvbjtpbiB2ZWMyIHZfcG9zMDtpbiB2ZWMyIHZfcG9zMTtpbiBmbG9hdCB2X2RlcHRoO3VuaWZvcm0gZmxvYXQgdV9icmlnaHRuZXNzX2xvdzt1bmlmb3JtIGZsb2F0IHVfYnJpZ2h0bmVzc19oaWdoO3VuaWZvcm0gZmxvYXQgdV9zYXR1cmF0aW9uX2ZhY3Rvcjt1bmlmb3JtIGZsb2F0IHVfY29udHJhc3RfZmFjdG9yO3VuaWZvcm0gdmVjMyB1X3NwaW5fd2VpZ2h0czt1bmlmb3JtIGZsb2F0IHVfZW1pc3NpdmVfc3RyZW5ndGg7XFxuI2lmbmRlZiBSQVNURVJfQVJSQVlcXG51bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlMDt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlMTtcXG4jZW5kaWZcXG4jaWZkZWYgUkFTVEVSX0NPTE9SXFxudW5pZm9ybSBzYW1wbGVyMkQgdV9jb2xvcl9yYW1wO3VuaWZvcm0gaGlnaHAgdmVjNCB1X2NvbG9yaXphdGlvbl9taXg7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2NvbG9yaXphdGlvbl9vZmZzZXQ7dW5pZm9ybSB2ZWMyIHVfdGV4dHVyZV9yZXM7XFxuI2VuZGlmXFxudm9pZCBtYWluKCkge3ZlYzQgY29sb3IwLGNvbG9yMSxjb2xvcjt2ZWMyIHZhbHVlO1xcbiNpZmRlZiBSQVNURVJfQ09MT1JcXG4jaWZkZWYgUkFTVEVSX0FSUkFZXFxuI2lmZGVmIFJBU1RFUl9BUlJBWV9MSU5FQVJcXG52YWx1ZT1taXgoXFxucmFUZXh0dXJlMkRfaW1hZ2UwX2xpbmVhcih2X3BvczAsdV90ZXh0dXJlX3Jlcyx1X2NvbG9yaXphdGlvbl9taXgsdV9jb2xvcml6YXRpb25fb2Zmc2V0KSxyYVRleHR1cmUyRF9pbWFnZTFfbGluZWFyKHZfcG9zMSx1X3RleHR1cmVfcmVzLHVfY29sb3JpemF0aW9uX21peCx1X2NvbG9yaXphdGlvbl9vZmZzZXQpLHVfZmFkZV90XFxuKTtcXG4jZWxzZVxcbnZhbHVlPW1peChcXG5yYVRleHR1cmUyRF9pbWFnZTBfbmVhcmVzdCh2X3BvczAsdV90ZXh0dXJlX3Jlcyx1X2NvbG9yaXphdGlvbl9taXgsdV9jb2xvcml6YXRpb25fb2Zmc2V0KSxyYVRleHR1cmUyRF9pbWFnZTFfbmVhcmVzdCh2X3BvczEsdV90ZXh0dXJlX3Jlcyx1X2NvbG9yaXphdGlvbl9taXgsdV9jb2xvcml6YXRpb25fb2Zmc2V0KSx1X2ZhZGVfdFxcbik7XFxuI2VuZGlmXFxuaWYgKHZhbHVlLnkgPiAwLjApIHZhbHVlLngvPXZhbHVlLnk7XFxuI2Vsc2VcXG5jb2xvcj1taXgodGV4dHVyZSh1X2ltYWdlMCx2X3BvczApLHRleHR1cmUodV9pbWFnZTEsdl9wb3MxKSx1X2ZhZGVfdCk7dmFsdWU9dmVjMih1X2NvbG9yaXphdGlvbl9vZmZzZXQrZG90KGNvbG9yLnJnYix1X2NvbG9yaXphdGlvbl9taXgucmdiKSxjb2xvci5hKTtcXG4jZW5kaWZcXG5jb2xvcj10ZXh0dXJlKHVfY29sb3JfcmFtcCx2ZWMyKHZhbHVlLngsMC41KSk7aWYgKGNvbG9yLmEgPiAwLjApIGNvbG9yLnJnYi89Y29sb3IuYTtjb2xvci5hKj12YWx1ZS55O1xcbiNlbHNlXFxuY29sb3IwPXRleHR1cmUodV9pbWFnZTAsdl9wb3MwKTtjb2xvcjE9dGV4dHVyZSh1X2ltYWdlMSx2X3BvczEpO2lmIChjb2xvcjAuYSA+IDAuMCkgY29sb3IwLnJnYi89Y29sb3IwLmE7aWYgKGNvbG9yMS5hID4gMC4wKSBjb2xvcjEucmdiLz1jb2xvcjEuYTtjb2xvcj1taXgoY29sb3IwLGNvbG9yMSx1X2ZhZGVfdCk7XFxuI2VuZGlmXFxuY29sb3IuYSo9dV9vcGFjaXR5O3ZlYzMgcmdiPWNvbG9yLnJnYjtyZ2I9dmVjMyhcXG5kb3QocmdiLHVfc3Bpbl93ZWlnaHRzLnh5eiksZG90KHJnYix1X3NwaW5fd2VpZ2h0cy56eHkpLGRvdChyZ2IsdV9zcGluX3dlaWdodHMueXp4KSk7ZmxvYXQgYXZlcmFnZT0oY29sb3Iucitjb2xvci5nK2NvbG9yLmIpLzMuMDtyZ2IrPShhdmVyYWdlLXJnYikqdV9zYXR1cmF0aW9uX2ZhY3RvcjtyZ2I9KHJnYi0wLjUpKnVfY29udHJhc3RfZmFjdG9yKzAuNTt2ZWMzIHVfaGlnaF92ZWM9dmVjMyh1X2JyaWdodG5lc3NfbG93LHVfYnJpZ2h0bmVzc19sb3csdV9icmlnaHRuZXNzX2xvdyk7dmVjMyB1X2xvd192ZWM9dmVjMyh1X2JyaWdodG5lc3NfaGlnaCx1X2JyaWdodG5lc3NfaGlnaCx1X2JyaWdodG5lc3NfaGlnaCk7dmVjMyBvdXRfY29sb3I9bWl4KHVfaGlnaF92ZWMsdV9sb3dfdmVjLHJnYik7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG5vdXRfY29sb3I9YXBwbHlfbGlnaHRpbmdfd2l0aF9lbWlzc2lvbl9ncm91bmQodmVjNChvdXRfY29sb3IsMS4wKSx1X2VtaXNzaXZlX3N0cmVuZ3RoKS5yZ2I7XFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbmhpZ2hwIGZsb2F0IGZvZ19saW1pdF9oaWdoX21ldGVycz0xMDAwMDAwLjA7aGlnaHAgZmxvYXQgZm9nX2xpbWl0X2xvd19tZXRlcnM9NjAwMDAwLjA7ZmxvYXQgZm9nX2xpbWl0PTEuMC1zbW9vdGhzdGVwKGZvZ19saW1pdF9sb3dfbWV0ZXJzLGZvZ19saW1pdF9oaWdoX21ldGVycyx1X3Jhc3Rlcl9lbGV2YXRpb24pO291dF9jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseShvdXRfY29sb3Isdl9mb2dfcG9zLGZvZ19saW1pdCkpO1xcbiNlbmRpZlxcbmdsRnJhZ0NvbG9yPXZlYzQob3V0X2NvbG9yKmNvbG9yLmEsY29sb3IuYSk7XFxuI2lmZGVmIFJFTkRFUl9DVVRPRkZcXG5nbEZyYWdDb2xvcj1nbEZyYWdDb2xvcipjdXRvZmZfb3BhY2l0eSh1X2N1dG9mZl9wYXJhbXMsdl9kZXB0aCk7XFxuI2VuZGlmXFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG5IQU5ETEVfV0lSRUZSQU1FX0RFQlVHO30nLCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy52ZXJ0ZXguZ2xzbFwiXFxudW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X25vcm1hbGl6ZV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfZ2xvYmVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X21lcmNfbWF0cml4O3VuaWZvcm0gbWF0MyB1X2dyaWRfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3RsX3BhcmVudDt1bmlmb3JtIGZsb2F0IHVfc2NhbGVfcGFyZW50O3VuaWZvcm0gdmVjMiB1X3BlcnNwZWN0aXZlX3RyYW5zZm9ybTt1bmlmb3JtIHZlYzIgdV90ZXh0dXJlX29mZnNldDt1bmlmb3JtIGZsb2F0IHVfcmFzdGVyX2VsZXZhdGlvbjt1bmlmb3JtIHZlYzQgdV90bF9icjt1bmlmb3JtIGZsb2F0IHVfem9vbV90cmFuc2l0aW9uO3VuaWZvcm0gdmVjMiB1X21lcmNfY2VudGVyO1xcbiNkZWZpbmUgR0xPQkVfVVBTQ0FMRSBHTE9CRV9SQURJVVMvNjM3MTAwOC44O1xcbiNpZmRlZiBHTE9CRV9QT0xFU1xcbmluIHZlYzMgYV9nbG9iZV9wb3M7aW4gdmVjMiBhX3V2O1xcbiNlbGlmIGRlZmluZWQoUFJPSkVDVElPTl9HTE9CRV9WSUVXKVxcbmluIHZlYzIgYV9wb3M7XFxuI2Vsc2VcXG5pbiB2ZWMyIGFfcG9zO2luIHZlYzIgYV90ZXh0dXJlX3BvcztcXG4jZW5kaWZcXG5vdXQgdmVjMiB2X3BvczA7b3V0IHZlYzIgdl9wb3MxO291dCBmbG9hdCB2X2RlcHRoO3ZvaWQgbWFpbigpIHt2ZWMyIHV2O1xcbiNpZmRlZiBHTE9CRV9QT0xFU1xcbnZlYzMgZ2xvYmVfcG9zPWFfZ2xvYmVfcG9zO2dsb2JlX3Bvcys9bm9ybWFsaXplKGdsb2JlX3BvcykqdV9yYXN0ZXJfZWxldmF0aW9uKkdMT0JFX1VQU0NBTEU7Z2xfUG9zaXRpb249dV9tYXRyaXgqdV9nbG9iZV9tYXRyaXgqdmVjNChnbG9iZV9wb3MgICAsMS4wKTt1dj1hX3V2O1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKCh1X25vcm1hbGl6ZV9tYXRyaXgqdmVjNChhX2dsb2JlX3BvcywxLjApKS54eXopO1xcbiNlbmRpZlxcbiNlbHNlXFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZlYzMgZGVjb21wb3NlZF9wb3NfYW5kX3NraXJ0PWRlY29tcG9zZVRvUG9zQW5kU2tpcnQoYV9wb3MpO3ZlYzMgbGF0TG5nPXVfZ3JpZF9tYXRyaXgqdmVjMyhkZWNvbXBvc2VkX3Bvc19hbmRfc2tpcnQueHksMS4wKTt2ZWMyIGdsb2JlX3RsPXZlYzIodV90bF9ici54LHVfdGxfYnIueSk7dmVjMiBnbG9iZV9icj12ZWMyKHVfdGxfYnIueix1X3RsX2JyLncpO2Zsb2F0IG1lcmNhdG9yWT1tZXJjYXRvcllmcm9tTGF0KGxhdExuZ1swXSk7ZmxvYXQgdXZZPTEuMC0oKG1lcmNhdG9yWS1nbG9iZV9ici55KS8oZ2xvYmVfdGwueS1nbG9iZV9ici55KSk7ZmxvYXQgbWVyY2F0b3JYPW1lcmNhdG9yWGZyb21MbmcobGF0TG5nWzFdKTtmbG9hdCB1dlg9KG1lcmNhdG9yWC1nbG9iZV9ici54KS8oZ2xvYmVfdGwueC1nbG9iZV9ici54KTt2ZWMzIGdsb2JlX3Bvcz1sYXRMbmdUb0VDRUYobGF0TG5nLnh5KTt2ZWMyIG1lcmNfcG9zPXZlYzIobWVyY2F0b3JYLG1lcmNhdG9yWSk7dXY9dmVjMih1dlgsdXZZKTtnbG9iZV9wb3MrPW5vcm1hbGl6ZShnbG9iZV9wb3MpKnVfcmFzdGVyX2VsZXZhdGlvbipHTE9CRV9VUFNDQUxFO3ZlYzQgZ2xvYmVfd29ybGRfcG9zPXVfZ2xvYmVfbWF0cml4KnZlYzQoZ2xvYmVfcG9zLDEuMCk7dmVjNCBtZXJjX3dvcmxkX3Bvcz12ZWM0KDAuMCk7aWYgKHVfem9vbV90cmFuc2l0aW9uID4gMC4wKSB7bWVyY193b3JsZF9wb3M9dmVjNChtZXJjX3Bvcyx1X3Jhc3Rlcl9lbGV2YXRpb24sMS4wKTttZXJjX3dvcmxkX3Bvcy54eS09dV9tZXJjX2NlbnRlcjttZXJjX3dvcmxkX3Bvcy54PXdyYXAobWVyY193b3JsZF9wb3MueCwtMC41LDAuNSk7bWVyY193b3JsZF9wb3M9dV9tZXJjX21hdHJpeCptZXJjX3dvcmxkX3Bvczt9dmVjNCBpbnRlcnBvbGF0ZWRfcG9zPXZlYzQobWl4KGdsb2JlX3dvcmxkX3Bvcy54eXosbWVyY193b3JsZF9wb3MueHl6LHVfem9vbV90cmFuc2l0aW9uKSwxLjApO2dsX1Bvc2l0aW9uPXVfbWF0cml4KmludGVycG9sYXRlZF9wb3M7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24oKHVfbm9ybWFsaXplX21hdHJpeCp2ZWM0KGdsb2JlX3BvcywxLjApKS54eXopO1xcbiNlbmRpZlxcbiNlbHNlXFxuZmxvYXQgdz0xLjArZG90KGFfdGV4dHVyZV9wb3MsdV9wZXJzcGVjdGl2ZV90cmFuc2Zvcm0pO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3Mqdyx1X3Jhc3Rlcl9lbGV2YXRpb24sdyk7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24oYV9wb3MpO1xcbiNlbmRpZlxcbnV2PWFfdGV4dHVyZV9wb3MvODE5Mi4wO1xcbiNlbmRpZlxcbiNlbmRpZlxcbnZfcG9zMD11djt2X3BvczE9KHZfcG9zMCp1X3NjYWxlX3BhcmVudCkrdV90bF9wYXJlbnQ7dl9wb3MwPXVfdGV4dHVyZV9vZmZzZXQueCt1X3RleHR1cmVfb2Zmc2V0Lnkqdl9wb3MwO3ZfcG9zMT11X3RleHR1cmVfb2Zmc2V0LngrdV90ZXh0dXJlX29mZnNldC55KnZfcG9zMTtcXG4jaWZkZWYgUkVOREVSX0NVVE9GRlxcbnZfZGVwdGg9Z2xfUG9zaXRpb24uejtcXG4jZW5kaWZcXG59Jyksc3ltYm9sSWNvbjpaRSgnI2luY2x1ZGUgXCJfcHJlbHVkZV9saWdodGluZy5nbHNsXCJcXG51bmlmb3JtIHNhbXBsZXIyRCB1X3RleHR1cmU7XFxuI2lmZGVmIElDT05fVFJBTlNJVElPTlxcbnVuaWZvcm0gZmxvYXQgdV9pY29uX3RyYW5zaXRpb247XFxuI2VuZGlmXFxuaW4gZmxvYXQgdl9mYWRlX29wYWNpdHk7aW4gdmVjMiB2X3RleF9hO1xcbiNpZmRlZiBJQ09OX1RSQU5TSVRJT05cXG5pbiB2ZWMyIHZfdGV4X2I7XFxuI2VuZGlmXFxudW5pZm9ybSBtZWRpdW1wIGZsb2F0IHVfaWNvbl9zYXR1cmF0aW9uO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGVtaXNzaXZlX3N0cmVuZ3RoXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgZW1pc3NpdmVfc3RyZW5ndGhcXG5sb3dwIGZsb2F0IGFscGhhPW9wYWNpdHkqdl9mYWRlX29wYWNpdHk7dmVjNCBvdXRfY29sb3I7XFxuI2lmZGVmIElDT05fVFJBTlNJVElPTlxcbnZlYzQgYT10ZXh0dXJlKHVfdGV4dHVyZSx2X3RleF9hKSooMS4wLXVfaWNvbl90cmFuc2l0aW9uKTt2ZWM0IGI9dGV4dHVyZSh1X3RleHR1cmUsdl90ZXhfYikqdV9pY29uX3RyYW5zaXRpb247b3V0X2NvbG9yPShhK2IpKmFscGhhO1xcbiNlbHNlXFxub3V0X2NvbG9yPXRleHR1cmUodV90ZXh0dXJlLHZfdGV4X2EpKmFscGhhO1xcbiNlbmRpZlxcbiNpZmRlZiBTQVRVUkFUSU9OXFxudmVjMyBsdW1hPXZlYzMoZG90KG91dF9jb2xvci5yZ2IsdmVjMygwLjIxMjYsMC43MTUyLDAuMDcyMikpKTtvdXRfY29sb3IucmdiPW1peChsdW1hLG91dF9jb2xvci5yZ2IsdV9pY29uX3NhdHVyYXRpb24pO1xcbiNlbmRpZlxcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxub3V0X2NvbG9yPWFwcGx5X2xpZ2h0aW5nX3dpdGhfZW1pc3Npb25fZ3JvdW5kKG91dF9jb2xvcixlbWlzc2l2ZV9zdHJlbmd0aCk7XFxuI2VuZGlmXFxuZ2xGcmFnQ29sb3I9b3V0X2NvbG9yO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbEZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxuSEFORExFX1dJUkVGUkFNRV9ERUJVRzt9JywnI2luY2x1ZGUgXCJfcHJlbHVkZV90ZXJyYWluLnZlcnRleC5nbHNsXCJcXG5pbiB2ZWM0IGFfcG9zX29mZnNldDtpbiB2ZWM0IGFfdGV4X3NpemU7aW4gdmVjNCBhX3BpeGVsb2Zmc2V0O2luIHZlYzQgYV9wcm9qZWN0ZWRfcG9zO2luIGZsb2F0IGFfZmFkZV9vcGFjaXR5O1xcbiNpZmRlZiBaX09GRlNFVFxcbmluIGZsb2F0IGFfel9vZmZzZXQ7XFxuI2VuZGlmXFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmluIHZlYzMgYV9nbG9iZV9hbmNob3I7aW4gdmVjMyBhX2dsb2JlX25vcm1hbDtcXG4jZW5kaWZcXG4jaWZkZWYgSUNPTl9UUkFOU0lUSU9OXFxuaW4gdmVjMiBhX3RleGI7XFxuI2VuZGlmXFxudW5pZm9ybSBib29sIHVfaXNfc2l6ZV96b29tX2NvbnN0YW50O3VuaWZvcm0gYm9vbCB1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc2l6ZV90O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9zaXplO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlO3VuaWZvcm0gYm9vbCB1X3JvdGF0ZV9zeW1ib2w7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2FzcGVjdF9yYXRpbzt1bmlmb3JtIGZsb2F0IHVfZmFkZV9jaGFuZ2U7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X2xhYmVsX3BsYW5lX21hdHJpeDt1bmlmb3JtIG1hdDQgdV9jb29yZF9tYXRyaXg7dW5pZm9ybSBib29sIHVfaXNfdGV4dDt1bmlmb3JtIGJvb2wgdV9waXRjaF93aXRoX21hcDt1bmlmb3JtIHZlYzIgdV90ZXhzaXplO3VuaWZvcm0gdmVjMyB1X3VwX3ZlY3RvcjtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudW5pZm9ybSB2ZWMzIHVfdGlsZV9pZDt1bmlmb3JtIG1hdDQgdV9pbnZfcm90X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9tZXJjX2NlbnRlcjt1bmlmb3JtIHZlYzMgdV9jYW1lcmFfZm9yd2FyZDt1bmlmb3JtIGZsb2F0IHVfem9vbV90cmFuc2l0aW9uO3VuaWZvcm0gdmVjMyB1X2VjZWZfb3JpZ2luO3VuaWZvcm0gbWF0NCB1X3RpbGVfbWF0cml4O1xcbiNlbmRpZlxcbm91dCB2ZWMyIHZfdGV4X2E7XFxuI2lmZGVmIElDT05fVFJBTlNJVElPTlxcbm91dCB2ZWMyIHZfdGV4X2I7XFxuI2VuZGlmXFxub3V0IGZsb2F0IHZfZmFkZV9vcGFjaXR5O1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGVtaXNzaXZlX3N0cmVuZ3RoXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgZW1pc3NpdmVfc3RyZW5ndGhcXG52ZWMyIGFfcG9zPWFfcG9zX29mZnNldC54eTt2ZWMyIGFfb2Zmc2V0PWFfcG9zX29mZnNldC56dzt2ZWMyIGFfdGV4PWFfdGV4X3NpemUueHk7dmVjMiBhX3NpemU9YV90ZXhfc2l6ZS56dztmbG9hdCBhX3NpemVfbWluPWZsb29yKGFfc2l6ZVswXSowLjUpO3ZlYzIgYV9weG9mZnNldD1hX3BpeGVsb2Zmc2V0Lnh5O3ZlYzIgYV9taW5fZm9udF9zY2FsZT1hX3BpeGVsb2Zmc2V0Lnp3LzI1Ni4wO2hpZ2hwIGZsb2F0IHNlZ21lbnRfYW5nbGU9LWFfcHJvamVjdGVkX3Bvc1szXTtmbG9hdCBzaXplO2lmICghdV9pc19zaXplX3pvb21fY29uc3RhbnQgJiYgIXVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50KSB7c2l6ZT1taXgoYV9zaXplX21pbixhX3NpemVbMV0sdV9zaXplX3QpLzEyOC4wO30gZWxzZSBpZiAodV9pc19zaXplX3pvb21fY29uc3RhbnQgJiYgIXVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50KSB7c2l6ZT1hX3NpemVfbWluLzEyOC4wO30gZWxzZSB7c2l6ZT11X3NpemU7fXZlYzIgdGlsZV9hbmNob3I9YV9wb3M7ZmxvYXQgZT1lbGV2YXRpb24odGlsZV9hbmNob3IpO1xcbiNpZmRlZiBaX09GRlNFVFxcbmUrPWFfel9vZmZzZXQ7XFxuI2VuZGlmXFxudmVjMyBoPWVsZXZhdGlvblZlY3Rvcih0aWxlX2FuY2hvcikqZTtmbG9hdCBnbG9iZV9vY2NsdXNpb25fZmFkZTt2ZWMzIHdvcmxkX3Bvczt2ZWMzIG1lcmNhdG9yX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxubWVyY2F0b3JfcG9zPW1lcmNhdG9yX3RpbGVfcG9zaXRpb24odV9pbnZfcm90X21hdHJpeCx0aWxlX2FuY2hvcix1X3RpbGVfaWQsdV9tZXJjX2NlbnRlcik7d29ybGRfcG9zPW1peF9nbG9iZV9tZXJjYXRvcihhX2dsb2JlX2FuY2hvcitoLG1lcmNhdG9yX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7dmVjNCBlY2VmX3BvaW50PXVfdGlsZV9tYXRyaXgqdmVjNCh3b3JsZF9wb3MsMS4wKTt2ZWMzIG9yaWdpbl90b19wb2ludD1lY2VmX3BvaW50Lnh5ei11X2VjZWZfb3JpZ2luO2dsb2JlX29jY2x1c2lvbl9mYWRlPWRvdChvcmlnaW5fdG9fcG9pbnQsdV9jYW1lcmFfZm9yd2FyZCkgPj0wLjAgPyAwLjAgOiAxLjA7XFxuI2Vsc2VcXG53b3JsZF9wb3M9dmVjMyh0aWxlX2FuY2hvciwwKStoO2dsb2JlX29jY2x1c2lvbl9mYWRlPTEuMDtcXG4jZW5kaWZcXG52ZWM0IHByb2plY3RlZF9wb2ludD11X21hdHJpeCp2ZWM0KHdvcmxkX3BvcywxKTtoaWdocCBmbG9hdCBjYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlPXByb2plY3RlZF9wb2ludC53O2hpZ2hwIGZsb2F0IGRpc3RhbmNlX3JhdGlvPXVfcGl0Y2hfd2l0aF9tYXAgP1xcbmNhbWVyYV90b19hbmNob3JfZGlzdGFuY2UvdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlIDpcXG51X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UvY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZTtoaWdocCBmbG9hdCBwZXJzcGVjdGl2ZV9yYXRpbz1jbGFtcChcXG4wLjUrMC41KmRpc3RhbmNlX3JhdGlvLDAuMCwxLjUpO3NpemUqPXBlcnNwZWN0aXZlX3JhdGlvO2Zsb2F0IGZvbnRfc2NhbGU9dV9pc190ZXh0ID8gc2l6ZS8yNC4wIDogc2l6ZTtoaWdocCBmbG9hdCBzeW1ib2xfcm90YXRpb249MC4wO2lmICh1X3JvdGF0ZV9zeW1ib2wpIHt2ZWM0IG9mZnNldFByb2plY3RlZF9wb2ludDtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyBkaXNwbGFjZW1lbnQ9dmVjMyhhX2dsb2JlX25vcm1hbC56LDAsLWFfZ2xvYmVfbm9ybWFsLngpO29mZnNldFByb2plY3RlZF9wb2ludD11X21hdHJpeCp2ZWM0KGFfZ2xvYmVfYW5jaG9yK2Rpc3BsYWNlbWVudCwxKTtcXG4jZWxzZVxcbm9mZnNldFByb2plY3RlZF9wb2ludD11X21hdHJpeCp2ZWM0KHRpbGVfYW5jaG9yK3ZlYzIoMSwwKSwwLDEpO1xcbiNlbmRpZlxcbnZlYzIgYT1wcm9qZWN0ZWRfcG9pbnQueHkvcHJvamVjdGVkX3BvaW50Lnc7dmVjMiBiPW9mZnNldFByb2plY3RlZF9wb2ludC54eS9vZmZzZXRQcm9qZWN0ZWRfcG9pbnQudztzeW1ib2xfcm90YXRpb249YXRhbigoYi55LWEueSkvdV9hc3BlY3RfcmF0aW8sYi54LWEueCk7fXZlYzQgcHJvamVjdGVkX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyBwcm9qX3Bvcz1taXhfZ2xvYmVfbWVyY2F0b3IoYV9wcm9qZWN0ZWRfcG9zLnh5eitoLG1lcmNhdG9yX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7cHJvamVjdGVkX3Bvcz11X2xhYmVsX3BsYW5lX21hdHJpeCp2ZWM0KHByb2pfcG9zLDEuMCk7XFxuI2Vsc2VcXG5wcm9qZWN0ZWRfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4KnZlYzQoYV9wcm9qZWN0ZWRfcG9zLnh5LGgueiwxLjApO1xcbiNlbmRpZlxcbmhpZ2hwIGZsb2F0IGFuZ2xlX3Npbj1zaW4oc2VnbWVudF9hbmdsZStzeW1ib2xfcm90YXRpb24pO2hpZ2hwIGZsb2F0IGFuZ2xlX2Nvcz1jb3Moc2VnbWVudF9hbmdsZStzeW1ib2xfcm90YXRpb24pO21hdDIgcm90YXRpb25fbWF0cml4PW1hdDIoYW5nbGVfY29zLC0xLjAqYW5nbGVfc2luLGFuZ2xlX3NpbixhbmdsZV9jb3MpO2Zsb2F0IHo9MC4wO3ZlYzIgb2Zmc2V0PXJvdGF0aW9uX21hdHJpeCooYV9vZmZzZXQvMzIuMCptYXgoYV9taW5fZm9udF9zY2FsZSxmb250X3NjYWxlKSthX3B4b2Zmc2V0LzE2LjApO1xcbiNpZmRlZiBURVJSQUlOXFxuI2lmZGVmIFBJVENIX1dJVEhfTUFQX1RFUlJBSU5cXG52ZWM0IHRpbGVfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4X2ludip2ZWM0KGFfcHJvamVjdGVkX3Bvcy54eStvZmZzZXQsMC4wLDEuMCk7ej1lbGV2YXRpb24odGlsZV9wb3MueHkpO1xcbiNlbmRpZlxcbiNlbmRpZlxcbmZsb2F0IG9jY2x1c2lvbl9mYWRlPW9jY2x1c2lvbkZhZGUocHJvamVjdGVkX3BvaW50KSpnbG9iZV9vY2NsdXNpb25fZmFkZTtmbG9hdCBwcm9qZWN0aW9uX3RyYW5zaXRpb25fZmFkZT0xLjA7XFxuI2lmIGRlZmluZWQoUFJPSkVDVEVEX1BPU19PTl9WSUVXUE9SVCkgJiYgZGVmaW5lZChQUk9KRUNUSU9OX0dMT0JFX1ZJRVcpXFxucHJvamVjdGlvbl90cmFuc2l0aW9uX2ZhZGU9MS4wLXN0ZXAoRVBTSUxPTix1X3pvb21fdHJhbnNpdGlvbik7XFxuI2VuZGlmXFxudmVjMiBmYWRlX29wYWNpdHk9dW5wYWNrX29wYWNpdHkoYV9mYWRlX29wYWNpdHkpO2Zsb2F0IGZhZGVfY2hhbmdlPWZhZGVfb3BhY2l0eVsxXSA+IDAuNSA/IHVfZmFkZV9jaGFuZ2UgOi11X2ZhZGVfY2hhbmdlO2Zsb2F0IG91dF9mYWRlX29wYWNpdHk9bWF4KDAuMCxtaW4ob2NjbHVzaW9uX2ZhZGUsZmFkZV9vcGFjaXR5WzBdK2ZhZGVfY2hhbmdlKSkqcHJvamVjdGlvbl90cmFuc2l0aW9uX2ZhZGU7ZmxvYXQgYWxwaGE9b3BhY2l0eSpvdXRfZmFkZV9vcGFjaXR5O2Zsb2F0IGhpZGRlbj1mbG9hdChhbHBoYT09MC4wIHx8IHByb2plY3RlZF9wb2ludC53IDw9MC4wIHx8IG9jY2x1c2lvbl9mYWRlPT0wLjApO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG52ZWMzIHhBeGlzPXVfcGl0Y2hfd2l0aF9tYXAgPyBub3JtYWxpemUoY3Jvc3MoYV9nbG9iZV9ub3JtYWwsdV91cF92ZWN0b3IpKSA6IHZlYzMoMSwwLDApO3ZlYzMgeUF4aXM9dV9waXRjaF93aXRoX21hcCA/IG5vcm1hbGl6ZShjcm9zcyhhX2dsb2JlX25vcm1hbCx4QXhpcykpIDogdmVjMygwLDEsMCk7Z2xfUG9zaXRpb249bWl4KHVfY29vcmRfbWF0cml4KnZlYzQocHJvamVjdGVkX3Bvcy54eXovcHJvamVjdGVkX3Bvcy53K3hBeGlzKm9mZnNldC54K3lBeGlzKm9mZnNldC55LDEuMCksQVdBWSxoaWRkZW4pO1xcbiNlbHNlXFxuZ2xfUG9zaXRpb249bWl4KHVfY29vcmRfbWF0cml4KnZlYzQocHJvamVjdGVkX3Bvcy54eS9wcm9qZWN0ZWRfcG9zLncrb2Zmc2V0LHosMS4wKSxBV0FZLGhpZGRlbik7XFxuI2VuZGlmXFxudl90ZXhfYT1hX3RleC91X3RleHNpemU7XFxuI2lmZGVmIElDT05fVFJBTlNJVElPTlxcbnZfdGV4X2I9YV90ZXhiL3VfdGV4c2l6ZTtcXG4jZW5kaWZcXG52X2ZhZGVfb3BhY2l0eT1vdXRfZmFkZV9vcGFjaXR5O30nKSxzeW1ib2xTREY6WkUoJyNpbmNsdWRlIFwiX3ByZWx1ZGVfbGlnaHRpbmcuZ2xzbFwiXFxuI2RlZmluZSBTREZfUFggOC4wXFxudW5pZm9ybSBzYW1wbGVyMkQgdV90ZXh0dXJlO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9nYW1tYV9zY2FsZTt1bmlmb3JtIGxvd3AgZmxvYXQgdV9kZXZpY2VfcGl4ZWxfcmF0aW87dW5pZm9ybSBib29sIHVfaXNfdGV4dDt1bmlmb3JtIGJvb2wgdV9pc19oYWxvO2luIGZsb2F0IHZfZHJhd19oYWxvO2luIHZlYzIgdl9kYXRhMDtpbiB2ZWMzIHZfZGF0YTE7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGZpbGxfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGVtaXNzaXZlX3N0cmVuZ3RoXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb193aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBlbWlzc2l2ZV9zdHJlbmd0aFxcbmZsb2F0IEVER0VfR0FNTUE9MC4xMDUvdV9kZXZpY2VfcGl4ZWxfcmF0aW87dmVjMiB0ZXg9dl9kYXRhMC54eTtmbG9hdCBnYW1tYV9zY2FsZT12X2RhdGExLng7ZmxvYXQgc2l6ZT12X2RhdGExLnk7ZmxvYXQgZmFkZV9vcGFjaXR5PXZfZGF0YTFbMl07ZmxvYXQgZm9udFNjYWxlPXVfaXNfdGV4dCA/IHNpemUvMjQuMCA6IHNpemU7bG93cCB2ZWM0IGNvbG9yPWZpbGxfY29sb3I7aGlnaHAgZmxvYXQgZ2FtbWE9RURHRV9HQU1NQS8oZm9udFNjYWxlKnVfZ2FtbWFfc2NhbGUpO2xvd3AgZmxvYXQgYnVmZj0oMjU2LjAtNjQuMCkvMjU2LjA7Ym9vbCBkcmF3X2hhbG89dl9kcmF3X2hhbG8gPiAwLjA7aWYgKGRyYXdfaGFsbykge2NvbG9yPWhhbG9fY29sb3I7Z2FtbWE9KGhhbG9fYmx1cioxLjE5L1NERl9QWCtFREdFX0dBTU1BKS8oZm9udFNjYWxlKnVfZ2FtbWFfc2NhbGUpO2J1ZmY9KDYuMC1oYWxvX3dpZHRoL2ZvbnRTY2FsZSkvU0RGX1BYO31sb3dwIGZsb2F0IGRpc3Q9dGV4dHVyZSh1X3RleHR1cmUsdGV4KS5hO2hpZ2hwIGZsb2F0IGdhbW1hX3NjYWxlZD1nYW1tYSpnYW1tYV9zY2FsZTtoaWdocCBmbG9hdCBhbHBoYT1zbW9vdGhzdGVwKGJ1ZmYtZ2FtbWFfc2NhbGVkLGJ1ZmYrZ2FtbWFfc2NhbGVkLGRpc3QpO3ZlYzQgb3V0X2NvbG9yPWNvbG9yKihhbHBoYSpvcGFjaXR5KmZhZGVfb3BhY2l0eSk7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG5vdXRfY29sb3I9YXBwbHlfbGlnaHRpbmdfd2l0aF9lbWlzc2lvbl9ncm91bmQob3V0X2NvbG9yLGVtaXNzaXZlX3N0cmVuZ3RoKTtcXG4jZW5kaWZcXG5nbEZyYWdDb2xvcj1vdXRfY29sb3I7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG5IQU5ETEVfV0lSRUZSQU1FX0RFQlVHO30nLCcjaW5jbHVkZSBcIl9wcmVsdWRlX3RlcnJhaW4udmVydGV4Lmdsc2xcIlxcbmluIHZlYzQgYV9wb3Nfb2Zmc2V0O2luIHZlYzQgYV90ZXhfc2l6ZTtpbiB2ZWM0IGFfcGl4ZWxvZmZzZXQ7aW4gdmVjNCBhX3Byb2plY3RlZF9wb3M7aW4gZmxvYXQgYV9mYWRlX29wYWNpdHk7XFxuI2lmZGVmIFpfT0ZGU0VUXFxuaW4gZmxvYXQgYV96X29mZnNldDtcXG4jZW5kaWZcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxuaW4gdmVjMyBhX2dsb2JlX2FuY2hvcjtpbiB2ZWMzIGFfZ2xvYmVfbm9ybWFsO1xcbiNlbmRpZlxcbnVuaWZvcm0gYm9vbCB1X2lzX3NpemVfem9vbV9jb25zdGFudDt1bmlmb3JtIGJvb2wgdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3NpemVfdDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc2l6ZTt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfbGFiZWxfcGxhbmVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X2Nvb3JkX21hdHJpeDt1bmlmb3JtIGJvb2wgdV9pc190ZXh0O3VuaWZvcm0gYm9vbCB1X3BpdGNoX3dpdGhfbWFwO3VuaWZvcm0gYm9vbCB1X3JvdGF0ZV9zeW1ib2w7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2FzcGVjdF9yYXRpbzt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTt1bmlmb3JtIGZsb2F0IHVfZmFkZV9jaGFuZ2U7dW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt1bmlmb3JtIHZlYzMgdV91cF92ZWN0b3I7dW5pZm9ybSBib29sIHVfaXNfaGFsbztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudW5pZm9ybSB2ZWMzIHVfdGlsZV9pZDt1bmlmb3JtIG1hdDQgdV9pbnZfcm90X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9tZXJjX2NlbnRlcjt1bmlmb3JtIHZlYzMgdV9jYW1lcmFfZm9yd2FyZDt1bmlmb3JtIGZsb2F0IHVfem9vbV90cmFuc2l0aW9uO3VuaWZvcm0gdmVjMyB1X2VjZWZfb3JpZ2luO3VuaWZvcm0gbWF0NCB1X3RpbGVfbWF0cml4O1xcbiNlbmRpZlxcbm91dCBmbG9hdCB2X2RyYXdfaGFsbztvdXQgdmVjMiB2X2RhdGEwO291dCB2ZWMzIHZfZGF0YTE7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGZpbGxfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGVtaXNzaXZlX3N0cmVuZ3RoXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb193aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBlbWlzc2l2ZV9zdHJlbmd0aFxcbnZlYzIgYV9wb3M9YV9wb3Nfb2Zmc2V0Lnh5O3ZlYzIgYV9vZmZzZXQ9YV9wb3Nfb2Zmc2V0Lnp3O3ZlYzIgYV90ZXg9YV90ZXhfc2l6ZS54eTt2ZWMyIGFfc2l6ZT1hX3RleF9zaXplLnp3O2Zsb2F0IGFfc2l6ZV9taW49Zmxvb3IoYV9zaXplWzBdKjAuNSk7dmVjMiBhX3B4b2Zmc2V0PWFfcGl4ZWxvZmZzZXQueHk7aGlnaHAgZmxvYXQgc2VnbWVudF9hbmdsZT0tYV9wcm9qZWN0ZWRfcG9zWzNdO2Zsb2F0IHNpemU7aWYgKCF1X2lzX3NpemVfem9vbV9jb25zdGFudCAmJiAhdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQpIHtzaXplPW1peChhX3NpemVfbWluLGFfc2l6ZVsxXSx1X3NpemVfdCkvMTI4LjA7fSBlbHNlIGlmICh1X2lzX3NpemVfem9vbV9jb25zdGFudCAmJiAhdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQpIHtzaXplPWFfc2l6ZV9taW4vMTI4LjA7fSBlbHNlIHtzaXplPXVfc2l6ZTt9dmVjMiB0aWxlX2FuY2hvcj1hX3BvcztmbG9hdCBlPWVsZXZhdGlvbih0aWxlX2FuY2hvcik7XFxuI2lmZGVmIFpfT0ZGU0VUXFxuZSs9YV96X29mZnNldDtcXG4jZW5kaWZcXG52ZWMzIGg9ZWxldmF0aW9uVmVjdG9yKHRpbGVfYW5jaG9yKSplO2Zsb2F0IGdsb2JlX29jY2x1c2lvbl9mYWRlO3ZlYzMgd29ybGRfcG9zO3ZlYzMgbWVyY2F0b3JfcG9zO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5tZXJjYXRvcl9wb3M9bWVyY2F0b3JfdGlsZV9wb3NpdGlvbih1X2ludl9yb3RfbWF0cml4LHRpbGVfYW5jaG9yLHVfdGlsZV9pZCx1X21lcmNfY2VudGVyKTt3b3JsZF9wb3M9bWl4X2dsb2JlX21lcmNhdG9yKGFfZ2xvYmVfYW5jaG9yK2gsbWVyY2F0b3JfcG9zLHVfem9vbV90cmFuc2l0aW9uKTt2ZWM0IGVjZWZfcG9pbnQ9dV90aWxlX21hdHJpeCp2ZWM0KHdvcmxkX3BvcywxLjApO3ZlYzMgb3JpZ2luX3RvX3BvaW50PWVjZWZfcG9pbnQueHl6LXVfZWNlZl9vcmlnaW47Z2xvYmVfb2NjbHVzaW9uX2ZhZGU9ZG90KG9yaWdpbl90b19wb2ludCx1X2NhbWVyYV9mb3J3YXJkKSA+PTAuMCA/IDAuMCA6IDEuMDtcXG4jZWxzZVxcbndvcmxkX3Bvcz12ZWMzKHRpbGVfYW5jaG9yLDApK2g7Z2xvYmVfb2NjbHVzaW9uX2ZhZGU9MS4wO1xcbiNlbmRpZlxcbnZlYzQgcHJvamVjdGVkX3BvaW50PXVfbWF0cml4KnZlYzQod29ybGRfcG9zLDEpO2hpZ2hwIGZsb2F0IGNhbWVyYV90b19hbmNob3JfZGlzdGFuY2U9cHJvamVjdGVkX3BvaW50Lnc7aGlnaHAgZmxvYXQgZGlzdGFuY2VfcmF0aW89dV9waXRjaF93aXRoX21hcCA/XFxuY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZS91X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UgOlxcbnVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZS9jYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlO2hpZ2hwIGZsb2F0IHBlcnNwZWN0aXZlX3JhdGlvPWNsYW1wKFxcbjAuNSswLjUqZGlzdGFuY2VfcmF0aW8sMC4wLDEuNSk7c2l6ZSo9cGVyc3BlY3RpdmVfcmF0aW87ZmxvYXQgZm9udFNjYWxlPXVfaXNfdGV4dCA/IHNpemUvMjQuMCA6IHNpemU7aGlnaHAgZmxvYXQgc3ltYm9sX3JvdGF0aW9uPTAuMDtpZiAodV9yb3RhdGVfc3ltYm9sKSB7dmVjNCBvZmZzZXRwcm9qZWN0ZWRfcG9pbnQ7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZlYzMgZGlzcGxhY2VtZW50PXZlYzMoYV9nbG9iZV9ub3JtYWwueiwwLC1hX2dsb2JlX25vcm1hbC54KTtvZmZzZXRwcm9qZWN0ZWRfcG9pbnQ9dV9tYXRyaXgqdmVjNChhX2dsb2JlX2FuY2hvcitkaXNwbGFjZW1lbnQsMSk7XFxuI2Vsc2VcXG5vZmZzZXRwcm9qZWN0ZWRfcG9pbnQ9dV9tYXRyaXgqdmVjNCh0aWxlX2FuY2hvcit2ZWMyKDEsMCksMCwxKTtcXG4jZW5kaWZcXG52ZWMyIGE9cHJvamVjdGVkX3BvaW50Lnh5L3Byb2plY3RlZF9wb2ludC53O3ZlYzIgYj1vZmZzZXRwcm9qZWN0ZWRfcG9pbnQueHkvb2Zmc2V0cHJvamVjdGVkX3BvaW50Lnc7c3ltYm9sX3JvdGF0aW9uPWF0YW4oKGIueS1hLnkpL3VfYXNwZWN0X3JhdGlvLGIueC1hLngpO312ZWM0IHByb2plY3RlZF9wb3M7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZlYzMgcHJval9wb3M9bWl4X2dsb2JlX21lcmNhdG9yKGFfcHJvamVjdGVkX3Bvcy54eXoraCxtZXJjYXRvcl9wb3MsdV96b29tX3RyYW5zaXRpb24pO3Byb2plY3RlZF9wb3M9dV9sYWJlbF9wbGFuZV9tYXRyaXgqdmVjNChwcm9qX3BvcywxLjApO1xcbiNlbHNlXFxucHJvamVjdGVkX3Bvcz11X2xhYmVsX3BsYW5lX21hdHJpeCp2ZWM0KGFfcHJvamVjdGVkX3Bvcy54eSxoLnosMS4wKTtcXG4jZW5kaWZcXG5oaWdocCBmbG9hdCBhbmdsZV9zaW49c2luKHNlZ21lbnRfYW5nbGUrc3ltYm9sX3JvdGF0aW9uKTtoaWdocCBmbG9hdCBhbmdsZV9jb3M9Y29zKHNlZ21lbnRfYW5nbGUrc3ltYm9sX3JvdGF0aW9uKTttYXQyIHJvdGF0aW9uX21hdHJpeD1tYXQyKGFuZ2xlX2NvcywtMS4wKmFuZ2xlX3NpbixhbmdsZV9zaW4sYW5nbGVfY29zKTtmbG9hdCB6PTAuMDt2ZWMyIG9mZnNldD1yb3RhdGlvbl9tYXRyaXgqKGFfb2Zmc2V0LzMyLjAqZm9udFNjYWxlK2FfcHhvZmZzZXQpO1xcbiNpZmRlZiBURVJSQUlOXFxuI2lmZGVmIFBJVENIX1dJVEhfTUFQX1RFUlJBSU5cXG52ZWM0IHRpbGVfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4X2ludip2ZWM0KGFfcHJvamVjdGVkX3Bvcy54eStvZmZzZXQsMC4wLDEuMCk7ej1lbGV2YXRpb24odGlsZV9wb3MueHkpO1xcbiNlbmRpZlxcbiNlbmRpZlxcbmZsb2F0IG9jY2x1c2lvbl9mYWRlPW9jY2x1c2lvbkZhZGUocHJvamVjdGVkX3BvaW50KSpnbG9iZV9vY2NsdXNpb25fZmFkZTtmbG9hdCBwcm9qZWN0aW9uX3RyYW5zaXRpb25fZmFkZT0xLjA7XFxuI2lmIGRlZmluZWQoUFJPSkVDVEVEX1BPU19PTl9WSUVXUE9SVCkgJiYgZGVmaW5lZChQUk9KRUNUSU9OX0dMT0JFX1ZJRVcpXFxucHJvamVjdGlvbl90cmFuc2l0aW9uX2ZhZGU9MS4wLXN0ZXAoRVBTSUxPTix1X3pvb21fdHJhbnNpdGlvbik7XFxuI2VuZGlmXFxudmVjMiBmYWRlX29wYWNpdHk9dW5wYWNrX29wYWNpdHkoYV9mYWRlX29wYWNpdHkpO2Zsb2F0IGZhZGVfY2hhbmdlPWZhZGVfb3BhY2l0eVsxXSA+IDAuNSA/IHVfZmFkZV9jaGFuZ2UgOi11X2ZhZGVfY2hhbmdlO2Zsb2F0IGludGVycG9sYXRlZF9mYWRlX29wYWNpdHk9bWF4KDAuMCxtaW4ob2NjbHVzaW9uX2ZhZGUsZmFkZV9vcGFjaXR5WzBdK2ZhZGVfY2hhbmdlKSk7ZmxvYXQgb3V0X2ZhZGVfb3BhY2l0eT1pbnRlcnBvbGF0ZWRfZmFkZV9vcGFjaXR5KnByb2plY3Rpb25fdHJhbnNpdGlvbl9mYWRlO2Zsb2F0IGFscGhhPW9wYWNpdHkqb3V0X2ZhZGVfb3BhY2l0eTtmbG9hdCBoaWRkZW49ZmxvYXQoYWxwaGE9PTAuMCB8fCBwcm9qZWN0ZWRfcG9pbnQudyA8PTAuMCB8fCBvY2NsdXNpb25fZmFkZT09MC4wKTtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyB4QXhpcz11X3BpdGNoX3dpdGhfbWFwID8gbm9ybWFsaXplKGNyb3NzKGFfZ2xvYmVfbm9ybWFsLHVfdXBfdmVjdG9yKSkgOiB2ZWMzKDEsMCwwKTt2ZWMzIHlBeGlzPXVfcGl0Y2hfd2l0aF9tYXAgPyBub3JtYWxpemUoY3Jvc3MoYV9nbG9iZV9ub3JtYWwseEF4aXMpKSA6IHZlYzMoMCwxLDApO2dsX1Bvc2l0aW9uPW1peCh1X2Nvb3JkX21hdHJpeCp2ZWM0KHByb2plY3RlZF9wb3MueHl6L3Byb2plY3RlZF9wb3Mudyt4QXhpcypvZmZzZXQueCt5QXhpcypvZmZzZXQueSwxLjApLEFXQVksaGlkZGVuKTtcXG4jZWxzZVxcbmdsX1Bvc2l0aW9uPW1peCh1X2Nvb3JkX21hdHJpeCp2ZWM0KHByb2plY3RlZF9wb3MueHkvcHJvamVjdGVkX3Bvcy53K29mZnNldCx6LDEuMCksQVdBWSxoaWRkZW4pO1xcbiNlbmRpZlxcbmZsb2F0IGdhbW1hX3NjYWxlPWdsX1Bvc2l0aW9uLnc7dl9kcmF3X2hhbG89KHVfaXNfaGFsbyAmJiBmbG9hdChnbF9JbnN0YW5jZUlEKT09MC4wKSA/IDEuMCA6IDAuMDt2X2RhdGEwPWFfdGV4L3VfdGV4c2l6ZTt2X2RhdGExPXZlYzMoZ2FtbWFfc2NhbGUsc2l6ZSxvdXRfZmFkZV9vcGFjaXR5KTt9Jyksc3ltYm9sVGV4dEFuZEljb246WkUoJyNpbmNsdWRlIFwiX3ByZWx1ZGVfbGlnaHRpbmcuZ2xzbFwiXFxuI2RlZmluZSBTREZfUFggOC4wXFxuI2RlZmluZSBTREYgMS4wXFxuI2RlZmluZSBJQ09OIDAuMFxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfdGV4dHVyZTt1bmlmb3JtIHNhbXBsZXIyRCB1X3RleHR1cmVfaWNvbjt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfZ2FtbWFfc2NhbGU7dW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3VuaWZvcm0gYm9vbCB1X2lzX2hhbG87aW4gZmxvYXQgdl9kcmF3X2hhbG87aW4gdmVjNCB2X2RhdGEwO2luIHZlYzQgdl9kYXRhMTtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBoYWxvX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb193aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoYWxvX2JsdXJcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgZW1pc3NpdmVfc3RyZW5ndGhcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBmaWxsX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBoYWxvX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX2JsdXJcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGVtaXNzaXZlX3N0cmVuZ3RoXFxuZmxvYXQgZmFkZV9vcGFjaXR5PXZfZGF0YTFbMl07aWYgKHZfZGF0YTEudz09SUNPTikge3ZlYzIgdGV4X2ljb249dl9kYXRhMC56dztsb3dwIGZsb2F0IGFscGhhPW9wYWNpdHkqZmFkZV9vcGFjaXR5O2dsRnJhZ0NvbG9yPXRleHR1cmUodV90ZXh0dXJlX2ljb24sdGV4X2ljb24pKmFscGhhO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbEZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxucmV0dXJuO312ZWMyIHRleD12X2RhdGEwLnh5O2Zsb2F0IEVER0VfR0FNTUE9MC4xMDUvdV9kZXZpY2VfcGl4ZWxfcmF0aW87ZmxvYXQgZ2FtbWFfc2NhbGU9dl9kYXRhMS54O2Zsb2F0IHNpemU9dl9kYXRhMS55O2Zsb2F0IGZvbnRTY2FsZT1zaXplLzI0LjA7bG93cCB2ZWM0IGNvbG9yPWZpbGxfY29sb3I7aGlnaHAgZmxvYXQgZ2FtbWE9RURHRV9HQU1NQS8oZm9udFNjYWxlKnVfZ2FtbWFfc2NhbGUpO2xvd3AgZmxvYXQgYnVmZj0oMjU2LjAtNjQuMCkvMjU2LjA7Ym9vbCBkcmF3X2hhbG89dl9kcmF3X2hhbG8gPiAwLjA7aWYgKGRyYXdfaGFsbykge2NvbG9yPWhhbG9fY29sb3I7Z2FtbWE9KGhhbG9fYmx1cioxLjE5L1NERl9QWCtFREdFX0dBTU1BKS8oZm9udFNjYWxlKnVfZ2FtbWFfc2NhbGUpO2J1ZmY9KDYuMC1oYWxvX3dpZHRoL2ZvbnRTY2FsZSkvU0RGX1BYO31sb3dwIGZsb2F0IGRpc3Q9dGV4dHVyZSh1X3RleHR1cmUsdGV4KS5hO2hpZ2hwIGZsb2F0IGdhbW1hX3NjYWxlZD1nYW1tYSpnYW1tYV9zY2FsZTtoaWdocCBmbG9hdCBhbHBoYT1zbW9vdGhzdGVwKGJ1ZmYtZ2FtbWFfc2NhbGVkLGJ1ZmYrZ2FtbWFfc2NhbGVkLGRpc3QpO3ZlYzQgb3V0X2NvbG9yPWNvbG9yKihhbHBoYSpvcGFjaXR5KmZhZGVfb3BhY2l0eSk7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG5vdXRfY29sb3I9YXBwbHlfbGlnaHRpbmdfd2l0aF9lbWlzc2lvbl9ncm91bmQob3V0X2NvbG9yLGVtaXNzaXZlX3N0cmVuZ3RoKTtcXG4jZW5kaWZcXG5nbEZyYWdDb2xvcj1vdXRfY29sb3I7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG5IQU5ETEVfV0lSRUZSQU1FX0RFQlVHO30nLCcjaW5jbHVkZSBcIl9wcmVsdWRlX3RlcnJhaW4udmVydGV4Lmdsc2xcIlxcbmluIHZlYzQgYV9wb3Nfb2Zmc2V0O2luIHZlYzQgYV90ZXhfc2l6ZTtpbiB2ZWM0IGFfcHJvamVjdGVkX3BvcztpbiBmbG9hdCBhX2ZhZGVfb3BhY2l0eTtcXG4jaWZkZWYgWl9PRkZTRVRcXG5pbiBmbG9hdCBhX3pfb2Zmc2V0O1xcbiNlbmRpZlxcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5pbiB2ZWMzIGFfZ2xvYmVfYW5jaG9yO2luIHZlYzMgYV9nbG9iZV9ub3JtYWw7XFxuI2VuZGlmXFxudW5pZm9ybSBib29sIHVfaXNfc2l6ZV96b29tX2NvbnN0YW50O3VuaWZvcm0gYm9vbCB1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc2l6ZV90O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9zaXplO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIG1hdDQgdV9sYWJlbF9wbGFuZV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfY29vcmRfbWF0cml4O3VuaWZvcm0gYm9vbCB1X2lzX3RleHQ7dW5pZm9ybSBib29sIHVfcGl0Y2hfd2l0aF9tYXA7dW5pZm9ybSBib29sIHVfcm90YXRlX3N5bWJvbDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfYXNwZWN0X3JhdGlvO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlO3VuaWZvcm0gZmxvYXQgdV9mYWRlX2NoYW5nZTt1bmlmb3JtIHZlYzIgdV90ZXhzaXplO3VuaWZvcm0gdmVjMyB1X3VwX3ZlY3Rvcjt1bmlmb3JtIHZlYzIgdV90ZXhzaXplX2ljb247dW5pZm9ybSBib29sIHVfaXNfaGFsbztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudW5pZm9ybSB2ZWMzIHVfdGlsZV9pZDt1bmlmb3JtIG1hdDQgdV9pbnZfcm90X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9tZXJjX2NlbnRlcjt1bmlmb3JtIHZlYzMgdV9jYW1lcmFfZm9yd2FyZDt1bmlmb3JtIGZsb2F0IHVfem9vbV90cmFuc2l0aW9uO3VuaWZvcm0gdmVjMyB1X2VjZWZfb3JpZ2luO3VuaWZvcm0gbWF0NCB1X3RpbGVfbWF0cml4O1xcbiNlbmRpZlxcbm91dCBmbG9hdCB2X2RyYXdfaGFsbztvdXQgdmVjNCB2X2RhdGEwO291dCB2ZWM0IHZfZGF0YTE7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGZpbGxfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGVtaXNzaXZlX3N0cmVuZ3RoXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb193aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBlbWlzc2l2ZV9zdHJlbmd0aFxcbnZlYzIgYV9wb3M9YV9wb3Nfb2Zmc2V0Lnh5O3ZlYzIgYV9vZmZzZXQ9YV9wb3Nfb2Zmc2V0Lnp3O3ZlYzIgYV90ZXg9YV90ZXhfc2l6ZS54eTt2ZWMyIGFfc2l6ZT1hX3RleF9zaXplLnp3O2Zsb2F0IGFfc2l6ZV9taW49Zmxvb3IoYV9zaXplWzBdKjAuNSk7ZmxvYXQgaXNfc2RmPWFfc2l6ZVswXS0yLjAqYV9zaXplX21pbjtoaWdocCBmbG9hdCBzZWdtZW50X2FuZ2xlPS1hX3Byb2plY3RlZF9wb3NbM107ZmxvYXQgc2l6ZTtpZiAoIXVfaXNfc2l6ZV96b29tX2NvbnN0YW50ICYmICF1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCkge3NpemU9bWl4KGFfc2l6ZV9taW4sYV9zaXplWzFdLHVfc2l6ZV90KS8xMjguMDt9IGVsc2UgaWYgKHVfaXNfc2l6ZV96b29tX2NvbnN0YW50ICYmICF1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCkge3NpemU9YV9zaXplX21pbi8xMjguMDt9IGVsc2Uge3NpemU9dV9zaXplO312ZWMyIHRpbGVfYW5jaG9yPWFfcG9zO2Zsb2F0IGU9ZWxldmF0aW9uKHRpbGVfYW5jaG9yKTtcXG4jaWZkZWYgWl9PRkZTRVRcXG5lKz1hX3pfb2Zmc2V0O1xcbiNlbmRpZlxcbnZlYzMgaD1lbGV2YXRpb25WZWN0b3IodGlsZV9hbmNob3IpKmU7ZmxvYXQgZ2xvYmVfb2NjbHVzaW9uX2ZhZGU7dmVjMyB3b3JsZF9wb3M7dmVjMyBtZXJjYXRvcl9wb3M7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbm1lcmNhdG9yX3Bvcz1tZXJjYXRvcl90aWxlX3Bvc2l0aW9uKHVfaW52X3JvdF9tYXRyaXgsdGlsZV9hbmNob3IsdV90aWxlX2lkLHVfbWVyY19jZW50ZXIpO3dvcmxkX3Bvcz1taXhfZ2xvYmVfbWVyY2F0b3IoYV9nbG9iZV9hbmNob3IraCxtZXJjYXRvcl9wb3MsdV96b29tX3RyYW5zaXRpb24pO3ZlYzQgZWNlZl9wb2ludD11X3RpbGVfbWF0cml4KnZlYzQod29ybGRfcG9zLDEuMCk7dmVjMyBvcmlnaW5fdG9fcG9pbnQ9ZWNlZl9wb2ludC54eXotdV9lY2VmX29yaWdpbjtnbG9iZV9vY2NsdXNpb25fZmFkZT1kb3Qob3JpZ2luX3RvX3BvaW50LHVfY2FtZXJhX2ZvcndhcmQpID49MC4wID8gMC4wIDogMS4wO1xcbiNlbHNlXFxud29ybGRfcG9zPXZlYzModGlsZV9hbmNob3IsMCkraDtnbG9iZV9vY2NsdXNpb25fZmFkZT0xLjA7XFxuI2VuZGlmXFxudmVjNCBwcm9qZWN0ZWRfcG9pbnQ9dV9tYXRyaXgqdmVjNCh3b3JsZF9wb3MsMSk7aGlnaHAgZmxvYXQgY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZT1wcm9qZWN0ZWRfcG9pbnQudztoaWdocCBmbG9hdCBkaXN0YW5jZV9yYXRpbz11X3BpdGNoX3dpdGhfbWFwID9cXG5jYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlL3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSA6XFxudV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlL2NhbWVyYV90b19hbmNob3JfZGlzdGFuY2U7aGlnaHAgZmxvYXQgcGVyc3BlY3RpdmVfcmF0aW89Y2xhbXAoXFxuMC41KzAuNSpkaXN0YW5jZV9yYXRpbywwLjAsMS41KTtzaXplKj1wZXJzcGVjdGl2ZV9yYXRpbztmbG9hdCBmb250X3NjYWxlPXNpemUvMjQuMDtoaWdocCBmbG9hdCBzeW1ib2xfcm90YXRpb249MC4wO2lmICh1X3JvdGF0ZV9zeW1ib2wpIHt2ZWM0IG9mZnNldF9wcm9qZWN0ZWRfcG9pbnQ9dV9tYXRyaXgqdmVjNChhX3Bvcyt2ZWMyKDEsMCksMCwxKTt2ZWMyIGE9cHJvamVjdGVkX3BvaW50Lnh5L3Byb2plY3RlZF9wb2ludC53O3ZlYzIgYj1vZmZzZXRfcHJvamVjdGVkX3BvaW50Lnh5L29mZnNldF9wcm9qZWN0ZWRfcG9pbnQudztzeW1ib2xfcm90YXRpb249YXRhbigoYi55LWEueSkvdV9hc3BlY3RfcmF0aW8sYi54LWEueCk7fXZlYzQgcHJvamVjdGVkX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyBwcm9qX3Bvcz1taXhfZ2xvYmVfbWVyY2F0b3IoYV9wcm9qZWN0ZWRfcG9zLnh5eitoLG1lcmNhdG9yX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7cHJvamVjdGVkX3Bvcz11X2xhYmVsX3BsYW5lX21hdHJpeCp2ZWM0KHByb2pfcG9zLDEuMCk7XFxuI2Vsc2VcXG5wcm9qZWN0ZWRfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4KnZlYzQoYV9wcm9qZWN0ZWRfcG9zLnh5LGgueiwxLjApO1xcbiNlbmRpZlxcbmhpZ2hwIGZsb2F0IGFuZ2xlX3Npbj1zaW4oc2VnbWVudF9hbmdsZStzeW1ib2xfcm90YXRpb24pO2hpZ2hwIGZsb2F0IGFuZ2xlX2Nvcz1jb3Moc2VnbWVudF9hbmdsZStzeW1ib2xfcm90YXRpb24pO21hdDIgcm90YXRpb25fbWF0cml4PW1hdDIoYW5nbGVfY29zLC0xLjAqYW5nbGVfc2luLGFuZ2xlX3NpbixhbmdsZV9jb3MpO2Zsb2F0IHo9MC4wO3ZlYzIgb2Zmc2V0PXJvdGF0aW9uX21hdHJpeCooYV9vZmZzZXQvMzIuMCpmb250X3NjYWxlKTtcXG4jaWZkZWYgVEVSUkFJTlxcbiNpZmRlZiBQSVRDSF9XSVRIX01BUF9URVJSQUlOXFxudmVjNCB0aWxlX3Bvcz11X2xhYmVsX3BsYW5lX21hdHJpeF9pbnYqdmVjNChhX3Byb2plY3RlZF9wb3MueHkrb2Zmc2V0LDAuMCwxLjApO3o9ZWxldmF0aW9uKHRpbGVfcG9zLnh5KTtcXG4jZW5kaWZcXG4jZW5kaWZcXG5mbG9hdCBvY2NsdXNpb25fZmFkZT1vY2NsdXNpb25GYWRlKHByb2plY3RlZF9wb2ludCkqZ2xvYmVfb2NjbHVzaW9uX2ZhZGU7dmVjMiBmYWRlX29wYWNpdHk9dW5wYWNrX29wYWNpdHkoYV9mYWRlX29wYWNpdHkpO2Zsb2F0IGZhZGVfY2hhbmdlPWZhZGVfb3BhY2l0eVsxXSA+IDAuNSA/IHVfZmFkZV9jaGFuZ2UgOi11X2ZhZGVfY2hhbmdlO2Zsb2F0IGludGVycG9sYXRlZF9mYWRlX29wYWNpdHk9bWF4KDAuMCxtaW4ob2NjbHVzaW9uX2ZhZGUsZmFkZV9vcGFjaXR5WzBdK2ZhZGVfY2hhbmdlKSk7ZmxvYXQgcHJvamVjdGlvbl90cmFuc2l0aW9uX2ZhZGU9MS4wO1xcbiNpZiBkZWZpbmVkKFBST0pFQ1RFRF9QT1NfT05fVklFV1BPUlQpICYmIGRlZmluZWQoUFJPSkVDVElPTl9HTE9CRV9WSUVXKVxcbnByb2plY3Rpb25fdHJhbnNpdGlvbl9mYWRlPTEuMC1zdGVwKEVQU0lMT04sdV96b29tX3RyYW5zaXRpb24pO1xcbiNlbmRpZlxcbmZsb2F0IG91dF9mYWRlX29wYWNpdHk9aW50ZXJwb2xhdGVkX2ZhZGVfb3BhY2l0eSpwcm9qZWN0aW9uX3RyYW5zaXRpb25fZmFkZTtmbG9hdCBhbHBoYT1vcGFjaXR5Km91dF9mYWRlX29wYWNpdHk7ZmxvYXQgaGlkZGVuPWZsb2F0KGFscGhhPT0wLjAgfHwgcHJvamVjdGVkX3BvaW50LncgPD0wLjAgfHwgb2NjbHVzaW9uX2ZhZGU9PTAuMCk7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZlYzMgeEF4aXM9dV9waXRjaF93aXRoX21hcCA/IG5vcm1hbGl6ZShjcm9zcyhhX2dsb2JlX25vcm1hbCx1X3VwX3ZlY3RvcikpIDogdmVjMygxLDAsMCk7dmVjMyB5QXhpcz11X3BpdGNoX3dpdGhfbWFwID8gbm9ybWFsaXplKGNyb3NzKGFfZ2xvYmVfbm9ybWFsLHhBeGlzKSkgOiB2ZWMzKDAsMSwwKTtnbF9Qb3NpdGlvbj1taXgodV9jb29yZF9tYXRyaXgqdmVjNChwcm9qZWN0ZWRfcG9zLnh5ei9wcm9qZWN0ZWRfcG9zLncreEF4aXMqb2Zmc2V0LngreUF4aXMqb2Zmc2V0LnksMS4wKSxBV0FZLGhpZGRlbik7XFxuI2Vsc2VcXG5nbF9Qb3NpdGlvbj1taXgodV9jb29yZF9tYXRyaXgqdmVjNChwcm9qZWN0ZWRfcG9zLnh5L3Byb2plY3RlZF9wb3MudytvZmZzZXQseiwxLjApLEFXQVksaGlkZGVuKTtcXG4jZW5kaWZcXG5mbG9hdCBnYW1tYV9zY2FsZT1nbF9Qb3NpdGlvbi53O3ZfZHJhd19oYWxvPSh1X2lzX2hhbG8gJiYgZmxvYXQoZ2xfSW5zdGFuY2VJRCk9PTAuMCkgPyAxLjAgOiAwLjA7dl9kYXRhMC54eT1hX3RleC91X3RleHNpemU7dl9kYXRhMC56dz1hX3RleC91X3RleHNpemVfaWNvbjt2X2RhdGExPXZlYzQoZ2FtbWFfc2NhbGUsc2l6ZSxvdXRfZmFkZV9vcGFjaXR5LGlzX3NkZik7fScpLHRlcnJhaW5SYXN0ZXI6WkUoJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLmZyYWdtZW50Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfc2hhZG93LmZyYWdtZW50Lmdsc2xcIlxcbiNpbmNsdWRlIFwiX3ByZWx1ZGVfbGlnaHRpbmcuZ2xzbFwiXFxudW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTA7aW4gdmVjMiB2X3BvczA7XFxuI2lmZGVmIEZPR1xcbmluIGZsb2F0IHZfZm9nX29wYWNpdHk7XFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9TSEFET1dTXFxuaW4gdmVjNCB2X3Bvc19saWdodF92aWV3XzA7aW4gdmVjNCB2X3Bvc19saWdodF92aWV3XzE7aW4gZmxvYXQgdl9kZXB0aDtcXG4jZW5kaWZcXG51bmlmb3JtIHZlYzMgdV9ncm91bmRfc2hhZG93X2ZhY3Rvcjt2b2lkIG1haW4oKSB7dmVjNCBpbWFnZV9jb2xvcj10ZXh0dXJlKHVfaW1hZ2UwLHZfcG9zMCk7dmVjNCBjb2xvcjtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbmNvbnN0IHZlYzMgbm9ybWFsPXZlYzMoMC4wLDAuMCwxLjApO1xcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbmZsb2F0IGN1dG9mZk9wYWNpdHk9MS4wO1xcbiNpZmRlZiBSRU5ERVJfQ1VUT0ZGXFxuY3V0b2ZmT3BhY2l0eT1jdXRvZmZfb3BhY2l0eSh1X2N1dG9mZl9wYXJhbXMsdl9kZXB0aCk7XFxuI2VuZGlmXFxuI2lmZGVmIExJR0hUSU5HXzNEX0FMUEhBX0VNSVNTSVZFTkVTU1xcbnZlYzMgdW5saXRfYmFzZT1pbWFnZV9jb2xvci5yZ2IqKDEuMC1pbWFnZV9jb2xvci5hKTt2ZWMzIGVtaXNzaXZlX2Jhc2U9aW1hZ2VfY29sb3IucmdiKmltYWdlX2NvbG9yLmE7ZmxvYXQgbmRvdGw9dV9zaGFkb3dfZGlyZWN0aW9uLno7ZmxvYXQgb2NjbHVzaW9uPW5kb3RsIDwgMC4wID8gMS4wIDogc2hhZG93X29jY2x1c2lvbih2X3Bvc19saWdodF92aWV3XzAsdl9wb3NfbGlnaHRfdmlld18xLHZfZGVwdGgsMC4wKTtuZG90bD1tYXgoMC4wLG5kb3RsKTt2ZWMzIGxpdD1hcHBseV9saWdodGluZyh1bmxpdF9iYXNlLG5vcm1hbCxtaXgoMS4wLCgxLjAtKHVfc2hhZG93X2ludGVuc2l0eSpvY2NsdXNpb24pKSpuZG90bCxjdXRvZmZPcGFjaXR5KSk7dmVjMyBlbWlzc2l2ZT1jb21wdXRlX2VtaXNzaXZlX2RyYXBlZChlbWlzc2l2ZV9iYXNlLDEuMC11X3NoYWRvd19pbnRlbnNpdHksb2NjbHVzaW9uLHVfZ3JvdW5kX3NoYWRvd19mYWN0b3IpO2NvbG9yLnJnYj1saXQrZW1pc3NpdmU7Y29sb3IuYT0xLjA7XFxuI2Vsc2VcXG5mbG9hdCBsaWdodGluZ19mYWN0b3I9c2hhZG93ZWRfbGlnaHRfZmFjdG9yX25vcm1hbF91bmJpYXNlZChub3JtYWwsdl9wb3NfbGlnaHRfdmlld18wLHZfcG9zX2xpZ2h0X3ZpZXdfMSx2X2RlcHRoKTtjb2xvcj1hcHBseV9saWdodGluZyhpbWFnZV9jb2xvcixub3JtYWwsbWl4KDEuMCxsaWdodGluZ19mYWN0b3IsY3V0b2ZmT3BhY2l0eSkpO1xcbiNlbmRpZlxcbiNlbHNlXFxuZmxvYXQgbGlnaHRpbmdfZmFjdG9yPXVfbGlnaHRpbmdfZGlyZWN0aW9uYWxfZGlyLno7Y29sb3I9YXBwbHlfbGlnaHRpbmcoaW1hZ2VfY29sb3Isbm9ybWFsLGxpZ2h0aW5nX2ZhY3Rvcik7XFxuI2lmZGVmIExJR0hUSU5HXzNEX0FMUEhBX0VNSVNTSVZFTkVTU1xcbmNvbG9yLnJnYj1taXgoY29sb3IucmdiLGltYWdlX2NvbG9yLnJnYixpbWFnZV9jb2xvci5hKTtjb2xvci5hPTEuMDtcXG4jZW5kaWZcXG4jZW5kaWZcXG4jZWxzZVxcbmNvbG9yPWltYWdlX2NvbG9yO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG4jaWZkZWYgWkVST19FWEFHR0VSQVRJT05cXG5jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKGNvbG9yLHZfZm9nX3BvcykpO1xcbiNlbHNlXFxuY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfZnJvbV92ZXJ0KGNvbG9yLHZfZm9nX29wYWNpdHkpKTtcXG4jZW5kaWZcXG4jZW5kaWZcXG5nbEZyYWdDb2xvcj1jb2xvcjtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xGcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbkhBTkRMRV9XSVJFRlJBTUVfREVCVUc7fScsJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLnZlcnRleC5nbHNsXCJcXG4jaW5jbHVkZSBcIl9wcmVsdWRlX3RlcnJhaW4udmVydGV4Lmdsc2xcIlxcbnVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIGZsb2F0IHVfc2tpcnRfaGVpZ2h0O2luIHZlYzIgYV9wb3M7b3V0IHZlYzIgdl9wb3MwO1xcbiNpZmRlZiBGT0dcXG5vdXQgZmxvYXQgdl9mb2dfb3BhY2l0eTtcXG4jZW5kaWZcXG4jaWZkZWYgUkVOREVSX1NIQURPV1NcXG51bmlmb3JtIG1hdDQgdV9saWdodF9tYXRyaXhfMDt1bmlmb3JtIG1hdDQgdV9saWdodF9tYXRyaXhfMTtvdXQgdmVjNCB2X3Bvc19saWdodF92aWV3XzA7b3V0IHZlYzQgdl9wb3NfbGlnaHRfdmlld18xO291dCBmbG9hdCB2X2RlcHRoO1xcbiNlbmRpZlxcbnZvaWQgbWFpbigpIHt2ZWMzIGRlY29tcG9zZWRQb3NBbmRTa2lydD1kZWNvbXBvc2VUb1Bvc0FuZFNraXJ0KGFfcG9zKTtmbG9hdCBza2lydD1kZWNvbXBvc2VkUG9zQW5kU2tpcnQuejt2ZWMyIGRlY29kZWRQb3M9ZGVjb21wb3NlZFBvc0FuZFNraXJ0Lnh5O2Zsb2F0IGVsZXZhdGlvbj1lbGV2YXRpb24oZGVjb2RlZFBvcyktc2tpcnQqdV9za2lydF9oZWlnaHQ7dl9wb3MwPWRlY29kZWRQb3MvODE5Mi4wO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoZGVjb2RlZFBvcyxlbGV2YXRpb24sMS4wKTtcXG4jaWZkZWYgRk9HXFxuI2lmZGVmIFpFUk9fRVhBR0dFUkFUSU9OXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihkZWNvZGVkUG9zKTtcXG4jZWxzZVxcbnZfZm9nX29wYWNpdHk9Zm9nKGZvZ19wb3NpdGlvbih2ZWMzKGRlY29kZWRQb3MsZWxldmF0aW9uKSkpO1xcbiNlbmRpZlxcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbnZlYzMgcG9zPXZlYzMoZGVjb2RlZFBvcyxlbGV2YXRpb24pO3ZfcG9zX2xpZ2h0X3ZpZXdfMD11X2xpZ2h0X21hdHJpeF8wKnZlYzQocG9zLDEuKTt2X3Bvc19saWdodF92aWV3XzE9dV9saWdodF9tYXRyaXhfMSp2ZWM0KHBvcywxLik7dl9kZXB0aD1nbF9Qb3NpdGlvbi53O1xcbiNlbmRpZlxcbn0nKSx0ZXJyYWluRGVwdGg6WkUoXCJwcmVjaXNpb24gaGlnaHAgZmxvYXQ7aW4gZmxvYXQgdl9kZXB0aDt2b2lkIG1haW4oKSB7Z2xGcmFnQ29sb3I9cGFja19kZXB0aCh2X2RlcHRoKTt9XCIsJyNpbmNsdWRlIFwiX3ByZWx1ZGVfdGVycmFpbi52ZXJ0ZXguZ2xzbFwiXFxudW5pZm9ybSBtYXQ0IHVfbWF0cml4O2luIHZlYzIgYV9wb3M7b3V0IGZsb2F0IHZfZGVwdGg7dm9pZCBtYWluKCkge2Zsb2F0IGVsZXZhdGlvbj1lbGV2YXRpb24oYV9wb3MpO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsZWxldmF0aW9uLDEuMCk7dl9kZXB0aD1nbF9Qb3NpdGlvbi56L2dsX1Bvc2l0aW9uLnc7fScpLHNreWJveDpaRSgnI2luY2x1ZGUgXCJfcHJlbHVkZV9mb2cuZnJhZ21lbnQuZ2xzbFwiXFxuaW4gbG93cCB2ZWMzIHZfdXY7dW5pZm9ybSBsb3dwIHNhbXBsZXJDdWJlIHVfY3ViZW1hcDt1bmlmb3JtIGxvd3AgZmxvYXQgdV9vcGFjaXR5O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV90ZW1wb3JhbF9vZmZzZXQ7dW5pZm9ybSBoaWdocCB2ZWMzIHVfc3VuX2RpcmVjdGlvbjtmbG9hdCBzdW5fZGlzayhoaWdocCB2ZWMzIHJheV9kaXJlY3Rpb24saGlnaHAgdmVjMyBzdW5fZGlyZWN0aW9uKSB7aGlnaHAgZmxvYXQgY29zX2FuZ2xlPWRvdChub3JtYWxpemUocmF5X2RpcmVjdGlvbiksc3VuX2RpcmVjdGlvbik7Y29uc3QgaGlnaHAgZmxvYXQgY29zX3N1bl9hbmd1bGFyX2RpYW1ldGVyPTAuOTk5OTYxOTIzMDY7Y29uc3QgaGlnaHAgZmxvYXQgc21vb3Roc3RlcF9kZWx0YT0xZS01O3JldHVybiBzbW9vdGhzdGVwKFxcbmNvc19zdW5fYW5ndWxhcl9kaWFtZXRlci1zbW9vdGhzdGVwX2RlbHRhLGNvc19zdW5fYW5ndWxhcl9kaWFtZXRlcitzbW9vdGhzdGVwX2RlbHRhLGNvc19hbmdsZSk7fWZsb2F0IG1hcChmbG9hdCB2YWx1ZSxmbG9hdCBzdGFydCxmbG9hdCBlbmQsZmxvYXQgbmV3X3N0YXJ0LGZsb2F0IG5ld19lbmQpIHtyZXR1cm4gKCh2YWx1ZS1zdGFydCkqKG5ld19lbmQtbmV3X3N0YXJ0KSkvKGVuZC1zdGFydCkrbmV3X3N0YXJ0O312b2lkIG1haW4oKSB7dmVjMyB1dj12X3V2O2NvbnN0IGZsb2F0IHlfYmlhcz0wLjAxNTt1di55Kz15X2JpYXM7dXYueT1wb3coYWJzKHV2LnkpLDEuMC81LjApO3V2Lnk9bWFwKHV2LnksMC4wLDEuMCwtMS4wLDEuMCk7dmVjMyBza3lfY29sb3I9dGV4dHVyZSh1X2N1YmVtYXAsdXYpLnJnYjtcXG4jaWZkZWYgRk9HXFxuc2t5X2NvbG9yPWZvZ19hcHBseV9za3lfZ3JhZGllbnQodl91di54enksc2t5X2NvbG9yKTtcXG4jZW5kaWZcXG5za3lfY29sb3IucmdiPWRpdGhlcihza3lfY29sb3IucmdiLGdsX0ZyYWdDb29yZC54eSt1X3RlbXBvcmFsX29mZnNldCk7c2t5X2NvbG9yKz0wLjEqc3VuX2Rpc2sodl91dix1X3N1bl9kaXJlY3Rpb24pO2dsRnJhZ0NvbG9yPXZlYzQoc2t5X2NvbG9yKnVfb3BhY2l0eSx1X29wYWNpdHkpO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbEZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufScsUEUpLHNreWJveEdyYWRpZW50OlpFKCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy5mcmFnbWVudC5nbHNsXCJcXG5pbiBoaWdocCB2ZWMzIHZfdXY7dW5pZm9ybSBsb3dwIHNhbXBsZXIyRCB1X2NvbG9yX3JhbXA7dW5pZm9ybSBoaWdocCB2ZWMzIHVfY2VudGVyX2RpcmVjdGlvbjt1bmlmb3JtIGxvd3AgZmxvYXQgdV9yYWRpdXM7dW5pZm9ybSBsb3dwIGZsb2F0IHVfb3BhY2l0eTt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfdGVtcG9yYWxfb2Zmc2V0O3ZvaWQgbWFpbigpIHtmbG9hdCBwcm9ncmVzcz1hY29zKGRvdChub3JtYWxpemUodl91diksdV9jZW50ZXJfZGlyZWN0aW9uKSkvdV9yYWRpdXM7dmVjNCBjb2xvcj10ZXh0dXJlKHVfY29sb3JfcmFtcCx2ZWMyKHByb2dyZXNzLDAuNSkpO1xcbiNpZmRlZiBGT0dcXG5jb2xvci5yZ2I9Zm9nX2FwcGx5X3NreV9ncmFkaWVudCh2X3V2Lnh6eSxjb2xvci5yZ2IvY29sb3IuYSkqY29sb3IuYTtcXG4jZW5kaWZcXG5jb2xvcio9dV9vcGFjaXR5O2NvbG9yLnJnYj1kaXRoZXIoY29sb3IucmdiLGdsX0ZyYWdDb29yZC54eSt1X3RlbXBvcmFsX29mZnNldCk7Z2xGcmFnQ29sb3I9Y29sb3I7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59JyxQRSksc2t5Ym94Q2FwdHVyZTpaRShcIlxcbmluIGhpZ2hwIHZlYzMgdl9wb3NpdGlvbjt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc3VuX2ludGVuc2l0eTt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfbHVtaW5hbmNlO3VuaWZvcm0gbG93cCB2ZWMzIHVfc3VuX2RpcmVjdGlvbjt1bmlmb3JtIGhpZ2hwIHZlYzQgdV9jb2xvcl90aW50X3I7dW5pZm9ybSBoaWdocCB2ZWM0IHVfY29sb3JfdGludF9tO3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4jZGVmaW5lIEJFVEFfUiAgICAgICAgICAgICAgICAgIHZlYzMoNS41ZS02LDEzLjBlLTYsMjIuNGUtNilcXG4jZGVmaW5lIEJFVEFfTSAgICAgICAgICAgICAgICAgIHZlYzMoMjFlLTYsMjFlLTYsMjFlLTYpXFxuI2RlZmluZSBNSUVfRyAgICAgICAgICAgICAgICAgICAwLjc2XFxuI2RlZmluZSBERU5TSVRZX0hFSUdIVF9TQ0FMRV9SICA4MDAwLjBcXG4jZGVmaW5lIERFTlNJVFlfSEVJR0hUX1NDQUxFX00gIDEyMDAuMFxcbiNkZWZpbmUgUExBTkVUX1JBRElVUyAgICAgICAgICAgNjM2MGUzXFxuI2RlZmluZSBBVE1PU1BIRVJFX1JBRElVUyAgICAgICA2NDIwZTNcXG4jZGVmaW5lIFNBTVBMRV9TVEVQUyAgICAgICAgICAgIDEwXFxuI2RlZmluZSBERU5TSVRZX1NURVBTICAgICAgICAgICA0XFxuZmxvYXQgcmF5X3NwaGVyZV9leGl0KHZlYzMgb3JpZyx2ZWMzIGRpcixmbG9hdCByYWRpdXMpIHtmbG9hdCBhPWRvdChkaXIsZGlyKTtmbG9hdCBiPTIuMCpkb3QoZGlyLG9yaWcpO2Zsb2F0IGM9ZG90KG9yaWcsb3JpZyktcmFkaXVzKnJhZGl1cztmbG9hdCBkPXNxcnQoYipiLTQuMCphKmMpO3JldHVybiAoLWIrZCkvKDIuMCphKTt9dmVjMyBleHRpbmN0aW9uKHZlYzIgZGVuc2l0eSkge3JldHVybiBleHAoLXZlYzMoQkVUQV9SKnVfY29sb3JfdGludF9yLmEqZGVuc2l0eS54K0JFVEFfTSp1X2NvbG9yX3RpbnRfbS5hKmRlbnNpdHkueSkpO312ZWMyIGxvY2FsX2RlbnNpdHkodmVjMyBwb2ludCkge2Zsb2F0IGhlaWdodD1tYXgobGVuZ3RoKHBvaW50KS1QTEFORVRfUkFESVVTLDAuMCk7ZmxvYXQgZXhwX3I9ZXhwKC1oZWlnaHQvREVOU0lUWV9IRUlHSFRfU0NBTEVfUik7ZmxvYXQgZXhwX209ZXhwKC1oZWlnaHQvREVOU0lUWV9IRUlHSFRfU0NBTEVfTSk7cmV0dXJuIHZlYzIoZXhwX3IsZXhwX20pO31mbG9hdCBwaGFzZV9yYXkoZmxvYXQgY29zX2FuZ2xlKSB7cmV0dXJuICgzLjAvKDE2LjAqUEkpKSooMS4wK2Nvc19hbmdsZSpjb3NfYW5nbGUpO31mbG9hdCBwaGFzZV9taWUoZmxvYXQgY29zX2FuZ2xlKSB7cmV0dXJuICgzLjAvKDguMCpQSSkpKigoMS4wLU1JRV9HKk1JRV9HKSooMS4wK2Nvc19hbmdsZSpjb3NfYW5nbGUpKS8oKDIuMCtNSUVfRypNSUVfRykqcG93KDEuMCtNSUVfRypNSUVfRy0yLjAqTUlFX0cqY29zX2FuZ2xlLDEuNSkpO312ZWMyIGRlbnNpdHlfdG9fYXRtb3NwaGVyZSh2ZWMzIHBvaW50LHZlYzMgbGlnaHRfZGlyKSB7ZmxvYXQgcmF5X2xlbj1yYXlfc3BoZXJlX2V4aXQocG9pbnQsbGlnaHRfZGlyLEFUTU9TUEhFUkVfUkFESVVTKTtmbG9hdCBzdGVwX2xlbj1yYXlfbGVuL2Zsb2F0KERFTlNJVFlfU1RFUFMpO3ZlYzIgZGVuc2l0eV9wb2ludF90b19hdG1vc3BoZXJlPXZlYzIoMC4wKTtmb3IgKGludCBpPTA7IGkgPCBERU5TSVRZX1NURVBTOysraSkge3ZlYzMgcG9pbnRfb25fcmF5PXBvaW50K2xpZ2h0X2RpciooKGZsb2F0KGkpKzAuNSkqc3RlcF9sZW4pO2RlbnNpdHlfcG9pbnRfdG9fYXRtb3NwaGVyZSs9bG9jYWxfZGVuc2l0eShwb2ludF9vbl9yYXkpKnN0ZXBfbGVuOzt9cmV0dXJuIGRlbnNpdHlfcG9pbnRfdG9fYXRtb3NwaGVyZTt9dmVjMyBhdG1vc3BoZXJlKHZlYzMgcmF5X2Rpcix2ZWMzIHN1bl9kaXJlY3Rpb24sZmxvYXQgc3VuX2ludGVuc2l0eSkge3ZlYzIgZGVuc2l0eV9vcmlnX3RvX3BvaW50PXZlYzIoMC4wKTt2ZWMzIHNjYXR0ZXJfcj12ZWMzKDAuMCk7dmVjMyBzY2F0dGVyX209dmVjMygwLjApO3ZlYzMgb3JpZ2luPXZlYzMoMC4wLFBMQU5FVF9SQURJVVMsMC4wKTtmbG9hdCByYXlfbGVuPXJheV9zcGhlcmVfZXhpdChvcmlnaW4scmF5X2RpcixBVE1PU1BIRVJFX1JBRElVUyk7ZmxvYXQgc3RlcF9sZW49cmF5X2xlbi9mbG9hdChTQU1QTEVfU1RFUFMpO2ZvciAoaW50IGk9MDsgaSA8IFNBTVBMRV9TVEVQUzsrK2kpIHt2ZWMzIHBvaW50X29uX3JheT1vcmlnaW4rcmF5X2RpciooKGZsb2F0KGkpKzAuNSkqc3RlcF9sZW4pO3ZlYzIgZGVuc2l0eT1sb2NhbF9kZW5zaXR5KHBvaW50X29uX3JheSkqc3RlcF9sZW47ZGVuc2l0eV9vcmlnX3RvX3BvaW50Kz1kZW5zaXR5O3ZlYzIgZGVuc2l0eV9wb2ludF90b19hdG1vc3BoZXJlPWRlbnNpdHlfdG9fYXRtb3NwaGVyZShwb2ludF9vbl9yYXksc3VuX2RpcmVjdGlvbik7dmVjMiBkZW5zaXR5X29yaWdfdG9fYXRtb3NwaGVyZT1kZW5zaXR5X29yaWdfdG9fcG9pbnQrZGVuc2l0eV9wb2ludF90b19hdG1vc3BoZXJlO3ZlYzMgZXh0aW5jdGlvbj1leHRpbmN0aW9uKGRlbnNpdHlfb3JpZ190b19hdG1vc3BoZXJlKTtzY2F0dGVyX3IrPWRlbnNpdHkueCpleHRpbmN0aW9uO3NjYXR0ZXJfbSs9ZGVuc2l0eS55KmV4dGluY3Rpb247fWZsb2F0IGNvc19hbmdsZT1kb3QocmF5X2RpcixzdW5fZGlyZWN0aW9uKTtmbG9hdCBwaGFzZV9yPXBoYXNlX3JheShjb3NfYW5nbGUpO2Zsb2F0IHBoYXNlX209cGhhc2VfbWllKGNvc19hbmdsZSk7dmVjMyBiZXRhX3I9QkVUQV9SKnVfY29sb3JfdGludF9yLnJnYip1X2NvbG9yX3RpbnRfci5hO3ZlYzMgYmV0YV9tPUJFVEFfTSp1X2NvbG9yX3RpbnRfbS5yZ2IqdV9jb2xvcl90aW50X20uYTtyZXR1cm4gKHNjYXR0ZXJfcipwaGFzZV9yKmJldGFfcitzY2F0dGVyX20qcGhhc2VfbSpiZXRhX20pKnN1bl9pbnRlbnNpdHk7fWNvbnN0IGZsb2F0IEE9MC4xNTtjb25zdCBmbG9hdCBCPTAuNTA7Y29uc3QgZmxvYXQgQz0wLjEwO2NvbnN0IGZsb2F0IEQ9MC4yMDtjb25zdCBmbG9hdCBFPTAuMDI7Y29uc3QgZmxvYXQgRj0wLjMwO3ZlYzMgdW5jaGFydGVkMl90b25lbWFwKHZlYzMgeCkge3JldHVybiAoKHgqKEEqeCtDKkIpK0QqRSkvKHgqKEEqeCtCKStEKkYpKS1FL0Y7fXZvaWQgbWFpbigpIHt2ZWMzIHJheV9kaXJlY3Rpb249dl9wb3NpdGlvbjtyYXlfZGlyZWN0aW9uLnk9cG93KHJheV9kaXJlY3Rpb24ueSw1LjApO2NvbnN0IGZsb2F0IHlfYmlhcz0wLjAxNTtyYXlfZGlyZWN0aW9uLnkrPXlfYmlhczt2ZWMzIGNvbG9yPWF0bW9zcGhlcmUobm9ybWFsaXplKHJheV9kaXJlY3Rpb24pLHVfc3VuX2RpcmVjdGlvbix1X3N1bl9pbnRlbnNpdHkpO2Zsb2F0IHdoaXRlX3NjYWxlPTEuMDc0ODcyNDY3NTYzMzg1NDtjb2xvcj11bmNoYXJ0ZWQyX3RvbmVtYXAoKGxvZzIoMi4wL3Bvdyh1X2x1bWluYW5jZSw0LjApKSkqY29sb3IpKndoaXRlX3NjYWxlO2dsRnJhZ0NvbG9yPXZlYzQoY29sb3IsMS4wKTt9XCIsXCJpbiBoaWdocCB2ZWMzIGFfcG9zXzNmO3VuaWZvcm0gbWF0MyB1X21hdHJpeF8zZjtvdXQgaGlnaHAgdmVjMyB2X3Bvc2l0aW9uO2Zsb2F0IG1hcChmbG9hdCB2YWx1ZSxmbG9hdCBzdGFydCxmbG9hdCBlbmQsZmxvYXQgbmV3X3N0YXJ0LGZsb2F0IG5ld19lbmQpIHtyZXR1cm4gKCh2YWx1ZS1zdGFydCkqKG5ld19lbmQtbmV3X3N0YXJ0KSkvKGVuZC1zdGFydCkrbmV3X3N0YXJ0O312b2lkIG1haW4oKSB7dmVjNCBwb3M9dmVjNCh1X21hdHJpeF8zZiphX3Bvc18zZiwxLjApO3ZfcG9zaXRpb249cG9zLnh5ejt2X3Bvc2l0aW9uLnkqPS0xLjA7dl9wb3NpdGlvbi55PW1hcCh2X3Bvc2l0aW9uLnksLTEuMCwxLjAsMC4wLDEuMCk7Z2xfUG9zaXRpb249dmVjNChhX3Bvc18zZi54eSwwLjAsMS4wKTt9XCIpLGdsb2JlUmFzdGVyOlpFKCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy5mcmFnbWVudC5nbHNsXCJcXG4jaW5jbHVkZSBcIl9wcmVsdWRlX2xpZ2h0aW5nLmdsc2xcIlxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2UwO2luIHZlYzIgdl9wb3MwO1xcbiNpZm5kZWYgRk9HXFxudW5pZm9ybSBoaWdocCB2ZWMzIHVfZnJ1c3R1bV90bDt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9mcnVzdHVtX3RyO3VuaWZvcm0gaGlnaHAgdmVjMyB1X2ZydXN0dW1fYnI7dW5pZm9ybSBoaWdocCB2ZWMzIHVfZnJ1c3R1bV9ibDt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9nbG9iZV9wb3M7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2dsb2JlX3JhZGl1czt1bmlmb3JtIHZlYzIgdV92aWV3cG9ydDtcXG4jZW5kaWZcXG52b2lkIG1haW4oKSB7dmVjNCBjb2xvcjtcXG4jaWZkZWYgQ1VTVE9NX0FOVElBTElBU0lOR1xcbnZlYzIgdXY9Z2xfRnJhZ0Nvb3JkLnh5L3Vfdmlld3BvcnQ7aGlnaHAgdmVjMyByYXlfZGlyPW1peChcXG5taXgodV9mcnVzdHVtX3RsLHVfZnJ1c3R1bV90cix1di54KSxtaXgodV9mcnVzdHVtX2JsLHVfZnJ1c3R1bV9icix1di54KSwxLjAtdXYueSk7dmVjMyBkaXI9bm9ybWFsaXplKHJheV9kaXIpO3ZlYzMgY2xvc2VzdF9wb2ludD1kb3QodV9nbG9iZV9wb3MsZGlyKSpkaXI7ZmxvYXQgbm9ybV9kaXN0X2Zyb21fY2VudGVyPTEuMC1sZW5ndGgoY2xvc2VzdF9wb2ludC11X2dsb2JlX3BvcykvdV9nbG9iZV9yYWRpdXM7Y29uc3QgZmxvYXQgYW50aWFsaWFzX3BpeGVsPTIuMDtmbG9hdCBhbnRpYWxpYXNfZmFjdG9yPWFudGlhbGlhc19waXhlbCpmd2lkdGgobm9ybV9kaXN0X2Zyb21fY2VudGVyKTtmbG9hdCBhbnRpYWxpYXM9c21vb3Roc3RlcCgwLjAsYW50aWFsaWFzX2ZhY3Rvcixub3JtX2Rpc3RfZnJvbV9jZW50ZXIpO3ZlYzQgcmFzdGVyPXRleHR1cmUodV9pbWFnZTAsdl9wb3MwKTtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbiNpZmRlZiBMSUdIVElOR18zRF9BTFBIQV9FTUlTU0lWRU5FU1NcXG5yYXN0ZXI9YXBwbHlfbGlnaHRpbmdfd2l0aF9lbWlzc2lvbl9ncm91bmQocmFzdGVyLHJhc3Rlci5hKTtjb2xvcj12ZWM0KHJhc3Rlci5yZ2IqYW50aWFsaWFzLGFudGlhbGlhcyk7XFxuI2Vsc2VcXG5yYXN0ZXI9YXBwbHlfbGlnaHRpbmdfZ3JvdW5kKHJhc3Rlcik7Y29sb3I9dmVjNChyYXN0ZXIucmdiKmFudGlhbGlhcyxyYXN0ZXIuYSphbnRpYWxpYXMpO1xcbiNlbmRpZlxcbiNlbHNlXFxuY29sb3I9dmVjNChyYXN0ZXIucmdiKmFudGlhbGlhcyxyYXN0ZXIuYSphbnRpYWxpYXMpO1xcbiNlbmRpZlxcbiNlbHNlXFxuY29sb3I9dGV4dHVyZSh1X2ltYWdlMCx2X3BvczApO1xcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxuI2lmZGVmIExJR0hUSU5HXzNEX0FMUEhBX0VNSVNTSVZFTkVTU1xcbmNvbG9yPWFwcGx5X2xpZ2h0aW5nX3dpdGhfZW1pc3Npb25fZ3JvdW5kKGNvbG9yLGNvbG9yLmEpO2NvbG9yLmE9MS4wO1xcbiNlbHNlXFxuY29sb3I9YXBwbHlfbGlnaHRpbmdfZ3JvdW5kKGNvbG9yKTtcXG4jZW5kaWZcXG4jZW5kaWZcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxuY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChjb2xvcix2X2ZvZ19wb3MpKTtcXG4jZW5kaWZcXG5nbEZyYWdDb2xvcj1jb2xvcjtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xGcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbkhBTkRMRV9XSVJFRlJBTUVfREVCVUc7fScsJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLnZlcnRleC5nbHNsXCJcXG4jaW5jbHVkZSBcIl9wcmVsdWRlX3RlcnJhaW4udmVydGV4Lmdsc2xcIlxcbnVuaWZvcm0gbWF0NCB1X3Byb2pfbWF0cml4O3VuaWZvcm0gbWF0NCB1X25vcm1hbGl6ZV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfZ2xvYmVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X21lcmNfbWF0cml4O3VuaWZvcm0gZmxvYXQgdV96b29tX3RyYW5zaXRpb247dW5pZm9ybSB2ZWMyIHVfbWVyY19jZW50ZXI7dW5pZm9ybSBtYXQzIHVfZ3JpZF9tYXRyaXg7dW5pZm9ybSBmbG9hdCB1X3NraXJ0X2hlaWdodDtcXG4jaWZkZWYgR0xPQkVfUE9MRVNcXG5pbiB2ZWMzIGFfZ2xvYmVfcG9zO2luIHZlYzIgYV91djtcXG4jZWxzZVxcbmluIHZlYzIgYV9wb3M7XFxuI2VuZGlmXFxub3V0IHZlYzIgdl9wb3MwO3ZvaWQgbWFpbigpIHtcXG4jaWZkZWYgR0xPQkVfUE9MRVNcXG52ZWMzIGdsb2JlX3Bvcz1hX2dsb2JlX3Bvczt2ZWMyIHV2PWFfdXY7XFxuI2Vsc2VcXG5mbG9hdCB0aWxlcz11X2dyaWRfbWF0cml4WzBdWzJdO2Zsb2F0IGlkeD11X2dyaWRfbWF0cml4WzFdWzJdO2Zsb2F0IGlkeT11X2dyaWRfbWF0cml4WzJdWzJdO3ZlYzMgZGVjb21wb3NlZF9wb3NfYW5kX3NraXJ0PWRlY29tcG9zZVRvUG9zQW5kU2tpcnQoYV9wb3MpO3ZlYzMgbGF0TG5nPXVfZ3JpZF9tYXRyaXgqdmVjMyhkZWNvbXBvc2VkX3Bvc19hbmRfc2tpcnQueHksMS4wKTtmbG9hdCBtZXJjYXRvclk9bWVyY2F0b3JZZnJvbUxhdChsYXRMbmdbMF0pO2Zsb2F0IHV2WT1tZXJjYXRvclkqdGlsZXMtaWR5O2Zsb2F0IG1lcmNhdG9yWD1tZXJjYXRvclhmcm9tTG5nKGxhdExuZ1sxXSk7ZmxvYXQgdXZYPW1lcmNhdG9yWCp0aWxlcy1pZHg7dmVjMyBnbG9iZV9wb3M9bGF0TG5nVG9FQ0VGKGxhdExuZy54eSk7dmVjMiBtZXJjX3Bvcz12ZWMyKG1lcmNhdG9yWCxtZXJjYXRvclkpO3ZlYzIgdXY9dmVjMih1dlgsdXZZKTtcXG4jZW5kaWZcXG52X3BvczA9dXY7dmVjMiB0aWxlX3Bvcz11dipFWFRFTlQ7dmVjMyBnbG9iZV9kZXJpdmVkX3VwX3ZlY3Rvcj1ub3JtYWxpemUoZ2xvYmVfcG9zKSp1X3RpbGVfdXBfc2NhbGU7XFxuI2lmZGVmIEdMT0JFX1BPTEVTXFxudmVjMyB1cF92ZWN0b3I9Z2xvYmVfZGVyaXZlZF91cF92ZWN0b3I7XFxuI2Vsc2VcXG52ZWMzIHVwX3ZlY3Rvcj1lbGV2YXRpb25WZWN0b3IodGlsZV9wb3MpO1xcbiNlbmRpZlxcbmZsb2F0IGhlaWdodD1lbGV2YXRpb24odGlsZV9wb3MpO2dsb2JlX3Bvcys9dXBfdmVjdG9yKmhlaWdodDtcXG4jaWZuZGVmIEdMT0JFX1BPTEVTXFxuZ2xvYmVfcG9zLT1nbG9iZV9kZXJpdmVkX3VwX3ZlY3Rvcip1X3NraXJ0X2hlaWdodCpkZWNvbXBvc2VkX3Bvc19hbmRfc2tpcnQuejtcXG4jZW5kaWZcXG4jaWZkZWYgR0xPQkVfUE9MRVNcXG52ZWM0IGludGVycG9sYXRlZF9wb3M9dV9nbG9iZV9tYXRyaXgqdmVjNChnbG9iZV9wb3MsMS4wKTtcXG4jZWxzZVxcbnZlYzQgZ2xvYmVfd29ybGRfcG9zPXVfZ2xvYmVfbWF0cml4KnZlYzQoZ2xvYmVfcG9zLDEuMCk7dmVjNCBtZXJjX3dvcmxkX3Bvcz12ZWM0KDAuMCk7aWYgKHVfem9vbV90cmFuc2l0aW9uID4gMC4wKSB7bWVyY193b3JsZF9wb3M9dmVjNChtZXJjX3BvcyxoZWlnaHQtdV9za2lydF9oZWlnaHQqZGVjb21wb3NlZF9wb3NfYW5kX3NraXJ0LnosMS4wKTttZXJjX3dvcmxkX3Bvcy54eS09dV9tZXJjX2NlbnRlcjttZXJjX3dvcmxkX3Bvcy54PXdyYXAobWVyY193b3JsZF9wb3MueCwtMC41LDAuNSk7bWVyY193b3JsZF9wb3M9dV9tZXJjX21hdHJpeCptZXJjX3dvcmxkX3Bvczt9dmVjNCBpbnRlcnBvbGF0ZWRfcG9zPXZlYzQobWl4KGdsb2JlX3dvcmxkX3Bvcy54eXosbWVyY193b3JsZF9wb3MueHl6LHVfem9vbV90cmFuc2l0aW9uKSwxLjApO1xcbiNlbmRpZlxcbmdsX1Bvc2l0aW9uPXVfcHJval9tYXRyaXgqaW50ZXJwb2xhdGVkX3BvcztcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbigodV9ub3JtYWxpemVfbWF0cml4KnZlYzQoZ2xvYmVfcG9zLDEuMCkpLnh5eik7XFxuI2VuZGlmXFxufScpLGdsb2JlQXRtb3NwaGVyZTpaRSgnI2luY2x1ZGUgXCJfcHJlbHVkZV9mb2cuZnJhZ21lbnQuZ2xzbFwiXFxudW5pZm9ybSBmbG9hdCB1X3RyYW5zaXRpb247dW5pZm9ybSBoaWdocCBmbG9hdCB1X2ZhZGVvdXRfcmFuZ2U7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3RlbXBvcmFsX29mZnNldDt1bmlmb3JtIHZlYzQgdV9jb2xvcjt1bmlmb3JtIHZlYzQgdV9oaWdoX2NvbG9yO3VuaWZvcm0gdmVjNCB1X3NwYWNlX2NvbG9yO3VuaWZvcm0gZmxvYXQgdV9ob3Jpem9uX2FuZ2xlO2luIGhpZ2hwIHZlYzMgdl9yYXlfZGlyO2luIGhpZ2hwIHZlYzMgdl9ob3Jpem9uX2Rpcjt2b2lkIG1haW4oKSB7aGlnaHAgdmVjMyBkaXI9bm9ybWFsaXplKHZfcmF5X2Rpcik7ZmxvYXQgZ2xvYmVfcG9zX2RvdF9kaXI7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmdsb2JlX3Bvc19kb3RfZGlyPWRvdCh1X2dsb2JlX3BvcyxkaXIpO2hpZ2hwIHZlYzMgY2xvc2VzdF9wb2ludF9mb3J3YXJkPWFicyhnbG9iZV9wb3NfZG90X2RpcikqZGlyO2Zsb2F0IG5vcm1fZGlzdF9mcm9tX2NlbnRlcj1sZW5ndGgoY2xvc2VzdF9wb2ludF9mb3J3YXJkLXVfZ2xvYmVfcG9zKS91X2dsb2JlX3JhZGl1cztpZiAobm9ybV9kaXN0X2Zyb21fY2VudGVyIDwgMC45OCkge1xcbiNpZmRlZiBBTFBIQV9QQVNTXFxuZ2xGcmFnQ29sb3I9dmVjNCgwLDAsMCwwKTtyZXR1cm47XFxuI2Vsc2VcXG4jaWZkZWYgTkFUSVZFXFxuZ2xGcmFnQ29sb3I9dmVjNCgxLDEsMSwxKTtcXG4jZWxzZVxcbmdsRnJhZ0NvbG9yPXZlYzQoMCwwLDAsMSk7XFxuI2VuZGlmXFxucmV0dXJuO1xcbiNlbmRpZlxcbn1cXG4jZW5kaWZcXG5oaWdocCB2ZWMzIGhvcml6b25fZGlyPW5vcm1hbGl6ZSh2X2hvcml6b25fZGlyKTtmbG9hdCBob3Jpem9uX2FuZ2xlX21lcmNhdG9yPWRpci55IDwgaG9yaXpvbl9kaXIueSA/XFxuMC4wIDogbWF4KGFjb3MoY2xhbXAoZG90KGRpcixob3Jpem9uX2RpciksLTEuMCwxLjApKSwwLjApO2Zsb2F0IGhvcml6b25fYW5nbGU7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmhpZ2hwIHZlYzMgY2xvc2VzdF9wb2ludD1nbG9iZV9wb3NfZG90X2RpcipkaXI7aGlnaHAgZmxvYXQgY2xvc2VzdF9wb2ludF90b19jZW50ZXI9bGVuZ3RoKGNsb3Nlc3RfcG9pbnQtdV9nbG9iZV9wb3MpO2hpZ2hwIGZsb2F0IHRoZXRhPWFzaW4oY2xhbXAoY2xvc2VzdF9wb2ludF90b19jZW50ZXIvbGVuZ3RoKHVfZ2xvYmVfcG9zKSwtMS4wLDEuMCkpO2hvcml6b25fYW5nbGU9Z2xvYmVfcG9zX2RvdF9kaXIgPCAwLjAgP1xcblBJLXRoZXRhLXVfaG9yaXpvbl9hbmdsZSA6IHRoZXRhLXVfaG9yaXpvbl9hbmdsZTtmbG9hdCBhbmdsZV90PXBvdyh1X3RyYW5zaXRpb24sMTAuMCk7aG9yaXpvbl9hbmdsZT1taXgoaG9yaXpvbl9hbmdsZSxob3Jpem9uX2FuZ2xlX21lcmNhdG9yLGFuZ2xlX3QpO1xcbiNlbHNlXFxuaG9yaXpvbl9hbmdsZT1ob3Jpem9uX2FuZ2xlX21lcmNhdG9yO1xcbiNlbmRpZlxcbmhvcml6b25fYW5nbGUvPVBJO2Zsb2F0IHQ9ZXhwKC1ob3Jpem9uX2FuZ2xlL3VfZmFkZW91dF9yYW5nZSk7ZmxvYXQgYWxwaGFfMD11X2NvbG9yLmE7ZmxvYXQgYWxwaGFfMT11X2hpZ2hfY29sb3IuYTtmbG9hdCBhbHBoYV8yPXVfc3BhY2VfY29sb3IuYTt2ZWMzIGNvbG9yX3N0b3BfMD11X2NvbG9yLnJnYjt2ZWMzIGNvbG9yX3N0b3BfMT11X2hpZ2hfY29sb3IucmdiO3ZlYzMgY29sb3Jfc3RvcF8yPXVfc3BhY2VfY29sb3IucmdiO1xcbiNpZmRlZiBBTFBIQV9QQVNTXFxuZmxvYXQgYTA9bWl4KGFscGhhXzIsMS4wLGFscGhhXzEpO2Zsb2F0IGExPW1peChhMCwxLjAsYWxwaGFfMCk7ZmxvYXQgYTI9bWl4KGEwLGExLHQpO2Zsb2F0IGEgPW1peChhbHBoYV8yLGEyLHQpO2dsRnJhZ0NvbG9yPXZlYzQoMS4wLDEuMCwxLjAsYSk7XFxuI2Vsc2VcXG52ZWMzIGMwPW1peChjb2xvcl9zdG9wXzIsY29sb3Jfc3RvcF8xLGFscGhhXzEpO3ZlYzMgYzE9bWl4KGMwLGNvbG9yX3N0b3BfMCxhbHBoYV8wKTt2ZWMzIGMyPW1peChjMCxjMSx0KTt2ZWMzIGM9YzI7XFxuI2lmbmRlZiBOQVRJVkVcXG5jPWRpdGhlcihjLGdsX0ZyYWdDb29yZC54eSt1X3RlbXBvcmFsX29mZnNldCk7XFxuI2VuZGlmXFxuZ2xGcmFnQ29sb3I9dmVjNChjKnQsdCk7XFxuI2VuZGlmXFxufScsXCJpbiB2ZWMzIGFfcG9zO2luIHZlYzIgYV91djt1bmlmb3JtIHZlYzMgdV9mcnVzdHVtX3RsO3VuaWZvcm0gdmVjMyB1X2ZydXN0dW1fdHI7dW5pZm9ybSB2ZWMzIHVfZnJ1c3R1bV9icjt1bmlmb3JtIHZlYzMgdV9mcnVzdHVtX2JsO3VuaWZvcm0gZmxvYXQgdV9ob3Jpem9uO291dCBoaWdocCB2ZWMzIHZfcmF5X2RpcjtvdXQgaGlnaHAgdmVjMyB2X2hvcml6b25fZGlyO3ZvaWQgbWFpbigpIHt2X3JheV9kaXI9bWl4KFxcbm1peCh1X2ZydXN0dW1fdGwsdV9mcnVzdHVtX3RyLGFfdXYueCksbWl4KHVfZnJ1c3R1bV9ibCx1X2ZydXN0dW1fYnIsYV91di54KSxhX3V2LnkpO3ZfaG9yaXpvbl9kaXI9bWl4KFxcbm1peCh1X2ZydXN0dW1fdGwsdV9mcnVzdHVtX2JsLHVfaG9yaXpvbiksbWl4KHVfZnJ1c3R1bV90cix1X2ZydXN0dW1fYnIsdV9ob3Jpem9uKSxhX3V2LngpO2dsX1Bvc2l0aW9uPXZlYzQoYV9wb3MsMS4wKTt9XCIpLG1vZGVsOlpFKCcjaW5jbHVkZSBcIl9wcmVsdWRlX2ZvZy5mcmFnbWVudC5nbHNsXCJcXG4jaW5jbHVkZSBcIl9wcmVsdWRlX3NoYWRvdy5mcmFnbWVudC5nbHNsXCJcXG4jaW5jbHVkZSBcIl9wcmVsdWRlX2xpZ2h0aW5nLmdsc2xcIlxcbnVuaWZvcm0gZmxvYXQgdV9vcGFjaXR5O3VuaWZvcm0gdmVjMyB1X2xpZ2h0Y29sb3I7dW5pZm9ybSB2ZWMzIHVfbGlnaHRwb3M7dW5pZm9ybSBmbG9hdCB1X2xpZ2h0aW50ZW5zaXR5O3VuaWZvcm0gdmVjNCB1X2Jhc2VDb2xvckZhY3Rvcjt1bmlmb3JtIHZlYzQgdV9lbWlzc2l2ZUZhY3Rvcjt1bmlmb3JtIGZsb2F0IHVfbWV0YWxsaWNGYWN0b3I7dW5pZm9ybSBmbG9hdCB1X3JvdWdobmVzc0ZhY3Rvcjt1bmlmb3JtIGZsb2F0IHVfZW1pc3NpdmVfc3RyZW5ndGg7aW4gaGlnaHAgdmVjNCB2X3Bvc2l0aW9uX2hlaWdodDtpbiBsb3dwIHZlYzQgdl9jb2xvcl9taXg7XFxuI2lmZGVmIFJFTkRFUl9TSEFET1dTXFxuaW4gdmVjNCB2X3Bvc19saWdodF92aWV3XzA7aW4gdmVjNCB2X3Bvc19saWdodF92aWV3XzE7aW4gZmxvYXQgdl9kZXB0aF9zaGFkb3dzO1xcbiNlbmRpZlxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUtYXR0cmlidXRlIGhpZ2hwIHZlYzMgbm9ybWFsXzNmXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZS1hdHRyaWJ1dGUgaGlnaHAgdmVjMyBjb2xvcl8zZlxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUtYXR0cmlidXRlIGhpZ2hwIHZlYzQgY29sb3JfNGZcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lLWF0dHJpYnV0ZSBoaWdocCB2ZWMyIHV2XzJmXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUtYXR0cmlidXRlIGhpZ2hwIHZlYzMgbm9ybWFsXzNmXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUtYXR0cmlidXRlIGhpZ2hwIHZlYzMgY29sb3JfM2ZcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZS1hdHRyaWJ1dGUgaGlnaHAgdmVjNCBjb2xvcl80ZlxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplLWF0dHJpYnV0ZSBoaWdocCB2ZWMyIHV2XzJmXFxuI2lmZGVmIEhBU19BVFRSSUJVVEVfYV9wYnJcXG5pbiBsb3dwIHZlYzQgdl9yb3VnaG5lc3NfbWV0YWxsaWNfZW1pc3NpdmVfYWxwaGE7aW4gbWVkaXVtcCB2ZWM0IHZfaGVpZ2h0X2Jhc2VkX2VtaXNzaW9uX3BhcmFtcztcXG4jZW5kaWZcXG4jaWZkZWYgSEFTX1RFWFRVUkVfdV9iYXNlQ29sb3JUZXh0dXJlXFxudW5pZm9ybSBzYW1wbGVyMkQgdV9iYXNlQ29sb3JUZXh0dXJlO3VuaWZvcm0gYm9vbCB1X2Jhc2VUZXh0dXJlSXNBbHBoYTt1bmlmb3JtIGJvb2wgdV9hbHBoYU1hc2s7dW5pZm9ybSBmbG9hdCB1X2FscGhhQ3V0b2ZmO1xcbiNlbmRpZlxcbiNpZmRlZiBIQVNfVEVYVFVSRV91X21ldGFsbGljUm91Z2huZXNzVGV4dHVyZVxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfbWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlO1xcbiNlbmRpZlxcbiNpZmRlZiBIQVNfVEVYVFVSRV91X29jY2x1c2lvblRleHR1cmVcXG51bmlmb3JtIHNhbXBsZXIyRCB1X29jY2x1c2lvblRleHR1cmU7dW5pZm9ybSBmbG9hdCB1X2FvSW50ZW5zaXR5O1xcbiNlbmRpZlxcbiNpZmRlZiBIQVNfVEVYVFVSRV91X25vcm1hbFRleHR1cmVcXG51bmlmb3JtIHNhbXBsZXIyRCB1X25vcm1hbFRleHR1cmU7XFxuI2VuZGlmXFxuI2lmZGVmIEhBU19URVhUVVJFX3VfZW1pc3Npb25UZXh0dXJlXFxudW5pZm9ybSBzYW1wbGVyMkQgdV9lbWlzc2lvblRleHR1cmU7XFxuI2VuZGlmXFxuI2lmZGVmIFRFUlJBSU5fRlJBR01FTlRfT0NDTFVTSU9OXFxuaW4gaGlnaHAgZmxvYXQgdl9kZXB0aDt1bmlmb3JtIHNhbXBsZXIyRCB1X2RlcHRoVGV4dHVyZTt1bmlmb3JtIHZlYzIgdV9pbnZfZGVwdGhfc2l6ZTtib29sIGlzT2NjbHVkZWQoKSB7dmVjMiBjb29yZD1nbF9GcmFnQ29vcmQueHkqdV9pbnZfZGVwdGhfc2l6ZTtoaWdocCBmbG9hdCBkZXB0aD11bnBhY2tfZGVwdGgodGV4dHVyZSh1X2RlcHRoVGV4dHVyZSxjb29yZCkpO3JldHVybiB2X2RlcHRoID4gZGVwdGgrMC4wMDA1O31cXG4jZW5kaWZcXG4jZGVmaW5lIHNhdHVyYXRlKF94KSBjbGFtcChfeCwwLiwxLilcXG52ZWMzIGxpbmVhclRvc1JHQih2ZWMzIGNvbG9yKSB7cmV0dXJuIHBvdyhjb2xvcix2ZWMzKDEuLzIuMikpO312ZWMzIHNSR0JUb0xpbmVhcih2ZWMzIHNyZ2JJbikge3JldHVybiBwb3coc3JnYkluLHZlYzMoMi4yKSk7fWZsb2F0IGNhbGN1bGF0ZV9OZG90TCh2ZWMzIG5vcm1hbCx2ZWMzIGxpZ2h0RGlyKSB7Y29uc3QgZmxvYXQgZXh0PTAuNzA3MTA2NzgxMTg7cmV0dXJuIChjbGFtcChkb3Qobm9ybWFsLGxpZ2h0RGlyKSwtZXh0LDEuMCkrZXh0KS8oMS4wK2V4dCk7fXZlYzMgZ2V0RGlmZnVzZVNoYWRlZENvbG9yKHZlYzMgYWxiZWRvLHZlYzMgbm9ybWFsLHZlYzMgbGlnaHREaXIsdmVjMyBsaWdodENvbG9yKVxcbntcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbnZlYzMgdHJhbnNmb3JtZWRfbm9ybWFsPXZlYzMoLW5vcm1hbC54eSxub3JtYWwueik7ZmxvYXQgbGlnaHRpbmdfZmFjdG9yO1xcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbmxpZ2h0aW5nX2ZhY3Rvcj1zaGFkb3dlZF9saWdodF9mYWN0b3Jfbm9ybWFsKHRyYW5zZm9ybWVkX25vcm1hbCx2X3Bvc19saWdodF92aWV3XzAsdl9wb3NfbGlnaHRfdmlld18xLHZfZGVwdGhfc2hhZG93cyk7XFxuI2Vsc2VcXG5saWdodGluZ19mYWN0b3I9c2F0dXJhdGUoZG90KHRyYW5zZm9ybWVkX25vcm1hbCx1X2xpZ2h0aW5nX2RpcmVjdGlvbmFsX2RpcikpO1xcbiNlbmRpZlxcbnJldHVybiBhcHBseV9saWdodGluZyhhbGJlZG8sdHJhbnNmb3JtZWRfbm9ybWFsLGxpZ2h0aW5nX2ZhY3Rvcik7XFxuI2Vsc2VcXG52ZWMzIG49bm9ybWFsO2Zsb2F0IGNvbG9ydmFsdWU9KChhbGJlZG8ueCowLjIxMjYpKyhhbGJlZG8ueSowLjcxNTIpKSsoYWxiZWRvLnoqMC4wNzIyKTt2ZWMzIGM9dmVjMygwLjAzLDAuMDMsMC4wMyk7ZmxvYXQgZGlyZWN0aW9uYWw9Y2xhbXAoZG90KG4sdmVjMyhsaWdodERpcikpLDAuMCwxLjApO2RpcmVjdGlvbmFsPW1peCgxLjAtdV9saWdodGludGVuc2l0eSxtYXgoKDEuMC1jb2xvcnZhbHVlKSt1X2xpZ2h0aW50ZW5zaXR5LDEuMCksZGlyZWN0aW9uYWwpO3ZlYzMgYzM9YytjbGFtcCgoYWxiZWRvKmRpcmVjdGlvbmFsKSpsaWdodENvbG9yLG1peCh2ZWMzKDAuMCksdmVjMygwLjMpLHZlYzMoMS4wKS1saWdodENvbG9yKSx2ZWMzKDEuMCkpO3JldHVybiBjMztcXG4jZW5kaWZcXG59dmVjNCBnZXRCYXNlQ29sb3IoKSB7dmVjNCBhbGJlZG89dV9iYXNlQ29sb3JGYWN0b3I7XFxuI2lmZGVmIEhBU19BVFRSSUJVVEVfYV9jb2xvcl8zZlxcbmFsYmVkbyo9dmVjNChjb2xvcl8zZiwxLjApO1xcbiNlbmRpZlxcbiNpZmRlZiBIQVNfQVRUUklCVVRFX2FfcGJyXFxuI2Vsc2VcXG4jaWZkZWYgSEFTX0FUVFJJQlVURV9hX2NvbG9yXzRmXFxuYWxiZWRvKj1jb2xvcl80ZjtcXG4jZW5kaWZcXG4jZW5kaWZcXG4jaWYgZGVmaW5lZCAoSEFTX1RFWFRVUkVfdV9iYXNlQ29sb3JUZXh0dXJlKSAmJiBkZWZpbmVkIChIQVNfQVRUUklCVVRFX2FfdXZfMmYpXFxudmVjNCB0ZXhDb2xvcj10ZXh0dXJlKHVfYmFzZUNvbG9yVGV4dHVyZSx1dl8yZik7aWYodV9hbHBoYU1hc2spIHtpZiAodGV4Q29sb3IudyA8IHVfYWxwaGFDdXRvZmYpIHtkaXNjYXJkO319XFxuI2lmZGVmIFVOUFJFTVVMVF9URVhUVVJFX0lOX1NIQURFUlxcbmlmKHRleENvbG9yLncgPiAwLjApIHt0ZXhDb2xvci5yZ2IvPXRleENvbG9yLnc7fXRleENvbG9yLnc9MS4wO1xcbiNlbmRpZlxcbnRleENvbG9yLnJnYj1zUkdCVG9MaW5lYXIodGV4Q29sb3IucmdiKTtpZih1X2Jhc2VUZXh0dXJlSXNBbHBoYSkge2lmICh0ZXhDb2xvci53IDwgMC41KSB7ZGlzY2FyZDt9YWxiZWRvKj1taXgodmVjNCh0ZXhDb2xvci5yZ2IsdGV4Q29sb3IuYSksdmVjNCh0ZXhDb2xvci5hKSxmbG9hdCh1X2Jhc2VUZXh0dXJlSXNBbHBoYSkpO30gZWxzZSB7YWxiZWRvKj10ZXhDb2xvcjt9XFxuI2VuZGlmXFxucmV0dXJuIHZlYzQobWl4KGFsYmVkby5yZ2Isdl9jb2xvcl9taXgucmdiLHZfY29sb3JfbWl4LmEpLGFsYmVkby5hKTt9aGlnaHAgbWF0MyBjb3RhbmdlbnRGcmFtZShoaWdocCB2ZWMzIE4saGlnaHAgdmVjMyBwLGhpZ2hwIHZlYzIgdXYgKSB7XFxuI2lmZGVmIEhBU19URVhUVVJFX3Vfbm9ybWFsVGV4dHVyZVxcbmhpZ2hwIHZlYzMgZHAxPXZlYzMoZEZkeChwLngpLGRGZHgocC55KSxkRmR4KHAueikpO2hpZ2hwIHZlYzMgZHAyPXZlYzMoZEZkeShwLngpLGRGZHkocC55KSxkRmR5KHAueikpO2hpZ2hwIHZlYzIgZHV2MT12ZWMyKGRGZHgodXYueCksZEZkeCh1di55KSk7aGlnaHAgdmVjMiBkdXYyPXZlYzIoZEZkeSh1di54KSxkRmR5KHV2LnkpKTtoaWdocCB2ZWMzIGRwMnBlcnA9Y3Jvc3MoIGRwMixOICk7aGlnaHAgdmVjMyBkcDFwZXJwPWNyb3NzKCBOLGRwMSApO2hpZ2hwIHZlYzMgVD1kcDJwZXJwKmR1djEueCtkcDFwZXJwKmR1djIueDtoaWdocCB2ZWMzIEI9ZHAycGVycCpkdXYxLnkrZHAxcGVycCpkdXYyLnk7aGlnaHAgZmxvYXQgbGVuZ3RoVD1kb3QoVCxUKTtoaWdocCBmbG9hdCBsZW5ndGhCPWRvdChCLEIpO2hpZ2hwIGZsb2F0IG1heExlbmd0aD1tYXgobGVuZ3RoVCxsZW5ndGhCKTtoaWdocCBmbG9hdCBpbnZtYXg9aW52ZXJzZXNxcnQoIG1heExlbmd0aCApO2hpZ2hwIG1hdDMgcmVzPW1hdDMoIFQqaW52bWF4LEIqaW52bWF4LE4gKTtyZXR1cm4gcmVzO1xcbiNlbHNlXFxucmV0dXJuIG1hdDMoMS4wKTtcXG4jZW5kaWZcXG59aGlnaHAgdmVjMyBnZXROb3JtYWwoKXtoaWdocCB2ZWMzIG47XFxuI2lmZGVmIEhBU19BVFRSSUJVVEVfYV9ub3JtYWxfM2ZcXG5uPW5vcm1hbGl6ZShub3JtYWxfM2YpO1xcbiNlbHNlXFxuaGlnaHAgdmVjMyBmZHg9dmVjMyhkRmR4KHZfcG9zaXRpb25faGVpZ2h0LngpLGRGZHgodl9wb3NpdGlvbl9oZWlnaHQueSksZEZkeCh2X3Bvc2l0aW9uX2hlaWdodC56KSk7aGlnaHAgdmVjMyBmZHk9dmVjMyhkRmR5KHZfcG9zaXRpb25faGVpZ2h0LngpLGRGZHkodl9wb3NpdGlvbl9oZWlnaHQueSksZEZkeSh2X3Bvc2l0aW9uX2hlaWdodC56KSk7bj1ub3JtYWxpemUoY3Jvc3MoZmR4LGZkeSkpKi0xLjA7XFxuI2VuZGlmXFxuI2lmIGRlZmluZWQoSEFTX1RFWFRVUkVfdV9ub3JtYWxUZXh0dXJlKSAmJiBkZWZpbmVkKEhBU19BVFRSSUJVVEVfYV91dl8yZilcXG52ZWMzIG5NYXA9dGV4dHVyZSggdV9ub3JtYWxUZXh0dXJlLHV2XzJmKS54eXo7bk1hcD1ub3JtYWxpemUoMi4wKm5NYXAtdmVjMygxLjApKTtoaWdocCB2ZWMzIHY9bm9ybWFsaXplKC12X3Bvc2l0aW9uX2hlaWdodC54eXopO2hpZ2hwIG1hdDMgVEJOPWNvdGFuZ2VudEZyYW1lKG4sdix1dl8yZik7bj1ub3JtYWxpemUoVEJOKm5NYXApO1xcbiNlbmRpZlxcbnJldHVybiBuO31zdHJ1Y3QgTWF0ZXJpYWwge2Zsb2F0IHBlcmNlcHR1YWxSb3VnaG5lc3M7ZmxvYXQgYWxwaGFSb3VnaG5lc3M7ZmxvYXQgbWV0YWxsaWM7dmVjMyBmOTA7dmVjNCBiYXNlQ29sb3I7dmVjMyBkaWZmdXNlQ29sb3I7dmVjMyBzcGVjdWxhckNvbG9yO2hpZ2hwIHZlYzMgbm9ybWFsO307TWF0ZXJpYWwgZ2V0UEJSTWF0ZXJpYWwoKSB7TWF0ZXJpYWwgbWF0O21hdC5iYXNlQ29sb3I9Z2V0QmFzZUNvbG9yKCk7bWF0LnBlcmNlcHR1YWxSb3VnaG5lc3M9dV9yb3VnaG5lc3NGYWN0b3I7bWF0Lm1ldGFsbGljPXVfbWV0YWxsaWNGYWN0b3I7XFxuI2lmZGVmIEhBU19BVFRSSUJVVEVfYV9wYnJcXG5tYXQucGVyY2VwdHVhbFJvdWdobmVzcz12X3JvdWdobmVzc19tZXRhbGxpY19lbWlzc2l2ZV9hbHBoYS54O21hdC5tZXRhbGxpYz12X3JvdWdobmVzc19tZXRhbGxpY19lbWlzc2l2ZV9hbHBoYS55O21hdC5iYXNlQ29sb3Iudyo9dl9yb3VnaG5lc3NfbWV0YWxsaWNfZW1pc3NpdmVfYWxwaGEudztcXG4jZW5kaWZcXG4jaWYgZGVmaW5lZChIQVNfVEVYVFVSRV91X21ldGFsbGljUm91Z2huZXNzVGV4dHVyZSkgJiYgZGVmaW5lZChIQVNfQVRUUklCVVRFX2FfdXZfMmYpIFxcbnZlYzQgbXJTYW1wbGU9dGV4dHVyZSh1X21ldGFsbGljUm91Z2huZXNzVGV4dHVyZSx1dl8yZik7bWF0LnBlcmNlcHR1YWxSb3VnaG5lc3MqPW1yU2FtcGxlLmc7bWF0Lm1ldGFsbGljKj1tclNhbXBsZS5iO1xcbiNlbmRpZlxcbmNvbnN0IGZsb2F0IGNfbWluUm91Z2huZXNzPTAuMDQ7bWF0LnBlcmNlcHR1YWxSb3VnaG5lc3M9Y2xhbXAobWF0LnBlcmNlcHR1YWxSb3VnaG5lc3MsY19taW5Sb3VnaG5lc3MsMS4wKTttYXQubWV0YWxsaWM9c2F0dXJhdGUobWF0Lm1ldGFsbGljKTttYXQuYWxwaGFSb3VnaG5lc3M9bWF0LnBlcmNlcHR1YWxSb3VnaG5lc3MqbWF0LnBlcmNlcHR1YWxSb3VnaG5lc3M7Y29uc3QgdmVjMyBmMD12ZWMzKDAuMDQpO21hdC5kaWZmdXNlQ29sb3I9bWF0LmJhc2VDb2xvci5yZ2IqKHZlYzMoMS4wKS1mMCk7bWF0LmRpZmZ1c2VDb2xvcio9MS4wLW1hdC5tZXRhbGxpYzttYXQuc3BlY3VsYXJDb2xvcj1taXgoZjAsbWF0LmJhc2VDb2xvci5yZ2IsbWF0Lm1ldGFsbGljKTtoaWdocCBmbG9hdCByZWZsZWN0YW5jZT1tYXgobWF4KG1hdC5zcGVjdWxhckNvbG9yLnIsbWF0LnNwZWN1bGFyQ29sb3IuZyksbWF0LnNwZWN1bGFyQ29sb3IuYik7aGlnaHAgZmxvYXQgcmVmbGVjdGFuY2U5MD1zYXR1cmF0ZShyZWZsZWN0YW5jZSoyNS4wKTttYXQuZjkwPXZlYzMocmVmbGVjdGFuY2U5MCk7bWF0Lm5vcm1hbD1nZXROb3JtYWwoKTtyZXR1cm4gbWF0O31mbG9hdCBWX0dHWChmbG9hdCBOZG90TCxmbG9hdCBOZG90VixmbG9hdCByb3VnaG5lc3MpXFxue2Zsb2F0IGEyPXJvdWdobmVzcypyb3VnaG5lc3M7ZmxvYXQgR0dYVj1OZG90TCpzcXJ0KE5kb3RWKk5kb3RWKigxLjAtYTIpK2EyKTtmbG9hdCBHR1hMPU5kb3RWKnNxcnQoTmRvdEwqTmRvdEwqKDEuMC1hMikrYTIpO3JldHVybiAwLjUvKEdHWFYrR0dYTCk7fWZsb2F0IFZfR0dYRmFzdChmbG9hdCBOZG90TCxmbG9hdCBOZG90VixmbG9hdCByb3VnaG5lc3MpIHtmbG9hdCBhPXJvdWdobmVzcztmbG9hdCBHR1hWPU5kb3RMKihOZG90ViooMS4wLWEpK2EpO2Zsb2F0IEdHWEw9TmRvdFYqKE5kb3RMKigxLjAtYSkrYSk7cmV0dXJuIDAuNS8oR0dYVitHR1hMKTt9dmVjMyBGX1NjaGxpY2sodmVjMyBzcGVjdWxhckNvbG9yLHZlYzMgZjkwLGZsb2F0IFZkb3RIKVxcbntyZXR1cm4gc3BlY3VsYXJDb2xvcisoZjkwLXNwZWN1bGFyQ29sb3IpKnBvdyhjbGFtcCgxLjAtVmRvdEgsMC4wLDEuMCksNS4wKTt9dmVjMyBGX1NjaGxpY2tGYXN0KHZlYzMgc3BlY3VsYXJDb2xvcixmbG9hdCBWZG90SClcXG57ZmxvYXQgeD0xLjAtVmRvdEg7ZmxvYXQgeDQ9eCp4KngqeDtyZXR1cm4gc3BlY3VsYXJDb2xvcisoMS4wLXNwZWN1bGFyQ29sb3IpKng0Kng7fWZsb2F0IERfR0dYKGhpZ2hwIGZsb2F0IE5kb3RILGZsb2F0IGFscGhhUm91Z2huZXNzKVxcbntoaWdocCBmbG9hdCBhND1hbHBoYVJvdWdobmVzcyphbHBoYVJvdWdobmVzcztoaWdocCBmbG9hdCBmPShOZG90SCphNC1OZG90SCkqTmRvdEgrMS4wO3JldHVybiBhNC8oUEkqZipmKTt9dmVjMyBkaWZmdXNlQnVybGV5KE1hdGVyaWFsIG1hdCxmbG9hdCBMZG90SCxmbG9hdCBOZG90TCxmbG9hdCBOZG90VilcXG57ZmxvYXQgZjkwPTIuMCpMZG90SCpMZG90SCptYXQuYWxwaGFSb3VnaG5lc3MtMC41O3JldHVybiAobWF0LmRpZmZ1c2VDb2xvci9QSSkqKDEuMCtmOTAqcG93KCgxLjAtTmRvdEwpLDUuMCkpKigxLjArZjkwKnBvdygoMS4wLU5kb3RWKSw1LjApKTt9dmVjMyBkaWZmdXNlTGFtYmVydGlhbihNYXRlcmlhbCBtYXQpXFxue1xcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxucmV0dXJuIG1hdC5kaWZmdXNlQ29sb3I7XFxuI2Vsc2VcXG5yZXR1cm4gbWF0LmRpZmZ1c2VDb2xvci9QSTtcXG4jZW5kaWZcXG59dmVjMyBFbnZCUkRGQXBwcm94KHZlYzMgc3BlY3VsYXJDb2xvcixmbG9hdCByb3VnaG5lc3MsaGlnaHAgZmxvYXQgTmRvdFYpXFxue3ZlYzQgYzA9dmVjNCgtMSwtMC4wMjc1LC0wLjU3MiwwLjAyMik7dmVjNCBjMT12ZWM0KDEsMC4wNDI1LDEuMDQsLTAuMDQpO2hpZ2hwIHZlYzQgcj1yb3VnaG5lc3MqYzArYzE7aGlnaHAgZmxvYXQgYTAwND1taW4oci54KnIueCxleHAyKC05LjI4Kk5kb3RWKSkqci54K3IueTt2ZWMyIEFCPXZlYzIoLTEuMDQsMS4wNCkqYTAwNCtyLnp3O3JldHVybiBzcGVjdWxhckNvbG9yKkFCLngrQUIueTt9dmVjMyBjb21wdXRlSW5kaXJlY3RMaWdodENvbnRyaWJ1dGlvbihNYXRlcmlhbCBtYXQsZmxvYXQgTmRvdFYsdmVjMyBub3JtYWwpXFxue3ZlYzMgZW52X2xpZ2h0PXZlYzMoMC42NSwwLjY1LDAuNjUpO1xcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxuZmxvYXQgYW1iaWVudF9mYWN0b3I9Y2FsY3VsYXRlX2FtYmllbnRfZGlyZWN0aW9uYWxfZmFjdG9yKG5vcm1hbCk7ZW52X2xpZ2h0PXVfbGlnaHRpbmdfYW1iaWVudF9jb2xvciphbWJpZW50X2ZhY3RvcjtcXG4jZW5kaWZcXG52ZWMzIGVudkJSREY9RW52QlJERkFwcHJveChtYXQuc3BlY3VsYXJDb2xvcixtYXQucGVyY2VwdHVhbFJvdWdobmVzcyxOZG90Vik7dmVjMyBpbmRpcmVjdFNwZWN1bGFyPSBlbnZCUkRGKmVudl9saWdodDt2ZWMzIGluZGlyZWN0RGlmZnVzZT1tYXQuZGlmZnVzZUNvbG9yKmVudl9saWdodDtyZXR1cm4gaW5kaXJlY3RTcGVjdWxhcitpbmRpcmVjdERpZmZ1c2U7fXZlYzMgY29tcHV0ZUxpZ2h0Q29udHJpYnV0aW9uKE1hdGVyaWFsIG1hdCx2ZWMzIGxpZ2h0UG9zaXRpb24sdmVjMyBsaWdodENvbG9yKVxcbntoaWdocCB2ZWMzIG49bWF0Lm5vcm1hbDtoaWdocCB2ZWMzIHY9bm9ybWFsaXplKC12X3Bvc2l0aW9uX2hlaWdodC54eXopO2hpZ2hwIHZlYzMgbD1ub3JtYWxpemUobGlnaHRQb3NpdGlvbik7aGlnaHAgdmVjMyBoPW5vcm1hbGl6ZSh2K2wpO2Zsb2F0IE5kb3RWPWNsYW1wKGFicyhkb3Qobix2KSksMC4wMDEsMS4wKTtmbG9hdCBOZG90TD1zYXR1cmF0ZShkb3QobixsKSk7aGlnaHAgZmxvYXQgTmRvdEg9c2F0dXJhdGUoZG90KG4saCkpO2Zsb2F0IFZkb3RIPXNhdHVyYXRlKGRvdCh2LGgpKTt2ZWMzIGY9Rl9TY2hsaWNrRmFzdChtYXQuc3BlY3VsYXJDb2xvcixWZG90SCk7ZmxvYXQgZz1WX0dHWEZhc3QoTmRvdEwsTmRvdFYsbWF0LmFscGhhUm91Z2huZXNzKTtmbG9hdCBkPURfR0dYKE5kb3RILG1hdC5hbHBoYVJvdWdobmVzcyk7dmVjMyBkaWZmdXNlVGVybT0oMS4wLWYpKmRpZmZ1c2VMYW1iZXJ0aWFuKG1hdCk7dmVjMyBzcGVjdWxhclRlcm09ZipnKmQ7dmVjMyB0cmFuc2Zvcm1lZF9ub3JtYWw9dmVjMygtbi54eSxuLnopO2Zsb2F0IGxpZ2h0aW5nX2ZhY3RvcjtcXG4jaWZkZWYgUkVOREVSX1NIQURPV1NcXG5saWdodGluZ19mYWN0b3I9c2hhZG93ZWRfbGlnaHRfZmFjdG9yX25vcm1hbCh0cmFuc2Zvcm1lZF9ub3JtYWwsdl9wb3NfbGlnaHRfdmlld18wLHZfcG9zX2xpZ2h0X3ZpZXdfMSx2X2RlcHRoX3NoYWRvd3MpO1xcbiNlbHNlXFxubGlnaHRpbmdfZmFjdG9yPU5kb3RMO1xcbiNlbmRpZlxcbnZlYzMgZGlyZWN0TGlnaHRDb2xvcj0oc3BlY3VsYXJUZXJtK2RpZmZ1c2VUZXJtKSpsaWdodGluZ19mYWN0b3IqbGlnaHRDb2xvcjt2ZWMzIGluZGlyZWN0TGlnaHRDb2xvcj1jb21wdXRlSW5kaXJlY3RMaWdodENvbnRyaWJ1dGlvbihtYXQsTmRvdFYsdHJhbnNmb3JtZWRfbm9ybWFsKTt2ZWMzIGNvbG9yPShzYXR1cmF0ZShkaXJlY3RMaWdodENvbG9yKStpbmRpcmVjdExpZ2h0Q29sb3IpO2Zsb2F0IGludGVuc2l0eUZhY3Rvcj0xLjA7XFxuI2lmICFkZWZpbmVkKExJR0hUSU5HXzNEX01PREUpXFxuY29uc3QgdmVjMyBsdW1pbm9zaXR5RmFjdG9yPXZlYzMoMC4yMTI2LDAuNzE1MiwwLjA3MjIpO2Zsb2F0IGx1bWluYW5jZT1kb3QoZGlmZnVzZVRlcm0sbHVtaW5vc2l0eUZhY3Rvcik7aW50ZW5zaXR5RmFjdG9yPW1peCgoMS4wLXVfbGlnaHRpbnRlbnNpdHkpLG1heCgoMS4wLWx1bWluYW5jZSt1X2xpZ2h0aW50ZW5zaXR5KSwxLjApLE5kb3RMKTtcXG4jZW5kaWZcXG5jb2xvcio9aW50ZW5zaXR5RmFjdG9yO3JldHVybiBjb2xvcjt9dm9pZCBtYWluKCkge1xcbiNpZmRlZiBURVJSQUlOX0ZSQUdNRU5UX09DQ0xVU0lPTlxcbmlmIChpc09jY2x1ZGVkKCkpIHtkaXNjYXJkO31cXG4jZW5kaWZcXG52ZWMzIGxpZ2h0RGlyPXVfbGlnaHRwb3M7dmVjMyBsaWdodENvbG9yPXVfbGlnaHRjb2xvcjtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbmxpZ2h0RGlyPXVfbGlnaHRpbmdfZGlyZWN0aW9uYWxfZGlyO2xpZ2h0RGlyLnh5PS1saWdodERpci54eTtsaWdodENvbG9yPXVfbGlnaHRpbmdfZGlyZWN0aW9uYWxfY29sb3I7XFxuI2VuZGlmXFxudmVjNCBmaW5hbENvbG9yO1xcbiNpZmRlZiBESUZGVVNFX1NIQURFRFxcbnZlYzMgTj1nZXROb3JtYWwoKTt2ZWMzIGRpZmZ1c2U9Z2V0RGlmZnVzZVNoYWRlZENvbG9yKGdldEJhc2VDb2xvcigpLnJnYixOLGxpZ2h0RGlyLGxpZ2h0Q29sb3IpO1xcbiNpZmRlZiBIQVNfVEVYVFVSRV91X29jY2x1c2lvblRleHR1cmVcXG5mbG9hdCBhbz0odGV4dHVyZSh1X29jY2x1c2lvblRleHR1cmUsdXZfMmYpLnItMS4wKSp1X2FvSW50ZW5zaXR5KzEuMDtkaWZmdXNlKj1hbztcXG4jZW5kaWZcXG5maW5hbENvbG9yPXZlYzQoZGlmZnVzZSwxLjApKnVfb3BhY2l0eTtcXG4jZWxzZVxcbk1hdGVyaWFsIG1hdD1nZXRQQlJNYXRlcmlhbCgpO3ZlYzMgY29sb3I9Y29tcHV0ZUxpZ2h0Q29udHJpYnV0aW9uKG1hdCxsaWdodERpcixsaWdodENvbG9yKTtmbG9hdCBhbz0xLjA7XFxuI2lmIGRlZmluZWQgKEhBU19URVhUVVJFX3Vfb2NjbHVzaW9uVGV4dHVyZSkgJiYgZGVmaW5lZChIQVNfQVRUUklCVVRFX2FfdXZfMmYpXFxuYW89KHRleHR1cmUodV9vY2NsdXNpb25UZXh0dXJlLHV2XzJmKS54LTEuMCkqdV9hb0ludGVuc2l0eSsxLjA7Y29sb3IqPWFvO1xcbiNlbmRpZlxcbnZlYzQgZW1pc3NpdmU9dV9lbWlzc2l2ZUZhY3RvcjtcXG4jaWYgZGVmaW5lZChIQVNfVEVYVFVSRV91X2VtaXNzaW9uVGV4dHVyZSkgJiYgZGVmaW5lZChIQVNfQVRUUklCVVRFX2FfdXZfMmYpXFxuZW1pc3NpdmUucmdiKj1zUkdCVG9MaW5lYXIodGV4dHVyZSh1X2VtaXNzaW9uVGV4dHVyZSx1dl8yZikucmdiKTtcXG4jZW5kaWZcXG5jb2xvcis9ZW1pc3NpdmUucmdiO2Zsb2F0IG9wYWNpdHk9bWF0LmJhc2VDb2xvci53KnVfb3BhY2l0eTtcXG4jaWZkZWYgSEFTX0FUVFJJQlVURV9hX3BiclxcbmZsb2F0IHJlc0VtaXNzaW9uPXZfcm91Z2huZXNzX21ldGFsbGljX2VtaXNzaXZlX2FscGhhLno7cmVzRW1pc3Npb24qPXZfaGVpZ2h0X2Jhc2VkX2VtaXNzaW9uX3BhcmFtcy56K3ZfaGVpZ2h0X2Jhc2VkX2VtaXNzaW9uX3BhcmFtcy53KnBvdyhjbGFtcCh2X2hlaWdodF9iYXNlZF9lbWlzc2lvbl9wYXJhbXMueCwwLjAsMS4wKSx2X2hlaWdodF9iYXNlZF9lbWlzc2lvbl9wYXJhbXMueSk7Y29sb3I9bWl4KGNvbG9yLHZfY29sb3JfbWl4LnJnYixtaW4oMS4wLHJlc0VtaXNzaW9uKSk7XFxuI2lmZGVmIEhBU19BVFRSSUJVVEVfYV9jb2xvcl80ZlxcbmZsb2F0IGRpc3RhbmNlPWxlbmd0aCh2ZWMyKDEuMyptYXgoMC4wLGFicyhjb2xvcl80Zi54KS1jb2xvcl80Zi56KSxjb2xvcl80Zi55KSk7ZGlzdGFuY2UrPSBtaXgoMC41LDAuMCxjbGFtcChyZXNFbWlzc2lvbi0xLjAsMC4wLDEuMCkpO29wYWNpdHkqPXZfcm91Z2huZXNzX21ldGFsbGljX2VtaXNzaXZlX2FscGhhLncqc2F0dXJhdGUoMS4wLWRpc3RhbmNlKmRpc3RhbmNlKTtcXG4jZW5kaWZcXG4jZW5kaWZcXG52ZWMzIHVubGl0Q29sb3I9bWF0LmJhc2VDb2xvci5yZ2IqYW8rZW1pc3NpdmUucmdiO2NvbG9yPW1peChjb2xvcix1bmxpdENvbG9yLHVfZW1pc3NpdmVfc3RyZW5ndGgpO2NvbG9yPWxpbmVhclRvc1JHQihjb2xvcik7Y29sb3IqPW9wYWNpdHk7ZmluYWxDb2xvcj12ZWM0KGNvbG9yLG9wYWNpdHkpO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5maW5hbENvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQoZmluYWxDb2xvcix2X2ZvZ19wb3Msdl9wb3NpdGlvbl9oZWlnaHQudykpO1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfQ1VUT0ZGXFxuZmluYWxDb2xvcio9dl9jdXRvZmZfb3BhY2l0eTtcXG4jZW5kaWZcXG4jaWZkZWYgSU5ESUNBVE9SX0NVVE9VVFxcbmZpbmFsQ29sb3I9YXBwbHlDdXRvdXQoZmluYWxDb2xvcik7XFxuI2VuZGlmXFxuZ2xGcmFnQ29sb3I9ZmluYWxDb2xvcjtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xGcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbkhBTkRMRV9XSVJFRlJBTUVfREVCVUc7fScsJyNpbmNsdWRlIFwiX3ByZWx1ZGVfZm9nLnZlcnRleC5nbHNsXCJcXG4jaW5jbHVkZSBcIl9wcmVsdWRlX3NoYWRvdy52ZXJ0ZXguZ2xzbFwiXFxuaW4gdmVjMyBhX3Bvc18zZjtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lLWF0dHJpYnV0ZSBoaWdocCB2ZWMzIG5vcm1hbF8zZlxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUtYXR0cmlidXRlIGhpZ2hwIHZlYzIgdXZfMmZcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lLWF0dHJpYnV0ZSBoaWdocCB2ZWMzIGNvbG9yXzNmXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZS1hdHRyaWJ1dGUgaGlnaHAgdmVjNCBjb2xvcl80ZlxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUtYXR0cmlidXRlLXZlcnRleC1zaGFkZXItb25seSBoaWdocCB2ZWM0IHBiclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUtYXR0cmlidXRlLXZlcnRleC1zaGFkZXItb25seSBoaWdocCB2ZWMzIGhlaWdodEJhc2VkRW1pc3NpdmVTdHJlbmd0aFxcbnVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIG1hdDQgdV9saWdodGluZ19tYXRyaXg7dW5pZm9ybSB2ZWMzIHVfY2FtZXJhX3Bvczt1bmlmb3JtIHZlYzQgdV9jb2xvcl9taXg7XFxuI2lmZGVmIElOU1RBTkNFRF9BUlJBWVNcXG5pbiB2ZWM0IGFfbm9ybWFsX21hdHJpeDA7aW4gdmVjNCBhX25vcm1hbF9tYXRyaXgxO2luIHZlYzQgYV9ub3JtYWxfbWF0cml4MjtpbiB2ZWM0IGFfbm9ybWFsX21hdHJpeDM7XFxuI2Vsc2VcXG51bmlmb3JtIGhpZ2hwIG1hdDQgdV9ub3JtYWxfbWF0cml4O1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbnVuaWZvcm0gbWF0NCB1X2xpZ2h0X21hdHJpeF8wO3VuaWZvcm0gbWF0NCB1X2xpZ2h0X21hdHJpeF8xO291dCB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMDtvdXQgdmVjNCB2X3Bvc19saWdodF92aWV3XzE7b3V0IGZsb2F0IHZfZGVwdGhfc2hhZG93cztcXG4jZW5kaWZcXG5vdXQgdmVjNCB2X3Bvc2l0aW9uX2hlaWdodDtvdXQgbG93cCB2ZWM0IHZfY29sb3JfbWl4O1xcbiNpZmRlZiBURVJSQUlOX0ZSQUdNRU5UX09DQ0xVU0lPTlxcbm91dCBoaWdocCBmbG9hdCB2X2RlcHRoO1xcbiNlbmRpZlxcbiNpZmRlZiBIQVNfQVRUUklCVVRFX2FfcGJyXFxub3V0IGxvd3AgdmVjNCB2X3JvdWdobmVzc19tZXRhbGxpY19lbWlzc2l2ZV9hbHBoYTtvdXQgbWVkaXVtcCB2ZWM0IHZfaGVpZ2h0X2Jhc2VkX2VtaXNzaW9uX3BhcmFtcztcXG4jZW5kaWZcXG52ZWMzIHNSR0JUb0xpbmVhcih2ZWMzIHNyZ2JJbikge3JldHVybiBwb3coc3JnYkluLHZlYzMoMi4yKSk7fXZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZS1hdHRyaWJ1dGUgaGlnaHAgdmVjMyBub3JtYWxfM2ZcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZS1hdHRyaWJ1dGUgaGlnaHAgdmVjMiB1dl8yZlxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplLWF0dHJpYnV0ZSBoaWdocCB2ZWMzIGNvbG9yXzNmXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUtYXR0cmlidXRlIGhpZ2hwIHZlYzQgY29sb3JfNGZcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZS1hdHRyaWJ1dGUtY3VzdG9tIGhpZ2hwIHZlYzQgcGJyXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUtYXR0cmlidXRlLWN1c3RvbSBoaWdocCB2ZWMzIGhlaWdodEJhc2VkRW1pc3NpdmVTdHJlbmd0aFxcbmhpZ2hwIG1hdDQgbm9ybWFsX21hdHJpeDtcXG4jaWZkZWYgSU5TVEFOQ0VEX0FSUkFZU1xcbm5vcm1hbF9tYXRyaXg9bWF0NChhX25vcm1hbF9tYXRyaXgwLGFfbm9ybWFsX21hdHJpeDEsYV9ub3JtYWxfbWF0cml4MixhX25vcm1hbF9tYXRyaXgzKTtcXG4jZWxzZVxcbm5vcm1hbF9tYXRyaXg9dV9ub3JtYWxfbWF0cml4O1xcbiNlbmRpZlxcbnZlYzMgbG9jYWxfcG9zO21hdDMgcnM7XFxuI2lmZGVmIE1PREVMX1BPU0lUSU9OX09OX0dQVVxcbnZlYzMgcG9zX2NvbG9yPW5vcm1hbF9tYXRyaXhbMF0ueHl6O3ZlYzQgdHJhbnNsYXRlPW5vcm1hbF9tYXRyaXhbMV07dmVjMyBwb3NfYT1mbG9vcihwb3NfY29sb3IpO3ZlYzMgcmdiPTEuMDUqKHBvc19jb2xvci1wb3NfYSk7ZmxvYXQgY29sb3JfbWl4PXBvc19hLnovMTAwLjA7dl9jb2xvcl9taXg9dmVjNChzUkdCVG9MaW5lYXIocmdiKSxjb2xvcl9taXgpO2Zsb2F0IG1ldGVyX3RvX3RpbGU9bm9ybWFsX21hdHJpeFswXS53O3ZlYzQgcG9zPXZlYzQocG9zX2EueHksdHJhbnNsYXRlLnosMS4wKTtyc1swXS54PW5vcm1hbF9tYXRyaXhbMV0udztyc1swXS55ej1ub3JtYWxfbWF0cml4WzJdLnh5O3JzWzFdLnh5PW5vcm1hbF9tYXRyaXhbMl0uenc7cnNbMV0uej1ub3JtYWxfbWF0cml4WzNdLng7cnNbMl0ueHl6PW5vcm1hbF9tYXRyaXhbM10ueXp3O3ZlYzQgcG9zX25vZGU9dV9saWdodGluZ19tYXRyaXgqdmVjNChhX3Bvc18zZiwxLjApO3ZlYzMgcm90YXRlZF9wb3Nfbm9kZT1ycypwb3Nfbm9kZS54eXo7dmVjMyBwb3NfbW9kZWxfdGlsZT0ocm90YXRlZF9wb3Nfbm9kZSt2ZWMzKHRyYW5zbGF0ZS54eSwwLjApKSp2ZWMzKG1ldGVyX3RvX3RpbGUsbWV0ZXJfdG9fdGlsZSwxLjApO3Bvcy54eXorPXBvc19tb2RlbF90aWxlO2xvY2FsX3Bvcz1wb3MueHl6O2dsX1Bvc2l0aW9uPXVfbWF0cml4KnBvcztwb3Mueio9bWV0ZXJfdG9fdGlsZTt2X3Bvc2l0aW9uX2hlaWdodC54eXo9cG9zLnh5ei11X2NhbWVyYV9wb3M7XFxuI2Vsc2VcXG5sb2NhbF9wb3M9YV9wb3NfM2Y7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3Bvc18zZiwxKTt2X3Bvc2l0aW9uX2hlaWdodC54eXo9dmVjMyh1X2xpZ2h0aW5nX21hdHJpeCp2ZWM0KGFfcG9zXzNmLDEpKTt2X2NvbG9yX21peD12ZWM0KHNSR0JUb0xpbmVhcih1X2NvbG9yX21peC5yZ2IpLHVfY29sb3JfbWl4LmEpO1xcbiNlbmRpZlxcbnZfcG9zaXRpb25faGVpZ2h0Lnc9YV9wb3NfM2YuejtcXG4jaWZkZWYgSEFTX0FUVFJJQlVURV9hX3BiclxcbnZlYzQgYWxiZWRvX2M9ZGVjb2RlX2NvbG9yKHBici54eSk7dmVjMiBlX3JfbT11bnBhY2tfZmxvYXQocGJyLnopO3ZlYzIgcl9tPSB1bnBhY2tfZmxvYXQoZV9yX20ueSoxNi4wKTtyX20ucj1yX20ucioxNi4wO3ZfY29sb3JfbWl4PXZlYzQoYWxiZWRvX2MucmdiLDEuMCk7dl9yb3VnaG5lc3NfbWV0YWxsaWNfZW1pc3NpdmVfYWxwaGE9dmVjNCh2ZWMzKHJfbSxlX3JfbS54KS8yNTUuMCxhbGJlZG9fYy5hKTt2X3JvdWdobmVzc19tZXRhbGxpY19lbWlzc2l2ZV9hbHBoYS56Kj0yLjA7ZmxvYXQgaGVpZ2h0QmFzZWRSZWxhdGl2ZUludGVwb2xhdGlvbj1hX3Bvc18zZi56KmhlaWdodEJhc2VkRW1pc3NpdmVTdHJlbmd0aC54K2hlaWdodEJhc2VkRW1pc3NpdmVTdHJlbmd0aC55O3ZfaGVpZ2h0X2Jhc2VkX2VtaXNzaW9uX3BhcmFtcy54PWhlaWdodEJhc2VkUmVsYXRpdmVJbnRlcG9sYXRpb247dl9oZWlnaHRfYmFzZWRfZW1pc3Npb25fcGFyYW1zLnk9aGVpZ2h0QmFzZWRFbWlzc2l2ZVN0cmVuZ3RoLno7dmVjMiBlbWlzc2lvbk11bHRpcGxpZXJWYWx1ZXM9dW5wYWNrX2Zsb2F0KHBici53KS8yNTYuMDt2X2hlaWdodF9iYXNlZF9lbWlzc2lvbl9wYXJhbXMuej1lbWlzc2lvbk11bHRpcGxpZXJWYWx1ZXMueDt2X2hlaWdodF9iYXNlZF9lbWlzc2lvbl9wYXJhbXMudz1lbWlzc2lvbk11bHRpcGxpZXJWYWx1ZXMueS1lbWlzc2lvbk11bHRpcGxpZXJWYWx1ZXMueDtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihsb2NhbF9wb3MpO1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfQ1VUT0ZGXFxudl9jdXRvZmZfb3BhY2l0eT1jdXRvZmZfb3BhY2l0eSh1X2N1dG9mZl9wYXJhbXMsZ2xfUG9zaXRpb24ueik7XFxuI2VuZGlmXFxuI2lmZGVmIFRFUlJBSU5fRlJBR01FTlRfT0NDTFVTSU9OXFxudl9kZXB0aD1nbF9Qb3NpdGlvbi56L2dsX1Bvc2l0aW9uLnc7XFxuI2VuZGlmXFxuI2lmZGVmIEhBU19BVFRSSUJVVEVfYV9ub3JtYWxfM2ZcXG4jaWZkZWYgTU9ERUxfUE9TSVRJT05fT05fR1BVXFxuZmxvYXQgeF9zcXVhcmVkX3NjYWxlPWRvdChyc1swXSxyc1swXSk7ZmxvYXQgeV9zcXVhcmVkX3NjYWxlPWRvdChyc1sxXSxyc1sxXSk7ZmxvYXQgel9zcXVhcmVkX3NjYWxlPWRvdChyc1syXSxyc1syXSk7dmVjMyBzcXVhcmVkX3NjYWxlPXZlYzMoeF9zcXVhcmVkX3NjYWxlLHlfc3F1YXJlZF9zY2FsZSx6X3NxdWFyZWRfc2NhbGUpO25vcm1hbF8zZj1ycyooKHVfbGlnaHRpbmdfbWF0cml4KnZlYzQobm9ybWFsXzNmLDAuMCkpLnh5ei9zcXVhcmVkX3NjYWxlKTtub3JtYWxfM2Y9bm9ybWFsaXplKG5vcm1hbF8zZik7XFxuI2Vsc2VcXG5ub3JtYWxfM2Y9dmVjMyhub3JtYWxfbWF0cml4KnZlYzQobm9ybWFsXzNmLDApKTtcXG4jZW5kaWZcXG4jZW5kaWZcXG4jaWZkZWYgSEFTX0FUVFJJQlVURV9hX3BiclxcbiNpZmRlZiBIQVNfQVRUUklCVVRFX2FfY29sb3JfNGZcXG52X3JvdWdobmVzc19tZXRhbGxpY19lbWlzc2l2ZV9hbHBoYS53PWNsYW1wKGNvbG9yXzRmLmEqdl9yb3VnaG5lc3NfbWV0YWxsaWNfZW1pc3NpdmVfYWxwaGEudyoodl9yb3VnaG5lc3NfbWV0YWxsaWNfZW1pc3NpdmVfYWxwaGEuei0xLjApLDAuMCwxLjApO1xcbiNlbmRpZlxcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbnZlYzMgc2hhZG93X3Bvcz1sb2NhbF9wb3M7XFxuI2lmZGVmIE5PUk1BTF9PRkZTRVRcXG4jaWZkZWYgSEFTX0FUVFJJQlVURV9hX25vcm1hbF8zZlxcbiNpZmRlZiBNT0RFTF9QT1NJVElPTl9PTl9HUFVcXG52ZWMzIG9mZnNldD1zaGFkb3dfbm9ybWFsX29mZnNldCh2ZWMzKC1ub3JtYWxfM2YueHksbm9ybWFsXzNmLnopKTtzaGFkb3dfcG9zKz1vZmZzZXQqc2hhZG93X25vcm1hbF9vZmZzZXRfbXVsdGlwbGllcjAoKTtcXG4jZWxzZVxcbnZlYzMgb2Zmc2V0PXNoYWRvd19ub3JtYWxfb2Zmc2V0X21vZGVsKG5vcm1hbGl6ZShub3JtYWxfM2YpKTtzaGFkb3dfcG9zKz1vZmZzZXQqc2hhZG93X25vcm1hbF9vZmZzZXRfbXVsdGlwbGllcjAoKTtcXG4jZW5kaWZcXG4jZW5kaWZcXG4jZW5kaWZcXG52X3Bvc19saWdodF92aWV3XzA9dV9saWdodF9tYXRyaXhfMCp2ZWM0KHNoYWRvd19wb3MsMSk7dl9wb3NfbGlnaHRfdmlld18xPXVfbGlnaHRfbWF0cml4XzEqdmVjNChzaGFkb3dfcG9zLDEpO3ZfZGVwdGhfc2hhZG93cz1nbF9Qb3NpdGlvbi53O1xcbiNlbmRpZlxcbn0nKSxtb2RlbERlcHRoOlpFKFwiaW4gaGlnaHAgZmxvYXQgdl9kZXB0aDt2b2lkIG1haW4oKSB7XFxuI2lmbmRlZiBERVBUSF9URVhUVVJFXFxuZ2xGcmFnQ29sb3I9cGFja19kZXB0aCh2X2RlcHRoKTtcXG4jZW5kaWZcXG59XCIsXCJpbiB2ZWMzIGFfcG9zXzNmO3VuaWZvcm0gbWF0NCB1X21hdHJpeDtvdXQgaGlnaHAgZmxvYXQgdl9kZXB0aDtcXG4jaWZkZWYgTU9ERUxfUE9TSVRJT05fT05fR1BVXFxuI2lmZGVmIElOU1RBTkNFRF9BUlJBWVNcXG5pbiB2ZWM0IGFfbm9ybWFsX21hdHJpeDA7aW4gdmVjNCBhX25vcm1hbF9tYXRyaXgxO2luIHZlYzQgYV9ub3JtYWxfbWF0cml4MjtpbiB2ZWM0IGFfbm9ybWFsX21hdHJpeDM7XFxuI2Vsc2VcXG51bmlmb3JtIGhpZ2hwIG1hdDQgdV9pbnN0YW5jZTtcXG4jZW5kaWZcXG51bmlmb3JtIGhpZ2hwIG1hdDQgdV9ub2RlX21hdHJpeDtcXG4jZW5kaWZcXG52b2lkIG1haW4oKSB7XFxuI2lmZGVmIE1PREVMX1BPU0lUSU9OX09OX0dQVVxcbmhpZ2hwIG1hdDQgaW5zdGFuY2U7XFxuI2lmZGVmIElOU1RBTkNFRF9BUlJBWVNcXG5pbnN0YW5jZT1tYXQ0KGFfbm9ybWFsX21hdHJpeDAsYV9ub3JtYWxfbWF0cml4MSxhX25vcm1hbF9tYXRyaXgyLGFfbm9ybWFsX21hdHJpeDMpO1xcbiNlbHNlXFxuaW5zdGFuY2U9dV9pbnN0YW5jZTtcXG4jZW5kaWZcXG52ZWMzIHBvc19jb2xvcj1pbnN0YW5jZVswXS54eXo7dmVjNCB0cmFuc2xhdGU9aW5zdGFuY2VbMV07dmVjMyBwb3NfYT1mbG9vcihwb3NfY29sb3IpO2Zsb2F0IG1ldGVyX3RvX3RpbGU9aW5zdGFuY2VbMF0udzt2ZWM0IHBvcz12ZWM0KHBvc19hLnh5LHRyYW5zbGF0ZS56LDEuMCk7bWF0MyBycztyc1swXS54PWluc3RhbmNlWzFdLnc7cnNbMF0ueXo9aW5zdGFuY2VbMl0ueHk7cnNbMV0ueHk9aW5zdGFuY2VbMl0uenc7cnNbMV0uej1pbnN0YW5jZVszXS54O3JzWzJdLnh5ej1pbnN0YW5jZVszXS55enc7dmVjNCBwb3Nfbm9kZT11X25vZGVfbWF0cml4KnZlYzQoYV9wb3NfM2YsMS4wKTt2ZWMzIHJvdGF0ZWRfcG9zX25vZGU9cnMqcG9zX25vZGUueHl6O3ZlYzMgcG9zX21vZGVsX3RpbGU9KHJvdGF0ZWRfcG9zX25vZGUrdmVjMyh0cmFuc2xhdGUueHksMC4wKSkqdmVjMyhtZXRlcl90b190aWxlLG1ldGVyX3RvX3RpbGUsMS4wKTtwb3MueHl6Kz1wb3NfbW9kZWxfdGlsZTtnbF9Qb3NpdGlvbj11X21hdHJpeCpwb3M7XFxuI2Vsc2VcXG5nbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zXzNmLDEpO1xcbiNlbmRpZlxcbnZfZGVwdGg9Z2xfUG9zaXRpb24uei9nbF9Qb3NpdGlvbi53O31cIiksc3RhcnM6WkUoXCJpbiBoaWdocCB2ZWMyIHZfdXY7aW4gbWVkaXVtcCBmbG9hdCB2X2ludGVuc2l0eTtmbG9hdCBzaGFwZUNpcmNsZShpbiB2ZWMyIHV2KVxcbntmbG9hdCBiZWdpbkZhZGU9MC42O2Zsb2F0IGxlbmd0aEZyb21DZW50ZXI9bGVuZ3RoKHZfdXYpO3JldHVybiAxLjAtY2xhbXAoKGxlbmd0aEZyb21DZW50ZXItYmVnaW5GYWRlKS8oMS4wLWJlZ2luRmFkZSksMC4wLDEuMCk7fXZvaWQgbWFpbigpIHtmbG9hdCBhbHBoYT1zaGFwZUNpcmNsZSh2X3V2KTt2ZWMzIGNvbG9yPXZlYzMoMS4wLDEuMCwxLjApO2FscGhhKj12X2ludGVuc2l0eTtnbEZyYWdDb2xvcj12ZWM0KGNvbG9yKmFscGhhLGFscGhhKTtIQU5ETEVfV0lSRUZSQU1FX0RFQlVHO31cIixcIlxcbmluIHZlYzMgYV9wb3NfM2Y7aW4gdmVjMiBhX3V2O2luIGZsb2F0IGFfc2l6ZV9zY2FsZTtpbiBmbG9hdCBhX2ZhZGVfb3BhY2l0eTt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMzIHVfdXA7dW5pZm9ybSB2ZWMzIHVfcmlnaHQ7dW5pZm9ybSBmbG9hdCB1X2ludGVuc2l0eV9tdWx0aXBsaWVyO291dCBoaWdocCB2ZWMyIHZfdXY7b3V0IG1lZGl1bXAgZmxvYXQgdl9pbnRlbnNpdHk7dm9pZCBtYWluKCkge3ZfdXY9YV91djt2X2ludGVuc2l0eT1hX2ZhZGVfb3BhY2l0eSp1X2ludGVuc2l0eV9tdWx0aXBsaWVyO3ZlYzMgcG9zPWFfcG9zXzNmO3Bvcys9YV91di54KnVfcmlnaHQqYV9zaXplX3NjYWxlO3Bvcys9YV91di55KnVfdXAqYV9zaXplX3NjYWxlO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQocG9zLDEuMCk7fVwiKX07ZnVuY3Rpb24gcUUoZSx0KXtjb25zdCBpPWUucmVwbGFjZSgvXFxzKlxcL1xcL1teXFxuXSpcXG4vZyxcIlxcblwiKS5zcGxpdChcIlxcblwiKTtmb3IobGV0IGUgb2YgaSlpZihlPWUudHJpbSgpLFwiI1wiPT09ZVswXSYmZS5pbmNsdWRlcyhcImlmXCIpJiYhZS5pbmNsdWRlcyhcImVuZGlmXCIpKXtlPWUucmVwbGFjZShcIiNcIixcIlwiKS5yZXBsYWNlKC9pZmRlZnxpZm5kZWZ8ZWxpZnxpZi9nLFwiXCIpLnJlcGxhY2UoLyF8ZGVmaW5lZHxcXCh8XFwpfFxcfFxcfHwmJi9nLFwiXCIpLnJlcGxhY2UoL1xccysvZyxcIiBcIikudHJpbSgpO2NvbnN0IGk9ZS5zcGxpdChcIiBcIik7Zm9yKGNvbnN0IGUgb2YgaSl0LmluY2x1ZGVzKGUpfHx0LnB1c2goZSk7fX1mdW5jdGlvbiBaRShlLHQpe2NvbnN0IGk9LyNpbmNsdWRlXFxzK1wiKFteXCJdKylcIi9nLHI9LyNwcmFnbWEgbWFwYm94OiAoW1xcd1xcLV0rKSAoW1xcd10rKSAoW1xcd10rKSAoW1xcd10rKS9nO2xldCBuPXQubWF0Y2goLyhhdHRyaWJ1dGUoXFxTKil8KF5cXHMqfDspaW4pIChoaWdocCB8bWVkaXVtcCB8bG93cCApPyhbXFx3XSspIChbXFx3XSspL2dtKTtuJiYobj1uLm1hcCgoZT0+e2NvbnN0IHQ9ZS5zcGxpdChcIiBcIik7cmV0dXJuIHRbdC5sZW5ndGgtMV19KSksbj1bLi4ubmV3IFNldChuKV0pO2NvbnN0IG89e30scz1bXSxhPVtdO2U9ZS5yZXBsYWNlKGksKChlLHQpPT4oYS5wdXNoKHQpLFwiXCIpKSksdD10LnJlcGxhY2UoaSwoKGUsdCk9PihzLnB1c2godCksXCJcIikpKTtsZXQgbD1bLi4uRkVdO3FFKGUsbCkscUUodCxsKTtmb3IoY29uc3QgZSBvZiBbLi4ucywuLi5hXSlORVtlXXx8Y29uc29sZS5lcnJvcihgVW5kZWZpbmVkIGluY2x1ZGU6ICR7ZX1gKSxVRVtlXXx8KFVFW2VdPVtdLHFFKE5FW2VdLFVFW2VdKSksbD1bLi4ubCwuLi5VRVtlXV07cmV0dXJuIHtmcmFnbWVudFNvdXJjZTplPWUucmVwbGFjZShyLCgoZSx0LGkscixuKT0+KG9bbl09ITAsXCJkZWZpbmVcIj09PXQ/YFxcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke259XFxuaW4gJHtpfSAke3J9ICR7bn07XFxuI2Vsc2VcXG51bmlmb3JtICR7aX0gJHtyfSB1XyR7bn07XFxuI2VuZGlmXFxuYDpcImluaXRpYWxpemVcIj09PXQ/YFxcbiNpZmRlZiBIQVNfVU5JRk9STV91XyR7bn1cXG4gICAgJHtpfSAke3J9ICR7bn0gPSB1XyR7bn07XFxuI2VuZGlmXFxuYDpcImRlZmluZS1hdHRyaWJ1dGVcIj09PXQ/YFxcbiNpZmRlZiBIQVNfQVRUUklCVVRFX2FfJHtufVxcbiAgICBpbiAke2l9ICR7cn0gJHtufTtcXG4jZW5kaWZcXG5gOlwiaW5pdGlhbGl6ZS1hdHRyaWJ1dGVcIj09PXQ/XCJcIjp2b2lkIDApKSksdmVydGV4U291cmNlOnQ9dC5yZXBsYWNlKHIsKChlLHQsaSxyLG4pPT57Y29uc3Qgcz1cImZsb2F0XCI9PT1yP1widmVjMlwiOnIsYT1uLm1hdGNoKC9jb2xvci8pP1wiY29sb3JcIjpzO3JldHVybiBcImRlZmluZS1hdHRyaWJ1dGUtdmVydGV4LXNoYWRlci1vbmx5XCI9PT10P2BcXG4jaWZkZWYgSEFTX0FUVFJJQlVURV9hXyR7bn1cXG5pbiAke2l9ICR7cn0gYV8ke259O1xcbiNlbmRpZlxcbmA6b1tuXT9cImRlZmluZVwiPT09dD9gXFxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyR7bn1cXG51bmlmb3JtIGxvd3AgZmxvYXQgdV8ke259X3Q7XFxuaW4gJHtpfSAke3N9IGFfJHtufTtcXG5vdXQgJHtpfSAke3J9ICR7bn07XFxuI2Vsc2VcXG51bmlmb3JtICR7aX0gJHtyfSB1XyR7bn07XFxuI2VuZGlmXFxuYDpcImluaXRpYWxpemVcIj09PXQ/XCJ2ZWM0XCI9PT1hP2BcXG4jaWZuZGVmIEhBU19VTklGT1JNX3VfJHtufVxcbiAgICAke259ID0gYV8ke259O1xcbiNlbHNlXFxuICAgICR7aX0gJHtyfSAke259ID0gdV8ke259O1xcbiNlbmRpZlxcbmA6YFxcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke259XFxuICAgICR7bn0gPSB1bnBhY2tfbWl4XyR7YX0oYV8ke259LCB1XyR7bn1fdCk7XFxuI2Vsc2VcXG4gICAgJHtpfSAke3J9ICR7bn0gPSB1XyR7bn07XFxuI2VuZGlmXFxuYDpcImRlZmluZS1hdHRyaWJ1dGVcIj09PXQ/YFxcbiNpZmRlZiBIQVNfQVRUUklCVVRFX2FfJHtufVxcbiAgICBpbiAke2l9ICR7cn0gYV8ke259O1xcbiAgICBvdXQgJHtpfSAke3J9ICR7bn07XFxuI2VuZGlmXFxuYDpcImluaXRpYWxpemUtYXR0cmlidXRlXCI9PT10P2BcXG4jaWZkZWYgSEFTX0FUVFJJQlVURV9hXyR7bn1cXG4gICAgJHtufSA9IGFfJHtufTtcXG4jZW5kaWZcXG5gOnZvaWQgMDpcImRlZmluZVwiPT09dD9gXFxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyR7bn1cXG51bmlmb3JtIGxvd3AgZmxvYXQgdV8ke259X3Q7XFxuaW4gJHtpfSAke3N9IGFfJHtufTtcXG4jZWxzZVxcbnVuaWZvcm0gJHtpfSAke3J9IHVfJHtufTtcXG4jZW5kaWZcXG5gOlwiZGVmaW5lLWluc3RhbmNlZFwiPT09dD9cIm1hdDRcIj09PWE/YFxcbiNpZmRlZiBJTlNUQU5DRURfQVJSQVlTXFxuaW4gdmVjNCBhXyR7bn0wO1xcbmluIHZlYzQgYV8ke259MTtcXG5pbiB2ZWM0IGFfJHtufTI7XFxuaW4gdmVjNCBhXyR7bn0zO1xcbiNlbHNlXFxudW5pZm9ybSAke2l9ICR7cn0gdV8ke259O1xcbiNlbmRpZlxcbmA6YFxcbiNpZmRlZiBJTlNUQU5DRURfQVJSQVlTXFxuaW4gJHtpfSAke3N9IGFfJHtufTtcXG4jZWxzZVxcbnVuaWZvcm0gJHtpfSAke3J9IHVfJHtufTtcXG4jZW5kaWZcXG5gOlwiaW5pdGlhbGl6ZS1hdHRyaWJ1dGUtY3VzdG9tXCI9PT10P2BcXG4jaWZkZWYgSEFTX0FUVFJJQlVURV9hXyR7bn1cXG4gICAgJHtpfSAke3J9ICR7bn0gPSBhXyR7bn07XFxuI2VuZGlmXFxuYDpcInZlYzRcIj09PWE/YFxcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke259XFxuICAgICR7aX0gJHtyfSAke259ID0gYV8ke259O1xcbiNlbHNlXFxuICAgICR7aX0gJHtyfSAke259ID0gdV8ke259O1xcbiNlbmRpZlxcbmA6YFxcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke259XFxuICAgICR7aX0gJHtyfSAke259ID0gdW5wYWNrX21peF8ke2F9KGFfJHtufSwgdV8ke259X3QpO1xcbiNlbHNlXFxuICAgICR7aX0gJHtyfSAke259ID0gdV8ke259O1xcbiNlbmRpZlxcbmB9KSksc3RhdGljQXR0cmlidXRlczpuLHVzZWREZWZpbmVzOmwsdmVydGV4SW5jbHVkZXM6cyxmcmFnbWVudEluY2x1ZGVzOmF9fWNsYXNzICRFe2NvbnN0cnVjdG9yKCl7dGhpcy5ib3VuZFByb2dyYW09bnVsbCx0aGlzLmJvdW5kTGF5b3V0VmVydGV4QnVmZmVyPW51bGwsdGhpcy5ib3VuZFBhaW50VmVydGV4QnVmZmVycz1bXSx0aGlzLmJvdW5kSW5kZXhCdWZmZXI9bnVsbCx0aGlzLmJvdW5kVmVydGV4T2Zmc2V0PW51bGwsdGhpcy5ib3VuZER5bmFtaWNWZXJ0ZXhCdWZmZXJzPVtdLHRoaXMudmFvPW51bGw7fWJpbmQoZSx0LGkscixuLG8scyxhKXt0aGlzLmNvbnRleHQ9ZTtsZXQgbD10aGlzLmJvdW5kUGFpbnRWZXJ0ZXhCdWZmZXJzLmxlbmd0aCE9PXIubGVuZ3RoO2ZvcihsZXQgZT0wOyFsJiZlPHIubGVuZ3RoO2UrKyl0aGlzLmJvdW5kUGFpbnRWZXJ0ZXhCdWZmZXJzW2VdIT09cltlXSYmKGw9ITApO2xldCBjPXRoaXMuYm91bmREeW5hbWljVmVydGV4QnVmZmVycy5sZW5ndGghPT1zLmxlbmd0aDtmb3IobGV0IGU9MDshYyYmZTxzLmxlbmd0aDtlKyspdGhpcy5ib3VuZER5bmFtaWNWZXJ0ZXhCdWZmZXJzW2VdIT09c1tlXSYmKGM9ITApO2lmKCF0aGlzLnZhb3x8dGhpcy5ib3VuZFByb2dyYW0hPT10fHx0aGlzLmJvdW5kTGF5b3V0VmVydGV4QnVmZmVyIT09aXx8bHx8Y3x8dGhpcy5ib3VuZEluZGV4QnVmZmVyIT09bnx8dGhpcy5ib3VuZFZlcnRleE9mZnNldCE9PW8pdGhpcy5mcmVzaEJpbmQodCxpLHIsbixvLHMsYSk7ZWxzZSB7ZS5iaW5kVmVydGV4QXJyYXlPRVMuc2V0KHRoaXMudmFvKTtmb3IoY29uc3QgaSBvZiBzKWkmJihpLmJpbmQoKSxhJiZpLmluc3RhbmNlQ291bnQmJmkuc2V0VmVydGV4QXR0cmliRGl2aXNvcihlLmdsLHQsYSkpO24mJm4uZHluYW1pY0RyYXcmJm4uYmluZCgpO319ZnJlc2hCaW5kKGUsdCxpLHIsbixvLHMpe2NvbnN0IGE9ZS5udW1BdHRyaWJ1dGVzLGw9dGhpcy5jb250ZXh0LGM9bC5nbDt0aGlzLnZhbyYmdGhpcy5kZXN0cm95KCksdGhpcy52YW89bC5nbC5jcmVhdGVWZXJ0ZXhBcnJheSgpLGwuYmluZFZlcnRleEFycmF5T0VTLnNldCh0aGlzLnZhbyksdGhpcy5ib3VuZFByb2dyYW09ZSx0aGlzLmJvdW5kTGF5b3V0VmVydGV4QnVmZmVyPXQsdGhpcy5ib3VuZFBhaW50VmVydGV4QnVmZmVycz1pLHRoaXMuYm91bmRJbmRleEJ1ZmZlcj1yLHRoaXMuYm91bmRWZXJ0ZXhPZmZzZXQ9bix0aGlzLmJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlcnM9byx0LmVuYWJsZUF0dHJpYnV0ZXMoYyxlKSx0LmJpbmQoKSx0LnNldFZlcnRleEF0dHJpYlBvaW50ZXJzKGMsZSxuKTtmb3IoY29uc3QgdCBvZiBpKXQuZW5hYmxlQXR0cmlidXRlcyhjLGUpLHQuYmluZCgpLHQuc2V0VmVydGV4QXR0cmliUG9pbnRlcnMoYyxlLG4pO2Zvcihjb25zdCB0IG9mIG8pdCYmKHQuZW5hYmxlQXR0cmlidXRlcyhjLGUpLHQuYmluZCgpLHQuc2V0VmVydGV4QXR0cmliUG9pbnRlcnMoYyxlLG4pLHMmJnQuaW5zdGFuY2VDb3VudCYmdC5zZXRWZXJ0ZXhBdHRyaWJEaXZpc29yKGMsZSxzKSk7ciYmci5iaW5kKCksbC5jdXJyZW50TnVtQXR0cmlidXRlcz1hO31kZXN0cm95KCl7dGhpcy52YW8mJih0aGlzLmNvbnRleHQuZ2wuZGVsZXRlVmVydGV4QXJyYXkodGhpcy52YW8pLHRoaXMudmFvPW51bGwpO319ZnVuY3Rpb24gV0UoZSx0KXtjb25zdCBpPU1hdGgucG93KDIsdC5jYW5vbmljYWwueikscj10LmNhbm9uaWNhbC55O3JldHVybiBbbmV3IGxwKDAsci9pKS50b0xuZ0xhdCgpLmxhdCxuZXcgbHAoMCwocisxKS9pKS50b0xuZ0xhdCgpLmxhdF19ZnVuY3Rpb24gSEUoZSx0LGkscixuLG8scyl7Y29uc3QgYT1lLmNvbnRleHQsbD1hLmdsLGM9aS5oaWxsc2hhZGVGQk87aWYoIWMpcmV0dXJuO2UucHJlcGFyZURyYXdUaWxlKCk7Y29uc3QgaD1lLmlzVGlsZUFmZmVjdGVkQnlGb2codCksdT1lLmdldE9yQ3JlYXRlUHJvZ3JhbShcImhpbGxzaGFkZVwiLHtvdmVycmlkZUZvZzpofSk7YS5hY3RpdmVUZXh0dXJlLnNldChsLlRFWFRVUkUwKSxsLmJpbmRUZXh0dXJlKGwuVEVYVFVSRV8yRCxjLmNvbG9yQXR0YWNobWVudC5nZXQoKSk7Y29uc3QgZD0oKGUsdCxpLHIpPT57Y29uc3Qgbj1pLnBhaW50LmdldChcImhpbGxzaGFkZS1zaGFkb3ctY29sb3JcIiksbz1pLnBhaW50LmdldChcImhpbGxzaGFkZS1oaWdobGlnaHQtY29sb3JcIikscz1pLnBhaW50LmdldChcImhpbGxzaGFkZS1hY2NlbnQtY29sb3JcIiksYT1pLnBhaW50LmdldChcImhpbGxzaGFkZS1lbWlzc2l2ZS1zdHJlbmd0aFwiKTtsZXQgbD13KGkucGFpbnQuZ2V0KFwiaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1kaXJlY3Rpb25cIikpO2lmKFwidmlld3BvcnRcIj09PWkucGFpbnQuZ2V0KFwiaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1hbmNob3JcIikpbC09ZS50cmFuc2Zvcm0uYW5nbGU7ZWxzZSBpZihlLnN0eWxlJiZlLnN0eWxlLmVuYWJsZTNkTGlnaHRzKCkmJmUuc3R5bGUuZGlyZWN0aW9uYWxMaWdodCl7Y29uc3QgdD1lLnN0eWxlLmRpcmVjdGlvbmFsTGlnaHQucHJvcGVydGllcy5nZXQoXCJkaXJlY3Rpb25cIik7bD13KEoodC54LHQueSx0LnopWzFdKTt9Y29uc3QgYz0hZS5vcHRpb25zLm1vdmluZztyZXR1cm4ge3VfbWF0cml4OnJ8fGUudHJhbnNmb3JtLmNhbGN1bGF0ZVByb2pNYXRyaXgodC50aWxlSUQudG9VbndyYXBwZWQoKSxjKSx1X2ltYWdlOjAsdV9sYXRyYW5nZTpXRSgwLHQudGlsZUlEKSx1X2xpZ2h0OltpLnBhaW50LmdldChcImhpbGxzaGFkZS1leGFnZ2VyYXRpb25cIiksbF0sdV9zaGFkb3c6bix1X2hpZ2hsaWdodDpvLHVfZW1pc3NpdmVfc3RyZW5ndGg6YSx1X2FjY2VudDpzfX0pKGUsaSxyLGUudGVycmFpbj90LnByb2pNYXRyaXg6bnVsbCk7ZS51cGxvYWRDb21tb25Vbmlmb3JtcyhhLHUsdC50b1Vud3JhcHBlZCgpKTtjb25zdHt0aWxlQm91bmRzQnVmZmVyOnAsdGlsZUJvdW5kc0luZGV4QnVmZmVyOmYsdGlsZUJvdW5kc1NlZ21lbnRzOm19PWUuZ2V0VGlsZUJvdW5kc0J1ZmZlcnMoaSk7dS5kcmF3KGUsbC5UUklBTkdMRVMsbixvLHMsRHguZGlzYWJsZWQsZCxyLmlkLHAsZixtKTt9ZnVuY3Rpb24gWEUoZSx0LGkpe2lmKCF0Lm5lZWRzREVNVGV4dHVyZVVwbG9hZClyZXR1cm47Y29uc3Qgcj1lLmNvbnRleHQsbj1yLmdsO3IucGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEuc2V0KCExKSx0LmRlbVRleHR1cmU9dC5kZW1UZXh0dXJlfHxlLmdldFRpbGVUZXh0dXJlKGkuc3RyaWRlKTtjb25zdCBvPWkuZ2V0UGl4ZWxzKCk7dC5kZW1UZXh0dXJlP3QuZGVtVGV4dHVyZS51cGRhdGUobyx7cHJlbXVsdGlwbHk6ITF9KTp0LmRlbVRleHR1cmU9bmV3IE15KHIsbyxuLlIzMkYse3ByZW11bHRpcGx5OiExfSksdC5uZWVkc0RFTVRleHR1cmVVcGxvYWQ9ITE7fWZ1bmN0aW9uIFlFKGUsdCxpKXtjb25zdCByPWUuY29udGV4dCxuPXIuZ2w7aWYoIXQuZGVtKXJldHVybjtjb25zdCBvPXQuZGVtO2lmKHIuYWN0aXZlVGV4dHVyZS5zZXQobi5URVhUVVJFMSksWEUoZSx0LG8pLCF0LmRlbVRleHR1cmUpcmV0dXJuO3QuZGVtVGV4dHVyZS5iaW5kKG4uTkVBUkVTVCxuLkNMQU1QX1RPX0VER0UpO2NvbnN0IHM9by5kaW07ci5hY3RpdmVUZXh0dXJlLnNldChuLlRFWFRVUkUwKTtsZXQgYT10LmhpbGxzaGFkZUZCTztpZighYSl7Y29uc3QgZT1uZXcgTXkocix7d2lkdGg6cyxoZWlnaHQ6cyxkYXRhOm51bGx9LG4uUkdCQSk7ZS5iaW5kKG4uTElORUFSLG4uQ0xBTVBfVE9fRURHRSksYT10LmhpbGxzaGFkZUZCTz1yLmNyZWF0ZUZyYW1lYnVmZmVyKHMscywhMCxcInJlbmRlcmJ1ZmZlclwiKSxhLmNvbG9yQXR0YWNobWVudC5zZXQoZS50ZXh0dXJlKTt9ci5iaW5kRnJhbWVidWZmZXIuc2V0KGEuZnJhbWVidWZmZXIpLHIudmlld3BvcnQuc2V0KFswLDAscyxzXSk7Y29uc3R7dGlsZUJvdW5kc0J1ZmZlcjpsLHRpbGVCb3VuZHNJbmRleEJ1ZmZlcjpjLHRpbGVCb3VuZHNTZWdtZW50czpofT1lLmdldE1lcmNhdG9yVGlsZUJvdW5kc0J1ZmZlcnMoKSx1PVtdO2UubGluZWFyRmxvYXRGaWx0ZXJpbmdTdXBwb3J0ZWQoKSYmdS5wdXNoKFwiVEVSUkFJTl9ERU1fRkxPQVRfRk9STUFUXCIpLGUuZ2V0T3JDcmVhdGVQcm9ncmFtKFwiaGlsbHNoYWRlUHJlcGFyZVwiLHtkZWZpbmVzOnV9KS5kcmF3KGUsbi5UUklBTkdMRVMsTXguZGlzYWJsZWQsU3guZGlzYWJsZWQsQ3gudW5ibGVuZGVkLER4LmRpc2FibGVkLCgoZSx0KT0+e2NvbnN0IGk9dC5zdHJpZGUscj1BdS5jcmVhdGUoKTtyZXR1cm4gQXUub3J0aG8ociwwLGNyLC1jciwwLDAsMSksQXUudHJhbnNsYXRlKHIscixbMCwtY3IsMF0pLHt1X21hdHJpeDpyLHVfaW1hZ2U6MSx1X2RpbWVuc2lvbjpbaSxpXSx1X3pvb206ZS5vdmVyc2NhbGVkWn19KSh0LnRpbGVJRCxvKSxpLmlkLGwsYyxoKSx0Lm5lZWRzSGlsbHNoYWRlUHJlcGFyZT0hMTt9Y29uc3QgS0U9ZT0+KHt1X21hdHJpeDpuZXcgamwoZSksdV9pbWFnZTA6bmV3IGtsKGUpLHVfc2tpcnRfaGVpZ2h0Om5ldyBPbChlKSx1X2dyb3VuZF9zaGFkb3dfZmFjdG9yOm5ldyBGbChlKX0pLEpFPShlLHQsaSk9Pih7dV9tYXRyaXg6ZSx1X2ltYWdlMDowLHVfc2tpcnRfaGVpZ2h0OnQsdV9ncm91bmRfc2hhZG93X2ZhY3RvcjppfSksUUU9KGUsdCxpLHIsbixvLHMsYSxsLGMsaCx1LGQscCxmKT0+KHt1X3Byb2pfbWF0cml4OkZsb2F0MzJBcnJheS5mcm9tKGUpLHVfZ2xvYmVfbWF0cml4OnQsdV9ub3JtYWxpemVfbWF0cml4OkZsb2F0MzJBcnJheS5mcm9tKHIpLHVfbWVyY19tYXRyaXg6aSx1X3pvb21fdHJhbnNpdGlvbjpuLHVfbWVyY19jZW50ZXI6byx1X2ltYWdlMDowLHVfZnJ1c3R1bV90bDpzLHVfZnJ1c3R1bV90cjphLHVfZnJ1c3R1bV9icjpsLHVfZnJ1c3R1bV9ibDpjLHVfZ2xvYmVfcG9zOmgsdV9nbG9iZV9yYWRpdXM6dSx1X3ZpZXdwb3J0OmQsdV9ncmlkX21hdHJpeDpmP0Zsb2F0MzJBcnJheS5mcm9tKGYpOm5ldyBGbG9hdDMyQXJyYXkoOSksdV9za2lydF9oZWlnaHQ6cH0pLGVNPShlLHQpPT57aWYodD4wJiZlLnRlcnJhaW4mJkgoXCJDdXRvZmYgaXMgY3VycmVudGx5IGRpc2FibGVkIG9uIHRlcnJhaW5cIiksdDw9MHx8ZS50ZXJyYWluKXJldHVybiB7c2hvdWxkUmVuZGVyQ3V0b2ZmOiExLHVuaWZvcm1WYWx1ZXM6e3VfY3V0b2ZmX3BhcmFtczpbMCwwLDAsMF19fTtjb25zdCBpPWUudHJhbnNmb3JtLHI9TWF0aC5tYXgoTWF0aC5hYnMoaS5fem9vbS0oZS5taW5DdXRvZmZab29tLTEpKSwxKSxuPWkuaXNMT0REaXNhYmxlZCghMSk/UCg2MCw0NSxpLnBpdGNoKTpQKDMwLDE1LGkucGl0Y2gpLG89aS5fZmFyWi1pLl9uZWFyWixzPXQqaS5oZWlnaHQsYT0oKDEtKGw9bikpKiguNzUqaS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlKStsKihpLl9mYXJaK3MpKSpyO3ZhciBsO3JldHVybiB7c2hvdWxkUmVuZGVyQ3V0b2ZmOm48MSx1bmlmb3JtVmFsdWVzOnt1X2N1dG9mZl9wYXJhbXM6W2kuX25lYXJaLGkuX2ZhclosKGEtaS5fbmVhclopL28sKGEtcy1pLl9uZWFyWikvb119fX07ZnVuY3Rpb24gdE0oZSx0KXtyZXR1cm4gbnVsbCE9ZSYmbnVsbCE9dCYmISghZS5oYXNEYXRhKCl8fCF0Lmhhc0RhdGEoKSkmJm51bGwhPWUuZGVtVGV4dHVyZSYmbnVsbCE9dC5kZW1UZXh0dXJlJiZlLnRpbGVJRC5rZXkhPT10LnRpbGVJRC5rZXl9Y29uc3QgaU09bmV3IGNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5vcGVyYXRpb25zPXt9O31uZXdNb3JwaGluZyhlLHQsaSxyLG4pe2lmKGUgaW4gdGhpcy5vcGVyYXRpb25zKXtjb25zdCB0PXRoaXMub3BlcmF0aW9uc1tlXTt0LnRvLnRpbGVJRC5rZXkhPT1pLnRpbGVJRC5rZXkmJih0LnF1ZXVlZD1pKTt9ZWxzZSB0aGlzLm9wZXJhdGlvbnNbZV09e3N0YXJ0VGltZTpyLHBoYXNlOjAsZHVyYXRpb246bixmcm9tOnQsdG86aSxxdWV1ZWQ6bnVsbH07fWdldE1vcnBoVmFsdWVzRm9yUHJveHkoZSl7aWYoIShlIGluIHRoaXMub3BlcmF0aW9ucykpcmV0dXJuIG51bGw7Y29uc3QgdD10aGlzLm9wZXJhdGlvbnNbZV07cmV0dXJuIHtmcm9tOnQuZnJvbSx0bzp0LnRvLHBoYXNlOnQucGhhc2V9fXVwZGF0ZShlKXtmb3IoY29uc3QgdCBpbiB0aGlzLm9wZXJhdGlvbnMpe2NvbnN0IGk9dGhpcy5vcGVyYXRpb25zW3RdO2ZvcihpLnBoYXNlPShlLWkuc3RhcnRUaW1lKS9pLmR1cmF0aW9uO2kucGhhc2U+PTF8fCF0aGlzLl92YWxpZE9wKGkpOylpZighdGhpcy5fbmV4dE9wKGksZSkpe2RlbGV0ZSB0aGlzLm9wZXJhdGlvbnNbdF07YnJlYWt9fX1fbmV4dE9wKGUsdCl7cmV0dXJuICEhZS5xdWV1ZWQmJihlLmZyb209ZS50byxlLnRvPWUucXVldWVkLGUucXVldWVkPW51bGwsZS5waGFzZT0wLGUuc3RhcnRUaW1lPXQsITApfV92YWxpZE9wKGUpe3JldHVybiBlLmZyb20uaGFzRGF0YSgpJiZlLnRvLmhhc0RhdGEoKX19LHJNPXswOm51bGwsMTpcIlRFUlJBSU5fVkVSVEVYX01PUlBISU5HXCJ9O2Z1bmN0aW9uIG5NKGUsdCxpKXtpZigwPT09dClyZXR1cm4gMDtjb25zdCByPXQ8MSYmNTE0PT09aT8uMjUvdDoxO3JldHVybiA2Kk1hdGgucG93KDEuNSwyMi1lKSpNYXRoLm1heCh0LDEpKnJ9ZnVuY3Rpb24gb00oZSx0KXtjb25zdCBpPTE8PGUuejtyZXR1cm4gIXQmJigwPT09ZS54fHxlLng9PT1pLTEpfHwwPT09ZS55fHxlLnk9PT1pLTF9Y29uc3Qgc009ZT0+KHt1X21hdHJpeDplfSk7ZnVuY3Rpb24gYU0oZSx0LGkscixuKXtpZihuPjApe2NvbnN0IG89ZHQubm93KCkscz0oby1lLnRpbWVBZGRlZCkvbixhPXQ/KG8tdC50aW1lQWRkZWQpL246LTEsbD1pLmdldFNvdXJjZSgpLGM9ci5jb3ZlcmluZ1pvb21MZXZlbCh7dGlsZVNpemU6bC50aWxlU2l6ZSxyb3VuZFpvb206bC5yb3VuZFpvb219KSxoPSF0fHxNYXRoLmFicyh0LnRpbGVJRC5vdmVyc2NhbGVkWi1jKT5NYXRoLmFicyhlLnRpbGVJRC5vdmVyc2NhbGVkWi1jKSx1PWgmJmUucmVmcmVzaGVkVXBvbkV4cGlyYXRpb24/MTp6KGg/czoxLWEsMCwxKTtyZXR1cm4gZS5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbiYmcz49MSYmKGUucmVmcmVzaGVkVXBvbkV4cGlyYXRpb249ITEpLHQ/e29wYWNpdHk6MSxtaXg6MS11fTp7b3BhY2l0eTp1LG1peDowfX1yZXR1cm4ge29wYWNpdHk6MSxtaXg6MH19Y2xhc3MgbE0gZXh0ZW5kcyBMeHtjb25zdHJ1Y3RvcihlKXtjb25zdCB0PXt0eXBlOlwicmFzdGVyLWRlbVwiLG1heHpvb206ZS50cmFuc2Zvcm0ubWF4Wm9vbX0saT1uZXcgRXcoV3coKSxudWxsKSxyPVNUKFwibW9jay1kZW1cIix0LGksZS5zdHlsZSk7c3VwZXIoXCJtb2NrLWRlbVwiLHIsITEpLHIuc2V0RXZlbnRlZFBhcmVudCh0aGlzKSx0aGlzLl9zb3VyY2VMb2FkZWQ9ITA7fV9sb2FkVGlsZShlLHQpe2Uuc3RhdGU9XCJsb2FkZWRcIix0KG51bGwpO319Y2xhc3MgY00gZXh0ZW5kcyBMeHtjb25zdHJ1Y3RvcihlKXtjb25zdCB0PVNUKFwicHJveHlcIix7dHlwZTpcImdlb2pzb25cIixtYXh6b29tOmUudHJhbnNmb3JtLm1heFpvb219LG5ldyBFdyhXdygpLG51bGwpLGUuc3R5bGUpO3N1cGVyKFwicHJveHlcIix0LCExKSx0LnNldEV2ZW50ZWRQYXJlbnQodGhpcyksdGhpcy5tYXA9dGhpcy5nZXRTb3VyY2UoKS5tYXA9ZSx0aGlzLnVzZWQ9dGhpcy5fc291cmNlTG9hZGVkPSEwLHRoaXMucmVuZGVyQ2FjaGU9W10sdGhpcy5yZW5kZXJDYWNoZVBvb2w9W10sdGhpcy5wcm94eUNhY2hlZEZCTz17fTt9dXBkYXRlKGUsdCxpKXtpZihlLmZyZWV6ZVRpbGVDb3ZlcmFnZSlyZXR1cm47dGhpcy50cmFuc2Zvcm09ZTtjb25zdCByPWUuY292ZXJpbmdUaWxlcyh7dGlsZVNpemU6dGhpcy5fc291cmNlLnRpbGVTaXplLG1pbnpvb206dGhpcy5fc291cmNlLm1pbnpvb20sbWF4em9vbTp0aGlzLl9zb3VyY2UubWF4em9vbSxyb3VuZFpvb206dGhpcy5fc291cmNlLnJvdW5kWm9vbSxyZXBhcnNlT3ZlcnNjYWxlZDp0aGlzLl9zb3VyY2UucmVwYXJzZU92ZXJzY2FsZWR9KS5yZWR1Y2UoKCh0LGkpPT57aWYodFtpLmtleV09XCJcIiwhdGhpcy5fdGlsZXNbaS5rZXldKXtjb25zdCB0PW5ldyBPeShpLHRoaXMuX3NvdXJjZS50aWxlU2l6ZSppLm92ZXJzY2FsZUZhY3RvcigpLGUudGlsZVpvb20pO3Quc3RhdGU9XCJsb2FkZWRcIix0aGlzLl90aWxlc1tpLmtleV09dDt9cmV0dXJuIHR9KSx7fSk7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fdGlsZXMpZSBpbiByfHwodGhpcy5mcmVlRkJPKGUpLHRoaXMuX3RpbGVzW2VdLnVubG9hZFZlY3RvckRhdGEoKSxkZWxldGUgdGhpcy5fdGlsZXNbZV0pO31mcmVlRkJPKGUpe2NvbnN0IHQ9dGhpcy5wcm94eUNhY2hlZEZCT1tlXTtpZih2b2lkIDAhPT10KXtjb25zdCBpPU9iamVjdC52YWx1ZXModCk7dGhpcy5yZW5kZXJDYWNoZVBvb2wucHVzaCguLi5pKSxkZWxldGUgdGhpcy5wcm94eUNhY2hlZEZCT1tlXTt9fWRlYWxsb2NSZW5kZXJDYWNoZSgpe3RoaXMucmVuZGVyQ2FjaGUuZm9yRWFjaCgoZT0+ZS5mYi5kZXN0cm95KCkpKSx0aGlzLnJlbmRlckNhY2hlPVtdLHRoaXMucmVuZGVyQ2FjaGVQb29sPVtdLHRoaXMucHJveHlDYWNoZWRGQk89e307fX1jbGFzcyBoTSBleHRlbmRzIHF1e2NvbnN0cnVjdG9yKGUsdCxpKXtzdXBlcihlLm92ZXJzY2FsZWRaLGUud3JhcCxlLmNhbm9uaWNhbC56LGUuY2Fub25pY2FsLngsZS5jYW5vbmljYWwueSksdGhpcy5wcm94eVRpbGVLZXk9dCx0aGlzLnByb2pNYXRyaXg9aTt9fWNsYXNzIHVNIGV4dGVuZHMgS217Y29uc3RydWN0b3IoZSx0KXtzdXBlcigpLHRoaXMucGFpbnRlcj1lLHRoaXMudGVycmFpblRpbGVGb3JUaWxlPXt9LHRoaXMucHJldlRlcnJhaW5UaWxlRm9yVGlsZT17fTtjb25zdFtpLHIsbl09ZnVuY3Rpb24oZSl7Y29uc3QgdD1uZXcgemEsaT1uZXcgV2Escj0xMzE7dC5yZXNlcnZlKDE3MTYxKSxpLnJlc2VydmUoMzM4MDApO2NvbnN0IG49Y3IvMTI4LG89Y3Irbi8yLHM9bytuO2ZvcihsZXQgZT0tbjtlPHM7ZSs9bilmb3IobGV0IGk9LW47aTxzO2krPW4pe2NvbnN0IHI9aTwwfHxpPm98fGU8MHx8ZT5vPzI0NTc1OjAsbj16KE1hdGgucm91bmQoaSksMCxjcikscz16KE1hdGgucm91bmQoZSksMCxjcik7dC5lbXBsYWNlQmFjayhuK3Iscyk7fWNvbnN0IGE9KGUsdCk9Pntjb25zdCBuPXQqcitlO2kuZW1wbGFjZUJhY2sobisxLG4sbityKSxpLmVtcGxhY2VCYWNrKG4rcixuK3IrMSxuKzEpO307Zm9yKGxldCBlPTE7ZTwxMjk7ZSsrKWZvcihsZXQgdD0xO3Q8MTI5O3QrKylhKHQsZSk7cmV0dXJuIFswLDEyOV0uZm9yRWFjaCgoZT0+e2ZvcihsZXQgdD0wO3Q8MTMwO3QrKylhKHQsZSksYShlLHQpO30pKSxbdCxpLDMyNzY4XX0oKSxvPWUuY29udGV4dDt0aGlzLmdyaWRCdWZmZXI9by5jcmVhdGVWZXJ0ZXhCdWZmZXIoaSxOdS5tZW1iZXJzKSx0aGlzLmdyaWRJbmRleEJ1ZmZlcj1vLmNyZWF0ZUluZGV4QnVmZmVyKHIpLHRoaXMuZ3JpZFNlZ21lbnRzPXhsLnNpbXBsZVNlZ21lbnQoMCwwLGkubGVuZ3RoLHIubGVuZ3RoKSx0aGlzLmdyaWROb1NraXJ0U2VnbWVudHM9eGwuc2ltcGxlU2VnbWVudCgwLDAsaS5sZW5ndGgsbiksdGhpcy5wcm94eUNvb3Jkcz1bXSx0aGlzLnByb3hpZWRDb29yZHM9e30sdGhpcy5fdmlzaWJsZURlbVRpbGVzPVtdLHRoaXMuX2RyYXBlZFJlbmRlckJhdGNoZXM9W10sdGhpcy5fc291cmNlVGlsZXNPdmVybGFwPXt9LHRoaXMucHJveHlTb3VyY2VDYWNoZT1uZXcgY00odC5tYXApLHRoaXMub3J0aG9NYXRyaXg9QXUuY3JlYXRlKCksQXUub3J0aG8odGhpcy5vcnRob01hdHJpeCxcImdsb2JlXCI9PT10aGlzLnBhaW50ZXIudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZT8uMDE1OjAsY3IsMCxjciwwLDEpO2NvbnN0IHM9by5nbDt0aGlzLl9vdmVybGFwU3RlbmNpbE1vZGU9bmV3IFN4KHtmdW5jOnMuR0VRVUFMLG1hc2s6MjU1fSwwLDI1NSxzLktFRVAscy5LRUVQLHMuUkVQTEFDRSksdGhpcy5fcHJldmlvdXNab29tPWUudHJhbnNmb3JtLnpvb20sdGhpcy5wb29sPVtdLHRoaXMuX2ZpbmRDb3ZlcmluZ1RpbGVDYWNoZT17fSx0aGlzLl90aWxlc0RpcnR5PXt9LHRoaXMuc3R5bGU9dCx0aGlzLl91c2VWZXJ0ZXhNb3JwaGluZz0hMCx0aGlzLl9leGFnZ2VyYXRpb249MSx0aGlzLl9tb2NrU291cmNlQ2FjaGU9bmV3IGxNKHQubWFwKSx0aGlzLl9wZW5kaW5nR3JvdW5kRWZmZWN0TGF5ZXJzPVtdO31zZXQgc3R5bGUoZSl7ZS5vbihcImRhdGFcIix0aGlzLl9vblN0eWxlRGF0YUV2ZW50LmJpbmQodGhpcykpLHRoaXMuX3N0eWxlPWUsdGhpcy5fc3R5bGUubWFwLm9uKFwibW92ZWVuZFwiLCgoKT0+e3RoaXMuX2NsZWFyTGluZUxheWVyc0Zyb21SZW5kZXJDYWNoZSgpO30pKTt9dXBkYXRlKGUsdCxpKXtpZihlJiZlLnRlcnJhaW4pe3RoaXMuX3N0eWxlIT09ZSYmKHRoaXMuc3R5bGU9ZSx0aGlzLl9ldmFsdWF0aW9uWm9vbT12b2lkIDApO2NvbnN0IHI9ZS50ZXJyYWluLnByb3BlcnRpZXMsbj0wPT09ZS50ZXJyYWluLmRyYXBlUmVuZGVyTW9kZSxvPWUudGVycmFpbi5pc1pvb21EZXBlbmRlbnQoKTt0aGlzLl9wcmV2aW91c1VwZGF0ZVRpbWVzdGFtcD10aGlzLmVuYWJsZWQ/dGhpcy5fdXBkYXRlVGltZXN0YW1wOnZvaWQgMCx0aGlzLl91cGRhdGVUaW1lc3RhbXA9ZHQubm93KCk7Y29uc3Qgcz1lLnRlcnJhaW4mJmUudGVycmFpbi5zY29wZSxhPXIuZ2V0KFwic291cmNlXCIpLGw9bj90aGlzLl9tb2NrU291cmNlQ2FjaGU6ZS5nZXRTb3VyY2VDYWNoZShhLHMpO2lmKCFsKXJldHVybiB2b2lkIEgoYENvdWxkbid0IGZpbmQgdGVycmFpbiBzb3VyY2UgXCIke2F9XCIuYCk7aWYodGhpcy5zb3VyY2VDYWNoZT1sLHRoaXMuX2V4YWdnZXJhdGlvbj1vP3RoaXMuY2FsY3VsYXRlRXhhZ2dlcmF0aW9uKHQpOnIuZ2V0KFwiZXhhZ2dlcmF0aW9uXCIpLCF0LnByb2plY3Rpb24ucmVxdWlyZXNEcmFwaW5nJiZvJiYwPT09dGhpcy5fZXhhZ2dlcmF0aW9uKXJldHVybiB2b2lkIHRoaXMuX2Rpc2FibGUoKTt0aGlzLmVuYWJsZWQ9ITA7Y29uc3QgYz0oKT0+e3RoaXMuc291cmNlQ2FjaGUudXNlZCYmSChgUmFzdGVyIERFTSBzb3VyY2UgJyR7dGhpcy5zb3VyY2VDYWNoZS5pZH0nIGlzIHVzZWQgYm90aCBmb3IgdGVycmFpbiBhbmQgYXMgbGF5ZXIgc291cmNlLlxcblRoaXMgbGVhZHMgdG8gbG93ZXIgcmVzb2x1dGlvbiBvZiBoaWxsc2hhZGUuIEZvciBmdWxsIGhpbGxzaGFkZSByZXNvbHV0aW9uIGJ1dCBoaWdoZXIgbWVtb3J5IGNvbnN1bXB0aW9uLCBkZWZpbmUgYW5vdGhlciByYXN0ZXIgREVNIHNvdXJjZS5gKTtjb25zdCBlPXRoaXMuZ2V0U2NhbGVkRGVtVGlsZVNpemUoKTt0aGlzLnNvdXJjZUNhY2hlLnVwZGF0ZSh0LGUsITApLHRoaXMucmVzZXRUaWxlTG9va3VwQ2FjaGUodGhpcy5zb3VyY2VDYWNoZS5pZCk7fTt0aGlzLnNvdXJjZUNhY2hlLnVzZWRGb3JUZXJyYWlufHwodGhpcy5yZXNldFRpbGVMb29rdXBDYWNoZSh0aGlzLnNvdXJjZUNhY2hlLmlkKSx0aGlzLnNvdXJjZUNhY2hlLnVzZWRGb3JUZXJyYWluPSEwLGMoKSx0aGlzLl9pbml0aWFsaXppbmc9ITApLGMoKSx0LnVwZGF0ZUVsZXZhdGlvbighMCxpKSx0aGlzLnJlc2V0VGlsZUxvb2t1cENhY2hlKHRoaXMucHJveHlTb3VyY2VDYWNoZS5pZCksdGhpcy5wcm94eVNvdXJjZUNhY2hlLnVwZGF0ZSh0KSx0aGlzLl9lbXB0eURFTVRleHR1cmVEaXJ0eT0hMCx0aGlzLl9wcmV2aW91c1pvb209dC56b29tO31lbHNlIHRoaXMuX2Rpc2FibGUoKTt9Y2FsY3VsYXRlRXhhZ2dlcmF0aW9uKGUpe2NvbnN0IHQ9dGhpcy5fcHJldmlvdXNDYW1lcmFBbHRpdHVkZSxpPWUuZ2V0RnJlZUNhbWVyYU9wdGlvbnMoKS5wb3NpdGlvbi56L2UucGl4ZWxzUGVyTWV0ZXIqZS53b3JsZFNpemU7dGhpcy5fcHJldmlvdXNDYW1lcmFBbHRpdHVkZT1pO2NvbnN0IHI9bnVsbCE9dD9pLXQ6TnVtYmVyLk1BWF9WQUxVRTtpZihNYXRoLmFicyhyKTwyKXJldHVybiB0aGlzLl9leGFnZ2VyYXRpb247Y29uc3Qgbj1lLnpvb20sbz10aGlzLl9zdHlsZS50ZXJyYWluO2lmKCF0aGlzLl9wcmV2aW91c1VwZGF0ZVRpbWVzdGFtcClyZXR1cm4gby5nZXRFeGFnZ2VyYXRpb24obik7bGV0IHM9bi10aGlzLl9wcmV2aW91c1pvb207Y29uc3QgYT10aGlzLl9wcmV2aW91c1VwZGF0ZVRpbWVzdGFtcDtsZXQgbD1uO251bGwhPXRoaXMuX2V2YWx1YXRpb25ab29tJiYobD10aGlzLl9ldmFsdWF0aW9uWm9vbSxNYXRoLmFicyhuLWwpPi41JiYocz0uNSoobi1sK3MpKSxzKnI8MCYmKGwrPXMpKSx0aGlzLl9ldmFsdWF0aW9uWm9vbT1sO2NvbnN0IGM9by5nZXRFeGFnZ2VyYXRpb24obCksaD1jPT09by5nZXRFeGFnZ2VyYXRpb24oTWF0aC5tYXgoMCxsLS4xKSk7aWYoaCYmTWF0aC5hYnMoYy10aGlzLl9leGFnZ2VyYXRpb24pPC4wMSlyZXR1cm4gYztsZXQgdT1NYXRoLm1pbiguMSwuMDAzNzUqKHRoaXMuX3VwZGF0ZVRpbWVzdGFtcC1hKSk7cmV0dXJuIChofHxjPC4xfHxNYXRoLmFicyhzKTwxZS00KSYmKHU9TWF0aC5taW4oLjIsNCp1KSksS3IodGhpcy5fZXhhZ2dlcmF0aW9uLGMsdSl9cmVzZXRUaWxlTG9va3VwQ2FjaGUoZSl7dGhpcy5fZmluZENvdmVyaW5nVGlsZUNhY2hlW2VdPXt9O31nZXRTY2FsZWREZW1UaWxlU2l6ZSgpe3JldHVybiB0aGlzLnNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLnRpbGVTaXplLzEyOCp0aGlzLnByb3h5U291cmNlQ2FjaGUuZ2V0U291cmNlKCkudGlsZVNpemV9X29uU3R5bGVEYXRhRXZlbnQoZSl7ZS5jb29yZCYmXCJzb3VyY2VcIj09PWUuZGF0YVR5cGU/dGhpcy5fY2xlYXJSZW5kZXJDYWNoZUZvclRpbGUoZS5zb3VyY2VDYWNoZUlkLGUuY29vcmQpOlwic3R5bGVcIj09PWUuZGF0YVR5cGUmJih0aGlzLmludmFsaWRhdGVSZW5kZXJDYWNoZT0hMCx0aGlzLl9ldmFsdWF0aW9uWm9vbT12b2lkIDAsdGhpcy5fcHJldmlvdXNVcGRhdGVUaW1lc3RhbXA9dm9pZCAwLHRoaXMuX3ByZXZpb3VzQ2FtZXJhQWx0aXR1ZGU9dm9pZCAwKTt9X2Rpc2FibGUoKXtpZih0aGlzLmVuYWJsZWQmJih0aGlzLmVuYWJsZWQ9ITEsdGhpcy5fc2hhcmVkRGVwdGhTdGVuY2lsPXZvaWQgMCx0aGlzLl9ldmFsdWF0aW9uWm9vbT12b2lkIDAsdGhpcy5fcHJldmlvdXNVcGRhdGVUaW1lc3RhbXA9dm9pZCAwLHRoaXMucHJveHlTb3VyY2VDYWNoZS5kZWFsbG9jUmVuZGVyQ2FjaGUoKSx0aGlzLl9zdHlsZSkpZm9yKGNvbnN0IGUgaW4gdGhpcy5fc3R5bGUuX21lcmdlZFNvdXJjZUNhY2hlcyl0aGlzLl9zdHlsZS5fbWVyZ2VkU291cmNlQ2FjaGVzW2VdLnVzZWRGb3JUZXJyYWluPSExO31kZXN0cm95KCl7dGhpcy5fZGlzYWJsZSgpLHRoaXMuX2VtcHR5REVNVGV4dHVyZSYmdGhpcy5fZW1wdHlERU1UZXh0dXJlLmRlc3Ryb3koKSx0aGlzLl9lbXB0eURlcHRoQnVmZmVyVGV4dHVyZSYmdGhpcy5fZW1wdHlEZXB0aEJ1ZmZlclRleHR1cmUuZGVzdHJveSgpLHRoaXMucG9vbC5mb3JFYWNoKChlPT5lLmZiLmRlc3Ryb3koKSkpLHRoaXMucG9vbD1bXSx0aGlzLl9kZXB0aEZCTyYmKHRoaXMuX2RlcHRoRkJPLmRlc3Ryb3koKSx0aGlzLl9kZXB0aEZCTz12b2lkIDAsdGhpcy5fZGVwdGhUZXh0dXJlPXZvaWQgMCksdGhpcy5mcmFtZWJ1ZmZlckNvcHlUZXh0dXJlJiZ0aGlzLmZyYW1lYnVmZmVyQ29weVRleHR1cmUuZGVzdHJveSgpO31fc291cmNlKCl7cmV0dXJuIHRoaXMuZW5hYmxlZD90aGlzLnNvdXJjZUNhY2hlOm51bGx9aXNVc2luZ01vY2tTb3VyY2UoKXtyZXR1cm4gdGhpcy5zb3VyY2VDYWNoZT09PXRoaXMuX21vY2tTb3VyY2VDYWNoZX1leGFnZ2VyYXRpb24oKXtyZXR1cm4gdGhpcy5fZXhhZ2dlcmF0aW9ufWdldCB2aXNpYmxlRGVtVGlsZXMoKXtyZXR1cm4gdGhpcy5fdmlzaWJsZURlbVRpbGVzfWdldCBkcmFwZUJ1ZmZlclNpemUoKXtjb25zdCBlPTIqdGhpcy5wcm94eVNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLnRpbGVTaXplO3JldHVybiBbZSxlXX1zZXQgdXNlVmVydGV4TW9ycGhpbmcoZSl7dGhpcy5fdXNlVmVydGV4TW9ycGhpbmc9ZTt9dXBkYXRlVGlsZUJpbmRpbmcoZSl7aWYoIXRoaXMuZW5hYmxlZClyZXR1cm47dGhpcy5wcmV2VGVycmFpblRpbGVGb3JUaWxlPXRoaXMudGVycmFpblRpbGVGb3JUaWxlO2NvbnN0IHQ9dGhpcy5wcm94eVNvdXJjZUNhY2hlLGk9dGhpcy5wYWludGVyLnRyYW5zZm9ybTt0aGlzLl9pbml0aWFsaXppbmcmJih0aGlzLl9pbml0aWFsaXppbmc9MD09PWkuX2NlbnRlckFsdGl0dWRlJiYtMT09PXRoaXMuZ2V0QXRQb2ludE9yWmVybyhscC5mcm9tTG5nTGF0KGkuY2VudGVyKSwtMSksdGhpcy5fZW1wdHlERU1UZXh0dXJlRGlydHk9IXRoaXMuX2luaXRpYWxpemluZyk7Y29uc3Qgcj10aGlzLnByb3h5Q29vcmRzPXQuZ2V0SWRzKCkubWFwKChlPT57Y29uc3Qgcj10LmdldFRpbGVCeUlEKGUpLnRpbGVJRDtyZXR1cm4gci5wcm9qTWF0cml4PWkuY2FsY3VsYXRlUHJvak1hdHJpeChyLnRvVW53cmFwcGVkKCkpLHJ9KSk7IWZ1bmN0aW9uKGUsdCl7Y29uc3QgaT10LnRyYW5zZm9ybS5wb2ludENvb3JkaW5hdGUodC50cmFuc2Zvcm0uZ2V0Q2FtZXJhUG9pbnQoKSkscj1uZXcgeShpLngsaS55KTtlLnNvcnQoKChlLHQpPT57aWYodC5vdmVyc2NhbGVkWi1lLm92ZXJzY2FsZWRaKXJldHVybiB0Lm92ZXJzY2FsZWRaLWUub3ZlcnNjYWxlZFo7Y29uc3QgaT1uZXcgeShlLmNhbm9uaWNhbC54KygxPDxlLmNhbm9uaWNhbC56KSplLndyYXAsZS5jYW5vbmljYWwueSksbj1uZXcgeSh0LmNhbm9uaWNhbC54KygxPDx0LmNhbm9uaWNhbC56KSp0LndyYXAsdC5jYW5vbmljYWwueSksbz1yLm11bHQoMTw8ZS5jYW5vbmljYWwueik7cmV0dXJuIG8ueC09LjUsby55LT0uNSxvLmRpc3RTcXIoaSktby5kaXN0U3FyKG4pfSkpO30ocix0aGlzLnBhaW50ZXIpO2NvbnN0IG49dGhpcy5wcm94eVRvU291cmNlfHx7fTt0aGlzLnByb3h5VG9Tb3VyY2U9e30sci5mb3JFYWNoKChlPT57dGhpcy5wcm94eVRvU291cmNlW2Uua2V5XT17fTt9KSksdGhpcy50ZXJyYWluVGlsZUZvclRpbGU9e307Y29uc3Qgbz10aGlzLl9zdHlsZS5fbWVyZ2VkU291cmNlQ2FjaGVzO2Zvcihjb25zdCB0IGluIG8pe2NvbnN0IGk9b1t0XTtpZighaS51c2VkKWNvbnRpbnVlO2lmKGkhPT10aGlzLnNvdXJjZUNhY2hlJiZ0aGlzLnJlc2V0VGlsZUxvb2t1cENhY2hlKGkuaWQpLHRoaXMuX3NldHVwUHJveGllZENvb3Jkc0Zvck9ydGhvKGksZVt0XSxuKSxpLnVzZWRGb3JUZXJyYWluKWNvbnRpbnVlO2NvbnN0IHI9ZVt0XTtpLmdldFNvdXJjZSgpLnJlcGFyc2VPdmVyc2NhbGVkJiZ0aGlzLl9hc3NpZ25UZXJyYWluVGlsZXMocik7fXRoaXMucHJveGllZENvb3Jkc1t0LmlkXT1yLm1hcCgoZT0+bmV3IGhNKGUsZS5rZXksdGhpcy5vcnRob01hdHJpeCkpKSx0aGlzLl9hc3NpZ25UZXJyYWluVGlsZXMociksdGhpcy5fcHJlcGFyZURFTVRleHR1cmVzKCksdGhpcy5fc2V0dXBEcmFwZWRSZW5kZXJCYXRjaGVzKCksdGhpcy5faW5pdEZCT1Bvb2woKSx0aGlzLl9zZXR1cFJlbmRlckNhY2hlKG4pLHRoaXMucmVuZGVyaW5nVG9UZXh0dXJlPSExO2NvbnN0IHM9e307dGhpcy5fdmlzaWJsZURlbVRpbGVzPVtdO2Zvcihjb25zdCBlIG9mIHRoaXMucHJveHlDb29yZHMpe2NvbnN0IHQ9dGhpcy50ZXJyYWluVGlsZUZvclRpbGVbZS5rZXldO2lmKCF0KWNvbnRpbnVlO2NvbnN0IGk9dC50aWxlSUQua2V5O2kgaW4gc3x8KHRoaXMuX3Zpc2libGVEZW1UaWxlcy5wdXNoKHQpLHNbaV09aSk7fX1fYXNzaWduVGVycmFpblRpbGVzKGUpe3RoaXMuX2luaXRpYWxpemluZ3x8ZS5mb3JFYWNoKChlPT57aWYodGhpcy50ZXJyYWluVGlsZUZvclRpbGVbZS5rZXldKXJldHVybjtjb25zdCB0PXRoaXMuX2ZpbmRUaWxlQ292ZXJpbmdUaWxlSUQoZSx0aGlzLnNvdXJjZUNhY2hlKTt0JiYodGhpcy50ZXJyYWluVGlsZUZvclRpbGVbZS5rZXldPXQpO30pKTt9X3ByZXBhcmVERU1UZXh0dXJlcygpe2NvbnN0IGU9dGhpcy5wYWludGVyLmNvbnRleHQsdD1lLmdsO2Zvcihjb25zdCBpIGluIHRoaXMudGVycmFpblRpbGVGb3JUaWxlKXtjb25zdCByPXRoaXMudGVycmFpblRpbGVGb3JUaWxlW2ldLG49ci5kZW07IW58fHIuZGVtVGV4dHVyZSYmIXIubmVlZHNERU1UZXh0dXJlVXBsb2FkfHwoZS5hY3RpdmVUZXh0dXJlLnNldCh0LlRFWFRVUkUxKSxYRSh0aGlzLnBhaW50ZXIscixuKSk7fX1fcHJlcGFyZURlbVRpbGVVbmlmb3JtcyhlLHQsaSxyKXtpZighdHx8bnVsbD09dC5kZW1UZXh0dXJlKXJldHVybiAhMTtjb25zdCBuPWUudGlsZUlELmNhbm9uaWNhbCxvPU1hdGgucG93KDIsdC50aWxlSUQuY2Fub25pY2FsLnotbi56KSxzPXJ8fFwiXCI7cmV0dXJuIGlbYHVfZGVtX3RsJHtzfWBdPVtuLngqbyUxLG4ueSpvJTFdLGlbYHVfZGVtX3NjYWxlJHtzfWBdPW8sITB9Z2V0IGVtcHR5REVNVGV4dHVyZSgpe3JldHVybiAhdGhpcy5fZW1wdHlERU1UZXh0dXJlRGlydHkmJnRoaXMuX2VtcHR5REVNVGV4dHVyZT90aGlzLl9lbXB0eURFTVRleHR1cmU6dGhpcy5fdXBkYXRlRW1wdHlERU1UZXh0dXJlKCl9Z2V0IGVtcHR5RGVwdGhCdWZmZXJUZXh0dXJlKCl7Y29uc3QgZT10aGlzLnBhaW50ZXIuY29udGV4dCx0PWUuZ2w7aWYoIXRoaXMuX2VtcHR5RGVwdGhCdWZmZXJUZXh0dXJlKXtjb25zdCBpPW5ldyBlZih7d2lkdGg6MSxoZWlnaHQ6MX0sVWludDhBcnJheS5vZigyNTUsMjU1LDI1NSwyNTUpKTt0aGlzLl9lbXB0eURlcHRoQnVmZmVyVGV4dHVyZT1uZXcgTXkoZSxpLHQuUkdCQSx7cHJlbXVsdGlwbHk6ITF9KTt9cmV0dXJuIHRoaXMuX2VtcHR5RGVwdGhCdWZmZXJUZXh0dXJlfV9nZXRMb2FkZWRBcmVhTWluaW11bSgpe2xldCBlPTA7Y29uc3QgdD10aGlzLl92aXNpYmxlRGVtVGlsZXMucmVkdWNlKCgodCxpKT0+e2lmKCFpLmRlbSlyZXR1cm4gdDtjb25zdCByPWkuZGVtLnRyZWUubWluaW11bXNbMF07cmV0dXJuIHI+MCYmZSsrLHQrcn0pLDApO3JldHVybiBlP3QvZTowfV91cGRhdGVFbXB0eURFTVRleHR1cmUoKXtjb25zdCBlPXRoaXMucGFpbnRlci5jb250ZXh0LHQ9ZS5nbDtlLmFjdGl2ZVRleHR1cmUuc2V0KHQuVEVYVFVSRTIpO2NvbnN0IGk9dGhpcy5fZ2V0TG9hZGVkQXJlYU1pbmltdW0oKSxbcixuXT0oKCk9Pntjb25zdCBlPW5ldyB0Zih7d2lkdGg6MSxoZWlnaHQ6MX0sbmV3IEZsb2F0MzJBcnJheShbaV0pKTtyZXR1cm4gW3QuUjMyRixlXX0pKCk7dGhpcy5fZW1wdHlERU1UZXh0dXJlRGlydHk9ITE7bGV0IG89dGhpcy5fZW1wdHlERU1UZXh0dXJlO3JldHVybiBvP28udXBkYXRlKG4se3ByZW11bHRpcGx5OiExfSk6bz10aGlzLl9lbXB0eURFTVRleHR1cmU9bmV3IE15KGUsbixyLHtwcmVtdWx0aXBseTohMX0pLG99c2V0dXBFbGV2YXRpb25EcmF3KGUsdCxpKXtjb25zdCByPXRoaXMucGFpbnRlci5jb250ZXh0LG49ci5nbCxvPXt1X2RlbToyLHVfZGVtX3ByZXY6NCx1X2RlbV90bDpbMCwwXSx1X2RlbV90bF9wcmV2OlswLDBdLHVfZGVtX3NjYWxlOjAsdV9kZW1fc2NhbGVfcHJldjowLHVfZGVtX3NpemU6MCx1X2RlbV9sZXJwOjEsdV9kZXB0aDozLHVfZGVwdGhfc2l6ZV9pbnY6WzAsMF0sdV9leGFnZ2VyYXRpb246MH07by51X2V4YWdnZXJhdGlvbj10aGlzLmV4YWdnZXJhdGlvbigpO2xldCBzPW51bGwsYT1udWxsLGw9MTtpZihpJiZpLm1vcnBoaW5nJiZ0aGlzLl91c2VWZXJ0ZXhNb3JwaGluZyl7Y29uc3QgdD1pLm1vcnBoaW5nLnNyY0RlbVRpbGUscj1pLm1vcnBoaW5nLmRzdERlbVRpbGU7bD1pLm1vcnBoaW5nLnBoYXNlLHQmJnImJih0aGlzLl9wcmVwYXJlRGVtVGlsZVVuaWZvcm1zKGUsdCxvLFwiX3ByZXZcIikmJihhPXQpLHRoaXMuX3ByZXBhcmVEZW1UaWxlVW5pZm9ybXMoZSxyLG8pJiYocz1yKSk7fWNvbnN0IGM9ZT0+ZSYmZS5kZW1UZXh0dXJlJiZ0aGlzLnBhaW50ZXIubGluZWFyRmxvYXRGaWx0ZXJpbmdTdXBwb3J0ZWQoKT9uLkxJTkVBUjpuLk5FQVJFU1QsaD1lPT57by51X2RlbV9zaXplPTE9PT1lLnNpemVbMF0/MTplLnNpemVbMF0tMjt9O2lmKGEmJnMpci5hY3RpdmVUZXh0dXJlLnNldChuLlRFWFRVUkUyKSxzLmRlbVRleHR1cmUuYmluZChjKHMpLG4uQ0xBTVBfVE9fRURHRSksci5hY3RpdmVUZXh0dXJlLnNldChuLlRFWFRVUkU0KSxhLmRlbVRleHR1cmUuYmluZChjKGEpLG4uQ0xBTVBfVE9fRURHRSkscy5kZW1UZXh0dXJlJiZoKHMuZGVtVGV4dHVyZSksby51X2RlbV9sZXJwPWw7ZWxzZSB7cz10aGlzLnRlcnJhaW5UaWxlRm9yVGlsZVtlLnRpbGVJRC5rZXldLHIuYWN0aXZlVGV4dHVyZS5zZXQobi5URVhUVVJFMik7Y29uc3QgdD10aGlzLl9wcmVwYXJlRGVtVGlsZVVuaWZvcm1zKGUscyxvKT9zLmRlbVRleHR1cmU6dGhpcy5lbXB0eURFTVRleHR1cmU7dC5iaW5kKGMocyksbi5DTEFNUF9UT19FREdFKSxoKHQpO31pZihyLmFjdGl2ZVRleHR1cmUuc2V0KG4uVEVYVFVSRTMpLGkmJmkudXNlRGVwdGhGb3JPY2NsdXNpb24/KHRoaXMuX2RlcHRoVGV4dHVyZSYmdGhpcy5fZGVwdGhUZXh0dXJlLmJpbmQobi5ORUFSRVNULG4uQ0xBTVBfVE9fRURHRSksdGhpcy5fZGVwdGhGQk8mJihvLnVfZGVwdGhfc2l6ZV9pbnY9WzEvdGhpcy5fZGVwdGhGQk8ud2lkdGgsMS90aGlzLl9kZXB0aEZCTy5oZWlnaHRdKSk6KHRoaXMuZW1wdHlEZXB0aEJ1ZmZlclRleHR1cmUuYmluZChuLk5FQVJFU1Qsbi5DTEFNUF9UT19FREdFKSxvLnVfZGVwdGhfc2l6ZV9pbnY9WzEsMV0pLGkmJmkudXNlTWV0ZXJUb0RlbSYmcyl7Y29uc3QgZT0oMTw8cy50aWxlSUQuY2Fub25pY2FsLnopKlFkKDEsdGhpcy5wYWludGVyLnRyYW5zZm9ybS5jZW50ZXIubGF0KSp0aGlzLnNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLnRpbGVTaXplO28udV9tZXRlcl90b19kZW09ZTt9aWYoaSYmaS5sYWJlbFBsYW5lTWF0cml4SW52JiYoby51X2xhYmVsX3BsYW5lX21hdHJpeF9pbnY9aS5sYWJlbFBsYW5lTWF0cml4SW52KSx0LnNldFRlcnJhaW5Vbmlmb3JtVmFsdWVzKHIsbyksXCJnbG9iZVwiPT09dGhpcy5wYWludGVyLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUpe2NvbnN0IG49dGhpcy5nbG9iZVVuaWZvcm1WYWx1ZXModGhpcy5wYWludGVyLnRyYW5zZm9ybSxlLnRpbGVJRC5jYW5vbmljYWwsaSYmaS51c2VEZW5vcm1hbGl6ZWRVcFZlY3RvclNjYWxlKTt0LnNldEdsb2JlVW5pZm9ybVZhbHVlcyhyLG4pO319Z2xvYmVVbmlmb3JtVmFsdWVzKGUsdCxpKXtjb25zdCByPWUucHJvamVjdGlvbjtyZXR1cm4ge3VfdGlsZV90bF91cDpyLnVwVmVjdG9yKHQsMCwwKSx1X3RpbGVfdHJfdXA6ci51cFZlY3Rvcih0LGNyLDApLHVfdGlsZV9icl91cDpyLnVwVmVjdG9yKHQsY3IsY3IpLHVfdGlsZV9ibF91cDpyLnVwVmVjdG9yKHQsMCxjciksdV90aWxlX3VwX3NjYWxlOmk/aGQoMSk6ci51cFZlY3RvclNjYWxlKHQsZS5jZW50ZXIubGF0LGUud29ybGRTaXplKS5tZXRlcnNUb1RpbGV9fXJlbmRlclRvQmFja0J1ZmZlcihlKXtjb25zdCB0PXRoaXMucGFpbnRlcixpPXRoaXMucGFpbnRlci5jb250ZXh0OzAhPT1lLmxlbmd0aCYmKGkuYmluZEZyYW1lYnVmZmVyLnNldChudWxsKSxpLnZpZXdwb3J0LnNldChbMCwwLHQud2lkdGgsdC5oZWlnaHRdKSx0LmdwdVRpbWluZ0RlZmVycmVkUmVuZGVyU3RhcnQoKSx0aGlzLnJlbmRlcmluZ1RvVGV4dHVyZT0hMSxmdW5jdGlvbihlLHQsaSxyLG4pe2lmKFwiZ2xvYmVcIj09PWUudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSkhZnVuY3Rpb24oZSx0LGkscixuKXtjb25zdCBvPWUuY29udGV4dCxzPW8uZ2w7bGV0IGEsbDtjb25zdCBjPWUudHJhbnNmb3JtLGg9TGQoZSxvLGMpLHU9KHQsaSk9PntpZihsPT09aSlyZXR1cm47Y29uc3Qgcj1bck1baV0sXCJQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcIl07aCYmci5wdXNoKFwiQ1VTVE9NX0FOVElBTElBU0lOR1wiKTtjb25zdCBuPWUuaXNUaWxlQWZmZWN0ZWRCeUZvZyh0KTthPWUuZ2V0T3JDcmVhdGVQcm9ncmFtKFwiZ2xvYmVSYXN0ZXJcIix7ZGVmaW5lczpyLG92ZXJyaWRlRm9nOm59KSxsPWk7fSxkPWUuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLHA9bmV3IE14KHMuTEVRVUFMLE14LlJlYWRXcml0ZSxlLmRlcHRoUmFuZ2VGb3IzRCk7aU0udXBkYXRlKG4pO2NvbnN0IGY9UGQoYyksbT1bS2QoYy5jZW50ZXIubG5nKSxKZChjLmNlbnRlci5sYXQpXSxfPWUuZ2xvYmVTaGFyZWRCdWZmZXJzLGc9W2Mud2lkdGgqZHQuZGV2aWNlUGl4ZWxSYXRpbyxjLmhlaWdodCpkdC5kZXZpY2VQaXhlbFJhdGlvXSx5PUZsb2F0MzJBcnJheS5mcm9tKGMuZ2xvYmVNYXRyaXgpLHg9e3VzZURlbm9ybWFsaXplZFVwVmVjdG9yU2NhbGU6ITB9O3tjb25zdCBjPWUudHJhbnNmb3JtLGg9bk0oYy56b29tLHQuZXhhZ2dlcmF0aW9uKCksdC5zb3VyY2VDYWNoZS5fc291cmNlLnRpbGVTaXplKTtsPS0xO2NvbnN0IHY9cy5UUklBTkdMRVM7Zm9yKGNvbnN0IGwgb2Ygcil7Y29uc3Qgcj1pLmdldFRpbGUobCksYj1TeC5kaXNhYmxlZCx3PXQucHJldlRlcnJhaW5UaWxlRm9yVGlsZVtsLmtleV0sVD10LnRlcnJhaW5UaWxlRm9yVGlsZVtsLmtleV07dE0odyxUKSYmaU0ubmV3TW9ycGhpbmcobC5rZXksdyxULG4sMjUwKSxvLmFjdGl2ZVRleHR1cmUuc2V0KHMuVEVYVFVSRTApLHIudGV4dHVyZSYmci50ZXh0dXJlLmJpbmQocy5MSU5FQVIscy5DTEFNUF9UT19FREdFKTtjb25zdCBFPWlNLmdldE1vcnBoVmFsdWVzRm9yUHJveHkobC5rZXkpLEE9RT8xOjA7RSYmTHQoeCx7bW9ycGhpbmc6e3NyY0RlbVRpbGU6RS5mcm9tLGRzdERlbVRpbGU6RS50byxwaGFzZTpNKEUucGhhc2UpfX0pO2NvbnN0IFM9eGQobC5jYW5vbmljYWwpLEk9T2QoUy5nZXRDZW50ZXIoKS5sYXQpLEM9a2QobC5jYW5vbmljYWwsUyxJLGMud29ybGRTaXplL2MuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwpLHo9QWQoZmQobC5jYW5vbmljYWwpKSxQPVFFKGMuZXhwYW5kZWRGYXJaUHJvak1hdHJpeCx5LGYseixEZChjLnpvb20pLG0sYy5mcnVzdHVtQ29ybmVycy5UTCxjLmZydXN0dW1Db3JuZXJzLlRSLGMuZnJ1c3R1bUNvcm5lcnMuQlIsYy5mcnVzdHVtQ29ybmVycy5CTCxjLmdsb2JlQ2VudGVySW5WaWV3U3BhY2UsYy5nbG9iZVJhZGl1cyxnLGgsQyk7aWYodShsLEEpLGEmJih0LnNldHVwRWxldmF0aW9uRHJhdyhyLGEseCksZS51cGxvYWRDb21tb25Vbmlmb3JtcyhvLGEsbC50b1Vud3JhcHBlZCgpKSxfKSl7Y29uc3RbdCxpLHJdPV8uZ2V0R3JpZEJ1ZmZlcnMoSSwwIT09aCk7YS5kcmF3KGUsdixwLGIsZCxEeC5iYWNrQ0NXLFAsXCJnbG9iZV9yYXN0ZXJcIix0LGkscik7fX19aWYoXyYmKGUucmVuZGVyRGVmYXVsdE5vcnRoUG9sZXx8ZS5yZW5kZXJEZWZhdWx0U291dGhQb2xlKSl7Y29uc3Qgbj1bXCJHTE9CRV9QT0xFU1wiLFwiUFJPSkVDVElPTl9HTE9CRV9WSUVXXCJdO2gmJm4ucHVzaChcIkNVU1RPTV9BTlRJQUxJQVNJTkdcIiksYT1lLmdldE9yQ3JlYXRlUHJvZ3JhbShcImdsb2JlUmFzdGVyXCIse2RlZmluZXM6bn0pO2Zvcihjb25zdCBuIG9mIHIpe2NvbnN0e3g6cix5OmwsejpofT1uLmNhbm9uaWNhbCx1PTA9PT1sLGY9bD09PSgxPDxoKS0xLFt5LHYsYix3XT1fLmdldFBvbGVCdWZmZXJzKGgsITEpO2lmKHcmJih1fHxmKSl7Y29uc3QgbD1pLmdldFRpbGUobik7by5hY3RpdmVUZXh0dXJlLnNldChzLlRFWFRVUkUwKSxsLnRleHR1cmUmJmwudGV4dHVyZS5iaW5kKHMuTElORUFSLHMuQ0xBTVBfVE9fRURHRSk7bGV0IF89UmQoaCxyLGMpO2NvbnN0IFQ9QWQoZmQobi5jYW5vbmljYWwpKSxFPSh0LGkpPT50LmRyYXcoZSxzLlRSSUFOR0xFUyxwLFN4LmRpc2FibGVkLGQsRHguZGlzYWJsZWQsUUUoYy5leHBhbmRlZEZhclpQcm9qTWF0cml4LF8sXyxULDAsbSxjLmZydXN0dW1Db3JuZXJzLlRMLGMuZnJ1c3R1bUNvcm5lcnMuVFIsYy5mcnVzdHVtQ29ybmVycy5CUixjLmZydXN0dW1Db3JuZXJzLkJMLGMuZ2xvYmVDZW50ZXJJblZpZXdTcGFjZSxjLmdsb2JlUmFkaXVzLGcsMCksXCJnbG9iZV9wb2xlX3Jhc3RlclwiLGksYix3KTt0LnNldHVwRWxldmF0aW9uRHJhdyhsLGEseCksZS51cGxvYWRDb21tb25Vbmlmb3JtcyhvLGEsbi50b1Vud3JhcHBlZCgpKSx1JiZlLnJlbmRlckRlZmF1bHROb3J0aFBvbGUmJkUoYSx5KSxmJiZlLnJlbmRlckRlZmF1bHRTb3V0aFBvbGUmJihfPUF1LnNjYWxlKEF1LmNyZWF0ZSgpLF8sWzEsLTEsMV0pLEUoYSx2KSk7fX19fShlLHQsaSxyLG4pO2Vsc2Uge2NvbnN0IG89ZS5jb250ZXh0LHM9by5nbDtsZXQgYSxsO2NvbnN0IGM9ZS5zaGFkb3dSZW5kZXJlcixoPWVNKGUsZS5sb25nZXN0Q3V0b2ZmUmFuZ2UpLHU9dD0+e2lmKGw9PT10KXJldHVybjtjb25zdCBpPVtdO2kucHVzaChyTVt0XSksaC5zaG91bGRSZW5kZXJDdXRvZmYmJmkucHVzaChcIlJFTkRFUl9DVVRPRkZcIiksYT1lLmdldE9yQ3JlYXRlUHJvZ3JhbShcInRlcnJhaW5SYXN0ZXJcIix7ZGVmaW5lczppfSksbD10O30sZD1lLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxwPW5ldyBNeChzLkxFUVVBTCxNeC5SZWFkV3JpdGUsZS5kZXB0aFJhbmdlRm9yM0QpO2lNLnVwZGF0ZShuKTtjb25zdCBmPWUudHJhbnNmb3JtLG09bk0oZi56b29tLHQuZXhhZ2dlcmF0aW9uKCksdC5zb3VyY2VDYWNoZS5fc291cmNlLnRpbGVTaXplKTtsZXQgXz1bMCwwLDBdO2lmKGMpe2NvbnN0IHQ9ZS5zdHlsZS5kaXJlY3Rpb25hbExpZ2h0LGk9ZS5zdHlsZS5hbWJpZW50TGlnaHQ7dCYmaSYmKF89V0EodCxpKSk7fXtsPS0xO2NvbnN0IGc9cy5UUklBTkdMRVMsW3kseF09W3QuZ3JpZEluZGV4QnVmZmVyLHQuZ3JpZFNlZ21lbnRzXTtmb3IoY29uc3QgbCBvZiByKXtjb25zdCByPWkuZ2V0VGlsZShsKSx2PVN4LmRpc2FibGVkLGI9dC5wcmV2VGVycmFpblRpbGVGb3JUaWxlW2wua2V5XSx3PXQudGVycmFpblRpbGVGb3JUaWxlW2wua2V5XTt0TShiLHcpJiZpTS5uZXdNb3JwaGluZyhsLmtleSxiLHcsbiwyNTApLG8uYWN0aXZlVGV4dHVyZS5zZXQocy5URVhUVVJFMCksci50ZXh0dXJlJiZyLnRleHR1cmUuYmluZChzLkxJTkVBUixzLkNMQU1QX1RPX0VER0UpO2NvbnN0IFQ9aU0uZ2V0TW9ycGhWYWx1ZXNGb3JQcm94eShsLmtleSksRT1UPzE6MDtsZXQgQTtUJiYoQT17bW9ycGhpbmc6e3NyY0RlbVRpbGU6VC5mcm9tLGRzdERlbVRpbGU6VC50byxwaGFzZTpNKFQucGhhc2UpfX0pO2NvbnN0IFM9SkUobC5wcm9qTWF0cml4LG9NKGwuY2Fub25pY2FsLGYucmVuZGVyV29ybGRDb3BpZXMpP20vMTA6bSxfKTtpZih1KEUpLCFhKWNvbnRpbnVlO3Quc2V0dXBFbGV2YXRpb25EcmF3KHIsYSxBKTtjb25zdCBJPWwudG9VbndyYXBwZWQoKTtjJiZjLnNldHVwU2hhZG93cyhJLGEpLGUudXBsb2FkQ29tbW9uVW5pZm9ybXMobyxhLEksbnVsbCxoKSxhLmRyYXcoZSxnLHAsdixkLER4LmJhY2tDQ1csUyxcInRlcnJhaW5fcmFzdGVyXCIsdC5ncmlkQnVmZmVyLHkseCk7fX19fSh0LHRoaXMsdGhpcy5wcm94eVNvdXJjZUNhY2hlLGUsdGhpcy5fdXBkYXRlVGltZXN0YW1wKSx0aGlzLnJlbmRlcmluZ1RvVGV4dHVyZT0hMCx0LmdwdVRpbWluZ0RlZmVycmVkUmVuZGVyRW5kKCksZS5zcGxpY2UoMCxlLmxlbmd0aCkpO31yZW5kZXJCYXRjaChlKXtpZigwPT09dGhpcy5fZHJhcGVkUmVuZGVyQmF0Y2hlcy5sZW5ndGgpcmV0dXJuIGUrMTt0aGlzLnJlbmRlcmluZ1RvVGV4dHVyZT0hMDtjb25zdCB0PXRoaXMucGFpbnRlcixpPXRoaXMucGFpbnRlci5jb250ZXh0LHI9dGhpcy5wcm94eVNvdXJjZUNhY2hlLG49dGhpcy5wcm94aWVkQ29vcmRzW3IuaWRdLG89dGhpcy5fZHJhcGVkUmVuZGVyQmF0Y2hlcy5zaGlmdCgpLHM9dC5zdHlsZS5vcmRlcixhPVtdO2xldCBsPTA7Zm9yKGNvbnN0IGMgb2Ygbil7Y29uc3Qgbj1yLmdldFRpbGVCeUlEKGMucHJveHlUaWxlS2V5KSxoPXIucHJveHlDYWNoZWRGQk9bYy5rZXldP3IucHJveHlDYWNoZWRGQk9bYy5rZXldW2VdOnZvaWQgMCx1PXZvaWQgMCE9PWg/ci5yZW5kZXJDYWNoZVtoXTp0aGlzLnBvb2xbbCsrXSxkPXZvaWQgMCE9PWg7aWYobi50ZXh0dXJlPXUudGV4LGQmJiF1LmRpcnR5KXthLnB1c2gobi50aWxlSUQpO2NvbnRpbnVlfWxldCBwO2kuYmluZEZyYW1lYnVmZmVyLnNldCh1LmZiLmZyYW1lYnVmZmVyKSx0aGlzLnJlbmRlcmVkVG9UaWxlPSExLHUuZGlydHkmJihpLmNsZWFyKHtjb2xvcjpoaS50cmFuc3BhcmVudCxzdGVuY2lsOjB9KSx1LmRpcnR5PSExKTtmb3IobGV0IGU9by5zdGFydDtlPD1vLmVuZDsrK2Upe2NvbnN0IHI9dC5zdHlsZS5fbWVyZ2VkTGF5ZXJzW3NbZV1dO2lmKHIuaXNIaWRkZW4odC50cmFuc2Zvcm0uem9vbSkpY29udGludWU7Y29uc3Qgbj10LnN0eWxlLmdldExheWVyU291cmNlQ2FjaGUociksbz1uP3RoaXMucHJveHlUb1NvdXJjZVtjLmtleV1bbi5pZF06W2NdO2lmKCFvKWNvbnRpbnVlO2NvbnN0IGE9bztpLnZpZXdwb3J0LnNldChbMCwwLHUuZmIud2lkdGgsdS5mYi5oZWlnaHRdKSxwIT09KG4/bi5pZDpudWxsKSYmKHRoaXMuX3NldHVwU3RlbmNpbCh1LG8scixuKSxwPW4/bi5pZDpudWxsKSx0LnJlbmRlckxheWVyKHQsbixyLGEpO31pZigwPT09dGhpcy5fZHJhcGVkUmVuZGVyQmF0Y2hlcy5sZW5ndGgpZm9yKGNvbnN0IGUgb2YgdGhpcy5fcGVuZGluZ0dyb3VuZEVmZmVjdExheWVycyl7Y29uc3Qgcj10LnN0eWxlLl9tZXJnZWRMYXllcnNbc1tlXV07aWYoci5pc0hpZGRlbih0LnRyYW5zZm9ybS56b29tKSljb250aW51ZTtjb25zdCBuPXQuc3R5bGUuZ2V0TGF5ZXJTb3VyY2VDYWNoZShyKSxvPW4/dGhpcy5wcm94eVRvU291cmNlW2Mua2V5XVtuLmlkXTpbY107aWYoIW8pY29udGludWU7Y29uc3QgYT1vO2kudmlld3BvcnQuc2V0KFswLDAsdS5mYi53aWR0aCx1LmZiLmhlaWdodF0pLHAhPT0obj9uLmlkOm51bGwpJiYodGhpcy5fc2V0dXBTdGVuY2lsKHUsbyxyLG4pLHA9bj9uLmlkOm51bGwpLHQucmVuZGVyTGF5ZXIodCxuLHIsYSk7fXRoaXMucmVuZGVyZWRUb1RpbGU/KHUuZGlydHk9ITAsYS5wdXNoKG4udGlsZUlEKSk6ZHx8LS1sLDU9PT1sJiYobD0wLHRoaXMucmVuZGVyVG9CYWNrQnVmZmVyKGEpKTt9cmV0dXJuIHRoaXMucmVuZGVyVG9CYWNrQnVmZmVyKGEpLHRoaXMucmVuZGVyaW5nVG9UZXh0dXJlPSExLGkuYmluZEZyYW1lYnVmZmVyLnNldChudWxsKSxpLnZpZXdwb3J0LnNldChbMCwwLHQud2lkdGgsdC5oZWlnaHRdKSxvLmVuZCsxfXBvc3RSZW5kZXIoKXt9aXNMYXllck9yZGVyaW5nQ29ycmVjdChlKXtjb25zdCB0PWUub3JkZXIubGVuZ3RoO2xldCBpPS0xLHI9dDtmb3IobGV0IG49MDtuPHQ7KytuKXRoaXMuX3N0eWxlLmlzTGF5ZXJEcmFwZWQoZS5fbWVyZ2VkTGF5ZXJzW2Uub3JkZXJbbl1dKT9pPU1hdGgubWF4KGksbik6cj1NYXRoLm1pbihyLG4pO3JldHVybiByPml9Z2V0TWluRWxldmF0aW9uQmVsb3dNU0woKXtsZXQgZT0wO3JldHVybiB0aGlzLl92aXNpYmxlRGVtVGlsZXMuZmlsdGVyKChlPT5lLmRlbSkpLmZvckVhY2goKHQ9PntlPU1hdGgubWluKGUsdC5kZW0udHJlZS5taW5pbXVtc1swXSk7fSkpLDA9PT1lP2U6KGUtMzApKnRoaXMuX2V4YWdnZXJhdGlvbn1yYXljYXN0KGUsdCxpKXtpZighdGhpcy5fdmlzaWJsZURlbVRpbGVzKXJldHVybiBudWxsO2NvbnN0IHI9dGhpcy5fdmlzaWJsZURlbVRpbGVzLmZpbHRlcigoZT0+ZS5kZW0pKS5tYXAoKHI9Pntjb25zdCBuPXIudGlsZUlELG89MTw8bi5vdmVyc2NhbGVkWix7eDpzLHk6YX09bi5jYW5vbmljYWwsbD1zL28sYz0ocysxKS9vLGg9YS9vLHU9KGErMSkvbztyZXR1cm4ge21pbng6bCxtaW55OmgsbWF4eDpjLG1heHk6dSx0OnIuZGVtLnRyZWUucmF5Y2FzdFJvb3QobCxoLGMsdSxlLHQsaSksdGlsZTpyfX0pKTtyLnNvcnQoKChlLHQpPT4obnVsbCE9PWUudD9lLnQ6TnVtYmVyLk1BWF9WQUxVRSktKG51bGwhPT10LnQ/dC50Ok51bWJlci5NQVhfVkFMVUUpKSk7Zm9yKGNvbnN0IG4gb2Ygcil7aWYobnVsbD09bi50KXJldHVybiBudWxsO2NvbnN0IHI9bi50aWxlLmRlbS50cmVlLnJheWNhc3Qobi5taW54LG4ubWlueSxuLm1heHgsbi5tYXh5LGUsdCxpKTtpZihudWxsIT1yKXJldHVybiByfXJldHVybiBudWxsfV9jcmVhdGVGQk8oKXtjb25zdCBlPXRoaXMucGFpbnRlci5jb250ZXh0LHQ9ZS5nbCxpPXRoaXMuZHJhcGVCdWZmZXJTaXplO2UuYWN0aXZlVGV4dHVyZS5zZXQodC5URVhUVVJFMCk7Y29uc3Qgcj1uZXcgTXkoZSx7d2lkdGg6aVswXSxoZWlnaHQ6aVsxXSxkYXRhOm51bGx9LHQuUkdCQSk7ci5iaW5kKHQuTElORUFSLHQuQ0xBTVBfVE9fRURHRSk7Y29uc3Qgbj1lLmNyZWF0ZUZyYW1lYnVmZmVyKGlbMF0saVsxXSwhMCxudWxsKTtyZXR1cm4gbi5jb2xvckF0dGFjaG1lbnQuc2V0KHIudGV4dHVyZSksbi5kZXB0aEF0dGFjaG1lbnQ9bmV3IFR4KGUsbi5mcmFtZWJ1ZmZlciksdm9pZCAwPT09dGhpcy5fc2hhcmVkRGVwdGhTdGVuY2lsPyh0aGlzLl9zaGFyZWREZXB0aFN0ZW5jaWw9ZS5jcmVhdGVSZW5kZXJidWZmZXIoZS5nbC5ERVBUSF9TVEVOQ0lMLGlbMF0saVsxXSksdGhpcy5fc3RlbmNpbFJlZj0wLG4uZGVwdGhBdHRhY2htZW50LnNldCh0aGlzLl9zaGFyZWREZXB0aFN0ZW5jaWwpLGUuY2xlYXIoe3N0ZW5jaWw6MH0pKTpuLmRlcHRoQXR0YWNobWVudC5zZXQodGhpcy5fc2hhcmVkRGVwdGhTdGVuY2lsKSxlLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYyYmdC50ZXhQYXJhbWV0ZXJmKHQuVEVYVFVSRV8yRCxlLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYy5URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCxlLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY01heCkse2ZiOm4sdGV4OnIsZGlydHk6ITF9fV9pbml0RkJPUG9vbCgpe2Zvcig7dGhpcy5wb29sLmxlbmd0aDxNYXRoLm1pbig1LHRoaXMucHJveHlDb29yZHMubGVuZ3RoKTspdGhpcy5wb29sLnB1c2godGhpcy5fY3JlYXRlRkJPKCkpO31fc2hvdWxkRGlzYWJsZVJlbmRlckNhY2hlKCl7aWYodGhpcy5fc3R5bGUuaGFzTGlnaHRUcmFuc2l0aW9ucygpKXJldHVybiAhMDtmb3IoY29uc3QgZSBpbiB0aGlzLl9zdHlsZS5fbWVyZ2VkU291cmNlQ2FjaGVzKWlmKHRoaXMuX3N0eWxlLl9tZXJnZWRTb3VyY2VDYWNoZXNbZV0uaGFzVHJhbnNpdGlvbigpKXJldHVybiAhMDtyZXR1cm4gdGhpcy5fc3R5bGUub3JkZXIuc29tZSgoZT0+e2NvbnN0IHQ9dGhpcy5fc3R5bGUuX21lcmdlZExheWVyc1tlXSxpPXQuaXNIaWRkZW4odGhpcy5wYWludGVyLnRyYW5zZm9ybS56b29tKTtyZXR1cm4gXCJjdXN0b21cIj09PXQudHlwZT8haSYmdC5zaG91bGRSZWRyYXBlKCk6IWkmJnQuaGFzVHJhbnNpdGlvbigpfSkpfV9jbGVhckxpbmVMYXllcnNGcm9tUmVuZGVyQ2FjaGUoKXtsZXQgZT0hMTtmb3IoY29uc3QgdCBvZiB0aGlzLl9zdHlsZS5nZXRTb3VyY2VzKCkpaWYodCBpbnN0YW5jZW9mIFZ3KXtlPSEwO2JyZWFrfWlmKCFlKXJldHVybjtjb25zdCB0PXt9O2ZvcihsZXQgZT0wO2U8dGhpcy5fc3R5bGUub3JkZXIubGVuZ3RoOysrZSl7Y29uc3QgaT10aGlzLl9zdHlsZS5fbWVyZ2VkTGF5ZXJzW3RoaXMuX3N0eWxlLm9yZGVyW2VdXSxyPXRoaXMuX3N0eWxlLmdldExheWVyU291cmNlQ2FjaGUoaSk7aWYociYmIXRbci5pZF0mJiFpLmlzSGlkZGVuKHRoaXMucGFpbnRlci50cmFuc2Zvcm0uem9vbSkmJlwibGluZVwiPT09aS50eXBlJiZpLndpZHRoRXhwcmVzc2lvbigpaW5zdGFuY2VvZiBBbyl7dFtyLmlkXT0hMDtmb3IoY29uc3QgZSBvZiB0aGlzLnByb3h5Q29vcmRzKXtjb25zdCB0PXRoaXMucHJveHlUb1NvdXJjZVtlLmtleV1bci5pZF07aWYodClmb3IoY29uc3QgZSBvZiB0KXRoaXMuX2NsZWFyUmVuZGVyQ2FjaGVGb3JUaWxlKHIuaWQsZSk7fX19fV9jbGVhclJhc3RlckxheWVyc0Zyb21SZW5kZXJDYWNoZSgpe2xldCBlPSExO2Zvcihjb25zdCB0IGluIHRoaXMuX3N0eWxlLl9tZXJnZWRTb3VyY2VDYWNoZXMpaWYodGhpcy5fc3R5bGUuX21lcmdlZFNvdXJjZUNhY2hlc1t0XS5fc291cmNlIGluc3RhbmNlb2Ygancpe2U9ITA7YnJlYWt9aWYoIWUpcmV0dXJuO2NvbnN0IHQ9e307Zm9yKGxldCBlPTA7ZTx0aGlzLl9zdHlsZS5vcmRlci5sZW5ndGg7KytlKXtjb25zdCBpPXRoaXMuX3N0eWxlLl9tZXJnZWRMYXllcnNbdGhpcy5fc3R5bGUub3JkZXJbZV1dLHI9dGhpcy5fc3R5bGUuZ2V0TGF5ZXJTb3VyY2VDYWNoZShpKTtpZighcnx8dFtyLmlkXSljb250aW51ZTtpZihpLmlzSGlkZGVuKHRoaXMucGFpbnRlci50cmFuc2Zvcm0uem9vbSl8fFwicmFzdGVyXCIhPT1pLnR5cGUpY29udGludWU7Y29uc3Qgbj1pLnBhaW50LmdldChcInJhc3Rlci1mYWRlLWR1cmF0aW9uXCIpO2Zvcihjb25zdCBlIG9mIHRoaXMucHJveHlDb29yZHMpe2NvbnN0IHQ9dGhpcy5wcm94eVRvU291cmNlW2Uua2V5XVtyLmlkXTtpZih0KWZvcihjb25zdCBlIG9mIHQpe2NvbnN0IHQ9YU0oci5nZXRUaWxlKGUpLHIuZmluZExvYWRlZFBhcmVudChlLDApLHIsdGhpcy5wYWludGVyLnRyYW5zZm9ybSxuKTsoMSE9PXQub3BhY2l0eXx8MCE9PXQubWl4KSYmdGhpcy5fY2xlYXJSZW5kZXJDYWNoZUZvclRpbGUoci5pZCxlKTt9fX19X3NldHVwRHJhcGVkUmVuZGVyQmF0Y2hlcygpe2NvbnN0IGU9dGhpcy5fc3R5bGUub3JkZXIsdD1lLmxlbmd0aDtpZigwPT09dClyZXR1cm47Y29uc3QgaT1bXTt0aGlzLl9wZW5kaW5nR3JvdW5kRWZmZWN0TGF5ZXJzPVtdO2xldCByLG49MCxvPXRoaXMuX3N0eWxlLl9tZXJnZWRMYXllcnNbZVtuXV07Zm9yKDshdGhpcy5fc3R5bGUuaXNMYXllckRyYXBlZChvKSYmby5pc0hpZGRlbih0aGlzLnBhaW50ZXIudHJhbnNmb3JtLnpvb20pJiYrK248dDspbz10aGlzLl9zdHlsZS5fbWVyZ2VkTGF5ZXJzW2Vbbl1dO2Zvcig7bjx0Oysrbil7Y29uc3QgdD10aGlzLl9zdHlsZS5fbWVyZ2VkTGF5ZXJzW2Vbbl1dO3QuaXNIaWRkZW4odGhpcy5wYWludGVyLnRyYW5zZm9ybS56b29tKXx8KHRoaXMuX3N0eWxlLmlzTGF5ZXJEcmFwZWQodCk/dm9pZCAwPT09ciYmKHI9bik6KFwiZmlsbC1leHRydXNpb25cIj09PXQudHlwZSYmdGhpcy5fcGVuZGluZ0dyb3VuZEVmZmVjdExheWVycy5wdXNoKG4pLHZvaWQgMCE9PXImJihpLnB1c2goe3N0YXJ0OnIsZW5kOm4tMX0pLHI9dm9pZCAwKSkpO31pZih2b2lkIDAhPT1yJiZpLnB1c2goe3N0YXJ0OnIsZW5kOm4tMX0pLDAhPT1pLmxlbmd0aCl7Y29uc3QgZT1pW2kubGVuZ3RoLTFdLHQ9dGhpcy5fcGVuZGluZ0dyb3VuZEVmZmVjdExheWVycy5ldmVyeSgodD0+dD5lLmVuZCkpO3R8fEgoXCJmaWxsLWV4dHJ1c2lvbiB3aXRoIGZsb29kIGxpZ2h0aW5nIGFuZC9vciBncm91bmQgYW1iaWVudCBvY2NsdXNpb24gc2hvdWxkIGJlIG1vdmVkIHRvIGJlIG9uIHRvcCBvZiBhbGwgZHJhcGVkIGxheWVycy5cIik7fXRoaXMuX2RyYXBlZFJlbmRlckJhdGNoZXM9aTt9X3NldHVwUmVuZGVyQ2FjaGUoZSl7Y29uc3QgdD10aGlzLnByb3h5U291cmNlQ2FjaGU7aWYodGhpcy5fc2hvdWxkRGlzYWJsZVJlbmRlckNhY2hlKCl8fHRoaXMuaW52YWxpZGF0ZVJlbmRlckNhY2hlKXtpZih0aGlzLmludmFsaWRhdGVSZW5kZXJDYWNoZT0hMSx0LnJlbmRlckNhY2hlLmxlbmd0aD50LnJlbmRlckNhY2hlUG9vbC5sZW5ndGgpe2NvbnN0IGU9T2JqZWN0LnZhbHVlcyh0LnByb3h5Q2FjaGVkRkJPKTt0LnByb3h5Q2FjaGVkRkJPPXt9O2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7KytpKXtjb25zdCByPU9iamVjdC52YWx1ZXMoZVtpXSk7dC5yZW5kZXJDYWNoZVBvb2wucHVzaCguLi5yKTt9fXJldHVybn10aGlzLl9jbGVhclJhc3RlckxheWVyc0Zyb21SZW5kZXJDYWNoZSgpO2NvbnN0IGk9dGhpcy5wcm94eUNvb3JkcyxyPXRoaXMuX3RpbGVzRGlydHk7Zm9yKGxldCBuPWkubGVuZ3RoLTE7bj49MDtuLS0pe2NvbnN0IG89aVtuXTtpZih0LmdldFRpbGVCeUlEKG8ua2V5KSx2b2lkIDAhPT10LnByb3h5Q2FjaGVkRkJPW28ua2V5XSl7Y29uc3QgaT1lW28ua2V5XSxuPXRoaXMucHJveHlUb1NvdXJjZVtvLmtleV07bGV0IHM9MDtmb3IoY29uc3QgZSBpbiBuKXtjb25zdCB0PW5bZV0sbz1pW2VdO2lmKCFvfHxvLmxlbmd0aCE9PXQubGVuZ3RofHx0LnNvbWUoKCh0LGkpPT50IT09b1tpXXx8cltlXSYmcltlXS5oYXNPd25Qcm9wZXJ0eSh0LmtleSkpKSl7cz0tMTticmVha30rK3M7fWZvcihjb25zdCBlIGluIHQucHJveHlDYWNoZWRGQk9bby5rZXldKXQucmVuZGVyQ2FjaGVbdC5wcm94eUNhY2hlZEZCT1tvLmtleV1bZV1dLmRpcnR5PXM8MHx8cyE9PU9iamVjdC52YWx1ZXMoaSkubGVuZ3RoO319Y29uc3Qgbj1bLi4udGhpcy5fZHJhcGVkUmVuZGVyQmF0Y2hlc107bi5zb3J0KCgoZSx0KT0+dC5lbmQtdC5zdGFydC0oZS5lbmQtZS5zdGFydCkpKTtmb3IoY29uc3QgZSBvZiBuKWZvcihjb25zdCByIG9mIGkpe2lmKHQucHJveHlDYWNoZWRGQk9bci5rZXldKWNvbnRpbnVlO2xldCBpPXQucmVuZGVyQ2FjaGVQb29sLnBvcCgpO3ZvaWQgMD09PWkmJnQucmVuZGVyQ2FjaGUubGVuZ3RoPDUwJiYoaT10LnJlbmRlckNhY2hlLmxlbmd0aCx0LnJlbmRlckNhY2hlLnB1c2godGhpcy5fY3JlYXRlRkJPKCkpKSx2b2lkIDAhPT1pJiYodC5wcm94eUNhY2hlZEZCT1tyLmtleV09e30sdC5wcm94eUNhY2hlZEZCT1tyLmtleV1bZS5zdGFydF09aSx0LnJlbmRlckNhY2hlW2ldLmRpcnR5PSEwKTt9dGhpcy5fdGlsZXNEaXJ0eT17fTt9X3NldHVwU3RlbmNpbChlLHQsaSxyKXtpZighcnx8IXRoaXMuX3NvdXJjZVRpbGVzT3ZlcmxhcFtyLmlkXSlyZXR1cm4gdm9pZCh0aGlzLl9vdmVybGFwU3RlbmNpbFR5cGUmJih0aGlzLl9vdmVybGFwU3RlbmNpbFR5cGU9ITEpKTtjb25zdCBuPXRoaXMucGFpbnRlci5jb250ZXh0LG89bi5nbDtpZih0Lmxlbmd0aDw9MSlyZXR1cm4gdm9pZCh0aGlzLl9vdmVybGFwU3RlbmNpbFR5cGU9ITEpO2xldCBzO2lmKGkuaXNUaWxlQ2xpcHBlZCgpKXM9dC5sZW5ndGgsdGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlLnRlc3Q9e2Z1bmM6by5FUVVBTCxtYXNrOjI1NX0sdGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlPVwiQ2xpcFwiO2Vsc2Uge2lmKCEodFswXS5vdmVyc2NhbGVkWj50W3QubGVuZ3RoLTFdLm92ZXJzY2FsZWRaKSlyZXR1cm4gdm9pZCh0aGlzLl9vdmVybGFwU3RlbmNpbFR5cGU9ITEpO3M9MSx0aGlzLl9vdmVybGFwU3RlbmNpbE1vZGUudGVzdD17ZnVuYzpvLkdSRUFURVIsbWFzazoyNTV9LHRoaXMuX292ZXJsYXBTdGVuY2lsVHlwZT1cIk1hc2tcIjt9dGhpcy5fc3RlbmNpbFJlZitzPjI1NSYmKG4uY2xlYXIoe3N0ZW5jaWw6MH0pLHRoaXMuX3N0ZW5jaWxSZWY9MCksdGhpcy5fc3RlbmNpbFJlZis9cyx0aGlzLl9vdmVybGFwU3RlbmNpbE1vZGUucmVmPXRoaXMuX3N0ZW5jaWxSZWYsaS5pc1RpbGVDbGlwcGVkKCkmJnRoaXMuX3JlbmRlclRpbGVDbGlwcGluZ01hc2tzKHQsdGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlLnJlZik7fWNsaXBPck1hc2tPdmVybGFwU3RlbmNpbFR5cGUoKXtyZXR1cm4gXCJDbGlwXCI9PT10aGlzLl9vdmVybGFwU3RlbmNpbFR5cGV8fFwiTWFza1wiPT09dGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlfXN0ZW5jaWxNb2RlRm9yUlRUT3ZlcmxhcChlKXtyZXR1cm4gdGhpcy5yZW5kZXJpbmdUb1RleHR1cmUmJnRoaXMuX292ZXJsYXBTdGVuY2lsVHlwZT8oXCJDbGlwXCI9PT10aGlzLl9vdmVybGFwU3RlbmNpbFR5cGUmJih0aGlzLl9vdmVybGFwU3RlbmNpbE1vZGUucmVmPXRoaXMucGFpbnRlci5fdGlsZUNsaXBwaW5nTWFza0lEc1tlLmtleV0pLHRoaXMuX292ZXJsYXBTdGVuY2lsTW9kZSk6U3guZGlzYWJsZWR9X3JlbmRlclRpbGVDbGlwcGluZ01hc2tzKGUsdCl7Y29uc3QgaT10aGlzLnBhaW50ZXIscj10aGlzLnBhaW50ZXIuY29udGV4dCxuPXIuZ2w7aS5fdGlsZUNsaXBwaW5nTWFza0lEcz17fSxyLnNldENvbG9yTW9kZShDeC5kaXNhYmxlZCksci5zZXREZXB0aE1vZGUoTXguZGlzYWJsZWQpO2NvbnN0IG89aS5nZXRPckNyZWF0ZVByb2dyYW0oXCJjbGlwcGluZ01hc2tcIik7Zm9yKGNvbnN0IHIgb2YgZSl7Y29uc3QgZT1pLl90aWxlQ2xpcHBpbmdNYXNrSURzW3Iua2V5XT0tLXQ7by5kcmF3KGksbi5UUklBTkdMRVMsTXguZGlzYWJsZWQsbmV3IFN4KHtmdW5jOm4uQUxXQVlTLG1hc2s6MH0sZSwyNTUsbi5LRUVQLG4uS0VFUCxuLlJFUExBQ0UpLEN4LmRpc2FibGVkLER4LmRpc2FibGVkLHNNKHIucHJvak1hdHJpeCksXCIkY2xpcHBpbmdcIixpLnRpbGVFeHRlbnRCdWZmZXIsaS5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcixpLnRpbGVFeHRlbnRTZWdtZW50cyk7fX1wb2ludENvb3JkaW5hdGUoZSl7Y29uc3QgdD10aGlzLnBhaW50ZXIudHJhbnNmb3JtO2lmKGUueDwwfHxlLng+dC53aWR0aHx8ZS55PDB8fGUueT50LmhlaWdodClyZXR1cm4gbnVsbDtjb25zdCBpPVtlLngsZS55LDEsMV07eXUudHJhbnNmb3JtTWF0NChpLGksdC5waXhlbE1hdHJpeEludmVyc2UpLHl1LnNjYWxlKGksaSwxL2lbM10pLGlbMF0vPXQud29ybGRTaXplLGlbMV0vPXQud29ybGRTaXplO2NvbnN0IHI9dC5fY2FtZXJhLnBvc2l0aW9uLG49UWQoMSx0LmNlbnRlci5sYXQpLG89W3JbMF0sclsxXSxyWzJdL24sMF0scz1EdS5zdWJ0cmFjdChbXSxpLnNsaWNlKDAsMyksbyk7RHUubm9ybWFsaXplKHMscyk7Y29uc3QgYT10aGlzLnJheWNhc3QobyxzLHRoaXMuX2V4YWdnZXJhdGlvbik7cmV0dXJuIG51bGwhPT1hJiZhPyhEdS5zY2FsZUFuZEFkZChvLG8scyxhKSxvWzNdPW9bMl0sb1syXSo9bixvKTpudWxsfWRyYXdEZXB0aCgpe2NvbnN0IGU9dGhpcy5wYWludGVyLHQ9ZS5jb250ZXh0LGk9dGhpcy5wcm94eVNvdXJjZUNhY2hlLHI9TWF0aC5jZWlsKGUud2lkdGgpLG49TWF0aC5jZWlsKGUuaGVpZ2h0KTtpZighdGhpcy5fZGVwdGhGQk98fHRoaXMuX2RlcHRoRkJPLndpZHRoPT09ciYmdGhpcy5fZGVwdGhGQk8uaGVpZ2h0PT09bnx8KHRoaXMuX2RlcHRoRkJPLmRlc3Ryb3koKSx0aGlzLl9kZXB0aEZCTz12b2lkIDAsdGhpcy5fZGVwdGhUZXh0dXJlPXZvaWQgMCksIXRoaXMuX2RlcHRoRkJPKXtjb25zdCBlPXQuZ2wsaT10LmNyZWF0ZUZyYW1lYnVmZmVyKHIsbiwhMCxcInJlbmRlcmJ1ZmZlclwiKTt0LmFjdGl2ZVRleHR1cmUuc2V0KGUuVEVYVFVSRTApO2NvbnN0IG89bmV3IE15KHQse3dpZHRoOnIsaGVpZ2h0Om4sZGF0YTpudWxsfSxlLlJHQkEpO28uYmluZChlLk5FQVJFU1QsZS5DTEFNUF9UT19FREdFKSxpLmNvbG9yQXR0YWNobWVudC5zZXQoby50ZXh0dXJlKTtjb25zdCBzPXQuY3JlYXRlUmVuZGVyYnVmZmVyKHQuZ2wuREVQVEhfQ09NUE9ORU5UMTYscixuKTtpLmRlcHRoQXR0YWNobWVudC5zZXQocyksdGhpcy5fZGVwdGhGQk89aSx0aGlzLl9kZXB0aFRleHR1cmU9bzt9dC5iaW5kRnJhbWVidWZmZXIuc2V0KHRoaXMuX2RlcHRoRkJPLmZyYW1lYnVmZmVyKSx0LnZpZXdwb3J0LnNldChbMCwwLHIsbl0pLGZ1bmN0aW9uKGUsdCxpLHIpe2lmKFwiZ2xvYmVcIj09PWUudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSlyZXR1cm47Y29uc3Qgbj1lLmNvbnRleHQsbz1uLmdsO24uY2xlYXIoe2RlcHRoOjF9KTtjb25zdCBzPWUuZ2V0T3JDcmVhdGVQcm9ncmFtKFwidGVycmFpbkRlcHRoXCIpLGE9bmV3IE14KG8uTEVTUyxNeC5SZWFkV3JpdGUsZS5kZXB0aFJhbmdlRm9yM0QpO2Zvcihjb25zdCBuIG9mIHIpe2NvbnN0IHI9aS5nZXRUaWxlKG4pLGw9SkUobi5wcm9qTWF0cml4LDAsWzAsMCwwXSk7dC5zZXR1cEVsZXZhdGlvbkRyYXcocixzKSxzLmRyYXcoZSxvLlRSSUFOR0xFUyxhLFN4LmRpc2FibGVkLEN4LnVuYmxlbmRlZCxEeC5iYWNrQ0NXLGwsXCJ0ZXJyYWluX2RlcHRoXCIsdC5ncmlkQnVmZmVyLHQuZ3JpZEluZGV4QnVmZmVyLHQuZ3JpZE5vU2tpcnRTZWdtZW50cyk7fX0oZSx0aGlzLGksdGhpcy5wcm94eUNvb3Jkcyk7fV9zZXR1cFByb3hpZWRDb29yZHNGb3JPcnRobyhlLHQsaSl7aWYoZS5nZXRTb3VyY2UoKWluc3RhbmNlb2YgSmIpcmV0dXJuIHRoaXMuX3NldHVwUHJveGllZENvb3Jkc0ZvckltYWdlU291cmNlKGUsdCxpKTt0aGlzLl9maW5kQ292ZXJpbmdUaWxlQ2FjaGVbZS5pZF09dGhpcy5fZmluZENvdmVyaW5nVGlsZUNhY2hlW2UuaWRdfHx7fTtjb25zdCByPXRoaXMucHJveGllZENvb3Jkc1tlLmlkXT1bXSxuPXRoaXMucHJveHlDb29yZHM7Zm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0Kyspe2NvbnN0IG89blt0XSxzPXRoaXMuX2ZpbmRUaWxlQ292ZXJpbmdUaWxlSUQobyxlKTtpZihzKXtjb25zdCB0PXRoaXMuX2NyZWF0ZVByb3hpZWRJZChvLHMsaVtvLmtleV0mJmlbby5rZXldW2UuaWRdKTtyLnB1c2godCksdGhpcy5wcm94eVRvU291cmNlW28ua2V5XVtlLmlkXT1bdF07fX1sZXQgbz0hMTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyl7Y29uc3Qgcz1lLmdldFRpbGUodFtuXSk7aWYoIXN8fCFzLmhhc0RhdGEoKSljb250aW51ZTtjb25zdCBhPXRoaXMuX2ZpbmRUaWxlQ292ZXJpbmdUaWxlSUQocy50aWxlSUQsdGhpcy5wcm94eVNvdXJjZUNhY2hlKTtpZihhJiZhLnRpbGVJRC5jYW5vbmljYWwueiE9PXMudGlsZUlELmNhbm9uaWNhbC56KXtjb25zdCB0PXRoaXMucHJveHlUb1NvdXJjZVthLnRpbGVJRC5rZXldW2UuaWRdLG49dGhpcy5fY3JlYXRlUHJveGllZElkKGEudGlsZUlELHMsaVthLnRpbGVJRC5rZXldJiZpW2EudGlsZUlELmtleV1bZS5pZF0pO3Q/dC5zcGxpY2UodC5sZW5ndGgtMSwwLG4pOnRoaXMucHJveHlUb1NvdXJjZVthLnRpbGVJRC5rZXldW2UuaWRdPVtuXSxyLnB1c2gobiksbz0hMDt9fXRoaXMuX3NvdXJjZVRpbGVzT3ZlcmxhcFtlLmlkXT1vO31fc2V0dXBQcm94aWVkQ29vcmRzRm9ySW1hZ2VTb3VyY2UoZSx0LGkpe2lmKCFlLmdldFNvdXJjZSgpLmxvYWRlZCgpKXJldHVybjtjb25zdCByPXRoaXMucHJveGllZENvb3Jkc1tlLmlkXT1bXSxuPXRoaXMucHJveHlDb29yZHMsbz1lLmdldFNvdXJjZSgpLHM9by50aWxlSUQ7aWYoIXMpcmV0dXJuO2NvbnN0IGE9bmV3IHkocy54LHMueSkuX2RpdigxPDxzLnopLGw9by5jb29yZGluYXRlcy5tYXAobHAuZnJvbUxuZ0xhdCkucmVkdWNlKCgoZSx0KT0+KGUubWluLng9TWF0aC5taW4oZS5taW4ueCx0LngtYS54KSxlLm1pbi55PU1hdGgubWluKGUubWluLnksdC55LWEueSksZS5tYXgueD1NYXRoLm1heChlLm1heC54LHQueC1hLngpLGUubWF4Lnk9TWF0aC5tYXgoZS5tYXgueSx0LnktYS55KSxlKSkse21pbjpuZXcgeShOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLG1heDpuZXcgeSgtTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRSl9KSxjPShlLHQpPT57Y29uc3QgaT1lLndyYXArZS5jYW5vbmljYWwueC8oMTw8ZS5jYW5vbmljYWwueikscj1lLmNhbm9uaWNhbC55LygxPDxlLmNhbm9uaWNhbC56KSxuPWNyLygxPDxlLmNhbm9uaWNhbC56KSxvPXQud3JhcCt0LmNhbm9uaWNhbC54LygxPDx0LmNhbm9uaWNhbC56KSxzPXQuY2Fub25pY2FsLnkvKDE8PHQuY2Fub25pY2FsLnopO3JldHVybiBpK248bytsLm1pbi54fHxpPm8rbC5tYXgueHx8cituPHMrbC5taW4ueXx8cj5zK2wubWF4Lnl9O2ZvcihsZXQgbz0wO288bi5sZW5ndGg7bysrKXtjb25zdCBzPW5bb107Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspe2NvbnN0IG89ZS5nZXRUaWxlKHRbbl0pO2lmKCFvfHwhby5oYXNEYXRhKCkpY29udGludWU7aWYoYyhzLG8udGlsZUlEKSljb250aW51ZTtjb25zdCBhPXRoaXMuX2NyZWF0ZVByb3hpZWRJZChzLG8saVtzLmtleV0mJmlbcy5rZXldW2UuaWRdKSxsPXRoaXMucHJveHlUb1NvdXJjZVtzLmtleV1bZS5pZF07bD9sLnB1c2goYSk6dGhpcy5wcm94eVRvU291cmNlW3Mua2V5XVtlLmlkXT1bYV0sci5wdXNoKGEpO319fV9jcmVhdGVQcm94aWVkSWQoZSx0LGkpe2xldCByPXRoaXMub3J0aG9NYXRyaXg7aWYoaSl7Y29uc3QgZT1pLmZpbmQoKGU9PmUua2V5PT09dC50aWxlSUQua2V5KSk7aWYoZSlyZXR1cm4gZX1pZih0LnRpbGVJRC5rZXkhPT1lLmtleSl7Y29uc3QgaT1lLmNhbm9uaWNhbC56LXQudGlsZUlELmNhbm9uaWNhbC56O2xldCBuLG8scztyPUF1LmNyZWF0ZSgpO2NvbnN0IGE9dC50aWxlSUQud3JhcC1lLndyYXA8PGUub3ZlcnNjYWxlZFo7aT4wPyhuPWNyPj5pLG89biooKHQudGlsZUlELmNhbm9uaWNhbC54PDxpKS1lLmNhbm9uaWNhbC54K2EpLHM9biooKHQudGlsZUlELmNhbm9uaWNhbC55PDxpKS1lLmNhbm9uaWNhbC55KSk6KG49Y3I8PC1pLG89Y3IqKHQudGlsZUlELmNhbm9uaWNhbC54LShlLmNhbm9uaWNhbC54K2E8PC1pKSkscz1jcioodC50aWxlSUQuY2Fub25pY2FsLnktKGUuY2Fub25pY2FsLnk8PC1pKSkpLEF1Lm9ydGhvKHIsMCxuLDAsbiwwLDEpLEF1LnRyYW5zbGF0ZShyLHIsW28scywwXSk7fXJldHVybiBuZXcgaE0odC50aWxlSUQsZS5rZXkscil9X2ZpbmRUaWxlQ292ZXJpbmdUaWxlSUQoZSx0KXtsZXQgaT10LmdldFRpbGUoZSk7aWYoaSYmaS5oYXNEYXRhKCkpcmV0dXJuIGk7Y29uc3Qgcj10aGlzLl9maW5kQ292ZXJpbmdUaWxlQ2FjaGVbdC5pZF0sbj1yW2Uua2V5XTtpZihpPW4/dC5nZXRUaWxlQnlJRChuKTpudWxsLGkmJmkuaGFzRGF0YSgpfHxudWxsPT09bilyZXR1cm4gaTtsZXQgbz1pP2kudGlsZUlEOmUscz1vLm92ZXJzY2FsZWRaO2NvbnN0IGE9dC5nZXRTb3VyY2UoKS5taW56b29tLGw9W107aWYoIW4pe2NvbnN0IHI9dC5nZXRTb3VyY2UoKS5tYXh6b29tO2lmKGUuY2Fub25pY2FsLno+PXIpe2NvbnN0IGk9ZS5jYW5vbmljYWwuei1yO3QuZ2V0U291cmNlKCkucmVwYXJzZU92ZXJzY2FsZWQ/KHM9TWF0aC5tYXgoZS5jYW5vbmljYWwueisyLHQudHJhbnNmb3JtLnRpbGVab29tKSxvPW5ldyBxdShzLGUud3JhcCxyLGUuY2Fub25pY2FsLng+PmksZS5jYW5vbmljYWwueT4+aSkpOjAhPT1pJiYocz1yLG89bmV3IHF1KHMsZS53cmFwLHIsZS5jYW5vbmljYWwueD4+aSxlLmNhbm9uaWNhbC55Pj5pKSk7fW8ua2V5IT09ZS5rZXkmJihsLnB1c2goby5rZXkpLGk9dC5nZXRUaWxlKG8pKTt9Y29uc3QgYz1lPT57bC5mb3JFYWNoKCh0PT57clt0XT1lO30pKSxsLmxlbmd0aD0wO307Zm9yKHMtPTE7cz49YSYmKCFpfHwhaS5oYXNEYXRhKCkpO3MtLSl7aSYmYyhpLnRpbGVJRC5rZXkpO2NvbnN0IGU9by5jYWxjdWxhdGVTY2FsZWRLZXkocyk7aWYoaT10LmdldFRpbGVCeUlEKGUpLGkmJmkuaGFzRGF0YSgpKWJyZWFrO2NvbnN0IG49cltlXTtpZihudWxsPT09bilicmVhazt2b2lkIDA9PT1uP2wucHVzaChlKTppPXQuZ2V0VGlsZUJ5SUQobik7fXJldHVybiBjKGk/aS50aWxlSUQua2V5Om51bGwpLGkmJmkuaGFzRGF0YSgpP2k6bnVsbH1maW5kREVNVGlsZUZvcihlKXtyZXR1cm4gdGhpcy5lbmFibGVkP3RoaXMuX2ZpbmRUaWxlQ292ZXJpbmdUaWxlSUQoZSx0aGlzLnNvdXJjZUNhY2hlKTpudWxsfXByZXBhcmVEcmF3VGlsZSgpe3RoaXMucmVuZGVyZWRUb1RpbGU9ITA7fV9jbGVhclJlbmRlckNhY2hlRm9yVGlsZShlLHQpe2xldCBpPXRoaXMuX3RpbGVzRGlydHlbZV07aXx8KGk9dGhpcy5fdGlsZXNEaXJ0eVtlXT17fSksaVt0LmtleV09ITA7fX1mdW5jdGlvbiBkTShlLHQsaSl7Y29uc3Qgcj1mdW5jdGlvbihlLHQsaSl7Y29uc3Qgcj1EdS5kb3QodCxlKSxuPUR1LmRvdChpLFsuMjEyNiwuNzE1MiwuMDcyMl0pLG89KGUsdCxpKT0+KDEtaSkqZStpKnQscz1vKDEtLjMqTWF0aC5taW4obiwxKSwxLE1hdGgubWluKHIrMSwxKSk7cmV0dXJuIG8oLjkyLDEsTWF0aC5hc2luKHoodFsyXSwtMSwxKSkvTWF0aC5QSSsuNSkqc30oZSxbMCwwLDFdLHQpLG49WzAsMCwwXTtEdS5zY2FsZShuLGkuc2xpY2UoMCwzKSxyKTtjb25zdCBvPVswLDAsMF07RHUuc2NhbGUobyx0LnNsaWNlKDAsMyksZVsyXSk7Y29uc3Qgcz1bMCwwLDBdO3JldHVybiBEdS5hZGQocyxuLG8pLGFlKHMpfWNvbnN0IHBNPVtcImZpbGxcIixcImZpbGxPdXRsaW5lXCIsXCJmaWxsUGF0dGVyblwiLFwibGluZVwiLFwibGluZVBhdHRlcm5cIixcImJhY2tncm91bmRcIixcImJhY2tncm91bmRQYXR0ZXJuXCIsXCJoaWxsc2hhZGVcIixcInJhc3RlclwiXSxmTT1bXCJzdGFyc1wiLFwiZmlsbEV4dHJ1c2lvblwiLFwiZmlsbEV4dHJ1c2lvbkdyb3VuZEVmZmVjdFwiLFwibW9kZWxcIixcInN5bWJvbFNERlwiLFwic3ltYm9sSWNvblwiLFwic3ltYm9sVGV4dEFuZEljb25cIl07Y2xhc3MgbU17c3RhdGljIGNhY2hlS2V5KGUsdCxpLHIpe2xldCBuPWAke3R9JHtyP3IuY2FjaGVLZXk6XCJcIn1gO2Zvcihjb25zdCB0IG9mIGkpZS51c2VkRGVmaW5lcy5pbmNsdWRlcyh0KSYmKG4rPWAvJHt0fWApO3JldHVybiBufWNvbnN0cnVjdG9yKGUsdCxpLHIsbixvKXtjb25zdCBzPWUuZ2w7dGhpcy5wcm9ncmFtPXMuY3JlYXRlUHJvZ3JhbSgpLHRoaXMuY29uZmlndXJhdGlvbj1yLHRoaXMubmFtZT10LHRoaXMuZml4ZWREZWZpbmVzPVsuLi5vXTtjb25zdCBhPXI/ci5nZXRCaW5kZXJBdHRyaWJ1dGVzKCk6W10sbD0oaS5zdGF0aWNBdHRyaWJ1dGVzfHxbXSkuY29uY2F0KGEpO2xldCBjPXI/ci5kZWZpbmVzKCk6W107Yz1jLmNvbmNhdChvLm1hcCgoZT0+YCNkZWZpbmUgJHtlfWApKSk7Y29uc3QgaD1cIiN2ZXJzaW9uIDMwMCBlc1xcblwiO2xldCB1PWgrYy5jb25jYXQoXCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcIixqRSxWRS5mcmFnbWVudFNvdXJjZSkuam9pbihcIlxcblwiKTtmb3IoY29uc3QgZSBvZiBpLmZyYWdtZW50SW5jbHVkZXMpdSs9YFxcbiR7TkVbZV19YDt1Kz1gXFxuJHtpLmZyYWdtZW50U291cmNlfWA7bGV0IGQ9aCtjLmNvbmNhdChcInByZWNpc2lvbiBoaWdocCBmbG9hdDtcIixqRSxWRS52ZXJ0ZXhTb3VyY2UpLmpvaW4oXCJcXG5cIik7Zm9yKGNvbnN0IGUgb2YgaS52ZXJ0ZXhJbmNsdWRlcylkKz1gXFxuJHtORVtlXX1gO2QrPWBcXG4ke2kudmVydGV4U291cmNlfWA7Y29uc3QgcD1zLmNyZWF0ZVNoYWRlcihzLkZSQUdNRU5UX1NIQURFUik7aWYocy5pc0NvbnRleHRMb3N0KCkpcmV0dXJuIHZvaWQodGhpcy5mYWlsZWRUb0NyZWF0ZT0hMCk7cy5zaGFkZXJTb3VyY2UocCx1KSxzLmNvbXBpbGVTaGFkZXIocCkscy5hdHRhY2hTaGFkZXIodGhpcy5wcm9ncmFtLHApO2NvbnN0IGY9cy5jcmVhdGVTaGFkZXIocy5WRVJURVhfU0hBREVSKTtpZihzLmlzQ29udGV4dExvc3QoKSl0aGlzLmZhaWxlZFRvQ3JlYXRlPSEwO2Vsc2Uge3Muc2hhZGVyU291cmNlKGYsZCkscy5jb21waWxlU2hhZGVyKGYpLHMuYXR0YWNoU2hhZGVyKHRoaXMucHJvZ3JhbSxmKSx0aGlzLmF0dHJpYnV0ZXM9e30sdGhpcy5udW1BdHRyaWJ1dGVzPWwubGVuZ3RoO2ZvcihsZXQgZT0wO2U8dGhpcy5udW1BdHRyaWJ1dGVzO2UrKylpZihsW2VdKXtjb25zdCB0PWxbZV0uc3RhcnRzV2l0aChcImFfXCIpP2xbZV06YGFfJHtsW2VdfWA7cy5iaW5kQXR0cmliTG9jYXRpb24odGhpcy5wcm9ncmFtLGUsdCksdGhpcy5hdHRyaWJ1dGVzW3RdPWU7fXMubGlua1Byb2dyYW0odGhpcy5wcm9ncmFtKSxzLmRlbGV0ZVNoYWRlcihmKSxzLmRlbGV0ZVNoYWRlcihwKSx0aGlzLmZpeGVkVW5pZm9ybXM9bihlKSx0aGlzLmJpbmRlclVuaWZvcm1zPXI/ci5nZXRVbmlmb3JtcyhlKTpbXSxvLmluY2x1ZGVzKFwiVEVSUkFJTlwiKSYmKHRoaXMudGVycmFpblVuaWZvcm1zPShlPT4oe3VfZGVtOm5ldyBrbChlKSx1X2RlbV9wcmV2Om5ldyBrbChlKSx1X2RlbV90bDpuZXcgQmwoZSksdV9kZW1fc2NhbGU6bmV3IE9sKGUpLHVfZGVtX3RsX3ByZXY6bmV3IEJsKGUpLHVfZGVtX3NjYWxlX3ByZXY6bmV3IE9sKGUpLHVfZGVtX3NpemU6bmV3IE9sKGUpLHVfZGVtX2xlcnA6bmV3IE9sKGUpLHVfZXhhZ2dlcmF0aW9uOm5ldyBPbChlKSx1X2RlcHRoOm5ldyBrbChlKSx1X2RlcHRoX3NpemVfaW52Om5ldyBCbChlKSx1X21ldGVyX3RvX2RlbTpuZXcgT2woZSksdV9sYWJlbF9wbGFuZV9tYXRyaXhfaW52Om5ldyBqbChlKX0pKShlKSksby5pbmNsdWRlcyhcIkdMT0JFXCIpJiYodGhpcy5nbG9iZVVuaWZvcm1zPShlPT4oe3VfdGlsZV90bF91cDpuZXcgRmwoZSksdV90aWxlX3RyX3VwOm5ldyBGbChlKSx1X3RpbGVfYnJfdXA6bmV3IEZsKGUpLHVfdGlsZV9ibF91cDpuZXcgRmwoZSksdV90aWxlX3VwX3NjYWxlOm5ldyBPbChlKX0pKShlKSksby5pbmNsdWRlcyhcIkZPR1wiKSYmKHRoaXMuZm9nVW5pZm9ybXM9KGU9Pih7dV9mb2dfbWF0cml4Om5ldyBqbChlKSx1X2ZvZ19yYW5nZTpuZXcgQmwoZSksdV9mb2dfY29sb3I6bmV3IE5sKGUpLHVfZm9nX2hvcml6b25fYmxlbmQ6bmV3IE9sKGUpLHVfZm9nX3ZlcnRpY2FsX2xpbWl0Om5ldyBCbChlKSx1X2ZvZ190ZW1wb3JhbF9vZmZzZXQ6bmV3IE9sKGUpLHVfZnJ1c3R1bV90bDpuZXcgRmwoZSksdV9mcnVzdHVtX3RyOm5ldyBGbChlKSx1X2ZydXN0dW1fYnI6bmV3IEZsKGUpLHVfZnJ1c3R1bV9ibDpuZXcgRmwoZSksdV9nbG9iZV9wb3M6bmV3IEZsKGUpLHVfZ2xvYmVfcmFkaXVzOm5ldyBPbChlKSx1X2dsb2JlX3RyYW5zaXRpb246bmV3IE9sKGUpLHVfaXNfZ2xvYmU6bmV3IGtsKGUpLHVfdmlld3BvcnQ6bmV3IEJsKGUpfSkpKGUpKSxvLmluY2x1ZGVzKFwiUkVOREVSX0NVVE9GRlwiKSYmKHRoaXMuY3V0b2ZmVW5pZm9ybXM9KGU9Pih7dV9jdXRvZmZfcGFyYW1zOm5ldyBObChlKX0pKShlKSksby5pbmNsdWRlcyhcIkxJR0hUSU5HXzNEX01PREVcIikmJih0aGlzLmxpZ2h0c1VuaWZvcm1zPShlPT4oe3VfbGlnaHRpbmdfYW1iaWVudF9jb2xvcjpuZXcgRmwoZSksdV9saWdodGluZ19kaXJlY3Rpb25hbF9kaXI6bmV3IEZsKGUpLHVfbGlnaHRpbmdfZGlyZWN0aW9uYWxfY29sb3I6bmV3IEZsKGUpLHVfZ3JvdW5kX3JhZGlhbmNlOm5ldyBGbChlKX0pKShlKSksby5pbmNsdWRlcyhcIlJFTkRFUl9TSEFET1dTXCIpJiYodGhpcy5zaGFkb3dVbmlmb3Jtcz0oZT0+KHt1X2xpZ2h0X21hdHJpeF8wOm5ldyBqbChlKSx1X2xpZ2h0X21hdHJpeF8xOm5ldyBqbChlKSx1X2ZhZGVfcmFuZ2U6bmV3IEJsKGUpLHVfc2hhZG93X25vcm1hbF9vZmZzZXQ6bmV3IEZsKGUpLHVfc2hhZG93X2ludGVuc2l0eTpuZXcgT2woZSksdV9zaGFkb3dfdGV4ZWxfc2l6ZTpuZXcgT2woZSksdV9zaGFkb3dfbWFwX3Jlc29sdXRpb246bmV3IE9sKGUpLHVfc2hhZG93X2RpcmVjdGlvbjpuZXcgRmwoZSksdV9zaGFkb3dfYmlhczpuZXcgRmwoZSksdV9zaGFkb3dtYXBfMDpuZXcga2woZSksdV9zaGFkb3dtYXBfMTpuZXcga2woZSl9KSkoZSkpO319c2V0VGVycmFpblVuaWZvcm1WYWx1ZXMoZSx0KXtpZighdGhpcy50ZXJyYWluVW5pZm9ybXMpcmV0dXJuO2NvbnN0IGk9dGhpcy50ZXJyYWluVW5pZm9ybXM7aWYoIXRoaXMuZmFpbGVkVG9DcmVhdGUpe2UucHJvZ3JhbS5zZXQodGhpcy5wcm9ncmFtKTtmb3IoY29uc3QgZSBpbiB0KWlbZV0mJmlbZV0uc2V0KHRoaXMucHJvZ3JhbSxlLHRbZV0pO319c2V0R2xvYmVVbmlmb3JtVmFsdWVzKGUsdCl7aWYoIXRoaXMuZ2xvYmVVbmlmb3JtcylyZXR1cm47Y29uc3QgaT10aGlzLmdsb2JlVW5pZm9ybXM7aWYoIXRoaXMuZmFpbGVkVG9DcmVhdGUpe2UucHJvZ3JhbS5zZXQodGhpcy5wcm9ncmFtKTtmb3IoY29uc3QgZSBpbiB0KWlbZV0mJmlbZV0uc2V0KHRoaXMucHJvZ3JhbSxlLHRbZV0pO319c2V0Rm9nVW5pZm9ybVZhbHVlcyhlLHQpe2lmKCF0aGlzLmZvZ1VuaWZvcm1zKXJldHVybjtjb25zdCBpPXRoaXMuZm9nVW5pZm9ybXM7aWYoIXRoaXMuZmFpbGVkVG9DcmVhdGUpe2UucHJvZ3JhbS5zZXQodGhpcy5wcm9ncmFtKTtmb3IoY29uc3QgZSBpbiB0KWlbZV0uc2V0KHRoaXMucHJvZ3JhbSxlLHRbZV0pO319c2V0Q3V0b2ZmVW5pZm9ybVZhbHVlcyhlLHQpe2lmKCF0aGlzLmN1dG9mZlVuaWZvcm1zKXJldHVybjtjb25zdCBpPXRoaXMuY3V0b2ZmVW5pZm9ybXM7aWYoIXRoaXMuZmFpbGVkVG9DcmVhdGUpe2UucHJvZ3JhbS5zZXQodGhpcy5wcm9ncmFtKTtmb3IoY29uc3QgZSBpbiB0KWlbZV0uc2V0KHRoaXMucHJvZ3JhbSxlLHRbZV0pO319c2V0TGlnaHRzVW5pZm9ybVZhbHVlcyhlLHQpe2lmKCF0aGlzLmxpZ2h0c1VuaWZvcm1zKXJldHVybjtjb25zdCBpPXRoaXMubGlnaHRzVW5pZm9ybXM7aWYoIXRoaXMuZmFpbGVkVG9DcmVhdGUpe2UucHJvZ3JhbS5zZXQodGhpcy5wcm9ncmFtKTtmb3IoY29uc3QgZSBpbiB0KWlbZV0uc2V0KHRoaXMucHJvZ3JhbSxlLHRbZV0pO319c2V0U2hhZG93VW5pZm9ybVZhbHVlcyhlLHQpe2lmKHRoaXMuZmFpbGVkVG9DcmVhdGV8fCF0aGlzLnNoYWRvd1VuaWZvcm1zKXJldHVybjtjb25zdCBpPXRoaXMuc2hhZG93VW5pZm9ybXM7ZS5wcm9ncmFtLnNldCh0aGlzLnByb2dyYW0pO2Zvcihjb25zdCBlIGluIHQpaVtlXS5zZXQodGhpcy5wcm9ncmFtLGUsdFtlXSk7fV9kcmF3RGVidWdXaXJlZnJhbWUoZSx0LGkscixuLG8scyxhLGwsYyl7Y29uc3QgaD1lLm9wdGlvbnMud2lyZWZyYW1lO2lmKCExPT09aC50ZXJyYWluJiYhMT09PWgubGF5ZXJzMkQmJiExPT09aC5sYXllcnMzRClyZXR1cm47Y29uc3QgdT1lLmNvbnRleHQ7aWYoISgoKT0+ISghaC50ZXJyYWlufHxcInRlcnJhaW5SYXN0ZXJcIiE9PXRoaXMubmFtZSYmXCJnbG9iZVJhc3RlclwiIT09dGhpcy5uYW1lKXx8ISghaC5sYXllcnMyRHx8ZS5fdGVycmFpbiYmZS5fdGVycmFpbi5yZW5kZXJpbmdUb1RleHR1cmV8fCFwTS5pbmNsdWRlcyh0aGlzLm5hbWUpKXx8ISghaC5sYXllcnMzRHx8IWZNLmluY2x1ZGVzKHRoaXMubmFtZSkpKSgpKXJldHVybjtjb25zdCBkPXUuZ2wscD1lLndpcmVmcmFtZURlYnVnQ2FjaGUuZ2V0TGluZXNGcm9tVHJpYW5nbGVzQnVmZmVyKGUuZnJhbWVDb3VudGVyLG4sdSk7aWYoIXApcmV0dXJuO2NvbnN0IGY9Wy4uLnRoaXMuZml4ZWREZWZpbmVzXTtmLnB1c2goXCJERUJVR19XSVJFRlJBTUVcIik7Y29uc3QgbT1lLmdldE9yQ3JlYXRlUHJvZ3JhbSh0aGlzLm5hbWUse2NvbmZpZzp0aGlzLmNvbmZpZ3VyYXRpb24sZGVmaW5lczpmfSk7dS5wcm9ncmFtLnNldChtLnByb2dyYW0pO2NvbnN0IF89KGUsdCxpKT0+e2lmKHRbZV0mJmlbZV0pZm9yKGNvbnN0IHIgaW4gdFtlXSlpW2VdW3JdJiZpW2VdW3JdLnNldChpLnByb2dyYW0scix0W2VdW3JdLmN1cnJlbnQpO307bCYmbC5zZXRVbmlmb3JtcyhtLnByb2dyYW0sdSxtLmJpbmRlclVuaWZvcm1zLHMse3pvb206YX0pLF8oXCJmaXhlZFVuaWZvcm1zXCIsdGhpcyxtKSxfKFwidGVycmFpblVuaWZvcm1zXCIsdGhpcyxtKSxfKFwiZ2xvYmVVbmlmb3Jtc1wiLHRoaXMsbSksXyhcImZvZ1VuaWZvcm1zXCIsdGhpcyxtKSxfKFwibGlnaHRzVW5pZm9ybXNcIix0aGlzLG0pLF8oXCJzaGFkb3dVbmlmb3Jtc1wiLHRoaXMsbSkscC5iaW5kKCksdS5zZXRDb2xvck1vZGUobmV3IEN4KFtkLk9ORSxkLk9ORV9NSU5VU19TUkNfQUxQSEEsZC5aRVJPLGQuT05FXSxoaS50cmFuc3BhcmVudCxbITAsITAsITAsITFdKSksdS5zZXREZXB0aE1vZGUobmV3IE14KHQuZnVuYz09PWQuTEVTUz9kLkxFUVVBTDp0LmZ1bmMsTXguUmVhZE9ubHksdC5yYW5nZSkpLHUuc2V0U3RlbmNpbE1vZGUoU3guZGlzYWJsZWQpO2NvbnN0IGc9MypvLnByaW1pdGl2ZUxlbmd0aCoyLHk9MypvLnByaW1pdGl2ZU9mZnNldCoyKjI7YyYmYz4xP2QuZHJhd0VsZW1lbnRzSW5zdGFuY2VkKGQuTElORVMsZyxkLlVOU0lHTkVEX1NIT1JULHksYyk6ZC5kcmF3RWxlbWVudHMoZC5MSU5FUyxnLGQuVU5TSUdORURfU0hPUlQseSksbi5iaW5kKCksdS5wcm9ncmFtLnNldCh0aGlzLnByb2dyYW0pLHUuc2V0RGVwdGhNb2RlKHQpLHUuc2V0U3RlbmNpbE1vZGUoaSksdS5zZXRDb2xvck1vZGUocik7fWRyYXcoZSx0LGkscixuLG8scyxhLGwsYyxoLHUsZCxwLGYsbSl7Y29uc3QgXz1lLmNvbnRleHQsZz1fLmdsO2lmKHRoaXMuZmFpbGVkVG9DcmVhdGUpcmV0dXJuO18ucHJvZ3JhbS5zZXQodGhpcy5wcm9ncmFtKSxfLnNldERlcHRoTW9kZShpKSxfLnNldFN0ZW5jaWxNb2RlKHIpLF8uc2V0Q29sb3JNb2RlKG4pLF8uc2V0Q3VsbEZhY2Uobyk7Zm9yKGNvbnN0IGUgb2YgT2JqZWN0LmtleXModGhpcy5maXhlZFVuaWZvcm1zKSl0aGlzLmZpeGVkVW5pZm9ybXNbZV0uc2V0KHRoaXMucHJvZ3JhbSxlLHNbZV0pO3AmJnAuc2V0VW5pZm9ybXModGhpcy5wcm9ncmFtLF8sdGhpcy5iaW5kZXJVbmlmb3Jtcyx1LHt6b29tOmR9KTtjb25zdCB5PXtbZy5MSU5FU106MixbZy5UUklBTkdMRVNdOjMsW2cuTElORV9TVFJJUF06MX1bdF0seD1tJiZtPjA/MTp2b2lkIDA7Zm9yKGNvbnN0IG8gb2YgaC5nZXQoKSl7Y29uc3Qgcz1vLnZhb3N8fChvLnZhb3M9e30pOyhzW2FdfHwoc1thXT1uZXcgJEUpKS5iaW5kKF8sdGhpcyxsLHA/cC5nZXRQYWludFZlcnRleEJ1ZmZlcnMoKTpbXSxjLG8udmVydGV4T2Zmc2V0LGZ8fFtdLHgpLG0mJm0+MT9nLmRyYXdFbGVtZW50c0luc3RhbmNlZCh0LG8ucHJpbWl0aXZlTGVuZ3RoKnksZy5VTlNJR05FRF9TSE9SVCxvLnByaW1pdGl2ZU9mZnNldCp5KjIsbSk6Zy5kcmF3RWxlbWVudHModCxvLnByaW1pdGl2ZUxlbmd0aCp5LGcuVU5TSUdORURfU0hPUlQsby5wcmltaXRpdmVPZmZzZXQqeSoyKSx0PT09Zy5UUklBTkdMRVMmJnRoaXMuX2RyYXdEZWJ1Z1dpcmVmcmFtZShlLGkscixuLGMsbyx1LGQscCxtKTt9fX1mdW5jdGlvbiBfTShlLHQpe2NvbnN0IGk9TWF0aC5wb3coMix0LnRpbGVJRC5vdmVyc2NhbGVkWikscj10LnRpbGVTaXplKk1hdGgucG93KDIsZS50cmFuc2Zvcm0udGlsZVpvb20pL2ksbj1yKih0LnRpbGVJRC5jYW5vbmljYWwueCt0LnRpbGVJRC53cmFwKmkpLG89cip0LnRpbGVJRC5jYW5vbmljYWwueTtyZXR1cm4ge3VfaW1hZ2U6MCx1X3RleHNpemU6dC5pbWFnZUF0bGFzVGV4dHVyZT90LmltYWdlQXRsYXNUZXh0dXJlLnNpemU6WzAsMF0sdV90aWxlX3VuaXRzX3RvX3BpeGVsczoxL3J2KHQsMSxlLnRyYW5zZm9ybS50aWxlWm9vbSksdV9waXhlbF9jb29yZF91cHBlcjpbbj4+MTYsbz4+MTZdLHVfcGl4ZWxfY29vcmRfbG93ZXI6WzY1NTM1Jm4sNjU1MzUmb119fWNvbnN0IGdNPUF1LmNyZWF0ZSgpLHlNPShlLHQsaSxyLG4sbyxzLGEsbCxjLGgsdSxkLHAsZixtKT0+e2NvbnN0IF89dC5zdHlsZS5saWdodCxnPV8ucHJvcGVydGllcy5nZXQoXCJwb3NpdGlvblwiKSx5PVtnLngsZy55LGcuel0seD1FdS5jcmVhdGUoKTtcInZpZXdwb3J0XCI9PT1fLnByb3BlcnRpZXMuZ2V0KFwiYW5jaG9yXCIpJiYoRXUuZnJvbVJvdGF0aW9uKHgsLXQudHJhbnNmb3JtLmFuZ2xlKSxEdS50cmFuc2Zvcm1NYXQzKHkseSx4KSk7Y29uc3Qgdj1fLnByb3BlcnRpZXMuZ2V0KFwiY29sb3JcIiksYj10LnRyYW5zZm9ybSx3PXt1X21hdHJpeDplLHVfbGlnaHRwb3M6eSx1X2xpZ2h0aW50ZW5zaXR5Ol8ucHJvcGVydGllcy5nZXQoXCJpbnRlbnNpdHlcIiksdV9saWdodGNvbG9yOlt2LnIsdi5nLHYuYl0sdV92ZXJ0aWNhbF9ncmFkaWVudDoraSx1X29wYWNpdHk6cix1X3RpbGVfaWQ6WzAsMCwwXSx1X3pvb21fdHJhbnNpdGlvbjowLHVfaW52X3JvdF9tYXRyaXg6Z00sdV9tZXJjX2NlbnRlcjpbMCwwXSx1X3VwX2RpcjpbMCwwLDBdLHVfaGVpZ2h0X2xpZnQ6MCx1X2FvOm4sdV9lZGdlX3JhZGl1czpvLHVfZmxvb2RfbGlnaHRfY29sb3I6dSx1X3ZlcnRpY2FsX3NjYWxlOmQsdV9mbG9vZF9saWdodF9pbnRlbnNpdHk6cCx1X2dyb3VuZF9zaGFkb3dfZmFjdG9yOmYsdV9lbWlzc2l2ZV9zdHJlbmd0aDptfTtyZXR1cm4gXCJnbG9iZVwiPT09Yi5wcm9qZWN0aW9uLm5hbWUmJih3LnVfdGlsZV9pZD1bcy5jYW5vbmljYWwueCxzLmNhbm9uaWNhbC55LDE8PHMuY2Fub25pY2FsLnpdLHcudV96b29tX3RyYW5zaXRpb249bCx3LnVfaW52X3JvdF9tYXRyaXg9aCx3LnVfbWVyY19jZW50ZXI9Yyx3LnVfdXBfZGlyPWIucHJvamVjdGlvbi51cFZlY3RvcihuZXcganUoMCwwLDApLGNbMF0qY3IsY1sxXSpjciksdy51X2hlaWdodF9saWZ0PWEpLHd9LHhNPShlLHQsaSk9Pih7dV9tYXRyaXg6ZSx1X2VkZ2VfcmFkaXVzOnQsdV92ZXJ0aWNhbF9zY2FsZTppfSksdk09KGUsdCxpLHIsbixvLHMsYSxsLGMsaCx1LGQscCk9Pntjb25zdCBmPXlNKGUsdCxpLHIsbixvLHMsbCxjLGgsdSxkLHAsMSxbMCwwLDBdLDApLG09e3VfaGVpZ2h0X2ZhY3RvcjotTWF0aC5wb3coMixzLm92ZXJzY2FsZWRaKS9hLnRpbGVTaXplLzh9O3JldHVybiBrKGYsX00odCxhKSxtKX0sYk09KGUsdCk9Pih7dV9tYXRyaXg6ZSx1X2VtaXNzaXZlX3N0cmVuZ3RoOnR9KSx3TT0oZSx0LGkscik9PmsoYk0oZSx0KSxfTShpLHIpKSxUTT0oZSx0LGkpPT4oe3VfbWF0cml4OmUsdV93b3JsZDppLHVfZW1pc3NpdmVfc3RyZW5ndGg6dH0pLEVNPShlLHQsaSxyLG4pPT5rKHdNKGUsdCxpLHIpLHt1X3dvcmxkOm59KSxNTT0oZSx0LGkscik9Pntjb25zdCBuPWNyL2kudGlsZVNpemU7cmV0dXJuIHt1X21hdHJpeDplLHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTp0LmdldENhbWVyYVRvQ2VudGVyRGlzdGFuY2UociksdV9leHRydWRlX3NjYWxlOlt0LnBpeGVsc1RvR0xVbml0c1swXS9uLHQucGl4ZWxzVG9HTFVuaXRzWzFdL25dfX0sQU09KGUsdCxpPTEpPT4oe3VfbWF0cml4OmUsdV9jb2xvcjp0LHVfb3ZlcmxheTowLHVfb3ZlcmxheV9zY2FsZTppfSksU009QXUuY3JlYXRlKCksSU09KGUsdCxpLHIsbixvLHMpPT57Y29uc3QgYT1lLnRyYW5zZm9ybSxsPVwiZ2xvYmVcIj09PWEucHJvamVjdGlvbi5uYW1lLGM9bD9DZChhLnpvb20sdC5jYW5vbmljYWwpKmEuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWw6cnYoaSwxLG8pLGg9e3VfbWF0cml4OnQucHJvak1hdHJpeCx1X2V4dHJ1ZGVfc2NhbGU6Yyx1X2ludGVuc2l0eTpzLHVfaW52X3JvdF9tYXRyaXg6U00sdV9tZXJjX2NlbnRlcjpbMCwwXSx1X3RpbGVfaWQ6WzAsMCwwXSx1X3pvb21fdHJhbnNpdGlvbjowLHVfdXBfZGlyOlswLDAsMF19O2lmKGwpe2gudV9pbnZfcm90X21hdHJpeD1yLGgudV9tZXJjX2NlbnRlcj1uLGgudV90aWxlX2lkPVt0LmNhbm9uaWNhbC54LHQuY2Fub25pY2FsLnksMTw8dC5jYW5vbmljYWwuel0saC51X3pvb21fdHJhbnNpdGlvbj1EZChhLnpvb20pO2NvbnN0IGU9blswXSpjcixpPW5bMV0qY3I7aC51X3VwX2Rpcj1hLnByb2plY3Rpb24udXBWZWN0b3IobmV3IGp1KDAsMCwwKSxlLGkpO31yZXR1cm4gaH0sQ009KGUsdCxpLHIsbixvLHMsYSxsLGMsaCx1LGQscCxmLG0sXyxnLHkseCx2LGIpPT57cmV0dXJuIHt1X21hdHJpeDplLHVfbm9ybWFsaXplX21hdHJpeDp0LHVfZ2xvYmVfbWF0cml4OmksdV9tZXJjX21hdHJpeDpyLHVfZ3JpZF9tYXRyaXg6bix1X3RsX3BhcmVudDpvLHVfc2NhbGVfcGFyZW50OmgsdV9mYWRlX3Q6dS5taXgsdV9vcGFjaXR5OnUub3BhY2l0eSpkLnBhaW50LmdldChcInJhc3Rlci1vcGFjaXR5XCIpLHVfaW1hZ2UwOjAsdV9pbWFnZTE6MSx1X2JyaWdodG5lc3NfbG93OmQucGFpbnQuZ2V0KFwicmFzdGVyLWJyaWdodG5lc3MtbWluXCIpLHVfYnJpZ2h0bmVzc19oaWdoOmQucGFpbnQuZ2V0KFwicmFzdGVyLWJyaWdodG5lc3MtbWF4XCIpLHVfc2F0dXJhdGlvbl9mYWN0b3I6KFQ9ZC5wYWludC5nZXQoXCJyYXN0ZXItc2F0dXJhdGlvblwiKSxUPjA/MS0xLygxLjAwMS1UKTotVCksdV9jb250cmFzdF9mYWN0b3I6KHc9ZC5wYWludC5nZXQoXCJyYXN0ZXItY29udHJhc3RcIiksdz4wPzEvKDEtdyk6MSt3KSx1X3NwaW5fd2VpZ2h0czp6TShkLnBhaW50LmdldChcInJhc3Rlci1odWUtcm90YXRlXCIpKSx1X3BlcnNwZWN0aXZlX3RyYW5zZm9ybTpwLHVfcmFzdGVyX2VsZXZhdGlvbjpmLHVfdGxfYnI6cyx1X3pvb21fdHJhbnNpdGlvbjphLHVfbWVyY19jZW50ZXI6bCx1X2N1dG9mZl9wYXJhbXM6Yyx1X2NvbG9yaXphdGlvbl9taXg6UE0oXyx5KSx1X2NvbG9yaXphdGlvbl9vZmZzZXQ6RE0oZyx5KSx1X2NvbG9yX3JhbXA6bSx1X3RleHR1cmVfb2Zmc2V0Olt2Lyh4KzIqdikseC8oeCsyKnYpXSx1X3RleHR1cmVfcmVzOlt4KzIqdix4KzIqdl0sdV9lbWlzc2l2ZV9zdHJlbmd0aDpifTt2YXIgdyxUO307ZnVuY3Rpb24gek0oZSl7ZSo9TWF0aC5QSS8xODA7Y29uc3QgdD1NYXRoLnNpbihlKSxpPU1hdGguY29zKGUpO3JldHVybiBbKDIqaSsxKS8zLCgtTWF0aC5zcXJ0KDMpKnQtaSsxKS8zLChNYXRoLnNxcnQoMykqdC1pKzEpLzNdfWZ1bmN0aW9uIFBNKFtlLHQsaSxyXSxbbixvXSl7aWYobj09PW8pcmV0dXJuIFswLDAsMCwwXTtjb25zdCBzPTI1OS8yNTcvKG8tbik7cmV0dXJuIFtlKnMsdCpzLGkqcyxyKnNdfWZ1bmN0aW9uIERNKGUsW3QsaV0pe3JldHVybiB0PT09aT8wOigoZS10KS8oaS10KSoyNTktMSkvMjU3fWNvbnN0IFJNPUF1LmNyZWF0ZSgpLExNPShlLHQsaSxyLG4sbyxzLGEsbCxjLGgsdSxkLHAsZixtLF8sZyk9Pntjb25zdCB5PW4udHJhbnNmb3JtLHg9e3VfaXNfc2l6ZV96b29tX2NvbnN0YW50OisoXCJjb25zdGFudFwiPT09ZXx8XCJzb3VyY2VcIj09PWUpLHVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50OisoXCJjb25zdGFudFwiPT09ZXx8XCJjYW1lcmFcIj09PWUpLHVfc2l6ZV90OnQ/dC51U2l6ZVQ6MCx1X3NpemU6dD90LnVTaXplOjAsdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOnkuZ2V0Q2FtZXJhVG9DZW50ZXJEaXN0YW5jZShtKSx1X3JvdGF0ZV9zeW1ib2w6K2ksdV9hc3BlY3RfcmF0aW86eS53aWR0aC95LmhlaWdodCx1X2ZhZGVfY2hhbmdlOm4ub3B0aW9ucy5mYWRlRHVyYXRpb24/bi5zeW1ib2xGYWRlQ2hhbmdlOjEsdV9tYXRyaXg6byx1X2xhYmVsX3BsYW5lX21hdHJpeDpzLHVfY29vcmRfbWF0cml4OmEsdV9pc190ZXh0OitsLHVfcGl0Y2hfd2l0aF9tYXA6K3IsdV90ZXhzaXplOmMsdV90ZXh0dXJlOjAsdV90aWxlX2lkOlswLDAsMF0sdV96b29tX3RyYW5zaXRpb246MCx1X2ludl9yb3RfbWF0cml4OlJNLHVfbWVyY19jZW50ZXI6WzAsMF0sdV9jYW1lcmFfZm9yd2FyZDpbMCwwLDBdLHVfZWNlZl9vcmlnaW46WzAsMCwwXSx1X3RpbGVfbWF0cml4OlJNLHVfdXBfdmVjdG9yOlswLC0xLDBdLHVfaWNvbl90cmFuc2l0aW9uOmd8fDAsdV9pY29uX3NhdHVyYXRpb246X307cmV0dXJuIFwiZ2xvYmVcIj09PW0ubmFtZSYmKHgudV90aWxlX2lkPVtoLmNhbm9uaWNhbC54LGguY2Fub25pY2FsLnksMTw8aC5jYW5vbmljYWwuel0seC51X3pvb21fdHJhbnNpdGlvbj11LHgudV9pbnZfcm90X21hdHJpeD1wLHgudV9tZXJjX2NlbnRlcj1kLHgudV9jYW1lcmFfZm9yd2FyZD15Ll9jYW1lcmEuZm9yd2FyZCgpLHgudV9lY2VmX29yaWdpbj1mdW5jdGlvbihlLHQpe2NvbnN0IGk9WzAsMCwwXSxyPUFkKGZkKHQuY2Fub25pY2FsKSk7cmV0dXJuIER1LnRyYW5zZm9ybU1hdDQoaSxpLHIpLER1LnRyYW5zZm9ybU1hdDQoaSxpLGUpLGl9KHkuZ2xvYmVNYXRyaXgsaC50b1Vud3JhcHBlZCgpKSx4LnVfdGlsZV9tYXRyaXg9RmxvYXQzMkFycmF5LmZyb20oeS5nbG9iZU1hdHJpeCkseC51X3VwX3ZlY3Rvcj1mKSx4fSxrTT0oZSx0LGkscixuLG8scyxhLGwsYyxoLHUsZCxwLGYsbSxfKT0+ayhMTShlLHQsaSxyLG4sbyxzLGEsbCxjLHUsZCxwLGYsbSxfLDEpLHt1X2dhbW1hX3NjYWxlOnI/bi50cmFuc2Zvcm0uZ2V0Q2FtZXJhVG9DZW50ZXJEaXN0YW5jZShfKSpNYXRoLmNvcyhuLnRlcnJhaW4/MDpuLnRyYW5zZm9ybS5fcGl0Y2gpOjEsdV9kZXZpY2VfcGl4ZWxfcmF0aW86ZHQuZGV2aWNlUGl4ZWxSYXRpbyx1X2lzX2hhbG86K2gsdW5kZWZpbmVkOnZvaWQgMH0pLE9NPShlLHQsaSxyLG4sbyxzLGEsbCxjLGgsdSxkLHAsZixtKT0+ayhrTShlLHQsaSxyLG4sbyxzLGEsITAsbCwhMCxoLHUsZCxwLGYsbSkse3VfdGV4c2l6ZV9pY29uOmMsdV90ZXh0dXJlX2ljb246MX0pLEJNPShlLHQsaSxyKT0+KHt1X21hdHJpeDplLHVfZW1pc3NpdmVfc3RyZW5ndGg6dCx1X29wYWNpdHk6aSx1X2NvbG9yOnJ9KSxGTT0oZSx0LGkscixuLG8scyk9PmsoZnVuY3Rpb24oZSx0LGkscil7Y29uc3Qgbj1pLmltYWdlTWFuYWdlci5nZXRQYXR0ZXJuKGUudG9TdHJpbmcoKSx0KSx7d2lkdGg6byxoZWlnaHQ6c309aS5pbWFnZU1hbmFnZXIuZ2V0UGl4ZWxTaXplKHQpLGE9TWF0aC5wb3coMixyLnRpbGVJRC5vdmVyc2NhbGVkWiksbD1yLnRpbGVTaXplKk1hdGgucG93KDIsaS50cmFuc2Zvcm0udGlsZVpvb20pL2EsYz1sKihyLnRpbGVJRC5jYW5vbmljYWwueCtyLnRpbGVJRC53cmFwKmEpLGg9bCpyLnRpbGVJRC5jYW5vbmljYWwueTtyZXR1cm4ge3VfaW1hZ2U6MCx1X3BhdHRlcm5fdGw6bi50bCx1X3BhdHRlcm5fYnI6bi5icix1X3RleHNpemU6W28sc10sdV9wYXR0ZXJuX3NpemU6bi5kaXNwbGF5U2l6ZSx1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzOjEvcnYociwxLGkudHJhbnNmb3JtLnRpbGVab29tKSx1X3BpeGVsX2Nvb3JkX3VwcGVyOltjPj4xNixoPj4xNl0sdV9waXhlbF9jb29yZF9sb3dlcjpbNjU1MzUmYyw2NTUzNSZoXX19KG4sbyxyLHMpLHt1X21hdHJpeDplLHVfZW1pc3NpdmVfc3RyZW5ndGg6dCx1X29wYWNpdHk6aX0pLE5NPXtCYXNlQ29sb3I6NSxNZXRhbGxpY1JvdWdobmVzczo2LE5vcm1hbDo3LE9jY2x1c2lvbjo4LEVtaXNzaW9uOjksU2hhZG93TWFwMDoxMH0sVU09KGUsdCxpLHIsbixvLHMsYSxsLGMsaCx1LGQ9WzAsMCwwXSk9Pntjb25zdCBwPXIuc3R5bGUubGlnaHQsZj1wLnByb3BlcnRpZXMuZ2V0KFwicG9zaXRpb25cIiksbT1bLWYueCwtZi55LGYuel0sXz1FdS5jcmVhdGUoKTtcInZpZXdwb3J0XCI9PT1wLnByb3BlcnRpZXMuZ2V0KFwiYW5jaG9yXCIpJiYoRXUuZnJvbVJvdGF0aW9uKF8sLXIudHJhbnNmb3JtLmFuZ2xlKSxEdS50cmFuc2Zvcm1NYXQzKG0sbSxfKSk7Y29uc3QgZz1cIk1BU0tcIj09PWMuYWxwaGFNb2RlLHk9cC5wcm9wZXJ0aWVzLmdldChcImNvbG9yXCIpLHg9dS5wYWludC5nZXQoXCJtb2RlbC1hbWJpZW50LW9jY2x1c2lvbi1pbnRlbnNpdHlcIiksdj11LnBhaW50LmdldChcIm1vZGVsLWNvbG9yXCIpLmNvbnN0YW50T3IoaGkud2hpdGUpLGI9dS5wYWludC5nZXQoXCJtb2RlbC1jb2xvci1taXgtaW50ZW5zaXR5XCIpLmNvbnN0YW50T3IoMCk7cmV0dXJuIHt1X21hdHJpeDplLHVfbGlnaHRpbmdfbWF0cml4OnQsdV9ub3JtYWxfbWF0cml4OmksdV9saWdodHBvczptLHVfbGlnaHRpbnRlbnNpdHk6cC5wcm9wZXJ0aWVzLmdldChcImludGVuc2l0eVwiKSx1X2xpZ2h0Y29sb3I6W3kucix5LmcseS5iXSx1X2NhbWVyYV9wb3M6ZCx1X29wYWNpdHk6bix1X2Jhc2VUZXh0dXJlSXNBbHBoYTowLHVfYWxwaGFNYXNrOitnLHVfYWxwaGFDdXRvZmY6Yy5hbHBoYUN1dG9mZix1X2Jhc2VDb2xvckZhY3Rvcjpbby5yLG8uZyxvLmIsby5hXSx1X2VtaXNzaXZlRmFjdG9yOltzWzBdLHNbMV0sc1syXSwxXSx1X21ldGFsbGljRmFjdG9yOmEsdV9yb3VnaG5lc3NGYWN0b3I6bCx1X2Jhc2VDb2xvclRleHR1cmU6Tk0uQmFzZUNvbG9yLHVfbWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlOk5NLk1ldGFsbGljUm91Z2huZXNzLHVfbm9ybWFsVGV4dHVyZTpOTS5Ob3JtYWwsdV9vY2NsdXNpb25UZXh0dXJlOk5NLk9jY2x1c2lvbix1X2VtaXNzaW9uVGV4dHVyZTpOTS5FbWlzc2lvbix1X2NvbG9yX21peDpbdi5yLHYuZyx2LmIsYl0sdV9hb0ludGVuc2l0eTp4LHVfZW1pc3NpdmVfc3RyZW5ndGg6aH19LFZNPW5ldyBGbG9hdDMyQXJyYXkoMTYpLGpNPShlLHQ9Vk0saT1WTSk9Pih7dV9tYXRyaXg6ZSx1X2luc3RhbmNlOnQsdV9ub2RlX21hdHJpeDppfSksR009e2ZpbGxFeHRydXNpb246ZT0+KHt1X21hdHJpeDpuZXcgamwoZSksdV9saWdodHBvczpuZXcgRmwoZSksdV9saWdodGludGVuc2l0eTpuZXcgT2woZSksdV9saWdodGNvbG9yOm5ldyBGbChlKSx1X3ZlcnRpY2FsX2dyYWRpZW50Om5ldyBPbChlKSx1X29wYWNpdHk6bmV3IE9sKGUpLHVfZWRnZV9yYWRpdXM6bmV3IE9sKGUpLHVfYW86bmV3IEJsKGUpLHVfdGlsZV9pZDpuZXcgRmwoZSksdV96b29tX3RyYW5zaXRpb246bmV3IE9sKGUpLHVfaW52X3JvdF9tYXRyaXg6bmV3IGpsKGUpLHVfbWVyY19jZW50ZXI6bmV3IEJsKGUpLHVfdXBfZGlyOm5ldyBGbChlKSx1X2hlaWdodF9saWZ0Om5ldyBPbChlKSx1X2Zsb29kX2xpZ2h0X2NvbG9yOm5ldyBGbChlKSx1X3ZlcnRpY2FsX3NjYWxlOm5ldyBPbChlKSx1X2Zsb29kX2xpZ2h0X2ludGVuc2l0eTpuZXcgT2woZSksdV9ncm91bmRfc2hhZG93X2ZhY3RvcjpuZXcgRmwoZSksdV9lbWlzc2l2ZV9zdHJlbmd0aDpuZXcgT2woZSl9KSxmaWxsRXh0cnVzaW9uRGVwdGg6ZT0+KHt1X21hdHJpeDpuZXcgamwoZSksdV9lZGdlX3JhZGl1czpuZXcgT2woZSksdV92ZXJ0aWNhbF9zY2FsZTpuZXcgT2woZSl9KSxmaWxsRXh0cnVzaW9uUGF0dGVybjplPT4oe3VfbWF0cml4Om5ldyBqbChlKSx1X2xpZ2h0cG9zOm5ldyBGbChlKSx1X2xpZ2h0aW50ZW5zaXR5Om5ldyBPbChlKSx1X2xpZ2h0Y29sb3I6bmV3IEZsKGUpLHVfdmVydGljYWxfZ3JhZGllbnQ6bmV3IE9sKGUpLHVfaGVpZ2h0X2ZhY3RvcjpuZXcgT2woZSksdV9lZGdlX3JhZGl1czpuZXcgT2woZSksdV9hbzpuZXcgQmwoZSksdV90aWxlX2lkOm5ldyBGbChlKSx1X3pvb21fdHJhbnNpdGlvbjpuZXcgT2woZSksdV9pbnZfcm90X21hdHJpeDpuZXcgamwoZSksdV9tZXJjX2NlbnRlcjpuZXcgQmwoZSksdV91cF9kaXI6bmV3IEZsKGUpLHVfaGVpZ2h0X2xpZnQ6bmV3IE9sKGUpLHVfaW1hZ2U6bmV3IGtsKGUpLHVfdGV4c2l6ZTpuZXcgQmwoZSksdV9waXhlbF9jb29yZF91cHBlcjpuZXcgQmwoZSksdV9waXhlbF9jb29yZF9sb3dlcjpuZXcgQmwoZSksdV90aWxlX3VuaXRzX3RvX3BpeGVsczpuZXcgT2woZSksdV9vcGFjaXR5Om5ldyBPbChlKX0pLGZpbGxFeHRydXNpb25Hcm91bmRFZmZlY3Q6ZT0+KHt1X21hdHJpeDpuZXcgamwoZSksdV9vcGFjaXR5Om5ldyBPbChlKSx1X2FvX3Bhc3M6bmV3IE9sKGUpLHVfbWV0ZXJfdG9fdGlsZTpuZXcgT2woZSksdV9hbzpuZXcgQmwoZSksdV9mbG9vZF9saWdodF9pbnRlbnNpdHk6bmV3IE9sKGUpLHVfZmxvb2RfbGlnaHRfY29sb3I6bmV3IEZsKGUpLHVfYXR0ZW51YXRpb246bmV3IE9sKGUpLHVfZWRnZV9yYWRpdXM6bmV3IE9sKGUpLHVfZmI6bmV3IGtsKGUpLHVfZmJfc2l6ZTpuZXcgT2woZSl9KSxmaWxsOmU9Pih7dV9tYXRyaXg6bmV3IGpsKGUpLHVfZW1pc3NpdmVfc3RyZW5ndGg6bmV3IE9sKGUpfSksZmlsbFBhdHRlcm46ZT0+KHt1X21hdHJpeDpuZXcgamwoZSksdV9lbWlzc2l2ZV9zdHJlbmd0aDpuZXcgT2woZSksdV9pbWFnZTpuZXcga2woZSksdV90ZXhzaXplOm5ldyBCbChlKSx1X3BpeGVsX2Nvb3JkX3VwcGVyOm5ldyBCbChlKSx1X3BpeGVsX2Nvb3JkX2xvd2VyOm5ldyBCbChlKSx1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzOm5ldyBPbChlKX0pLGZpbGxPdXRsaW5lOmU9Pih7dV9tYXRyaXg6bmV3IGpsKGUpLHVfZW1pc3NpdmVfc3RyZW5ndGg6bmV3IE9sKGUpLHVfd29ybGQ6bmV3IEJsKGUpfSksZmlsbE91dGxpbmVQYXR0ZXJuOmU9Pih7dV9tYXRyaXg6bmV3IGpsKGUpLHVfZW1pc3NpdmVfc3RyZW5ndGg6bmV3IE9sKGUpLHVfd29ybGQ6bmV3IEJsKGUpLHVfaW1hZ2U6bmV3IGtsKGUpLHVfdGV4c2l6ZTpuZXcgQmwoZSksdV9waXhlbF9jb29yZF91cHBlcjpuZXcgQmwoZSksdV9waXhlbF9jb29yZF9sb3dlcjpuZXcgQmwoZSksdV90aWxlX3VuaXRzX3RvX3BpeGVsczpuZXcgT2woZSl9KSxjaXJjbGU6ZT0+KHt1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6bmV3IE9sKGUpLHVfZXh0cnVkZV9zY2FsZTpuZXcgJGwoZSksdV9kZXZpY2VfcGl4ZWxfcmF0aW86bmV3IE9sKGUpLHVfbWF0cml4Om5ldyBqbChlKSx1X2ludl9yb3RfbWF0cml4Om5ldyBqbChlKSx1X21lcmNfY2VudGVyOm5ldyBCbChlKSx1X3RpbGVfaWQ6bmV3IEZsKGUpLHVfem9vbV90cmFuc2l0aW9uOm5ldyBPbChlKSx1X3VwX2RpcjpuZXcgRmwoZSksdV9lbWlzc2l2ZV9zdHJlbmd0aDpuZXcgT2woZSl9KSxjb2xsaXNpb25Cb3g6ZT0+KHt1X21hdHJpeDpuZXcgamwoZSksdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOm5ldyBPbChlKSx1X2V4dHJ1ZGVfc2NhbGU6bmV3IEJsKGUpfSksY29sbGlzaW9uQ2lyY2xlOmU9Pih7dV9tYXRyaXg6bmV3IGpsKGUpLHVfaW52X21hdHJpeDpuZXcgamwoZSksdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOm5ldyBPbChlKSx1X3ZpZXdwb3J0X3NpemU6bmV3IEJsKGUpfSksZGVidWc6ZT0+KHt1X2NvbG9yOm5ldyBVbChlKSx1X21hdHJpeDpuZXcgamwoZSksdV9vdmVybGF5Om5ldyBrbChlKSx1X292ZXJsYXlfc2NhbGU6bmV3IE9sKGUpfSksY2xpcHBpbmdNYXNrOmU9Pih7dV9tYXRyaXg6bmV3IGpsKGUpfSksaGVhdG1hcDplPT4oe3VfZXh0cnVkZV9zY2FsZTpuZXcgT2woZSksdV9pbnRlbnNpdHk6bmV3IE9sKGUpLHVfbWF0cml4Om5ldyBqbChlKSx1X2ludl9yb3RfbWF0cml4Om5ldyBqbChlKSx1X21lcmNfY2VudGVyOm5ldyBCbChlKSx1X3RpbGVfaWQ6bmV3IEZsKGUpLHVfem9vbV90cmFuc2l0aW9uOm5ldyBPbChlKSx1X3VwX2RpcjpuZXcgRmwoZSl9KSxoZWF0bWFwVGV4dHVyZTplPT4oe3VfaW1hZ2U6bmV3IGtsKGUpLHVfY29sb3JfcmFtcDpuZXcga2woZSksdV9vcGFjaXR5Om5ldyBPbChlKX0pLGhpbGxzaGFkZTplPT4oe3VfbWF0cml4Om5ldyBqbChlKSx1X2ltYWdlOm5ldyBrbChlKSx1X2xhdHJhbmdlOm5ldyBCbChlKSx1X2xpZ2h0Om5ldyBCbChlKSx1X3NoYWRvdzpuZXcgVWwoZSksdV9oaWdobGlnaHQ6bmV3IFVsKGUpLHVfZW1pc3NpdmVfc3RyZW5ndGg6bmV3IE9sKGUpLHVfYWNjZW50Om5ldyBVbChlKX0pLGhpbGxzaGFkZVByZXBhcmU6ZT0+KHt1X21hdHJpeDpuZXcgamwoZSksdV9pbWFnZTpuZXcga2woZSksdV9kaW1lbnNpb246bmV3IEJsKGUpLHVfem9vbTpuZXcgT2woZSl9KSxsaW5lOmU9Pih7dV9tYXRyaXg6bmV3IGpsKGUpLHVfcGl4ZWxzX3RvX3RpbGVfdW5pdHM6bmV3ICRsKGUpLHVfZGV2aWNlX3BpeGVsX3JhdGlvOm5ldyBPbChlKSx1X3VuaXRzX3RvX3BpeGVsczpuZXcgQmwoZSksdV9kYXNoX2ltYWdlOm5ldyBrbChlKSx1X2dyYWRpZW50X2ltYWdlOm5ldyBrbChlKSx1X2ltYWdlX2hlaWdodDpuZXcgT2woZSksdV90ZXhzaXplOm5ldyBCbChlKSx1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzOm5ldyBPbChlKSx1X2FscGhhX2Rpc2NhcmRfdGhyZXNob2xkOm5ldyBPbChlKSx1X3RyaW1fb2Zmc2V0Om5ldyBCbChlKSx1X2VtaXNzaXZlX3N0cmVuZ3RoOm5ldyBPbChlKX0pLGxpbmVQYXR0ZXJuOmU9Pih7dV9tYXRyaXg6bmV3IGpsKGUpLHVfdGV4c2l6ZTpuZXcgQmwoZSksdV9waXhlbHNfdG9fdGlsZV91bml0czpuZXcgJGwoZSksdV9kZXZpY2VfcGl4ZWxfcmF0aW86bmV3IE9sKGUpLHVfaW1hZ2U6bmV3IGtsKGUpLHVfdW5pdHNfdG9fcGl4ZWxzOm5ldyBCbChlKSx1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzOm5ldyBPbChlKSx1X2FscGhhX2Rpc2NhcmRfdGhyZXNob2xkOm5ldyBPbChlKX0pLHJhc3RlcjplPT4oe3VfbWF0cml4Om5ldyBqbChlKSx1X25vcm1hbGl6ZV9tYXRyaXg6bmV3IGpsKGUpLHVfZ2xvYmVfbWF0cml4Om5ldyBqbChlKSx1X21lcmNfbWF0cml4Om5ldyBqbChlKSx1X2dyaWRfbWF0cml4Om5ldyBxbChlKSx1X3RsX3BhcmVudDpuZXcgQmwoZSksdV9zY2FsZV9wYXJlbnQ6bmV3IE9sKGUpLHVfZmFkZV90Om5ldyBPbChlKSx1X29wYWNpdHk6bmV3IE9sKGUpLHVfaW1hZ2UwOm5ldyBrbChlKSx1X2ltYWdlMTpuZXcga2woZSksdV9icmlnaHRuZXNzX2xvdzpuZXcgT2woZSksdV9icmlnaHRuZXNzX2hpZ2g6bmV3IE9sKGUpLHVfc2F0dXJhdGlvbl9mYWN0b3I6bmV3IE9sKGUpLHVfY29udHJhc3RfZmFjdG9yOm5ldyBPbChlKSx1X3NwaW5fd2VpZ2h0czpuZXcgRmwoZSksdV9wZXJzcGVjdGl2ZV90cmFuc2Zvcm06bmV3IEJsKGUpLHVfcmFzdGVyX2VsZXZhdGlvbjpuZXcgT2woZSksdV90bF9icjpuZXcgTmwoZSksdV96b29tX3RyYW5zaXRpb246bmV3IE9sKGUpLHVfbWVyY19jZW50ZXI6bmV3IEJsKGUpLHVfY3V0b2ZmX3BhcmFtczpuZXcgTmwoZSksdV9jb2xvcml6YXRpb25fbWl4Om5ldyBObChlKSx1X2NvbG9yaXphdGlvbl9vZmZzZXQ6bmV3IE9sKGUpLHVfY29sb3JfcmFtcDpuZXcga2woZSksdV90ZXh0dXJlX29mZnNldDpuZXcgQmwoZSksdV90ZXh0dXJlX3JlczpuZXcgQmwoZSksdV9lbWlzc2l2ZV9zdHJlbmd0aDpuZXcgT2woZSl9KSxzeW1ib2xJY29uOmU9Pih7dV9pc19zaXplX3pvb21fY29uc3RhbnQ6bmV3IGtsKGUpLHVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50Om5ldyBrbChlKSx1X3NpemVfdDpuZXcgT2woZSksdV9zaXplOm5ldyBPbChlKSx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6bmV3IE9sKGUpLHVfcm90YXRlX3N5bWJvbDpuZXcga2woZSksdV9hc3BlY3RfcmF0aW86bmV3IE9sKGUpLHVfZmFkZV9jaGFuZ2U6bmV3IE9sKGUpLHVfbWF0cml4Om5ldyBqbChlKSx1X2xhYmVsX3BsYW5lX21hdHJpeDpuZXcgamwoZSksdV9jb29yZF9tYXRyaXg6bmV3IGpsKGUpLHVfaXNfdGV4dDpuZXcga2woZSksdV9waXRjaF93aXRoX21hcDpuZXcga2woZSksdV90ZXhzaXplOm5ldyBCbChlKSx1X3RpbGVfaWQ6bmV3IEZsKGUpLHVfem9vbV90cmFuc2l0aW9uOm5ldyBPbChlKSx1X2ludl9yb3RfbWF0cml4Om5ldyBqbChlKSx1X21lcmNfY2VudGVyOm5ldyBCbChlKSx1X2NhbWVyYV9mb3J3YXJkOm5ldyBGbChlKSx1X3RpbGVfbWF0cml4Om5ldyBqbChlKSx1X3VwX3ZlY3RvcjpuZXcgRmwoZSksdV9lY2VmX29yaWdpbjpuZXcgRmwoZSksdV90ZXh0dXJlOm5ldyBrbChlKSx1X2ljb25fdHJhbnNpdGlvbjpuZXcgT2woZSksdV9pY29uX3NhdHVyYXRpb246bmV3IE9sKGUpfSksc3ltYm9sU0RGOmU9Pih7dV9pc19zaXplX3pvb21fY29uc3RhbnQ6bmV3IGtsKGUpLHVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50Om5ldyBrbChlKSx1X3NpemVfdDpuZXcgT2woZSksdV9zaXplOm5ldyBPbChlKSx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6bmV3IE9sKGUpLHVfcm90YXRlX3N5bWJvbDpuZXcga2woZSksdV9hc3BlY3RfcmF0aW86bmV3IE9sKGUpLHVfZmFkZV9jaGFuZ2U6bmV3IE9sKGUpLHVfbWF0cml4Om5ldyBqbChlKSx1X2xhYmVsX3BsYW5lX21hdHJpeDpuZXcgamwoZSksdV9jb29yZF9tYXRyaXg6bmV3IGpsKGUpLHVfaXNfdGV4dDpuZXcga2woZSksdV9waXRjaF93aXRoX21hcDpuZXcga2woZSksdV90ZXhzaXplOm5ldyBCbChlKSx1X3RleHR1cmU6bmV3IGtsKGUpLHVfZ2FtbWFfc2NhbGU6bmV3IE9sKGUpLHVfZGV2aWNlX3BpeGVsX3JhdGlvOm5ldyBPbChlKSx1X3RpbGVfaWQ6bmV3IEZsKGUpLHVfem9vbV90cmFuc2l0aW9uOm5ldyBPbChlKSx1X2ludl9yb3RfbWF0cml4Om5ldyBqbChlKSx1X21lcmNfY2VudGVyOm5ldyBCbChlKSx1X2NhbWVyYV9mb3J3YXJkOm5ldyBGbChlKSx1X3RpbGVfbWF0cml4Om5ldyBqbChlKSx1X3VwX3ZlY3RvcjpuZXcgRmwoZSksdV9lY2VmX29yaWdpbjpuZXcgRmwoZSksdV9pc19oYWxvOm5ldyBrbChlKX0pLHN5bWJvbFRleHRBbmRJY29uOmU9Pih7dV9pc19zaXplX3pvb21fY29uc3RhbnQ6bmV3IGtsKGUpLHVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50Om5ldyBrbChlKSx1X3NpemVfdDpuZXcgT2woZSksdV9zaXplOm5ldyBPbChlKSx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6bmV3IE9sKGUpLHVfcm90YXRlX3N5bWJvbDpuZXcga2woZSksdV9hc3BlY3RfcmF0aW86bmV3IE9sKGUpLHVfZmFkZV9jaGFuZ2U6bmV3IE9sKGUpLHVfbWF0cml4Om5ldyBqbChlKSx1X2xhYmVsX3BsYW5lX21hdHJpeDpuZXcgamwoZSksdV9jb29yZF9tYXRyaXg6bmV3IGpsKGUpLHVfaXNfdGV4dDpuZXcga2woZSksdV9waXRjaF93aXRoX21hcDpuZXcga2woZSksdV90ZXhzaXplOm5ldyBCbChlKSx1X3RleHNpemVfaWNvbjpuZXcgQmwoZSksdV90ZXh0dXJlOm5ldyBrbChlKSx1X3RleHR1cmVfaWNvbjpuZXcga2woZSksdV9nYW1tYV9zY2FsZTpuZXcgT2woZSksdV9kZXZpY2VfcGl4ZWxfcmF0aW86bmV3IE9sKGUpLHVfaXNfaGFsbzpuZXcga2woZSl9KSxiYWNrZ3JvdW5kOmU9Pih7dV9tYXRyaXg6bmV3IGpsKGUpLHVfZW1pc3NpdmVfc3RyZW5ndGg6bmV3IE9sKGUpLHVfb3BhY2l0eTpuZXcgT2woZSksdV9jb2xvcjpuZXcgVWwoZSl9KSxiYWNrZ3JvdW5kUGF0dGVybjplPT4oe3VfbWF0cml4Om5ldyBqbChlKSx1X2VtaXNzaXZlX3N0cmVuZ3RoOm5ldyBPbChlKSx1X29wYWNpdHk6bmV3IE9sKGUpLHVfaW1hZ2U6bmV3IGtsKGUpLHVfcGF0dGVybl90bDpuZXcgQmwoZSksdV9wYXR0ZXJuX2JyOm5ldyBCbChlKSx1X3RleHNpemU6bmV3IEJsKGUpLHVfcGF0dGVybl9zaXplOm5ldyBCbChlKSx1X3BpeGVsX2Nvb3JkX3VwcGVyOm5ldyBCbChlKSx1X3BpeGVsX2Nvb3JkX2xvd2VyOm5ldyBCbChlKSx1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzOm5ldyBPbChlKX0pLHRlcnJhaW5SYXN0ZXI6S0UsdGVycmFpbkRlcHRoOktFLHNreWJveDplPT4oe3VfbWF0cml4Om5ldyBqbChlKSx1X3N1bl9kaXJlY3Rpb246bmV3IEZsKGUpLHVfY3ViZW1hcDpuZXcga2woZSksdV9vcGFjaXR5Om5ldyBPbChlKSx1X3RlbXBvcmFsX29mZnNldDpuZXcgT2woZSl9KSxza3lib3hHcmFkaWVudDplPT4oe3VfbWF0cml4Om5ldyBqbChlKSx1X2NvbG9yX3JhbXA6bmV3IGtsKGUpLHVfY2VudGVyX2RpcmVjdGlvbjpuZXcgRmwoZSksdV9yYWRpdXM6bmV3IE9sKGUpLHVfb3BhY2l0eTpuZXcgT2woZSksdV90ZW1wb3JhbF9vZmZzZXQ6bmV3IE9sKGUpfSksc2t5Ym94Q2FwdHVyZTplPT4oe3VfbWF0cml4XzNmOm5ldyBxbChlKSx1X3N1bl9kaXJlY3Rpb246bmV3IEZsKGUpLHVfc3VuX2ludGVuc2l0eTpuZXcgT2woZSksdV9jb2xvcl90aW50X3I6bmV3IE5sKGUpLHVfY29sb3JfdGludF9tOm5ldyBObChlKSx1X2x1bWluYW5jZTpuZXcgT2woZSl9KSxnbG9iZVJhc3RlcjplPT4oe3VfcHJval9tYXRyaXg6bmV3IGpsKGUpLHVfZ2xvYmVfbWF0cml4Om5ldyBqbChlKSx1X25vcm1hbGl6ZV9tYXRyaXg6bmV3IGpsKGUpLHVfbWVyY19tYXRyaXg6bmV3IGpsKGUpLHVfem9vbV90cmFuc2l0aW9uOm5ldyBPbChlKSx1X21lcmNfY2VudGVyOm5ldyBCbChlKSx1X2ltYWdlMDpuZXcga2woZSksdV9ncmlkX21hdHJpeDpuZXcgcWwoZSksdV9za2lydF9oZWlnaHQ6bmV3IE9sKGUpLHVfZnJ1c3R1bV90bDpuZXcgRmwoZSksdV9mcnVzdHVtX3RyOm5ldyBGbChlKSx1X2ZydXN0dW1fYnI6bmV3IEZsKGUpLHVfZnJ1c3R1bV9ibDpuZXcgRmwoZSksdV9nbG9iZV9wb3M6bmV3IEZsKGUpLHVfZ2xvYmVfcmFkaXVzOm5ldyBPbChlKSx1X3ZpZXdwb3J0Om5ldyBCbChlKX0pLGdsb2JlQXRtb3NwaGVyZTplPT4oe3VfZnJ1c3R1bV90bDpuZXcgRmwoZSksdV9mcnVzdHVtX3RyOm5ldyBGbChlKSx1X2ZydXN0dW1fYnI6bmV3IEZsKGUpLHVfZnJ1c3R1bV9ibDpuZXcgRmwoZSksdV9ob3Jpem9uOm5ldyBPbChlKSx1X3RyYW5zaXRpb246bmV3IE9sKGUpLHVfZmFkZW91dF9yYW5nZTpuZXcgT2woZSksdV9jb2xvcjpuZXcgTmwoZSksdV9oaWdoX2NvbG9yOm5ldyBObChlKSx1X3NwYWNlX2NvbG9yOm5ldyBObChlKSx1X3RlbXBvcmFsX29mZnNldDpuZXcgT2woZSksdV9ob3Jpem9uX2FuZ2xlOm5ldyBPbChlKX0pLG1vZGVsOmU9Pih7dV9tYXRyaXg6bmV3IGpsKGUpLHVfbGlnaHRpbmdfbWF0cml4Om5ldyBqbChlKSx1X25vcm1hbF9tYXRyaXg6bmV3IGpsKGUpLHVfbGlnaHRwb3M6bmV3IEZsKGUpLHVfbGlnaHRpbnRlbnNpdHk6bmV3IE9sKGUpLHVfbGlnaHRjb2xvcjpuZXcgRmwoZSksdV9jYW1lcmFfcG9zOm5ldyBGbChlKSx1X29wYWNpdHk6bmV3IE9sKGUpLHVfYmFzZUNvbG9yRmFjdG9yOm5ldyBObChlKSx1X2VtaXNzaXZlRmFjdG9yOm5ldyBObChlKSx1X21ldGFsbGljRmFjdG9yOm5ldyBPbChlKSx1X3JvdWdobmVzc0ZhY3RvcjpuZXcgT2woZSksdV9iYXNlVGV4dHVyZUlzQWxwaGE6bmV3IGtsKGUpLHVfYWxwaGFNYXNrOm5ldyBrbChlKSx1X2FscGhhQ3V0b2ZmOm5ldyBPbChlKSx1X2Jhc2VDb2xvclRleHR1cmU6bmV3IGtsKGUpLHVfbWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlOm5ldyBrbChlKSx1X25vcm1hbFRleHR1cmU6bmV3IGtsKGUpLHVfb2NjbHVzaW9uVGV4dHVyZTpuZXcga2woZSksdV9lbWlzc2lvblRleHR1cmU6bmV3IGtsKGUpLHVfY29sb3JfbWl4Om5ldyBObChlKSx1X2FvSW50ZW5zaXR5Om5ldyBPbChlKSx1X2VtaXNzaXZlX3N0cmVuZ3RoOm5ldyBPbChlKX0pLG1vZGVsRGVwdGg6ZT0+KHt1X21hdHJpeDpuZXcgamwoZSksdV9pbnN0YW5jZTpuZXcgamwoZSksdV9ub2RlX21hdHJpeDpuZXcgamwoZSl9KSxncm91bmRTaGFkb3c6ZT0+KHt1X21hdHJpeDpuZXcgamwoZSksdV9ncm91bmRfc2hhZG93X2ZhY3RvcjpuZXcgRmwoZSl9KSxzdGFyczplPT4oe3VfbWF0cml4Om5ldyBqbChlKSx1X3VwOm5ldyBGbChlKSx1X3JpZ2h0Om5ldyBGbChlKSx1X2ludGVuc2l0eV9tdWx0aXBsaWVyOm5ldyBPbChlKX0pfTtsZXQgcU07ZnVuY3Rpb24gWk0oZSx0LGkscixuLG8scyl7Y29uc3QgYT1lLmNvbnRleHQsbD1hLmdsLGM9ZS50cmFuc2Zvcm0saD1lLmdldE9yQ3JlYXRlUHJvZ3JhbShcImNvbGxpc2lvbkJveFwiKSx1PVtdO2xldCBkPTAscD0wO2ZvcihsZXQgYT0wO2E8ci5sZW5ndGg7YSsrKXtjb25zdCBmPXJbYV0sbT10LmdldFRpbGUoZiksXz1tLmdldEJ1Y2tldChpKTtpZighXyljb250aW51ZTtjb25zdCBnPVhUKGYsXyxjKTtsZXQgeT1nOzA9PT1uWzBdJiYwPT09blsxXXx8KHk9ZS50cmFuc2xhdGVQb3NNYXRyaXgoZyxtLG4sbykpO2NvbnN0IHg9cz9fLnRleHRDb2xsaXNpb25Cb3g6Xy5pY29uQ29sbGlzaW9uQm94LHY9Xy5jb2xsaXNpb25DaXJjbGVBcnJheTtpZih2Lmxlbmd0aD4wKXtjb25zdCBlPUF1LmNyZWF0ZSgpLHQ9eTtBdS5tdWwoZSxfLnBsYWNlbWVudEludlByb2pNYXRyaXgsYy5nbENvb3JkTWF0cml4KSxBdS5tdWwoZSxlLF8ucGxhY2VtZW50Vmlld3BvcnRNYXRyaXgpLHUucHVzaCh7Y2lyY2xlQXJyYXk6dixjaXJjbGVPZmZzZXQ6cCx0cmFuc2Zvcm06dCxpbnZUcmFuc2Zvcm06ZSxwcm9qZWN0aW9uOl8uZ2V0UHJvamVjdGlvbigpfSksZCs9di5sZW5ndGgvNCxwPWQ7fXgmJihlLnRlcnJhaW4mJmUudGVycmFpbi5zZXR1cEVsZXZhdGlvbkRyYXcobSxoKSxoLmRyYXcoZSxsLkxJTkVTLE14LmRpc2FibGVkLFN4LmRpc2FibGVkLGUuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLER4LmRpc2FibGVkLE1NKHksYyxtLF8uZ2V0UHJvamVjdGlvbigpKSxpLmlkLHgubGF5b3V0VmVydGV4QnVmZmVyLHguaW5kZXhCdWZmZXIseC5zZWdtZW50cyxudWxsLGMuem9vbSxudWxsLFt4LmNvbGxpc2lvblZlcnRleEJ1ZmZlcix4LmNvbGxpc2lvblZlcnRleEJ1ZmZlckV4dF0pKTt9aWYoIXN8fCF1Lmxlbmd0aClyZXR1cm47Y29uc3QgZj1lLmdldE9yQ3JlYXRlUHJvZ3JhbShcImNvbGxpc2lvbkNpcmNsZVwiKSxtPW5ldyBaYTttLnJlc2l6ZSg0KmQpLG0uX3RyaW0oKTtsZXQgXz0wO2Zvcihjb25zdCBlIG9mIHUpZm9yKGxldCB0PTA7dDxlLmNpcmNsZUFycmF5Lmxlbmd0aC80O3QrKyl7Y29uc3QgaT00KnQscj1lLmNpcmNsZUFycmF5W2krMF0sbj1lLmNpcmNsZUFycmF5W2krMV0sbz1lLmNpcmNsZUFycmF5W2krMl0scz1lLmNpcmNsZUFycmF5W2krM107bS5lbXBsYWNlKF8rKyxyLG4sbyxzLDApLG0uZW1wbGFjZShfKysscixuLG8scywxKSxtLmVtcGxhY2UoXysrLHIsbixvLHMsMiksbS5lbXBsYWNlKF8rKyxyLG4sbyxzLDMpO30oIXFNfHxxTS5sZW5ndGg8MipkKSYmKHFNPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9MiplLGk9bmV3IFdhO2kucmVzaXplKHQpLGkuX3RyaW0oKTtmb3IobGV0IGU9MDtlPHQ7ZSsrKXtjb25zdCB0PTYqZTtpLnVpbnQxNlt0KzBdPTQqZSswLGkudWludDE2W3QrMV09NCplKzEsaS51aW50MTZbdCsyXT00KmUrMixpLnVpbnQxNlt0KzNdPTQqZSsyLGkudWludDE2W3QrNF09NCplKzMsaS51aW50MTZbdCs1XT00KmUrMDt9cmV0dXJuIGl9KGQpKTtjb25zdCBnPWEuY3JlYXRlSW5kZXhCdWZmZXIocU0sITApLHk9YS5jcmVhdGVWZXJ0ZXhCdWZmZXIobSxoXy5tZW1iZXJzLCEwKTtmb3IoY29uc3QgdCBvZiB1KXtjb25zdCByPXt1X21hdHJpeDp0LnRyYW5zZm9ybSx1X2ludl9tYXRyaXg6dC5pbnZUcmFuc2Zvcm0sdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOih4PWMpLmdldENhbWVyYVRvQ2VudGVyRGlzdGFuY2UodC5wcm9qZWN0aW9uKSx1X3ZpZXdwb3J0X3NpemU6W3gud2lkdGgseC5oZWlnaHRdfTtmLmRyYXcoZSxsLlRSSUFOR0xFUyxNeC5kaXNhYmxlZCxTeC5kaXNhYmxlZCxlLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxEeC5kaXNhYmxlZCxyLGkuaWQseSxnLHhsLnNpbXBsZVNlZ21lbnQoMCwyKnQuY2lyY2xlT2Zmc2V0LHQuY2lyY2xlQXJyYXkubGVuZ3RoLHQuY2lyY2xlQXJyYXkubGVuZ3RoLzIpLG51bGwsYy56b29tKTt9dmFyIHg7eS5kZXN0cm95KCksZy5kZXN0cm95KCk7fWNvbnN0ICRNPUF1LmNyZWF0ZSgpO2Z1bmN0aW9uIFdNKHt3aWR0aDplLGhlaWdodDp0LGFuY2hvcjppLHRleHRPZmZzZXQ6cix0ZXh0U2NhbGU6bn0sbyl7Y29uc3R7aG9yaXpvbnRhbEFsaWduOnMsdmVydGljYWxBbGlnbjphfT1GXyhpKSxsPS0ocy0uNSkqZSxjPS0oYS0uNSkqdCxoPXhnKGkscik7cmV0dXJuIG5ldyB5KChsL24raFswXSkqbywoYy9uK2hbMV0pKm8pfWZ1bmN0aW9uIEhNKGUsdCxpLHIsbixvLHMsYSxsLGMsaCl7Y29uc3QgdT1lLnRleHQucGxhY2VkU3ltYm9sQXJyYXksZD1lLnRleHQuZHluYW1pY0xheW91dFZlcnRleEFycmF5LHA9ZS5pY29uLmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSxmPXt9LG09ZS5nZXRQcm9qZWN0aW9uKCksXz1ZVChhLG0sbyksZz1vLmVsZXZhdGlvbix5PW0udXBWZWN0b3JTY2FsZShhLmNhbm9uaWNhbCxvLmNlbnRlci5sYXQsby53b3JsZFNpemUpLm1ldGVyc1RvVGlsZTtkLmNsZWFyKCk7Zm9yKGxldCBwPTA7cDx1Lmxlbmd0aDtwKyspe2NvbnN0IHg9dS5nZXQocCkse3RpbGVBbmNob3JYOnYsdGlsZUFuY2hvclk6YixudW1HbHlwaHM6d309eCxUPXguaGlkZGVufHwheC5jcm9zc1RpbGVJRHx8ZS5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiYheC5wbGFjZWRPcmllbnRhdGlvbj9udWxsOnJbeC5jcm9zc1RpbGVJRF07aWYoVCl7bGV0IHI9MCx1PTAscD0wO2lmKGcpe2NvbnN0IGU9Zz9nLmdldEF0VGlsZU9mZnNldChhLHYsYik6MCxbdCxpLG5dPW0udXBWZWN0b3IoYS5jYW5vbmljYWwsdixiKTtyPWUqdCp5LHU9ZSppKnkscD1lKm4qeTt9bGV0W0UsTSxBLFNdPWN2KHgucHJvamVjdGVkQW5jaG9yWCtyLHgucHJvamVjdGVkQW5jaG9yWSt1LHgucHJvamVjdGVkQW5jaG9yWitwLGk/XzpzKTtjb25zdCBJPWh2KG8uZ2V0Q2FtZXJhVG9DZW50ZXJEaXN0YW5jZShtKSxTKTtsZXQgQz1uLmV2YWx1YXRlU2l6ZUZvckZlYXR1cmUoZS50ZXh0U2l6ZURhdGEsYyx4KSpJL3VfO2kmJihDKj1lLnRpbGVQaXhlbFJhdGlvL2wpO2NvbnN0IHo9V00oVCxDKTtpPygoe3g6RSx5Ok0sejpBfT1tLnByb2plY3RUaWxlUG9pbnQodit6LngsYit6LnksYS5jYW5vbmljYWwpKSxbRSxNLEFdPWN2KEUrcixNK3UsQStwLHMpKToodCYmei5fcm90YXRlKC1vLmFuZ2xlKSxFKz16LngsTSs9ei55LEE9MCk7Y29uc3QgUD1lLmFsbG93VmVydGljYWxQbGFjZW1lbnQmJngucGxhY2VkT3JpZW50YXRpb249PT1BXy52ZXJ0aWNhbD9NYXRoLlBJLzI6MDtmb3IobGV0IGU9MDtlPHc7ZSsrKWR5KGQsRSxNLEEsUCk7aCYmeC5hc3NvY2lhdGVkSWNvbkluZGV4Pj0wJiYoZlt4LmFzc29jaWF0ZWRJY29uSW5kZXhdPXt4OkUseTpNLHo6QSxhbmdsZTpQfSk7fWVsc2UgeHYodyxkKTt9aWYoaCl7cC5jbGVhcigpO2NvbnN0IHQ9ZS5pY29uLnBsYWNlZFN5bWJvbEFycmF5O2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXtjb25zdCBpPXQuZ2V0KGUpLHtudW1HbHlwaHM6cn09aSxuPWZbZV07aWYoaS5oaWRkZW58fCFuKXh2KHIscCk7ZWxzZSB7Y29uc3R7eDplLHk6dCx6OmksYW5nbGU6b309bjtmb3IobGV0IG49MDtuPHI7bisrKWR5KHAsZSx0LGksbyk7fX1lLmljb24uZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHApO31lLnRleHQuZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKGQpO31mdW5jdGlvbiBYTShlLHQsaSl7cmV0dXJuIGkuaWNvbnNJblRleHQmJnQ/XCJzeW1ib2xUZXh0QW5kSWNvblwiOmU/XCJzeW1ib2xTREZcIjpcInN5bWJvbEljb25cIn1mdW5jdGlvbiBZTShlLHQsaSxyLG4sbyxzLGEsbCxjLGgsdSxkKXtjb25zdCBwPWUuY29udGV4dCxmPXAuZ2wsbT1lLnRyYW5zZm9ybSxfPVwibWFwXCI9PT1hLGc9XCJtYXBcIj09PWwseT1fJiZcInBvaW50XCIhPT1pLmxheW91dC5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpLHg9XyYmIWcmJiF5LHY9dm9pZCAwIT09aS5sYXlvdXQuZ2V0KFwic3ltYm9sLXNvcnQta2V5XCIpLmNvbnN0YW50T3IoMSk7bGV0IGI9ITE7Y29uc3Qgdz1lLmRlcHRoTW9kZUZvclN1YmxheWVyKDAsTXguUmVhZE9ubHkpLFQ9W0tkKG0uY2VudGVyLmxuZyksSmQobS5jZW50ZXIubGF0KV0sRT1pLmxheW91dC5nZXQoXCJ0ZXh0LXZhcmlhYmxlLWFuY2hvclwiKSxNPVwiZ2xvYmVcIj09PW0ucHJvamVjdGlvbi5uYW1lLEE9W10sUz1bMCwtMSwwXTtsZXQgST1TOyFNJiYhbS5tZXJjYXRvckZyb21UcmFuc2l0aW9ufHxffHwoST1mdW5jdGlvbihlKXtjb25zdCB0PWUuX2NhbWVyYS5nZXRXb3JsZFRvQ2FtZXJhKGUud29ybGRTaXplLDEpLGk9QXUubXVsdGlwbHkoW10sdCxlLmdsb2JlTWF0cml4KTtBdS5pbnZlcnQoaSxpKTtjb25zdCByPVswLDAsMF0sbj1bMCwxLDAsMF07cmV0dXJuIHl1LnRyYW5zZm9ybU1hdDQobixuLGkpLHJbMF09blswXSxyWzFdPW5bMV0sclsyXT1uWzJdLER1Lm5vcm1hbGl6ZShyLHIpLHJ9KG0pKTtmb3IoY29uc3QgYSBvZiByKXtjb25zdCByPXQuZ2V0VGlsZShhKSxsPXIuZ2V0QnVja2V0KGkpO2lmKCFsKWNvbnRpbnVlO2lmKFwibWVyY2F0b3JcIj09PWwucHJvamVjdGlvbi5uYW1lJiZNKWNvbnRpbnVlO2NvbnN0IHU9bj9sLnRleHQ6bC5pY29uO2lmKCF1fHxsLmZ1bGx5Q2xpcHBlZHx8IXUuc2VnbWVudHMuZ2V0KCkubGVuZ3RoKWNvbnRpbnVlO2NvbnN0IGQ9dS5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KGkuaWQpLHA9bnx8bC5zZGZJY29ucyx3PW4/bC50ZXh0U2l6ZURhdGE6bC5pY29uU2l6ZURhdGEsQz1nfHwwIT09bS5waXRjaCx6PW1fKHcsbS56b29tKTtsZXQgUCxELFIsTCxrPVswLDBdLE89bnVsbDtpZihuKUQ9ci5nbHlwaEF0bGFzVGV4dHVyZT9yLmdseXBoQXRsYXNUZXh0dXJlOm51bGwsUj1mLkxJTkVBUixQPXIuZ2x5cGhBdGxhc1RleHR1cmU/ci5nbHlwaEF0bGFzVGV4dHVyZS5zaXplOlswLDBdLGwuaWNvbnNJblRleHQmJihrPXIuaW1hZ2VBdGxhc1RleHR1cmU/ci5pbWFnZUF0bGFzVGV4dHVyZS5zaXplOlswLDBdLE89ci5pbWFnZUF0bGFzVGV4dHVyZT9yLmltYWdlQXRsYXNUZXh0dXJlOm51bGwsTD1DfHxlLm9wdGlvbnMucm90YXRpbmd8fGUub3B0aW9ucy56b29taW5nfHxcImNvbXBvc2l0ZVwiPT09dy5raW5kfHxcImNhbWVyYVwiPT09dy5raW5kP2YuTElORUFSOmYuTkVBUkVTVCk7ZWxzZSB7Y29uc3QgdD0xIT09aS5sYXlvdXQuZ2V0KFwiaWNvbi1zaXplXCIpLmNvbnN0YW50T3IoMCl8fGwuaWNvbnNOZWVkTGluZWFyO0Q9ci5pbWFnZUF0bGFzVGV4dHVyZT9yLmltYWdlQXRsYXNUZXh0dXJlOm51bGwsUj1wfHxlLm9wdGlvbnMucm90YXRpbmd8fGUub3B0aW9ucy56b29taW5nfHx0fHxDP2YuTElORUFSOmYuTkVBUkVTVCxQPXIuaW1hZ2VBdGxhc1RleHR1cmU/ci5pbWFnZUF0bGFzVGV4dHVyZS5zaXplOlswLDBdO31jb25zdCBCPVwiZ2xvYmVcIj09PWwucHJvamVjdGlvbi5uYW1lLEY9Qj9JOlMsTj1CP0RkKG0uem9vbSk6MCxVPVlUKGEsbC5nZXRQcm9qZWN0aW9uKCksbSksVj1tLmNhbGN1bGF0ZVBpeGVsc1RvVGlsZVVuaXRzTWF0cml4KHIpLGo9c3YoVSxyLnRpbGVJRC5jYW5vbmljYWwsZyxfLG0sbC5nZXRQcm9qZWN0aW9uKCksViksRz1lLnRlcnJhaW4mJmcmJnk/QXUuaW52ZXJ0KEF1LmNyZWF0ZSgpLGopOiRNLHE9bHYoVSxyLnRpbGVJRC5jYW5vbmljYWwsZyxfLG0sbC5nZXRQcm9qZWN0aW9uKCksViksWj1FJiZsLmhhc1RleHREYXRhKCksJD1sLmhhc0ljb25UZXh0Rml0KCkmJlomJmwuaGFzSWNvbkRhdGEoKTtpZih5KXtjb25zdCB0PW0uZWxldmF0aW9uLGk9dD90LmdldEF0VGlsZU9mZnNldEZ1bmMoYSxtLmNlbnRlci5sYXQsbS53b3JsZFNpemUsbC5nZXRQcm9qZWN0aW9uKCkpOm51bGwsbz1hdihVLHIudGlsZUlELmNhbm9uaWNhbCxnLF8sbSxsLmdldFByb2plY3Rpb24oKSxWKTtkdihsLFUsZSxuLG8scSxnLGMsaSxhKTt9Y29uc3QgVz15fHxuJiZFfHwkLEg9ZS50cmFuc2xhdGVQb3NNYXRyaXgoVSxyLG8scyksWD1XPyRNOmosWT1lLnRyYW5zbGF0ZVBvc01hdHJpeChxLHIsbyxzLCEwKSxLPWwuZ2V0UHJvamVjdGlvbigpLmNyZWF0ZUludmVyc2lvbk1hdHJpeChtLGEuY2Fub25pY2FsKSxKPWkucGFpbnQuZ2V0KFwiaWNvbi1pbWFnZS1jcm9zcy1mYWRlXCIpLmNvbnN0YW50T3IoMCksUT1bXTtlLnRlcnJhaW5SZW5kZXJNb2RlRWxldmF0ZWQoKSYmZyYmUS5wdXNoKFwiUElUQ0hfV0lUSF9NQVBfVEVSUkFJTlwiKSxCJiYoUS5wdXNoKFwiUFJPSkVDVElPTl9HTE9CRV9WSUVXXCIpLFcmJlEucHVzaChcIlBST0pFQ1RFRF9QT1NfT05fVklFV1BPUlRcIikpLEo+MCYmUS5wdXNoKFwiSUNPTl9UUkFOU0lUSU9OXCIpLHUuek9mZnNldFZlcnRleEJ1ZmZlciYmUS5wdXNoKFwiWl9PRkZTRVRcIik7Y29uc3QgZWU9cCYmMCE9PWkucGFpbnQuZ2V0KG4/XCJ0ZXh0LWhhbG8td2lkdGhcIjpcImljb24taGFsby13aWR0aFwiKS5jb25zdGFudE9yKDEpO2xldCB0ZTtwP3RlPWwuaWNvbnNJblRleHQ/T00ody5raW5kLHoseCxnLGUsSCxYLFksUCxrLGEsTixULEssRixsLmdldFByb2plY3Rpb24oKSk6a00ody5raW5kLHoseCxnLGUsSCxYLFksbixQLCEwLGEsTixULEssRixsLmdldFByb2plY3Rpb24oKSk6KGg8MSYmUS5wdXNoKFwiU0FUVVJBVElPTlwiKSx0ZT1MTSh3LmtpbmQseix4LGcsZSxILFgsWSxuLFAsYSxOLFQsSyxGLGwuZ2V0UHJvamVjdGlvbigpLGgsSikpO2NvbnN0IGllPXtwcm9ncmFtOmUuZ2V0T3JDcmVhdGVQcm9ncmFtKFhNKHAsbixsKSx7Y29uZmlnOmQsZGVmaW5lczpRfSksYnVmZmVyczp1LHVuaWZvcm1WYWx1ZXM6dGUsYXRsYXNUZXh0dXJlOkQsYXRsYXNUZXh0dXJlSWNvbjpPLGF0bGFzSW50ZXJwb2xhdGlvbjpSLGF0bGFzSW50ZXJwb2xhdGlvbkljb246TCxpc1NERjpwLGhhc0hhbG86ZWUsdGlsZTpyLGxhYmVsUGxhbmVNYXRyaXhJbnY6R307aWYodiYmbC5jYW5PdmVybGFwKXtiPSEwO2NvbnN0IGU9dS5zZWdtZW50cy5nZXQoKTtmb3IoY29uc3QgdCBvZiBlKUEucHVzaCh7c2VnbWVudHM6bmV3IHhsKFt0XSksc29ydEtleTp0LnNvcnRLZXksc3RhdGU6aWV9KTt9ZWxzZSBBLnB1c2goe3NlZ21lbnRzOnUuc2VnbWVudHMsc29ydEtleTowLHN0YXRlOmllfSk7fWImJkEuc29ydCgoKGUsdCk9PmUuc29ydEtleS10LnNvcnRLZXkpKTtmb3IoY29uc3QgdCBvZiBBKXtjb25zdCByPXQuc3RhdGU7aWYoZS50ZXJyYWluJiZlLnRlcnJhaW4uc2V0dXBFbGV2YXRpb25EcmF3KHIudGlsZSxyLnByb2dyYW0se3VzZURlcHRoRm9yT2NjbHVzaW9uOm0uZGVwdGhPY2NsdXNpb25Gb3JTeW1ib2xzQW5kQ2lyY2xlcyxsYWJlbFBsYW5lTWF0cml4SW52OnIubGFiZWxQbGFuZU1hdHJpeEludn0pLHAuYWN0aXZlVGV4dHVyZS5zZXQoZi5URVhUVVJFMCksci5hdGxhc1RleHR1cmUmJnIuYXRsYXNUZXh0dXJlLmJpbmQoci5hdGxhc0ludGVycG9sYXRpb24sZi5DTEFNUF9UT19FREdFKSxyLmF0bGFzVGV4dHVyZUljb24mJihwLmFjdGl2ZVRleHR1cmUuc2V0KGYuVEVYVFVSRTEpLHIuYXRsYXNUZXh0dXJlSWNvbiYmci5hdGxhc1RleHR1cmVJY29uLmJpbmQoci5hdGxhc0ludGVycG9sYXRpb25JY29uLGYuQ0xBTVBfVE9fRURHRSkpLGUudXBsb2FkQ29tbW9uTGlnaHRVbmlmb3JtcyhlLmNvbnRleHQsci5wcm9ncmFtKSxyLmhhc0hhbG8pe2NvbnN0IG49ci51bmlmb3JtVmFsdWVzO24udV9pc19oYWxvPTEsS00oci5idWZmZXJzLHQuc2VnbWVudHMsaSxlLHIucHJvZ3JhbSx3LHUsZCxuLDIpLG4udV9pc19oYWxvPTA7fWVsc2Uge2lmKHIuaXNTREYpe2NvbnN0IG49ci51bmlmb3JtVmFsdWVzO3IuaGFzSGFsbyYmKG4udV9pc19oYWxvPTEsS00oci5idWZmZXJzLHQuc2VnbWVudHMsaSxlLHIucHJvZ3JhbSx3LHUsZCxuLDEpKSxuLnVfaXNfaGFsbz0wO31LTShyLmJ1ZmZlcnMsdC5zZWdtZW50cyxpLGUsci5wcm9ncmFtLHcsdSxkLHIudW5pZm9ybVZhbHVlcywxKTt9fX1mdW5jdGlvbiBLTShlLHQsaSxyLG4sbyxzLGEsbCxjKXtjb25zdCBoPVtlLmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIsZS5vcGFjaXR5VmVydGV4QnVmZmVyLGUuaWNvblRyYW5zaXRpb25pbmdWZXJ0ZXhCdWZmZXIsZS5nbG9iZUV4dFZlcnRleEJ1ZmZlcixlLnpPZmZzZXRWZXJ0ZXhCdWZmZXJdO24uZHJhdyhyLHIuY29udGV4dC5nbC5UUklBTkdMRVMsbyxzLGEsRHguZGlzYWJsZWQsbCxpLmlkLGUubGF5b3V0VmVydGV4QnVmZmVyLGUuaW5kZXhCdWZmZXIsdCxpLnBhaW50LHIudHJhbnNmb3JtLnpvb20sZS5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KGkuaWQpLGgsYyk7fWZ1bmN0aW9uIEpNKGUsdCxpLHIsbixvLHMpe2NvbnN0IGE9ZS5jb250ZXh0LmdsLGw9aS5wYWludC5nZXQoXCJmaWxsLXBhdHRlcm5cIiksYz1sJiZsLmNvbnN0YW50T3IoMSk7bGV0IGgsdSxkLHAsZjtzPyh1PWMmJiFpLmdldFBhaW50UHJvcGVydHkoXCJmaWxsLW91dGxpbmUtY29sb3JcIik/XCJmaWxsT3V0bGluZVBhdHRlcm5cIjpcImZpbGxPdXRsaW5lXCIsaD1hLkxJTkVTKToodT1jP1wiZmlsbFBhdHRlcm5cIjpcImZpbGxcIixoPWEuVFJJQU5HTEVTKTtmb3IoY29uc3QgbSBvZiByKXtjb25zdCByPXQuZ2V0VGlsZShtKTtpZihjJiYhci5wYXR0ZXJuc0xvYWRlZCgpKWNvbnRpbnVlO2NvbnN0IF89ci5nZXRCdWNrZXQoaSk7aWYoIV8pY29udGludWU7ZS5wcmVwYXJlRHJhd1RpbGUoKTtjb25zdCBnPV8ucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChpLmlkKSx5PWUuaXNUaWxlQWZmZWN0ZWRCeUZvZyhtKSx4PWUuZ2V0T3JDcmVhdGVQcm9ncmFtKHUse2NvbmZpZzpnLG92ZXJyaWRlRm9nOnl9KTtjJiYoZS5jb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGEuVEVYVFVSRTApLHIuaW1hZ2VBdGxhc1RleHR1cmUmJnIuaW1hZ2VBdGxhc1RleHR1cmUuYmluZChhLkxJTkVBUixhLkNMQU1QX1RPX0VER0UpLGcudXBkYXRlUGFpbnRCdWZmZXJzKCkpO2NvbnN0IHY9bC5jb25zdGFudE9yKG51bGwpO2lmKHYmJnIuaW1hZ2VBdGxhcyl7Y29uc3QgZT1yLmltYWdlQXRsYXMucGF0dGVyblBvc2l0aW9uc1t2LnRvU3RyaW5nKCldO2UmJmcuc2V0Q29uc3RhbnRQYXR0ZXJuUG9zaXRpb25zKGUpO31jb25zdCBiPWUudHJhbnNsYXRlUG9zTWF0cml4KG0ucHJvak1hdHJpeCxyLGkucGFpbnQuZ2V0KFwiZmlsbC10cmFuc2xhdGVcIiksaS5wYWludC5nZXQoXCJmaWxsLXRyYW5zbGF0ZS1hbmNob3JcIikpLHc9aS5wYWludC5nZXQoXCJmaWxsLWVtaXNzaXZlLXN0cmVuZ3RoXCIpO2lmKHMpe3A9Xy5pbmRleEJ1ZmZlcjIsZj1fLnNlZ21lbnRzMjtjb25zdCB0PWUudGVycmFpbiYmZS50ZXJyYWluLnJlbmRlcmluZ1RvVGV4dHVyZT9lLnRlcnJhaW4uZHJhcGVCdWZmZXJTaXplOlthLmRyYXdpbmdCdWZmZXJXaWR0aCxhLmRyYXdpbmdCdWZmZXJIZWlnaHRdO2Q9XCJmaWxsT3V0bGluZVBhdHRlcm5cIj09PXUmJmM/RU0oYix3LGUscix0KTpUTShiLHcsdCk7fWVsc2UgcD1fLmluZGV4QnVmZmVyLGY9Xy5zZWdtZW50cyxkPWM/d00oYix3LGUscik6Yk0oYix3KTtlLnVwbG9hZENvbW1vblVuaWZvcm1zKGUuY29udGV4dCx4LG0udG9VbndyYXBwZWQoKSkseC5kcmF3KGUsaCxuLGUuc3RlbmNpbE1vZGVGb3JDbGlwcGluZyhtKSxvLER4LmRpc2FibGVkLGQsaS5pZCxfLmxheW91dFZlcnRleEJ1ZmZlcixwLGYsaS5wYWludCxlLnRyYW5zZm9ybS56b29tLGcsdm9pZCAwKTt9fWZ1bmN0aW9uIFFNKGUsdCxpLHIsbixvLHMsYSl7aS5yZXNldExheWVyUmVuZGVyaW5nU3RhdHMoKTtjb25zdCBsPWUuY29udGV4dCxjPWwuZ2wsaD1lLnRyYW5zZm9ybSx1PWkucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tcGF0dGVyblwiKSxkPXUuY29uc3RhbnRPcigxKSxwPWkucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tb3BhY2l0eVwiKSxmPWUuc3R5bGUuZW5hYmxlM2RMaWdodHMoKSxtPWkucGFpbnQuZ2V0KGYmJiFkP1wiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24td2FsbC1yYWRpdXNcIjpcImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLXJhZGl1c1wiKSxfPVtpLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLWludGVuc2l0eVwiKSxtXSxnPWkubGF5b3V0LmdldChcImZpbGwtZXh0cnVzaW9uLWVkZ2UtcmFkaXVzXCIpLHk9Zz4wJiYhaS5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1yb3VuZGVkLXJvb2ZcIikseD15PzA6Zyx2PVwiZ2xvYmVcIj09PWgucHJvamVjdGlvbi5uYW1lP0liKCk6MCxiPVwiZ2xvYmVcIj09PWgucHJvamVjdGlvbi5uYW1lLHc9Yj9EZChoLnpvb20pOjAsVD1bS2QoaC5jZW50ZXIubG5nKSxKZChoLmNlbnRlci5sYXQpXSxFPWkucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tZmxvb2QtbGlnaHQtY29sb3JcIikudG9BcnJheTAxKCkuc2xpY2UoMCwzKSxNPWkucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tZmxvb2QtbGlnaHQtaW50ZW5zaXR5XCIpLEE9aS5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi12ZXJ0aWNhbC1zY2FsZVwiKSxTPWVNKGUsaS5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1jdXRvZmYtZmFkZS1yYW5nZVwiKSksST1pLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLWVtaXNzaXZlLXN0cmVuZ3RoXCIpLEM9W107bGV0IHo7YiYmQy5wdXNoKFwiUFJPSkVDVElPTl9HTE9CRV9WSUVXXCIpLF9bMF0+MCYmQy5wdXNoKFwiRkFVWF9BT1wiKSx5JiZDLnB1c2goXCJaRVJPX1JPT0ZfUkFESVVTXCIpLGEmJkMucHVzaChcIkhBU19DRU5UUk9JRFwiKSxNPjAmJkMucHVzaChcIkZMT09EX0xJR0hUXCIpLFMuc2hvdWxkUmVuZGVyQ3V0b2ZmJiZDLnB1c2goXCJSRU5ERVJfQ1VUT0ZGXCIpO2NvbnN0IFA9XCJzaGFkb3dcIj09PWUucmVuZGVyUGFzcyxEPWUuc2hhZG93UmVuZGVyZXIsUj1QJiYhIUQ7ZS5zaGFkb3dSZW5kZXJlciYmKGUuc2hhZG93UmVuZGVyZXIudXNlTm9ybWFsT2Zmc2V0PSEwKTtsZXQgTD1bMCwwLDBdO2lmKEQpe2NvbnN0IHQ9ZS5zdHlsZS5kaXJlY3Rpb25hbExpZ2h0LGk9ZS5zdHlsZS5hbWJpZW50TGlnaHQ7dCYmaSYmKEw9V0EodCxpKSksej1DLmNvbmNhdChbXCJTSEFET1dTX1NJTkdMRV9DQVNDQURFXCJdKTt9Y29uc3Qgaz1SP1wiZmlsbEV4dHJ1c2lvbkRlcHRoXCI6ZD9cImZpbGxFeHRydXNpb25QYXR0ZXJuXCI6XCJmaWxsRXh0cnVzaW9uXCIsTz1pLmdldExheWVyUmVuZGVyaW5nU3RhdHMoKTtmb3IoY29uc3QgZiBvZiByKXtjb25zdCByPXQuZ2V0VGlsZShmKSxtPXIuZ2V0QnVja2V0KGkpO2lmKCFtfHxtLnByb2plY3Rpb24ubmFtZSE9PWgucHJvamVjdGlvbi5uYW1lKWNvbnRpbnVlO2xldCBnPSExO0QmJihnPTA9PT1ELmdldE1heENhc2NhZGVGb3JUaWxlKGYudG9VbndyYXBwZWQoKSkpO2NvbnN0IHk9ZS5pc1RpbGVBZmZlY3RlZEJ5Rm9nKGYpLFI9bS5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KGkuaWQpLEI9ZS5nZXRPckNyZWF0ZVByb2dyYW0oayx7Y29uZmlnOlIsZGVmaW5lczpnP3o6QyxvdmVycmlkZUZvZzp5fSk7aWYoZS50ZXJyYWluJiZlLnRlcnJhaW4uc2V0dXBFbGV2YXRpb25EcmF3KHIsQix7dXNlTWV0ZXJUb0RlbTohMH0pLCFtLmNlbnRyb2lkVmVydGV4QnVmZmVyKXtjb25zdCBlPUIuYXR0cmlidXRlcy5hX2NlbnRyb2lkX3Bvczt2b2lkIDAhPT1lJiZjLnZlcnRleEF0dHJpYjJmKGUsMCwwKTt9IVAmJkQmJkQuc2V0dXBTaGFkb3dzKHIudGlsZUlELnRvVW53cmFwcGVkKCksQixcInZlY3Rvci10aWxlXCIsci50aWxlSUQub3ZlcnNjYWxlZFopLGQmJihlLmNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQoYy5URVhUVVJFMCksci5pbWFnZUF0bGFzVGV4dHVyZSYmci5pbWFnZUF0bGFzVGV4dHVyZS5iaW5kKGMuTElORUFSLGMuQ0xBTVBfVE9fRURHRSksUi51cGRhdGVQYWludEJ1ZmZlcnMoKSk7Y29uc3QgRj11LmNvbnN0YW50T3IobnVsbCk7aWYoRiYmci5pbWFnZUF0bGFzKXtjb25zdCBlPXIuaW1hZ2VBdGxhcy5wYXR0ZXJuUG9zaXRpb25zW0YudG9TdHJpbmcoKV07ZSYmUi5zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnMoZSk7fWNvbnN0IE49aS5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi12ZXJ0aWNhbC1ncmFkaWVudFwiKTtsZXQgVTtpZihQJiZEKXtpZihvQShyLnRpbGVJRCxtLGUpKWNvbnRpbnVlO2NvbnN0IHQ9RC5jYWxjdWxhdGVTaGFkb3dQYXNzTWF0cml4RnJvbVRpbGUoci50aWxlSUQudG9VbndyYXBwZWQoKSk7VT14TSh0LHgsQSk7fWVsc2Uge2NvbnN0IHQ9ZS50cmFuc2xhdGVQb3NNYXRyaXgoZi5leHBhbmRlZFByb2pNYXRyaXgscixpLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZVwiKSxpLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZS1hbmNob3JcIikpLG49aC5wcm9qZWN0aW9uLmNyZWF0ZUludmVyc2lvbk1hdHJpeChoLGYuY2Fub25pY2FsKTtVPWQ/dk0odCxlLE4scCxfLHgsZixyLHYsdyxULG4sRSxBKTp5TSh0LGUsTixwLF8seCxmLHYsdyxULG4sRSxBLE0sTCxJKTt9ZS51cGxvYWRDb21tb25Vbmlmb3JtcyhsLEIsZi50b1Vud3JhcHBlZCgpLG51bGwsUyk7bGV0IFY9bS5zZWdtZW50cztpZihcIm1lcmNhdG9yXCI9PT1oLnByb2plY3Rpb24ubmFtZSYmIVAmJihWPW0uZ2V0VmlzaWJsZVNlZ21lbnRzKHIudGlsZUlELGUudGVycmFpbixlLnRyYW5zZm9ybS5nZXRGcnVzdHVtKDApKSwhVi5nZXQoKS5sZW5ndGgpKWNvbnRpbnVlO2lmKE8paWYoUClmb3IoY29uc3QgZSBvZiBWLmdldCgpKU8ubnVtUmVuZGVyZWRWZXJ0aWNlc0luU2hhZG93UGFzcys9ZS5wcmltaXRpdmVMZW5ndGg7ZWxzZSBmb3IoY29uc3QgZSBvZiBWLmdldCgpKU8ubnVtUmVuZGVyZWRWZXJ0aWNlc0luVHJhbnNwYXJlbnRQYXNzKz1lLnByaW1pdGl2ZUxlbmd0aDtjb25zdCBqPVtdOyhlLnRlcnJhaW58fGEpJiZqLnB1c2gobS5jZW50cm9pZFZlcnRleEJ1ZmZlciksYiYmai5wdXNoKG0ubGF5b3V0VmVydGV4RXh0QnVmZmVyKSxCLmRyYXcoZSxsLmdsLlRSSUFOR0xFUyxuLG8scyxEeC5iYWNrQ0NXLFUsaS5pZCxtLmxheW91dFZlcnRleEJ1ZmZlcixtLmluZGV4QnVmZmVyLFYsaS5wYWludCxlLnRyYW5zZm9ybS56b29tLFIsaik7fWUuc2hhZG93UmVuZGVyZXImJihlLnNoYWRvd1JlbmRlcmVyLnVzZU5vcm1hbE9mZnNldD0hMSk7fWZ1bmN0aW9uIGVBKGUsdCxpLHIsbixvLHMsYSxsLGMsaCx1LGQscCxmLG0sXyxnLHkpe2NvbnN0IHg9ZS5jb250ZXh0LHY9eC5nbCxiPWUudHJhbnNmb3JtLHc9ZS50cmFuc2Zvcm0uem9vbSxUPVtdLEU9ZU0oZSxpLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLWN1dG9mZi1mYWRlLXJhbmdlXCIpKTtcImNsZWFyXCI9PT1jPyhULnB1c2goXCJDTEVBUl9TVUJQQVNTXCIpLHkmJihULnB1c2goXCJDTEVBUl9GUk9NX1RFWFRVUkVcIikseC5hY3RpdmVUZXh0dXJlLnNldCh2LlRFWFRVUkUwKSx5LmJpbmQodi5MSU5FQVIsdi5DTEFNUF9UT19FREdFKSkpOlwic2RmXCI9PT1jJiZULnB1c2goXCJTREZfU1VCUEFTU1wiKSxfJiZULnB1c2goXCJIQVNfQ0VOVFJPSURcIiksRS5zaG91bGRSZW5kZXJDdXRvZmYmJlQucHVzaChcIlJFTkRFUl9DVVRPRkZcIik7Y29uc3QgTT1pLmxheW91dC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1lZGdlLXJhZGl1c1wiKSxBPSh0LHIsYyxnLHYpPT57Y29uc3QgYj1yLnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQoaS5pZCksQT1lLmlzVGlsZUFmZmVjdGVkQnlGb2codCksUz1lLmdldE9yQ3JlYXRlUHJvZ3JhbShcImZpbGxFeHRydXNpb25Hcm91bmRFZmZlY3RcIix7Y29uZmlnOmIsZGVmaW5lczpULG92ZXJyaWRlRm9nOkF9KSxJPSgoZSx0LGkscixuLG8scyxhLGwsYyxoKT0+KHt1X21hdHJpeDp0LHVfb3BhY2l0eTppLHVfYW9fcGFzczpyPzE6MCx1X21ldGVyX3RvX3RpbGU6bix1X2FvOm8sdV9mbG9vZF9saWdodF9pbnRlbnNpdHk6cyx1X2Zsb29kX2xpZ2h0X2NvbG9yOmEsdV9hdHRlbnVhdGlvbjpsLHVfZWRnZV9yYWRpdXM6Yyx1X2ZiOjAsdV9mYl9zaXplOmh9KSkoMCxnLGgsbCx2LFt1LGQqdl0scCxmLG0sdz49MTc/MDpNKnYseT95LnNpemVbMF06MCksQz1bXTtfJiZDLnB1c2goci5oaWRkZW5CeUxhbmRtYXJrVmVydGV4QnVmZmVyKSxlLnVwbG9hZENvbW1vblVuaWZvcm1zKHgsUyx0LnRvVW53cmFwcGVkKCksbnVsbCxFKSxTLmRyYXcoZSx4LmdsLlRSSUFOR0xFUyxuLG8scyxhLEksaS5pZCxyLnZlcnRleEJ1ZmZlcixyLmluZGV4QnVmZmVyLGMsaS5wYWludCx3LGIsQyk7fTtmb3IoY29uc3QgbiBvZiByKXtjb25zdCByPXQuZ2V0VGlsZShuKSxvPXIuZ2V0QnVja2V0KGkpO2lmKCFvfHxvLnByb2plY3Rpb24ubmFtZSE9PWIucHJvamVjdGlvbi5uYW1lfHwhby5ncm91bmRFZmZlY3R8fG8uZ3JvdW5kRWZmZWN0JiYhby5ncm91bmRFZmZlY3QuaGFzRGF0YSgpKWNvbnRpbnVlO2NvbnN0IHM9by5ncm91bmRFZmZlY3QsYT0xL28udGlsZVRvTWV0ZXI7e2NvbnN0IHQ9ZS50cmFuc2xhdGVQb3NNYXRyaXgobi5wcm9qTWF0cml4LHIsaS5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGVcIiksaS5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUtYW5jaG9yXCIpKSxvPXMuZ2V0RGVmYXVsdFNlZ21lbnQoKTtBKG4scyxvLHQsYSk7fWlmKGcpZm9yKGxldCBvPTA7bzw0O28rKyl7Y29uc3Qgcz0kdVtvXShuKSxsPXQuZ2V0VGlsZShzKTtpZighbCljb250aW51ZTtjb25zdCBjPWwuZ2V0QnVja2V0KGkpO2lmKCFjfHxjLnByb2plY3Rpb24ubmFtZSE9PWIucHJvamVjdGlvbi5uYW1lfHwhYy5ncm91bmRFZmZlY3R8fGMuZ3JvdW5kRWZmZWN0JiYhYy5ncm91bmRFZmZlY3QuaGFzRGF0YSgpKWNvbnRpbnVlO2NvbnN0IGg9Yy5ncm91bmRFZmZlY3Q7bGV0IHUsZDswPT09bz8odT1bLWNyLDAsMF0sZD0xKToxPT09bz8odT1bY3IsMCwwXSxkPTApOjI9PT1vPyh1PVswLC1jciwwXSxkPTMpOih1PVswLGNyLDBdLGQ9Mik7Y29uc3QgcD1oLnJlZ2lvblNlZ21lbnRzW2RdO2lmKCFwKWNvbnRpbnVlO2NvbnN0IGY9bmV3IEZsb2F0MzJBcnJheSgxNik7QXUudHJhbnNsYXRlKGYsbi5wcm9qTWF0cml4LHUpLEEobixoLHAsZS50cmFuc2xhdGVQb3NNYXRyaXgoZixyLGkucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlXCIpLGkucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlLWFuY2hvclwiKSksYSk7fX19ZnVuY3Rpb24gdEEoZSx0LGkscixuLG8scyl7MD09PXIuY2VudHJvaWRWZXJ0ZXhBcnJheS5sZW5ndGgmJnIuY3JlYXRlQ2VudHJvaWRzQnVmZmVyKCk7Y29uc3QgYT1vP28uZmluZERFTVRpbGVGb3IoaSk6bnVsbDtpZighKGEmJmEuZGVtfHxzKSlyZXR1cm47Y29uc3QgbD1lPT57Y29uc3QgaT10LmdldFNvdXJjZSgpLm1pbnpvb20scj1lPT57Y29uc3QgaT10LmdldFRpbGVCeUlEKGUpO2lmKGkmJmkuaGFzRGF0YSgpKXJldHVybiBpLmdldEJ1Y2tldChuKX0sbz1bMCwtMSwxXTtmb3IoY29uc3QgdCBvZiBvKXtpZihlLm92ZXJzY2FsZWRaK3Q8aSljb250aW51ZTtjb25zdCBuPXIoZS5jYWxjdWxhdGVTY2FsZWRLZXkoZS5vdmVyc2NhbGVkWit0KSk7aWYobilyZXR1cm4gbn19LGM9WzAsMCwwXSxoPShlLHQpPT4oY1swXT1NYXRoLm1pbihlLm1pbi55LHQubWluLnkpLGNbMV09TWF0aC5tYXgoZS5tYXgueSx0Lm1heC55KSxjWzJdPWNyLXQubWluLng+ZS5tYXgueD90Lm1pbi54LWNyOmUubWF4LngsYyksdT0oZSx0KT0+KGNbMF09TWF0aC5taW4oZS5taW4ueCx0Lm1pbi54KSxjWzFdPU1hdGgubWF4KGUubWF4LngsdC5tYXgueCksY1syXT1jci10Lm1pbi55PmUubWF4Lnk/dC5taW4ueS1jcjplLm1heC55LGMpLGQ9WyhlLHQpPT5oKGUsdCksKGUsdCk9PmgodCxlKSwoZSx0KT0+dShlLHQpLChlLHQpPT51KHQsZSldLHA9KGUsdCxyLG4scyxsLGMpPT57aWYoIW8pcmV0dXJuIDA7Y29uc3QgaD1bW2w/cjplLGw/ZTpyLDBdLFtsP3I6dCxsP3Q6ciwwXV0sdT1jPDA/Y3IrYzpjLGQ9W2w/dTooZSt0KS8yLGw/KGUrdCkvMjp1LDBdO3JldHVybiAwPT09ciYmYzwwfHwwIT09ciYmYz4wP28uZ2V0Rm9yVGlsZVBvaW50cyhzLFtkXSwhMCxuKTpoLnB1c2goZCksby5nZXRGb3JUaWxlUG9pbnRzKGksaCwhMCxhKSxNYXRoLm1heChoWzBdWzJdLGhbMV1bMl0sZFsyXSkvby5leGFnZ2VyYXRpb24oKX07Zm9yKGxldCBlPTA7ZTw0O2UrKyl7Y29uc3QgdD1yLmJvcmRlckZlYXR1cmVJbmRpY2VzW2VdO2lmKDA9PT10Lmxlbmd0aCljb250aW51ZTtjb25zdCBuPSR1W2VdKGkpLGE9bChuKTtpZighKGEmJmEgaW5zdGFuY2VvZiB2YikpY29udGludWU7aWYoci5ib3JkZXJEb25lV2l0aE5laWdoYm9yWltlXT09PWEuY2Fub25pY2FsLnopY29udGludWU7MD09PWEuY2VudHJvaWRWZXJ0ZXhBcnJheS5sZW5ndGgmJmEuY3JlYXRlQ2VudHJvaWRzQnVmZmVyKCk7Y29uc3QgYz1vP28uZmluZERFTVRpbGVGb3Iobik6bnVsbDtpZighKGMmJmMuZGVtfHxzKSljb250aW51ZTtjb25zdCBoPShlPDI/MTo1KS1lLHU9YS5ib3JkZXJEb25lV2l0aE5laWdoYm9yWltoXSE9PXIuY2Fub25pY2FsLnosZz1hLmJvcmRlckZlYXR1cmVJbmRpY2VzW2hdO2xldCB4PTA7aWYoci5jYW5vbmljYWwueiE9PWEuY2Fub25pY2FsLnope2Zvcihjb25zdCBlIG9mIHQpci5zaG93Q2VudHJvaWQoci5mZWF0dXJlc09uQm9yZGVyW2VdKTtpZih1KWZvcihjb25zdCBlIG9mIGcpYS5zaG93Q2VudHJvaWQoYS5mZWF0dXJlc09uQm9yZGVyW2VdKTtyLmJvcmRlckRvbmVXaXRoTmVpZ2hib3JaW2VdPWEuY2Fub25pY2FsLnosYS5ib3JkZXJEb25lV2l0aE5laWdoYm9yWltoXT1yLmNhbm9uaWNhbC56O31mb3IoY29uc3QgaSBvZiB0KXtjb25zdCB0PXIuZmVhdHVyZXNPbkJvcmRlcltpXSxvPXIuY2VudHJvaWREYXRhW3QuY2VudHJvaWREYXRhSW5kZXhdLGw9dC5ib3JkZXJzW2VdO2xldCB1O2Zvcig7eDxnLmxlbmd0aDspe3U9YS5mZWF0dXJlc09uQm9yZGVyW2dbeF1dO2NvbnN0IGU9dS5ib3JkZXJzW2hdO2lmKGVbMV0+bFswXSszfHxlWzBdPmxbMF0tMylicmVhazthLnNob3dDZW50cm9pZCh1KSx4Kys7fWlmKHUmJng8Zy5sZW5ndGgpe2NvbnN0IGk9eDtsZXQgdj0wO2Zvcig7ISh1LmJvcmRlcnNbaF1bMF0+bFsxXS0zKSYmKHYrKywrK3ghPT1nLmxlbmd0aCk7KXU9YS5mZWF0dXJlc09uQm9yZGVyW2dbeF1dO2lmKHU9YS5mZWF0dXJlc09uQm9yZGVyW2dbaV1dLHY+MSl7Y29uc3QgZT11LmJvcmRlcnNbaF07TWF0aC5hYnMobFswXS1lWzBdKTwzJiZNYXRoLmFicyhsWzFdLWVbMV0pPDMmJih2PTEseD1pKzEpO31lbHNlIGlmKDA9PT12KXtyLnNob3dDZW50cm9pZCh0KTtjb250aW51ZX1jb25zdCBiPWEuY2VudHJvaWREYXRhW3UuY2VudHJvaWREYXRhSW5kZXhdO3MmJjE9PT12JiYoKChtPW8pLmZsYWdzfChfPWIpLmZsYWdzKSZjYj8obS5mbGFnc3w9Y2IsXy5mbGFnc3w9Y2IpOihtLmZsYWdzJj0yMTQ3NDgzNjQ3LF8uZmxhZ3MmPTIxNDc0ODM2NDcpKTtsZXQgdz1uZXcgeSgwLDApO2lmKHY+MSl4PWk7ZWxzZSBpZihjJiZjLmRlbSYmISh0LmludGVyc2VjdHNDb3VudCgpPjF8fHUuaW50ZXJzZWN0c0NvdW50KCk+MSkpe2NvbnN0IHQ9ZFtlXShvLGIpLGk9ZSUyP2NyLTE6MDtmPXAodFswXSxNYXRoLm1pbihjci0xLHRbMV0pLGksYyxuLGU8Mix0WzJdKSx3PW5ldyB5KE1hdGguY2VpbCg3KihmKzQ1MCkpLDApO31vLmNlbnRyb2lkWFk9Yi5jZW50cm9pZFhZPXcsci53cml0ZUNlbnRyb2lkVG9CdWZmZXIobyksYS53cml0ZUNlbnRyb2lkVG9CdWZmZXIoYik7fWVsc2Ugci5zaG93Q2VudHJvaWQodCk7fXIuYm9yZGVyRG9uZVdpdGhOZWlnaGJvclpbZV09YS5jYW5vbmljYWwueixhLmJvcmRlckRvbmVXaXRoTmVpZ2hib3JaW2hdPXIuY2Fub25pY2FsLno7fXZhciBmLG0sXzsoci5uZWVkc0NlbnRyb2lkVXBkYXRlfHwhci5jZW50cm9pZFZlcnRleEJ1ZmZlciYmMCE9PXIuY2VudHJvaWRWZXJ0ZXhBcnJheS5sZW5ndGgpJiZyLnVwbG9hZENlbnRyb2lkKGUpO31jb25zdCBpQT1bMSwwLDBdLHJBPVswLDEsMF0sbkE9WzAsMCwxXTtmdW5jdGlvbiBvQShlLHQsaSl7Y29uc3Qgcj1pLnRyYW5zZm9ybSxuPWkuc2hhZG93UmVuZGVyZXI7aWYoIW4pcmV0dXJuICEwO2NvbnN0IG89ZS50b1Vud3JhcHBlZCgpLHM9ci50aWxlU2l6ZSpuLl9jYXNjYWRlc1tpLmN1cnJlbnRTaGFkb3dDYXNjYWRlXS5zY2FsZTtsZXQgYT10Lm1heEhlaWdodDtpZihyLmVsZXZhdGlvbil7Y29uc3QgdD1yLmVsZXZhdGlvbi5nZXRNaW5NYXhGb3JUaWxlKGUpO3QmJihhKz10Lm1heCk7fWNvbnN0IGw9Wy4uLm4uc2hhZG93RGlyZWN0aW9uXTtsWzJdPS1sWzJdO2NvbnN0IGM9bi5jb21wdXRlU2ltcGxpZmllZFRpbGVTaGFkb3dWb2x1bWUobyxhLHMsbCk7aWYoIWMpcmV0dXJuICExO2NvbnN0IGg9W2lBLHJBLG5BLGwsW2xbMF0sMCxsWzJdXSxbMCxsWzFdLGxbMl1dXSx1PVwiZ2xvYmVcIj09PXIucHJvamVjdGlvbi5uYW1lLGQ9ci5zY2FsZVpvb20ocykscD1RdS5mcm9tSW52UHJvamVjdGlvbk1hdHJpeChyLmludlByb2pNYXRyaXgsci53b3JsZFNpemUsZCwhdSksZj1uLmdldEN1cnJlbnRDYXNjYWRlRnJ1c3R1bSgpO3JldHVybiAwPT09cC5pbnRlcnNlY3RzUHJlY2lzZShjLnZlcnRpY2VzLGMucGxhbmVzLGgpfHwwPT09Zi5pbnRlcnNlY3RzUHJlY2lzZShjLnZlcnRpY2VzLGMucGxhbmVzLGgpfWZ1bmN0aW9uIHNBKGUpe2NvbnN0IHQ9ZS5fbmVhclosaT1lLnByb2plY3Rpb24uZmFydGhlc3RQaXhlbERpc3RhbmNlKGUpLHI9aS10LG49LjIqZS5oZWlnaHQsbz10K247cmV0dXJuIFt0LGksKG8tbi10KS9yLChvLXQpL3JdfWNvbnN0IGFBPW5ldyBoaSgxLDAsMCwxKSxsQT1uZXcgaGkoMCwxLDAsMSksY0E9bmV3IGhpKDAsMCwxLDEpLGhBPW5ldyBoaSgxLDAsMSwxKSx1QT1uZXcgaGkoMCwxLDEsMSk7ZnVuY3Rpb24gZEEoZSx0LGkpe2NvbnN0IHI9ZS5jb250ZXh0LG49ZS50cmFuc2Zvcm0sbz1yLmdsLHM9XCJnbG9iZVwiPT09bi5wcm9qZWN0aW9uLm5hbWUsYT1zP1tcIlBST0pFQ1RJT05fR0xPQkVfVklFV1wiXTpbXTtsZXQgbD1pLnByb2pNYXRyaXg7aWYocyYmRGQobi56b29tKT4wKXtjb25zdCBlPVNkKF9kKGkuY2Fub25pY2FsLG4pKTtsPUF1Lm11bHRpcGx5KG5ldyBGbG9hdDMyQXJyYXkoMTYpLG4uZ2xvYmVNYXRyaXgsZSksQXUubXVsdGlwbHkobCxuLnByb2pNYXRyaXgsbCk7fWNvbnN0IGM9ZS5nZXRPckNyZWF0ZVByb2dyYW0oXCJkZWJ1Z1wiLHtkZWZpbmVzOmF9KSxoPXQuZ2V0VGlsZUJ5SUQoaS5rZXkpO2UudGVycmFpbiYmZS50ZXJyYWluLnNldHVwRWxldmF0aW9uRHJhdyhoLGMpO2NvbnN0IHU9TXguZGlzYWJsZWQsZD1TeC5kaXNhYmxlZCxwPWUuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLGY9XCIkZGVidWdcIjtyLmFjdGl2ZVRleHR1cmUuc2V0KG8uVEVYVFVSRTApLGUuZW1wdHlUZXh0dXJlLmJpbmQoby5MSU5FQVIsby5DTEFNUF9UT19FREdFKSxzP2guX21ha2VHbG9iZVRpbGVEZWJ1Z0J1ZmZlcnMoZS5jb250ZXh0LG4pOmguX21ha2VEZWJ1Z1RpbGVCb3VuZHNCdWZmZXJzKGUuY29udGV4dCxuLnByb2plY3Rpb24pO2NvbnN0IG09aC5fdGlsZURlYnVnQnVmZmVyfHxlLmRlYnVnQnVmZmVyLF89aC5fdGlsZURlYnVnSW5kZXhCdWZmZXJ8fGUuZGVidWdJbmRleEJ1ZmZlcixnPWguX3RpbGVEZWJ1Z1NlZ21lbnRzfHxlLmRlYnVnU2VnbWVudHM7Yy5kcmF3KGUsby5MSU5FX1NUUklQLHUsZCxwLER4LmRpc2FibGVkLEFNKGwsaGkucmVkKSxmLG0sXyxnLG51bGwsbnVsbCxudWxsLFtoLl9nbG9iZVRpbGVEZWJ1Z0JvcmRlckJ1ZmZlcl0pO2NvbnN0IHk9aC5sYXRlc3RSYXdUaWxlRGF0YSx4PU1hdGguZmxvb3IoKHkmJnkuYnl0ZUxlbmd0aHx8MCkvMTAyNCksdj10LmdldFRpbGUoaSkudGlsZVNpemUsYj01MTIvTWF0aC5taW4odiw1MTIpKihpLm92ZXJzY2FsZWRaL24uem9vbSkqLjU7bGV0IHc9aS5jYW5vbmljYWwudG9TdHJpbmcoKTtpLm92ZXJzY2FsZWRaIT09aS5jYW5vbmljYWwueiYmKHcrPWAgPT4gJHtpLm92ZXJzY2FsZWRafWApLHcrPWAgJHt4fWtiYCxmdW5jdGlvbihlLHQpe2UuaW5pdERlYnVnT3ZlcmxheUNhbnZhcygpO2NvbnN0IGk9ZS5kZWJ1Z092ZXJsYXlDYW52YXMscj1lLmNvbnRleHQuZ2wsbj1lLmRlYnVnT3ZlcmxheUNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7bi5jbGVhclJlY3QoMCwwLGkud2lkdGgsaS5oZWlnaHQpLG4uc2hhZG93Q29sb3I9XCJ3aGl0ZVwiLG4uc2hhZG93Qmx1cj0yLG4ubGluZVdpZHRoPTEuNSxuLnN0cm9rZVN0eWxlPVwid2hpdGVcIixuLnRleHRCYXNlbGluZT1cInRvcFwiLG4uZm9udD1cImJvbGQgMzZweCBPcGVuIFNhbnMsIHNhbnMtc2VyaWZcIixuLmZpbGxUZXh0KHQsNSw1KSxuLnN0cm9rZVRleHQodCw1LDUpLGUuZGVidWdPdmVybGF5VGV4dHVyZS51cGRhdGUoaSksZS5kZWJ1Z092ZXJsYXlUZXh0dXJlLmJpbmQoci5MSU5FQVIsci5DTEFNUF9UT19FREdFKTt9KGUsdyk7Y29uc3QgVD1oLl90aWxlRGVidWdUZXh0QnVmZmVyfHxlLmRlYnVnQnVmZmVyLEU9aC5fdGlsZURlYnVnVGV4dEluZGV4QnVmZmVyfHxlLnF1YWRUcmlhbmdsZUluZGV4QnVmZmVyLE09aC5fdGlsZURlYnVnVGV4dFNlZ21lbnRzfHxlLmRlYnVnU2VnbWVudHM7Yy5kcmF3KGUsby5UUklBTkdMRVMsdSxkLEN4LmFscGhhQmxlbmRlZCxEeC5kaXNhYmxlZCxBTShsLGhpLnRyYW5zcGFyZW50LGIpLGYsVCxFLE0sbnVsbCxudWxsLG51bGwsW2guX2dsb2JlVGlsZURlYnVnVGV4dEJ1ZmZlcl0pO31mdW5jdGlvbiBwQShlLHQsaSxyKXttQShlLDAsdCtpLzIsZS50cmFuc2Zvcm0ud2lkdGgsaSxyKTt9ZnVuY3Rpb24gZkEoZSx0LGkscil7bUEoZSx0LWkvMiwwLGksZS50cmFuc2Zvcm0uaGVpZ2h0LHIpO31mdW5jdGlvbiBtQShlLHQsaSxyLG4sbyl7Y29uc3Qgcz1lLmNvbnRleHQsYT1zLmdsO2EuZW5hYmxlKGEuU0NJU1NPUl9URVNUKSxhLnNjaXNzb3IodCpkdC5kZXZpY2VQaXhlbFJhdGlvLGkqZHQuZGV2aWNlUGl4ZWxSYXRpbyxyKmR0LmRldmljZVBpeGVsUmF0aW8sbipkdC5kZXZpY2VQaXhlbFJhdGlvKSxzLmNsZWFyKHtjb2xvcjpvfSksYS5kaXNhYmxlKGEuU0NJU1NPUl9URVNUKTt9Y29uc3QgX0E9SWEoW3tuYW1lOlwiYV9wb3NfM2ZcIixjb21wb25lbnRzOjMsdHlwZTpcIkZsb2F0MzJcIn1dKSx7bWVtYmVyczpnQX09X0E7ZnVuY3Rpb24geUEoZSx0LGkscil7ZS5lbXBsYWNlQmFjayh0LGkscik7fWNsYXNzIHhBe2NvbnN0cnVjdG9yKGUpe3RoaXMudmVydGV4QXJyYXk9bmV3IHRsLHRoaXMuaW5kaWNlcz1uZXcgV2EseUEodGhpcy52ZXJ0ZXhBcnJheSwtMSwtMSwxKSx5QSh0aGlzLnZlcnRleEFycmF5LDEsLTEsMSkseUEodGhpcy52ZXJ0ZXhBcnJheSwtMSwxLDEpLHlBKHRoaXMudmVydGV4QXJyYXksMSwxLDEpLHlBKHRoaXMudmVydGV4QXJyYXksLTEsLTEsLTEpLHlBKHRoaXMudmVydGV4QXJyYXksMSwtMSwtMSkseUEodGhpcy52ZXJ0ZXhBcnJheSwtMSwxLC0xKSx5QSh0aGlzLnZlcnRleEFycmF5LDEsMSwtMSksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDUsMSwzKSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soMyw3LDUpLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjayg2LDIsMCksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDAsNCw2KSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soMiw2LDcpLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjayg3LDMsMiksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDUsNCwwKSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soMCwxLDUpLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjaygwLDIsMyksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDMsMSwwKSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soNyw2LDQpLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjayg0LDUsNyksdGhpcy52ZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy52ZXJ0ZXhBcnJheSxnQSksdGhpcy5pbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kaWNlcyksdGhpcy5zZWdtZW50PXhsLnNpbXBsZVNlZ21lbnQoMCwwLDM2LDEyKTt9fWZ1bmN0aW9uIHZBKGUsdCxpLHIsbixvKXtjb25zdCBzPWUuY29udGV4dC5nbCxhPXQucGFpbnQuZ2V0KFwic2t5LWF0bW9zcGhlcmUtY29sb3JcIiksbD10LnBhaW50LmdldChcInNreS1hdG1vc3BoZXJlLWhhbG8tY29sb3JcIiksYz10LnBhaW50LmdldChcInNreS1hdG1vc3BoZXJlLXN1bi1pbnRlbnNpdHlcIiksaD0oKGUsdCxpLHIsbik9Pih7dV9tYXRyaXhfM2Y6ZSx1X3N1bl9kaXJlY3Rpb246dCx1X3N1bl9pbnRlbnNpdHk6aSx1X2NvbG9yX3RpbnRfcjpbci5yLHIuZyxyLmIsci5hXSx1X2NvbG9yX3RpbnRfbTpbbi5yLG4uZyxuLmIsbi5hXSx1X2x1bWluYW5jZTo1ZS01fSkpKEV1LmZyb21NYXQ0KEV1LmNyZWF0ZSgpLHIpLG4sYyxhLGwpO3MuZnJhbWVidWZmZXJUZXh0dXJlMkQocy5GUkFNRUJVRkZFUixzLkNPTE9SX0FUVEFDSE1FTlQwLHMuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK28sdC5za3lib3hUZXh0dXJlLDApLGkuZHJhdyhlLHMuVFJJQU5HTEVTLE14LmRpc2FibGVkLFN4LmRpc2FibGVkLEN4LnVuYmxlbmRlZCxEeC5mcm9udENXLGgsXCJza3lib3hDYXB0dXJlXCIsdC5za3lib3hHZW9tZXRyeS52ZXJ0ZXhCdWZmZXIsdC5za3lib3hHZW9tZXRyeS5pbmRleEJ1ZmZlcix0LnNreWJveEdlb21ldHJ5LnNlZ21lbnQpO31jb25zdCBiQT1JYShbe3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcImFfcG9zXCIsY29tcG9uZW50czozfSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwiYV91dlwiLGNvbXBvbmVudHM6Mn1dKTtjbGFzcyB3QXtjb25zdHJ1Y3RvcihlKXtjb25zdCB0PW5ldyBLYTt0LmVtcGxhY2VCYWNrKC0xLDEsMSwwLDApLHQuZW1wbGFjZUJhY2soMSwxLDEsMSwwKSx0LmVtcGxhY2VCYWNrKDEsLTEsMSwxLDEpLHQuZW1wbGFjZUJhY2soLTEsLTEsMSwwLDEpO2NvbnN0IGk9bmV3IFdhO2kuZW1wbGFjZUJhY2soMCwxLDIpLGkuZW1wbGFjZUJhY2soMiwzLDApLHRoaXMudmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHQsYkEubWVtYmVycyksdGhpcy5pbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKGkpLHRoaXMuc2VnbWVudHM9eGwuc2ltcGxlU2VnbWVudCgwLDAsNCwyKTt9ZGVzdHJveSgpe3RoaXMudmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmluZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKTt9fWNvbnN0IFRBPUlhKFt7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwiYV9wb3NfM2ZcIixjb21wb25lbnRzOjN9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJhX3V2XCIsY29tcG9uZW50czoyfSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwiYV9zaXplX3NjYWxlXCIsY29tcG9uZW50czoxfSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwiYV9mYWRlX29wYWNpdHlcIixjb21wb25lbnRzOjF9XSk7Y2xhc3MgRUF7Y29uc3RydWN0b3IoKXt0aGlzLmNvbG9yTW9kZUFscGhhQmxlbmRlZFdyaXRlUkdCPW5ldyBDeChbMSxJeCwxLEl4XSxoaS50cmFuc3BhcmVudCxbITAsITAsITAsITFdKSx0aGlzLmNvbG9yTW9kZVdyaXRlQWxwaGE9bmV3IEN4KFsxLDAsMSwwXSxoaS50cmFuc3BhcmVudCxbITEsITEsITEsITBdKTt9dXBkYXRlKGUpe2NvbnN0IHQ9ZS5jb250ZXh0O2lmKCF0aGlzLmF0bW9zcGhlcmVCdWZmZXIpe3RoaXMuYXRtb3NwaGVyZUJ1ZmZlcj1uZXcgd0EodCk7Y29uc3QgZT0xMDAsaT0yMDAscj1mdW5jdGlvbihlKXtjb25zdCB0PVhuKDMwKSxpPVtdO2ZvcihsZXQgZT0wO2U8MTZlMzsrK2Upe2NvbnN0IGU9MipNYXRoLlBJKnQoKSxyPU1hdGguYWNvcygxLTIqdCgpKS0uNSpNYXRoLlBJO2kucHVzaChEdS5mcm9tVmFsdWVzKE1hdGguY29zKHIpKk1hdGguY29zKGUpLE1hdGguY29zKHIpKk1hdGguc2luKGUpLE1hdGguc2luKHIpKSk7fXJldHVybiBpfSgpLG49WG4oMzAwKSxvPW5ldyBKYSxzPW5ldyBXYTtsZXQgYT0wO2ZvcihsZXQgdD0wO3Q8ci5sZW5ndGg7Kyt0KXtjb25zdCBsPUR1LnNjYWxlKFtdLHJbdF0sMjAwKSxjPU1hdGgubWF4KDAsMSsuMDEqZSooMSpuKCktLjUpKSxoPU1hdGgubWF4KDAsMSsuMDEqaSooMSpuKCktLjUpKTtvLmVtcGxhY2VCYWNrKGxbMF0sbFsxXSxsWzJdLC0xLC0xLGMsaCksby5lbXBsYWNlQmFjayhsWzBdLGxbMV0sbFsyXSwxLC0xLGMsaCksby5lbXBsYWNlQmFjayhsWzBdLGxbMV0sbFsyXSwxLDEsYyxoKSxvLmVtcGxhY2VCYWNrKGxbMF0sbFsxXSxsWzJdLC0xLDEsYyxoKSxzLmVtcGxhY2VCYWNrKGErMCxhKzEsYSsyKSxzLmVtcGxhY2VCYWNrKGErMCxhKzIsYSszKSxhKz00O310aGlzLnN0YXJzVng9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIobyxUQS5tZW1iZXJzKSx0aGlzLnN0YXJzSWR4PXQuY3JlYXRlSW5kZXhCdWZmZXIocyksdGhpcy5zdGFyc1NlZ21lbnRzPXhsLnNpbXBsZVNlZ21lbnQoMCwwLG8ubGVuZ3RoLHMubGVuZ3RoKTt9fWRlc3Ryb3koKXt0aGlzLmF0bW9zcGhlcmVCdWZmZXImJnRoaXMuYXRtb3NwaGVyZUJ1ZmZlci5kZXN0cm95KCksdGhpcy5zdGFyc1Z4JiZ0aGlzLnN0YXJzVnguZGVzdHJveSgpLHRoaXMuc3RhcnNJZHgmJnRoaXMuc3RhcnNJZHguZGVzdHJveSgpO31kcmF3QXRtb3NwaGVyZUdsb3coZSx0KXtjb25zdCBpPWUuY29udGV4dCxyPWkuZ2wsbj1lLnRyYW5zZm9ybSxvPW5ldyBNeChyLkxFUVVBTCxNeC5SZWFkT25seSxbMCwxXSkscz1EZChuLnpvb20pLGE9dC5wcm9wZXJ0aWVzLmdldChcImNvbG9yXCIpLnRvQXJyYXkwMSgpLGw9dC5wcm9wZXJ0aWVzLmdldChcImhpZ2gtY29sb3JcIikudG9BcnJheTAxKCksYz10LnByb3BlcnRpZXMuZ2V0KFwic3BhY2UtY29sb3JcIikudG9BcnJheTAxUHJlbXVsdGlwbGllZEFscGhhKCksaD01ZS00LHU9eigodC5wcm9wZXJ0aWVzLmdldChcImhvcml6b24tYmxlbmRcIiktMCkvMSouMjQ5NStoLDVlLTQsLjI1KSxkPUxkKGUsaSxuKSYmdT09PWg/bi53b3JsZFNpemUvKDIqTWF0aC5QSSoxLjAyNSktMTpuLmdsb2JlUmFkaXVzLHA9ZS5mcmFtZUNvdW50ZXIvMWUzJTEsZj1EdS5sZW5ndGgobi5nbG9iZUNlbnRlckluVmlld1NwYWNlKSxtPU1hdGguc3FydChNYXRoLnBvdyhmLDIpLU1hdGgucG93KGQsMikpLF89TWF0aC5hY29zKG0vZiksZz10PT57Y29uc3QgaD1cImdsb2JlXCI9PT1uLnByb2plY3Rpb24ubmFtZT9bXCJQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcIixcIkZPR1wiXTpbXCJGT0dcIl07dCYmaC5wdXNoKFwiQUxQSEFfUEFTU1wiKTtjb25zdCBkPWUuZ2V0T3JDcmVhdGVQcm9ncmFtKFwiZ2xvYmVBdG1vc3BoZXJlXCIse2RlZmluZXM6aH0pLGY9KChlLHQsaSxyLG4sbyxzLGEsbCxjLGgsdSk9Pih7dV9mcnVzdHVtX3RsOmUsdV9mcnVzdHVtX3RyOnQsdV9mcnVzdHVtX2JyOmksdV9mcnVzdHVtX2JsOnIsdV9ob3Jpem9uOm4sdV90cmFuc2l0aW9uOm8sdV9mYWRlb3V0X3JhbmdlOnMsdV9jb2xvcjphLHVfaGlnaF9jb2xvcjpsLHVfc3BhY2VfY29sb3I6Yyx1X3RlbXBvcmFsX29mZnNldDpoLHVfaG9yaXpvbl9hbmdsZTp1fSkpKG4uZnJ1c3R1bUNvcm5lcnMuVEwsbi5mcnVzdHVtQ29ybmVycy5UUixuLmZydXN0dW1Db3JuZXJzLkJSLG4uZnJ1c3R1bUNvcm5lcnMuQkwsbi5mcnVzdHVtQ29ybmVycy5ob3Jpem9uLHMsdSxhLGwsYyxwLF8pO2UudXBsb2FkQ29tbW9uVW5pZm9ybXMoaSxkKTtjb25zdCBtPXRoaXMuYXRtb3NwaGVyZUJ1ZmZlcjttJiZkLmRyYXcoZSxyLlRSSUFOR0xFUyxvLFN4LmRpc2FibGVkLHQ/dGhpcy5jb2xvck1vZGVXcml0ZUFscGhhOnRoaXMuY29sb3JNb2RlQWxwaGFCbGVuZGVkV3JpdGVSR0IsRHguYmFja0NXLGYsdD9cImF0bW9zcGhlcmVfZ2xvd19hbHBoYVwiOlwiYXRtb3NwaGVyZV9nbG93XCIsbS52ZXJ0ZXhCdWZmZXIsbS5pbmRleEJ1ZmZlcixtLnNlZ21lbnRzKTt9O2coITEpLGcoITApO31kcmF3U3RhcnMoZSx0KXtjb25zdCBpPXoodC5wcm9wZXJ0aWVzLmdldChcInN0YXItaW50ZW5zaXR5XCIpLDAsMSk7aWYoMD09PWkpcmV0dXJuO2NvbnN0IHI9ZS5jb250ZXh0LG49ci5nbCxvPWUudHJhbnNmb3JtLHM9ZS5nZXRPckNyZWF0ZVByb2dyYW0oXCJzdGFyc1wiKSxhPUl1LmlkZW50aXR5KFtdKTtJdS5yb3RhdGVYKGEsYSwtby5fcGl0Y2gpLEl1LnJvdGF0ZVooYSxhLC1vLmFuZ2xlKSxJdS5yb3RhdGVYKGEsYSx3KG8uX2NlbnRlci5sYXQpKSxJdS5yb3RhdGVZKGEsYSwtdyhvLl9jZW50ZXIubG5nKSk7Y29uc3QgbD1BdS5mcm9tUXVhdChuZXcgRmxvYXQzMkFycmF5KDE2KSxhKSxjPUF1Lm11bHRpcGx5KFtdLG8uc3RhcnNQcm9qTWF0cml4LGwpLGg9RXUuZnJvbU1hdDQoW10sbCksdT1FdS5pbnZlcnQoW10saCksZD1bMCwxLDBdO0R1LnRyYW5zZm9ybU1hdDMoZCxkLHUpLER1LnNjYWxlKGQsZCwuMTUpO2NvbnN0IHA9WzEsMCwwXTtEdS50cmFuc2Zvcm1NYXQzKHAscCx1KSxEdS5zY2FsZShwLHAsLjE1KTtjb25zdCBmPSgoZSx0LGkscik9Pih7dV9tYXRyaXg6RmxvYXQzMkFycmF5LmZyb20oZSksdV91cDp0LHVfcmlnaHQ6aSx1X2ludGVuc2l0eV9tdWx0aXBsaWVyOnJ9KSkoYyxkLHAsaSk7ZS51cGxvYWRDb21tb25Vbmlmb3JtcyhyLHMpLHRoaXMuc3RhcnNWeCYmdGhpcy5zdGFyc0lkeCYmcy5kcmF3KGUsbi5UUklBTkdMRVMsTXguZGlzYWJsZWQsU3guZGlzYWJsZWQsdGhpcy5jb2xvck1vZGVBbHBoYUJsZW5kZWRXcml0ZVJHQixEeC5kaXNhYmxlZCxmLFwiYXRtb3NwaGVyZV9zdGFyc1wiLHRoaXMuc3RhcnNWeCx0aGlzLnN0YXJzSWR4LHRoaXMuc3RhcnNTZWdtZW50cyk7fX1mdW5jdGlvbiBNQShlLHQpe2NvbnN0IGk9Wy4uLmVdLHI9dC5jYW1lcmFXb3JsZFNpemVGb3JGb2cvdC53b3JsZFNpemUsbj1BdS5pZGVudGl0eShbXSk7cmV0dXJuIEF1LnNjYWxlKG4sbixbcixyLDFdKSxBdS5tdWx0aXBseShpLG4saSksQXUubXVsdGlwbHkoaSx0LndvcmxkVG9Gb2dNYXRyaXgsaSksaX1mdW5jdGlvbiBBQShlLHQsaSxyKXtjb25zdCBuPWkubWF0ZXJpYWwsbz1yLmNvbnRleHQse2Jhc2VDb2xvclRleHR1cmU6cyxtZXRhbGxpY1JvdWdobmVzc1RleHR1cmU6YX09bi5wYnJNZXRhbGxpY1JvdWdobmVzcyx7bm9ybWFsVGV4dHVyZTpsLG9jY2x1c2lvblRleHR1cmU6YyxlbWlzc2lvblRleHR1cmU6aH09bjtmdW5jdGlvbiB1KHQsaSxyKXtpZih0JiYoZS5wdXNoKGkpLG8uYWN0aXZlVGV4dHVyZS5zZXQoby5nbC5URVhUVVJFMCtyKSx0LmdmeFRleHR1cmUpKXtjb25zdHttaW5GaWx0ZXI6ZSxtYWdGaWx0ZXI6aSx3cmFwUzpyLHdyYXBUOm59PXQuc2FtcGxlcjt0LmdmeFRleHR1cmUuYmluZEV4dHJhUGFyYW0oZSxpLHIsbik7fX11KHMsXCJIQVNfVEVYVFVSRV91X2Jhc2VDb2xvclRleHR1cmVcIixOTS5CYXNlQ29sb3IpLHUoYSxcIkhBU19URVhUVVJFX3VfbWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlXCIsTk0uTWV0YWxsaWNSb3VnaG5lc3MpLHUobCxcIkhBU19URVhUVVJFX3Vfbm9ybWFsVGV4dHVyZVwiLE5NLk5vcm1hbCksdShjLFwiSEFTX1RFWFRVUkVfdV9vY2NsdXNpb25UZXh0dXJlXCIsTk0uT2NjbHVzaW9uKSx1KGgsXCJIQVNfVEVYVFVSRV91X2VtaXNzaW9uVGV4dHVyZVwiLE5NLkVtaXNzaW9uKSxpLnRleGNvb3JkQnVmZmVyJiYoZS5wdXNoKFwiSEFTX0FUVFJJQlVURV9hX3V2XzJmXCIpLHQucHVzaChpLnRleGNvb3JkQnVmZmVyKSksaS5jb2xvckJ1ZmZlciYmKGUucHVzaCgxMj09PWkuY29sb3JCdWZmZXIuaXRlbVNpemU/XCJIQVNfQVRUUklCVVRFX2FfY29sb3JfM2ZcIjpcIkhBU19BVFRSSUJVVEVfYV9jb2xvcl80ZlwiKSx0LnB1c2goaS5jb2xvckJ1ZmZlcikpLGkubm9ybWFsQnVmZmVyJiYoZS5wdXNoKFwiSEFTX0FUVFJJQlVURV9hX25vcm1hbF8zZlwiKSx0LnB1c2goaS5ub3JtYWxCdWZmZXIpKSxpLnBickJ1ZmZlciYmKGUucHVzaChcIkhBU19BVFRSSUJVVEVfYV9wYnJcIiksZS5wdXNoKFwiSEFTX0FUVFJJQlVURV9hX2hlaWdodEJhc2VkRW1pc3NpdmVTdHJlbmd0aFwiKSx0LnB1c2goaS5wYnJCdWZmZXIpKSxcIk9QQVFVRVwiIT09bi5hbHBoYU1vZGUmJlwiTUFTS1wiIT09bi5hbHBoYU1vZGV8fGUucHVzaChcIlVOUFJFTVVMVF9URVhUVVJFX0lOX1NIQURFUlwiKSxuLmRlZmluZWR8fGUucHVzaChcIkRJRkZVU0VfU0hBREVEXCIpLGUucHVzaChcIlVTRV9TVEFOREFSRF9ERVJJVkFUSVZFU1wiKTt9ZnVuY3Rpb24gU0EoZSx0LGkscixuLG8pe2NvbnN0IHM9aS5wYWludC5nZXQoXCJtb2RlbC1vcGFjaXR5XCIpLGE9dC5jb250ZXh0LGw9bmV3IE14KHQuY29udGV4dC5nbC5MRVFVQUwsTXguUmVhZFdyaXRlLHQuZGVwdGhSYW5nZUZvcjNEKSxjPXQudHJhbnNmb3JtLGg9ZS5tZXNoLHU9aC5tYXRlcmlhbCxkPXUucGJyTWV0YWxsaWNSb3VnaG5lc3MscD10LnN0eWxlLmZvZztsZXQgZjtmPVwicGl4ZWxzXCI9PT10LnRyYW5zZm9ybS5wcm9qZWN0aW9uLnpBeGlzVW5pdD9bLi4uZS5ub2RlTW9kZWxNYXRyaXhdOkF1Lm11bHRpcGx5KFtdLHIuelNjYWxlTWF0cml4LGUubm9kZU1vZGVsTWF0cml4KSxBdS5tdWx0aXBseShmLHIubmVnQ2FtZXJhUG9zTWF0cml4LGYpO2NvbnN0IG09QXUuaW52ZXJ0KFtdLGYpO0F1LnRyYW5zcG9zZShtLG0pO2NvbnN0IF89aS5wYWludC5nZXQoXCJtb2RlbC1lbWlzc2l2ZS1zdHJlbmd0aFwiKS5jb25zdGFudE9yKDApLGc9VU0obmV3IEZsb2F0MzJBcnJheShlLndvcmxkVmlld1Byb2plY3Rpb24pLG5ldyBGbG9hdDMyQXJyYXkoZiksbmV3IEZsb2F0MzJBcnJheShtKSx0LHMsZC5iYXNlQ29sb3JGYWN0b3IsdS5lbWlzc2l2ZUZhY3RvcixkLm1ldGFsbGljRmFjdG9yLGQucm91Z2huZXNzRmFjdG9yLHUsXyxpKSx5PXtkZWZpbmVzOltdfSx4PVtdO0FBKHkuZGVmaW5lcyx4LGgsdCk7Y29uc3Qgdj10LnNoYWRvd1JlbmRlcmVyO3YmJih2LnVzZU5vcm1hbE9mZnNldD0hMSk7bGV0IGI9bnVsbDtpZihwKXtjb25zdCBpPU1BKGUubm9kZU1vZGVsTWF0cml4LHQudHJhbnNmb3JtKTtpZihiPW5ldyBGbG9hdDMyQXJyYXkoaSksXCJnbG9iZVwiIT09Yy5wcm9qZWN0aW9uLm5hbWUpe2NvbnN0IGU9aC5hYWJiLm1pbix0PWguYWFiYi5tYXgsW3Isbl09cC5nZXRPcGFjaXR5Rm9yQm91bmRzKGksZVswXSxlWzFdLHRbMF0sdFsxXSk7eS5vdmVycmlkZUZvZz1yPj1md3x8bj49Znc7fX1jb25zdCB3PWVNKHQsaS5wYWludC5nZXQoXCJtb2RlbC1jdXRvZmYtZmFkZS1yYW5nZVwiKSk7dy5zaG91bGRSZW5kZXJDdXRvZmYmJnkuZGVmaW5lcy5wdXNoKFwiUkVOREVSX0NVVE9GRlwiKTtjb25zdCBUPXQuZ2V0T3JDcmVhdGVQcm9ncmFtKFwibW9kZWxcIix5KTt0LnVwbG9hZENvbW1vblVuaWZvcm1zKGEsVCxudWxsLGIsdyksXCJzaGFkb3dcIiE9PXQucmVuZGVyUGFzcyYmdiYmdi5zZXR1cFNoYWRvd3NGcm9tTWF0cml4KGUubm9kZU1vZGVsTWF0cml4LFQpLFQuZHJhdyh0LGEuZ2wuVFJJQU5HTEVTLGwsbixvLGgubWF0ZXJpYWwuZG91YmxlU2lkZWQ/RHguZGlzYWJsZWQ6RHguYmFja0NDVyxnLGkuaWQsaC52ZXJ0ZXhCdWZmZXIsaC5pbmRleEJ1ZmZlcixoLnNlZ21lbnRzLGkucGFpbnQsdC50cmFuc2Zvcm0uem9vbSx2b2lkIDAseCk7fWZ1bmN0aW9uIElBKGUsdCxpLHIsbixvLHMpe2xldCBhO2E9XCJnbG9iZVwiPT09ZS5wcm9qZWN0aW9uLm5hbWU/QXYoaSxlKTpbLi4uaV0sQXUubXVsdGlwbHkoYSxhLHQubWF0cml4KTtjb25zdCBsPUF1Lm11bHRpcGx5KFtdLHIsYSk7aWYodC5tZXNoZXMpZm9yKGNvbnN0IGUgb2YgdC5tZXNoZXMpe2lmKFwiQkxFTkRcIiE9PWUubWF0ZXJpYWwuYWxwaGFNb2RlKXtzLnB1c2goe21lc2g6ZSxkZXB0aDowLG1vZGVsSW5kZXg6bix3b3JsZFZpZXdQcm9qZWN0aW9uOmwsbm9kZU1vZGVsTWF0cml4OmF9KTtjb250aW51ZX1jb25zdCB0PUR1LnRyYW5zZm9ybU1hdDQoW10sZS5jZW50cm9pZCxsKTt0WzJdPjAmJm8ucHVzaCh7bWVzaDplLGRlcHRoOnRbMl0sbW9kZWxJbmRleDpuLHdvcmxkVmlld1Byb2plY3Rpb246bCxub2RlTW9kZWxNYXRyaXg6YX0pO31pZih0LmNoaWxkcmVuKWZvcihjb25zdCBhIG9mIHQuY2hpbGRyZW4pSUEoZSxhLGkscixuLG8scyk7fWZ1bmN0aW9uIENBKGUsdCxpLHIpe2NvbnN0IG49aS5zaGFkb3dSZW5kZXJlcjtpZighbilyZXR1cm47Y29uc3Qgbz1uLmdldFNoYWRvd1Bhc3NEZXB0aE1vZGUoKSxzPW4uZ2V0U2hhZG93UGFzc0NvbG9yTW9kZSgpLGE9bi5jYWxjdWxhdGVTaGFkb3dQYXNzTWF0cml4RnJvbU1hdHJpeCh0KSxsPWpNKGEpO2kuZ2V0T3JDcmVhdGVQcm9ncmFtKFwibW9kZWxEZXB0aFwiLHtkZWZpbmVzOltcIkRFUFRIX1RFWFRVUkVcIl19KS5kcmF3KGksaS5jb250ZXh0LmdsLlRSSUFOR0xFUyxvLFN4LmRpc2FibGVkLHMsRHguYmFja0NDVyxsLHIuaWQsZS52ZXJ0ZXhCdWZmZXIsZS5pbmRleEJ1ZmZlcixlLnNlZ21lbnRzLHIucGFpbnQsaS50cmFuc2Zvcm0uem9vbSx2b2lkIDAsdm9pZCAwKTt9ZnVuY3Rpb24gekEoZSx0LGkpe2NvbnN0IHI9dC51cGRhdGVab29tQmFzZWRQYWludFByb3BlcnRpZXMoKSxuPWZ1bmN0aW9uKGUsdCxpKXtsZXQgcixuLG8scz1lLnRlcnJhaW4/ZS50ZXJyYWluLmV4YWdnZXJhdGlvbigpOjA7aWYoZS50ZXJyYWluJiZzPjApe2NvbnN0IHQ9ZS50ZXJyYWluLG49dC5maW5kREVNVGlsZUZvcihpKTtuJiZuLmRlbT9yPUptLmNyZWF0ZSh0LGksbik6cz0wO31pZigwPT09cyYmKHQudGVycmFpbkVsZXZhdGlvbk1pbj0wLHQudGVycmFpbkVsZXZhdGlvbk1heD0wKSxzPT09dC52YWxpZEZvckV4YWdnZXJhdGlvbiYmKDA9PT1zfHxyJiZyLl9kZW1UaWxlJiZyLl9kZW1UaWxlLnRpbGVJRD09PXQudmFsaWRGb3JERU1UaWxlLmlkJiZyLl9kZW0uX3RpbWVzdGFtcD09PXQudmFsaWRGb3JERU1UaWxlLnRpbWVzdGFtcCkpcmV0dXJuICExO2Zvcihjb25zdCBlIGluIHQuaW5zdGFuY2VzUGVyTW9kZWwpe2NvbnN0IGk9dC5pbnN0YW5jZXNQZXJNb2RlbFtlXTtmb3IobGV0IGU9MDtlPGkuaW5zdGFuY2VkRGF0YUFycmF5Lmxlbmd0aDsrK2Upe2NvbnN0IGE9KHI/cypyLmdldEVsZXZhdGlvbkF0KDB8aS5pbnN0YW5jZWREYXRhQXJyYXkuZmxvYXQzMlsxNiplXSwwfGkuaW5zdGFuY2VkRGF0YUFycmF5LmZsb2F0MzJbMTYqZSsxXSwhMCwhMCk6MCkraS5pbnN0YW5jZXNFdmFsdWF0ZWRFbGV2YXRpb25bZV07aS5pbnN0YW5jZWREYXRhQXJyYXkuZmxvYXQzMlsxNiplKzZdPWEsbj1uP01hdGgubWluKHQudGVycmFpbkVsZXZhdGlvbk1pbixhKTphLG89bz9NYXRoLm1heCh0LnRlcnJhaW5FbGV2YXRpb25NYXgsYSk6YTt9fXJldHVybiB0LnRlcnJhaW5FbGV2YXRpb25NaW49bnx8MCx0LnRlcnJhaW5FbGV2YXRpb25NYXg9b3x8MCx0LnZhbGlkRm9yRXhhZ2dlcmF0aW9uPXMsdC52YWxpZEZvckRFTVRpbGU9ciYmci5fZGVtVGlsZT97aWQ6ci5fZGVtVGlsZS50aWxlSUQsdGltZXN0YW1wOnIuX2RlbS5fdGltZXN0YW1wfTp7aWQ6dm9pZCAwLHRpbWVzdGFtcDowfSwhMH0oZSx0LGkpOyhyfHxuKSYmKHQudXBsb2FkZWQ9ITEsdC51cGxvYWQoZS5jb250ZXh0KSk7fWNvbnN0IFBBPXtzaGFkb3dVbmlmb3Jtc0luaXRpYWxpemVkOiExLHVzZVNpbmdsZVNoYWRvd0Nhc2NhZGU6ITEsdGlsZU1hdHJpeDpuZXcgRmxvYXQ2NEFycmF5KDE2KSxzaGFkb3dUaWxlTWF0cml4Om5ldyBGbG9hdDMyQXJyYXkoMTYpLGFhYmI6bmV3IGVkKFswLDAsMF0sW2NyLGNyLDBdKX07ZnVuY3Rpb24gREEoZSx0KXtjb25zdCBpPTE8PGUuY2Fub25pY2FsLnoscj10LmdldEZyZWVDYW1lcmFPcHRpb25zKCkucG9zaXRpb24sbj10LmVsZXZhdGlvbixvPWUuY2Fub25pY2FsLngvaSxzPShlLmNhbm9uaWNhbC54KzEpL2ksYT1lLmNhbm9uaWNhbC55L2ksbD0oZS5jYW5vbmljYWwueSsxKS9pO2xldCBjPXQuX2NlbnRlckFsdGl0dWRlO2lmKG4pe2NvbnN0IHQ9bi5nZXRNaW5NYXhGb3JUaWxlKGUpO3QmJnQubWF4PmMmJihjPXQubWF4KTt9Y29uc3QgaD16KHIueCxvLHMpLXIueCx1PXooci55LGEsbCktci55LGQ9UWQoYyx0LmNlbnRlci5sYXQpLXIuejtyZXR1cm4gdC5fem9vbUZyb21NZXJjYXRvclooTWF0aC5zcXJ0KGgqaCt1KnUrZCpkKSl9ZnVuY3Rpb24gUkEoZSx0LGkscixuLG8scyl7Y29uc3QgYT1lLmNvbnRleHQsbD1cInNoYWRvd1wiPT09ZS5yZW5kZXJQYXNzLGM9ZS5zaGFkb3dSZW5kZXJlcixoPWwmJmM/Yy5nZXRTaGFkb3dQYXNzRGVwdGhNb2RlKCk6bmV3IE14KGEuZ2wuTEVRVUFMLE14LlJlYWRXcml0ZSxlLmRlcHRoUmFuZ2VGb3IzRCksdT1lLmlzVGlsZUFmZmVjdGVkQnlGb2cobyk7aWYoaS5tZXNoZXMpZm9yKGNvbnN0IGQgb2YgaS5tZXNoZXMpe2NvbnN0IHA9W1wiTU9ERUxfUE9TSVRJT05fT05fR1BVXCJdLGY9W107bGV0IG0sXyxnO3IuaW5zdGFuY2VkRGF0YUFycmF5Lmxlbmd0aD4yMCYmcC5wdXNoKFwiSU5TVEFOQ0VEX0FSUkFZU1wiKTtjb25zdCB5PWVNKGUsdC5wYWludC5nZXQoXCJtb2RlbC1jdXRvZmYtZmFkZS1yYW5nZVwiKSk7aWYoeS5zaG91bGRSZW5kZXJDdXRvZmYmJnAucHVzaChcIlJFTkRFUl9DVVRPRkZcIiksbCYmYyltPWUuZ2V0T3JDcmVhdGVQcm9ncmFtKFwibW9kZWxEZXB0aFwiLHtkZWZpbmVzOnB9KSxfPWpNKHMuc2hhZG93VGlsZU1hdHJpeCxzLnNoYWRvd1RpbGVNYXRyaXgsRmxvYXQzMkFycmF5LmZyb20oaS5tYXRyaXgpKSxnPWMuZ2V0U2hhZG93UGFzc0NvbG9yTW9kZSgpO2Vsc2Uge0FBKHAsZixkLGUpLG09ZS5nZXRPckNyZWF0ZVByb2dyYW0oXCJtb2RlbFwiLHtkZWZpbmVzOnAsb3ZlcnJpZGVGb2c6dX0pO2NvbnN0IHI9ZC5tYXRlcmlhbCxsPXIucGJyTWV0YWxsaWNSb3VnaG5lc3MsaD10LnBhaW50LmdldChcIm1vZGVsLW9wYWNpdHlcIikseD10LnBhaW50LmdldChcIm1vZGVsLWVtaXNzaXZlLXN0cmVuZ3RoXCIpLmNvbnN0YW50T3IoMCk7Xz1VTShvLmV4cGFuZGVkUHJvak1hdHJpeCxGbG9hdDMyQXJyYXkuZnJvbShpLm1hdHJpeCksbmV3IEZsb2F0MzJBcnJheSgxNiksZSxoLGwuYmFzZUNvbG9yRmFjdG9yLHIuZW1pc3NpdmVGYWN0b3IsbC5tZXRhbGxpY0ZhY3RvcixsLnJvdWdobmVzc0ZhY3RvcixyLHgsdCxuKSxjJiYocy5zaGFkb3dVbmlmb3Jtc0luaXRpYWxpemVkP20uc2V0U2hhZG93VW5pZm9ybVZhbHVlcyhhLGMuZ2V0U2hhZG93VW5pZm9ybVZhbHVlcygpKTooYy5zZXR1cFNoYWRvd3Moby50b1Vud3JhcHBlZCgpLG0sXCJtb2RlbC10aWxlXCIsby5vdmVyc2NhbGVkWikscy5zaGFkb3dVbmlmb3Jtc0luaXRpYWxpemVkPSEwKSksZz15LnNob3VsZFJlbmRlckN1dG9mZnx8aDwxfHxcIk9QQVFVRVwiIT09ci5hbHBoYU1vZGU/Q3guYWxwaGFCbGVuZGVkOkN4LnVuYmxlbmRlZDt9ZS51cGxvYWRDb21tb25Vbmlmb3JtcyhhLG0sby50b1Vud3JhcHBlZCgpLG51bGwseSk7Y29uc3QgeD1kLm1hdGVyaWFsLmRvdWJsZVNpZGVkP0R4LmRpc2FibGVkOkR4LmJhY2tDQ1c7aWYoci5pbnN0YW5jZWREYXRhQXJyYXkubGVuZ3RoPjIwKWYucHVzaChyLmluc3RhbmNlZERhdGFCdWZmZXIpLG0uZHJhdyhlLGEuZ2wuVFJJQU5HTEVTLGgsU3guZGlzYWJsZWQsZyx4LF8sdC5pZCxkLnZlcnRleEJ1ZmZlcixkLmluZGV4QnVmZmVyLGQuc2VnbWVudHMsdC5wYWludCxlLnRyYW5zZm9ybS56b29tLHZvaWQgMCxmLHIuaW5zdGFuY2VkRGF0YUFycmF5Lmxlbmd0aCk7ZWxzZSB7Y29uc3QgaT1sP1widV9pbnN0YW5jZVwiOlwidV9ub3JtYWxfbWF0cml4XCI7Zm9yKGxldCBuPTA7bjxyLmluc3RhbmNlZERhdGFBcnJheS5sZW5ndGg7KytuKV9baV09bmV3IEZsb2F0MzJBcnJheShyLmluc3RhbmNlZERhdGFBcnJheS5hcnJheUJ1ZmZlciw2NCpuLDE2KSxtLmRyYXcoZSxhLmdsLlRSSUFOR0xFUyxoLFN4LmRpc2FibGVkLGcseCxfLHQuaWQsZC52ZXJ0ZXhCdWZmZXIsZC5pbmRleEJ1ZmZlcixkLnNlZ21lbnRzLHQucGFpbnQsZS50cmFuc2Zvcm0uem9vbSx2b2lkIDAsZik7fX1pZihpLmNoaWxkcmVuKWZvcihjb25zdCBhIG9mIGkuY2hpbGRyZW4pUkEoZSx0LGEscixuLG8scyk7fWNvbnN0IExBPVsxLC0xLDFdO2Z1bmN0aW9uIGtBKGUsdCxpLHIpe2lmKCFpLm1vZGVsTWFuYWdlcilyZXR1cm4gITA7Y29uc3Qgbj1pLm1vZGVsTWFuYWdlcjtpZighaS5zaGFkb3dSZW5kZXJlcilyZXR1cm4gITA7Y29uc3Qgbz1pLnNoYWRvd1JlbmRlcmVyLHM9dC5hYWJiO2xldCBhPSEwLGw9ZS5tYXhIZWlnaHQ7aWYoMD09PWwpe2xldCB0PTA7Zm9yKGNvbnN0IGkgaW4gZS5pbnN0YW5jZXNQZXJNb2RlbCl7Y29uc3QgZT1uLmdldE1vZGVsKGkscik7ZT90PU1hdGgubWF4KHQsTWF0aC5tYXgoTWF0aC5tYXgoZS5hYWJiLm1heFswXSxlLmFhYmIubWF4WzFdKSxlLmFhYmIubWF4WzJdKSk6YT0hMTt9bD1lLm1heFNjYWxlKnQqMS40MStlLm1heFZlcnRpY2FsT2Zmc2V0LGEmJihlLm1heEhlaWdodD1sKTt9cy5tYXhbMl09bCxzLm1pblsyXSs9ZS50ZXJyYWluRWxldmF0aW9uTWluLHMubWF4WzJdKz1lLnRlcnJhaW5FbGV2YXRpb25NYXgsRHUudHJhbnNmb3JtTWF0NChzLm1pbixzLm1pbix0LnRpbGVNYXRyaXgpLER1LnRyYW5zZm9ybU1hdDQocy5tYXgscy5tYXgsdC50aWxlTWF0cml4KTtjb25zdCBjPXMuaW50ZXJzZWN0cyhvLmdldEN1cnJlbnRDYXNjYWRlRnJ1c3R1bSgpKTtyZXR1cm4gMD09PWkuY3VycmVudFNoYWRvd0Nhc2NhZGUmJihlLmlzSW5zaWRlRmlyc3RTaGFkb3dNYXBGcnVzdHVtPTI9PT1jKSwwPT09Y31jbGFzcyBPQXt9Y2xhc3MgQkF7Y29uc3RydWN0b3IoKXt0aGlzLl9zdG9yYWdlPW5ldyBNYXA7fWdldExpbmVzRnJvbVRyaWFuZ2xlc0J1ZmZlcihlLHQsaSl7e2NvbnN0IGk9dGhpcy5fc3RvcmFnZS5nZXQodC5pZCk7aWYoaSlyZXR1cm4gaS5sYXN0VXNlZEZyYW1lSWR4PWUsaS5idWZ9Y29uc3Qgcj1pLmdsLG49ci5nZXRCdWZmZXJQYXJhbWV0ZXIoci5FTEVNRU5UX0FSUkFZX0JVRkZFUixyLkJVRkZFUl9TSVpFKSxvPW5ldyBBcnJheUJ1ZmZlcihuKSxzPW5ldyBJbnQxNkFycmF5KG8pO3IuZ2V0QnVmZmVyU3ViRGF0YShyLkVMRU1FTlRfQVJSQVlfQlVGRkVSLDAsbmV3IEludDE2QXJyYXkobykpO2NvbnN0IGE9bmV3IGphO2ZvcihsZXQgZT0wO2U8bi8yO2UrPTMpe2NvbnN0IHQ9c1tlXSxpPXNbZSsxXSxyPXNbZSsyXTthLmVtcGxhY2VCYWNrKHQsaSksYS5lbXBsYWNlQmFjayhpLHIpLGEuZW1wbGFjZUJhY2socix0KTt9Y29uc3QgbD1pLmJpbmRWZXJ0ZXhBcnJheU9FUy5jdXJyZW50LGM9bmV3IE9BO3JldHVybiBjLmJ1Zj1uZXcgRnkoaSxhKSxjLmxhc3RVc2VkRnJhbWVJZHg9ZSx0aGlzLl9zdG9yYWdlLnNldCh0LmlkLGMpLGkuYmluZFZlcnRleEFycmF5T0VTLnNldChsKSxjLmJ1Zn11cGRhdGUoZSl7Zm9yKGNvbnN0W3QsaV1vZiB0aGlzLl9zdG9yYWdlKWUtaS5sYXN0VXNlZEZyYW1lSWR4PjMwJiYoaS5idWYuZGVzdHJveSgpLHRoaXMuX3N0b3JhZ2UuZGVsZXRlKHQpKTt9ZGVzdHJveSgpe2Zvcihjb25zdFtlLHRdb2YgdGhpcy5fc3RvcmFnZSl0LmJ1Zi5kZXN0cm95KCksdGhpcy5fc3RvcmFnZS5kZWxldGUoZSk7fX1jb25zdCBGQT17c3ltYm9sOmZ1bmN0aW9uKGUsdCxpLHIsbil7aWYoXCJ0cmFuc2x1Y2VudFwiIT09ZS5yZW5kZXJQYXNzKXJldHVybjtjb25zdCBvPVN4LmRpc2FibGVkLHM9ZS5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCk7aS5sYXlvdXQuZ2V0KFwidGV4dC12YXJpYWJsZS1hbmNob3JcIikmJmZ1bmN0aW9uKGUsdCxpLHIsbixvLHMpe2NvbnN0IGE9dC50cmFuc2Zvcm0sbD1cIm1hcFwiPT09bixjPVwibWFwXCI9PT1vO2Zvcihjb25zdCB0IG9mIGUpe2NvbnN0IGU9ci5nZXRUaWxlKHQpLG49ZS5nZXRCdWNrZXQoaSk7aWYoIW58fCFuLnRleHR8fCFuLnRleHQuc2VnbWVudHMuZ2V0KCkubGVuZ3RoKWNvbnRpbnVlO2NvbnN0IG89bV8obi50ZXh0U2l6ZURhdGEsYS56b29tKSxoPVlUKHQsbi5nZXRQcm9qZWN0aW9uKCksYSksdT1hLmNhbGN1bGF0ZVBpeGVsc1RvVGlsZVVuaXRzTWF0cml4KGUpLGQ9c3YoaCxlLnRpbGVJRC5jYW5vbmljYWwsYyxsLGEsbi5nZXRQcm9qZWN0aW9uKCksdSkscD1uLmhhc0ljb25UZXh0Rml0KCkmJm4uaGFzSWNvbkRhdGEoKTtpZihvKXtjb25zdCBpPU1hdGgucG93KDIsYS56b29tLWUudGlsZUlELm92ZXJzY2FsZWRaKTtITShuLGwsYyxzLF9fLGEsZCx0LGksbyxwKTt9fX0ocixlLGksdCxpLmxheW91dC5nZXQoXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiKSxpLmxheW91dC5nZXQoXCJ0ZXh0LXBpdGNoLWFsaWdubWVudFwiKSxuKSwwIT09aS5wYWludC5nZXQoXCJpY29uLW9wYWNpdHlcIikuY29uc3RhbnRPcigxKSYmWU0oZSx0LGksciwhMSxpLnBhaW50LmdldChcImljb24tdHJhbnNsYXRlXCIpLGkucGFpbnQuZ2V0KFwiaWNvbi10cmFuc2xhdGUtYW5jaG9yXCIpLGkubGF5b3V0LmdldChcImljb24tcm90YXRpb24tYWxpZ25tZW50XCIpLGkubGF5b3V0LmdldChcImljb24tcGl0Y2gtYWxpZ25tZW50XCIpLGkubGF5b3V0LmdldChcImljb24ta2VlcC11cHJpZ2h0XCIpLGkucGFpbnQuZ2V0KFwiaWNvbi1jb2xvci1zYXR1cmF0aW9uXCIpLG8scyksMCE9PWkucGFpbnQuZ2V0KFwidGV4dC1vcGFjaXR5XCIpLmNvbnN0YW50T3IoMSkmJllNKGUsdCxpLHIsITAsaS5wYWludC5nZXQoXCJ0ZXh0LXRyYW5zbGF0ZVwiKSxpLnBhaW50LmdldChcInRleHQtdHJhbnNsYXRlLWFuY2hvclwiKSxpLmxheW91dC5nZXQoXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiKSxpLmxheW91dC5nZXQoXCJ0ZXh0LXBpdGNoLWFsaWdubWVudFwiKSxpLmxheW91dC5nZXQoXCJ0ZXh0LWtlZXAtdXByaWdodFwiKSxpLnBhaW50LmdldChcImljb24tY29sb3Itc2F0dXJhdGlvblwiKSxvLHMpLHQubWFwLnNob3dDb2xsaXNpb25Cb3hlcyYmKFpNKGUsdCxpLHIsaS5wYWludC5nZXQoXCJ0ZXh0LXRyYW5zbGF0ZVwiKSxpLnBhaW50LmdldChcInRleHQtdHJhbnNsYXRlLWFuY2hvclwiKSwhMCksWk0oZSx0LGkscixpLnBhaW50LmdldChcImljb24tdHJhbnNsYXRlXCIpLGkucGFpbnQuZ2V0KFwiaWNvbi10cmFuc2xhdGUtYW5jaG9yXCIpLCExKSk7fSxjaXJjbGU6ZnVuY3Rpb24oZSx0LGkscil7aWYoXCJ0cmFuc2x1Y2VudFwiIT09ZS5yZW5kZXJQYXNzKXJldHVybjtjb25zdCBuPWkucGFpbnQuZ2V0KFwiY2lyY2xlLW9wYWNpdHlcIiksbz1pLnBhaW50LmdldChcImNpcmNsZS1zdHJva2Utd2lkdGhcIikscz1pLnBhaW50LmdldChcImNpcmNsZS1zdHJva2Utb3BhY2l0eVwiKSxhPXZvaWQgMCE9PWkubGF5b3V0LmdldChcImNpcmNsZS1zb3J0LWtleVwiKS5jb25zdGFudE9yKDEpLGw9aS5wYWludC5nZXQoXCJjaXJjbGUtZW1pc3NpdmUtc3RyZW5ndGhcIik7aWYoMD09PW4uY29uc3RhbnRPcigxKSYmKDA9PT1vLmNvbnN0YW50T3IoMSl8fDA9PT1zLmNvbnN0YW50T3IoMSkpKXJldHVybjtjb25zdCBjPWUuY29udGV4dCxoPWMuZ2wsdT1lLnRyYW5zZm9ybSxkPWUuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCxNeC5SZWFkT25seSkscD1TeC5kaXNhYmxlZCxmPWUuY29sb3JNb2RlRm9yRHJhcGFibGVMYXllclJlbmRlclBhc3MobCksbT1cImdsb2JlXCI9PT11LnByb2plY3Rpb24ubmFtZSxfPVtLZCh1LmNlbnRlci5sbmcpLEpkKHUuY2VudGVyLmxhdCldLGc9W107Zm9yKGxldCBuPTA7bjxyLmxlbmd0aDtuKyspe2NvbnN0IG89cltuXSxzPXQuZ2V0VGlsZShvKSxsPXMuZ2V0QnVja2V0KGkpO2lmKCFsfHxsLnByb2plY3Rpb24ubmFtZSE9PXUucHJvamVjdGlvbi5uYW1lKWNvbnRpbnVlO2NvbnN0IGM9bC5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KGkuaWQpLGg9R3AoaSksZD1lLmlzVGlsZUFmZmVjdGVkQnlGb2cobyk7bSYmaC5wdXNoKFwiUFJPSkVDVElPTl9HTE9CRV9WSUVXXCIpO2NvbnN0IHA9ZS5nZXRPckNyZWF0ZVByb2dyYW0oXCJjaXJjbGVcIix7Y29uZmlnOmMsZGVmaW5lczpoLG92ZXJyaWRlRm9nOmR9KSxmPWwubGF5b3V0VmVydGV4QnVmZmVyLHk9bC5nbG9iZUV4dFZlcnRleEJ1ZmZlcix4PWwuaW5kZXhCdWZmZXIsdj11LnByb2plY3Rpb24uY3JlYXRlSW52ZXJzaW9uTWF0cml4KHUsby5jYW5vbmljYWwpLGI9e3Byb2dyYW1Db25maWd1cmF0aW9uOmMscHJvZ3JhbTpwLGxheW91dFZlcnRleEJ1ZmZlcjpmLGdsb2JlRXh0VmVydGV4QnVmZmVyOnksaW5kZXhCdWZmZXI6eCx1bmlmb3JtVmFsdWVzOmpwKGUsbyxzLHYsXyxpKSx0aWxlOnN9O2lmKGEpe2NvbnN0IGU9bC5zZWdtZW50cy5nZXQoKTtmb3IoY29uc3QgdCBvZiBlKWcucHVzaCh7c2VnbWVudHM6bmV3IHhsKFt0XSksc29ydEtleTp0LnNvcnRLZXksc3RhdGU6Yn0pO31lbHNlIGcucHVzaCh7c2VnbWVudHM6bC5zZWdtZW50cyxzb3J0S2V5OjAsc3RhdGU6Yn0pO31hJiZnLnNvcnQoKChlLHQpPT5lLnNvcnRLZXktdC5zb3J0S2V5KSk7Y29uc3QgeT17dXNlRGVwdGhGb3JPY2NsdXNpb246dS5kZXB0aE9jY2x1c2lvbkZvclN5bWJvbHNBbmRDaXJjbGVzfTtmb3IoY29uc3QgdCBvZiBnKXtjb25zdHtwcm9ncmFtQ29uZmlndXJhdGlvbjpyLHByb2dyYW06bixsYXlvdXRWZXJ0ZXhCdWZmZXI6byxnbG9iZUV4dFZlcnRleEJ1ZmZlcjpzLGluZGV4QnVmZmVyOmEsdW5pZm9ybVZhbHVlczpsLHRpbGU6bX09dC5zdGF0ZSxfPXQuc2VnbWVudHM7ZS50ZXJyYWluJiZlLnRlcnJhaW4uc2V0dXBFbGV2YXRpb25EcmF3KG0sbix5KSxlLnVwbG9hZENvbW1vblVuaWZvcm1zKGMsbixtLnRpbGVJRC50b1Vud3JhcHBlZCgpKSxuLmRyYXcoZSxoLlRSSUFOR0xFUyxkLHAsZixEeC5kaXNhYmxlZCxsLGkuaWQsbyxhLF8saS5wYWludCx1Lnpvb20scixbc10pO319LGhlYXRtYXA6ZnVuY3Rpb24oZSx0LGkscil7aWYoMCE9PWkucGFpbnQuZ2V0KFwiaGVhdG1hcC1vcGFjaXR5XCIpKWlmKFwib2Zmc2NyZWVuXCI9PT1lLnJlbmRlclBhc3Mpe2NvbnN0IG49ZS5jb250ZXh0LG89bi5nbCxzPVN4LmRpc2FibGVkLGE9bmV3IEN4KFtvLk9ORSxvLk9ORSxvLk9ORSxvLk9ORV0saGkudHJhbnNwYXJlbnQsWyEwLCEwLCEwLCEwXSk7IWZ1bmN0aW9uKGUsdCxpLHIpe2NvbnN0IG49ZS5nbCxvPXQud2lkdGgqcixzPXQuaGVpZ2h0KnI7ZS5hY3RpdmVUZXh0dXJlLnNldChuLlRFWFRVUkUxKSxlLnZpZXdwb3J0LnNldChbMCwwLG8sc10pO2xldCBhPWkuaGVhdG1hcEZibztpZighYXx8YSYmKGEud2lkdGghPT1vfHxhLmhlaWdodCE9PXMpKXthJiZhLmRlc3Ryb3koKTtjb25zdCB0PW4uY3JlYXRlVGV4dHVyZSgpO24uYmluZFRleHR1cmUobi5URVhUVVJFXzJELHQpLG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfMkQsbi5URVhUVVJFX1dSQVBfUyxuLkNMQU1QX1RPX0VER0UpLG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfMkQsbi5URVhUVVJFX1dSQVBfVCxuLkNMQU1QX1RPX0VER0UpLG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfMkQsbi5URVhUVVJFX01JTl9GSUxURVIsbi5MSU5FQVIpLG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfMkQsbi5URVhUVVJFX01BR19GSUxURVIsbi5MSU5FQVIpLGE9aS5oZWF0bWFwRmJvPWUuY3JlYXRlRnJhbWVidWZmZXIobyxzLCEwLG51bGwpLGZ1bmN0aW9uKGUsdCxpLHIsbixvKXtjb25zdCBzPWUuZ2w7cy50ZXhJbWFnZTJEKHMuVEVYVFVSRV8yRCwwLGUuZXh0UmVuZGVyVG9UZXh0dXJlSGFsZkZsb2F0P3MuUkdCQTE2RjpzLlJHQkEsbixvLDAscy5SR0JBLGUuZXh0UmVuZGVyVG9UZXh0dXJlSGFsZkZsb2F0P3MuSEFMRl9GTE9BVDpzLlVOU0lHTkVEX0JZVEUsbnVsbCksci5jb2xvckF0dGFjaG1lbnQuc2V0KGkpO30oZSwwLHQsYSxvLHMpO31lbHNlIG4uYmluZFRleHR1cmUobi5URVhUVVJFXzJELGEuY29sb3JBdHRhY2htZW50LmdldCgpKSxlLmJpbmRGcmFtZWJ1ZmZlci5zZXQoYS5mcmFtZWJ1ZmZlcik7fShuLGUsaSxcImdsb2JlXCI9PT1lLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWU/LjU6LjI1KSxuLmNsZWFyKHtjb2xvcjpoaS50cmFuc3BhcmVudH0pO2NvbnN0IGw9ZS50cmFuc2Zvcm0sYz1cImdsb2JlXCI9PT1sLnByb2plY3Rpb24ubmFtZSxoPWM/W1wiUFJPSkVDVElPTl9HTE9CRV9WSUVXXCJdOltdLHU9Yz9EeC5mcm9udENDVzpEeC5kaXNhYmxlZCxkPVtLZChsLmNlbnRlci5sbmcpLEpkKGwuY2VudGVyLmxhdCldO2ZvcihsZXQgcD0wO3A8ci5sZW5ndGg7cCsrKXtjb25zdCBmPXJbcF07aWYodC5oYXNSZW5kZXJhYmxlUGFyZW50KGYpKWNvbnRpbnVlO2NvbnN0IG09dC5nZXRUaWxlKGYpLF89bS5nZXRCdWNrZXQoaSk7aWYoIV98fF8ucHJvamVjdGlvbi5uYW1lIT09bC5wcm9qZWN0aW9uLm5hbWUpY29udGludWU7Y29uc3QgZz1lLmlzVGlsZUFmZmVjdGVkQnlGb2coZikseT1fLnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQoaS5pZCkseD1lLmdldE9yQ3JlYXRlUHJvZ3JhbShcImhlYXRtYXBcIix7Y29uZmlnOnksZGVmaW5lczpoLG92ZXJyaWRlRm9nOmd9KSx7em9vbTp2fT1lLnRyYW5zZm9ybTtlLnRlcnJhaW4mJmUudGVycmFpbi5zZXR1cEVsZXZhdGlvbkRyYXcobSx4KSxlLnVwbG9hZENvbW1vblVuaWZvcm1zKG4seCxmLnRvVW53cmFwcGVkKCkpO2NvbnN0IGI9bC5wcm9qZWN0aW9uLmNyZWF0ZUludmVyc2lvbk1hdHJpeChsLGYuY2Fub25pY2FsKTt4LmRyYXcoZSxvLlRSSUFOR0xFUyxNeC5kaXNhYmxlZCxzLGEsdSxJTShlLGYsbSxiLGQsdixpLnBhaW50LmdldChcImhlYXRtYXAtaW50ZW5zaXR5XCIpKSxpLmlkLF8ubGF5b3V0VmVydGV4QnVmZmVyLF8uaW5kZXhCdWZmZXIsXy5zZWdtZW50cyxpLnBhaW50LGUudHJhbnNmb3JtLnpvb20seSxjP1tfLmdsb2JlRXh0VmVydGV4QnVmZmVyXTpudWxsKTt9bi52aWV3cG9ydC5zZXQoWzAsMCxlLndpZHRoLGUuaGVpZ2h0XSk7fWVsc2UgXCJ0cmFuc2x1Y2VudFwiPT09ZS5yZW5kZXJQYXNzJiYoZS5jb250ZXh0LnNldENvbG9yTW9kZShlLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSksZnVuY3Rpb24oZSx0KXtjb25zdCBpPWUuY29udGV4dCxyPWkuZ2wsbj10LmhlYXRtYXBGYm87aWYoIW4pcmV0dXJuO2kuYWN0aXZlVGV4dHVyZS5zZXQoci5URVhUVVJFMCksci5iaW5kVGV4dHVyZShyLlRFWFRVUkVfMkQsbi5jb2xvckF0dGFjaG1lbnQuZ2V0KCkpLGkuYWN0aXZlVGV4dHVyZS5zZXQoci5URVhUVVJFMSk7bGV0IG89dC5jb2xvclJhbXBUZXh0dXJlO298fChvPXQuY29sb3JSYW1wVGV4dHVyZT1uZXcgTXkoaSx0LmNvbG9yUmFtcCxyLlJHQkEpKSxvLmJpbmQoci5MSU5FQVIsci5DTEFNUF9UT19FREdFKSxlLmdldE9yQ3JlYXRlUHJvZ3JhbShcImhlYXRtYXBUZXh0dXJlXCIpLmRyYXcoZSxyLlRSSUFOR0xFUyxNeC5kaXNhYmxlZCxTeC5kaXNhYmxlZCxlLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxEeC5kaXNhYmxlZCwoKGUsdCxpLHIpPT4oe3VfaW1hZ2U6MCx1X2NvbG9yX3JhbXA6MSx1X29wYWNpdHk6dC5wYWludC5nZXQoXCJoZWF0bWFwLW9wYWNpdHlcIil9KSkoMCx0KSx0LmlkLGUudmlld3BvcnRCdWZmZXIsZS5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcixlLnZpZXdwb3J0U2VnbWVudHMsdC5wYWludCxlLnRyYW5zZm9ybS56b29tKTt9KGUsaSkpO30sbGluZTpmdW5jdGlvbihlLHQsaSxyKXtpZihcInRyYW5zbHVjZW50XCIhPT1lLnJlbmRlclBhc3MpcmV0dXJuO2NvbnN0IG49aS5wYWludC5nZXQoXCJsaW5lLW9wYWNpdHlcIiksbz1pLnBhaW50LmdldChcImxpbmUtd2lkdGhcIik7aWYoMD09PW4uY29uc3RhbnRPcigxKXx8MD09PW8uY29uc3RhbnRPcigxKSlyZXR1cm47Y29uc3Qgcz1pLnBhaW50LmdldChcImxpbmUtZW1pc3NpdmUtc3RyZW5ndGhcIiksYT1lLmRlcHRoTW9kZUZvclN1YmxheWVyKDAsTXguUmVhZE9ubHkpLGw9ZS5jb2xvck1vZGVGb3JEcmFwYWJsZUxheWVyUmVuZGVyUGFzcyhzKSxjPWUudGVycmFpbiYmZS50ZXJyYWluLnJlbmRlcmluZ1RvVGV4dHVyZT8xOmR0LmRldmljZVBpeGVsUmF0aW8saD1pLnBhaW50LmdldChcImxpbmUtZGFzaGFycmF5XCIpLHU9aC5jb25zdGFudE9yKDEpLGQ9aS5sYXlvdXQuZ2V0KFwibGluZS1jYXBcIikscD1pLnBhaW50LmdldChcImxpbmUtcGF0dGVyblwiKSxmPXAuY29uc3RhbnRPcigxKSxtPWkucGFpbnQuZ2V0KFwibGluZS1wYXR0ZXJuXCIpLmNvbnN0YW50T3IoMSksXz0xIT09aS5wYWludC5nZXQoXCJsaW5lLW9wYWNpdHlcIikuY29uc3RhbnRPcigxKTtsZXQgZz0hbSYmXztjb25zdCB5PWkucGFpbnQuZ2V0KFwibGluZS1ncmFkaWVudFwiKSx4PWY/XCJsaW5lUGF0dGVyblwiOlwibGluZVwiLHY9ZS5jb250ZXh0LGI9di5nbCx3PUdiKGkpO2UudGVycmFpbiYmZS50ZXJyYWluLmNsaXBPck1hc2tPdmVybGFwU3RlbmNpbFR5cGUoKSYmKGc9ITEpO2Zvcihjb25zdCBuIG9mIHIpe2NvbnN0IHI9dC5nZXRUaWxlKG4pO2lmKGYmJiFyLnBhdHRlcm5zTG9hZGVkKCkpY29udGludWU7Y29uc3Qgbz1yLmdldEJ1Y2tldChpKTtpZighbyljb250aW51ZTtlLnByZXBhcmVEcmF3VGlsZSgpO2NvbnN0IHM9by5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KGkuaWQpLG09ZS5pc1RpbGVBZmZlY3RlZEJ5Rm9nKG4pLF89ZS5nZXRPckNyZWF0ZVByb2dyYW0oeCx7Y29uZmlnOnMsZGVmaW5lczp3LG92ZXJyaWRlRm9nOm19KSxUPXAuY29uc3RhbnRPcihudWxsKTtpZihUJiZyLmltYWdlQXRsYXMpe2NvbnN0IGU9ci5pbWFnZUF0bGFzLnBhdHRlcm5Qb3NpdGlvbnNbVC50b1N0cmluZygpXTtlJiZzLnNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucyhlKTt9Y29uc3QgRT1oLmNvbnN0YW50T3IobnVsbCksTT1kLmNvbnN0YW50T3IobnVsbCk7aWYoIWYmJkUmJk0mJnIubGluZUF0bGFzKXtjb25zdCBlPXIubGluZUF0bGFzLmdldERhc2goRSxNKTtlJiZzLnNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucyhlKTt9bGV0W0EsU109aS5wYWludC5nZXQoXCJsaW5lLXRyaW0tb2Zmc2V0XCIpO2lmKFwicm91bmRcIj09PU18fFwic3F1YXJlXCI9PT1NKXtjb25zdCBlPTE7QSE9PVMmJigwPT09QSYmKEEtPWUpLDE9PT1TJiYoUys9ZSkpO31jb25zdCBJPWUudGVycmFpbj9uLnByb2pNYXRyaXg6bnVsbCxDPWY/VWIoZSxyLGksSSxjKTpOYihlLHIsaSxJLG8ubGluZUNsaXBzQXJyYXkubGVuZ3RoLGMsW0EsU10pO2lmKHkpe2NvbnN0IHI9by5ncmFkaWVudHNbaS5pZF07bGV0IHM9ci50ZXh0dXJlO2lmKGkuZ3JhZGllbnRWZXJzaW9uIT09ci52ZXJzaW9uKXtsZXQgYT0yNTY7aWYoaS5zdGVwSW50ZXJwb2xhbnQpe2NvbnN0IGk9dC5nZXRTb3VyY2UoKS5tYXh6b29tLHI9bi5jYW5vbmljYWwuej09PWk/TWF0aC5jZWlsKDE8PGUudHJhbnNmb3JtLm1heFpvb20tbi5jYW5vbmljYWwueik6MTthPXooVShvLm1heExpbmVMZW5ndGgvY3IqMTAyNCpyKSwyNTYsdi5tYXhUZXh0dXJlU2l6ZSk7fXIuZ3JhZGllbnQ9b2Yoe2V4cHJlc3Npb246aS5ncmFkaWVudEV4cHJlc3Npb24oKSxldmFsdWF0aW9uS2V5OlwibGluZVByb2dyZXNzXCIscmVzb2x1dGlvbjphLGltYWdlOnIuZ3JhZGllbnR8fHZvaWQgMCxjbGlwczpvLmxpbmVDbGlwc0FycmF5fSksci50ZXh0dXJlP3IudGV4dHVyZS51cGRhdGUoci5ncmFkaWVudCk6ci50ZXh0dXJlPW5ldyBNeSh2LHIuZ3JhZGllbnQsYi5SR0JBKSxyLnZlcnNpb249aS5ncmFkaWVudFZlcnNpb24scz1yLnRleHR1cmU7fXYuYWN0aXZlVGV4dHVyZS5zZXQoYi5URVhUVVJFMSkscy5iaW5kKGkuc3RlcEludGVycG9sYW50P2IuTkVBUkVTVDpiLkxJTkVBUixiLkNMQU1QX1RPX0VER0UpO311JiYodi5hY3RpdmVUZXh0dXJlLnNldChiLlRFWFRVUkUwKSxyLmxpbmVBdGxhc1RleHR1cmUmJnIubGluZUF0bGFzVGV4dHVyZS5iaW5kKGIuTElORUFSLGIuUkVQRUFUKSxzLnVwZGF0ZVBhaW50QnVmZmVycygpKSxmJiYodi5hY3RpdmVUZXh0dXJlLnNldChiLlRFWFRVUkUwKSxyLmltYWdlQXRsYXNUZXh0dXJlJiZyLmltYWdlQXRsYXNUZXh0dXJlLmJpbmQoYi5MSU5FQVIsYi5DTEFNUF9UT19FREdFKSxzLnVwZGF0ZVBhaW50QnVmZmVycygpKSxlLnVwbG9hZENvbW1vblVuaWZvcm1zKHYsXyxuLnRvVW53cmFwcGVkKCkpO2NvbnN0IFA9dD0+e18uZHJhdyhlLGIuVFJJQU5HTEVTLGEsdCxsLER4LmRpc2FibGVkLEMsaS5pZCxvLmxheW91dFZlcnRleEJ1ZmZlcixvLmluZGV4QnVmZmVyLG8uc2VnbWVudHMsaS5wYWludCxlLnRyYW5zZm9ybS56b29tLHMsW28ubGF5b3V0VmVydGV4QnVmZmVyMl0pO307aWYoZyl7Y29uc3QgdD1lLnN0ZW5jaWxNb2RlRm9yQ2xpcHBpbmcobikucmVmOzA9PT10JiZlLnRlcnJhaW4mJnYuY2xlYXIoe3N0ZW5jaWw6MH0pO2NvbnN0IGk9e2Z1bmM6Yi5FUVVBTCxtYXNrOjI1NX07Qy51X2FscGhhX2Rpc2NhcmRfdGhyZXNob2xkPS44LFAobmV3IFN4KGksdCwyNTUsYi5LRUVQLGIuS0VFUCxiLklOVkVSVCkpLEMudV9hbHBoYV9kaXNjYXJkX3RocmVzaG9sZD0wLFAobmV3IFN4KGksdCwyNTUsYi5LRUVQLGIuS0VFUCxiLktFRVApKTt9ZWxzZSBQKGUuc3RlbmNpbE1vZGVGb3JDbGlwcGluZyhuKSk7fWcmJihlLnJlc2V0U3RlbmNpbENsaXBwaW5nTWFza3MoKSxlLnRlcnJhaW4mJnYuY2xlYXIoe3N0ZW5jaWw6MH0pKTt9LGZpbGw6ZnVuY3Rpb24oZSx0LGkscil7Y29uc3Qgbj1pLnBhaW50LmdldChcImZpbGwtY29sb3JcIiksbz1pLnBhaW50LmdldChcImZpbGwtb3BhY2l0eVwiKTtpZigwPT09by5jb25zdGFudE9yKDEpKXJldHVybjtjb25zdCBzPWkucGFpbnQuZ2V0KFwiZmlsbC1lbWlzc2l2ZS1zdHJlbmd0aFwiKSxhPWUuY29sb3JNb2RlRm9yRHJhcGFibGVMYXllclJlbmRlclBhc3MocyksbD1pLnBhaW50LmdldChcImZpbGwtcGF0dGVyblwiKSxjPWUub3BhcXVlUGFzc0VuYWJsZWRGb3JMYXllcigpJiYhbC5jb25zdGFudE9yKDEpJiYxPT09bi5jb25zdGFudE9yKGhpLnRyYW5zcGFyZW50KS5hJiYxPT09by5jb25zdGFudE9yKDApP1wib3BhcXVlXCI6XCJ0cmFuc2x1Y2VudFwiO2lmKGUucmVuZGVyUGFzcz09PWMpe2NvbnN0IG49ZS5kZXB0aE1vZGVGb3JTdWJsYXllcigxLFwib3BhcXVlXCI9PT1lLnJlbmRlclBhc3M/TXguUmVhZFdyaXRlOk14LlJlYWRPbmx5KTtKTShlLHQsaSxyLG4sYSwhMSk7fWlmKFwidHJhbnNsdWNlbnRcIj09PWUucmVuZGVyUGFzcyYmaS5wYWludC5nZXQoXCJmaWxsLWFudGlhbGlhc1wiKSl7Y29uc3Qgbj1lLmRlcHRoTW9kZUZvclN1YmxheWVyKGkuZ2V0UGFpbnRQcm9wZXJ0eShcImZpbGwtb3V0bGluZS1jb2xvclwiKT8yOjAsTXguUmVhZE9ubHkpO0pNKGUsdCxpLHIsbixhLCEwKTt9fSxcImZpbGwtZXh0cnVzaW9uXCI6ZnVuY3Rpb24oZSx0LGkscil7Y29uc3Qgbj1pLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLW9wYWNpdHlcIiksbz1lLmNvbnRleHQscz1vLmdsLGE9ZS50ZXJyYWluLGw9YSYmYS5yZW5kZXJpbmdUb1RleHR1cmUsYz1pLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLWN1dG9mZi1mYWRlLXJhbmdlXCIpO2lmKDA9PT1uKXJldHVybjtjb25zdCBoPWUuY29uZmxhdGlvbkFjdGl2ZSYmZS5sYXllclVzZWRJbkNvbmZsYXRpb24oaSx0LmdldFNvdXJjZSgpKTtpZihoJiZmdW5jdGlvbihlLHQsaSxyKXtmb3IoY29uc3QgbiBvZiByKXtjb25zdCByPXQuZ2V0VGlsZShuKS5nZXRCdWNrZXQoaSk7ciYmKHIudXBkYXRlUmVwbGFjZW1lbnQobixlLnJlcGxhY2VtZW50U291cmNlKSxyLnVwbG9hZENlbnRyb2lkKGUuY29udGV4dCkpO319KGUsdCxpLHIpLGF8fGgpZm9yKGNvbnN0IG4gb2Ygcil7Y29uc3Qgcj10LmdldFRpbGUobikuZ2V0QnVja2V0KGkpO3ImJnRBKGUuY29udGV4dCx0LG4scixpLGEsaCk7fWlmKFwic2hhZG93XCI9PT1lLnJlbmRlclBhc3MmJmUuc2hhZG93UmVuZGVyZXIpe2NvbnN0IG89ZS5zaGFkb3dSZW5kZXJlcjtpZihhJiZuPC42NSYmaS5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW1wiZmlsbC1leHRydXNpb24tb3BhY2l0eVwiXS52YWx1ZS5leHByZXNzaW9uIGluc3RhbmNlb2YgQW8pcmV0dXJuO2NvbnN0IHM9by5nZXRTaGFkb3dQYXNzRGVwdGhNb2RlKCksbD1vLmdldFNoYWRvd1Bhc3NDb2xvck1vZGUoKTtRTShlLHQsaSxyLHMsU3guZGlzYWJsZWQsbCxoKTt9ZWxzZSBpZihcInRyYW5zbHVjZW50XCI9PT1lLnJlbmRlclBhc3Mpe2NvbnN0IHU9IWkucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tcGF0dGVyblwiKS5jb25zdGFudE9yKDEpO2lmKCFsKXtjb25zdCBvPW5ldyBNeChlLmNvbnRleHQuZ2wuTEVRVUFMLE14LlJlYWRXcml0ZSxlLmRlcHRoUmFuZ2VGb3IzRCk7MD09PWMmJjE9PT1uJiZ1P1FNKGUsdCxpLHIsbyxTeC5kaXNhYmxlZCxDeC51bmJsZW5kZWQsaCk6KFFNKGUsdCxpLHIsbyxTeC5kaXNhYmxlZCxDeC5kaXNhYmxlZCxoKSxRTShlLHQsaSxyLG8sZS5zdGVuY2lsTW9kZUZvcjNEKCksZS5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksaCksZS5yZXNldFN0ZW5jaWxDbGlwcGluZ01hc2tzKCkpO31pZihlLnN0eWxlLmVuYWJsZTNkTGlnaHRzKCkmJnUmJighYSYmXCJnbG9iZVwiIT09ZS50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lfHxsKSl7Y29uc3Qgbj1pLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLW9wYWNpdHlcIiksYz1pLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLWludGVuc2l0eVwiKSx1PWkucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24tZ3JvdW5kLXJhZGl1c1wiKSxkPWkucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tZmxvb2QtbGlnaHQtaW50ZW5zaXR5XCIpLHA9aS5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1mbG9vZC1saWdodC1jb2xvclwiKS50b0FycmF5MDEoKS5zbGljZSgwLDMpLGY9Yz4wJiZ1PjAsbT1kPjAsXz0oZSx0LGkpPT4oMS1pKSplK2kqdCxnPW89Pntjb25zdCBhPWUuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMSxNeC5SZWFkT25seSxzLkxFUVVBTCwhMCksbD1pLnBhaW50LmdldChvP1wiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24tZ3JvdW5kLWF0dGVudWF0aW9uXCI6XCJmaWxsLWV4dHJ1c2lvbi1mbG9vZC1saWdodC1ncm91bmQtYXR0ZW51YXRpb25cIiksZj1fKC4xLDMsbCksbT1lLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3I7aWYoIW0pe2NvbnN0IGw9bmV3IFN4KHtmdW5jOnMuQUxXQVlTLG1hc2s6MjU1fSwyNTUsMjU1LHMuS0VFUCxzLktFRVAscy5SRVBMQUNFKSxtPW5ldyBDeChbcy5PTkUscy5PTkUscy5PTkUscy5PTkVdLGhpLnRyYW5zcGFyZW50LFshMSwhMSwhMSwhMF0scy5NSU4pO2VBKGUsdCxpLHIsYSxsLG0sRHguZGlzYWJsZWQsbyxcInNkZlwiLG4sYyx1LGQscCxmLGgsITEpO317Y29uc3QgbD1tP1N4LmRpc2FibGVkOm5ldyBTeCh7ZnVuYzpzLkVRVUFMLG1hc2s6MjU1fSwyNTUsMjU1LHMuS0VFUCxzLkRFQ1Iscy5ERUNSKSxfPW0/ZS5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCk6bmV3IEN4KFtzLk9ORV9NSU5VU19EU1RfQUxQSEEscy5EU1RfQUxQSEEscy5PTkUscy5PTkVdLGhpLnRyYW5zcGFyZW50LFshMCwhMCwhMCwhMF0pO2VBKGUsdCxpLHIsYSxsLF8sRHguZGlzYWJsZWQsbyxcImNvbG9yXCIsbixjLHUsZCxwLGYsaCwhMSk7fX07aWYobCl7Y29uc3QgbD0obyxhLGwpPT57Y29uc3QgZj1lLmRlcHRoTW9kZUZvclN1YmxheWVyKDEsTXguUmVhZE9ubHkscy5MRVFVQUwsITEpLG09aS5wYWludC5nZXQobz9cImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLWdyb3VuZC1hdHRlbnVhdGlvblwiOlwiZmlsbC1leHRydXNpb24tZmxvb2QtbGlnaHQtZ3JvdW5kLWF0dGVudWF0aW9uXCIpLGc9XyguMSwzLG0pO3tjb25zdCBsPW5ldyBDeChbcy5PTkUscy5PTkUscy5PTkUscy5PTkVdLGhpLnRyYW5zcGFyZW50LFshMSwhMSwhMSwhMF0pO2VBKGUsdCxpLHIsZixTeC5kaXNhYmxlZCxsLER4LmRpc2FibGVkLG8sXCJjbGVhclwiLG4sYyx1LGQscCxnLGgsYSk7fXtjb25zdCBsPW5ldyBTeCh7ZnVuYzpzLkFMV0FZUyxtYXNrOjI1NX0sMjU1LDI1NSxzLktFRVAscy5LRUVQLHMuUkVQTEFDRSksbT1uZXcgQ3goW3MuT05FLHMuT05FLHMuT05FLHMuT05FXSxoaS50cmFuc3BhcmVudCxbITEsITEsITEsITBdLHMuTUlOKTtlQShlLHQsaSxyLGYsbCxtLER4LmRpc2FibGVkLG8sXCJzZGZcIixuLGMsdSxkLHAsZyxoLGEpO317Y29uc3QgbD1vP3MuWkVSTzpzLk9ORV9NSU5VU19EU1RfQUxQSEEsbT1uZXcgU3goe2Z1bmM6cy5FUVVBTCxtYXNrOjI1NX0sMjU1LDI1NSxzLktFRVAscy5ERUNSLHMuREVDUiksXz1uZXcgQ3goW2wscy5EU1RfQUxQSEEscy5PTkVfTUlOVVNfRFNUX0FMUEhBLHMuWkVST10saGkudHJhbnNwYXJlbnQsWyEwLCEwLCEwLCEwXSk7ZUEoZSx0LGkscixmLG0sXyxEeC5kaXNhYmxlZCxvLFwiY29sb3JcIixuLGMsdSxkLHAsZyxoLGEpO317Y29uc3QgbT1uZXcgQ3goW3MuT05FLHMuT05FLHMuT05FLG8/cy5aRVJPOnMuT05FXSxoaS50cmFuc3BhcmVudCxbITEsITEsITEsITBdLG8/cy5GVU5DX0FERDpzLk1BWCk7ZUEoZSx0LGkscixmLFN4LmRpc2FibGVkLG0sRHguZGlzYWJsZWQsbyxcImNsZWFyXCIsbixjLHUsZCxwLGcsaCxhLGwpO319O2lmKGZ8fG0pe2xldCB0O2lmKGUucHJlcGFyZURyYXdUaWxlKCksYSl7Y29uc3QgZT1hLmRyYXBlQnVmZmVyU2l6ZVswXSxpPWEuZHJhcGVCdWZmZXJTaXplWzFdO3Q9YS5mcmFtZWJ1ZmZlckNvcHlUZXh0dXJlLHQmJighdHx8dC5zaXplWzBdPT09ZSYmdC5zaXplWzFdPT09aSl8fCh0JiZ0LmRlc3Ryb3koKSx0PWEuZnJhbWVidWZmZXJDb3B5VGV4dHVyZT1uZXcgTXkobyxuZXcgZWYoe3dpZHRoOmUsaGVpZ2h0Oml9KSxzLlJHQkEpKSx0LmJpbmQocy5MSU5FQVIscy5DTEFNUF9UT19FREdFKSxzLmNvcHlUZXhJbWFnZTJEKHMuVEVYVFVSRV8yRCwwLHMuUkdCQSwwLDAsZSxpLDApO31mJiZsKCEwLCExLHQpLG0mJmwoITEsITAsdCk7fX1lbHNlIGYmJmcoITApLG0mJmcoITEpO319fSxoaWxsc2hhZGU6ZnVuY3Rpb24oZSx0LGkscil7aWYoXCJvZmZzY3JlZW5cIiE9PWUucmVuZGVyUGFzcyYmXCJ0cmFuc2x1Y2VudFwiIT09ZS5yZW5kZXJQYXNzKXJldHVybjtpZihlLnN0eWxlLmRpc2FibGVFbGV2YXRlZFRlcnJhaW4pcmV0dXJuO2NvbnN0IG49ZS5jb250ZXh0LG89ZS50ZXJyYWluJiZlLnRlcnJhaW4ucmVuZGVyaW5nVG9UZXh0dXJlLFtzLGFdPVwidHJhbnNsdWNlbnRcIiE9PWUucmVuZGVyUGFzc3x8bz9be30scl06ZS5zdGVuY2lsQ29uZmlnRm9yT3ZlcmxhcChyKTtmb3IoY29uc3QgciBvZiBhKXtjb25zdCBuPXQuZ2V0VGlsZShyKTtpZihuLm5lZWRzSGlsbHNoYWRlUHJlcGFyZSYmXCJvZmZzY3JlZW5cIj09PWUucmVuZGVyUGFzcylZRShlLG4saSk7ZWxzZSBpZihcInRyYW5zbHVjZW50XCI9PT1lLnJlbmRlclBhc3Mpe2NvbnN0IHQ9ZS5kZXB0aE1vZGVGb3JTdWJsYXllcigwLE14LlJlYWRPbmx5KSxhPWkucGFpbnQuZ2V0KFwiaGlsbHNoYWRlLWVtaXNzaXZlLXN0cmVuZ3RoXCIpLGw9ZS5jb2xvck1vZGVGb3JEcmFwYWJsZUxheWVyUmVuZGVyUGFzcyhhKSxjPW8mJmUudGVycmFpbj9lLnRlcnJhaW4uc3RlbmNpbE1vZGVGb3JSVFRPdmVybGFwKHIpOnNbci5vdmVyc2NhbGVkWl07SEUoZSxyLG4saSx0LGMsbCk7fX1uLnZpZXdwb3J0LnNldChbMCwwLGUud2lkdGgsZS5oZWlnaHRdKSxlLnJlc2V0U3RlbmNpbENsaXBwaW5nTWFza3MoKTt9LHJhc3RlcjpmdW5jdGlvbihlLHQsaSxyLG4sbyl7aWYoXCJ0cmFuc2x1Y2VudFwiIT09ZS5yZW5kZXJQYXNzKXJldHVybjtpZigwPT09aS5wYWludC5nZXQoXCJyYXN0ZXItb3BhY2l0eVwiKSlyZXR1cm47Y29uc3Qgcz1lLmNvbnRleHQsYT1zLmdsLGw9dC5nZXRTb3VyY2UoKSxjPWZ1bmN0aW9uKGUsdCxpKXtjb25zdCByPWUucGFpbnQuZ2V0KFwicmFzdGVyLWNvbG9yXCIpLG49W10sbz1lLnBhaW50LmdldChcInJhc3Rlci1yZXNhbXBsaW5nXCIpLHM9ZS5wYWludC5nZXQoXCJyYXN0ZXItY29sb3ItbWl4XCIpLGE9ZS5wYWludC5nZXQoXCJyYXN0ZXItY29sb3ItcmFuZ2VcIiksbD1bc1swXSxzWzFdLHNbMl0sMF0sYz1zWzNdLGg9XCJuZWFyZXN0XCI9PT1vP2kuTkVBUkVTVDppLkxJTkVBUjtpZihyJiZuLnB1c2goXCJSQVNURVJfQ09MT1JcIikscil7dC5hY3RpdmVUZXh0dXJlLnNldChpLlRFWFRVUkUyKTtsZXQgcj1lLmNvbG9yUmFtcFRleHR1cmU7cnx8KHI9ZS5jb2xvclJhbXBUZXh0dXJlPW5ldyBNeSh0LGUuY29sb3JSYW1wLGkuUkdCQSkpLHIuYmluZChpLkxJTkVBUixpLkNMQU1QX1RPX0VER0UpO31yZXR1cm4ge21peDpsLHJhbmdlOmEsb2Zmc2V0OmMsZGVmaW5lczpuLHJlc2FtcGxpbmc6aH19KGkscyxhKSxoPWMuZGVmaW5lcyx1PVwiZ2xvYmVcIj09PWUudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZTtsZXQgZD0hMTtpZihsIGluc3RhbmNlb2YgSmImJiFyLmxlbmd0aCl7aWYoIXUpcmV0dXJuO2lmKGwub25Ob3J0aFBvbGUpZD0hMCxoLnB1c2goXCJHTE9CRV9QT0xFU1wiKTtlbHNlIHtpZighbC5vblNvdXRoUG9sZSlyZXR1cm47ZD0hMCxoLnB1c2goXCJHTE9CRV9QT0xFU1wiKTt9fWNvbnN0IHA9aS5wYWludC5nZXQoXCJyYXN0ZXItZW1pc3NpdmUtc3RyZW5ndGhcIiksZj1lLmNvbG9yTW9kZUZvckRyYXBhYmxlTGF5ZXJSZW5kZXJQYXNzKHApLG09ZS50ZXJyYWluJiZlLnRlcnJhaW4ucmVuZGVyaW5nVG9UZXh0dXJlLF89bCBpbnN0YW5jZW9mIEpiJiYwIT09aS5wYWludC5nZXQoXCJyYXN0ZXItZWxldmF0aW9uXCIpLGc9IWUub3B0aW9ucy5tb3ZpbmcseT1cIm5lYXJlc3RcIj09PWkucGFpbnQuZ2V0KFwicmFzdGVyLXJlc2FtcGxpbmdcIik/YS5ORUFSRVNUOmEuTElORUFSO2lmKGQpe2NvbnN0IHI9dC5nZXRTb3VyY2UoKTtpZighKHIgaW5zdGFuY2VvZiBKYikpcmV0dXJuO2NvbnN0IG49ci50ZXh0dXJlO2lmKCFuKXJldHVybjtjb25zdCBvPWUuZ2xvYmVTaGFyZWRCdWZmZXJzO2lmKCFvKXJldHVybjtjb25zdCBsPW5ldyBNeChhLkxFUVVBTCxNeC5SZWFkV3JpdGUsZS5kZXB0aFJhbmdlRm9yM0QpLGg9RmxvYXQzMkFycmF5LmZyb20oZS50cmFuc2Zvcm0uZXhwYW5kZWRGYXJaUHJvak1hdHJpeCk7bGV0IHU9UmQoMCwwLGUudHJhbnNmb3JtKTtjb25zdCBkPUZsb2F0MzJBcnJheS5mcm9tKEFkKGZkKG5ldyBqdSgwLDAsMCkpKSksbT17b3BhY2l0eToxLG1peDowfTtlLnRlcnJhaW4mJmUudGVycmFpbi5wcmVwYXJlRHJhd1RpbGUoKSxzLmFjdGl2ZVRleHR1cmUuc2V0KGEuVEVYVFVSRTApLG4uYmluZCh5LGEuQ0xBTVBfVE9fRURHRSkscy5hY3RpdmVUZXh0dXJlLnNldChhLlRFWFRVUkUxKSxuLmJpbmQoeSxhLkNMQU1QX1RPX0VER0UpLG4udXNlTWlwbWFwJiZzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYyYmZS50cmFuc2Zvcm0ucGl0Y2g+MjAmJmEudGV4UGFyYW1ldGVyZihhLlRFWFRVUkVfMkQscy5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWMuVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQscy5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWNNYXgpO2NvbnN0W18sZyx4LHZdPW8uZ2V0UG9sZUJ1ZmZlcnMoMCwhMCk7bGV0IGI7ci5vbk5vcnRoUG9sZT8oYj1fLGUucmVuZGVyRGVmYXVsdE5vcnRoUG9sZT0hMSk6KHU9QXUuc2NhbGUoQXUuY3JlYXRlKCksdSxbMSwtMSwxXSksYj1nLGUucmVuZGVyRGVmYXVsdFNvdXRoUG9sZT0hMSk7Y29uc3Qgdz0oKGUsdCxpLHIsbixvLHMsYSxsLGMsaCx1KT0+Q00oZSx0LGksbmV3IEZsb2F0MzJBcnJheSgxNiksbmV3IEZsb2F0MzJBcnJheSg5KSxbMCwwXSxbMCwwLDAsMF0sMCxbMCwwXSxbMCwwLDAsMF0sMSxyLG4sb3x8WzAsMF0scywyLGwsYyxoLDEsMCx1KSkoaCxkLHUsbSxpLHIucGVyc3BlY3RpdmVUcmFuc2Zvcm18fFswLDBdLGkucGFpbnQuZ2V0KFwicmFzdGVyLWVsZXZhdGlvblwiKSwwLGMubWl4LGMub2Zmc2V0LGMucmFuZ2UscCksVD1lLmdldE9yQ3JlYXRlUHJvZ3JhbShcInJhc3RlclwiLHtkZWZpbmVzOmMuZGVmaW5lc30pO3JldHVybiBlLnVwbG9hZENvbW1vblVuaWZvcm1zKHMsVCxudWxsKSx2b2lkIFQuZHJhdyhlLGEuVFJJQU5HTEVTLGwsU3guZGlzYWJsZWQsZixEeC5kaXNhYmxlZCx3LGkuaWQsYix4LHYpfWlmKCFyLmxlbmd0aClyZXR1cm47Y29uc3RbeCx2XT1sIGluc3RhbmNlb2YgSmJ8fG0/W3t9LHJdOmUuc3RlbmNpbENvbmZpZ0Zvck92ZXJsYXAociksYj12W3YubGVuZ3RoLTFdLm92ZXJzY2FsZWRaLHc9XyYmdTt3JiZjLmRlZmluZXMucHVzaChcIlBST0pFQ1RJT05fR0xPQkVfVklFV1wiKSxfJiZjLmRlZmluZXMucHVzaChcIlJFTkRFUl9DVVRPRkZcIik7Zm9yKGNvbnN0IHIgb2Ygdil7Y29uc3Qgbj1yLnRvVW53cmFwcGVkKCksaD10LmdldFRpbGUocik7aWYobSYmKCFofHwhaC5oYXNEYXRhKCkpKWNvbnRpbnVlO2lmKCFoLnRleHR1cmUpY29udGludWU7bGV0IGQsdjttPyhkPU14LmRpc2FibGVkLHY9ci5wcm9qTWF0cml4KTpfPyhkPW5ldyBNeChhLkxFUVVBTCxNeC5SZWFkV3JpdGUsZS5kZXB0aFJhbmdlRm9yM0QpLHY9dT9GbG9hdDMyQXJyYXkuZnJvbShlLnRyYW5zZm9ybS5leHBhbmRlZEZhclpQcm9qTWF0cml4KTplLnRyYW5zZm9ybS5jYWxjdWxhdGVQcm9qTWF0cml4KG4sZykpOihkPWUuZGVwdGhNb2RlRm9yU3VibGF5ZXIoci5vdmVyc2NhbGVkWi1iLDE9PT1pLnBhaW50LmdldChcInJhc3Rlci1vcGFjaXR5XCIpP014LlJlYWRXcml0ZTpNeC5SZWFkT25seSxhLkxFU1MpLHY9ZS50cmFuc2Zvcm0uY2FsY3VsYXRlUHJvak1hdHJpeChuLGcpKTtjb25zdCBUPWUudGVycmFpbiYmbT9lLnRlcnJhaW4uc3RlbmNpbE1vZGVGb3JSVFRPdmVybGFwKHIpOnhbci5vdmVyc2NhbGVkWl0sRT1vPzA6aS5wYWludC5nZXQoXCJyYXN0ZXItZmFkZS1kdXJhdGlvblwiKTtoLnJlZ2lzdGVyRmFkZUR1cmF0aW9uKEUpO2NvbnN0IE09dC5maW5kTG9hZGVkUGFyZW50KHIsMCksQT1hTShoLE0sdCxlLnRyYW5zZm9ybSxFKTtsZXQgUyxJO2UudGVycmFpbiYmZS50ZXJyYWluLnByZXBhcmVEcmF3VGlsZSgpLHMuYWN0aXZlVGV4dHVyZS5zZXQoYS5URVhUVVJFMCksaC50ZXh0dXJlJiZoLnRleHR1cmUuYmluZCh5LGEuQ0xBTVBfVE9fRURHRSkscy5hY3RpdmVUZXh0dXJlLnNldChhLlRFWFRVUkUxKSxNPyhNLnRleHR1cmUmJk0udGV4dHVyZS5iaW5kKHksYS5DTEFNUF9UT19FREdFKSxTPU1hdGgucG93KDIsTS50aWxlSUQub3ZlcnNjYWxlZFotaC50aWxlSUQub3ZlcnNjYWxlZFopLEk9W2gudGlsZUlELmNhbm9uaWNhbC54KlMlMSxoLnRpbGVJRC5jYW5vbmljYWwueSpTJTFdKTpoLnRleHR1cmUmJmgudGV4dHVyZS5iaW5kKHksYS5DTEFNUF9UT19FREdFKSxoLnRleHR1cmUmJmgudGV4dHVyZS51c2VNaXBtYXAmJnMuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljJiZlLnRyYW5zZm9ybS5waXRjaD4yMCYmYS50ZXhQYXJhbWV0ZXJmKGEuVEVYVFVSRV8yRCxzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYy5URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCxzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY01heCk7Y29uc3QgQz1lLnRyYW5zZm9ybSx6PWwgaW5zdGFuY2VvZiBKYj9sLnBlcnNwZWN0aXZlVHJhbnNmb3JtOlswLDBdLFA9Xz9zQShDKTpbMCwwLDAsMF07bGV0IEQsUixMLGssTyxCO2lmKHcmJmwgaW5zdGFuY2VvZiBKYiYmbC5jb29yZGluYXRlcy5sZW5ndGg+Myl7RD1GbG9hdDMyQXJyYXkuZnJvbShBZChmZChuZXcganUoMCwwLDApKSkpLFI9RmxvYXQzMkFycmF5LmZyb20oQy5nbG9iZU1hdHJpeCksTD1GbG9hdDMyQXJyYXkuZnJvbShQZChDKSksaz1bS2QoQy5jZW50ZXIubG5nKSxKZChDLmNlbnRlci5sYXQpXSxCPVtLZChsLmNvb3JkaW5hdGVzWzFdWzBdKSxKZChsLmNvb3JkaW5hdGVzWzFdWzFdKSxLZChsLmNvb3JkaW5hdGVzWzNdWzBdKSxKZChsLmNvb3JkaW5hdGVzWzNdWzFdKV07Y29uc3QgdD1uZXcgc2MobC5jb29yZGluYXRlc1sxXSxsLmNvb3JkaW5hdGVzWzNdKTtPPUZsb2F0MzJBcnJheS5mcm9tKGtkKG5ldyBqdSgwLDAsMCksdCwwLEMud29ybGRTaXplL2UudHJhbnNmb3JtLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsKSk7fWVsc2UgRD1uZXcgRmxvYXQzMkFycmF5KDE2KSxSPW5ldyBGbG9hdDMyQXJyYXkoOSksTD1uZXcgRmxvYXQzMkFycmF5KDE2KSxrPVswLDBdLE89bmV3IEZsb2F0MzJBcnJheSgxNiksQj1bMCwwLDAsMF07Y29uc3QgRj1DTSh2LEQsUixMLE8sSXx8WzAsMF0sQixEZChlLnRyYW5zZm9ybS56b29tKSxrLFAsU3x8MSxBLGkseixfP2kucGFpbnQuZ2V0KFwicmFzdGVyLWVsZXZhdGlvblwiKTowLDIsYy5taXgsYy5vZmZzZXQsYy5yYW5nZSwxLDAscCksTj1lLmlzVGlsZUFmZmVjdGVkQnlGb2cociksVT1lLmdldE9yQ3JlYXRlUHJvZ3JhbShcInJhc3RlclwiLHtkZWZpbmVzOmMuZGVmaW5lcyxvdmVycmlkZUZvZzpOfSk7aWYoZS51cGxvYWRDb21tb25Vbmlmb3JtcyhzLFUsbiksbCBpbnN0YW5jZW9mIEpiKXtpZihtfHwhdSlsLmJvdW5kc0J1ZmZlciYmbC5ib3VuZHNTZWdtZW50cyYmVS5kcmF3KGUsYS5UUklBTkdMRVMsZCxTeC5kaXNhYmxlZCxmLER4LmRpc2FibGVkLEYsaS5pZCxsLmJvdW5kc0J1ZmZlcixlLnF1YWRUcmlhbmdsZUluZGV4QnVmZmVyLGwuYm91bmRzU2VnbWVudHMpO2Vsc2UgaWYoZS5nbG9iZVNoYXJlZEJ1ZmZlcnMpe2NvbnN0W3QscixuXT1lLmdsb2JlU2hhcmVkQnVmZmVycy5nZXRHcmlkQnVmZmVycygwLCExKTtVLmRyYXcoZSxhLlRSSUFOR0xFUyxkLFN4LmRpc2FibGVkLGYsRHguZnJvbnRDQ1csRixpLmlkLHQscixuKSxVLmRyYXcoZSxhLlRSSUFOR0xFUyxkLFN4LmRpc2FibGVkLGYsRHguYmFja0NDVyxGLGkuaWQsdCxyLG4pO319ZWxzZSB7Y29uc3R7dGlsZUJvdW5kc0J1ZmZlcjp0LHRpbGVCb3VuZHNJbmRleEJ1ZmZlcjpyLHRpbGVCb3VuZHNTZWdtZW50czpufT1lLmdldFRpbGVCb3VuZHNCdWZmZXJzKGgpO1UuZHJhdyhlLGEuVFJJQU5HTEVTLGQsVCxmLER4LmRpc2FibGVkLEYsaS5pZCx0LHIsbik7fX1lLnJlc2V0U3RlbmNpbENsaXBwaW5nTWFza3MoKTt9LGJhY2tncm91bmQ6ZnVuY3Rpb24oZSx0LGkscil7Y29uc3Qgbj1pLnBhaW50LmdldChcImJhY2tncm91bmQtY29sb3JcIiksbz1pLnBhaW50LmdldChcImJhY2tncm91bmQtb3BhY2l0eVwiKSxzPWkucGFpbnQuZ2V0KFwiYmFja2dyb3VuZC1lbWlzc2l2ZS1zdHJlbmd0aFwiKTtpZigwPT09bylyZXR1cm47Y29uc3QgYT1lLmNvbnRleHQsbD1hLmdsLGM9ZS50cmFuc2Zvcm0saD1jLnRpbGVTaXplLHU9aS5wYWludC5nZXQoXCJiYWNrZ3JvdW5kLXBhdHRlcm5cIik7aWYoZS5pc1BhdHRlcm5NaXNzaW5nKHUsaS5zY29wZSkpcmV0dXJuO2NvbnN0IGQ9IXUmJjE9PT1uLmEmJjE9PT1vJiZlLm9wYXF1ZVBhc3NFbmFibGVkRm9yTGF5ZXIoKT9cIm9wYXF1ZVwiOlwidHJhbnNsdWNlbnRcIjtpZihlLnJlbmRlclBhc3MhPT1kKXJldHVybjtjb25zdCBwPVN4LmRpc2FibGVkLGY9ZS5kZXB0aE1vZGVGb3JTdWJsYXllcigwLFwib3BhcXVlXCI9PT1kP014LlJlYWRXcml0ZTpNeC5SZWFkT25seSksbT1lLmNvbG9yTW9kZUZvckRyYXBhYmxlTGF5ZXJSZW5kZXJQYXNzKHMpLF89dT9cImJhY2tncm91bmRQYXR0ZXJuXCI6XCJiYWNrZ3JvdW5kXCI7bGV0IGcseT1yO3l8fChnPWUuZ2V0QmFja2dyb3VuZFRpbGVzKCkseT1PYmplY3QudmFsdWVzKGcpLm1hcCgoZT0+ZS50aWxlSUQpKSksdSYmKGEuYWN0aXZlVGV4dHVyZS5zZXQobC5URVhUVVJFMCksZS5pbWFnZU1hbmFnZXIuYmluZChlLmNvbnRleHQsaS5zY29wZSkpO2Zvcihjb25zdCBkIG9mIHkpe2NvbnN0IHk9ZS5pc1RpbGVBZmZlY3RlZEJ5Rm9nKGQpLHg9ZS5nZXRPckNyZWF0ZVByb2dyYW0oXyx7b3ZlcnJpZGVGb2c6eX0pLHY9ZC50b1Vud3JhcHBlZCgpLGI9cj9kLnByb2pNYXRyaXg6ZS50cmFuc2Zvcm0uY2FsY3VsYXRlUHJvak1hdHJpeCh2KTtlLnByZXBhcmVEcmF3VGlsZSgpO2NvbnN0IHc9dD90LmdldFRpbGUoZCk6Zz9nW2Qua2V5XTpuZXcgT3koZCxoLGMuem9vbSxlKSxUPXU/Rk0oYixzLG8sZSx1LGkuc2NvcGUse3RpbGVJRDpkLHRpbGVTaXplOmh9KTpCTShiLHMsbyxuKTtlLnVwbG9hZENvbW1vblVuaWZvcm1zKGEseCx2KTtjb25zdHt0aWxlQm91bmRzQnVmZmVyOkUsdGlsZUJvdW5kc0luZGV4QnVmZmVyOk0sdGlsZUJvdW5kc1NlZ21lbnRzOkF9PWUuZ2V0VGlsZUJvdW5kc0J1ZmZlcnModyk7eC5kcmF3KGUsbC5UUklBTkdMRVMsZixwLG0sRHguZGlzYWJsZWQsVCxpLmlkLEUsTSxBKTt9fSxza3k6ZnVuY3Rpb24oZSx0LGkpe2NvbnN0IHI9ZS5fYXRtb3NwaGVyZT9EZChlLnRyYW5zZm9ybS56b29tKToxLG49aS5wYWludC5nZXQoXCJza3ktb3BhY2l0eVwiKSpyO2lmKDA9PT1uKXJldHVybjtjb25zdCBvPWUuY29udGV4dCxzPWkucGFpbnQuZ2V0KFwic2t5LXR5cGVcIiksYT1uZXcgTXgoby5nbC5MRVFVQUwsTXguUmVhZE9ubHksWzAsMV0pLGw9ZS5mcmFtZUNvdW50ZXIvMWUzJTE7XCJhdG1vc3BoZXJlXCI9PT1zP1wib2Zmc2NyZWVuXCI9PT1lLnJlbmRlclBhc3M/aS5uZWVkc1NreWJveENhcHR1cmUoZSkmJihmdW5jdGlvbihlLHQsaSxyKXtjb25zdCBuPWUuY29udGV4dCxvPW4uZ2w7bGV0IHM9dC5za3lib3hGYm87aWYoIXMpe3M9dC5za3lib3hGYm89bi5jcmVhdGVGcmFtZWJ1ZmZlcigzMiwzMiwhMCxudWxsKSx0LnNreWJveEdlb21ldHJ5PW5ldyB4QShuKSx0LnNreWJveFRleHR1cmU9bi5nbC5jcmVhdGVUZXh0dXJlKCksby5iaW5kVGV4dHVyZShvLlRFWFRVUkVfQ1VCRV9NQVAsdC5za3lib3hUZXh0dXJlKSxvLnRleFBhcmFtZXRlcmkoby5URVhUVVJFX0NVQkVfTUFQLG8uVEVYVFVSRV9XUkFQX1Msby5DTEFNUF9UT19FREdFKSxvLnRleFBhcmFtZXRlcmkoby5URVhUVVJFX0NVQkVfTUFQLG8uVEVYVFVSRV9XUkFQX1Qsby5DTEFNUF9UT19FREdFKSxvLnRleFBhcmFtZXRlcmkoby5URVhUVVJFX0NVQkVfTUFQLG8uVEVYVFVSRV9NSU5fRklMVEVSLG8uTElORUFSKSxvLnRleFBhcmFtZXRlcmkoby5URVhUVVJFX0NVQkVfTUFQLG8uVEVYVFVSRV9NQUdfRklMVEVSLG8uTElORUFSKTtmb3IobGV0IGU9MDtlPDY7KytlKW8udGV4SW1hZ2UyRChvLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCtlLDAsby5SR0JBLDMyLDMyLDAsby5SR0JBLG8uVU5TSUdORURfQllURSxudWxsKTt9bi5iaW5kRnJhbWVidWZmZXIuc2V0KHMuZnJhbWVidWZmZXIpLG4udmlld3BvcnQuc2V0KFswLDAsMzIsMzJdKTtjb25zdCBhPXQuZ2V0Q2VudGVyKGUsITApLGw9ZS5nZXRPckNyZWF0ZVByb2dyYW0oXCJza3lib3hDYXB0dXJlXCIpLGM9bmV3IEZsb2F0NjRBcnJheSgxNik7QXUuaWRlbnRpdHkoYyksQXUucm90YXRlWShjLGMsLjUqLU1hdGguUEkpLHZBKGUsdCxsLGMsYSwwKSxBdS5pZGVudGl0eShjKSxBdS5yb3RhdGVZKGMsYywuNSpNYXRoLlBJKSx2QShlLHQsbCxjLGEsMSksQXUuaWRlbnRpdHkoYyksQXUucm90YXRlWChjLGMsLjUqLU1hdGguUEkpLHZBKGUsdCxsLGMsYSwyKSxBdS5pZGVudGl0eShjKSxBdS5yb3RhdGVYKGMsYywuNSpNYXRoLlBJKSx2QShlLHQsbCxjLGEsMyksQXUuaWRlbnRpdHkoYyksdkEoZSx0LGwsYyxhLDQpLEF1LmlkZW50aXR5KGMpLEF1LnJvdGF0ZVkoYyxjLE1hdGguUEkpLHZBKGUsdCxsLGMsYSw1KSxuLnZpZXdwb3J0LnNldChbMCwwLGUud2lkdGgsZS5oZWlnaHRdKTt9KGUsaSksaS5tYXJrU2t5Ym94VmFsaWQoZSkpOlwic2t5XCI9PT1lLnJlbmRlclBhc3MmJmZ1bmN0aW9uKGUsdCxpLHIsbil7Y29uc3Qgbz1lLmNvbnRleHQscz1vLmdsLGE9ZS50cmFuc2Zvcm0sbD1lLmdldE9yQ3JlYXRlUHJvZ3JhbShcInNreWJveFwiKTtvLmFjdGl2ZVRleHR1cmUuc2V0KHMuVEVYVFVSRTApLHMuYmluZFRleHR1cmUocy5URVhUVVJFX0NVQkVfTUFQLHQuc2t5Ym94VGV4dHVyZSk7Y29uc3QgYz0oKGUsdCxpLHIsbik9Pih7dV9tYXRyaXg6ZSx1X3N1bl9kaXJlY3Rpb246dCx1X2N1YmVtYXA6MCx1X29wYWNpdHk6cix1X3RlbXBvcmFsX29mZnNldDpufSkpKGEuc2t5Ym94TWF0cml4LHQuZ2V0Q2VudGVyKGUsITEpLDAscixuKTtlLnVwbG9hZENvbW1vblVuaWZvcm1zKG8sbCksbC5kcmF3KGUscy5UUklBTkdMRVMsaSxTeC5kaXNhYmxlZCxlLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxEeC5iYWNrQ1csYyxcInNreWJveFwiLHQuc2t5Ym94R2VvbWV0cnkudmVydGV4QnVmZmVyLHQuc2t5Ym94R2VvbWV0cnkuaW5kZXhCdWZmZXIsdC5za3lib3hHZW9tZXRyeS5zZWdtZW50KTt9KGUsaSxhLG4sbCk6XCJncmFkaWVudFwiPT09cyYmXCJza3lcIj09PWUucmVuZGVyUGFzcyYmZnVuY3Rpb24oZSx0LGkscixuKXtjb25zdCBvPWUuY29udGV4dCxzPW8uZ2wsYT1lLnRyYW5zZm9ybSxsPWUuZ2V0T3JDcmVhdGVQcm9ncmFtKFwic2t5Ym94R3JhZGllbnRcIik7dC5za3lib3hHZW9tZXRyeXx8KHQuc2t5Ym94R2VvbWV0cnk9bmV3IHhBKG8pKSxvLmFjdGl2ZVRleHR1cmUuc2V0KHMuVEVYVFVSRTApO2xldCBjPXQuY29sb3JSYW1wVGV4dHVyZTtjfHwoYz10LmNvbG9yUmFtcFRleHR1cmU9bmV3IE15KG8sdC5jb2xvclJhbXAscy5SR0JBKSksYy5iaW5kKHMuTElORUFSLHMuQ0xBTVBfVE9fRURHRSk7Y29uc3QgaD0oKGUsdCxpLHIsbik9Pih7dV9tYXRyaXg6ZSx1X2NvbG9yX3JhbXA6MCx1X2NlbnRlcl9kaXJlY3Rpb246dCx1X3JhZGl1czp3KGkpLHVfb3BhY2l0eTpyLHVfdGVtcG9yYWxfb2Zmc2V0Om59KSkoYS5za3lib3hNYXRyaXgsdC5nZXRDZW50ZXIoZSwhMSksdC5wYWludC5nZXQoXCJza3ktZ3JhZGllbnQtcmFkaXVzXCIpLHIsbik7ZS51cGxvYWRDb21tb25Vbmlmb3JtcyhvLGwpLGwuZHJhdyhlLHMuVFJJQU5HTEVTLGksU3guZGlzYWJsZWQsZS5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksRHguYmFja0NXLGgsXCJza3lib3hHcmFkaWVudFwiLHQuc2t5Ym94R2VvbWV0cnkudmVydGV4QnVmZmVyLHQuc2t5Ym94R2VvbWV0cnkuaW5kZXhCdWZmZXIsdC5za3lib3hHZW9tZXRyeS5zZWdtZW50KTt9KGUsaSxhLG4sbCk7fSxkZWJ1ZzpmdW5jdGlvbihlLHQsaSl7Zm9yKGxldCByPTA7cjxpLmxlbmd0aDtyKyspZEEoZSx0LGlbcl0pO30sY3VzdG9tOmZ1bmN0aW9uKGUsdCxpLHIpe2NvbnN0IG49ZS5jb250ZXh0LG89aS5pbXBsZW1lbnRhdGlvbjtpZighZS50cmFuc2Zvcm0ucHJvamVjdGlvbi51bnN1cHBvcnRlZExheWVyc3x8IWUudHJhbnNmb3JtLnByb2plY3Rpb24udW5zdXBwb3J0ZWRMYXllcnMuaW5jbHVkZXMoXCJjdXN0b21cIil8fGUudGVycmFpbiYmKGUudGVycmFpbi5yZW5kZXJpbmdUb1RleHR1cmV8fFwib2Zmc2NyZWVuXCI9PT1lLnJlbmRlclBhc3MpJiZpLmlzTGF5ZXJEcmFwZWQodCkpe2lmKFwib2Zmc2NyZWVuXCI9PT1lLnJlbmRlclBhc3Mpe2NvbnN0IHQ9by5wcmVyZW5kZXI7aWYodCl7aWYoZS5zZXRDdXN0b21MYXllckRlZmF1bHRzKCksbi5zZXRDb2xvck1vZGUoZS5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCkpLFwiZ2xvYmVcIj09PWUudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSl7Y29uc3QgaT1lLnRyYW5zZm9ybS5wb2ludE1lcmM7dC5jYWxsKG8sbi5nbCxlLnRyYW5zZm9ybS5jdXN0b21MYXllck1hdHJpeCgpLGUudHJhbnNmb3JtLmdldFByb2plY3Rpb24oKSxlLnRyYW5zZm9ybS5nbG9iZVRvTWVyY2F0b3JNYXRyaXgoKSxEZChlLnRyYW5zZm9ybS56b29tKSxbaS54LGkueV0sZS50cmFuc2Zvcm0ucGl4ZWxzUGVyTWV0ZXJSYXRpbyk7fWVsc2UgdC5jYWxsKG8sbi5nbCxlLnRyYW5zZm9ybS5jdXN0b21MYXllck1hdHJpeCgpKTtuLnNldERpcnR5KCksZS5zZXRCYXNlU3RhdGUoKTt9fWVsc2UgaWYoXCJ0cmFuc2x1Y2VudFwiPT09ZS5yZW5kZXJQYXNzKXtpZihlLnRlcnJhaW4mJmUudGVycmFpbi5yZW5kZXJpbmdUb1RleHR1cmUpe2NvbnN0IHQ9by5yZW5kZXJUb1RpbGU7aWYodCl7Y29uc3QgaT1yWzBdLmNhbm9uaWNhbCxzPW5ldyBscChpLngrclswXS53cmFwKigxPDxpLnopLGkueSxpLnopO24uc2V0RGVwdGhNb2RlKE14LmRpc2FibGVkKSxuLnNldFN0ZW5jaWxNb2RlKFN4LmRpc2FibGVkKSxuLnNldENvbG9yTW9kZShlLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSksZS5zZXRDdXN0b21MYXllckRlZmF1bHRzKCksdC5jYWxsKG8sbi5nbCxzKSxuLnNldERpcnR5KCksZS5zZXRCYXNlU3RhdGUoKTt9cmV0dXJufWUuc2V0Q3VzdG9tTGF5ZXJEZWZhdWx0cygpLG4uc2V0Q29sb3JNb2RlKGUuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKSxuLnNldFN0ZW5jaWxNb2RlKFN4LmRpc2FibGVkKTtjb25zdCB0PVwiM2RcIj09PW8ucmVuZGVyaW5nTW9kZT9uZXcgTXgoZS5jb250ZXh0LmdsLkxFUVVBTCxNeC5SZWFkV3JpdGUsZS5kZXB0aFJhbmdlRm9yM0QpOmUuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCxNeC5SZWFkT25seSk7aWYobi5zZXREZXB0aE1vZGUodCksXCJnbG9iZVwiPT09ZS50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lKXtjb25zdCB0PWUudHJhbnNmb3JtLnBvaW50TWVyYztvLnJlbmRlcihuLmdsLGUudHJhbnNmb3JtLmN1c3RvbUxheWVyTWF0cml4KCksZS50cmFuc2Zvcm0uZ2V0UHJvamVjdGlvbigpLGUudHJhbnNmb3JtLmdsb2JlVG9NZXJjYXRvck1hdHJpeCgpLERkKGUudHJhbnNmb3JtLnpvb20pLFt0LngsdC55XSxlLnRyYW5zZm9ybS5waXhlbHNQZXJNZXRlclJhdGlvKTt9ZWxzZSBvLnJlbmRlcihuLmdsLGUudHJhbnNmb3JtLmN1c3RvbUxheWVyTWF0cml4KCkpO24uc2V0RGlydHkoKSxlLnNldEJhc2VTdGF0ZSgpLG4uYmluZEZyYW1lYnVmZmVyLnNldChudWxsKTt9fWVsc2UgSChcIkN1c3RvbSBsYXllcnMgYXJlIG5vdCB5ZXQgc3VwcG9ydGVkIHdpdGggdGhpcyBwcm9qZWN0aW9uLiBVc2UgbWVyY2F0b3Igb3IgZ2xvYmUgdG8gZW5hYmxlIHVzYWdlIG9mIGN1c3RvbSBsYXllcnMuXCIpO30sbW9kZWw6ZnVuY3Rpb24oZSx0LGkscil7aWYoXCJvcGFxdWVcIj09PWUucmVuZGVyUGFzcylyZXR1cm47Y29uc3Qgbj1pLnBhaW50LmdldChcIm1vZGVsLW9wYWNpdHlcIik7aWYoMD09PW4pcmV0dXJuO2NvbnN0IG89aS5wYWludC5nZXQoXCJtb2RlbC1jYXN0LXNoYWRvd3NcIik7aWYoXCJzaGFkb3dcIj09PWUucmVuZGVyUGFzcyl7aWYoIW8pcmV0dXJuO2lmKGUudGVycmFpbiYmbjwuNjUmJmkuX3RyYW5zaXRpb25hYmxlUGFpbnQuX3ZhbHVlc1tcIm1vZGVsLW9wYWNpdHlcIl0udmFsdWUuZXhwcmVzc2lvbiBpbnN0YW5jZW9mIEFvKXJldHVybn1jb25zdCBzPWUuc2hhZG93UmVuZGVyZXIsYT1pLnBhaW50LmdldChcIm1vZGVsLXJlY2VpdmUtc2hhZG93c1wiKTtzJiYocy51c2VOb3JtYWxPZmZzZXQ9ITAsYXx8KHMuZW5hYmxlZD0hMSkpO2NvbnN0IGw9KCk9PntzJiYocy51c2VOb3JtYWxPZmZzZXQ9ITAsYXx8KHMuZW5hYmxlZD0hMCkpO30sYz10LmdldFNvdXJjZSgpO2lmKFwibGlnaHQtYmVhbVwiPT09ZS5yZW5kZXJQYXNzJiZcImJhdGNoZWQtbW9kZWxcIiE9PWMudHlwZSlyZXR1cm47aWYoXCJ2ZWN0b3JcIj09PWMudHlwZXx8XCJnZW9qc29uXCI9PT1jLnR5cGUpcmV0dXJuIGZ1bmN0aW9uKGUsdCxpLHIpe2NvbnN0IG49ZS50cmFuc2Zvcm07aWYoXCJtZXJjYXRvclwiIT09bi5wcm9qZWN0aW9uLm5hbWUpcmV0dXJuIHZvaWQgSChgRHJhd2luZyAzRCBtb2RlbHMgZm9yICR7bi5wcm9qZWN0aW9uLm5hbWV9IHByb2plY3Rpb24gaXMgbm90IHlldCBpbXBsZW1lbnRlZGApO2NvbnN0IG89bi5nZXRGcmVlQ2FtZXJhT3B0aW9ucygpLnBvc2l0aW9uO2lmKCFlLm1vZGVsTWFuYWdlcilyZXR1cm47Y29uc3Qgcz1lLm1vZGVsTWFuYWdlcixhPWUuc2hhZG93UmVuZGVyZXI7aWYoIWkuX3VuZXZhbHVhdGVkTGF5b3V0Ll92YWx1ZXMuaGFzT3duUHJvcGVydHkoXCJtb2RlbC1pZFwiKSlyZXR1cm47Y29uc3QgbD1pLl91bmV2YWx1YXRlZExheW91dC5fdmFsdWVzW1wibW9kZWwtaWRcIl0sYz17Li4uaS5sYXlvdXQuZ2V0KFwibW9kZWwtaWRcIikucGFyYW1ldGVyc307Zm9yKGNvbnN0IGggb2Ygcil7Y29uc3Qgcj10LmdldFRpbGUoaCkuZ2V0QnVja2V0KGkpO2lmKCFyfHxyLnByb2plY3Rpb24ubmFtZSE9PW4ucHJvamVjdGlvbi5uYW1lKWNvbnRpbnVlO2NvbnN0IHU9REEoaCxuKTtjLnpvb209dTtjb25zdCBkPWwucG9zc2libHlFdmFsdWF0ZShjKTtpZih6QShlLHIsaCksUEEuc2hhZG93VW5pZm9ybXNJbml0aWFsaXplZD0hMSxQQS51c2VTaW5nbGVTaGFkb3dDYXNjYWRlPSEhYSYmMD09PWEuZ2V0TWF4Q2FzY2FkZUZvclRpbGUoaC50b1Vud3JhcHBlZCgpKSxcInNoYWRvd1wiPT09ZS5yZW5kZXJQYXNzJiZhKXtpZigxPT09ZS5jdXJyZW50U2hhZG93Q2FzY2FkZSYmci5pc0luc2lkZUZpcnN0U2hhZG93TWFwRnJ1c3R1bSljb250aW51ZTtjb25zdCB0PW4uY2FsY3VsYXRlUG9zTWF0cml4KGgudG9VbndyYXBwZWQoKSxuLndvcmxkU2l6ZSk7aWYoUEEudGlsZU1hdHJpeC5zZXQodCksUEEuc2hhZG93VGlsZU1hdHJpeD1GbG9hdDMyQXJyYXkuZnJvbShhLmNhbGN1bGF0ZVNoYWRvd1Bhc3NNYXRyaXhGcm9tTWF0cml4KHQpKSxQQS5hYWJiLm1pbi5maWxsKDApLFBBLmFhYmIubWF4WzBdPVBBLmFhYmIubWF4WzFdPWNyLFBBLmFhYmIubWF4WzJdPTAsa0EocixQQSxlLGkuc2NvcGUpKWNvbnRpbnVlfWNvbnN0IHA9MTw8aC5jYW5vbmljYWwueixmPVsoKG8ueC1oLndyYXApKnAtaC5jYW5vbmljYWwueCkqY3IsKG8ueSpwLWguY2Fub25pY2FsLnkpKmNyLG8ueipwKmNyXTtmb3IobGV0IHQgaW4gci5pbnN0YW5jZXNQZXJNb2RlbCl7Y29uc3Qgbj1yLmluc3RhbmNlc1Blck1vZGVsW3RdO24uZmVhdHVyZXMubGVuZ3RoPjAmJih0PWQuZXZhbHVhdGUobi5mZWF0dXJlc1swXS5mZWF0dXJlLHt9KSk7Y29uc3Qgbz1zLmdldE1vZGVsKHQsaS5zY29wZSk7aWYobyYmby51cGxvYWRlZClmb3IoY29uc3QgdCBvZiBvLm5vZGVzKVJBKGUsaSx0LG4sZixoLFBBKTt9fX0oZSx0LGksciksdm9pZCBsKCk7aWYoIWMubG9hZGVkKCkpcmV0dXJuO2lmKFwiYmF0Y2hlZC1tb2RlbFwiPT09Yy50eXBlKXJldHVybiBmdW5jdGlvbihlLHQsaSxyKXtjb25zdCBuPWUuY29udGV4dCxvPWUudHJhbnNmb3JtLHM9ZS5zdHlsZS5mb2csYT1lLnNoYWRvd1JlbmRlcmVyO2lmKFwibWVyY2F0b3JcIiE9PW8ucHJvamVjdGlvbi5uYW1lKXJldHVybiB2b2lkIEgoYERyYXdpbmcgM0QgbGFuZG1hcmsgbW9kZWxzIGZvciAke28ucHJvamVjdGlvbi5uYW1lfSBwcm9qZWN0aW9uIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWRgKTtjb25zdCBsPWUudHJhbnNmb3JtLmdldEZyZWVDYW1lcmFPcHRpb25zKCkucG9zaXRpb24sYz1EdS5zY2FsZShbXSxbbC54LGwueSxsLnpdLGUudHJhbnNmb3JtLndvcmxkU2l6ZSk7RHUubmVnYXRlKGMsYyk7Y29uc3QgaD1BdS5pZGVudGl0eShbXSksdT1vcChvLmNlbnRlci5sYXQsby56b29tKSxkPUF1LmZyb21TY2FsaW5nKFtdLFsxLDEsMS91XSk7QXUudHJhbnNsYXRlKGgsaCxjKTtjb25zdCBwPWkucGFpbnQuZ2V0KFwibW9kZWwtb3BhY2l0eVwiKSxmPW5ldyBNeChuLmdsLkxFUVVBTCxNeC5SZWFkV3JpdGUsZS5kZXB0aFJhbmdlRm9yM0QpLG09bmV3IE14KG4uZ2wuTEVRVUFMLE14LlJlYWRPbmx5LGUuZGVwdGhSYW5nZUZvcjNEKSxfPWZ1bmN0aW9uKGwsYyl7Zm9yKGNvbnN0IHUgb2Ygcil7Y29uc3Qgcj10LmdldFRpbGUodSkuZ2V0QnVja2V0KGkpO2lmKCFyfHwhci51cGxvYWRlZCljb250aW51ZTtsZXQgXz0hMTthJiYoXz0wPT09YS5nZXRNYXhDYXNjYWRlRm9yVGlsZSh1LnRvVW53cmFwcGVkKCkpKTtjb25zdCBnPW8uY2FsY3VsYXRlUG9zTWF0cml4KHUudG9VbndyYXBwZWQoKSxvLndvcmxkU2l6ZSkseT1yLm1vZGVsVHJhaXRzO2Zvcihjb25zdCB0IG9mIHIuZ2V0Tm9kZXNJbmZvKCkpe2lmKHQuaGlkZGVuQnlSZXBsYWNlbWVudCljb250aW51ZTtpZighdC5ub2RlLm1lc2hlcyljb250aW51ZTtjb25zdCByPXQubm9kZSx4PVwibGlnaHQtYmVhbVwiPT09ZS5yZW5kZXJQYXNzLHY9Wy4uLmddLGI9dC5ldmFsdWF0ZWRTY2FsZTtsZXQgdz0wO2UudGVycmFpbiYmci5lbGV2YXRpb24mJih3PXIuZWxldmF0aW9uKmUudGVycmFpbi5leGFnZ2VyYXRpb24oKSksQXUudHJhbnNsYXRlKHYsdixbKHIuYW5jaG9yP3IuYW5jaG9yWzBdOjApKihiWzBdLTEpLChyLmFuY2hvcj9yLmFuY2hvclsxXTowKSooYlsxXS0xKSx3XSksYiE9PUl2JiZBdS5zY2FsZSh2LHYsYiksQXUubXVsdGlwbHkodix2LHIubWF0cml4KTtjb25zdCBUPUF1Lm11bHRpcGx5KFtdLGQsdik7QXUubXVsdGlwbHkoVCxoLFQpO2NvbnN0IEU9QXUuaW52ZXJ0KFtdLFQpO0F1LnRyYW5zcG9zZShFLEUpLEF1LnNjYWxlKEUsRSxMQSk7Y29uc3QgTT1BdS5tdWx0aXBseShbXSxvLmV4cGFuZGVkRmFyWlByb2pNYXRyaXgsdik7Zm9yKGxldCBoPTA7aDxyLm1lc2hlcy5sZW5ndGg7KytoKXtjb25zdCBkPXIubWVzaGVzW2hdLGc9aD09PXIubGlnaHRNZXNoSW5kZXg7aWYoZyl7aWYoIXgmJiFlLnRlcnJhaW4mJmUuc2hhZG93UmVuZGVyZXIpe2UuY3VycmVudExheWVyPGUuZmlyc3RMaWdodEJlYW1MYXllciYmKGUuZmlyc3RMaWdodEJlYW1MYXllcj1lLmN1cnJlbnRMYXllcik7Y29udGludWV9fWVsc2UgaWYoeCljb250aW51ZTtjb25zdCBiPXtkZWZpbmVzOltdfSx3PVtdO0FBKGIuZGVmaW5lcyx3LGQsZSksNCZ5fHxiLmRlZmluZXMucHVzaChcIkRJRkZVU0VfU0hBREVEXCIpLF8mJmIuZGVmaW5lcy5wdXNoKFwiU0hBRE9XU19TSU5HTEVfQ0FTQ0FERVwiKTtjb25zdCBBPVwic2hhZG93XCI9PT1lLnJlbmRlclBhc3M7aWYoQSl7Q0EoZCx2LGUsaSk7Y29udGludWV9bGV0IFM9bnVsbDtpZihzKXtjb25zdCB0PU1BKHYsZS50cmFuc2Zvcm0pO2lmKFM9bmV3IEZsb2F0MzJBcnJheSh0KSxcImdsb2JlXCIhPT1vLnByb2plY3Rpb24ubmFtZSl7Y29uc3QgZT1kLmFhYmIubWluLGk9ZC5hYWJiLm1heCxbcixuXT1zLmdldE9wYWNpdHlGb3JCb3VuZHModCxlWzBdLGVbMV0saVswXSxpWzFdKTtiLm92ZXJyaWRlRm9nPXI+PWZ3fHxuPj1mdzt9fWNvbnN0IEk9ZS5nZXRPckNyZWF0ZVByb2dyYW0oXCJtb2RlbFwiLGIpOyFBJiZhJiYoYS51c2VOb3JtYWxPZmZzZXQ9ISFkLm5vcm1hbEJ1ZmZlcixhLnNldHVwU2hhZG93c0Zyb21NYXRyaXgodixJLGEudXNlTm9ybWFsT2Zmc2V0KSksZS51cGxvYWRDb21tb25Vbmlmb3JtcyhuLEksdS50b1Vud3JhcHBlZCgpLFMpO2NvbnN0IEM9ZC5tYXRlcmlhbCx6PUMucGJyTWV0YWxsaWNSb3VnaG5lc3M7ei5tZXRhbGxpY0ZhY3Rvcj0uOSx6LnJvdWdobmVzc0ZhY3Rvcj0uNTtjb25zdCBQPTAsRD1VTShuZXcgRmxvYXQzMkFycmF5KE0pLG5ldyBGbG9hdDMyQXJyYXkoVCksbmV3IEZsb2F0MzJBcnJheShFKSxlLHAsei5iYXNlQ29sb3JGYWN0b3IsQy5lbWlzc2l2ZUZhY3Rvcix6Lm1ldGFsbGljRmFjdG9yLHoucm91Z2huZXNzRmFjdG9yLEMsUCxpKTtJLmRyYXcoZSxuLmdsLlRSSUFOR0xFUyxjJiYhZz9mOm0sU3guZGlzYWJsZWQsbD9nfHxwPDF8fHQuaGFzVHJhbnNsdWNlbnRQYXJ0cz9DeC5hbHBoYUJsZW5kZWQ6Q3gudW5ibGVuZGVkOkN4LmRpc2FibGVkLER4LmJhY2tDQ1csRCxpLmlkLGQudmVydGV4QnVmZmVyLGQuaW5kZXhCdWZmZXIsZC5zZWdtZW50cyxpLnBhaW50LGUudHJhbnNmb3JtLnpvb20sdm9pZCAwLHcpO319fX07KChmdW5jdGlvbihlLHQsaSxyKXtjb25zdCBuPWUudGVycmFpbj9lLnRlcnJhaW4uZXhhZ2dlcmF0aW9uKCk6MCxvPWUudHJhbnNmb3JtLnpvb207Zm9yKGNvbnN0IHMgb2Ygcil7Y29uc3Qgcj10LmdldFRpbGUocykuZ2V0QnVja2V0KGkpO3ImJihlLmNvbmZsYXRpb25BY3RpdmUmJnIudXBkYXRlUmVwbGFjZW1lbnQocyxlLnJlcGxhY2VtZW50U291cmNlKSxyLmV2YWx1YXRlU2NhbGUoZSxpKSxlLnRlcnJhaW4mJm4+MCYmci5lbGV2YXRpb25VcGRhdGUoZS50ZXJyYWluLG4scyxpLnNvdXJjZSksci5uZWVkc1JlRXZhbHVhdGlvbihlLG8saSkmJnIuZXZhbHVhdGUoaSkpO319KSkoZSx0LGksciksMT09PXA/XyghMCwhMCk6KF8oITEsITApLF8oITAsITEpKTt9KGUsdCxpLHIpLHZvaWQgbCgpO2NvbnN0IGg9Yy5nZXRNb2RlbHMoKSx1PVtdLGQ9ZS50cmFuc2Zvcm0uZ2V0RnJlZUNhbWVyYU9wdGlvbnMoKS5wb3NpdGlvbixwPUR1LnNjYWxlKFtdLFtkLngsZC55LGQuel0sZS50cmFuc2Zvcm0ud29ybGRTaXplKTtEdS5uZWdhdGUocCxwKTtjb25zdCBmPVtdLG09W107bGV0IF89MDtmb3IoY29uc3QgdCBvZiBoKXtjb25zdCByPWkucGFpbnQuZ2V0KFwibW9kZWwtcm90YXRpb25cIikuY29uc3RhbnRPcihudWxsKSxuPWkucGFpbnQuZ2V0KFwibW9kZWwtc2NhbGVcIikuY29uc3RhbnRPcihudWxsKSxvPWkucGFpbnQuZ2V0KFwibW9kZWwtdHJhbnNsYXRpb25cIikuY29uc3RhbnRPcihudWxsKTt0LmNvbXB1dGVNb2RlbE1hdHJpeChlLHIsbixvLCEwLCEwLCExKTtjb25zdCBzPUF1LmlkZW50aXR5KFtdKSxhPW9wKHQucG9zaXRpb24ubGF0LGUudHJhbnNmb3JtLnpvb20pLGw9QXUuZnJvbVNjYWxpbmcoW10sWzEsMSwxL2FdKTtBdS50cmFuc2xhdGUocyxzLHApLHUucHVzaCh7elNjYWxlTWF0cml4OmwsbmVnQ2FtZXJhUG9zTWF0cml4OnN9KTtmb3IoY29uc3QgaSBvZiB0Lm5vZGVzKUlBKGUudHJhbnNmb3JtLGksdC5tYXRyaXgsZS50cmFuc2Zvcm0uZXhwYW5kZWRGYXJaUHJvak1hdHJpeCxfLGYsbSk7XysrO31pZihmLnNvcnQoKChlLHQpPT50LmRlcHRoLWUuZGVwdGgpKSxcInNoYWRvd1wiIT09ZS5yZW5kZXJQYXNzKXtpZigxPT09bilmb3IoY29uc3QgdCBvZiBtKVNBKHQsZSxpLHVbdC5tb2RlbEluZGV4XSxTeC5kaXNhYmxlZCxlLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSk7ZWxzZSB7Zm9yKGNvbnN0IHQgb2YgbSlTQSh0LGUsaSx1W3QubW9kZWxJbmRleF0sU3guZGlzYWJsZWQsQ3guZGlzYWJsZWQpO2Zvcihjb25zdCB0IG9mIG0pU0EodCxlLGksdVt0Lm1vZGVsSW5kZXhdLGUuc3RlbmNpbE1vZGVGb3IzRCgpLGUuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKTtlLnJlc2V0U3RlbmNpbENsaXBwaW5nTWFza3MoKTt9Zm9yKGNvbnN0IHQgb2YgZilTQSh0LGUsaSx1W3QubW9kZWxJbmRleF0sU3guZGlzYWJsZWQsZS5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCkpO2woKTt9ZWxzZSB7Zm9yKGNvbnN0IHQgb2YgbSlDQSh0Lm1lc2gsdC5ub2RlTW9kZWxNYXRyaXgsZSxpKTtmb3IoY29uc3QgdCBvZiBmKUNBKHQubWVzaCx0Lm5vZGVNb2RlbE1hdHJpeCxlLGkpO2woKTt9fX0sTkE9e21vZGVsVXBsb2FkOmZ1bmN0aW9uKGUsdCxpKXtjb25zdCByPXQuZ2V0U291cmNlKCk7aWYoIXIubG9hZGVkKCkpcmV0dXJuO2lmKFwidmVjdG9yXCI9PT1yLnR5cGV8fFwiZ2VvanNvblwiPT09ci50eXBlKXJldHVybiB2b2lkKGUubW9kZWxNYW5hZ2VyJiZlLm1vZGVsTWFuYWdlci51cGxvYWQoZSxpKSk7aWYoXCJiYXRjaGVkLW1vZGVsXCI9PT1yLnR5cGUpcmV0dXJuO2NvbnN0IG49ci5nZXRNb2RlbHMoKTtmb3IoY29uc3QgdCBvZiBuKXQudXBsb2FkKGUuY29udGV4dCk7fX07Y2xhc3MgVUF7Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMuY29udGV4dD1uZXcgUngoZSx0KSx0aGlzLnRyYW5zZm9ybT1pLHRoaXMuX3RpbGVUZXh0dXJlcz17fSx0aGlzLmZyYW1lQ29waWVzPVtdLHRoaXMubG9hZFRpbWVTdGFtcHM9W10sdGhpcy5zZXR1cCgpLHRoaXMubnVtU3VibGF5ZXJzPUx4Lm1heFVuZGVyem9vbWluZytMeC5tYXhPdmVyem9vbWluZysxLHRoaXMuZGVwdGhFcHNpbG9uPTEvTWF0aC5wb3coMiwxNiksdGhpcy5kZWZlcnJlZFJlbmRlckdwdVRpbWVRdWVyaWVzPVtdLHRoaXMuZ3B1VGltZXJzPXt9LHRoaXMuZnJhbWVDb3VudGVyPTAsdGhpcy5fYmFja2dyb3VuZFRpbGVzPXt9LHRoaXMuY29uZmxhdGlvbkFjdGl2ZT0hMSx0aGlzLnJlcGxhY2VtZW50U291cmNlPW5ldyBYdix0aGlzLmxvbmdlc3RDdXRvZmZSYW5nZT0wLHRoaXMubWluQ3V0b2ZmWm9vbT0wLHRoaXMuX2ZvZ1Zpc2libGU9ITEsdGhpcy5fY2FjaGVkVGlsZUZvZ09wYWNpdGllcz17fSx0aGlzLl9zaGFkb3dSZW5kZXJlcj1uZXcgcUEodGhpcyksdGhpcy5fd2lyZWZyYW1lRGVidWdDYWNoZT1uZXcgQkEsdGhpcy5yZW5kZXJEZWZhdWx0Tm9ydGhQb2xlPSEwLHRoaXMucmVuZGVyRGVmYXVsdFNvdXRoUG9sZT0hMDt9dXBkYXRlVGVycmFpbihlLHQpe2NvbnN0IGk9ISFlJiYhIWUudGVycmFpbiYmdGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5zdXBwb3J0c1RlcnJhaW47aWYoIShpfHx0aGlzLl90ZXJyYWluJiZ0aGlzLl90ZXJyYWluLmVuYWJsZWQpKXJldHVybjt0aGlzLl90ZXJyYWlufHwodGhpcy5fdGVycmFpbj1uZXcgdU0odGhpcyxlKSk7Y29uc3Qgcj10aGlzLl90ZXJyYWluO3RoaXMudHJhbnNmb3JtLmVsZXZhdGlvbj1pP3I6bnVsbCxyLnVwZGF0ZShlLHRoaXMudHJhbnNmb3JtLHQpLHRoaXMudHJhbnNmb3JtLmVsZXZhdGlvbiYmIXIuZW5hYmxlZCYmKHRoaXMudHJhbnNmb3JtLmVsZXZhdGlvbj1udWxsKTt9X3VwZGF0ZUZvZyhlKXtjb25zdCB0PWUuZm9nO2lmKCF0fHxcImdsb2JlXCI9PT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWV8fHQuZ2V0T3BhY2l0eSh0aGlzLnRyYW5zZm9ybS5waXRjaCk8MXx8dC5wcm9wZXJ0aWVzLmdldChcImhvcml6b24tYmxlbmRcIik8LjAzKXJldHVybiB2b2lkKHRoaXMudHJhbnNmb3JtLmZvZ0N1bGxEaXN0U3E9bnVsbCk7Y29uc3RbaSxyXT10LmdldEZvdkFkanVzdGVkUmFuZ2UodGhpcy50cmFuc2Zvcm0uX2Zvdik7aWYoaT5yKXJldHVybiB2b2lkKHRoaXMudHJhbnNmb3JtLmZvZ0N1bGxEaXN0U3E9bnVsbCk7Y29uc3Qgbj1pKy43OCooci1pKTt0aGlzLnRyYW5zZm9ybS5mb2dDdWxsRGlzdFNxPW4qbjt9Z2V0IHRlcnJhaW4oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uX3RlcnJhaW5FbmFibGVkKCkmJnRoaXMuX3RlcnJhaW4mJnRoaXMuX3RlcnJhaW4uZW5hYmxlZD90aGlzLl90ZXJyYWluOm51bGx9Z2V0IHNoYWRvd1JlbmRlcmVyKCl7cmV0dXJuIHRoaXMuX3NoYWRvd1JlbmRlcmVyJiZ0aGlzLl9zaGFkb3dSZW5kZXJlci5lbmFibGVkP3RoaXMuX3NoYWRvd1JlbmRlcmVyOm51bGx9Z2V0IHdpcmVmcmFtZURlYnVnQ2FjaGUoKXtyZXR1cm4gdGhpcy5fd2lyZWZyYW1lRGVidWdDYWNoZX1yZXNpemUoZSx0KXtpZih0aGlzLndpZHRoPWUqZHQuZGV2aWNlUGl4ZWxSYXRpbyx0aGlzLmhlaWdodD10KmR0LmRldmljZVBpeGVsUmF0aW8sdGhpcy5jb250ZXh0LnZpZXdwb3J0LnNldChbMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHRdKSx0aGlzLnN0eWxlKWZvcihjb25zdCBlIG9mIHRoaXMuc3R5bGUub3JkZXIpdGhpcy5zdHlsZS5fbWVyZ2VkTGF5ZXJzW2VdLnJlc2l6ZSgpO31zZXR1cCgpe2NvbnN0IGU9dGhpcy5jb250ZXh0LGk9bmV3IHphO2kuZW1wbGFjZUJhY2soMCwwKSxpLmVtcGxhY2VCYWNrKGNyLDApLGkuZW1wbGFjZUJhY2soMCxjciksaS5lbXBsYWNlQmFjayhjcixjciksdGhpcy50aWxlRXh0ZW50QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKGksTnUubWVtYmVycyksdGhpcy50aWxlRXh0ZW50U2VnbWVudHM9eGwuc2ltcGxlU2VnbWVudCgwLDAsNCwyKTtjb25zdCByPW5ldyB6YTtyLmVtcGxhY2VCYWNrKDAsMCksci5lbXBsYWNlQmFjayhjciwwKSxyLmVtcGxhY2VCYWNrKDAsY3IpLHIuZW1wbGFjZUJhY2soY3IsY3IpLHRoaXMuZGVidWdCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIocixOdS5tZW1iZXJzKSx0aGlzLmRlYnVnU2VnbWVudHM9eGwuc2ltcGxlU2VnbWVudCgwLDAsNCw1KTtjb25zdCBuPW5ldyB6YTtuLmVtcGxhY2VCYWNrKC0xLC0xKSxuLmVtcGxhY2VCYWNrKDEsLTEpLG4uZW1wbGFjZUJhY2soLTEsMSksbi5lbXBsYWNlQmFjaygxLDEpLHRoaXMudmlld3BvcnRCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIobixOdS5tZW1iZXJzKSx0aGlzLnZpZXdwb3J0U2VnbWVudHM9eGwuc2ltcGxlU2VnbWVudCgwLDAsNCwyKTtjb25zdCBvPW5ldyBEYTtvLmVtcGxhY2VCYWNrKDAsMCwwLDApLG8uZW1wbGFjZUJhY2soY3IsMCxjciwwKSxvLmVtcGxhY2VCYWNrKDAsY3IsMCxjciksby5lbXBsYWNlQmFjayhjcixjcixjcixjciksdGhpcy5tZXJjYXRvckJvdW5kc0J1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcihvLEx5Lm1lbWJlcnMpLHRoaXMubWVyY2F0b3JCb3VuZHNTZWdtZW50cz14bC5zaW1wbGVTZWdtZW50KDAsMCw0LDIpO2NvbnN0IHM9bmV3IFdhO3MuZW1wbGFjZUJhY2soMCwxLDIpLHMuZW1wbGFjZUJhY2soMiwxLDMpLHRoaXMucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcihzKTtjb25zdCBhPW5ldyBlbDtmb3IoY29uc3QgZSBvZiBbMCwxLDMsMiwwXSlhLmVtcGxhY2VCYWNrKGUpO3RoaXMuZGVidWdJbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKGEpLHRoaXMuZW1wdHlUZXh0dXJlPW5ldyBNeShlLG5ldyBlZih7d2lkdGg6MSxoZWlnaHQ6MX0sVWludDhBcnJheS5vZigwLDAsMCwwKSksZS5nbC5SR0JBKSx0aGlzLmlkZW50aXR5TWF0PUF1LmNyZWF0ZSgpO2NvbnN0IGw9dGhpcy5jb250ZXh0LmdsO3RoaXMuc3RlbmNpbENsZWFyTW9kZT1uZXcgU3goe2Z1bmM6bC5BTFdBWVMsbWFzazowfSwwLDI1NSxsLlpFUk8sbC5aRVJPLGwuWkVSTyksdGhpcy5sb2FkVGltZVN0YW1wcy5wdXNoKHQucGVyZm9ybWFuY2Uubm93KCkpO31nZXRNZXJjYXRvclRpbGVCb3VuZHNCdWZmZXJzKCl7cmV0dXJuIHt0aWxlQm91bmRzQnVmZmVyOnRoaXMubWVyY2F0b3JCb3VuZHNCdWZmZXIsdGlsZUJvdW5kc0luZGV4QnVmZmVyOnRoaXMucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsdGlsZUJvdW5kc1NlZ21lbnRzOnRoaXMubWVyY2F0b3JCb3VuZHNTZWdtZW50c319Z2V0VGlsZUJvdW5kc0J1ZmZlcnMoZSl7cmV0dXJuIGUuX21ha2VUaWxlQm91bmRzQnVmZmVycyh0aGlzLmNvbnRleHQsdGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbiksZS5fdGlsZUJvdW5kc0J1ZmZlcj97dGlsZUJvdW5kc0J1ZmZlcjplLl90aWxlQm91bmRzQnVmZmVyLHRpbGVCb3VuZHNJbmRleEJ1ZmZlcjplLl90aWxlQm91bmRzSW5kZXhCdWZmZXIsdGlsZUJvdW5kc1NlZ21lbnRzOmUuX3RpbGVCb3VuZHNTZWdtZW50c306dGhpcy5nZXRNZXJjYXRvclRpbGVCb3VuZHNCdWZmZXJzKCl9Y2xlYXJTdGVuY2lsKCl7Y29uc3QgZT10aGlzLmNvbnRleHQuZ2w7dGhpcy5uZXh0U3RlbmNpbElEPTEsdGhpcy5jdXJyZW50U3RlbmNpbFNvdXJjZT12b2lkIDAsdGhpcy5fdGlsZUNsaXBwaW5nTWFza0lEcz17fSx0aGlzLmdldE9yQ3JlYXRlUHJvZ3JhbShcImNsaXBwaW5nTWFza1wiKS5kcmF3KHRoaXMsZS5UUklBTkdMRVMsTXguZGlzYWJsZWQsdGhpcy5zdGVuY2lsQ2xlYXJNb2RlLEN4LmRpc2FibGVkLER4LmRpc2FibGVkLHNNKHRoaXMuaWRlbnRpdHlNYXQpLFwiJGNsaXBwaW5nXCIsdGhpcy52aWV3cG9ydEJ1ZmZlcix0aGlzLnF1YWRUcmlhbmdsZUluZGV4QnVmZmVyLHRoaXMudmlld3BvcnRTZWdtZW50cyk7fXJlc2V0U3RlbmNpbENsaXBwaW5nTWFza3MoKXt0aGlzLnRlcnJhaW58fCh0aGlzLmN1cnJlbnRTdGVuY2lsU291cmNlPXZvaWQgMCx0aGlzLl90aWxlQ2xpcHBpbmdNYXNrSURzPXt9KTt9X3JlbmRlclRpbGVDbGlwcGluZ01hc2tzKGUsdCxpKXtpZighdHx8dGhpcy5jdXJyZW50U3RlbmNpbFNvdXJjZT09PXQuaWR8fCFlLmlzVGlsZUNsaXBwZWQoKXx8IWl8fDA9PT1pLmxlbmd0aClyZXR1cm47aWYodGhpcy5fdGlsZUNsaXBwaW5nTWFza0lEcyYmIXRoaXMudGVycmFpbil7bGV0IGU9ITE7Zm9yKGNvbnN0IHQgb2YgaSlpZih2b2lkIDA9PT10aGlzLl90aWxlQ2xpcHBpbmdNYXNrSURzW3Qua2V5XSl7ZT0hMDticmVha31pZighZSlyZXR1cm59dGhpcy5jdXJyZW50U3RlbmNpbFNvdXJjZT10LmlkO2NvbnN0IHI9dGhpcy5jb250ZXh0LG49ci5nbDt0aGlzLm5leHRTdGVuY2lsSUQraS5sZW5ndGg+MjU2JiZ0aGlzLmNsZWFyU3RlbmNpbCgpLHIuc2V0Q29sb3JNb2RlKEN4LmRpc2FibGVkKSxyLnNldERlcHRoTW9kZShNeC5kaXNhYmxlZCk7Y29uc3Qgbz10aGlzLmdldE9yQ3JlYXRlUHJvZ3JhbShcImNsaXBwaW5nTWFza1wiKTt0aGlzLl90aWxlQ2xpcHBpbmdNYXNrSURzPXt9O2Zvcihjb25zdCBlIG9mIGkpe2NvbnN0IGk9dC5nZXRUaWxlKGUpLHI9dGhpcy5fdGlsZUNsaXBwaW5nTWFza0lEc1tlLmtleV09dGhpcy5uZXh0U3RlbmNpbElEKysse3RpbGVCb3VuZHNCdWZmZXI6cyx0aWxlQm91bmRzSW5kZXhCdWZmZXI6YSx0aWxlQm91bmRzU2VnbWVudHM6bH09dGhpcy5nZXRUaWxlQm91bmRzQnVmZmVycyhpKTtvLmRyYXcodGhpcyxuLlRSSUFOR0xFUyxNeC5kaXNhYmxlZCxuZXcgU3goe2Z1bmM6bi5BTFdBWVMsbWFzazowfSxyLDI1NSxuLktFRVAsbi5LRUVQLG4uUkVQTEFDRSksQ3guZGlzYWJsZWQsRHguZGlzYWJsZWQsc00oZS5wcm9qTWF0cml4KSxcIiRjbGlwcGluZ1wiLHMsYSxsKTt9fXN0ZW5jaWxNb2RlRm9yM0QoKXt0aGlzLmN1cnJlbnRTdGVuY2lsU291cmNlPXZvaWQgMCx0aGlzLm5leHRTdGVuY2lsSUQrMT4yNTYmJnRoaXMuY2xlYXJTdGVuY2lsKCk7Y29uc3QgZT10aGlzLm5leHRTdGVuY2lsSUQrKyx0PXRoaXMuY29udGV4dC5nbDtyZXR1cm4gbmV3IFN4KHtmdW5jOnQuTk9URVFVQUwsbWFzazoyNTV9LGUsMjU1LHQuS0VFUCx0LktFRVAsdC5SRVBMQUNFKX1zdGVuY2lsTW9kZUZvckNsaXBwaW5nKGUpe2lmKHRoaXMudGVycmFpbilyZXR1cm4gdGhpcy50ZXJyYWluLnN0ZW5jaWxNb2RlRm9yUlRUT3ZlcmxhcChlKTtjb25zdCB0PXRoaXMuY29udGV4dC5nbDtyZXR1cm4gbmV3IFN4KHtmdW5jOnQuRVFVQUwsbWFzazoyNTV9LHRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHNbZS5rZXldLDAsdC5LRUVQLHQuS0VFUCx0LlJFUExBQ0UpfXN0ZW5jaWxDb25maWdGb3JPdmVybGFwKGUpe2NvbnN0IHQ9dGhpcy5jb250ZXh0LmdsLGk9ZS5zb3J0KCgoZSx0KT0+dC5vdmVyc2NhbGVkWi1lLm92ZXJzY2FsZWRaKSkscj1pW2kubGVuZ3RoLTFdLm92ZXJzY2FsZWRaLG49aVswXS5vdmVyc2NhbGVkWi1yKzE7aWYobj4xKXt0aGlzLmN1cnJlbnRTdGVuY2lsU291cmNlPXZvaWQgMCx0aGlzLm5leHRTdGVuY2lsSUQrbj4yNTYmJnRoaXMuY2xlYXJTdGVuY2lsKCk7Y29uc3QgZT17fTtmb3IobGV0IGk9MDtpPG47aSsrKWVbaStyXT1uZXcgU3goe2Z1bmM6dC5HRVFVQUwsbWFzazoyNTV9LGkrdGhpcy5uZXh0U3RlbmNpbElELDI1NSx0LktFRVAsdC5LRUVQLHQuUkVQTEFDRSk7cmV0dXJuIHRoaXMubmV4dFN0ZW5jaWxJRCs9bixbZSxpXX1yZXR1cm4gW3tbcl06U3guZGlzYWJsZWR9LGldfWNvbG9yTW9kZUZvclJlbmRlclBhc3MoKXtjb25zdCBlPXRoaXMuY29udGV4dC5nbDtpZih0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3Ipe2NvbnN0IHQ9MS84O3JldHVybiBuZXcgQ3goW2UuQ09OU1RBTlRfQ09MT1IsZS5PTkUsZS5DT05TVEFOVF9DT0xPUixlLk9ORV0sbmV3IGhpKHQsdCx0LDApLFshMCwhMCwhMCwhMF0pfXJldHVybiBcIm9wYXF1ZVwiPT09dGhpcy5yZW5kZXJQYXNzP0N4LnVuYmxlbmRlZDpDeC5hbHBoYUJsZW5kZWR9Y29sb3JNb2RlRm9yRHJhcGFibGVMYXllclJlbmRlclBhc3MoZSl7Y29uc3QgdD10aGlzLmNvbnRleHQuZ2w7cmV0dXJuICgoKT0+dGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5lbmFibGUzZExpZ2h0cygpJiZ0aGlzLnRlcnJhaW4mJnRoaXMudGVycmFpbi5yZW5kZXJpbmdUb1RleHR1cmUpKCkmJlwidHJhbnNsdWNlbnRcIj09PXRoaXMucmVuZGVyUGFzcz9uZXcgQ3goW3QuT05FLHQuT05FX01JTlVTX1NSQ19BTFBIQSx0LkNPTlNUQU5UX0FMUEhBLHQuT05FX01JTlVTX1NSQ19BTFBIQV0sbmV3IGhpKDAsMCwwLHZvaWQgMD09PWU/MDplKSxbITAsITAsITAsITBdKTp0aGlzLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKX1kZXB0aE1vZGVGb3JTdWJsYXllcihlLHQsaSxyPSExKXtpZighdGhpcy5vcGFxdWVQYXNzRW5hYmxlZEZvckxheWVyKCkmJiFyKXJldHVybiBNeC5kaXNhYmxlZDtjb25zdCBuPTEtKCgxK3RoaXMuY3VycmVudExheWVyKSp0aGlzLm51bVN1YmxheWVycytlKSp0aGlzLmRlcHRoRXBzaWxvbjtyZXR1cm4gbmV3IE14KGl8fHRoaXMuY29udGV4dC5nbC5MRVFVQUwsdCxbbixuXSl9b3BhcXVlUGFzc0VuYWJsZWRGb3JMYXllcigpe3JldHVybiB0aGlzLmN1cnJlbnRMYXllcjx0aGlzLm9wYXF1ZVBhc3NDdXRvZmZ9cmVuZGVyKGUsaSl7dGhpcy5fd2lyZWZyYW1lRGVidWdDYWNoZS51cGRhdGUodGhpcy5mcmFtZUNvdW50ZXIpLHRoaXMuc3R5bGU9ZSx0aGlzLm9wdGlvbnM9aTtjb25zdCByPXRoaXMuc3R5bGUuX21lcmdlZExheWVycyxuPXRoaXMuc3R5bGUub3JkZXIsbz1uLm1hcCgoZT0+cltlXSkpLHM9dGhpcy5zdHlsZS5fbWVyZ2VkU291cmNlQ2FjaGVzO3RoaXMuaW1hZ2VNYW5hZ2VyPWUuaW1hZ2VNYW5hZ2VyLHRoaXMubW9kZWxNYW5hZ2VyPWUubW9kZWxNYW5hZ2VyLHRoaXMuc3ltYm9sRmFkZUNoYW5nZT1lLnBsYWNlbWVudC5zeW1ib2xGYWRlQ2hhbmdlKGR0Lm5vdygpKSx0aGlzLmltYWdlTWFuYWdlci5iZWdpbkZyYW1lKCk7bGV0IGE9MCxsPSExO2Zvcihjb25zdCBlIGluIHMpe2NvbnN0IHQ9c1tlXTt0LnVzZWQmJih0LnByZXBhcmUodGhpcy5jb250ZXh0KSx0LmdldFNvdXJjZSgpLnVzZWRJbkNvbmZsYXRpb24mJisrYSk7fWNvbnN0IGM9e30saD17fSx1PXt9LGQ9e30scD17fTtmb3IoY29uc3QgZSBpbiBzKXtjb25zdCB0PXNbZV07Y1tlXT10LmdldFZpc2libGVDb29yZGluYXRlcygpLGhbZV09Y1tlXS5zbGljZSgpLnJldmVyc2UoKSx1W2VdPXQuZ2V0VmlzaWJsZUNvb3JkaW5hdGVzKCEwKS5yZXZlcnNlKCksZFtlXT10LmdldFNoYWRvd0Nhc3RlckNvb3JkaW5hdGVzKCkscFtlXT10LnNvcnRDb29yZGluYXRlc0J5RGlzdGFuY2UoY1tlXSk7fWNvbnN0IGY9ZT0+e2NvbnN0IHQ9dGhpcy5zdHlsZS5nZXRMYXllclNvdXJjZUNhY2hlKGUpO3JldHVybiB0JiZ0LnVzZWQ/dC5nZXRTb3VyY2UoKTpudWxsfTtpZihhKXtjb25zdCBlPVtdO2Zvcihjb25zdCB0IG9mIG8pdGhpcy5sYXllclVzZWRJbkNvbmZsYXRpb24odCxmKHQpKSYmZS5wdXNoKHQpO2lmKGUmJmUubGVuZ3RoPjEpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IGkgb2YgZSl7Y29uc3QgZT10aGlzLnN0eWxlLmdldExheWVyU291cmNlQ2FjaGUoaSk7ZSYmZS51c2VkJiZlLmdldFNvdXJjZSgpLnVzZWRJbkNvbmZsYXRpb24mJnQucHVzaCh7bGF5ZXI6aS5mcWlkLGNhY2hlOmV9KTt9dGhpcy5yZXBsYWNlbWVudFNvdXJjZS5zZXRTb3VyY2VzKHQpLGw9ITA7fX1sfHx0aGlzLnJlcGxhY2VtZW50U291cmNlLmNsZWFyKCksdGhpcy5jb25mbGF0aW9uQWN0aXZlPWwsdGhpcy5taW5DdXRvZmZab29tPTAsdGhpcy5sb25nZXN0Q3V0b2ZmUmFuZ2U9MDtmb3IoY29uc3QgZSBvZiBvKXtjb25zdCB0PWUuY3V0b2ZmUmFuZ2UoKTtpZih0aGlzLmxvbmdlc3RDdXRvZmZSYW5nZT1NYXRoLm1heCh0LHRoaXMubG9uZ2VzdEN1dG9mZlJhbmdlKSx0PjApe2NvbnN0IHQ9ZihlKTt0JiYodGhpcy5taW5DdXRvZmZab29tPU1hdGgubWF4KHQubWluem9vbSx0aGlzLm1pbkN1dG9mZlpvb20pKSxlLm1pbnpvb20mJih0aGlzLm1pbkN1dG9mZlpvb209TWF0aC5tYXgoZS5taW56b29tLHRoaXMubWluQ3V0b2ZmWm9vbSkpO319dGhpcy5vcGFxdWVQYXNzQ3V0b2ZmPTEvMDtmb3IobGV0IGU9MDtlPG8ubGVuZ3RoO2UrKylpZihvW2VdLmlzM0QoKSl7dGhpcy5vcGFxdWVQYXNzQ3V0b2ZmPWU7YnJlYWt9Y29uc3QgbT10aGlzLnN0eWxlJiZ0aGlzLnN0eWxlLmZvZzttPyh0aGlzLl9mb2dWaXNpYmxlPTAhPT1tLmdldE9wYWNpdHkodGhpcy50cmFuc2Zvcm0ucGl0Y2gpLHRoaXMuX2ZvZ1Zpc2libGUmJlwiZ2xvYmVcIiE9PXRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSYmKHRoaXMuX2ZvZ1Zpc2libGU9bS5pc1Zpc2libGVPbkZydXN0dW0odGhpcy50cmFuc2Zvcm0uY2FtZXJhRnJ1c3R1bSkpKTp0aGlzLl9mb2dWaXNpYmxlPSExLHRoaXMuX2NhY2hlZFRpbGVGb2dPcGFjaXRpZXM9e30sdGhpcy50ZXJyYWluJiYodGhpcy50ZXJyYWluLnVwZGF0ZVRpbGVCaW5kaW5nKHUpLHRoaXMub3BhcXVlUGFzc0N1dG9mZj0wKTtjb25zdCBfPXRoaXMuX3NoYWRvd1JlbmRlcmVyO2lmKF8pe18udXBkYXRlU2hhZG93UGFyYW1ldGVycyh0aGlzLnRyYW5zZm9ybSx0aGlzLnN0eWxlLmRpcmVjdGlvbmFsTGlnaHQpO2Zvcihjb25zdCBlIGluIHMpZm9yKGNvbnN0IHQgb2YgY1tlXSl7bGV0IGU9e21pbjowLG1heDowfTt0aGlzLnRlcnJhaW4mJihlPXRoaXMudGVycmFpbi5nZXRNaW5NYXhGb3JUaWxlKHQpfHxlKSxfLmFkZFNoYWRvd1JlY2VpdmVyKHQudG9VbndyYXBwZWQoKSxlLm1pbixlLm1heCk7fX1cImdsb2JlXCIhPT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWV8fHRoaXMuZ2xvYmVTaGFyZWRCdWZmZXJzfHwodGhpcy5nbG9iZVNoYXJlZEJ1ZmZlcnM9bmV3IEdkKHRoaXMuY29udGV4dCkpO2Zvcihjb25zdCB0IG9mIG8pe2lmKHQuaXNIaWRkZW4odGhpcy50cmFuc2Zvcm0uem9vbSkpY29udGludWU7Y29uc3QgaT1lLmdldExheWVyU291cmNlQ2FjaGUodCk7dGhpcy51cGxvYWRMYXllcih0aGlzLHQsaSk7fWlmKHRoaXMuc3R5bGUuZm9nJiZ0aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzRm9nPyh0aGlzLl9hdG1vc3BoZXJlfHwodGhpcy5fYXRtb3NwaGVyZT1uZXcgRUEpLHRoaXMuX2F0bW9zcGhlcmUudXBkYXRlKHRoaXMpKTp0aGlzLl9hdG1vc3BoZXJlJiYodGhpcy5fYXRtb3NwaGVyZS5kZXN0cm95KCksdGhpcy5fYXRtb3NwaGVyZT12b2lkIDApLCFZZS5oYXModGhpcy5jb250ZXh0LmdsKSlyZXR1cm47dGhpcy5yZW5kZXJQYXNzPVwib2Zmc2NyZWVuXCI7Zm9yKGNvbnN0IHQgb2Ygbyl7Y29uc3QgaT1lLmdldExheWVyU291cmNlQ2FjaGUodCk7aWYoIXQuaGFzT2Zmc2NyZWVuUGFzcygpfHx0LmlzSGlkZGVuKHRoaXMudHJhbnNmb3JtLnpvb20pKWNvbnRpbnVlO2NvbnN0IHI9aT9oW2kuaWRdOnZvaWQgMDsoXCJjdXN0b21cIj09PXQudHlwZXx8XCJyYXN0ZXJcIj09PXQudHlwZXx8dC5pc1NreSgpfHxyJiZyLmxlbmd0aCkmJnRoaXMucmVuZGVyTGF5ZXIodGhpcyxpLHQscik7fXRoaXMuZGVwdGhSYW5nZUZvcjNEPVswLDEtKG8ubGVuZ3RoKzIpKnRoaXMubnVtU3VibGF5ZXJzKnRoaXMuZGVwdGhFcHNpbG9uXTtjb25zdCBnPXRoaXMudGVycmFpbjtnJiYodGhpcy5zdHlsZS5oYXNTeW1ib2xMYXllcnMoKXx8dGhpcy5zdHlsZS5oYXNDaXJjbGVMYXllcnMoKSkmJiF0aGlzLnRyYW5zZm9ybS5pc09ydGhvZ3JhcGhpYyYmZy5kcmF3RGVwdGgoKSx0aGlzLl9zaGFkb3dSZW5kZXJlciYmKHRoaXMucmVuZGVyUGFzcz1cInNoYWRvd1wiLHRoaXMuX3NoYWRvd1JlbmRlcmVyLmRyYXdTaGFkb3dQYXNzKHRoaXMuc3R5bGUsZCkpLHRoaXMuY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KG51bGwpLHRoaXMuY29udGV4dC52aWV3cG9ydC5zZXQoWzAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0XSk7Y29uc3QgeT1cImdsb2JlXCI9PT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWV8fHRoaXMudHJhbnNmb3JtLmlzSG9yaXpvblZpc2libGUoKSx4PSgoKT0+e2lmKGkuc2hvd092ZXJkcmF3SW5zcGVjdG9yKXJldHVybiBoaS5ibGFjaztpZih0aGlzLnN0eWxlLmZvZyYmdGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5zdXBwb3J0c0ZvZyYmIXkpe2NvbnN0IGU9dGhpcy5zdHlsZS5mb2cucHJvcGVydGllcy5nZXQoXCJjb2xvclwiKS50b0FycmF5MDEoKTtyZXR1cm4gbmV3IGhpKC4uLmUpfWlmKHRoaXMuc3R5bGUuZm9nJiZ0aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzRm9nJiZ5KXtjb25zdCBlPXRoaXMuc3R5bGUuZm9nLnByb3BlcnRpZXMuZ2V0KFwic3BhY2UtY29sb3JcIikudG9BcnJheTAxKCk7cmV0dXJuIG5ldyBoaSguLi5lKX1yZXR1cm4gaGkudHJhbnNwYXJlbnR9KSgpO2lmKHRoaXMuY29udGV4dC5jbGVhcih7Y29sb3I6eCxkZXB0aDoxfSksdGhpcy5jbGVhclN0ZW5jaWwoKSx0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3I9aS5zaG93T3ZlcmRyYXdJbnNwZWN0b3IsdGhpcy5yZW5kZXJQYXNzPVwib3BhcXVlXCIsdGhpcy5zdHlsZS5mb2cmJnRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24uc3VwcG9ydHNGb2cmJnRoaXMuX2F0bW9zcGhlcmUmJiF0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3ImJnkmJnRoaXMuX2F0bW9zcGhlcmUuZHJhd1N0YXJzKHRoaXMsdGhpcy5zdHlsZS5mb2cpLCF0aGlzLnRlcnJhaW4pZm9yKHRoaXMuY3VycmVudExheWVyPW4ubGVuZ3RoLTE7dGhpcy5jdXJyZW50TGF5ZXI+PTA7dGhpcy5jdXJyZW50TGF5ZXItLSl7Y29uc3QgdD1vW3RoaXMuY3VycmVudExheWVyXSxpPWUuZ2V0TGF5ZXJTb3VyY2VDYWNoZSh0KTtpZih0LmlzU2t5KCkpY29udGludWU7Y29uc3Qgcj1pPyh0LmlzM0QoKT9wOmgpW2kuaWRdOnZvaWQgMDt0aGlzLl9yZW5kZXJUaWxlQ2xpcHBpbmdNYXNrcyh0LGksciksdGhpcy5yZW5kZXJMYXllcih0aGlzLGksdCxyKTt9aWYodGhpcy5zdHlsZS5mb2cmJnRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24uc3VwcG9ydHNGb2cmJnRoaXMuX2F0bW9zcGhlcmUmJiF0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3ImJnkmJnRoaXMuX2F0bW9zcGhlcmUuZHJhd0F0bW9zcGhlcmVHbG93KHRoaXMsdGhpcy5zdHlsZS5mb2cpLHRoaXMucmVuZGVyUGFzcz1cInNreVwiLCghdGhpcy5fYXRtb3NwaGVyZXx8RGQodGhpcy50cmFuc2Zvcm0uem9vbSk+MCkmJihcImdsb2JlXCI9PT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWV8fHRoaXMudHJhbnNmb3JtLmlzSG9yaXpvblZpc2libGUoKSkpZm9yKHRoaXMuY3VycmVudExheWVyPTA7dGhpcy5jdXJyZW50TGF5ZXI8bi5sZW5ndGg7dGhpcy5jdXJyZW50TGF5ZXIrKyl7Y29uc3QgdD1vW3RoaXMuY3VycmVudExheWVyXSxpPWUuZ2V0TGF5ZXJTb3VyY2VDYWNoZSh0KTt0LmlzU2t5KCkmJnRoaXMucmVuZGVyTGF5ZXIodGhpcyxpLHQsaT9oW2kuaWRdOnZvaWQgMCk7fXRoaXMucmVuZGVyUGFzcz1cInRyYW5zbHVjZW50XCIsdGhpcy5jdXJyZW50TGF5ZXI9MCx0aGlzLmZpcnN0TGlnaHRCZWFtTGF5ZXI9TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7bGV0IHY9MDtmb3IoXyYmKHY9Xy5nZXRTaGFkb3dDYXN0aW5nTGF5ZXJDb3VudCgpKTt0aGlzLmN1cnJlbnRMYXllcjxuLmxlbmd0aDspe2NvbnN0IHQ9b1t0aGlzLmN1cnJlbnRMYXllcl0saT1lLmdldExheWVyU291cmNlQ2FjaGUodCk7aWYodC5pc1NreSgpKXsrK3RoaXMuY3VycmVudExheWVyO2NvbnRpbnVlfWlmKGcmJnRoaXMuc3R5bGUuaXNMYXllckRyYXBlZCh0KSl7aWYodC5pc0hpZGRlbih0aGlzLnRyYW5zZm9ybS56b29tKSl7Kyt0aGlzLmN1cnJlbnRMYXllcjtjb250aW51ZX10aGlzLmN1cnJlbnRMYXllcj1nLnJlbmRlckJhdGNoKHRoaXMuY3VycmVudExheWVyKTtjb250aW51ZX1sZXQgcjtpZihpJiYocj0oXCJzeW1ib2xcIj09PXQudHlwZT91OnQuaXMzRCgpP3A6aClbaS5pZF0pLHRoaXMuX3JlbmRlclRpbGVDbGlwcGluZ01hc2tzKHQsaSxpP2NbaS5pZF06dm9pZCAwKSx0aGlzLnJlbmRlckxheWVyKHRoaXMsaSx0LHIpLCFnJiZfJiZ2PjAmJnQuaGFzU2hhZG93UGFzcygpJiYwPT0tLXYmJihfLmRyYXdHcm91bmRTaGFkb3dzKCksdGhpcy5maXJzdExpZ2h0QmVhbUxheWVyPD10aGlzLmN1cnJlbnRMYXllcikpe2NvbnN0IHQ9dGhpcy5jdXJyZW50TGF5ZXI7Zm9yKHRoaXMucmVuZGVyUGFzcz1cImxpZ2h0LWJlYW1cIix0aGlzLmN1cnJlbnRMYXllcj10aGlzLmZpcnN0TGlnaHRCZWFtTGF5ZXI7dGhpcy5jdXJyZW50TGF5ZXI8PXQ7dGhpcy5jdXJyZW50TGF5ZXIrKyl7Y29uc3QgdD1vW3RoaXMuY3VycmVudExheWVyXTtpZighdC5oYXNMaWdodEJlYW1QYXNzKCkpY29udGludWU7Y29uc3QgaT1lLmdldExheWVyU291cmNlQ2FjaGUodCk7dGhpcy5yZW5kZXJMYXllcih0aGlzLGksdCxpP2hbaS5pZF06dm9pZCAwKTt9dGhpcy5jdXJyZW50TGF5ZXI9dCx0aGlzLnJlbmRlclBhc3M9XCJ0cmFuc2x1Y2VudFwiO30rK3RoaXMuY3VycmVudExheWVyO31pZih0aGlzLnRlcnJhaW4mJnRoaXMudGVycmFpbi5wb3N0UmVuZGVyKCksdGhpcy5vcHRpb25zLnNob3dUaWxlQm91bmRhcmllc3x8dGhpcy5vcHRpb25zLnNob3dRdWVyeUdlb21ldHJ5fHx0aGlzLm9wdGlvbnMuc2hvd1RpbGVBQUJCcyl7bGV0IHQ9bnVsbDtvLmZvckVhY2goKGk9Pntjb25zdCByPWUuZ2V0TGF5ZXJTb3VyY2VDYWNoZShpKTtyJiYhaS5pc0hpZGRlbih0aGlzLnRyYW5zZm9ybS56b29tKSYmci5nZXRWaXNpYmxlQ29vcmRpbmF0ZXMoKS5sZW5ndGgmJighdHx8dC5nZXRTb3VyY2UoKS5tYXh6b29tPHIuZ2V0U291cmNlKCkubWF4em9vbSkmJih0PXIpO30pKSx0JiZ0aGlzLm9wdGlvbnMuc2hvd1RpbGVCb3VuZGFyaWVzJiZGQS5kZWJ1Zyh0aGlzLHQsdC5nZXRWaXNpYmxlQ29vcmRpbmF0ZXMoKSk7fXRoaXMub3B0aW9ucy5zaG93UGFkZGluZyYmZnVuY3Rpb24oZSl7Y29uc3QgdD1lLnRyYW5zZm9ybS5wYWRkaW5nO3BBKGUsZS50cmFuc2Zvcm0uaGVpZ2h0LSh0LnRvcHx8MCksMyxhQSkscEEoZSx0LmJvdHRvbXx8MCwzLGxBKSxmQShlLHQubGVmdHx8MCwzLGNBKSxmQShlLGUudHJhbnNmb3JtLndpZHRoLSh0LnJpZ2h0fHwwKSwzLGhBKTtjb25zdCBpPWUudHJhbnNmb3JtLmNlbnRlclBvaW50OyFmdW5jdGlvbihlLHQsaSxyKXttQShlLHQtMSxpLTEwLDIsMjAsciksbUEoZSx0LTEwLGktMSwyMCwyLHIpO30oZSxpLngsZS50cmFuc2Zvcm0uaGVpZ2h0LWkueSx1QSk7fSh0aGlzKSx0aGlzLmNvbnRleHQuc2V0RGVmYXVsdCgpLHRoaXMuZnJhbWVDb3VudGVyPSh0aGlzLmZyYW1lQ291bnRlcisxKSVOdW1iZXIuTUFYX1NBRkVfSU5URUdFUix0aGlzLnRpbGVMb2FkZWQmJnRoaXMub3B0aW9ucy5zcGVlZEluZGV4VGltaW5nJiYodGhpcy5sb2FkVGltZVN0YW1wcy5wdXNoKHQucGVyZm9ybWFuY2Uubm93KCkpLHRoaXMuc2F2ZUNhbnZhc0NvcHkoKSksbHx8KHRoaXMuY29uZmxhdGlvbkFjdGl2ZT0hMSk7fXVwbG9hZExheWVyKGUsdCxpKXt0aGlzLmdwdVRpbWluZ1N0YXJ0KHQpLCghZS50cmFuc2Zvcm0ucHJvamVjdGlvbi51bnN1cHBvcnRlZExheWVyc3x8IWUudHJhbnNmb3JtLnByb2plY3Rpb24udW5zdXBwb3J0ZWRMYXllcnMuaW5jbHVkZXModC50eXBlKXx8ZS50ZXJyYWluJiZcImN1c3RvbVwiPT09dC50eXBlKSYmTkFbYCR7dC50eXBlfVVwbG9hZGBdJiZOQVtgJHt0LnR5cGV9VXBsb2FkYF0oZSxpLHQuc2NvcGUpLHRoaXMuZ3B1VGltaW5nRW5kKCk7fXJlbmRlckxheWVyKGUsdCxpLHIpe2kuaXNIaWRkZW4odGhpcy50cmFuc2Zvcm0uem9vbSl8fChcImJhY2tncm91bmRcIj09PWkudHlwZXx8XCJza3lcIj09PWkudHlwZXx8XCJjdXN0b21cIj09PWkudHlwZXx8XCJtb2RlbFwiPT09aS50eXBlfHxcInJhc3RlclwiPT09aS50eXBlfHxyJiZyLmxlbmd0aCkmJih0aGlzLmlkPWkuaWQsdGhpcy5ncHVUaW1pbmdTdGFydChpKSwoIWUudHJhbnNmb3JtLnByb2plY3Rpb24udW5zdXBwb3J0ZWRMYXllcnN8fCFlLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnVuc3VwcG9ydGVkTGF5ZXJzLmluY2x1ZGVzKGkudHlwZSl8fGUudGVycmFpbiYmXCJjdXN0b21cIj09PWkudHlwZSkmJkZBW2kudHlwZV0oZSx0LGkscix0aGlzLnN0eWxlLnBsYWNlbWVudC52YXJpYWJsZU9mZnNldHMsdGhpcy5vcHRpb25zLmlzSW5pdGlhbExvYWQpLHRoaXMuZ3B1VGltaW5nRW5kKCkpO31ncHVUaW1pbmdTdGFydChlKXtpZighdGhpcy5vcHRpb25zLmdwdVRpbWluZylyZXR1cm47Y29uc3QgdD10aGlzLmNvbnRleHQuZXh0VGltZXJRdWVyeSxpPXRoaXMuY29udGV4dC5nbDtsZXQgcj10aGlzLmdwdVRpbWVyc1tlLmlkXTtyfHwocj10aGlzLmdwdVRpbWVyc1tlLmlkXT17Y2FsbHM6MCxjcHVUaW1lOjAscXVlcnk6aS5jcmVhdGVRdWVyeSgpfSksci5jYWxscysrLGkuYmVnaW5RdWVyeSh0LlRJTUVfRUxBUFNFRF9FWFQsci5xdWVyeSk7fWdwdVRpbWluZ0RlZmVycmVkUmVuZGVyU3RhcnQoKXtpZih0aGlzLm9wdGlvbnMuZ3B1VGltaW5nRGVmZXJyZWRSZW5kZXIpe2NvbnN0IGU9dGhpcy5jb250ZXh0LmV4dFRpbWVyUXVlcnksdD10aGlzLmNvbnRleHQuZ2wsaT10LmNyZWF0ZVF1ZXJ5KCk7dGhpcy5kZWZlcnJlZFJlbmRlckdwdVRpbWVRdWVyaWVzLnB1c2goaSksdC5iZWdpblF1ZXJ5KGUuVElNRV9FTEFQU0VEX0VYVCxpKTt9fWdwdVRpbWluZ0RlZmVycmVkUmVuZGVyRW5kKCl7dGhpcy5vcHRpb25zLmdwdVRpbWluZ0RlZmVycmVkUmVuZGVyJiZ0aGlzLmNvbnRleHQuZ2wuZW5kUXVlcnkodGhpcy5jb250ZXh0LmV4dFRpbWVyUXVlcnkuVElNRV9FTEFQU0VEX0VYVCk7fWdwdVRpbWluZ0VuZCgpe3RoaXMub3B0aW9ucy5ncHVUaW1pbmcmJnRoaXMuY29udGV4dC5nbC5lbmRRdWVyeSh0aGlzLmNvbnRleHQuZXh0VGltZXJRdWVyeS5USU1FX0VMQVBTRURfRVhUKTt9Y29sbGVjdEdwdVRpbWVycygpe2NvbnN0IGU9dGhpcy5ncHVUaW1lcnM7cmV0dXJuIHRoaXMuZ3B1VGltZXJzPXt9LGV9Y29sbGVjdERlZmVycmVkUmVuZGVyR3B1UXVlcmllcygpe2NvbnN0IGU9dGhpcy5kZWZlcnJlZFJlbmRlckdwdVRpbWVRdWVyaWVzO3JldHVybiB0aGlzLmRlZmVycmVkUmVuZGVyR3B1VGltZVF1ZXJpZXM9W10sZX1xdWVyeUdwdVRpbWVycyhlKXtjb25zdCB0PXt9O2Zvcihjb25zdCBpIGluIGUpe2NvbnN0IHI9ZVtpXSxuPXRoaXMuY29udGV4dC5leHRUaW1lclF1ZXJ5LG89bi5nZXRRdWVyeVBhcmFtZXRlcihyLnF1ZXJ5LHRoaXMuY29udGV4dC5nbC5RVUVSWV9SRVNVTFQpLzFlNjtuLmRlbGV0ZVF1ZXJ5RVhUKHIucXVlcnkpLHRbaV09bzt9cmV0dXJuIHR9cXVlcnlHcHVUaW1lRGVmZXJyZWRSZW5kZXIoZSl7aWYoIXRoaXMub3B0aW9ucy5ncHVUaW1pbmdEZWZlcnJlZFJlbmRlcilyZXR1cm4gMDtjb25zdCB0PXRoaXMuY29udGV4dC5leHRUaW1lclF1ZXJ5LGk9dGhpcy5jb250ZXh0LmdsO2xldCByPTA7Zm9yKGNvbnN0IG4gb2YgZSlyKz10LmdldFF1ZXJ5UGFyYW1ldGVyKG4saS5RVUVSWV9SRVNVTFQpLzFlNix0LmRlbGV0ZVF1ZXJ5RVhUKG4pO3JldHVybiByfXRyYW5zbGF0ZVBvc01hdHJpeChlLHQsaSxyLG4pe2lmKCFpWzBdJiYhaVsxXSlyZXR1cm4gZTtjb25zdCBvPW4/XCJtYXBcIj09PXI/dGhpcy50cmFuc2Zvcm0uYW5nbGU6MDpcInZpZXdwb3J0XCI9PT1yPy10aGlzLnRyYW5zZm9ybS5hbmdsZTowO2lmKG8pe2NvbnN0IGU9TWF0aC5zaW4obyksdD1NYXRoLmNvcyhvKTtpPVtpWzBdKnQtaVsxXSplLGlbMF0qZStpWzFdKnRdO31jb25zdCBzPVtuP2lbMF06cnYodCxpWzBdLHRoaXMudHJhbnNmb3JtLnpvb20pLG4/aVsxXTpydih0LGlbMV0sdGhpcy50cmFuc2Zvcm0uem9vbSksMF0sYT1uZXcgRmxvYXQzMkFycmF5KDE2KTtyZXR1cm4gQXUudHJhbnNsYXRlKGEsZSxzKSxhfXNhdmVUaWxlVGV4dHVyZShlKXtjb25zdCB0PWUuc2l6ZVswXSxpPXRoaXMuX3RpbGVUZXh0dXJlc1t0XTtpP2kucHVzaChlKTp0aGlzLl90aWxlVGV4dHVyZXNbdF09W2VdO31nZXRUaWxlVGV4dHVyZShlKXtjb25zdCB0PXRoaXMuX3RpbGVUZXh0dXJlc1tlXTtyZXR1cm4gdCYmdC5sZW5ndGg+MD90LnBvcCgpOm51bGx9aXNQYXR0ZXJuTWlzc2luZyhlLHQpe3JldHVybiBudWxsPT09ZXx8dm9pZCAwIT09ZSYmIXRoaXMuaW1hZ2VNYW5hZ2VyLmdldFBhdHRlcm4oZS50b1N0cmluZygpLHQpfXRlcnJhaW5SZW5kZXJNb2RlRWxldmF0ZWQoKXtyZXR1cm4gdGhpcy5zdHlsZSYmISF0aGlzLnN0eWxlLmdldFRlcnJhaW4oKSYmISF0aGlzLnRlcnJhaW4mJiF0aGlzLnRlcnJhaW4ucmVuZGVyaW5nVG9UZXh0dXJlfWxpbmVhckZsb2F0RmlsdGVyaW5nU3VwcG9ydGVkKCl7cmV0dXJuIG51bGwhPXRoaXMuY29udGV4dC5leHRUZXh0dXJlRmxvYXRMaW5lYXJ9Y3VycmVudEdsb2JhbERlZmluZXMoZSx0LGkpe2NvbnN0IHI9dm9pZCAwPT09aT90aGlzLnRlcnJhaW4mJnRoaXMudGVycmFpbi5yZW5kZXJpbmdUb1RleHR1cmU6aSxuPXRoaXMudGVycmFpbiYmMD09PXRoaXMudGVycmFpbi5leGFnZ2VyYXRpb24oKSxvPVtdO3JldHVybiB0aGlzLnN0eWxlJiZ0aGlzLnN0eWxlLmVuYWJsZTNkTGlnaHRzKCkmJihcImdsb2JlUmFzdGVyXCI9PT1lfHxcInRlcnJhaW5SYXN0ZXJcIj09PWU/KG8ucHVzaChcIkxJR0hUSU5HXzNEX01PREVcIiksby5wdXNoKFwiTElHSFRJTkdfM0RfQUxQSEFfRU1JU1NJVkVORVNTXCIpKTpyfHxvLnB1c2goXCJMSUdIVElOR18zRF9NT0RFXCIpKSxcInNoYWRvd1wiPT09dGhpcy5yZW5kZXJQYXNzP3RoaXMuX3NoYWRvd01hcERlYnVnfHxvLnB1c2goXCJERVBUSF9URVhUVVJFXCIpOnRoaXMuc2hhZG93UmVuZGVyZXImJih0aGlzLnNoYWRvd1JlbmRlcmVyLnVzZU5vcm1hbE9mZnNldD9vLnB1c2goXCJSRU5ERVJfU0hBRE9XU1wiLFwiREVQVEhfVEVYVFVSRVwiLFwiTk9STUFMX09GRlNFVFwiKTpvLnB1c2goXCJSRU5ERVJfU0hBRE9XU1wiLFwiREVQVEhfVEVYVFVSRVwiKSksdGhpcy50ZXJyYWluUmVuZGVyTW9kZUVsZXZhdGVkKCkmJihvLnB1c2goXCJURVJSQUlOXCIpLHRoaXMubGluZWFyRmxvYXRGaWx0ZXJpbmdTdXBwb3J0ZWQoKSYmby5wdXNoKFwiVEVSUkFJTl9ERU1fRkxPQVRfRk9STUFUXCIpLG4mJm8ucHVzaChcIlpFUk9fRVhBR0dFUkFUSU9OXCIpKSxcImdsb2JlXCI9PT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUmJm8ucHVzaChcIkdMT0JFXCIpLCF0aGlzLl9mb2dWaXNpYmxlfHxyfHx2b2lkIDAhPT10JiYhdHx8by5wdXNoKFwiRk9HXCIsXCJGT0dfRElUSEVSSU5HXCIpLHImJm8ucHVzaChcIlJFTkRFUl9UT19URVhUVVJFXCIpLHRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3RvciYmby5wdXNoKFwiT1ZFUkRSQVdfSU5TUEVDVE9SXCIpLG99Z2V0T3JDcmVhdGVQcm9ncmFtKGUsdCl7dGhpcy5jYWNoZT10aGlzLmNhY2hlfHx7fTtjb25zdCBpPXQmJnQuZGVmaW5lc3x8W10scj10JiZ0LmNvbmZpZyxuPXRoaXMuY3VycmVudEdsb2JhbERlZmluZXMoZSx0JiZ0Lm92ZXJyaWRlRm9nLHQmJnQub3ZlcnJpZGVSdHQpLmNvbmNhdChpKSxvPW1NLmNhY2hlS2V5KEdFW2VdLGUsbixyKTtyZXR1cm4gdGhpcy5jYWNoZVtvXXx8KHRoaXMuY2FjaGVbb109bmV3IG1NKHRoaXMuY29udGV4dCxlLEdFW2VdLHIsR01bZV0sbikpLHRoaXMuY2FjaGVbb119c2V0Q3VzdG9tTGF5ZXJEZWZhdWx0cygpe3RoaXMuY29udGV4dC51bmJpbmRWQU8oKSx0aGlzLmNvbnRleHQuY3VsbEZhY2Uuc2V0RGVmYXVsdCgpLHRoaXMuY29udGV4dC5mcm9udEZhY2Uuc2V0RGVmYXVsdCgpLHRoaXMuY29udGV4dC5jdWxsRmFjZVNpZGUuc2V0RGVmYXVsdCgpLHRoaXMuY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldERlZmF1bHQoKSx0aGlzLmNvbnRleHQucGl4ZWxTdG9yZVVucGFjay5zZXREZWZhdWx0KCksdGhpcy5jb250ZXh0LnBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhLnNldERlZmF1bHQoKSx0aGlzLmNvbnRleHQucGl4ZWxTdG9yZVVucGFja0ZsaXBZLnNldERlZmF1bHQoKTt9c2V0QmFzZVN0YXRlKCl7Y29uc3QgZT10aGlzLmNvbnRleHQuZ2w7dGhpcy5jb250ZXh0LmN1bGxGYWNlLnNldCghMSksdGhpcy5jb250ZXh0LnZpZXdwb3J0LnNldChbMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHRdKSx0aGlzLmNvbnRleHQuYmxlbmRFcXVhdGlvbi5zZXQoZS5GVU5DX0FERCk7fWluaXREZWJ1Z092ZXJsYXlDYW52YXMoKXtudWxsPT10aGlzLmRlYnVnT3ZlcmxheUNhbnZhcyYmKHRoaXMuZGVidWdPdmVybGF5Q2FudmFzPXQuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSx0aGlzLmRlYnVnT3ZlcmxheUNhbnZhcy53aWR0aD01MTIsdGhpcy5kZWJ1Z092ZXJsYXlDYW52YXMuaGVpZ2h0PTUxMix0aGlzLmRlYnVnT3ZlcmxheVRleHR1cmU9bmV3IE15KHRoaXMuY29udGV4dCx0aGlzLmRlYnVnT3ZlcmxheUNhbnZhcyx0aGlzLmNvbnRleHQuZ2wuUkdCQSkpO31kZXN0cm95KCl7dGhpcy5fdGVycmFpbiYmdGhpcy5fdGVycmFpbi5kZXN0cm95KCksdGhpcy5fYXRtb3NwaGVyZSYmKHRoaXMuX2F0bW9zcGhlcmUuZGVzdHJveSgpLHRoaXMuX2F0bW9zcGhlcmU9dm9pZCAwKSx0aGlzLmdsb2JlU2hhcmVkQnVmZmVycyYmdGhpcy5nbG9iZVNoYXJlZEJ1ZmZlcnMuZGVzdHJveSgpLHRoaXMuZW1wdHlUZXh0dXJlLmRlc3Ryb3koKSx0aGlzLmRlYnVnT3ZlcmxheVRleHR1cmUmJnRoaXMuZGVidWdPdmVybGF5VGV4dHVyZS5kZXN0cm95KCksdGhpcy5fd2lyZWZyYW1lRGVidWdDYWNoZS5kZXN0cm95KCk7fXByZXBhcmVEcmF3VGlsZSgpe3RoaXMudGVycmFpbiYmdGhpcy50ZXJyYWluLnByZXBhcmVEcmF3VGlsZSgpO311cGxvYWRDb21tb25MaWdodFVuaWZvcm1zKGUsdCl7aWYodGhpcy5zdHlsZS5lbmFibGUzZExpZ2h0cygpKXtjb25zdCBpPXRoaXMuc3R5bGUuZGlyZWN0aW9uYWxMaWdodCxyPXRoaXMuc3R5bGUuYW1iaWVudExpZ2h0O2lmKGkmJnIpe2NvbnN0IG49KChlLHQpPT57Y29uc3QgaT1lLnByb3BlcnRpZXMuZ2V0KFwiZGlyZWN0aW9uXCIpLHI9ZS5wcm9wZXJ0aWVzLmdldChcImNvbG9yXCIpLnRvQXJyYXkwMSgpLG49ZS5wcm9wZXJ0aWVzLmdldChcImludGVuc2l0eVwiKSxvPXQucHJvcGVydGllcy5nZXQoXCJjb2xvclwiKS50b0FycmF5MDEoKSxzPXQucHJvcGVydGllcy5nZXQoXCJpbnRlbnNpdHlcIiksYT1baS54LGkueSxpLnpdLGw9c2UobyxzKSxjPXNlKHIsbik7cmV0dXJuIHt1X2xpZ2h0aW5nX2FtYmllbnRfY29sb3I6bCx1X2xpZ2h0aW5nX2RpcmVjdGlvbmFsX2RpcjphLHVfbGlnaHRpbmdfZGlyZWN0aW9uYWxfY29sb3I6Yyx1X2dyb3VuZF9yYWRpYW5jZTpkTShhLGMsbCl9fSkoaSxyKTt0LnNldExpZ2h0c1VuaWZvcm1WYWx1ZXMoZSxuKTt9fX11cGxvYWRDb21tb25Vbmlmb3JtcyhlLHQsaSxyLG4pe2lmKHRoaXMudXBsb2FkQ29tbW9uTGlnaHRVbmlmb3JtcyhlLHQpLHRoaXMudGVycmFpbiYmdGhpcy50ZXJyYWluLnJlbmRlcmluZ1RvVGV4dHVyZSlyZXR1cm47Y29uc3Qgbz10aGlzLnN0eWxlLmZvZztpZihvKXtjb25zdCBuPW8uZ2V0T3BhY2l0eSh0aGlzLnRyYW5zZm9ybS5waXRjaCkscz0oKGUsdCxpLHIsbixvLHMsYSxsLGMsaCx1KT0+e2NvbnN0IGQ9ZS50cmFuc2Zvcm0scD10LnByb3BlcnRpZXMuZ2V0KFwiY29sb3JcIikudG9BcnJheTAxKCk7cFszXT1yO2NvbnN0IGY9ZS5mcmFtZUNvdW50ZXIvMWUzJTEsW20sX109dC5wcm9wZXJ0aWVzLmdldChcInZlcnRpY2FsLXJhbmdlXCIpO3JldHVybiB7dV9mb2dfbWF0cml4Omk/ZC5jYWxjdWxhdGVGb2dUaWxlTWF0cml4KGkpOnV8fGUuaWRlbnRpdHlNYXQsdV9mb2dfcmFuZ2U6dC5nZXRGb3ZBZGp1c3RlZFJhbmdlKGQuX2ZvdiksdV9mb2dfY29sb3I6cCx1X2ZvZ19ob3Jpem9uX2JsZW5kOnQucHJvcGVydGllcy5nZXQoXCJob3Jpem9uLWJsZW5kXCIpLHVfZm9nX3ZlcnRpY2FsX2xpbWl0OltNYXRoLm1pbihtLF8pLF9dLHVfZm9nX3RlbXBvcmFsX29mZnNldDpmLHVfZnJ1c3R1bV90bDpuLHVfZnJ1c3R1bV90cjpvLHVfZnJ1c3R1bV9icjpzLHVfZnJ1c3R1bV9ibDphLHVfZ2xvYmVfcG9zOmwsdV9nbG9iZV9yYWRpdXM6Yyx1X3ZpZXdwb3J0OmgsdV9nbG9iZV90cmFuc2l0aW9uOkRkKGQuem9vbSksdV9pc19nbG9iZTorKFwiZ2xvYmVcIj09PWQucHJvamVjdGlvbi5uYW1lKX19KSh0aGlzLG8saSxuLHRoaXMudHJhbnNmb3JtLmZydXN0dW1Db3JuZXJzLlRMLHRoaXMudHJhbnNmb3JtLmZydXN0dW1Db3JuZXJzLlRSLHRoaXMudHJhbnNmb3JtLmZydXN0dW1Db3JuZXJzLkJSLHRoaXMudHJhbnNmb3JtLmZydXN0dW1Db3JuZXJzLkJMLHRoaXMudHJhbnNmb3JtLmdsb2JlQ2VudGVySW5WaWV3U3BhY2UsdGhpcy50cmFuc2Zvcm0uZ2xvYmVSYWRpdXMsW3RoaXMudHJhbnNmb3JtLndpZHRoKmR0LmRldmljZVBpeGVsUmF0aW8sdGhpcy50cmFuc2Zvcm0uaGVpZ2h0KmR0LmRldmljZVBpeGVsUmF0aW9dLHIpO3Quc2V0Rm9nVW5pZm9ybVZhbHVlcyhlLHMpO31uJiZ0LnNldEN1dG9mZlVuaWZvcm1WYWx1ZXMoZSxuLnVuaWZvcm1WYWx1ZXMpO31zZXRUaWxlTG9hZGVkRmxhZyhlKXt0aGlzLnRpbGVMb2FkZWQ9ZTt9c2F2ZUNhbnZhc0NvcHkoKXtjb25zdCBlPXRoaXMuY2FudmFzQ29weSgpO2UmJih0aGlzLmZyYW1lQ29waWVzLnB1c2goZSksdGhpcy50aWxlTG9hZGVkPSExKTt9Y2FudmFzQ29weSgpe2NvbnN0IGU9dGhpcy5jb250ZXh0LmdsLHQ9ZS5jcmVhdGVUZXh0dXJlKCk7cmV0dXJuIGUuYmluZFRleHR1cmUoZS5URVhUVVJFXzJELHQpLGUuY29weVRleEltYWdlMkQoZS5URVhUVVJFXzJELDAsZS5SR0JBLDAsMCxlLmRyYXdpbmdCdWZmZXJXaWR0aCxlLmRyYXdpbmdCdWZmZXJIZWlnaHQsMCksdH1nZXRDYW52YXNDb3BpZXNBbmRUaW1lc3RhbXBzKCl7cmV0dXJuIHtjYW52YXNDb3BpZXM6dGhpcy5mcmFtZUNvcGllcyx0aW1lU3RhbXBzOnRoaXMubG9hZFRpbWVTdGFtcHN9fWF2ZXJhZ2VFbGV2YXRpb25OZWVkc0Vhc2luZygpe2lmKCF0aGlzLnRyYW5zZm9ybS5fZWxldmF0aW9uKXJldHVybiAhMTtjb25zdCBlPXRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuZm9nO3JldHVybiAhIWUmJjAhPT1lLmdldE9wYWNpdHkodGhpcy50cmFuc2Zvcm0ucGl0Y2gpfWdldEJhY2tncm91bmRUaWxlcygpe2NvbnN0IGU9dGhpcy5fYmFja2dyb3VuZFRpbGVzLHQ9dGhpcy5fYmFja2dyb3VuZFRpbGVzPXt9LGk9dGhpcy50cmFuc2Zvcm0uY292ZXJpbmdUaWxlcyh7dGlsZVNpemU6NTEyfSk7Zm9yKGNvbnN0IHIgb2YgaSl0W3Iua2V5XT1lW3Iua2V5XXx8bmV3IE95KHIsNTEyLHRoaXMudHJhbnNmb3JtLnRpbGVab29tLHRoaXMpO3JldHVybiB0fWNsZWFyQmFja2dyb3VuZFRpbGVzKCl7dGhpcy5fYmFja2dyb3VuZFRpbGVzPXt9O31sYXllclVzZWRJbkNvbmZsYXRpb24oZSx0KXtyZXR1cm4gISghZS5pczNEKCl8fGUubWluem9vbSYmZS5taW56b29tPnRoaXMudHJhbnNmb3JtLnpvb218fFwiYnVpbGRpbmdcIiE9PWUuc291cmNlTGF5ZXImJighdHx8XCJiYXRjaGVkLW1vZGVsXCIhPT10LnR5cGUpKX1pc1RpbGVBZmZlY3RlZEJ5Rm9nKGUpe2lmKCF0aGlzLnN0eWxlfHwhdGhpcy5zdHlsZS5mb2cpcmV0dXJuICExO2lmKFwiZ2xvYmVcIj09PXRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSlyZXR1cm4gITA7bGV0IHQ9dGhpcy5fY2FjaGVkVGlsZUZvZ09wYWNpdGllc1tlLmtleV07cmV0dXJuIHR8fCh0aGlzLl9jYWNoZWRUaWxlRm9nT3BhY2l0aWVzW2Uua2V5XT10PXRoaXMuc3R5bGUuZm9nLmdldE9wYWNpdHlGb3JUaWxlKGUpKSx0WzBdPj1md3x8dFsxXT49Znd9fWNvbnN0IFZBPTIwNDg7Y2xhc3MgakF7Y29uc3RydWN0b3IoZSx0KXt0aGlzLmFhYmI9ZSx0aGlzLmxhc3RDYXNjYWRlPXQ7fX1jbGFzcyBHQXthZGQoZSx0KXtjb25zdCBpPXRoaXMucmVjZWl2ZXJzW2Uua2V5XTt2b2lkIDAhPT1pPyhpLmFhYmIubWluWzBdPU1hdGgubWluKGkuYWFiYi5taW5bMF0sdC5taW5bMF0pLGkuYWFiYi5taW5bMV09TWF0aC5taW4oaS5hYWJiLm1pblsxXSx0Lm1pblsxXSksaS5hYWJiLm1pblsyXT1NYXRoLm1pbihpLmFhYmIubWluWzJdLHQubWluWzJdKSxpLmFhYmIubWF4WzBdPU1hdGgubWF4KGkuYWFiYi5tYXhbMF0sdC5tYXhbMF0pLGkuYWFiYi5tYXhbMV09TWF0aC5tYXgoaS5hYWJiLm1heFsxXSx0Lm1heFsxXSksaS5hYWJiLm1heFsyXT1NYXRoLm1heChpLmFhYmIubWF4WzJdLHQubWF4WzJdKSk6dGhpcy5yZWNlaXZlcnNbZS5rZXldPW5ldyBqQSh0LG51bGwpO31jbGVhcigpe3RoaXMucmVjZWl2ZXJzPXt9O31nZXQoZSl7cmV0dXJuIHRoaXMucmVjZWl2ZXJzW2Uua2V5XX1jb21wdXRlUmVxdWlyZWRDYXNjYWRlcyhlLHQsaSl7Y29uc3Qgcj1lZC5mcm9tUG9pbnRzKGUucG9pbnRzKTtsZXQgbj0wO2Zvcihjb25zdCBlIGluIHRoaXMucmVjZWl2ZXJzKXtjb25zdCBvPXRoaXMucmVjZWl2ZXJzW2VdO2lmKCFvKWNvbnRpbnVlO2lmKCFyLmludGVyc2VjdHNBYWJiKG8uYWFiYikpY29udGludWU7by5hYWJiLm1pbj1yLmNsb3Nlc3RQb2ludChvLmFhYmIubWluKSxvLmFhYmIubWF4PXIuY2xvc2VzdFBvaW50KG8uYWFiYi5tYXgpO2NvbnN0IHM9by5hYWJiLmdldENvcm5lcnMoKTtmb3IobGV0IGU9MDtlPGkubGVuZ3RoO2UrKyl7bGV0IHI9ITA7Zm9yKGNvbnN0IG4gb2Ygcyl7Y29uc3Qgbz1bblswXSp0LG5bMV0qdCxuWzJdXTtpZihEdS50cmFuc2Zvcm1NYXQ0KG8sbyxpW2VdLm1hdHJpeCksb1swXTwtMXx8b1swXT4xfHxvWzFdPC0xfHxvWzFdPjEpe3I9ITE7YnJlYWt9fWlmKG8ubGFzdENhc2NhZGU9ZSxuPU1hdGgubWF4KG4sZSkscilicmVha319cmV0dXJuIG4rMX19Y2xhc3MgcUF7Y29uc3RydWN0b3IoZSl7dGhpcy5wYWludGVyPWUsdGhpcy5fZW5hYmxlZD0hMSx0aGlzLl9zaGFkb3dMYXllckNvdW50PTAsdGhpcy5fbnVtQ2FzY2FkZXNUb1JlbmRlcj0wLHRoaXMuX2Nhc2NhZGVzPVtdLHRoaXMuX2dyb3VuZFNoYWRvd1RpbGVzPVtdLHRoaXMuX3JlY2VpdmVycz1uZXcgR0EsdGhpcy5fZGVwdGhNb2RlPW5ldyBNeChlLmNvbnRleHQuZ2wuTEVRVUFMLE14LlJlYWRXcml0ZSxbMCwxXSksdGhpcy5fdW5pZm9ybVZhbHVlcz17dV9saWdodF9tYXRyaXhfMDpuZXcgRmxvYXQzMkFycmF5KDE2KSx1X2xpZ2h0X21hdHJpeF8xOm5ldyBGbG9hdDMyQXJyYXkoMTYpLHVfc2hhZG93X2ludGVuc2l0eTowLHVfZmFkZV9yYW5nZTpbMCwwXSx1X3NoYWRvd19ub3JtYWxfb2Zmc2V0OlsxLDEsMV0sdV9zaGFkb3dfdGV4ZWxfc2l6ZToxLHVfc2hhZG93X21hcF9yZXNvbHV0aW9uOjEsdV9zaGFkb3dfZGlyZWN0aW9uOlswLDAsMV0sdV9zaGFkb3dfYmlhczpbMzZlLTUsLjAwMTIsLjAxMl0sdV9zaGFkb3dtYXBfMDowLHVfc2hhZG93bWFwXzE6MH0sdGhpcy51c2VOb3JtYWxPZmZzZXQ9ITE7fWRlc3Ryb3koKXtmb3IoY29uc3QgZSBvZiB0aGlzLl9jYXNjYWRlcyllLnRleHR1cmUuZGVzdHJveSgpLGUuZnJhbWVidWZmZXIuZGVzdHJveSgpO3RoaXMuX2Nhc2NhZGVzPVtdO311cGRhdGVTaGFkb3dQYXJhbWV0ZXJzKGUsdCl7Y29uc3QgaT10aGlzLnBhaW50ZXI7aWYodGhpcy5fZW5hYmxlZD0hMSx0aGlzLl9zaGFkb3dMYXllckNvdW50PTAsdGhpcy5fcmVjZWl2ZXJzLmNsZWFyKCksIXR8fCF0LnByb3BlcnRpZXMpcmV0dXJuO2NvbnN0IHI9dC5wcm9wZXJ0aWVzLmdldChcInNoYWRvdy1pbnRlbnNpdHlcIik7aWYoIXQuc2hhZG93c0VuYWJsZWQoKXx8cjw9MClyZXR1cm47aWYodGhpcy5fc2hhZG93TGF5ZXJDb3VudD1pLnN0eWxlLm9yZGVyLnJlZHVjZSgoKHQscik9Pntjb25zdCBuPWkuc3R5bGUuX21lcmdlZExheWVyc1tyXTtyZXR1cm4gdCsobi5oYXNTaGFkb3dQYXNzKCkmJiFuLmlzSGlkZGVuKGUuem9vbSk/MTowKX0pLDApLHRoaXMuX2VuYWJsZWQ9dGhpcy5fc2hhZG93TGF5ZXJDb3VudD4wLCF0aGlzLl9lbmFibGVkKXJldHVybjtjb25zdCBuPWkuY29udGV4dCxvPVZBLHM9VkE7aWYoMD09PXRoaXMuX2Nhc2NhZGVzLmxlbmd0aClmb3IobGV0IGU9MDtlPDI7KytlKXtjb25zdCBlPWkuX3NoYWRvd01hcERlYnVnLHQ9bi5nbCxyPW4uY3JlYXRlRnJhbWVidWZmZXIobyxzLGUsXCJ0ZXh0dXJlXCIpLGE9bmV3IE15KG4se3dpZHRoOm8saGVpZ2h0OnMsZGF0YTpudWxsfSx0LkRFUFRIX0NPTVBPTkVOVCk7aWYoci5kZXB0aEF0dGFjaG1lbnQuc2V0KGEudGV4dHVyZSksZSl7Y29uc3QgZT1uZXcgTXkobix7d2lkdGg6byxoZWlnaHQ6cyxkYXRhOm51bGx9LHQuUkdCQSk7ci5jb2xvckF0dGFjaG1lbnQuc2V0KGUudGV4dHVyZSk7fXRoaXMuX2Nhc2NhZGVzLnB1c2goe2ZyYW1lYnVmZmVyOnIsdGV4dHVyZTphLG1hdHJpeDpbXSxmYXI6MCxib3VuZGluZ1NwaGVyZVJhZGl1czowLGZydXN0dW06bmV3IFF1LHNjYWxlOjB9KTt9dGhpcy5zaGFkb3dEaXJlY3Rpb249JEEodCk7bGV0IGE9MDtpZihlLmVsZXZhdGlvbil7Y29uc3QgdD1lLmVsZXZhdGlvbixpPVsxZTQsLTFlNF07dC52aXNpYmxlRGVtVGlsZXMuZmlsdGVyKChlPT5lLmRlbSkpLmZvckVhY2goKGU9Pntjb25zdCB0PWUuZGVtLnRyZWU7aVswXT1NYXRoLm1pbihpWzBdLHQubWluaW11bXNbMF0pLGlbMV09TWF0aC5tYXgoaVsxXSx0Lm1heGltdW1zWzBdKTt9KSksMWU0IT09aVswXSYmKGE9KGlbMV0taVswXSkqdC5leGFnZ2VyYXRpb24oKSk7fWNvbnN0IGw9MS41KmUuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSxjPTMqbCxoPW5ldyBGbG9hdDY0QXJyYXkoMTYpO2ZvcihsZXQgdD0wO3Q8MjsrK3Qpe2NvbnN0IGk9dGhpcy5fY2FzY2FkZXNbdF07bGV0IHI9ZS5oZWlnaHQvNTAsbj0xOzA9PT10P249bDoocj1sLG49Yyk7Y29uc3RbbyxzXT1IQShlLHRoaXMuc2hhZG93RGlyZWN0aW9uLHIsbixWQSxhKTtpLnNjYWxlPWUuc2NhbGUsaS5tYXRyaXg9byxpLmJvdW5kaW5nU3BoZXJlUmFkaXVzPXMsQXUuaW52ZXJ0KGgsaS5tYXRyaXgpLGkuZnJ1c3R1bT1RdS5mcm9tSW52UHJvamVjdGlvbk1hdHJpeChoLDEsMCwhMCksaS5mYXI9bjt9dGhpcy5fdW5pZm9ybVZhbHVlcy51X2ZhZGVfcmFuZ2U9Wy43NSp0aGlzLl9jYXNjYWRlc1sxXS5mYXIsdGhpcy5fY2FzY2FkZXNbMV0uZmFyXSx0aGlzLl91bmlmb3JtVmFsdWVzLnVfc2hhZG93X2ludGVuc2l0eT1yLHRoaXMuX3VuaWZvcm1WYWx1ZXMudV9zaGFkb3dfZGlyZWN0aW9uPVt0aGlzLnNoYWRvd0RpcmVjdGlvblswXSx0aGlzLnNoYWRvd0RpcmVjdGlvblsxXSx0aGlzLnNoYWRvd0RpcmVjdGlvblsyXV0sdGhpcy5fdW5pZm9ybVZhbHVlcy51X3NoYWRvd190ZXhlbF9zaXplPS4wMDA0ODgyODEyNSx0aGlzLl91bmlmb3JtVmFsdWVzLnVfc2hhZG93X21hcF9yZXNvbHV0aW9uPVZBLHRoaXMuX3VuaWZvcm1WYWx1ZXMudV9zaGFkb3dtYXBfMD1OTS5TaGFkb3dNYXAwLHRoaXMuX3VuaWZvcm1WYWx1ZXMudV9zaGFkb3dtYXBfMT1OTS5TaGFkb3dNYXAwKzEsdGhpcy5fZ3JvdW5kU2hhZG93VGlsZXM9aS50cmFuc2Zvcm0uY292ZXJpbmdUaWxlcyh7dGlsZVNpemU6NTEyLHJlbmRlcldvcmxkQ29waWVzOiEwfSk7Y29uc3QgdT1pLnRyYW5zZm9ybS5lbGV2YXRpb247Zm9yKGNvbnN0IGUgb2YgdGhpcy5fZ3JvdW5kU2hhZG93VGlsZXMpe2xldCB0PXttaW46MCxtYXg6MH07aWYodSl7Y29uc3QgaT11LmdldE1pbk1heEZvclRpbGUoZSk7aSYmKHQ9aSk7fXRoaXMuYWRkU2hhZG93UmVjZWl2ZXIoZS50b1Vud3JhcHBlZCgpLHQubWluLHQubWF4KTt9fWdldCBlbmFibGVkKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9c2V0IGVuYWJsZWQoZSl7dGhpcy5fZW5hYmxlZD1lO31kcmF3U2hhZG93UGFzcyhlLHQpe2lmKCF0aGlzLl9lbmFibGVkKXJldHVybjtjb25zdCBpPXRoaXMucGFpbnRlcixyPWkuY29udGV4dDt0aGlzLl9udW1DYXNjYWRlc1RvUmVuZGVyPXRoaXMuX3JlY2VpdmVycy5jb21wdXRlUmVxdWlyZWRDYXNjYWRlcyhpLnRyYW5zZm9ybS5nZXRGcnVzdHVtKDApLGkudHJhbnNmb3JtLndvcmxkU2l6ZSx0aGlzLl9jYXNjYWRlcyksci52aWV3cG9ydC5zZXQoWzAsMCxWQSxWQV0pO2ZvcihsZXQgbj0wO248dGhpcy5fbnVtQ2FzY2FkZXNUb1JlbmRlcjsrK24pe2kuY3VycmVudFNoYWRvd0Nhc2NhZGU9bixyLmJpbmRGcmFtZWJ1ZmZlci5zZXQodGhpcy5fY2FzY2FkZXNbbl0uZnJhbWVidWZmZXIuZnJhbWVidWZmZXIpLHIuY2xlYXIoe2NvbG9yOmhpLndoaXRlLGRlcHRoOjF9KTtmb3IoY29uc3QgciBvZiBlLm9yZGVyKXtjb25zdCBuPWUuX21lcmdlZExheWVyc1tyXTtpZighbi5oYXNTaGFkb3dQYXNzKCl8fG4uaXNIaWRkZW4oaS50cmFuc2Zvcm0uem9vbSkpY29udGludWU7Y29uc3Qgbz1lLmdldExheWVyU291cmNlQ2FjaGUobikscz1vP3Rbby5pZF06dm9pZCAwOyhcIm1vZGVsXCI9PT1uLnR5cGV8fHMmJnMubGVuZ3RoKSYmaS5yZW5kZXJMYXllcihpLG8sbixzKTt9fWkuY3VycmVudFNoYWRvd0Nhc2NhZGU9MDt9ZHJhd0dyb3VuZFNoYWRvd3MoKXtpZighdGhpcy5fZW5hYmxlZClyZXR1cm47Y29uc3QgZT10aGlzLnBhaW50ZXIsdD1lLnN0eWxlLGk9ZS5jb250ZXh0LHI9dC5kaXJlY3Rpb25hbExpZ2h0LG49dC5hbWJpZW50TGlnaHQ7aWYoIXJ8fCFuKXJldHVybjtjb25zdCBvPVtdLHM9ZU0oZSxlLmxvbmdlc3RDdXRvZmZSYW5nZSk7cy5zaG91bGRSZW5kZXJDdXRvZmYmJm8ucHVzaChcIlJFTkRFUl9DVVRPRkZcIik7Y29uc3QgYT1XQShyLG4pLGw9bmV3IE14KGkuZ2wuTEVRVUFMLE14LlJlYWRPbmx5LGUuZGVwdGhSYW5nZUZvcjNEKTtmb3IoY29uc3QgdCBvZiB0aGlzLl9ncm91bmRTaGFkb3dUaWxlcyl7Y29uc3Qgcj10LnRvVW53cmFwcGVkKCksbj1lLmlzVGlsZUFmZmVjdGVkQnlGb2codCksYz1lLmdldE9yQ3JlYXRlUHJvZ3JhbShcImdyb3VuZFNoYWRvd1wiLHtkZWZpbmVzOm8sb3ZlcnJpZGVGb2c6bn0pO3RoaXMuc2V0dXBTaGFkb3dzKHIsYyksZS51cGxvYWRDb21tb25Vbmlmb3JtcyhpLGMscixudWxsLHMpO2NvbnN0IGg9e3VfbWF0cml4OmUudHJhbnNmb3JtLmNhbGN1bGF0ZVByb2pNYXRyaXgociksdV9ncm91bmRfc2hhZG93X2ZhY3RvcjphfTtjLmRyYXcoZSxpLmdsLlRSSUFOR0xFUyxsLFN4LmRpc2FibGVkLEN4Lm11bHRpcGx5LER4LmRpc2FibGVkLGgsXCJncm91bmRfc2hhZG93XCIsZS50aWxlRXh0ZW50QnVmZmVyLGUucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsZS50aWxlRXh0ZW50U2VnbWVudHMse30sZS50cmFuc2Zvcm0uem9vbSxudWxsLG51bGwpO319Z2V0U2hhZG93UGFzc0NvbG9yTW9kZSgpe3JldHVybiB0aGlzLnBhaW50ZXIuX3NoYWRvd01hcERlYnVnP0N4LnVuYmxlbmRlZDpDeC5kaXNhYmxlZH1nZXRTaGFkb3dQYXNzRGVwdGhNb2RlKCl7cmV0dXJuIHRoaXMuX2RlcHRoTW9kZX1nZXRTaGFkb3dDYXN0aW5nTGF5ZXJDb3VudCgpe3JldHVybiB0aGlzLl9zaGFkb3dMYXllckNvdW50fWNhbGN1bGF0ZVNoYWRvd1Bhc3NNYXRyaXhGcm9tVGlsZShlKXtjb25zdCB0PXRoaXMucGFpbnRlci50cmFuc2Zvcm0saT10LmNhbGN1bGF0ZVBvc01hdHJpeChlLHQud29ybGRTaXplKTtyZXR1cm4gQXUubXVsdGlwbHkoaSx0aGlzLl9jYXNjYWRlc1t0aGlzLnBhaW50ZXIuY3VycmVudFNoYWRvd0Nhc2NhZGVdLm1hdHJpeCxpKSxGbG9hdDMyQXJyYXkuZnJvbShpKX1jYWxjdWxhdGVTaGFkb3dQYXNzTWF0cml4RnJvbU1hdHJpeChlKXtyZXR1cm4gQXUubXVsdGlwbHkoZSx0aGlzLl9jYXNjYWRlc1t0aGlzLnBhaW50ZXIuY3VycmVudFNoYWRvd0Nhc2NhZGVdLm1hdHJpeCxlKSxGbG9hdDMyQXJyYXkuZnJvbShlKX1zZXR1cFNoYWRvd3MoZSx0LGkscj0wKXtpZighdGhpcy5fZW5hYmxlZClyZXR1cm47Y29uc3Qgbj10aGlzLnBhaW50ZXIudHJhbnNmb3JtLG89dGhpcy5wYWludGVyLmNvbnRleHQscz1vLmdsLGE9dGhpcy5fdW5pZm9ybVZhbHVlcyxsPW5ldyBGbG9hdDY0QXJyYXkoMTYpLGM9bi5jYWxjdWxhdGVQb3NNYXRyaXgoZSxuLndvcmxkU2l6ZSk7Zm9yKGxldCBlPTA7ZTwyO2UrKylBdS5tdWx0aXBseShsLHRoaXMuX2Nhc2NhZGVzW2VdLm1hdHJpeCxjKSxhWzA9PT1lP1widV9saWdodF9tYXRyaXhfMFwiOlwidV9saWdodF9tYXRyaXhfMVwiXT1GbG9hdDMyQXJyYXkuZnJvbShsKSxvLmFjdGl2ZVRleHR1cmUuc2V0KHMuVEVYVFVSRTArTk0uU2hhZG93TWFwMCtlKSx0aGlzLl9jYXNjYWRlc1tlXS50ZXh0dXJlLmJpbmQocy5ORUFSRVNULHMuQ0xBTVBfVE9fRURHRSk7aWYodGhpcy51c2VOb3JtYWxPZmZzZXQ9ISFpLHRoaXMudXNlTm9ybWFsT2Zmc2V0KXtjb25zdCB0PWFwKGUuY2Fub25pY2FsKSxvPTIvbi50aWxlU2l6ZSpjci9WQSxzPW8qdGhpcy5fY2FzY2FkZXNbMF0uYm91bmRpbmdTcGhlcmVSYWRpdXMsbD1vKnRoaXMuX2Nhc2NhZGVzWzFdLmJvdW5kaW5nU3BoZXJlUmFkaXVzLGM9KFwidmVjdG9yLXRpbGVcIj09PWk/MTozKS9NYXRoLnBvdygyLHItZS5jYW5vbmljYWwuei0oMS1uLnpvb20rTWF0aC5mbG9vcihuLnpvb20pKSk7YS51X3NoYWRvd19ub3JtYWxfb2Zmc2V0PVt0LHMqYyxsKmNdLGEudV9zaGFkb3dfYmlhcz1bNmUtNSwuMDAxMiwuMDEyXTt9ZWxzZSBhLnVfc2hhZG93X2JpYXM9WzM2ZS01LC4wMDEyLC4wMTJdO3Quc2V0U2hhZG93VW5pZm9ybVZhbHVlcyhvLGEpO31zZXR1cFNoYWRvd3NGcm9tTWF0cml4KGUsdCxpPSExKXtpZighdGhpcy5fZW5hYmxlZClyZXR1cm47Y29uc3Qgcj10aGlzLnBhaW50ZXIuY29udGV4dCxuPXIuZ2wsbz10aGlzLl91bmlmb3JtVmFsdWVzLHM9bmV3IEZsb2F0NjRBcnJheSgxNik7Zm9yKGxldCB0PTA7dDwyO3QrKylBdS5tdWx0aXBseShzLHRoaXMuX2Nhc2NhZGVzW3RdLm1hdHJpeCxlKSxvWzA9PT10P1widV9saWdodF9tYXRyaXhfMFwiOlwidV9saWdodF9tYXRyaXhfMVwiXT1GbG9hdDMyQXJyYXkuZnJvbShzKSxyLmFjdGl2ZVRleHR1cmUuc2V0KG4uVEVYVFVSRTArTk0uU2hhZG93TWFwMCt0KSx0aGlzLl9jYXNjYWRlc1t0XS50ZXh0dXJlLmJpbmQobi5ORUFSRVNULG4uQ0xBTVBfVE9fRURHRSk7aWYodGhpcy51c2VOb3JtYWxPZmZzZXQ9aSxpKXtjb25zdCBlPTU7by51X3NoYWRvd19ub3JtYWxfb2Zmc2V0PVsxLGUsZV0sby51X3NoYWRvd19iaWFzPVs2ZS01LC4wMDEyLC4wMTJdO31lbHNlIG8udV9zaGFkb3dfYmlhcz1bMzZlLTUsLjAwMTIsLjAxMl07dC5zZXRTaGFkb3dVbmlmb3JtVmFsdWVzKHIsbyk7fWdldFNoYWRvd1VuaWZvcm1WYWx1ZXMoKXtyZXR1cm4gdGhpcy5fdW5pZm9ybVZhbHVlc31nZXRDdXJyZW50Q2FzY2FkZUZydXN0dW0oKXtyZXR1cm4gdGhpcy5fY2FzY2FkZXNbdGhpcy5wYWludGVyLmN1cnJlbnRTaGFkb3dDYXNjYWRlXS5mcnVzdHVtfWNvbXB1dGVTaW1wbGlmaWVkVGlsZVNoYWRvd1ZvbHVtZShlLHQsaSxyKXtpZihyWzJdPj0wKXJldHVybiB7fTtjb25zdCBuPWZ1bmN0aW9uKGUsdCxpKXtjb25zdCByPWkvKDE8PGUuY2Fub25pY2FsLnopO3JldHVybiBuZXcgZWQoW2UuY2Fub25pY2FsLngqcitlLndyYXAqaSxlLmNhbm9uaWNhbC55KnIrZS53cmFwKmksMF0sWyhlLmNhbm9uaWNhbC54KzEpKnIrZS53cmFwKmksKGUuY2Fub25pY2FsLnkrMSkqcitlLndyYXAqaSx0XSl9KGUsdCxpKS5nZXRDb3JuZXJzKCksbz10Ly1yWzJdO3JbMF08MD8oRHUuYWRkKG5bMF0sblswXSxbclswXSpvLDAsMF0pLER1LmFkZChuWzNdLG5bM10sW3JbMF0qbywwLDBdKSk6clswXT4wJiYoRHUuYWRkKG5bMV0sblsxXSxbclswXSpvLDAsMF0pLER1LmFkZChuWzJdLG5bMl0sW3JbMF0qbywwLDBdKSksclsxXTwwPyhEdS5hZGQoblswXSxuWzBdLFswLHJbMV0qbywwXSksRHUuYWRkKG5bMV0sblsxXSxbMCxyWzFdKm8sMF0pKTpyWzFdPjAmJihEdS5hZGQoblsyXSxuWzJdLFswLHJbMV0qbywwXSksRHUuYWRkKG5bM10sblszXSxbMCxyWzFdKm8sMF0pKTtjb25zdCBzPXt9O3JldHVybiBzLnZlcnRpY2VzPW4scy5wbGFuZXM9W1pBKG5bMV0sblswXSxuWzRdKSxaQShuWzJdLG5bMV0sbls1XSksWkEoblszXSxuWzJdLG5bNl0pLFpBKG5bMF0sblszXSxuWzddKV0sc31hZGRTaGFkb3dSZWNlaXZlcihlLHQsaSl7dGhpcy5fcmVjZWl2ZXJzLmFkZChlLGVkLmZyb21UaWxlSWRBbmRIZWlnaHQoZSx0LGkpKTt9Z2V0TWF4Q2FzY2FkZUZvclRpbGUoZSl7Y29uc3QgdD10aGlzLl9yZWNlaXZlcnMuZ2V0KGUpO3JldHVybiB0JiZ0Lmxhc3RDYXNjYWRlP3QubGFzdENhc2NhZGU6MH19ZnVuY3Rpb24gWkEoZSx0LGkpe2NvbnN0IHI9RHUuc3ViKFtdLGksdCksbj1EdS5zdWIoW10sZSx0KSxvPUR1LmNyb3NzKFtdLHIsbikscz1EdS5sZW5ndGgobyk7cmV0dXJuIDA9PT1zP1swLDAsMSwwXTooRHUuc2NhbGUobyxvLDEvcyksW29bMF0sb1sxXSxvWzJdLC1EdS5kb3Qobyx0KV0pfWZ1bmN0aW9uICRBKGUpe2NvbnN0IHQ9ZS5wcm9wZXJ0aWVzLmdldChcImRpcmVjdGlvblwiKSxpPUoodC54LHQueSx0LnopO2lbMl09eihpWzJdLDAsNzUpO2NvbnN0IHI9SyhbaVswXSxpWzFdLGlbMl1dKTtyZXR1cm4gRHUuZnJvbVZhbHVlcyhyLngsci55LHIueil9ZnVuY3Rpb24gV0EoZSx0KXtjb25zdCBpPWUucHJvcGVydGllcy5nZXQoXCJjb2xvclwiKSxyPWUucHJvcGVydGllcy5nZXQoXCJpbnRlbnNpdHlcIiksbj1lLnByb3BlcnRpZXMuZ2V0KFwiZGlyZWN0aW9uXCIpLG89W24ueCxuLnksbi56XSxzPXQucHJvcGVydGllcy5nZXQoXCJjb2xvclwiKSxhPXQucHJvcGVydGllcy5nZXQoXCJpbnRlbnNpdHlcIiksbD1NYXRoLm1heChEdS5kb3QoWzAsMCwxXSxvKSwwKSxjPVswLDAsMF07RHUuc2NhbGUoYyxzLnRvQXJyYXkwMUxpbmVhcigpLnNsaWNlKDAsMyksYSk7Y29uc3QgaD1bMCwwLDBdO3JldHVybiBEdS5zY2FsZShoLGkudG9BcnJheTAxTGluZWFyKCkuc2xpY2UoMCwzKSxsKnIpLGFlKFtjWzBdPjA/Y1swXS8oY1swXStoWzBdKTowLGNbMV0+MD9jWzFdLyhjWzFdK2hbMV0pOjAsY1syXT4wP2NbMl0vKGNbMl0raFsyXSk6MF0pfWZ1bmN0aW9uIEhBKGUsdCxpLHIsbixvKXtjb25zdCBzPWUuem9vbSxhPWUuc2NhbGUsbD1lLndvcmxkU2l6ZSxjPTEvbCxoPWUuYXNwZWN0LHU9TWF0aC5zcXJ0KDEraCpoKSpNYXRoLnRhbiguNSplLmZvdlgpLGQ9dSp1LHA9ci1pLGY9citpO2xldCBtLF87ZD5wL2Y/KG09cixfPXIqdSk6KG09LjUqZiooMStkKSxfPS41Kk1hdGguc3FydChwKnArMioocipyK2kqaSkqZCtmKmYqZCpkKSk7Y29uc3QgZz1lLnByb2plY3Rpb24ucGl4ZWxzUGVyTWV0ZXIoZS5jZW50ZXIubGF0LGwpLHk9ZS5fY2FtZXJhLmdldENhbWVyYVRvV29ybGRNZXJjYXRvcigpLHg9WzAsMCwtbSpjXTtEdS50cmFuc2Zvcm1NYXQ0KHgseCx5KTtsZXQgdj1fKmM7Y29uc3QgYj1lLl9lZGdlSW5zZXRzO2lmKCEoMD09PWIubGVmdCYmMD09PWIudG9wJiYwPT09Yi5yaWdodCYmMD09PWIuYm90dG9tfHxiLmxlZnQ9PT1iLnJpZ2h0JiZiLnRvcD09PWIuYm90dG9tKSl7Y29uc3QgdD1lLl9jYW1lcmEuZ2V0V29ybGRUb0NhbWVyYShlLndvcmxkU2l6ZSxcIm1ldGVyc1wiPT09ZS5wcm9qZWN0aW9uLnpBeGlzVW5pdD9nOjEpLG49ZS5fY2FtZXJhLmdldENhbWVyYVRvQ2xpcFBlcnNwZWN0aXZlKGUuX2ZvdixlLndpZHRoL2UuaGVpZ2h0LGkscik7bls4XT0yKi1lLmNlbnRlck9mZnNldC54L2Uud2lkdGgsbls5XT0yKmUuY2VudGVyT2Zmc2V0LnkvZS5oZWlnaHQ7Y29uc3Qgbz1uZXcgRmxvYXQ2NEFycmF5KDE2KTtBdS5tdWwobyxuLHQpO2NvbnN0IGM9bmV3IEZsb2F0NjRBcnJheSgxNik7QXUuaW52ZXJ0KGMsbyk7Y29uc3QgaD1RdS5mcm9tSW52UHJvamVjdGlvbk1hdHJpeChjLGwscywhMCk7Zm9yKGNvbnN0IHQgb2YgaC5wb2ludHMpe2NvbnN0IGk9KCh3PXQpWzBdLz1hLHdbMV0vPWEsd1syXT1RZCh3WzJdLGUuX2NlbnRlci5sYXQpLHcpO3Y9TWF0aC5tYXgodixEdS5sZW4oRHUuc3VidHJhY3QoW10seCxpKSkpO319dmFyIHc7dio9bi8obi0xKTtjb25zdCBUPU1hdGguYWNvcyh0WzJdKSxFPU1hdGguYXRhbjIoLXRbMF0sLXRbMV0pLE09bmV3IFl4O00ucG9zaXRpb249eCxNLnNldFBpdGNoQmVhcmluZyhULEUpO2NvbnN0IEE9TS5nZXRXb3JsZFRvQ2FtZXJhKGwsZyksUz12KmwsST1NYXRoLm1pbihlLl9tZXJjYXRvclpmcm9tWm9vbSgxNykqbCotMiwtMipTKSxDPU0uZ2V0Q2FtZXJhVG9DbGlwT3J0aG9ncmFwaGljKC1TLFMsLVMsUyxJLChTK28qZykvdFsyXSksej1uZXcgRmxvYXQ2NEFycmF5KDE2KTtBdS5tdWx0aXBseSh6LEMsQSk7Y29uc3QgUD1EdS5mcm9tVmFsdWVzKE1hdGguZmxvb3IoMWU2KnhbMF0pLzFlNipsLE1hdGguZmxvb3IoMWU2KnhbMV0pLzFlNipsLDApLEQ9LjUqbixSPVswLDAsMF07RHUudHJhbnNmb3JtTWF0NChSLFAseiksRHUuc2NhbGUoUixSLEQpO2NvbnN0IEw9W01hdGguZmxvb3IoUlswXSksTWF0aC5mbG9vcihSWzFdKSxNYXRoLmZsb29yKFJbMl0pXSxrPVswLDAsMF07RHUuc3ViKGssUixMKSxEdS5zY2FsZShrLGssLTEvRCk7Y29uc3QgTz1uZXcgRmxvYXQ2NEFycmF5KDE2KTtyZXR1cm4gQXUuaWRlbnRpdHkoTyksQXUudHJhbnNsYXRlKE8sTyxrKSxBdS5tdWx0aXBseSh6LE8seiksW3osU119Y2xhc3MgWEEgZXh0ZW5kcyB6dHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMucmVxdWVzdE1hbmFnZXI9ZSx0aGlzLm1vZGVscz17XCJcIjp7fX0sdGhpcy5udW1Nb2RlbHNMb2FkaW5nPXt9O31sb2FkTW9kZWwoZSx0KXtyZXR1cm4gZlQodGhpcy5yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KHQseWUuTW9kZWwpLnVybCkudGhlbigodD0+e2lmKCF0KXJldHVybjtjb25zdCBpPVRUKHQpLHI9bmV3IEN2KGUsdm9pZCAwLHZvaWQgMCxpKTtyZXR1cm4gci5jb21wdXRlQm91bmRzQW5kQXBwbHlQYXJlbnQoKSxyfSkpLmNhdGNoKChpPT57dGhpcy5maXJlKG5ldyBDdChuZXcgRXJyb3IoYENvdWxkIG5vdCBsb2FkIG1vZGVsICR7ZX0gZnJvbSAke3R9OiAke2kubWVzc2FnZX1gKSkpO30pKX1sb2FkKGUsdCl7dGhpcy5tb2RlbHNbdF18fCh0aGlzLm1vZGVsc1t0XT17fSk7Y29uc3QgaT1PYmplY3Qua2V5cyhlKTt0aGlzLm51bU1vZGVsc0xvYWRpbmdbdF09KHRoaXMubnVtTW9kZWxzTG9hZGluZ1t0XXx8MCkraS5sZW5ndGg7Y29uc3Qgcj1bXTtmb3IoY29uc3QgdCBvZiBpKXIucHVzaCh0aGlzLmxvYWRNb2RlbCh0LGVbdF0pKTtQcm9taXNlLmFsbFNldHRsZWQocikudGhlbigoZT0+e2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKXtjb25zdHtzdGF0dXM6bix2YWx1ZTpvfT1lW3JdO1wiZnVsZmlsbGVkXCI9PT1uJiZvJiYodGhpcy5tb2RlbHNbdF1baVtyXV09byk7fXRoaXMubnVtTW9kZWxzTG9hZGluZ1t0XS09aS5sZW5ndGgsdGhpcy5maXJlKG5ldyBJdChcImRhdGFcIix7ZGF0YVR5cGU6XCJzdHlsZVwifSkpO30pKS5jYXRjaCgoZT0+e3RoaXMuZmlyZShuZXcgQ3QobmV3IEVycm9yKGBDb3VsZCBub3QgbG9hZCBtb2RlbHM6ICR7ZS5tZXNzYWdlfWApKSk7fSkpO31pc0xvYWRlZCgpe2Zvcihjb25zdCBlIGluIHRoaXMubnVtTW9kZWxzTG9hZGluZylpZih0aGlzLm51bU1vZGVsc0xvYWRpbmdbZV0+MClyZXR1cm4gITE7cmV0dXJuICEwfWhhc01vZGVsKGUsdCl7cmV0dXJuICEhdGhpcy5nZXRNb2RlbChlLHQpfWdldE1vZGVsKGUsdCl7cmV0dXJuIHRoaXMubW9kZWxzW3RdfHwodGhpcy5tb2RlbHNbdF09e30pLHRoaXMubW9kZWxzW3RdW2VdfWFkZE1vZGVsKGUsdCxpKXt0aGlzLm1vZGVsc1tpXXx8KHRoaXMubW9kZWxzW2ldPXt9KSx0aGlzLmhhc01vZGVsKGUsaSkmJnRoaXMucmVtb3ZlTW9kZWwoZSxpKSx0aGlzLmxvYWQoe1tlXTp0aGlzLnJlcXVlc3RNYW5hZ2VyLm5vcm1hbGl6ZU1vZGVsVVJMKHQpfSxpKTt9YWRkTW9kZWxzKGUsdCl7Y29uc3QgaT17fTtmb3IoY29uc3QgdCBpbiBlKWlbdF09dGhpcy5yZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVNb2RlbFVSTChlW3RdKTt0aGlzLmxvYWQoaSx0KTt9cmVtb3ZlTW9kZWwoZSx0KXt0aGlzLm1vZGVsc1t0XXx8KHRoaXMubW9kZWxzW3RdPXt9KTtjb25zdCBpPXRoaXMubW9kZWxzW3RdW2VdO2RlbGV0ZSB0aGlzLm1vZGVsc1t0XVtlXSxpLmRlc3Ryb3koKTt9bGlzdE1vZGVscyhlKXtyZXR1cm4gdGhpcy5tb2RlbHNbZV18fCh0aGlzLm1vZGVsc1tlXT17fSksT2JqZWN0LmtleXModGhpcy5tb2RlbHNbZV0pfXVwbG9hZChlLHQpe3RoaXMubW9kZWxzW3RdfHwodGhpcy5tb2RlbHNbdF09e30pO2Zvcihjb25zdCBpIGluIHRoaXMubW9kZWxzW3RdKXRoaXMubW9kZWxzW3RdW2ldLnVwbG9hZChlLmNvbnRleHQpO319Y29uc3QgWUE9KGUsdCk9PlNzKGUsdCYmdC5maWx0ZXIoKGU9Plwic291cmNlLmNhbnZhc1wiIT09ZS5pZGVudGlmaWVyKSkpLEtBPU8oT1QsW1wiYWRkTGF5ZXJcIixcInJlbW92ZUxheWVyXCIsXCJzZXRMaWdodHNcIixcInNldFBhaW50UHJvcGVydHlcIixcInNldExheW91dFByb3BlcnR5XCIsXCJzZXRTbG90XCIsXCJzZXRGaWx0ZXJcIixcImFkZFNvdXJjZVwiLFwicmVtb3ZlU291cmNlXCIsXCJzZXRMYXllclpvb21SYW5nZVwiLFwic2V0TGlnaHRcIixcInNldFRyYW5zaXRpb25cIixcInNldEdlb0pTT05Tb3VyY2VEYXRhXCIsXCJzZXRUZXJyYWluXCIsXCJzZXRGb2dcIixcInNldFByb2plY3Rpb25cIixcInNldENhbWVyYVwiLFwiYWRkSW1wb3J0XCIsXCJyZW1vdmVJbXBvcnRcIixcInNldEltcG9ydFVybFwiLFwic2V0SW1wb3J0RGF0YVwiLFwic2V0SW1wb3J0Q29uZmlnXCJdKSxKQT1PKE9ULFtcInNldENlbnRlclwiLFwic2V0Wm9vbVwiLFwic2V0QmVhcmluZ1wiLFwic2V0UGl0Y2hcIl0pLFFBPXt2ZXJzaW9uOjgsbGF5ZXJzOltdLHNvdXJjZXM6e319LGVTPXtkdXJhdGlvbjozMDAsZGVsYXk6MH0sdFM9bmV3IFNldChbXCJmaWxsXCIsXCJsaW5lXCIsXCJiYWNrZ3JvdW5kXCIsXCJoaWxsc2hhZGVcIixcInJhc3RlclwiXSk7Y2xhc3MgaVMgZXh0ZW5kcyB6dHtjb25zdHJ1Y3RvcihlLHQ9e30pe3N1cGVyKCksdGhpcy5tYXA9ZSx0aGlzLnNjb3BlPXQuc2NvcGV8fFwiXCIsdGhpcy5mcmFnbWVudHM9W10sdGhpcy5pbXBvcnREZXB0aD10LmltcG9ydERlcHRofHwwLHRoaXMuaW1wb3J0c0NhY2hlPXQuaW1wb3J0c0NhY2hlfHxuZXcgTWFwLHRoaXMucmVzb2x2ZWRJbXBvcnRzPXQucmVzb2x2ZWRJbXBvcnRzfHxuZXcgU2V0LHRoaXMudHJhbnNpdGlvbj1rKHt9LGVTKSx0aGlzLl9idWlsZGluZ0luZGV4PW5ldyBEVCh0aGlzKSx0aGlzLmNyb3NzVGlsZVN5bWJvbEluZGV4PW5ldyBDRSx0aGlzLl9tZXJnZWRPcmRlcj1bXSx0aGlzLl9kcmFwZWRGaXJzdE9yZGVyPVtdLHRoaXMuX21lcmdlZExheWVycz17fSx0aGlzLl9tZXJnZWRTb3VyY2VDYWNoZXM9e30sdGhpcy5fbWVyZ2VkT3RoZXJTb3VyY2VDYWNoZXM9e30sdGhpcy5fbWVyZ2VkU3ltYm9sU291cmNlQ2FjaGVzPXt9LHRoaXMuX2hhczNETGF5ZXJzPSExLHRoaXMuX2hhc0NpcmNsZUxheWVycz0hMSx0aGlzLl9oYXNTeW1ib2xMYXllcnM9ITEsdGhpcy5fY2hhbmdlcz10LnN0eWxlQ2hhbmdlc3x8bmV3IEVhLHRoaXMuZGlzcGF0Y2hlcj10LmRpc3BhdGNoZXI/dC5kaXNwYXRjaGVyOm5ldyBFdyhXdygpLHRoaXMpLHQuaW1hZ2VNYW5hZ2VyP3RoaXMuaW1hZ2VNYW5hZ2VyPXQuaW1hZ2VNYW5hZ2VyOih0aGlzLmltYWdlTWFuYWdlcj1uZXcgYXcsdGhpcy5pbWFnZU1hbmFnZXIuc2V0RXZlbnRlZFBhcmVudCh0aGlzKSksdGhpcy5pbWFnZU1hbmFnZXIuY3JlYXRlU2NvcGUodGhpcy5zY29wZSksdGhpcy5nbHlwaE1hbmFnZXI9dC5nbHlwaE1hbmFnZXI/dC5nbHlwaE1hbmFnZXI6bmV3IG9nKGUuX3JlcXVlc3RNYW5hZ2VyLHQubG9jYWxGb250RmFtaWx5PzI6dC5sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk/MTowLHQubG9jYWxGb250RmFtaWx5fHx0LmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseSksdC5tb2RlbE1hbmFnZXI/dGhpcy5tb2RlbE1hbmFnZXI9dC5tb2RlbE1hbmFnZXI6KHRoaXMubW9kZWxNYW5hZ2VyPW5ldyBYQShlLl9yZXF1ZXN0TWFuYWdlciksdGhpcy5tb2RlbE1hbmFnZXIuc2V0RXZlbnRlZFBhcmVudCh0aGlzKSksdGhpcy5fbGF5ZXJzPXt9LHRoaXMuX3NlcmlhbGl6ZWRMYXllcnM9e30sdGhpcy5fc291cmNlQ2FjaGVzPXt9LHRoaXMuX290aGVyU291cmNlQ2FjaGVzPXt9LHRoaXMuX3N5bWJvbFNvdXJjZUNhY2hlcz17fSx0aGlzLl9sb2FkZWQ9ITEsdGhpcy5fcHJlY29tcGlsZURvbmU9ITEsdGhpcy5fc2hvdWxkUHJlY29tcGlsZT0hMSx0aGlzLl9hdmFpbGFibGVJbWFnZXM9W10sdGhpcy5fb3JkZXI9W10sdGhpcy5fbWFya2Vyc05lZWRVcGRhdGU9ITEsdGhpcy5vcHRpb25zPW5ldyBNYXAsdGhpcy5fY29uZmlnRGVwZW5kZW50TGF5ZXJzPW5ldyBTZXQsdGhpcy5fY29uZmlnPXQuY29uZmlnLHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJzZXRSZWZlcnJlclwiLHZlKCkpO2NvbnN0IGk9dGhpczt0aGlzLl9ydGxUZXh0UGx1Z2luQ2FsbGJhY2s9aVMucmVnaXN0ZXJGb3JQbHVnaW5TdGF0ZUNoYW5nZSgoZT0+e2kuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJzeW5jUlRMUGx1Z2luU3RhdGVcIix7cGx1Z2luU3RhdHVzOmUucGx1Z2luU3RhdHVzLHBsdWdpblVSTDplLnBsdWdpblVSTH0sKChlLHQpPT57aWYoUXMoZSksdCYmdC5ldmVyeSgoZT0+ZSkpKWZvcihjb25zdCBlIGluIGkuX3NvdXJjZUNhY2hlcyl7Y29uc3QgdD1pLl9zb3VyY2VDYWNoZXNbZV0scj10LmdldFNvdXJjZSgpLnR5cGU7XCJ2ZWN0b3JcIiE9PXImJlwiZ2VvanNvblwiIT09cnx8dC5yZWxvYWQoKTt9fSkpO30pKSx0aGlzLm9uKFwiZGF0YVwiLChlPT57aWYoXCJzb3VyY2VcIiE9PWUuZGF0YVR5cGV8fFwibWV0YWRhdGFcIiE9PWUuc291cmNlRGF0YVR5cGUpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nZXRPd25Tb3VyY2UoZS5zb3VyY2VJZCk7aWYodCYmdC52ZWN0b3JMYXllcklkcylmb3IoY29uc3QgZSBpbiB0aGlzLl9sYXllcnMpe2NvbnN0IGk9dGhpcy5fbGF5ZXJzW2VdO2kuc291cmNlPT09dC5pZCYmdGhpcy5fdmFsaWRhdGVMYXllcihpKTt9fSkpO31sb2FkVVJMKGUsdD17fSl7dGhpcy5maXJlKG5ldyBJdChcImRhdGFsb2FkaW5nXCIse2RhdGFUeXBlOlwic3R5bGVcIn0pKTtjb25zdCBpPVwiYm9vbGVhblwiPT10eXBlb2YgdC52YWxpZGF0ZT90LnZhbGlkYXRlOiFQZShlKTtlPXRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVTdHlsZVVSTChlLHQuYWNjZXNzVG9rZW4pLHRoaXMucmVzb2x2ZWRJbXBvcnRzLmFkZChlKTtjb25zdCByPXRoaXMuaW1wb3J0c0NhY2hlLmdldChlKTtpZihyKXJldHVybiB0aGlzLl9sb2FkKHIsaSk7Y29uc3Qgbj10aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdChlLHllLlN0eWxlKTt0aGlzLl9yZXF1ZXN0PXdlKG4sKCh0LHIpPT57aWYodGhpcy5fcmVxdWVzdD1udWxsLHQpdGhpcy5maXJlKG5ldyBDdCh0KSk7ZWxzZSBpZihyKXJldHVybiB0aGlzLmltcG9ydHNDYWNoZS5zZXQoZSxyKSx0aGlzLl9sb2FkKHIsaSl9KSk7fWxvYWRKU09OKGUsdD17fSl7dGhpcy5maXJlKG5ldyBJdChcImRhdGFsb2FkaW5nXCIse2RhdGFUeXBlOlwic3R5bGVcIn0pKSx0aGlzLl9yZXF1ZXN0PWR0LmZyYW1lKCgoKT0+e3RoaXMuX3JlcXVlc3Q9bnVsbCx0aGlzLl9sb2FkKGUsITEhPT10LnZhbGlkYXRlKTt9KSk7fWxvYWRFbXB0eSgpe3RoaXMuZmlyZShuZXcgSXQoXCJkYXRhbG9hZGluZ1wiLHtkYXRhVHlwZTpcInN0eWxlXCJ9KSksdGhpcy5fbG9hZChRQSwhMSk7fV9sb2FkSW1wb3J0cyhlLHQpe2lmKHRoaXMuaW1wb3J0RGVwdGg+PTQpcmV0dXJuIEgoXCJTdHlsZSBkb2Vzbid0IHN1cHBvcnQgbmVzdGluZyBkZWVwZXIgdGhhbiA1XCIpLFByb21pc2UucmVzb2x2ZSgpO2NvbnN0IGk9W107Zm9yKGNvbnN0IHIgb2YgZSl7Y29uc3QgZT10aGlzLl9jcmVhdGVGcmFnbWVudFN0eWxlKHIpLG49bmV3IFByb21pc2UoKHQ9PntlLm9uY2UoXCJzdHlsZS5pbXBvcnQubG9hZFwiLHQpLGUub25jZShcImVycm9yXCIsdCk7fSkpLnRoZW4oKCgpPT50aGlzLm1lcmdlQWxsKCkpKTtpZihpLnB1c2gobiksdGhpcy5yZXNvbHZlZEltcG9ydHMuaGFzKHIudXJsKSl7ZS5sb2FkRW1wdHkoKTtjb250aW51ZX1jb25zdCBvPXIuZGF0YXx8dGhpcy5pbXBvcnRzQ2FjaGUuZ2V0KHIudXJsKTtvP2UubG9hZEpTT04obyx7dmFsaWRhdGU6dH0pOnIudXJsP2UubG9hZFVSTChyLnVybCx7dmFsaWRhdGU6dH0pOmUubG9hZEVtcHR5KCksdGhpcy5mcmFnbWVudHMucHVzaCh7c3R5bGU6ZSxpZDpyLmlkLGNvbmZpZzpyLmNvbmZpZ30pO31yZXR1cm4gUHJvbWlzZS5hbGxTZXR0bGVkKGkpfV9jcmVhdGVGcmFnbWVudFN0eWxlKGUpe2NvbnN0IHQ9dGhpcy5zY29wZT92YShlLmlkLHRoaXMuc2NvcGUpOmUuaWQsaT1uZXcgaVModGhpcy5tYXAse3Njb3BlOnQsc3R5bGVDaGFuZ2VzOnRoaXMuX2NoYW5nZXMsaW1wb3J0RGVwdGg6dGhpcy5pbXBvcnREZXB0aCsxLGltcG9ydHNDYWNoZTp0aGlzLmltcG9ydHNDYWNoZSxyZXNvbHZlZEltcG9ydHM6bmV3IFNldCh0aGlzLnJlc29sdmVkSW1wb3J0cyksZGlzcGF0Y2hlcjp0aGlzLmRpc3BhdGNoZXIsaW1hZ2VNYW5hZ2VyOnRoaXMuaW1hZ2VNYW5hZ2VyLGdseXBoTWFuYWdlcjp0aGlzLmdseXBoTWFuYWdlcixtb2RlbE1hbmFnZXI6dGhpcy5tb2RlbE1hbmFnZXIsY29uZmlnOmUuY29uZmlnfSk7cmV0dXJuIGkuc2V0RXZlbnRlZFBhcmVudCh0aGlzLm1hcCx7c3R5bGU6aX0pLGl9X3JlbG9hZEltcG9ydHMoKXt0aGlzLm1lcmdlQWxsKCksdGhpcy5fdXBkYXRlTWFwUHJvamVjdGlvbigpLHRoaXMubWFwLl90cmlnZ2VyQ2FtZXJhVXBkYXRlKHRoaXMuY2FtZXJhKSx0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwic2V0TGF5ZXJzXCIse2xheWVyczp0aGlzLl9zZXJpYWxpemVMYXllcnModGhpcy5fb3JkZXIpLHNjb3BlOnRoaXMuc2NvcGUsb3B0aW9uczp0aGlzLm9wdGlvbnN9KTtjb25zdCBlPXRoaXMuaXNSb290U3R5bGUoKTt0aGlzLl9zaG91bGRQcmVjb21waWxlPWUsdGhpcy5maXJlKG5ldyBJdChlP1wic3R5bGUubG9hZFwiOlwic3R5bGUuaW1wb3J0LmxvYWRcIikpO31fbG9hZChlLHQpe2NvbnN0IGk9ZS5zY2hlbWE7aWYodGhpcy5pc1Jvb3RTdHlsZSgpJiYoZS5mcmFnbWVudHx8aSYmITEhPT1lLmZyYWdtZW50KSl7Y29uc3QgaT1rKHt9LFFBLHtpbXBvcnRzOlt7aWQ6XCJiYXNlbWFwXCIsZGF0YTplLHVybDpcIlwifV19KTtyZXR1cm4gdm9pZCB0aGlzLl9sb2FkKGksdCl9aWYodGhpcy5zZXRDb25maWcodGhpcy5fY29uZmlnLGkpLHQmJllBKHRoaXMsbXMoZSkpKXJldHVybjt0aGlzLl9sb2FkZWQ9ITAsdGhpcy5zdHlsZXNoZWV0PSQoZSk7Zm9yKGNvbnN0IHQgaW4gZS5zb3VyY2VzKXRoaXMuYWRkU291cmNlKHQsZS5zb3VyY2VzW3RdLHt2YWxpZGF0ZTohMSxpc0luaXRpYWxMb2FkOiEwfSk7ZS5zcHJpdGU/dGhpcy5fbG9hZFNwcml0ZShlLnNwcml0ZSk6KHRoaXMuaW1hZ2VNYW5hZ2VyLnNldExvYWRlZCghMCx0aGlzLnNjb3BlKSx0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwic3ByaXRlTG9hZGVkXCIse3Njb3BlOnRoaXMuc2NvcGUsaXNMb2FkZWQ6ITB9KSksdGhpcy5nbHlwaE1hbmFnZXIuc2V0VVJMKGUuZ2x5cGhzLHRoaXMuc2NvcGUpO2NvbnN0IHI9a1QodGhpcy5zdHlsZXNoZWV0LmxheWVycyk7aWYodGhpcy5fb3JkZXI9ci5tYXAoKGU9PmUuaWQpKSx0aGlzLnN0eWxlc2hlZXQubGlnaHQmJkgoXCJUaGUgYGxpZ2h0YCByb290IHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQsIHByZWZlciB1c2luZyBgbGlnaHRzYCB3aXRoIGBmbGF0YCBsaWdodCB0eXBlIGluc3RlYWQuXCIpLHRoaXMuc3R5bGVzaGVldC5saWdodHMpaWYoMT09PXRoaXMuc3R5bGVzaGVldC5saWdodHMubGVuZ3RoJiZcImZsYXRcIj09PXRoaXMuc3R5bGVzaGVldC5saWdodHNbMF0udHlwZSl7Y29uc3QgZT10aGlzLnN0eWxlc2hlZXQubGlnaHRzWzBdO3RoaXMubGlnaHQ9bmV3IGN3KGUucHJvcGVydGllcyxlLmlkKTt9ZWxzZSB0aGlzLnNldExpZ2h0cyh0aGlzLnN0eWxlc2hlZXQubGlnaHRzKTt0aGlzLmxpZ2h0fHwodGhpcy5saWdodD1uZXcgY3codGhpcy5zdHlsZXNoZWV0LmxpZ2h0KSksdGhpcy5fbGF5ZXJzPXt9LHRoaXMuX3NlcmlhbGl6ZWRMYXllcnM9e307Zm9yKGNvbnN0IGUgb2Ygcil7Y29uc3QgdD1vdyhlLHRoaXMub3B0aW9ucyk7dC5zZXRTY29wZSh0aGlzLnNjb3BlKSx0LmlzQ29uZmlnRGVwZW5kZW50JiZ0aGlzLl9jb25maWdEZXBlbmRlbnRMYXllcnMuYWRkKHQuZnFpZCksdC5zZXRFdmVudGVkUGFyZW50KHRoaXMse2xheWVyOntpZDp0LmlkfX0pLHRoaXMuX2xheWVyc1t0LmlkXT10LHRoaXMuX3NlcmlhbGl6ZWRMYXllcnNbdC5pZF09dC5zZXJpYWxpemUoKTtjb25zdCBpPXRoaXMuZ2V0T3duTGF5ZXJTb3VyY2VDYWNoZSh0KSxyPSEhdGhpcy5kaXJlY3Rpb25hbExpZ2h0JiZ0aGlzLmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93c0VuYWJsZWQoKTtpJiZ0LmNhbkNhc3RTaGFkb3dzKCkmJnImJihpLmNhc3RzU2hhZG93cz0hMCk7fXRoaXMuc3R5bGVzaGVldC5tb2RlbHMmJnRoaXMubW9kZWxNYW5hZ2VyLmFkZE1vZGVscyh0aGlzLnN0eWxlc2hlZXQubW9kZWxzLHRoaXMuc2NvcGUpO2NvbnN0IG49dGhpcy5zdHlsZXNoZWV0LnRlcnJhaW47biYmKHZvaWQgMD09PXRoaXMuZGlzYWJsZUVsZXZhdGVkVGVycmFpbiYmKHRoaXMuZGlzYWJsZUVsZXZhdGVkVGVycmFpbj1kdC5oYXNDYW52YXNGaW5nZXJwcmludE5vaXNlKCkpLHRoaXMuZGlzYWJsZUVsZXZhdGVkVGVycmFpbj9IKFwiVGVycmFpbiBhbmQgaGlsbHNoYWRlIGFyZSBkaXNhYmxlZCBiZWNhdXNlIG9mIENhbnZhczJEIGxpbWl0YXRpb25zIHdoZW4gZmluZ2VycHJpbnRpbmcgcHJvdGVjdGlvbiBpcyBlbmFibGVkIChlLmcuIGluIHByaXZhdGUgYnJvd3NpbmcgbW9kZSkuXCIpOnRoaXMudGVycmFpblNldEZvckRyYXBpbmdPbmx5KCl8fHRoaXMuX2NyZWF0ZVRlcnJhaW4obiwxKSksdGhpcy5zdHlsZXNoZWV0LmZvZyYmdGhpcy5fY3JlYXRlRm9nKHRoaXMuc3R5bGVzaGVldC5mb2cpLHRoaXMuc3R5bGVzaGVldC50cmFuc2l0aW9uJiZ0aGlzLnNldFRyYW5zaXRpb24odGhpcy5zdHlsZXNoZWV0LnRyYW5zaXRpb24pLHRoaXMuZmlyZShuZXcgSXQoXCJkYXRhXCIse2RhdGFUeXBlOlwic3R5bGVcIn0pKSxlLmltcG9ydHM/dGhpcy5fbG9hZEltcG9ydHMoZS5pbXBvcnRzLHQpLnRoZW4oKCgpPT50aGlzLl9yZWxvYWRJbXBvcnRzKCkpKTp0aGlzLl9yZWxvYWRJbXBvcnRzKCk7fWlzUm9vdFN0eWxlKCl7cmV0dXJuIDA9PT10aGlzLmltcG9ydERlcHRofW1lcmdlQWxsKCl7bGV0IGUsdCxpLHIsbixvLHMsYTt0aGlzLnRlcnJhaW4mJnRoaXMudGVycmFpbi5zY29wZSE9PXRoaXMuc2NvcGUmJmRlbGV0ZSB0aGlzLnRlcnJhaW4sdGhpcy5mb3JFYWNoRnJhZ21lbnRTdHlsZSgobD0+e2lmKGwuc3R5bGVzaGVldCl7aWYobnVsbCE9bC5saWdodCYmKGU9bC5saWdodCksbC5zdHlsZXNoZWV0LmxpZ2h0cylmb3IoY29uc3QgZSBvZiBsLnN0eWxlc2hlZXQubGlnaHRzKVwiYW1iaWVudFwiPT09ZS50eXBlJiZudWxsIT1sLmFtYmllbnRMaWdodCYmKHQ9bC5hbWJpZW50TGlnaHQpLFwiZGlyZWN0aW9uYWxcIj09PWUudHlwZSYmbnVsbCE9bC5kaXJlY3Rpb25hbExpZ2h0JiYoaT1sLmRpcmVjdGlvbmFsTGlnaHQpO3I9dGhpcy5fcHJpb3JpdGl6ZVRlcnJhaW4ocixsLnRlcnJhaW4sbC5zdHlsZXNoZWV0LnRlcnJhaW4pLGwuc3R5bGVzaGVldC5mb2cmJm51bGwhPWwuZm9nJiYobj1sLmZvZyksbnVsbCE9bC5zdHlsZXNoZWV0LmNhbWVyYSYmKGE9bC5zdHlsZXNoZWV0LmNhbWVyYSksbnVsbCE9bC5zdHlsZXNoZWV0LnByb2plY3Rpb24mJihvPWwuc3R5bGVzaGVldC5wcm9qZWN0aW9uKSxudWxsIT1sLnN0eWxlc2hlZXQudHJhbnNpdGlvbiYmKHM9bC5zdHlsZXNoZWV0LnRyYW5zaXRpb24pO319KSksdGhpcy5saWdodD1lLHRoaXMuYW1iaWVudExpZ2h0PXQsdGhpcy5kaXJlY3Rpb25hbExpZ2h0PWksdGhpcy5mb2c9bixudWxsPT09cj9kZWxldGUgdGhpcy50ZXJyYWluOnRoaXMudGVycmFpbj1yLHRoaXMuY2FtZXJhPWF8fHtcImNhbWVyYS1wcm9qZWN0aW9uXCI6XCJwZXJzcGVjdGl2ZVwifSx0aGlzLnByb2plY3Rpb249b3x8e25hbWU6XCJtZXJjYXRvclwifSx0aGlzLnRyYW5zaXRpb249ayh7fSxlUyxzKSx0aGlzLm1lcmdlU291cmNlcygpLHRoaXMubWVyZ2VMYXllcnMoKTt9Zm9yRWFjaEZyYWdtZW50U3R5bGUoZSl7Y29uc3QgdD1pPT57Zm9yKGNvbnN0IGUgb2YgaS5mcmFnbWVudHMpdChlLnN0eWxlKTtlKGkpO307dCh0aGlzKTt9X3ByaW9yaXRpemVUZXJyYWluKGUsdCxpKXtjb25zdCByPWUmJjA9PT1lLmRyYXBlUmVuZGVyTW9kZTtyZXR1cm4gbnVsbD09PWk/dCYmMD09PXQuZHJhcGVSZW5kZXJNb2RlP3Q6cj9lOm51bGw6bnVsbCE9dCYmKCFlfHxyfHx0JiYxPT09dC5kcmFwZVJlbmRlck1vZGUpP3Q6ZX1tZXJnZVRlcnJhaW4oKXtsZXQgZTt0aGlzLnRlcnJhaW4mJnRoaXMudGVycmFpbi5zY29wZSE9PXRoaXMuc2NvcGUmJmRlbGV0ZSB0aGlzLnRlcnJhaW4sdGhpcy5mb3JFYWNoRnJhZ21lbnRTdHlsZSgodD0+e2U9dGhpcy5fcHJpb3JpdGl6ZVRlcnJhaW4oZSx0LnRlcnJhaW4sdC5zdHlsZXNoZWV0LnRlcnJhaW4pO30pKSxudWxsPT09ZT9kZWxldGUgdGhpcy50ZXJyYWluOnRoaXMudGVycmFpbj1lO31tZXJnZVByb2plY3Rpb24oKXtsZXQgZTt0aGlzLmZvckVhY2hGcmFnbWVudFN0eWxlKCh0PT57bnVsbCE9dC5zdHlsZXNoZWV0LnByb2plY3Rpb24mJihlPXQuc3R5bGVzaGVldC5wcm9qZWN0aW9uKTt9KSksdGhpcy5wcm9qZWN0aW9uPWV8fHtuYW1lOlwibWVyY2F0b3JcIn07fW1lcmdlU291cmNlcygpe2NvbnN0IGU9e30sdD17fSxpPXt9O3RoaXMuZm9yRWFjaEZyYWdtZW50U3R5bGUoKHI9Pntmb3IoY29uc3QgdCBpbiByLl9zb3VyY2VDYWNoZXMpe2NvbnN0IGk9dmEodCxyLnNjb3BlKTtlW2ldPXIuX3NvdXJjZUNhY2hlc1t0XTt9Zm9yKGNvbnN0IGUgaW4gci5fb3RoZXJTb3VyY2VDYWNoZXMpe2NvbnN0IGk9dmEoZSxyLnNjb3BlKTt0W2ldPXIuX290aGVyU291cmNlQ2FjaGVzW2VdO31mb3IoY29uc3QgZSBpbiByLl9zeW1ib2xTb3VyY2VDYWNoZXMpe2NvbnN0IHQ9dmEoZSxyLnNjb3BlKTtpW3RdPXIuX3N5bWJvbFNvdXJjZUNhY2hlc1tlXTt9fSkpLHRoaXMuX21lcmdlZFNvdXJjZUNhY2hlcz1lLHRoaXMuX21lcmdlZE90aGVyU291cmNlQ2FjaGVzPXQsdGhpcy5fbWVyZ2VkU3ltYm9sU291cmNlQ2FjaGVzPWk7fW1lcmdlTGF5ZXJzKCl7Y29uc3QgZT17fSx0PVtdLGk9e307dGhpcy5faGFzM0RMYXllcnM9ITEsdGhpcy5faGFzQ2lyY2xlTGF5ZXJzPSExLHRoaXMuX2hhc1N5bWJvbExheWVycz0hMSx0aGlzLmZvckVhY2hGcmFnbWVudFN0eWxlKChpPT57Zm9yKGNvbnN0IHIgb2YgaS5fb3JkZXIpe2NvbnN0IG49aS5fbGF5ZXJzW3JdO2lmKFwic2xvdFwiPT09bi50eXBlKXtjb25zdCB0PWJhKHIpO2lmKGVbdF0pY29udGludWU7ZVt0XT1bXTt9bi5zbG90JiZlW24uc2xvdF0/ZVtuLnNsb3RdLnB1c2gobik6dC5wdXNoKG4pO319KSksdGhpcy5fbWVyZ2VkT3JkZXI9W107Y29uc3Qgcj0odD1bXSk9Pntmb3IoY29uc3QgbiBvZiB0KWlmKFwic2xvdFwiPT09bi50eXBlKXtjb25zdCB0PWJhKG4uaWQpO2VbdF0mJnIoZVt0XSk7fWVsc2Uge2NvbnN0IGU9dmEobi5pZCxuLnNjb3BlKTt0aGlzLl9tZXJnZWRPcmRlci5wdXNoKGUpLGlbZV09bixuLmlzM0QoKSYmKHRoaXMuX2hhczNETGF5ZXJzPSEwKSxcImNpcmNsZVwiPT09bi50eXBlJiYodGhpcy5faGFzQ2lyY2xlTGF5ZXJzPSEwKSxcInN5bWJvbFwiPT09bi50eXBlJiYodGhpcy5faGFzU3ltYm9sTGF5ZXJzPSEwKTt9fTtyKHQpLHRoaXMuX21lcmdlZExheWVycz1pLHRoaXMudXBkYXRlRHJhcGVGaXJzdExheWVycygpLHRoaXMuX2J1aWxkaW5nSW5kZXgucHJvY2Vzc0xheWVyc0NoYW5nZWQoKTt9dGVycmFpblNldEZvckRyYXBpbmdPbmx5KCl7cmV0dXJuICEhdGhpcy50ZXJyYWluJiYwPT09dGhpcy50ZXJyYWluLmRyYXBlUmVuZGVyTW9kZX1nZXRDYW1lcmEoKXtyZXR1cm4gdGhpcy5zdHlsZXNoZWV0LmNhbWVyYX1zZXRDYW1lcmEoZSl7cmV0dXJuIHRoaXMuc3R5bGVzaGVldC5jYW1lcmE9ayh7fSx0aGlzLnN0eWxlc2hlZXQuY2FtZXJhLGUpLHRoaXMuY2FtZXJhPXRoaXMuc3R5bGVzaGVldC5jYW1lcmEsdGhpc31zZXRQcm9qZWN0aW9uKGUpe2U/dGhpcy5zdHlsZXNoZWV0LnByb2plY3Rpb249ZTpkZWxldGUgdGhpcy5zdHlsZXNoZWV0LnByb2plY3Rpb24sdGhpcy5tZXJnZVByb2plY3Rpb24oKSx0aGlzLl91cGRhdGVNYXBQcm9qZWN0aW9uKCk7fWFwcGx5UHJvamVjdGlvblVwZGF0ZSgpe3RoaXMuX2xvYWRlZCYmKHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJzZXRQcm9qZWN0aW9uXCIsdGhpcy5tYXAudHJhbnNmb3JtLnByb2plY3Rpb25PcHRpb25zKSx0aGlzLm1hcC50cmFuc2Zvcm0ucHJvamVjdGlvbi5yZXF1aXJlc0RyYXBpbmc/dGhpcy5nZXRUZXJyYWluKCl8fHRoaXMuc3R5bGVzaGVldC50ZXJyYWlufHx0aGlzLnNldFRlcnJhaW5Gb3JEcmFwaW5nKCk6dGhpcy50ZXJyYWluU2V0Rm9yRHJhcGluZ09ubHkoKSYmdGhpcy5zZXRUZXJyYWluKG51bGwpKTt9X3VwZGF0ZU1hcFByb2plY3Rpb24oKXt0aGlzLmlzUm9vdFN0eWxlKCkmJih0aGlzLm1hcC5fdXNlRXhwbGljaXRQcm9qZWN0aW9uP3RoaXMuYXBwbHlQcm9qZWN0aW9uVXBkYXRlKCk6dGhpcy5tYXAuX3ByaW9yaXRpemVBbmRVcGRhdGVQcm9qZWN0aW9uKG51bGwsdGhpcy5wcm9qZWN0aW9uKSk7fV9sb2FkU3ByaXRlKGUpe3RoaXMuX3Nwcml0ZVJlcXVlc3Q9ZnVuY3Rpb24oZSx0LGkpe2xldCByLG4sbztjb25zdCBzPWR0LmRldmljZVBpeGVsUmF0aW8+MT9cIkAyeFwiOlwiXCI7bGV0IGE9d2UodC50cmFuc2Zvcm1SZXF1ZXN0KHQubm9ybWFsaXplU3ByaXRlVVJMKGUscyxcIi5qc29uXCIpLHllLlNwcml0ZUpTT04pLCgoZSx0KT0+e2E9bnVsbCxvfHwobz1lLHI9dCxjKCkpO30pKSxsPUllKHQudHJhbnNmb3JtUmVxdWVzdCh0Lm5vcm1hbGl6ZVNwcml0ZVVSTChlLHMsXCIucG5nXCIpLHllLlNwcml0ZUltYWdlKSwoKGUsdCk9PntsPW51bGwsb3x8KG89ZSxuPXQsYygpKTt9KSk7ZnVuY3Rpb24gYygpe2lmKG8paShvKTtlbHNlIGlmKHImJm4pe2NvbnN0IGU9ZHQuZ2V0SW1hZ2VEYXRhKG4pLHQ9e307Zm9yKGNvbnN0IGkgaW4gcil7Y29uc3R7d2lkdGg6bixoZWlnaHQ6byx4OnMseTphLHNkZjpsLHBpeGVsUmF0aW86YyxzdHJldGNoWDpoLHN0cmV0Y2hZOnUsY29udGVudDpkfT1yW2ldLHA9bmV3IGVmKHt3aWR0aDpuLGhlaWdodDpvfSk7ZWYuY29weShlLHAse3g6cyx5OmF9LHt4OjAseTowfSx7d2lkdGg6bixoZWlnaHQ6b30pLHRbaV09e2RhdGE6cCxwaXhlbFJhdGlvOmMsc2RmOmwsc3RyZXRjaFg6aCxzdHJldGNoWTp1LGNvbnRlbnQ6ZH07fWkobnVsbCx0KTt9fXJldHVybiB7Y2FuY2VsKCl7YSYmKGEuY2FuY2VsKCksYT1udWxsKSxsJiYobC5jYW5jZWwoKSxsPW51bGwpO319fShlLHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlciwoKGUsdCk9PntpZih0aGlzLl9zcHJpdGVSZXF1ZXN0PW51bGwsZSl0aGlzLmZpcmUobmV3IEN0KGUpKTtlbHNlIGlmKHQpZm9yKGNvbnN0IGUgaW4gdCl0aGlzLmltYWdlTWFuYWdlci5hZGRJbWFnZShlLHRoaXMuc2NvcGUsdFtlXSk7dGhpcy5pbWFnZU1hbmFnZXIuc2V0TG9hZGVkKCEwLHRoaXMuc2NvcGUpLHRoaXMuX2F2YWlsYWJsZUltYWdlcz10aGlzLmltYWdlTWFuYWdlci5saXN0SW1hZ2VzKHRoaXMuc2NvcGUpLHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJzZXRJbWFnZXNcIix7c2NvcGU6dGhpcy5zY29wZSxpbWFnZXM6dGhpcy5fYXZhaWxhYmxlSW1hZ2VzfSksdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcInNwcml0ZUxvYWRlZFwiLHtzY29wZTp0aGlzLnNjb3BlLGlzTG9hZGVkOiEwfSksdGhpcy5maXJlKG5ldyBJdChcImRhdGFcIix7ZGF0YVR5cGU6XCJzdHlsZVwifSkpO30pKTt9X3ZhbGlkYXRlTGF5ZXIoZSl7Y29uc3QgdD10aGlzLmdldE93blNvdXJjZShlLnNvdXJjZSk7aWYoIXQpcmV0dXJuO2NvbnN0IGk9ZS5zb3VyY2VMYXllcjtpJiYoXCJnZW9qc29uXCI9PT10LnR5cGV8fHQudmVjdG9yTGF5ZXJJZHMmJi0xPT09dC52ZWN0b3JMYXllcklkcy5pbmRleE9mKGkpKSYmdGhpcy5maXJlKG5ldyBDdChuZXcgRXJyb3IoYFNvdXJjZSBsYXllciBcIiR7aX1cIiBkb2VzIG5vdCBleGlzdCBvbiBzb3VyY2UgXCIke3QuaWR9XCIgYXMgc3BlY2lmaWVkIGJ5IHN0eWxlIGxheWVyIFwiJHtlLmlkfVwiYCkpKTt9bG9hZGVkKCl7aWYoIXRoaXMuX2xvYWRlZClyZXR1cm4gITE7aWYoT2JqZWN0LmtleXModGhpcy5fY2hhbmdlcy5nZXRVcGRhdGVkU291cmNlQ2FjaGVzKCkpLmxlbmd0aClyZXR1cm4gITE7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fc291cmNlQ2FjaGVzKWlmKCF0aGlzLl9zb3VyY2VDYWNoZXNbZV0ubG9hZGVkKCkpcmV0dXJuICExO2lmKCF0aGlzLmltYWdlTWFuYWdlci5pc0xvYWRlZCgpKXJldHVybiAhMTtpZighdGhpcy5tb2RlbE1hbmFnZXIuaXNMb2FkZWQoKSlyZXR1cm4gITE7Zm9yKGNvbnN0e3N0eWxlOmV9b2YgdGhpcy5mcmFnbWVudHMpaWYoIWUubG9hZGVkKCkpcmV0dXJuICExO3JldHVybiAhMH1fc2VyaWFsaXplSW1wb3J0cygpe2lmKHRoaXMuc3R5bGVzaGVldC5pbXBvcnRzKXJldHVybiB0aGlzLnN0eWxlc2hlZXQuaW1wb3J0cy5tYXAoKChlLHQpPT57Y29uc3QgaT10aGlzLmZyYWdtZW50c1t0XTtyZXR1cm4gaSYmaS5zdHlsZSYmKGUuZGF0YT1pLnN0eWxlLnNlcmlhbGl6ZSgpKSxlfSkpfV9zZXJpYWxpemVTb3VyY2VzKCl7Y29uc3QgZT17fTtmb3IoY29uc3QgdCBpbiB0aGlzLl9zb3VyY2VDYWNoZXMpe2NvbnN0IGk9dGhpcy5fc291cmNlQ2FjaGVzW3RdLmdldFNvdXJjZSgpO2VbaS5pZF18fChlW2kuaWRdPWkuc2VyaWFsaXplKCkpO31yZXR1cm4gZX1fc2VyaWFsaXplTGF5ZXJzKGUpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IGkgb2YgZSl7Y29uc3QgZT10aGlzLl9sYXllcnNbaV07ZSYmXCJjdXN0b21cIiE9PWUudHlwZSYmdC5wdXNoKGUuc2VyaWFsaXplKCkpO31yZXR1cm4gdH1oYXNMaWdodFRyYW5zaXRpb25zKCl7cmV0dXJuICEoIXRoaXMubGlnaHR8fCF0aGlzLmxpZ2h0Lmhhc1RyYW5zaXRpb24oKSl8fCEoIXRoaXMuYW1iaWVudExpZ2h0fHwhdGhpcy5hbWJpZW50TGlnaHQuaGFzVHJhbnNpdGlvbigpKXx8ISghdGhpcy5kaXJlY3Rpb25hbExpZ2h0fHwhdGhpcy5kaXJlY3Rpb25hbExpZ2h0Lmhhc1RyYW5zaXRpb24oKSl9aGFzRm9nVHJhbnNpdGlvbigpe3JldHVybiAhIXRoaXMuZm9nJiZ0aGlzLmZvZy5oYXNUcmFuc2l0aW9uKCl9aGFzVHJhbnNpdGlvbnMoKXtpZih0aGlzLmhhc0xpZ2h0VHJhbnNpdGlvbnMoKSlyZXR1cm4gITA7aWYodGhpcy5oYXNGb2dUcmFuc2l0aW9uKCkpcmV0dXJuICEwO2Zvcihjb25zdCBlIGluIHRoaXMuX3NvdXJjZUNhY2hlcylpZih0aGlzLl9zb3VyY2VDYWNoZXNbZV0uaGFzVHJhbnNpdGlvbigpKXJldHVybiAhMDtmb3IoY29uc3QgZSBpbiB0aGlzLl9sYXllcnMpaWYodGhpcy5fbGF5ZXJzW2VdLmhhc1RyYW5zaXRpb24oKSlyZXR1cm4gITA7cmV0dXJuICExfWdldCBvcmRlcigpe3JldHVybiB0aGlzLnRlcnJhaW4/dGhpcy5fZHJhcGVkRmlyc3RPcmRlcjp0aGlzLl9tZXJnZWRPcmRlcn1pc0xheWVyRHJhcGVkKGUpe3JldHVybiAhIXRoaXMudGVycmFpbiYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUuaXNMYXllckRyYXBlZD9lLmlzTGF5ZXJEcmFwZWQodGhpcy5nZXRMYXllclNvdXJjZUNhY2hlKGUpKTp0Uy5oYXMoZS50eXBlKSl9X2NoZWNrTG9hZGVkKCl7aWYoIXRoaXMuX2xvYWRlZCl0aHJvdyBuZXcgRXJyb3IoXCJTdHlsZSBpcyBub3QgZG9uZSBsb2FkaW5nXCIpfV9jaGVja0xheWVyKGUpe2NvbnN0IHQ9dGhpcy5nZXRPd25MYXllcihlKTtpZih0KXJldHVybiB0O3RoaXMuZmlyZShuZXcgQ3QobmV3IEVycm9yKGBUaGUgbGF5ZXIgJyR7ZX0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZS5gKSkpO31fY2hlY2tTb3VyY2UoZSl7Y29uc3QgdD10aGlzLmdldE93blNvdXJjZShlKTtpZih0KXJldHVybiB0O3RoaXMuZmlyZShuZXcgQ3QobmV3IEVycm9yKGBUaGUgc291cmNlICcke2V9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUuYCkpKTt9dXBkYXRlKGUpe2lmKCF0aGlzLl9sb2FkZWQpcmV0dXJuO3RoaXMuYW1iaWVudExpZ2h0JiZ0aGlzLmFtYmllbnRMaWdodC5yZWNhbGN1bGF0ZShlKSx0aGlzLmRpcmVjdGlvbmFsTGlnaHQmJnRoaXMuZGlyZWN0aW9uYWxMaWdodC5yZWNhbGN1bGF0ZShlKTtjb25zdCB0PXRoaXMuY2FsY3VsYXRlTGlnaHRzQnJpZ2h0bmVzcygpO2UuYnJpZ2h0bmVzcz10fHwwLHQhPT10aGlzLl9icmlnaHRuZXNzJiYodGhpcy5fYnJpZ2h0bmVzcz10LHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJzZXRCcmlnaHRuZXNzXCIsdCkpO2NvbnN0IGk9dGhpcy5fY2hhbmdlcy5pc0RpcnR5KCk7aWYodGhpcy5fY2hhbmdlcy5pc0RpcnR5KCkpe2NvbnN0IHQ9dGhpcy5fY2hhbmdlcy5nZXRMYXllclVwZGF0ZXNCeVNjb3BlKCk7Zm9yKGNvbnN0IGUgaW4gdCl7Y29uc3R7dXBkYXRlZElkczppLHJlbW92ZWRJZHM6cn09dFtlXTsoaXx8cikmJnRoaXMuX3VwZGF0ZVdvcmtlckxheWVycyhlLGkscik7fXRoaXMudXBkYXRlU291cmNlQ2FjaGVzKCksdGhpcy5fdXBkYXRlVGlsZXNGb3JDaGFuZ2VkSW1hZ2VzKCksdGhpcy51cGRhdGVMYXllcnMoZSksdGhpcy5saWdodCYmdGhpcy5saWdodC51cGRhdGVUcmFuc2l0aW9ucyhlKSx0aGlzLmFtYmllbnRMaWdodCYmdGhpcy5hbWJpZW50TGlnaHQudXBkYXRlVHJhbnNpdGlvbnMoZSksdGhpcy5kaXJlY3Rpb25hbExpZ2h0JiZ0aGlzLmRpcmVjdGlvbmFsTGlnaHQudXBkYXRlVHJhbnNpdGlvbnMoZSksdGhpcy5mb2cmJnRoaXMuZm9nLnVwZGF0ZVRyYW5zaXRpb25zKGUpLHRoaXMuX2NoYW5nZXMucmVzZXQoKTt9Y29uc3Qgcj17fTtmb3IoY29uc3QgZSBpbiB0aGlzLl9tZXJnZWRTb3VyY2VDYWNoZXMpe2NvbnN0IHQ9dGhpcy5fbWVyZ2VkU291cmNlQ2FjaGVzW2VdO3JbZV09dC51c2VkLHQudXNlZD0hMTt9Zm9yKGNvbnN0IHQgb2YgdGhpcy5fbWVyZ2VkT3JkZXIpe2NvbnN0IGk9dGhpcy5fbWVyZ2VkTGF5ZXJzW3RdO2lmKGkucmVjYWxjdWxhdGUoZSx0aGlzLl9hdmFpbGFibGVJbWFnZXMpLCFpLmlzSGlkZGVuKGUuem9vbSkpe2NvbnN0IGU9dGhpcy5nZXRMYXllclNvdXJjZUNhY2hlKGkpO2UmJihlLnVzZWQ9ITApO31pZighdGhpcy5fcHJlY29tcGlsZURvbmUmJnRoaXMuX3Nob3VsZFByZWNvbXBpbGUpZm9yKGxldCB0PWkubWluem9vbXx8MDt0PChpLm1heHpvb218fDI1LjUpO3QrKyl7Y29uc3QgdD10aGlzLm1hcC5wYWludGVyO2lmKHQpe2NvbnN0IHI9aS5nZXRQcm9ncmFtSWRzKCk7aWYoIXIpY29udGludWU7Zm9yKGNvbnN0IG4gb2Ygcil7Y29uc3Qgcj1pLmdldERlZmF1bHRQcm9ncmFtUGFyYW1zKG4sZS56b29tKTtyJiYodC5zdHlsZT10aGlzLHRoaXMuZm9nJiYodC5fZm9nVmlzaWJsZT0hMCxyLm92ZXJyaWRlRm9nPSEwLHQuZ2V0T3JDcmVhdGVQcm9ncmFtKG4scikpLHQuX2ZvZ1Zpc2libGU9ITEsci5vdmVycmlkZUZvZz0hMSx0LmdldE9yQ3JlYXRlUHJvZ3JhbShuLHIpLCh0aGlzLnN0eWxlc2hlZXQudGVycmFpbnx8dGhpcy5zdHlsZXNoZWV0LnByb2plY3Rpb24mJlwiZ2xvYmVcIj09PXRoaXMuc3R5bGVzaGVldC5wcm9qZWN0aW9uLm5hbWUpJiYoci5vdmVycmlkZVJ0dD0hMCx0LmdldE9yQ3JlYXRlUHJvZ3JhbShuLHIpKSk7fX19fXRoaXMuX3Nob3VsZFByZWNvbXBpbGUmJih0aGlzLl9wcmVjb21waWxlRG9uZT0hMCk7Zm9yKGNvbnN0IGUgaW4gcil7Y29uc3QgdD10aGlzLl9tZXJnZWRTb3VyY2VDYWNoZXNbZV07cltlXSE9PXQudXNlZCYmdC5nZXRTb3VyY2UoKS5maXJlKG5ldyBJdChcImRhdGFcIix7c291cmNlRGF0YVR5cGU6XCJ2aXNpYmlsaXR5XCIsZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VJZDp0LmdldFNvdXJjZSgpLmlkfSkpO310aGlzLmxpZ2h0JiZ0aGlzLmxpZ2h0LnJlY2FsY3VsYXRlKGUpLHRoaXMudGVycmFpbiYmdGhpcy50ZXJyYWluLnJlY2FsY3VsYXRlKGUpLHRoaXMuZm9nJiZ0aGlzLmZvZy5yZWNhbGN1bGF0ZShlKSx0aGlzLno9ZS56b29tLHRoaXMuX21hcmtlcnNOZWVkVXBkYXRlJiYodGhpcy5fdXBkYXRlTWFya2Vyc09wYWNpdHkoKSx0aGlzLl9tYXJrZXJzTmVlZFVwZGF0ZT0hMSksaSYmdGhpcy5maXJlKG5ldyBJdChcImRhdGFcIix7ZGF0YVR5cGU6XCJzdHlsZVwifSkpO31fdXBkYXRlVGlsZXNGb3JDaGFuZ2VkSW1hZ2VzKCl7Y29uc3QgZT10aGlzLl9jaGFuZ2VzLmdldFVwZGF0ZWRJbWFnZXMoKTtpZihlLmxlbmd0aCl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5fc291cmNlQ2FjaGVzKXRoaXMuX3NvdXJjZUNhY2hlc1t0XS5yZWxvYWRUaWxlc0ZvckRlcGVuZGVuY2llcyhbXCJpY29uc1wiLFwicGF0dGVybnNcIl0sZSk7dGhpcy5fY2hhbmdlcy5yZXNldFVwZGF0ZWRJbWFnZXMoKTt9fV91cGRhdGVXb3JrZXJMYXllcnMoZSx0LGkpe2NvbnN0IHI9dGhpcy5nZXRGcmFnbWVudFN0eWxlKGUpO3ImJnRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJ1cGRhdGVMYXllcnNcIix7bGF5ZXJzOnQ/ci5fc2VyaWFsaXplTGF5ZXJzKHQpOltdLHNjb3BlOmUscmVtb3ZlZElkczppfHxbXSxvcHRpb25zOnIub3B0aW9uc30pO31zZXRTdGF0ZShlKXtpZih0aGlzLl9jaGVja0xvYWRlZCgpLFlBKHRoaXMsbXMoZSkpKXJldHVybiAhMTsoZT0kKGUpKS5sYXllcnM9a1QoZS5sYXllcnMpO2NvbnN0IHQ9ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm4gW3tjb21tYW5kOk9ULnNldFN0eWxlLGFyZ3M6W3RdfV07bGV0IGk9W107dHJ5e2lmKCF4KGUudmVyc2lvbix0LnZlcnNpb24pKXJldHVybiBbe2NvbW1hbmQ6T1Quc2V0U3R5bGUsYXJnczpbdF19XTt4KGUuY2VudGVyLHQuY2VudGVyKXx8aS5wdXNoKHtjb21tYW5kOk9ULnNldENlbnRlcixhcmdzOlt0LmNlbnRlcl19KSx4KGUuem9vbSx0Lnpvb20pfHxpLnB1c2goe2NvbW1hbmQ6T1Quc2V0Wm9vbSxhcmdzOlt0Lnpvb21dfSkseChlLmJlYXJpbmcsdC5iZWFyaW5nKXx8aS5wdXNoKHtjb21tYW5kOk9ULnNldEJlYXJpbmcsYXJnczpbdC5iZWFyaW5nXX0pLHgoZS5waXRjaCx0LnBpdGNoKXx8aS5wdXNoKHtjb21tYW5kOk9ULnNldFBpdGNoLGFyZ3M6W3QucGl0Y2hdfSkseChlLnNwcml0ZSx0LnNwcml0ZSl8fGkucHVzaCh7Y29tbWFuZDpPVC5zZXRTcHJpdGUsYXJnczpbdC5zcHJpdGVdfSkseChlLmdseXBocyx0LmdseXBocyl8fGkucHVzaCh7Y29tbWFuZDpPVC5zZXRHbHlwaHMsYXJnczpbdC5nbHlwaHNdfSkseChlLmltcG9ydHMsdC5pbXBvcnRzKXx8ZnVuY3Rpb24oZT1bXSx0PVtdLGkpe3Q9dHx8W107Y29uc3Qgcj0oZT1lfHxbXSkubWFwKGpUKSxuPXQubWFwKGpUKSxvPWUucmVkdWNlKEdULHt9KSxzPXQucmVkdWNlKEdULHt9KSxhPXIuc2xpY2UoKTtsZXQgbCxjLGgsdTtmb3IobD0wLGM9MDtsPHIubGVuZ3RoO2wrKyloPXJbbF0scy5oYXNPd25Qcm9wZXJ0eShoKT9jKys6KGkucHVzaCh7Y29tbWFuZDpPVC5yZW1vdmVJbXBvcnQsYXJnczpbaF19KSxhLnNwbGljZShhLmluZGV4T2YoaCxjKSwxKSk7Zm9yKGw9MCxjPTA7bDxuLmxlbmd0aDtsKyspaD1uW24ubGVuZ3RoLTEtbF0sYVthLmxlbmd0aC0xLWxdIT09aCYmKG8uaGFzT3duUHJvcGVydHkoaCk/KGkucHVzaCh7Y29tbWFuZDpPVC5yZW1vdmVJbXBvcnQsYXJnczpbaF19KSxhLnNwbGljZShhLmxhc3RJbmRleE9mKGgsYS5sZW5ndGgtYyksMSkpOmMrKyx1PWFbYS5sZW5ndGgtbF0saS5wdXNoKHtjb21tYW5kOk9ULmFkZEltcG9ydCxhcmdzOltzW2hdLHVdfSksYS5zcGxpY2UoYS5sZW5ndGgtbCwwLGgpKTtmb3IoY29uc3QgZSBvZiB0KXtjb25zdCB0PW9bZS5pZF07aWYoIXR8fHgodCxlKSljb250aW51ZTt4KHQuY29uZmlnLGUuY29uZmlnKXx8aS5wdXNoKHtjb21tYW5kOk9ULnNldEltcG9ydENvbmZpZyxhcmdzOltlLmlkLGUuY29uZmlnXX0pLHgodC51cmwsZS51cmwpfHxpLnB1c2goe2NvbW1hbmQ6T1Quc2V0SW1wb3J0VXJsLGFyZ3M6W2UuaWQsZS51cmxdfSk7Y29uc3Qgcj1lLmRhdGE7eCh0JiZ0LmRhdGEscil8fGkucHVzaCh7Y29tbWFuZDpPVC5zZXRJbXBvcnREYXRhLGFyZ3M6W2UuaWQscl19KTt9fShlLmltcG9ydHMsdC5pbXBvcnRzLGkpLHgoZS50cmFuc2l0aW9uLHQudHJhbnNpdGlvbil8fGkucHVzaCh7Y29tbWFuZDpPVC5zZXRUcmFuc2l0aW9uLGFyZ3M6W3QudHJhbnNpdGlvbl19KSx4KGUubGlnaHQsdC5saWdodCl8fGkucHVzaCh7Y29tbWFuZDpPVC5zZXRMaWdodCxhcmdzOlt0LmxpZ2h0XX0pLHgoZS5mb2csdC5mb2cpfHxpLnB1c2goe2NvbW1hbmQ6T1Quc2V0Rm9nLGFyZ3M6W3QuZm9nXX0pLHgoZS5wcm9qZWN0aW9uLHQucHJvamVjdGlvbil8fGkucHVzaCh7Y29tbWFuZDpPVC5zZXRQcm9qZWN0aW9uLGFyZ3M6W3QucHJvamVjdGlvbl19KSx4KGUubGlnaHRzLHQubGlnaHRzKXx8aS5wdXNoKHtjb21tYW5kOk9ULnNldExpZ2h0cyxhcmdzOlt0LmxpZ2h0c119KSx4KGUuY2FtZXJhLHQuY2FtZXJhKXx8aS5wdXNoKHtjb21tYW5kOk9ULnNldENhbWVyYSxhcmdzOlt0LmNhbWVyYV19KTtjb25zdCByPXt9LG49W107IWZ1bmN0aW9uKGUsdCxpLHIpe2xldCBuO2ZvcihuIGluIHQ9dHx8e30sZT1lfHx7fSllLmhhc093blByb3BlcnR5KG4pJiYodC5oYXNPd25Qcm9wZXJ0eShuKXx8RlQobixpLHIpKTtmb3IobiBpbiB0KXtpZighdC5oYXNPd25Qcm9wZXJ0eShuKSljb250aW51ZTtjb25zdCBvPXRbbl07ZS5oYXNPd25Qcm9wZXJ0eShuKT94KGVbbl0sbyl8fChcImdlb2pzb25cIj09PWVbbl0udHlwZSYmXCJnZW9qc29uXCI9PT1vLnR5cGUmJlVUKGUsdCxuKT9pLnB1c2goe2NvbW1hbmQ6T1Quc2V0R2VvSlNPTlNvdXJjZURhdGEsYXJnczpbbixvLmRhdGFdfSk6TlQobix0LGkscikpOkJUKG4sdCxpKTt9fShlLnNvdXJjZXMsdC5zb3VyY2VzLG4scik7Y29uc3Qgbz1bXTtlLmxheWVycyYmZS5sYXllcnMuZm9yRWFjaCgoZT0+e2Uuc291cmNlJiZyW2Uuc291cmNlXT9pLnB1c2goe2NvbW1hbmQ6T1QucmVtb3ZlTGF5ZXIsYXJnczpbZS5pZF19KTpvLnB1c2goZSk7fSkpO2xldCBzPWUudGVycmFpbjtzJiZyW3Muc291cmNlXSYmKGkucHVzaCh7Y29tbWFuZDpPVC5zZXRUZXJyYWluLGFyZ3M6W3ZvaWQgMF19KSxzPXZvaWQgMCksaT1pLmNvbmNhdChuKSx4KHMsdC50ZXJyYWluKXx8aS5wdXNoKHtjb21tYW5kOk9ULnNldFRlcnJhaW4sYXJnczpbdC50ZXJyYWluXX0pLGZ1bmN0aW9uKGUsdCxpKXt0PXR8fFtdO2NvbnN0IHI9KGU9ZXx8W10pLm1hcChqVCksbj10Lm1hcChqVCksbz1lLnJlZHVjZShHVCx7fSkscz10LnJlZHVjZShHVCx7fSksYT1yLnNsaWNlKCksbD1PYmplY3QuY3JlYXRlKG51bGwpO2xldCBjLGgsdSxkLHAsZixtO2ZvcihjPTAsaD0wO2M8ci5sZW5ndGg7YysrKXU9cltjXSxzLmhhc093blByb3BlcnR5KHUpP2grKzooaS5wdXNoKHtjb21tYW5kOk9ULnJlbW92ZUxheWVyLGFyZ3M6W3VdfSksYS5zcGxpY2UoYS5pbmRleE9mKHUsaCksMSkpO2ZvcihjPTAsaD0wO2M8bi5sZW5ndGg7YysrKXU9bltuLmxlbmd0aC0xLWNdLGFbYS5sZW5ndGgtMS1jXSE9PXUmJihvLmhhc093blByb3BlcnR5KHUpPyhpLnB1c2goe2NvbW1hbmQ6T1QucmVtb3ZlTGF5ZXIsYXJnczpbdV19KSxhLnNwbGljZShhLmxhc3RJbmRleE9mKHUsYS5sZW5ndGgtaCksMSkpOmgrKyxmPWFbYS5sZW5ndGgtY10saS5wdXNoKHtjb21tYW5kOk9ULmFkZExheWVyLGFyZ3M6W3NbdV0sZl19KSxhLnNwbGljZShhLmxlbmd0aC1jLDAsdSksbFt1XT0hMCk7Zm9yKGM9MDtjPG4ubGVuZ3RoO2MrKylpZih1PW5bY10sZD1vW3VdLHA9c1t1XSwhbFt1XSYmIXgoZCxwKSlpZih4KGQuc291cmNlLHAuc291cmNlKSYmeChkW1wic291cmNlLWxheWVyXCJdLHBbXCJzb3VyY2UtbGF5ZXJcIl0pJiZ4KGQudHlwZSxwLnR5cGUpKXtmb3IobSBpbiBWVChkLmxheW91dCxwLmxheW91dCxpLHUsbnVsbCxPVC5zZXRMYXlvdXRQcm9wZXJ0eSksVlQoZC5wYWludCxwLnBhaW50LGksdSxudWxsLE9ULnNldFBhaW50UHJvcGVydHkpLHgoZC5zbG90LHAuc2xvdCl8fGkucHVzaCh7Y29tbWFuZDpPVC5zZXRTbG90LGFyZ3M6W3UscC5zbG90XX0pLHgoZC5maWx0ZXIscC5maWx0ZXIpfHxpLnB1c2goe2NvbW1hbmQ6T1Quc2V0RmlsdGVyLGFyZ3M6W3UscC5maWx0ZXJdfSkseChkLm1pbnpvb20scC5taW56b29tKSYmeChkLm1heHpvb20scC5tYXh6b29tKXx8aS5wdXNoKHtjb21tYW5kOk9ULnNldExheWVyWm9vbVJhbmdlLGFyZ3M6W3UscC5taW56b29tLHAubWF4em9vbV19KSxkKWQuaGFzT3duUHJvcGVydHkobSkmJlwibGF5b3V0XCIhPT1tJiZcInBhaW50XCIhPT1tJiZcImZpbHRlclwiIT09bSYmXCJtZXRhZGF0YVwiIT09bSYmXCJtaW56b29tXCIhPT1tJiZcIm1heHpvb21cIiE9PW0mJlwic2xvdFwiIT09bSYmKDA9PT1tLmluZGV4T2YoXCJwYWludC5cIik/VlQoZFttXSxwW21dLGksdSxtLnNsaWNlKDYpLE9ULnNldFBhaW50UHJvcGVydHkpOngoZFttXSxwW21dKXx8aS5wdXNoKHtjb21tYW5kOk9ULnNldExheWVyUHJvcGVydHksYXJnczpbdSxtLHBbbV1dfSkpO2ZvcihtIGluIHApcC5oYXNPd25Qcm9wZXJ0eShtKSYmIWQuaGFzT3duUHJvcGVydHkobSkmJlwibGF5b3V0XCIhPT1tJiZcInBhaW50XCIhPT1tJiZcImZpbHRlclwiIT09bSYmXCJtZXRhZGF0YVwiIT09bSYmXCJtaW56b29tXCIhPT1tJiZcIm1heHpvb21cIiE9PW0mJlwic2xvdFwiIT09bSYmKDA9PT1tLmluZGV4T2YoXCJwYWludC5cIik/VlQoZFttXSxwW21dLGksdSxtLnNsaWNlKDYpLE9ULnNldFBhaW50UHJvcGVydHkpOngoZFttXSxwW21dKXx8aS5wdXNoKHtjb21tYW5kOk9ULnNldExheWVyUHJvcGVydHksYXJnczpbdSxtLHBbbV1dfSkpO31lbHNlIGkucHVzaCh7Y29tbWFuZDpPVC5yZW1vdmVMYXllcixhcmdzOlt1XX0pLGY9YVthLmxhc3RJbmRleE9mKHUpKzFdLGkucHVzaCh7Y29tbWFuZDpPVC5hZGRMYXllcixhcmdzOltwLGZdfSk7fShvLHQubGF5ZXJzLGkpO31jYXRjaChlKXtjb25zb2xlLndhcm4oXCJVbmFibGUgdG8gY29tcHV0ZSBzdHlsZSBkaWZmOlwiLGUpLGk9W3tjb21tYW5kOk9ULnNldFN0eWxlLGFyZ3M6W3RdfV07fXJldHVybiBpfSh0aGlzLnNlcmlhbGl6ZSgpLGUpLmZpbHRlcigoZT0+IShlLmNvbW1hbmQgaW4gSkEpKSk7aWYoMD09PXQubGVuZ3RoKXJldHVybiAhMTtjb25zdCBpPXQuZmlsdGVyKChlPT4hKGUuY29tbWFuZCBpbiBLQSkpKTtpZihpLmxlbmd0aD4wKXRocm93IG5ldyBFcnJvcihgVW5pbXBsZW1lbnRlZDogJHtpLm1hcCgoZT0+ZS5jb21tYW5kKSkuam9pbihcIiwgXCIpfS5gKTtyZXR1cm4gdC5mb3JFYWNoKChlPT57dGhpc1tlLmNvbW1hbmRdLmFwcGx5KHRoaXMsZS5hcmdzKTt9KSksdGhpcy5zdHlsZXNoZWV0PWUsdGhpcy5tZXJnZUFsbCgpLHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJzZXRMYXllcnNcIix7bGF5ZXJzOnRoaXMuX3NlcmlhbGl6ZUxheWVycyh0aGlzLl9vcmRlciksc2NvcGU6dGhpcy5zY29wZSxvcHRpb25zOnRoaXMub3B0aW9uc30pLCEwfWFkZEltYWdlKGUsdCl7cmV0dXJuIHRoaXMuZ2V0SW1hZ2UoZSk/dGhpcy5maXJlKG5ldyBDdChuZXcgRXJyb3IoXCJBbiBpbWFnZSB3aXRoIHRoaXMgbmFtZSBhbHJlYWR5IGV4aXN0cy5cIikpKToodGhpcy5pbWFnZU1hbmFnZXIuYWRkSW1hZ2UoZSx0aGlzLnNjb3BlLHQpLHRoaXMuX2FmdGVySW1hZ2VVcGRhdGVkKGUpLHRoaXMpfXVwZGF0ZUltYWdlKGUsdCl7dGhpcy5pbWFnZU1hbmFnZXIudXBkYXRlSW1hZ2UoZSx0aGlzLnNjb3BlLHQpO31nZXRJbWFnZShlKXtyZXR1cm4gdGhpcy5pbWFnZU1hbmFnZXIuZ2V0SW1hZ2UoZSx0aGlzLnNjb3BlKX1yZW1vdmVJbWFnZShlKXtyZXR1cm4gdGhpcy5nZXRJbWFnZShlKT8odGhpcy5pbWFnZU1hbmFnZXIucmVtb3ZlSW1hZ2UoZSx0aGlzLnNjb3BlKSx0aGlzLl9hZnRlckltYWdlVXBkYXRlZChlKSx0aGlzKTp0aGlzLmZpcmUobmV3IEN0KG5ldyBFcnJvcihcIk5vIGltYWdlIHdpdGggdGhpcyBuYW1lIGV4aXN0cy5cIikpKX1fYWZ0ZXJJbWFnZVVwZGF0ZWQoZSl7dGhpcy5fYXZhaWxhYmxlSW1hZ2VzPXRoaXMuaW1hZ2VNYW5hZ2VyLmxpc3RJbWFnZXModGhpcy5zY29wZSksdGhpcy5fY2hhbmdlcy51cGRhdGVJbWFnZShlKSx0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwic2V0SW1hZ2VzXCIse3Njb3BlOnRoaXMuc2NvcGUsaW1hZ2VzOnRoaXMuX2F2YWlsYWJsZUltYWdlc30pLHRoaXMuZmlyZShuZXcgSXQoXCJkYXRhXCIse2RhdGFUeXBlOlwic3R5bGVcIn0pKTt9bGlzdEltYWdlcygpe3JldHVybiB0aGlzLl9jaGVja0xvYWRlZCgpLHRoaXMuX2F2YWlsYWJsZUltYWdlcy5zbGljZSgpfWFkZE1vZGVsKGUsdCxpPXt9KXtyZXR1cm4gdGhpcy5fY2hlY2tMb2FkZWQoKSx0aGlzLl92YWxpZGF0ZShNcyxgbW9kZWxzLiR7ZX1gLHQsbnVsbCxpKXx8KHRoaXMubW9kZWxNYW5hZ2VyLmFkZE1vZGVsKGUsdCx0aGlzLnNjb3BlKSx0aGlzLl9jaGFuZ2VzLnNldERpcnR5KCkpLHRoaXN9aGFzTW9kZWwoZSl7cmV0dXJuIHRoaXMubW9kZWxNYW5hZ2VyLmhhc01vZGVsKGUsdGhpcy5zY29wZSl9cmVtb3ZlTW9kZWwoZSl7cmV0dXJuIHRoaXMuaGFzTW9kZWwoZSk/KHRoaXMubW9kZWxNYW5hZ2VyLnJlbW92ZU1vZGVsKGUsdGhpcy5zY29wZSksdGhpcyk6dGhpcy5maXJlKG5ldyBDdChuZXcgRXJyb3IoXCJObyBtb2RlbCB3aXRoIHRoaXMgSUQgZXhpc3RzLlwiKSkpfWxpc3RNb2RlbHMoKXtyZXR1cm4gdGhpcy5fY2hlY2tMb2FkZWQoKSx0aGlzLm1vZGVsTWFuYWdlci5saXN0TW9kZWxzKHRoaXMuc2NvcGUpfWFkZFNvdXJjZShlLHQsaT17fSl7aWYodGhpcy5fY2hlY2tMb2FkZWQoKSx2b2lkIDAhPT10aGlzLmdldE93blNvdXJjZShlKSl0aHJvdyBuZXcgRXJyb3IoYFRoZXJlIGlzIGFscmVhZHkgYSBzb3VyY2Ugd2l0aCBJRCBcIiR7ZX1cIi5gKTtpZighdC50eXBlKXRocm93IG5ldyBFcnJvcihgVGhlIHR5cGUgcHJvcGVydHkgbXVzdCBiZSBkZWZpbmVkLCBidXQgb25seSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXMgd2VyZSBnaXZlbjogJHtPYmplY3Qua2V5cyh0KS5qb2luKFwiLCBcIil9LmApO2lmKFtcInZlY3RvclwiLFwicmFzdGVyXCIsXCJnZW9qc29uXCIsXCJ2aWRlb1wiLFwiaW1hZ2VcIl0uaW5kZXhPZih0LnR5cGUpPj0wJiZ0aGlzLl92YWxpZGF0ZShfcyxgc291cmNlcy4ke2V9YCx0LG51bGwsaSkpcmV0dXJuO3RoaXMubWFwJiZ0aGlzLm1hcC5fY29sbGVjdFJlc291cmNlVGltaW5nJiYodC5jb2xsZWN0UmVzb3VyY2VUaW1pbmc9ITApO2NvbnN0IHI9U1QoZSx0LHRoaXMuZGlzcGF0Y2hlcix0aGlzKTtyLnNjb3BlPXRoaXMuc2NvcGUsci5zZXRFdmVudGVkUGFyZW50KHRoaXMsKCgpPT4oe2lzU291cmNlTG9hZGVkOnRoaXMuX2lzU291cmNlQ2FjaGVMb2FkZWQoci5pZCksc291cmNlOnIuc2VyaWFsaXplKCksc291cmNlSWQ6ci5pZH0pKSk7Y29uc3Qgbj1lPT57Y29uc3QgdD0oZT9cInN5bWJvbDpcIjpcIm90aGVyOlwiKStyLmlkLGk9dmEodCx0aGlzLnNjb3BlKSxuPXRoaXMuX3NvdXJjZUNhY2hlc1t0XT1uZXcgTHgoaSxyLGUpOyhlP3RoaXMuX3N5bWJvbFNvdXJjZUNhY2hlczp0aGlzLl9vdGhlclNvdXJjZUNhY2hlcylbci5pZF09bixuLm9uQWRkKHRoaXMubWFwKTt9O24oITEpLFwidmVjdG9yXCIhPT10LnR5cGUmJlwiZ2VvanNvblwiIT09dC50eXBlfHxuKCEwKSxyLm9uQWRkJiZyLm9uQWRkKHRoaXMubWFwKSxpLmlzSW5pdGlhbExvYWR8fCh0aGlzLm1lcmdlU291cmNlcygpLHRoaXMuX2NoYW5nZXMuc2V0RGlydHkoKSk7fXJlbW92ZVNvdXJjZShlKXt0aGlzLl9jaGVja0xvYWRlZCgpO2NvbnN0IHQ9dGhpcy5nZXRPd25Tb3VyY2UoZSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiVGhlcmUgaXMgbm8gc291cmNlIHdpdGggdGhpcyBJRFwiKTtmb3IoY29uc3QgdCBpbiB0aGlzLl9sYXllcnMpaWYodGhpcy5fbGF5ZXJzW3RdLnNvdXJjZT09PWUpcmV0dXJuIHRoaXMuZmlyZShuZXcgQ3QobmV3IEVycm9yKGBTb3VyY2UgXCIke2V9XCIgY2Fubm90IGJlIHJlbW92ZWQgd2hpbGUgbGF5ZXIgXCIke3R9XCIgaXMgdXNpbmcgaXQuYCkpKTtpZih0aGlzLnRlcnJhaW4mJnRoaXMudGVycmFpbi5zY29wZT09PXRoaXMuc2NvcGUmJnRoaXMudGVycmFpbi5nZXQoKS5zb3VyY2U9PT1lKXJldHVybiB0aGlzLmZpcmUobmV3IEN0KG5ldyBFcnJvcihgU291cmNlIFwiJHtlfVwiIGNhbm5vdCBiZSByZW1vdmVkIHdoaWxlIHRlcnJhaW4gaXMgdXNpbmcgaXQuYCkpKTtjb25zdCBpPXRoaXMuZ2V0T3duU291cmNlQ2FjaGVzKGUpO2Zvcihjb25zdCBlIG9mIGkpe2NvbnN0IHQ9YmEoZS5pZCk7ZGVsZXRlIHRoaXMuX3NvdXJjZUNhY2hlc1t0XSx0aGlzLl9jaGFuZ2VzLmRpc2NhcmRTb3VyY2VDYWNoZVVwZGF0ZShlLmlkKSxlLmZpcmUobmV3IEl0KFwiZGF0YVwiLHtzb3VyY2VEYXRhVHlwZTpcIm1ldGFkYXRhXCIsZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VJZDplLmdldFNvdXJjZSgpLmlkfSkpLGUuc2V0RXZlbnRlZFBhcmVudChudWxsKSxlLmNsZWFyVGlsZXMoKTt9cmV0dXJuIGRlbGV0ZSB0aGlzLl9vdGhlclNvdXJjZUNhY2hlc1tlXSxkZWxldGUgdGhpcy5fc3ltYm9sU291cmNlQ2FjaGVzW2VdLHRoaXMubWVyZ2VTb3VyY2VzKCksdC5zZXRFdmVudGVkUGFyZW50KG51bGwpLHQub25SZW1vdmUmJnQub25SZW1vdmUodGhpcy5tYXApLHRoaXMuX2NoYW5nZXMuc2V0RGlydHkoKSx0aGlzfXNldEdlb0pTT05Tb3VyY2VEYXRhKGUsdCl7dGhpcy5fY2hlY2tMb2FkZWQoKSx0aGlzLmdldE93blNvdXJjZShlKS5zZXREYXRhKHQpLHRoaXMuX2NoYW5nZXMuc2V0RGlydHkoKTt9Z2V0T3duU291cmNlKGUpe2NvbnN0IHQ9dGhpcy5nZXRPd25Tb3VyY2VDYWNoZShlKTtyZXR1cm4gdCYmdC5nZXRTb3VyY2UoKX1nZXRPd25Tb3VyY2VzKCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgdCBpbiB0aGlzLl9vdGhlclNvdXJjZUNhY2hlcyl7Y29uc3QgaT10aGlzLmdldE93blNvdXJjZUNhY2hlKHQpO2kmJmUucHVzaChpLmdldFNvdXJjZSgpKTt9cmV0dXJuIGV9c2V0TGlnaHRzKGUpe2lmKHRoaXMuX2NoZWNrTG9hZGVkKCksIWUpcmV0dXJuIGRlbGV0ZSB0aGlzLmFtYmllbnRMaWdodCx2b2lkIGRlbGV0ZSB0aGlzLmRpcmVjdGlvbmFsTGlnaHQ7Y29uc3QgdD10aGlzLl9nZXRUcmFuc2l0aW9uUGFyYW1ldGVycygpO2Zvcihjb25zdCBpIG9mIGUpe2lmKHRoaXMuX3ZhbGlkYXRlKHlzLFwibGlnaHRzXCIsaSkpcmV0dXJuO3N3aXRjaChpLnR5cGUpe2Nhc2VcImFtYmllbnRcIjppZih0aGlzLmFtYmllbnRMaWdodCl7Y29uc3QgZT10aGlzLmFtYmllbnRMaWdodDtlLnNldChpKSxlLnVwZGF0ZVRyYW5zaXRpb25zKHQpO31lbHNlIHRoaXMuYW1iaWVudExpZ2h0PW5ldyBNdyhpLEF3LHRoaXMuc2NvcGUsdGhpcy5vcHRpb25zKTticmVhaztjYXNlXCJkaXJlY3Rpb25hbFwiOmlmKHRoaXMuZGlyZWN0aW9uYWxMaWdodCl7Y29uc3QgZT10aGlzLmRpcmVjdGlvbmFsTGlnaHQ7ZS5zZXQoaSksZS51cGRhdGVUcmFuc2l0aW9ucyh0KTt9ZWxzZSB0aGlzLmRpcmVjdGlvbmFsTGlnaHQ9bmV3IE13KGksU3csdGhpcy5zY29wZSx0aGlzLm9wdGlvbnMpO319Y29uc3QgaT1uZXcgb2EodGhpcy56fHwwLHQpO3RoaXMuYW1iaWVudExpZ2h0JiZ0aGlzLmFtYmllbnRMaWdodC5yZWNhbGN1bGF0ZShpKSx0aGlzLmRpcmVjdGlvbmFsTGlnaHQmJnRoaXMuZGlyZWN0aW9uYWxMaWdodC5yZWNhbGN1bGF0ZShpKSx0aGlzLl9icmlnaHRuZXNzPXRoaXMuY2FsY3VsYXRlTGlnaHRzQnJpZ2h0bmVzcygpLHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJzZXRCcmlnaHRuZXNzXCIsdGhpcy5fYnJpZ2h0bmVzcyk7fWNhbGN1bGF0ZUxpZ2h0c0JyaWdodG5lc3MoKXtjb25zdCBlPXRoaXMuZGlyZWN0aW9uYWxMaWdodCx0PXRoaXMuYW1iaWVudExpZ2h0O2lmKCFlfHwhdClyZXR1cm47Y29uc3QgaT1lPT4uMjEyNiooZVswXTw9LjAzOTI4P2VbMF0vMTIuOTI6TWF0aC5wb3coKGVbMF0rLjA1NSkvMS4wNTUsMi40KSkrLjcxNTIqKGVbMV08PS4wMzkyOD9lWzFdLzEyLjkyOk1hdGgucG93KChlWzFdKy4wNTUpLzEuMDU1LDIuNCkpKy4wNzIyKihlWzJdPD0uMDM5Mjg/ZVsyXS8xMi45MjpNYXRoLnBvdygoZVsyXSsuMDU1KS8xLjA1NSwyLjQpKSxyPWUucHJvcGVydGllcy5nZXQoXCJjb2xvclwiKS50b0FycmF5MDEoKSxuPWUucHJvcGVydGllcy5nZXQoXCJpbnRlbnNpdHlcIiksbz1lLnByb3BlcnRpZXMuZ2V0KFwiZGlyZWN0aW9uXCIpLHM9MS1KKG8ueCxvLnksby56KVsyXS85MCxhPWkocikqbipzLGw9dC5wcm9wZXJ0aWVzLmdldChcImNvbG9yXCIpLnRvQXJyYXkwMSgpLGM9dC5wcm9wZXJ0aWVzLmdldChcImludGVuc2l0eVwiKTtyZXR1cm4gKGEraShsKSpjKS8yfWdldEJyaWdodG5lc3MoKXtyZXR1cm4gdGhpcy5fYnJpZ2h0bmVzc31nZXRMaWdodHMoKXtpZighdGhpcy5lbmFibGUzZExpZ2h0cygpKXJldHVybiBudWxsO2NvbnN0IGU9W107cmV0dXJuIHRoaXMuZGlyZWN0aW9uYWxMaWdodCYmZS5wdXNoKHRoaXMuZGlyZWN0aW9uYWxMaWdodC5nZXQoKSksdGhpcy5hbWJpZW50TGlnaHQmJmUucHVzaCh0aGlzLmFtYmllbnRMaWdodC5nZXQoKSksZX1lbmFibGUzZExpZ2h0cygpe3JldHVybiAhIXRoaXMuYW1iaWVudExpZ2h0JiYhIXRoaXMuZGlyZWN0aW9uYWxMaWdodH1nZXRGcmFnbWVudFN0eWxlKGUpe2lmKCFlKXJldHVybiB0aGlzO2lmKHhhKGUpKXtjb25zdCB0PWZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS5pbmRleE9mKHlhKTtyZXR1cm4gdD49MD9lLnNsaWNlKHQrMSk6XCJcIn0oZSksaT10aGlzLmZyYWdtZW50cy5maW5kKCgoe2lkOmV9KT0+ZT09PXQpKTtpZighaSl0aHJvdyBuZXcgRXJyb3IoYFN0eWxlIGltcG9ydCBub3QgZm91bmQ6ICR7ZX1gKTtjb25zdCByPWJhKGUpO3JldHVybiBpLnN0eWxlLmdldEZyYWdtZW50U3R5bGUocil9e2NvbnN0IHQ9dGhpcy5mcmFnbWVudHMuZmluZCgoKHtpZDp0fSk9PnQ9PT1lKSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKGBTdHlsZSBpbXBvcnQgbm90IGZvdW5kOiAke2V9YCk7cmV0dXJuIHQuc3R5bGV9fWdldENvbmZpZ1Byb3BlcnR5KGUsdCl7Y29uc3QgaT10aGlzLmdldEZyYWdtZW50U3R5bGUoZSk7aWYoIWkpcmV0dXJuIG51bGw7Y29uc3Qgcj1pLm9wdGlvbnMuZ2V0KHQpLG49cj9yLnZhbHVlfHxyLmRlZmF1bHQ6bnVsbDtyZXR1cm4gbj9uLnNlcmlhbGl6ZSgpOm51bGx9c2V0Q29uZmlnUHJvcGVydHkoZSx0LGkpe2NvbnN0IHI9RW8oaSk7aWYoXCJzdWNjZXNzXCIhPT1yLnJlc3VsdClyZXR1cm4gdm9pZCBZQSh0aGlzLHIudmFsdWUpO2NvbnN0IG49ci52YWx1ZS5leHByZXNzaW9uLG89dGhpcy5nZXRGcmFnbWVudFN0eWxlKGUpO2lmKCFvKXJldHVybjtjb25zdCBzPW8ub3B0aW9ucy5nZXQodCk7cyYmKG8ub3B0aW9ucy5zZXQodCx7Li4ucyx2YWx1ZTpufSksby51cGRhdGVDb25maWdEZXBlbmRlbmNpZXMoKSk7fXNldENvbmZpZyhlLHQpe2lmKHRoaXMuX2NvbmZpZz1lLGV8fHQpaWYodCl7dGhpcy5vcHRpb25zLmNsZWFyKCk7Zm9yKGNvbnN0IGkgaW4gdCl7bGV0IHIsbjtjb25zdCBvPUVvKHRbaV0uZGVmYXVsdCk7aWYoXCJzdWNjZXNzXCI9PT1vLnJlc3VsdCYmKHI9by52YWx1ZS5leHByZXNzaW9uKSxlJiZ2b2lkIDAhPT1lW2ldKXtjb25zdCB0PUVvKGVbaV0pO1wic3VjY2Vzc1wiPT09dC5yZXN1bHQmJihuPXQudmFsdWUuZXhwcmVzc2lvbik7fWNvbnN0e21pblZhbHVlOnMsbWF4VmFsdWU6YSxzdGVwVmFsdWU6bCx0eXBlOmMsdmFsdWVzOmh9PXRbaV07cj90aGlzLm9wdGlvbnMuc2V0KGkse2RlZmF1bHQ6cix2YWx1ZTpuLG1pblZhbHVlOnMsbWF4VmFsdWU6YSxzdGVwVmFsdWU6bCx0eXBlOmMsdmFsdWVzOmh9KTp0aGlzLmZpcmUobmV3IEN0KG5ldyBFcnJvcihgTm8gc2NoZW1hIGRlZmluZWQgZm9yIGNvbmZpZyBvcHRpb24gXCIke2l9XCIuYCkpKTt9fWVsc2UgdGhpcy5maXJlKG5ldyBDdChuZXcgRXJyb3IoXCJBdHRlbXB0aW5nIHRvIHNldCBjb25maWcgZm9yIGEgc3R5bGUgd2l0aG91dCBzY2hlbWEuXCIpKSk7fXVwZGF0ZUNvbmZpZ0RlcGVuZGVuY2llcygpe2Zvcihjb25zdCBlIG9mIHRoaXMuX2NvbmZpZ0RlcGVuZGVudExheWVycyl7Y29uc3QgdD10aGlzLmdldExheWVyKGUpO3QmJih0LnBvc3NpYmx5RXZhbHVhdGVWaXNpYmlsaXR5KCksdGhpcy5fdXBkYXRlTGF5ZXIodCkpO310aGlzLmFtYmllbnRMaWdodCYmdGhpcy5hbWJpZW50TGlnaHQuc2NvcGU9PT10aGlzLnNjb3BlJiZ0aGlzLmFtYmllbnRMaWdodC51cGRhdGVDb25maWcodGhpcy5vcHRpb25zKSx0aGlzLmRpcmVjdGlvbmFsTGlnaHQmJnRoaXMuZGlyZWN0aW9uYWxMaWdodC5zY29wZT09PXRoaXMuc2NvcGUmJnRoaXMuZGlyZWN0aW9uYWxMaWdodC51cGRhdGVDb25maWcodGhpcy5vcHRpb25zKSx0aGlzLl9jaGFuZ2VzLnNldERpcnR5KCk7fWFkZExheWVyKGUsdCxpPXt9KXt0aGlzLl9jaGVja0xvYWRlZCgpO2NvbnN0IHI9ZS5pZDtpZih0aGlzLl9sYXllcnNbcl0pcmV0dXJuIHZvaWQgdGhpcy5maXJlKG5ldyBDdChuZXcgRXJyb3IoYExheWVyIHdpdGggaWQgXCIke3J9XCIgYWxyZWFkeSBleGlzdHMgb24gdGhpcyBtYXBgKSkpO2xldCBuO2lmKFwiY3VzdG9tXCI9PT1lLnR5cGUpe2lmKFlBKHRoaXMsZnVuY3Rpb24oZSl7Y29uc3QgdD1bXSxpPWUuaWQ7cmV0dXJuIHZvaWQgMD09PWkmJnQucHVzaCh7bWVzc2FnZTpgbGF5ZXJzLiR7aX06IG1pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgXCJpZFwiYH0pLHZvaWQgMD09PWUucmVuZGVyJiZ0LnB1c2goe21lc3NhZ2U6YGxheWVycy4ke2l9OiBtaXNzaW5nIHJlcXVpcmVkIG1ldGhvZCBcInJlbmRlclwiYH0pLGUucmVuZGVyaW5nTW9kZSYmXCIyZFwiIT09ZS5yZW5kZXJpbmdNb2RlJiZcIjNkXCIhPT1lLnJlbmRlcmluZ01vZGUmJnQucHVzaCh7bWVzc2FnZTpgbGF5ZXJzLiR7aX06IHByb3BlcnR5IFwicmVuZGVyaW5nTW9kZVwiIG11c3QgYmUgZWl0aGVyIFwiMmRcIiBvciBcIjNkXCJgfSksdH0oZSkpKXJldHVybjtuPW93KGUsdGhpcy5vcHRpb25zKTt9ZWxzZSB7aWYoXCJvYmplY3RcIj09dHlwZW9mIGUuc291cmNlJiYodGhpcy5hZGRTb3VyY2UocixlLnNvdXJjZSksZT1rKGU9JChlKSx7c291cmNlOnJ9KSksdGhpcy5fdmFsaWRhdGUoYnMsYGxheWVycy4ke3J9YCxlLHthcnJheUluZGV4Oi0xfSxpKSlyZXR1cm47bj1vdyhlLHRoaXMub3B0aW9ucyksdGhpcy5fdmFsaWRhdGVMYXllcihuKSxuLnNldEV2ZW50ZWRQYXJlbnQodGhpcyx7bGF5ZXI6e2lkOnJ9fSksdGhpcy5fc2VyaWFsaXplZExheWVyc1tuLmlkXT1uLnNlcmlhbGl6ZSgpO31uLmlzQ29uZmlnRGVwZW5kZW50JiZ0aGlzLl9jb25maWdEZXBlbmRlbnRMYXllcnMuYWRkKG4uZnFpZCksbi5zZXRTY29wZSh0aGlzLnNjb3BlKTtsZXQgbz10aGlzLl9vcmRlci5sZW5ndGg7aWYodCl7Y29uc3QgZT10aGlzLl9vcmRlci5pbmRleE9mKHQpO2lmKC0xPT09ZSlyZXR1cm4gdm9pZCB0aGlzLmZpcmUobmV3IEN0KG5ldyBFcnJvcihgTGF5ZXIgd2l0aCBpZCBcIiR7dH1cIiBkb2VzIG5vdCBleGlzdCBvbiB0aGlzIG1hcC5gKSkpO24uc2xvdD09PXRoaXMuX2xheWVyc1t0XS5zbG90P289ZTpIKGBMYXllciB3aXRoIGlkIFwiJHt0fVwiIGhhcyBhIGRpZmZlcmVudCBzbG90LiBMYXllcnMgY2FuIG9ubHkgYmUgcmVhcnJhbmdlZCB3aXRoaW4gdGhlIHNhbWUgc2xvdC5gKTt9dGhpcy5fb3JkZXIuc3BsaWNlKG8sMCxyKSx0aGlzLl9sYXllck9yZGVyQ2hhbmdlZD0hMCx0aGlzLl9sYXllcnNbcl09bjtjb25zdCBzPXRoaXMuZ2V0T3duTGF5ZXJTb3VyY2VDYWNoZShuKSxhPSEhdGhpcy5kaXJlY3Rpb25hbExpZ2h0JiZ0aGlzLmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93c0VuYWJsZWQoKTtzJiZuLmNhbkNhc3RTaGFkb3dzKCkmJmEmJihzLmNhc3RzU2hhZG93cz0hMCk7Y29uc3QgbD10aGlzLl9jaGFuZ2VzLmdldFJlbW92ZWRMYXllcihuKTtpZihsJiZuLnNvdXJjZSYmcyYmXCJjdXN0b21cIiE9PW4udHlwZSl7dGhpcy5fY2hhbmdlcy5kaXNjYXJkTGF5ZXJSZW1vdmFsKG4pO2NvbnN0IGU9dmEobi5zb3VyY2Usbi5zY29wZSk7bC50eXBlIT09bi50eXBlP3RoaXMuX2NoYW5nZXMudXBkYXRlU291cmNlQ2FjaGUoZSxcImNsZWFyXCIpOih0aGlzLl9jaGFuZ2VzLnVwZGF0ZVNvdXJjZUNhY2hlKGUsXCJyZWxvYWRcIikscy5wYXVzZSgpKTt9dGhpcy5fdXBkYXRlTGF5ZXIobiksbi5vbkFkZCYmbi5vbkFkZCh0aGlzLm1hcCksbi5zY29wZT10aGlzLnNjb3BlLHRoaXMubWVyZ2VMYXllcnMoKTt9bW92ZUxheWVyKGUsdCl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBpPXRoaXMuX2NoZWNrTGF5ZXIoZSk7aWYoIWkpcmV0dXJuO2lmKGU9PT10KXJldHVybjtjb25zdCByPXRoaXMuX29yZGVyLmluZGV4T2YoZSk7dGhpcy5fb3JkZXIuc3BsaWNlKHIsMSk7bGV0IG49dGhpcy5fb3JkZXIubGVuZ3RoO2lmKHQpe2NvbnN0IGU9dGhpcy5fb3JkZXIuaW5kZXhPZih0KTtpZigtMT09PWUpcmV0dXJuIHZvaWQgdGhpcy5maXJlKG5ldyBDdChuZXcgRXJyb3IoYExheWVyIHdpdGggaWQgXCIke3R9XCIgZG9lcyBub3QgZXhpc3Qgb24gdGhpcyBtYXAuYCkpKTtpLnNsb3Q9PT10aGlzLl9sYXllcnNbdF0uc2xvdD9uPWU6SChgTGF5ZXIgd2l0aCBpZCBcIiR7dH1cIiBoYXMgYSBkaWZmZXJlbnQgc2xvdC4gTGF5ZXJzIGNhbiBvbmx5IGJlIHJlYXJyYW5nZWQgd2l0aGluIHRoZSBzYW1lIHNsb3QuYCk7fXRoaXMuX29yZGVyLnNwbGljZShuLDAsZSksdGhpcy5fY2hhbmdlcy5zZXREaXJ0eSgpLHRoaXMuX2xheWVyT3JkZXJDaGFuZ2VkPSEwLHRoaXMubWVyZ2VMYXllcnMoKTt9cmVtb3ZlTGF5ZXIoZSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCB0PXRoaXMuX2NoZWNrTGF5ZXIoZSk7aWYoIXQpcmV0dXJuO3Quc2V0RXZlbnRlZFBhcmVudChudWxsKTtjb25zdCBpPXRoaXMuX29yZGVyLmluZGV4T2YoZSk7dGhpcy5fb3JkZXIuc3BsaWNlKGksMSksZGVsZXRlIHRoaXMuX2xheWVyc1tlXSxkZWxldGUgdGhpcy5fc2VyaWFsaXplZExheWVyc1tlXSx0aGlzLl9jaGFuZ2VzLnNldERpcnR5KCksdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQ9ITAsdGhpcy5fY29uZmlnRGVwZW5kZW50TGF5ZXJzLmRlbGV0ZSh0LmZxaWQpLHRoaXMuX2NoYW5nZXMucmVtb3ZlTGF5ZXIodCk7Y29uc3Qgcj10aGlzLmdldE93bkxheWVyU291cmNlQ2FjaGUodCk7aWYociYmci5jYXN0c1NoYWRvd3Mpe2xldCBlPSExO2Zvcihjb25zdCBpIGluIHRoaXMuX2xheWVycylpZih0aGlzLl9sYXllcnNbaV0uc291cmNlPT09dC5zb3VyY2UmJnRoaXMuX2xheWVyc1tpXS5jYW5DYXN0U2hhZG93cygpKXtlPSEwO2JyZWFrfXIuY2FzdHNTaGFkb3dzPWU7fXQub25SZW1vdmUmJnQub25SZW1vdmUodGhpcy5tYXApLHRoaXMubWVyZ2VMYXllcnMoKTt9Z2V0T3duTGF5ZXIoZSl7cmV0dXJuIHRoaXMuX2xheWVyc1tlXX1oYXNMYXllcihlKXtyZXR1cm4gZSBpbiB0aGlzLl9tZXJnZWRMYXllcnN9aGFzTGF5ZXJUeXBlKGUpe2Zvcihjb25zdCB0IGluIHRoaXMuX2xheWVycylpZih0aGlzLl9sYXllcnNbdF0udHlwZT09PWUpcmV0dXJuICEwO3JldHVybiAhMX1zZXRMYXllclpvb21SYW5nZShlLHQsaSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCByPXRoaXMuX2NoZWNrTGF5ZXIoZSk7ciYmKHIubWluem9vbT09PXQmJnIubWF4em9vbT09PWl8fChudWxsIT10JiYoci5taW56b29tPXQpLG51bGwhPWkmJihyLm1heHpvb209aSksdGhpcy5fdXBkYXRlTGF5ZXIocikpKTt9c2V0U2xvdChlLHQpe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3QgaT10aGlzLl9jaGVja0xheWVyKGUpO2kmJmkuc2xvdCE9PXQmJihpLnNsb3Q9dCx0aGlzLl91cGRhdGVMYXllcihpKSk7fXNldEZpbHRlcihlLHQsaT17fSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCByPXRoaXMuX2NoZWNrTGF5ZXIoZSk7aWYociYmIXgoci5maWx0ZXIsdCkpcmV0dXJuIG51bGw9PXQ/KHIuZmlsdGVyPXZvaWQgMCx2b2lkIHRoaXMuX3VwZGF0ZUxheWVyKHIpKTp2b2lkKHRoaXMuX3ZhbGlkYXRlKHdzLGBsYXllcnMuJHtyLmlkfS5maWx0ZXJgLHQse2xheWVyVHlwZTpyLnR5cGV9LGkpfHwoci5maWx0ZXI9JCh0KSx0aGlzLl91cGRhdGVMYXllcihyKSkpfWdldEZpbHRlcihlKXtjb25zdCB0PXRoaXMuX2NoZWNrTGF5ZXIoZSk7aWYodClyZXR1cm4gJCh0LmZpbHRlcil9c2V0TGF5b3V0UHJvcGVydHkoZSx0LGkscj17fSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBuPXRoaXMuX2NoZWNrTGF5ZXIoZSk7biYmKHgobi5nZXRMYXlvdXRQcm9wZXJ0eSh0KSxpKXx8KG4uc2V0TGF5b3V0UHJvcGVydHkodCxpLHIpLG4uaXNDb25maWdEZXBlbmRlbnQmJnRoaXMuX2NvbmZpZ0RlcGVuZGVudExheWVycy5hZGQobi5mcWlkKSx0aGlzLl91cGRhdGVMYXllcihuKSkpO31nZXRMYXlvdXRQcm9wZXJ0eShlLHQpe2NvbnN0IGk9dGhpcy5fY2hlY2tMYXllcihlKTtpZihpKXJldHVybiBpLmdldExheW91dFByb3BlcnR5KHQpfXNldFBhaW50UHJvcGVydHkoZSx0LGkscj17fSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBuPXRoaXMuX2NoZWNrTGF5ZXIoZSk7aWYoIW4pcmV0dXJuO2lmKHgobi5nZXRQYWludFByb3BlcnR5KHQpLGkpKXJldHVybjtjb25zdCBvPW4uc2V0UGFpbnRQcm9wZXJ0eSh0LGkscik7bi5pc0NvbmZpZ0RlcGVuZGVudCYmdGhpcy5fY29uZmlnRGVwZW5kZW50TGF5ZXJzLmFkZChuLmZxaWQpLG8mJnRoaXMuX3VwZGF0ZUxheWVyKG4pLHRoaXMuX2NoYW5nZXMudXBkYXRlUGFpbnRQcm9wZXJ0aWVzKG4pO31nZXRQYWludFByb3BlcnR5KGUsdCl7Y29uc3QgaT10aGlzLl9jaGVja0xheWVyKGUpO2lmKGkpcmV0dXJuIGkuZ2V0UGFpbnRQcm9wZXJ0eSh0KX1zZXRGZWF0dXJlU3RhdGUoZSx0KXt0aGlzLl9jaGVja0xvYWRlZCgpO2NvbnN0IGk9ZS5zb3VyY2Uscj1lLnNvdXJjZUxheWVyLG49dGhpcy5fY2hlY2tTb3VyY2UoaSk7aWYoIW4pcmV0dXJuO2NvbnN0IG89bi50eXBlO2lmKFwiZ2VvanNvblwiPT09byYmcilyZXR1cm4gdm9pZCB0aGlzLmZpcmUobmV3IEN0KG5ldyBFcnJvcihcIkdlb0pTT04gc291cmNlcyBjYW5ub3QgaGF2ZSBhIHNvdXJjZUxheWVyIHBhcmFtZXRlci5cIikpKTtpZihcInZlY3RvclwiPT09byYmIXIpcmV0dXJuIHZvaWQgdGhpcy5maXJlKG5ldyBDdChuZXcgRXJyb3IoXCJUaGUgc291cmNlTGF5ZXIgcGFyYW1ldGVyIG11c3QgYmUgcHJvdmlkZWQgZm9yIHZlY3RvciBzb3VyY2UgdHlwZXMuXCIpKSk7dm9pZCAwPT09ZS5pZCYmdGhpcy5maXJlKG5ldyBDdChuZXcgRXJyb3IoXCJUaGUgZmVhdHVyZSBpZCBwYXJhbWV0ZXIgbXVzdCBiZSBwcm92aWRlZC5cIikpKTtjb25zdCBzPXRoaXMuZ2V0T3duU291cmNlQ2FjaGVzKGkpO2Zvcihjb25zdCBpIG9mIHMpaS5zZXRGZWF0dXJlU3RhdGUocixlLmlkLHQpO31yZW1vdmVGZWF0dXJlU3RhdGUoZSx0KXt0aGlzLl9jaGVja0xvYWRlZCgpO2NvbnN0IGk9ZS5zb3VyY2Uscj10aGlzLl9jaGVja1NvdXJjZShpKTtpZighcilyZXR1cm47Y29uc3Qgbj1yLnR5cGUsbz1cInZlY3RvclwiPT09bj9lLnNvdXJjZUxheWVyOnZvaWQgMDtpZihcInZlY3RvclwiPT09biYmIW8pcmV0dXJuIHZvaWQgdGhpcy5maXJlKG5ldyBDdChuZXcgRXJyb3IoXCJUaGUgc291cmNlTGF5ZXIgcGFyYW1ldGVyIG11c3QgYmUgcHJvdmlkZWQgZm9yIHZlY3RvciBzb3VyY2UgdHlwZXMuXCIpKSk7aWYodCYmXCJzdHJpbmdcIiE9dHlwZW9mIGUuaWQmJlwibnVtYmVyXCIhPXR5cGVvZiBlLmlkKXJldHVybiB2b2lkIHRoaXMuZmlyZShuZXcgQ3QobmV3IEVycm9yKFwiQSBmZWF0dXJlIGlkIGlzIHJlcXVpcmVkIHRvIHJlbW92ZSBpdHMgc3BlY2lmaWMgc3RhdGUgcHJvcGVydHkuXCIpKSk7Y29uc3Qgcz10aGlzLmdldE93blNvdXJjZUNhY2hlcyhpKTtmb3IoY29uc3QgaSBvZiBzKWkucmVtb3ZlRmVhdHVyZVN0YXRlKG8sZS5pZCx0KTt9Z2V0RmVhdHVyZVN0YXRlKGUpe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3QgdD1lLnNvdXJjZSxpPWUuc291cmNlTGF5ZXIscj10aGlzLl9jaGVja1NvdXJjZSh0KTtpZihyKXtpZihcInZlY3RvclwiIT09ci50eXBlfHxpKXJldHVybiB2b2lkIDA9PT1lLmlkJiZ0aGlzLmZpcmUobmV3IEN0KG5ldyBFcnJvcihcIlRoZSBmZWF0dXJlIGlkIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkLlwiKSkpLHRoaXMuZ2V0T3duU291cmNlQ2FjaGVzKHQpWzBdLmdldEZlYXR1cmVTdGF0ZShpLGUuaWQpO3RoaXMuZmlyZShuZXcgQ3QobmV3IEVycm9yKFwiVGhlIHNvdXJjZUxheWVyIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkIGZvciB2ZWN0b3Igc291cmNlIHR5cGVzLlwiKSkpO319c2V0VHJhbnNpdGlvbihlKXtyZXR1cm4gdGhpcy5zdHlsZXNoZWV0LnRyYW5zaXRpb249ayh7fSx0aGlzLnN0eWxlc2hlZXQudHJhbnNpdGlvbixlKSx0aGlzLnRyYW5zaXRpb249dGhpcy5zdHlsZXNoZWV0LnRyYW5zaXRpb24sdGhpc31nZXRUcmFuc2l0aW9uKCl7cmV0dXJuIGsoe30sdGhpcy5zdHlsZXNoZWV0LnRyYW5zaXRpb24pfXNlcmlhbGl6ZSgpe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3QgZT10aGlzLmdldFRlcnJhaW4oKSx0PWUmJnRoaXMudGVycmFpbiYmdGhpcy50ZXJyYWluLnNjb3BlPT09dGhpcy5zY29wZT9lOnRoaXMuc3R5bGVzaGVldC50ZXJyYWluO3JldHVybiBaKHt2ZXJzaW9uOnRoaXMuc3R5bGVzaGVldC52ZXJzaW9uLG5hbWU6dGhpcy5zdHlsZXNoZWV0Lm5hbWUsbWV0YWRhdGE6dGhpcy5zdHlsZXNoZWV0Lm1ldGFkYXRhLGltcG9ydHM6dGhpcy5fc2VyaWFsaXplSW1wb3J0cygpLHNjaGVtYTp0aGlzLnN0eWxlc2hlZXQuc2NoZW1hLGNhbWVyYTp0aGlzLnN0eWxlc2hlZXQuY2FtZXJhLGxpZ2h0OnRoaXMuc3R5bGVzaGVldC5saWdodCxsaWdodHM6dGhpcy5zdHlsZXNoZWV0LmxpZ2h0cyx0ZXJyYWluOnQsZm9nOnRoaXMuc3R5bGVzaGVldC5mb2csY2VudGVyOnRoaXMuc3R5bGVzaGVldC5jZW50ZXIsem9vbTp0aGlzLnN0eWxlc2hlZXQuem9vbSxiZWFyaW5nOnRoaXMuc3R5bGVzaGVldC5iZWFyaW5nLHBpdGNoOnRoaXMuc3R5bGVzaGVldC5waXRjaCxzcHJpdGU6dGhpcy5zdHlsZXNoZWV0LnNwcml0ZSxnbHlwaHM6dGhpcy5zdHlsZXNoZWV0LmdseXBocyx0cmFuc2l0aW9uOnRoaXMuc3R5bGVzaGVldC50cmFuc2l0aW9uLHByb2plY3Rpb246dGhpcy5zdHlsZXNoZWV0LnByb2plY3Rpb24sc291cmNlczp0aGlzLl9zZXJpYWxpemVTb3VyY2VzKCksbGF5ZXJzOnRoaXMuX3NlcmlhbGl6ZUxheWVycyh0aGlzLl9vcmRlcil9LChlPT52b2lkIDAhPT1lKSl9X3VwZGF0ZUxheWVyKGUpe3RoaXMuX2NoYW5nZXMudXBkYXRlTGF5ZXIoZSk7Y29uc3QgdD10aGlzLmdldExheWVyU291cmNlQ2FjaGUoZSksaT12YShlLnNvdXJjZSxlLnNjb3BlKSxyPXRoaXMuX2NoYW5nZXMuZ2V0VXBkYXRlZFNvdXJjZUNhY2hlcygpO2Uuc291cmNlJiYhcltpXSYmdCYmXCJyYXN0ZXJcIiE9PXQuZ2V0U291cmNlKCkudHlwZSYmKHRoaXMuX2NoYW5nZXMudXBkYXRlU291cmNlQ2FjaGUoaSxcInJlbG9hZFwiKSx0LnBhdXNlKCkpLGUuaW52YWxpZGF0ZUNvbXBpbGVkRmlsdGVyKCk7fV9mbGF0dGVuQW5kU29ydFJlbmRlcmVkRmVhdHVyZXMoZSl7Y29uc3QgdD1lPT5cImZpbGwtZXh0cnVzaW9uXCI9PT10aGlzLl9tZXJnZWRMYXllcnNbZV0udHlwZSxpPXRoaXMub3JkZXIscj17fSxuPVtdO2ZvcihsZXQgbz1pLmxlbmd0aC0xO28+PTA7by0tKXtjb25zdCBzPWlbb107aWYodChzKSl7cltzXT1vO2Zvcihjb25zdCB0IG9mIGUpe2NvbnN0IGU9dFtzXTtpZihlKWZvcihjb25zdCB0IG9mIGUpbi5wdXNoKHQpO319fW4uc29ydCgoKGUsdCk9PnQuaW50ZXJzZWN0aW9uWi1lLmludGVyc2VjdGlvblopKTtjb25zdCBvPVtdO2ZvcihsZXQgcz1pLmxlbmd0aC0xO3M+PTA7cy0tKXtjb25zdCBhPWlbc107aWYodChhKSlmb3IobGV0IGU9bi5sZW5ndGgtMTtlPj0wO2UtLSl7Y29uc3QgdD1uW2VdLmZlYXR1cmU7aWYoclt0LmxheWVyLmlkXTxzKWJyZWFrO28ucHVzaCh0KSxuLnBvcCgpO31lbHNlIGZvcihjb25zdCB0IG9mIGUpe2NvbnN0IGU9dFthXTtpZihlKWZvcihjb25zdCB0IG9mIGUpby5wdXNoKHQuZmVhdHVyZSk7fX1yZXR1cm4gb31xdWVyeVJlbmRlcmVkRmVhdHVyZXMoZSx0LGkpe3QmJnQuZmlsdGVyJiZ0aGlzLl92YWxpZGF0ZSh3cyxcInF1ZXJ5UmVuZGVyZWRGZWF0dXJlcy5maWx0ZXJcIix0LmZpbHRlcixudWxsLHQpLHQuc2NvcGU9dGhpcy5zY29wZSx0LmF2YWlsYWJsZUltYWdlcz10aGlzLl9hdmFpbGFibGVJbWFnZXMsdC5zZXJpYWxpemVkTGF5ZXJzPXRoaXMuX3NlcmlhbGl6ZWRMYXllcnM7Y29uc3Qgcj17fTtpZih0JiZ0LmxheWVycyl7aWYoIUFycmF5LmlzQXJyYXkodC5sYXllcnMpKXJldHVybiB0aGlzLmZpcmUobmV3IEN0KG5ldyBFcnJvcihcInBhcmFtZXRlcnMubGF5ZXJzIG11c3QgYmUgYW4gQXJyYXkuXCIpKSksW107Zm9yKGNvbnN0IGUgb2YgdC5sYXllcnMpe2NvbnN0IHQ9dGhpcy5fbWVyZ2VkTGF5ZXJzW2VdO2lmKCF0KXJldHVybiB0aGlzLmZpcmUobmV3IEN0KG5ldyBFcnJvcihgVGhlIGxheWVyICcke2V9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBxdWVyaWVkIGZvciBmZWF0dXJlcy5gKSkpLFtdO3JbdC5zb3VyY2VdPSEwO319Y29uc3Qgbj1bXSxvPXQuc2VyaWFsaXplZExheWVyc3x8e30scz10JiZ0LmxheWVycz90LmxheWVycy5zb21lKChlPT57Y29uc3QgdD10aGlzLmdldExheWVyKGUpO3JldHVybiB0JiZ0LmlzM0QoKX0pKTp0aGlzLmhhczNETGF5ZXJzKCksYT1Jdy5jcmVhdGVGcm9tU2NyZWVuUG9pbnRzKGUsaSk7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fbWVyZ2VkU291cmNlQ2FjaGVzKXtjb25zdCBsPXRoaXMuX21lcmdlZFNvdXJjZUNhY2hlc1tlXS5nZXRTb3VyY2UoKTtpZighbHx8bC5zY29wZSE9PXQuc2NvcGUpY29udGludWU7Y29uc3QgYz10aGlzLl9tZXJnZWRTb3VyY2VDYWNoZXNbZV0uZ2V0U291cmNlKCkuaWQ7dC5sYXllcnMmJiFyW2NdfHxuLnB1c2goQ1QodGhpcy5fbWVyZ2VkU291cmNlQ2FjaGVzW2VdLHRoaXMuX21lcmdlZExheWVycyxvLGEsdCxpLHMsISF0aGlzLm1hcC5fc2hvd1F1ZXJ5R2VvbWV0cnkpKTt9cmV0dXJuIHRoaXMucGxhY2VtZW50JiZuLnB1c2goZnVuY3Rpb24oZSx0LGkscixuLG8scyl7Y29uc3QgYT17fSxsPW8ucXVlcnlSZW5kZXJlZFN5bWJvbHMociksYz1bXTtmb3IoY29uc3QgZSBvZiBPYmplY3Qua2V5cyhsKS5tYXAoTnVtYmVyKSljLnB1c2goc1tlXSk7Yy5zb3J0KFBUKTtmb3IoY29uc3QgaSBvZiBjKXtjb25zdCByPWkuZmVhdHVyZUluZGV4Lmxvb2t1cFN5bWJvbEZlYXR1cmVzKGxbaS5idWNrZXRJbnN0YW5jZUlkXSx0LGkuYnVja2V0SW5kZXgsaS5zb3VyY2VMYXllckluZGV4LG4uZmlsdGVyLG4ubGF5ZXJzLG4uYXZhaWxhYmxlSW1hZ2VzLGUpO2Zvcihjb25zdCBlIGluIHIpe2NvbnN0IHQ9YVtlXT1hW2VdfHxbXSxuPXJbZV07bi5zb3J0KCgoZSx0KT0+e2NvbnN0IHI9aS5mZWF0dXJlU29ydE9yZGVyO2lmKHIpe2NvbnN0IGk9ci5pbmRleE9mKGUuZmVhdHVyZUluZGV4KTtyZXR1cm4gci5pbmRleE9mKHQuZmVhdHVyZUluZGV4KS1pfXJldHVybiB0LmZlYXR1cmVJbmRleC1lLmZlYXR1cmVJbmRleH0pKTtmb3IoY29uc3QgZSBvZiBuKXQucHVzaChlKTt9fWZvcihjb25zdCB0IGluIGEpYVt0XS5mb3JFYWNoKChyPT57Y29uc3Qgbj1yLmZlYXR1cmUsbz1pKGVbdF0pO2lmKCFvKXJldHVybjtjb25zdCBzPW8uZ2V0RmVhdHVyZVN0YXRlKG4ubGF5ZXJbXCJzb3VyY2UtbGF5ZXJcIl0sbi5pZCk7bi5zb3VyY2U9bi5sYXllci5zb3VyY2Usbi5sYXllcltcInNvdXJjZS1sYXllclwiXSYmKG4uc291cmNlTGF5ZXI9bi5sYXllcltcInNvdXJjZS1sYXllclwiXSksbi5zdGF0ZT1zO30pKTtyZXR1cm4gYX0odGhpcy5fbWVyZ2VkTGF5ZXJzLG8sdGhpcy5nZXRMYXllclNvdXJjZUNhY2hlLmJpbmQodGhpcyksYS5zY3JlZW5HZW9tZXRyeSx0LHRoaXMucGxhY2VtZW50LmNvbGxpc2lvbkluZGV4LHRoaXMucGxhY2VtZW50LnJldGFpbmVkUXVlcnlEYXRhKSksdGhpcy5fZmxhdHRlbkFuZFNvcnRSZW5kZXJlZEZlYXR1cmVzKG4pfXF1ZXJ5U291cmNlRmVhdHVyZXMoZSx0KXt0JiZ0LmZpbHRlciYmdGhpcy5fdmFsaWRhdGUod3MsXCJxdWVyeVNvdXJjZUZlYXR1cmVzLmZpbHRlclwiLHQuZmlsdGVyLG51bGwsdCk7Y29uc3QgaT10aGlzLmdldE93blNvdXJjZUNhY2hlcyhlKTtsZXQgcj1bXTtmb3IoY29uc3QgZSBvZiBpKXI9ci5jb25jYXQoelQoZSx0KSk7cmV0dXJuIHJ9YWRkU291cmNlVHlwZShlLHQsaSl7cmV0dXJuIGlTLmdldFNvdXJjZVR5cGUoZSk/aShuZXcgRXJyb3IoYEEgc291cmNlIHR5cGUgY2FsbGVkIFwiJHtlfVwiIGFscmVhZHkgZXhpc3RzLmApKTooaVMuc2V0U291cmNlVHlwZShlLHQpLHQud29ya2VyU291cmNlVVJMP3ZvaWQgdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcImxvYWRXb3JrZXJTb3VyY2VcIix7bmFtZTplLHVybDp0LndvcmtlclNvdXJjZVVSTH0saSk6aShudWxsLG51bGwpKX1nZXRGbGF0TGlnaHQoKXtyZXR1cm4gdGhpcy5saWdodC5nZXRMaWdodCgpfXNldEZsYXRMaWdodChlLHQsaT17fSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCByPXRoaXMubGlnaHQuZ2V0TGlnaHQoKTtsZXQgbj0hMTtmb3IoY29uc3QgdCBpbiBlKWlmKCF4KGVbdF0sclt0XSkpe249ITA7YnJlYWt9aWYoIW4pcmV0dXJuO2NvbnN0IG89dGhpcy5fZ2V0VHJhbnNpdGlvblBhcmFtZXRlcnMoKTt0aGlzLmxpZ2h0LnNldExpZ2h0KGUsdCxpKSx0aGlzLmxpZ2h0LnVwZGF0ZVRyYW5zaXRpb25zKG8pO31nZXRUZXJyYWluKCl7cmV0dXJuIHRoaXMudGVycmFpbiYmMT09PXRoaXMudGVycmFpbi5kcmFwZVJlbmRlck1vZGU/dGhpcy50ZXJyYWluLmdldCgpOm51bGx9c2V0VGVycmFpbkZvckRyYXBpbmcoKXt0aGlzLnNldFRlcnJhaW4oe3NvdXJjZTpcIlwiLGV4YWdnZXJhdGlvbjowfSwwKTt9c2V0VGVycmFpbihlLHQ9MSl7aWYodGhpcy5fY2hlY2tMb2FkZWQoKSwhZSlyZXR1cm4gZGVsZXRlIHRoaXMudGVycmFpbixudWxsPT09ZT90aGlzLnN0eWxlc2hlZXQudGVycmFpbj1udWxsOmRlbGV0ZSB0aGlzLnN0eWxlc2hlZXQudGVycmFpbix0aGlzLl9mb3JjZTNETGF5ZXJVcGRhdGUoKSx2b2lkKHRoaXMuX21hcmtlcnNOZWVkVXBkYXRlPSEwKTtsZXQgaT1lO2NvbnN0IHI9bnVsbD09ZS5zb3VyY2U7aWYoMT09PXQpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBpLnNvdXJjZSl7Y29uc3QgZT1cInRlcnJhaW4tZGVtLXNyY1wiO3RoaXMuYWRkU291cmNlKGUsaS5zb3VyY2UpLGk9JChpKSxpPWsoaSx7c291cmNlOmV9KTt9Y29uc3QgZT1rKHt9LGkpLHQ9e307aWYodGhpcy50ZXJyYWluJiZyKXtlLnNvdXJjZT10aGlzLnRlcnJhaW4uZ2V0KCkuc291cmNlO2NvbnN0IGk9dGhpcy50ZXJyYWluP3RoaXMuZ2V0RnJhZ21lbnRTdHlsZSh0aGlzLnRlcnJhaW4uc2NvcGUpOm51bGw7aSYmKHQuc3R5bGU9aS5zZXJpYWxpemUoKSk7fWlmKHRoaXMuX3ZhbGlkYXRlKHhzLFwidGVycmFpblwiLGUsdCkpcmV0dXJufWlmKCF0aGlzLnRlcnJhaW58fHRoaXMudGVycmFpbi5zY29wZSE9PXRoaXMuc2NvcGUmJiFyfHx0aGlzLnRlcnJhaW4mJnQhPT10aGlzLnRlcnJhaW4uZHJhcGVSZW5kZXJNb2RlKXtpZighaSlyZXR1cm47dGhpcy5fY3JlYXRlVGVycmFpbihpLHQpLHRoaXMuZmlyZShuZXcgSXQoXCJkYXRhXCIse2RhdGFUeXBlOlwic3R5bGVcIn0pKTt9ZWxzZSB7Y29uc3QgdD10aGlzLnRlcnJhaW4scj10LmdldCgpO2Zvcihjb25zdCBlIG9mIE9iamVjdC5rZXlzKFB0LnRlcnJhaW4pKSFpLmhhc093blByb3BlcnR5KGUpJiZQdC50ZXJyYWluW2VdLmRlZmF1bHQmJihpW2VdPVB0LnRlcnJhaW5bZV0uZGVmYXVsdCk7Zm9yKGNvbnN0IGkgaW4gZSlpZigheChlW2ldLHJbaV0pKXt0LnNldChlLHRoaXMub3B0aW9ucyksdGhpcy5zdHlsZXNoZWV0LnRlcnJhaW49ZTtjb25zdCBpPXRoaXMuX2dldFRyYW5zaXRpb25QYXJhbWV0ZXJzKHtkdXJhdGlvbjowfSk7dC51cGRhdGVUcmFuc2l0aW9ucyhpKSx0aGlzLmZpcmUobmV3IEl0KFwiZGF0YVwiLHtkYXRhVHlwZTpcInN0eWxlXCJ9KSk7YnJlYWt9fXRoaXMubWVyZ2VUZXJyYWluKCksdGhpcy51cGRhdGVEcmFwZUZpcnN0TGF5ZXJzKCksdGhpcy5fbWFya2Vyc05lZWRVcGRhdGU9ITA7fV9jcmVhdGVGb2coZSl7Y29uc3QgdD10aGlzLmZvZz1uZXcgdncoZSx0aGlzLm1hcC50cmFuc2Zvcm0pO3RoaXMuc3R5bGVzaGVldC5mb2c9dC5nZXQoKTtjb25zdCBpPXRoaXMuX2dldFRyYW5zaXRpb25QYXJhbWV0ZXJzKHtkdXJhdGlvbjowfSk7dC51cGRhdGVUcmFuc2l0aW9ucyhpKTt9X3VwZGF0ZU1hcmtlcnNPcGFjaXR5KCl7MCE9PXRoaXMubWFwLl9tYXJrZXJzLmxlbmd0aCYmdGhpcy5tYXAuX3JlcXVlc3REb21UYXNrKCgoKT0+e2Zvcihjb25zdCBlIG9mIHRoaXMubWFwLl9tYXJrZXJzKWUuX2V2YWx1YXRlT3BhY2l0eSgpO30pKTt9Z2V0Rm9nKCl7cmV0dXJuIHRoaXMuZm9nP3RoaXMuZm9nLmdldCgpOm51bGx9c2V0Rm9nKGUpe2lmKHRoaXMuX2NoZWNrTG9hZGVkKCksIWUpcmV0dXJuIGRlbGV0ZSB0aGlzLmZvZyxkZWxldGUgdGhpcy5zdHlsZXNoZWV0LmZvZyx2b2lkKHRoaXMuX21hcmtlcnNOZWVkVXBkYXRlPSEwKTtpZih0aGlzLmZvZyl7Y29uc3QgdD10aGlzLmZvZztpZigheCh0LmdldCgpLGUpKXt0LnNldChlKSx0aGlzLnN0eWxlc2hlZXQuZm9nPXQuZ2V0KCk7Y29uc3QgaT10aGlzLl9nZXRUcmFuc2l0aW9uUGFyYW1ldGVycyh7ZHVyYXRpb246MH0pO3QudXBkYXRlVHJhbnNpdGlvbnMoaSk7fX1lbHNlIHRoaXMuX2NyZWF0ZUZvZyhlKTt0aGlzLl9tYXJrZXJzTmVlZFVwZGF0ZT0hMDt9X2dldFRyYW5zaXRpb25QYXJhbWV0ZXJzKGUpe3JldHVybiB7bm93OmR0Lm5vdygpLHRyYW5zaXRpb246ayh0aGlzLnRyYW5zaXRpb24sZSl9fXVwZGF0ZURyYXBlRmlyc3RMYXllcnMoKXtpZighdGhpcy50ZXJyYWluKXJldHVybjtjb25zdCBlPVtdLHQ9W107Zm9yKGNvbnN0IGkgaW4gdGhpcy5fbWVyZ2VkTGF5ZXJzKXRoaXMuaXNMYXllckRyYXBlZCh0aGlzLl9tZXJnZWRMYXllcnNbaV0pP2UucHVzaChpKTp0LnB1c2goaSk7dGhpcy5fZHJhcGVkRmlyc3RPcmRlcj1bXSx0aGlzLl9kcmFwZWRGaXJzdE9yZGVyLnB1c2goLi4uZSksdGhpcy5fZHJhcGVkRmlyc3RPcmRlci5wdXNoKC4uLnQpO31fY3JlYXRlVGVycmFpbihlLHQpe2NvbnN0IGk9dGhpcy50ZXJyYWluPW5ldyB1dyhlLHQsdGhpcy5zY29wZSx0aGlzLm9wdGlvbnMpOzE9PT10JiYodGhpcy5zdHlsZXNoZWV0LnRlcnJhaW49ZSksdGhpcy5tZXJnZVRlcnJhaW4oKSx0aGlzLnVwZGF0ZURyYXBlRmlyc3RMYXllcnMoKSx0aGlzLl9mb3JjZTNETGF5ZXJVcGRhdGUoKTtjb25zdCByPXRoaXMuX2dldFRyYW5zaXRpb25QYXJhbWV0ZXJzKHtkdXJhdGlvbjowfSk7aS51cGRhdGVUcmFuc2l0aW9ucyhyKTt9X2ZvcmNlM0RMYXllclVwZGF0ZSgpe2Zvcihjb25zdCBlIGluIHRoaXMuX2xheWVycyl7Y29uc3QgdD10aGlzLl9sYXllcnNbZV07XCJmaWxsLWV4dHJ1c2lvblwiPT09dC50eXBlJiZ0aGlzLl91cGRhdGVMYXllcih0KTt9fV9mb3JjZVN5bWJvbExheWVyVXBkYXRlKCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fbGF5ZXJzKXtjb25zdCB0PXRoaXMuX2xheWVyc1tlXTtcInN5bWJvbFwiPT09dC50eXBlJiZ0aGlzLl91cGRhdGVMYXllcih0KTt9fV92YWxpZGF0ZShlLHQsaSxyLG49e30pe2lmKG4mJiExPT09bi52YWxpZGF0ZSlyZXR1cm4gITE7Y29uc3Qgbz1rKHt9LHRoaXMuc2VyaWFsaXplKCkpO3JldHVybiBZQSh0aGlzLGUuY2FsbChtcyxrKHtrZXk6dCxzdHlsZTpvLHZhbHVlOmksc3R5bGVTcGVjOlB0fSxyKSkpfV9yZW1vdmUoKXt0aGlzLl9yZXF1ZXN0JiYodGhpcy5fcmVxdWVzdC5jYW5jZWwoKSx0aGlzLl9yZXF1ZXN0PW51bGwpLHRoaXMuX3Nwcml0ZVJlcXVlc3QmJih0aGlzLl9zcHJpdGVSZXF1ZXN0LmNhbmNlbCgpLHRoaXMuX3Nwcml0ZVJlcXVlc3Q9bnVsbCksdGEub2ZmKFwicGx1Z2luU3RhdGVDaGFuZ2VcIix0aGlzLl9ydGxUZXh0UGx1Z2luQ2FsbGJhY2spO2Zvcihjb25zdCBlIGluIHRoaXMuX21lcmdlZExheWVycyl0aGlzLl9tZXJnZWRMYXllcnNbZV0uc2V0RXZlbnRlZFBhcmVudChudWxsKTtmb3IoY29uc3QgZSBpbiB0aGlzLl9tZXJnZWRTb3VyY2VDYWNoZXMpdGhpcy5fbWVyZ2VkU291cmNlQ2FjaGVzW2VdLmNsZWFyVGlsZXMoKSx0aGlzLl9tZXJnZWRTb3VyY2VDYWNoZXNbZV0uc2V0RXZlbnRlZFBhcmVudChudWxsKTt0aGlzLnNldEV2ZW50ZWRQYXJlbnQobnVsbCksZGVsZXRlIHRoaXMuZm9nLGRlbGV0ZSB0aGlzLnRlcnJhaW4sZGVsZXRlIHRoaXMuYW1iaWVudExpZ2h0LGRlbGV0ZSB0aGlzLmRpcmVjdGlvbmFsTGlnaHQsdGhpcy5pc1Jvb3RTdHlsZSgpJiYodGhpcy5pbWFnZU1hbmFnZXIuc2V0RXZlbnRlZFBhcmVudChudWxsKSx0aGlzLm1vZGVsTWFuYWdlci5zZXRFdmVudGVkUGFyZW50KG51bGwpLHRoaXMuZGlzcGF0Y2hlci5yZW1vdmUoKSk7fWNsZWFyU291cmNlKGUpe2NvbnN0IHQ9dGhpcy5nZXRTb3VyY2VDYWNoZXMoZSk7Zm9yKGNvbnN0IGUgb2YgdCllLmNsZWFyVGlsZXMoKTt9Y2xlYXJTb3VyY2VzKCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fbWVyZ2VkU291cmNlQ2FjaGVzKXRoaXMuX21lcmdlZFNvdXJjZUNhY2hlc1tlXS5jbGVhclRpbGVzKCk7fXJlbG9hZFNvdXJjZShlKXtjb25zdCB0PXRoaXMuZ2V0U291cmNlQ2FjaGVzKGUpO2Zvcihjb25zdCBlIG9mIHQpZS5yZXN1bWUoKSxlLnJlbG9hZCgpO31yZWxvYWRTb3VyY2VzKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5nZXRTb3VyY2VzKCkpZS5yZWxvYWQmJmUucmVsb2FkKCk7fXVwZGF0ZVNvdXJjZXMoZSl7bGV0IHQ7dGhpcy5kaXJlY3Rpb25hbExpZ2h0JiYodD0kQSh0aGlzLmRpcmVjdGlvbmFsTGlnaHQpKTtmb3IoY29uc3QgaSBpbiB0aGlzLl9tZXJnZWRTb3VyY2VDYWNoZXMpdGhpcy5fbWVyZ2VkU291cmNlQ2FjaGVzW2ldLnVwZGF0ZShlLHZvaWQgMCx2b2lkIDAsdCk7fV9nZW5lcmF0ZUNvbGxpc2lvbkJveGVzKCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fc291cmNlQ2FjaGVzKXtjb25zdCB0PXRoaXMuX3NvdXJjZUNhY2hlc1tlXTt0LnJlc3VtZSgpLHQucmVsb2FkKCk7fX1fdXBkYXRlUGxhY2VtZW50KGUsdCxpLHIsbj0hMSl7bGV0IG89ITEscz0hMTtjb25zdCBhPXt9LGw9e307Zm9yKGNvbnN0IHQgb2YgdGhpcy5fbWVyZ2VkT3JkZXIpe2NvbnN0IGk9dGhpcy5fbWVyZ2VkTGF5ZXJzW3RdO2lmKFwic3ltYm9sXCIhPT1pLnR5cGUpY29udGludWU7Y29uc3Qgcj12YShpLnNvdXJjZSxpLnNjb3BlKTtsZXQgbj1hW3JdO2lmKCFuKXtjb25zdCBlPXRoaXMuZ2V0TGF5ZXJTb3VyY2VDYWNoZShpKTtpZighZSljb250aW51ZTtjb25zdCB0PWUuZ2V0UmVuZGVyYWJsZUlkcyghMCkubWFwKCh0PT5lLmdldFRpbGVCeUlEKHQpKSk7bFtyXT10LnNsaWNlKCksbj1hW3JdPXQuc29ydCgoKGUsdCk9PnQudGlsZUlELm92ZXJzY2FsZWRaLWUudGlsZUlELm92ZXJzY2FsZWRafHwoZS50aWxlSUQuaXNMZXNzVGhhbih0LnRpbGVJRCk/LTE6MSkpKTt9Y29uc3Qgcz10aGlzLmNyb3NzVGlsZVN5bWJvbEluZGV4LmFkZExheWVyKGksbixlLmNlbnRlci5sbmcsZS5wcm9qZWN0aW9uKTtvPW98fHM7fWlmKHRoaXMuY3Jvc3NUaWxlU3ltYm9sSW5kZXgucHJ1bmVVbnVzZWRMYXllcnModGhpcy5fbWVyZ2VkT3JkZXIpLG49bnx8dGhpcy5fbGF5ZXJPcmRlckNoYW5nZWR8fDA9PT1pLHRoaXMuX2xheWVyT3JkZXJDaGFuZ2VkJiZ0aGlzLmZpcmUobmV3IEl0KFwibmV3b3JkZXJcIikpLChufHwhdGhpcy5wYXVzZWFibGVQbGFjZW1lbnR8fHRoaXMucGF1c2VhYmxlUGxhY2VtZW50LmlzRG9uZSgpJiYhdGhpcy5wbGFjZW1lbnQuc3RpbGxSZWNlbnQoZHQubm93KCksZS56b29tKSkmJih0aGlzLnBhdXNlYWJsZVBsYWNlbWVudD1uZXcgZ0UoZSx0aGlzLl9tZXJnZWRPcmRlcixuLHQsaSxyLHRoaXMucGxhY2VtZW50LHRoaXMuZm9nJiZlLnByb2plY3Rpb24uc3VwcG9ydHNGb2c/dGhpcy5mb2cuc3RhdGU6bnVsbCx0aGlzLl9idWlsZGluZ0luZGV4KSx0aGlzLl9sYXllck9yZGVyQ2hhbmdlZD0hMSksdGhpcy5wYXVzZWFibGVQbGFjZW1lbnQuaXNEb25lKCk/dGhpcy5wbGFjZW1lbnQuc2V0U3RhbGUoKToodGhpcy5wYXVzZWFibGVQbGFjZW1lbnQuY29udGludWVQbGFjZW1lbnQodGhpcy5fbWVyZ2VkT3JkZXIsdGhpcy5fbWVyZ2VkTGF5ZXJzLGEsbCksdGhpcy5wYXVzZWFibGVQbGFjZW1lbnQuaXNEb25lKCkmJih0aGlzLnBsYWNlbWVudD10aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5jb21taXQoZHQubm93KCkpLHM9ITApLG8mJnRoaXMucGF1c2VhYmxlUGxhY2VtZW50LnBsYWNlbWVudC5zZXRTdGFsZSgpKSxzfHxvKWZvcihjb25zdCBlIG9mIHRoaXMuX21lcmdlZE9yZGVyKXtjb25zdCB0PXRoaXMuX21lcmdlZExheWVyc1tlXTtcInN5bWJvbFwiPT09dC50eXBlJiZ0aGlzLnBsYWNlbWVudC51cGRhdGVMYXllck9wYWNpdGllcyh0LGFbdmEodC5zb3VyY2UsdC5zY29wZSldKTt9cmV0dXJuICF0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5pc0RvbmUoKXx8dGhpcy5wbGFjZW1lbnQuaGFzVHJhbnNpdGlvbnMoZHQubm93KCkpfV9yZWxlYXNlU3ltYm9sRmFkZVRpbGVzKCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fc291cmNlQ2FjaGVzKXRoaXMuX3NvdXJjZUNhY2hlc1tlXS5yZWxlYXNlU3ltYm9sRmFkZVRpbGVzKCk7fWFkZEltcG9ydChlKXt0aGlzLl9jaGVja0xvYWRlZCgpO2NvbnN0IHQ9dGhpcy5zdHlsZXNoZWV0LmltcG9ydHM9dGhpcy5zdHlsZXNoZWV0LmltcG9ydHN8fFtdLGk9dC5maW5kSW5kZXgoKCh7aWQ6dH0pPT50PT09ZS5pZCkpO3JldHVybiAtMSE9PWk/dGhpcy5maXJlKG5ldyBDdChuZXcgRXJyb3IoYEltcG9ydCB3aXRoIGlkICcke2UuaWR9JyBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgbWFwJ3Mgc3R5bGUuYCkpKToodC5wdXNoKGUpLHRoaXMuX2xvYWRJbXBvcnRzKFtlXSwhMCksdGhpcyl9c2V0SW1wb3J0VXJsKGUsdCl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBpPXRoaXMuc3R5bGVzaGVldC5pbXBvcnRzfHxbXSxyPXRoaXMuZ2V0SW1wb3J0SW5kZXgoZSk7aWYoLTE9PT1yKXJldHVybiB0aGlzO2lbcl0udXJsPXQ7Y29uc3Qgbj10aGlzLmZyYWdtZW50c1tyXTtyZXR1cm4gbi5zdHlsZT10aGlzLl9jcmVhdGVGcmFnbWVudFN0eWxlKGlbcl0pLG4uc3R5bGUub24oXCJzdHlsZS5pbXBvcnQubG9hZFwiLCgoKT0+dGhpcy5tZXJnZUFsbCgpKSksbi5zdHlsZS5sb2FkVVJMKHQpLHRoaXN9c2V0SW1wb3J0RGF0YShlLHQpe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3QgaT10aGlzLmdldEltcG9ydEluZGV4KGUpLHI9dGhpcy5zdHlsZXNoZWV0LmltcG9ydHN8fFtdO3JldHVybiAtMT09PWk/dGhpczp0Pyh0aGlzLmZyYWdtZW50c1tpXS5zdHlsZS5zZXRTdGF0ZSh0KSx0aGlzLl9yZWxvYWRJbXBvcnRzKCksdGhpcyk6KGRlbGV0ZSByW2ldLmRhdGEsdGhpcy5zZXRJbXBvcnRVcmwoZSxyW2ldLnVybCkpfXNldEltcG9ydENvbmZpZyhlLHQpe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3QgaT10aGlzLmdldEltcG9ydEluZGV4KGUpLHI9dGhpcy5zdHlsZXNoZWV0LmltcG9ydHN8fFtdO2lmKC0xPT09aSlyZXR1cm4gdGhpczt0P3JbaV0uY29uZmlnPXQ6ZGVsZXRlIHJbaV0uY29uZmlnO2NvbnN0IG49dGhpcy5mcmFnbWVudHNbaV0sbz1uLnN0eWxlLnN0eWxlc2hlZXQmJm4uc3R5bGUuc3R5bGVzaGVldC5zY2hlbWE7cmV0dXJuIG4uY29uZmlnPXQsbi5zdHlsZS5zZXRDb25maWcodCxvKSxuLnN0eWxlLnVwZGF0ZUNvbmZpZ0RlcGVuZGVuY2llcygpLHRoaXN9cmVtb3ZlSW1wb3J0KGUpe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3QgdD10aGlzLnN0eWxlc2hlZXQuaW1wb3J0c3x8W10saT10aGlzLmdldEltcG9ydEluZGV4KGUpO3JldHVybiAtMT09PWl8fCh0LnNwbGljZShpLDEpLHRoaXMuZnJhZ21lbnRzW2ldLnN0eWxlLl9yZW1vdmUoKSx0aGlzLmZyYWdtZW50cy5zcGxpY2UoaSwxKSx0aGlzLl9yZWxvYWRJbXBvcnRzKCkpLHRoaXN9Z2V0SW1wb3J0SW5kZXgoZSl7Y29uc3QgdD0odGhpcy5zdHlsZXNoZWV0LmltcG9ydHN8fFtdKS5maW5kSW5kZXgoKHQ9PnQuaWQ9PT1lKSk7cmV0dXJuIC0xPT09dCYmdGhpcy5maXJlKG5ldyBDdChuZXcgRXJyb3IoYEltcG9ydCAnJHtlfScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlIGFuZCBjYW5ub3QgYmUgdXBkYXRlZC5gKSkpLHR9Z2V0TGF5ZXIoZSl7cmV0dXJuIHRoaXMuX21lcmdlZExheWVyc1tlXX1nZXRTb3VyY2VzKCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgdCBpbiB0aGlzLl9tZXJnZWRPdGhlclNvdXJjZUNhY2hlcyl7Y29uc3QgaT10aGlzLl9tZXJnZWRPdGhlclNvdXJjZUNhY2hlc1t0XTtpJiZlLnB1c2goaS5nZXRTb3VyY2UoKSk7fXJldHVybiBlfWdldFNvdXJjZShlLHQpe2NvbnN0IGk9dGhpcy5nZXRTb3VyY2VDYWNoZShlLHQpO3JldHVybiBpJiZpLmdldFNvdXJjZSgpfWdldExheWVyU291cmNlKGUpe2NvbnN0IHQ9dGhpcy5nZXRMYXllclNvdXJjZUNhY2hlKGUpO3JldHVybiB0JiZ0LmdldFNvdXJjZSgpfWdldFNvdXJjZUNhY2hlKGUsdCl7Y29uc3QgaT12YShlLHQpO3JldHVybiB0aGlzLl9tZXJnZWRPdGhlclNvdXJjZUNhY2hlc1tpXX1nZXRMYXllclNvdXJjZUNhY2hlKGUpe2NvbnN0IHQ9dmEoZS5zb3VyY2UsZS5zY29wZSk7cmV0dXJuIFwic3ltYm9sXCI9PT1lLnR5cGU/dGhpcy5fbWVyZ2VkU3ltYm9sU291cmNlQ2FjaGVzW3RdOnRoaXMuX21lcmdlZE90aGVyU291cmNlQ2FjaGVzW3RdfWdldFNvdXJjZUNhY2hlcyhlKXtjb25zdCB0PVtdO3JldHVybiB0aGlzLl9tZXJnZWRPdGhlclNvdXJjZUNhY2hlc1tlXSYmdC5wdXNoKHRoaXMuX21lcmdlZE90aGVyU291cmNlQ2FjaGVzW2VdKSx0aGlzLl9tZXJnZWRTeW1ib2xTb3VyY2VDYWNoZXNbZV0mJnQucHVzaCh0aGlzLl9tZXJnZWRTeW1ib2xTb3VyY2VDYWNoZXNbZV0pLHR9dXBkYXRlU291cmNlQ2FjaGVzKCl7Y29uc3QgZT10aGlzLl9jaGFuZ2VzLmdldFVwZGF0ZWRTb3VyY2VDYWNoZXMoKTtmb3IoY29uc3QgdCBpbiBlKXtjb25zdCBpPWVbdF07XCJyZWxvYWRcIj09PWk/dGhpcy5yZWxvYWRTb3VyY2UodCk6XCJjbGVhclwiPT09aSYmdGhpcy5jbGVhclNvdXJjZSh0KTt9fXVwZGF0ZUxheWVycyhlKXtjb25zdCB0PXRoaXMuX2NoYW5nZXMuZ2V0VXBkYXRlZFBhaW50UHJvcGVydGllcygpO2Zvcihjb25zdCBpIG9mIHQpe2NvbnN0IHQ9dGhpcy5nZXRMYXllcihpKTt0JiZ0LnVwZGF0ZVRyYW5zaXRpb25zKGUpO319Z2V0SW1hZ2VzKGUsdCxpKXt0aGlzLmltYWdlTWFuYWdlci5nZXRJbWFnZXModC5pY29ucyx0LnNjb3BlLGkpLHRoaXMuX3VwZGF0ZVRpbGVzRm9yQ2hhbmdlZEltYWdlcygpO2NvbnN0IHI9ZT0+e2UmJmUuc2V0RGVwZW5kZW5jaWVzKHQudGlsZUlELmtleSx0LnR5cGUsdC5pY29ucyk7fTtyKHRoaXMuX290aGVyU291cmNlQ2FjaGVzW3Quc291cmNlXSkscih0aGlzLl9zeW1ib2xTb3VyY2VDYWNoZXNbdC5zb3VyY2VdKTt9Z2V0R2x5cGhzKGUsdCxpKXt0aGlzLmdseXBoTWFuYWdlci5nZXRHbHlwaHModC5zdGFja3MsdC5zY29wZSxpKTt9Z2V0UmVzb3VyY2UoZSx0LGkpe3JldHVybiBiZSh0LGkpfWdldE93blNvdXJjZUNhY2hlKGUpe3JldHVybiB0aGlzLl9vdGhlclNvdXJjZUNhY2hlc1tlXX1nZXRPd25MYXllclNvdXJjZUNhY2hlKGUpe3JldHVybiBcInN5bWJvbFwiPT09ZS50eXBlP3RoaXMuX3N5bWJvbFNvdXJjZUNhY2hlc1tlLnNvdXJjZV06dGhpcy5fb3RoZXJTb3VyY2VDYWNoZXNbZS5zb3VyY2VdfWdldE93blNvdXJjZUNhY2hlcyhlKXtjb25zdCB0PVtdO3JldHVybiB0aGlzLl9vdGhlclNvdXJjZUNhY2hlc1tlXSYmdC5wdXNoKHRoaXMuX290aGVyU291cmNlQ2FjaGVzW2VdKSx0aGlzLl9zeW1ib2xTb3VyY2VDYWNoZXNbZV0mJnQucHVzaCh0aGlzLl9zeW1ib2xTb3VyY2VDYWNoZXNbZV0pLHR9X2lzU291cmNlQ2FjaGVMb2FkZWQoZSl7Y29uc3QgdD10aGlzLmdldE93blNvdXJjZUNhY2hlcyhlKTtyZXR1cm4gMD09PXQubGVuZ3RoPyh0aGlzLmZpcmUobmV3IEN0KG5ldyBFcnJvcihgVGhlcmUgaXMgbm8gc291cmNlIHdpdGggSUQgJyR7ZX0nYCkpKSwhMSk6dC5ldmVyeSgoZT0+ZS5sb2FkZWQoKSkpfWhhczNETGF5ZXJzKCl7cmV0dXJuIHRoaXMuX2hhczNETGF5ZXJzfWhhc1N5bWJvbExheWVycygpe3JldHVybiB0aGlzLl9oYXNTeW1ib2xMYXllcnN9aGFzQ2lyY2xlTGF5ZXJzKCl7cmV0dXJuIHRoaXMuX2hhc0NpcmNsZUxheWVyc31fY2xlYXJXb3JrZXJDYWNoZXMoKXt0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwiY2xlYXJDYWNoZXNcIik7fWRlc3Ryb3koKXt0aGlzLl9jbGVhcldvcmtlckNhY2hlcygpLHRoaXMudGVycmFpblNldEZvckRyYXBpbmdPbmx5KCkmJihkZWxldGUgdGhpcy50ZXJyYWluLGRlbGV0ZSB0aGlzLnN0eWxlc2hlZXQudGVycmFpbik7fX1mdW5jdGlvbiByUyhlLHQpe2xldCBpPSExLHI9bnVsbDtjb25zdCBuPSgpPT57cj1udWxsLGkmJihlKCkscj1zZXRUaW1lb3V0KG4sdCksaT0hMSk7fTtyZXR1cm4gKCk9PihpPSEwLHJ8fG4oKSxyKX1pUy5nZXRTb3VyY2VUeXBlPWZ1bmN0aW9uKGUpe3JldHVybiBBVFtlXX0saVMuc2V0U291cmNlVHlwZT1mdW5jdGlvbihlLHQpe0FUW2VdPXQ7fSxpUy5yZWdpc3RlckZvclBsdWdpblN0YXRlQ2hhbmdlPWZ1bmN0aW9uKGUpe3JldHVybiBlKHtwbHVnaW5TdGF0dXM6S3MscGx1Z2luVVJMOkpzfSksdGEub24oXCJwbHVnaW5TdGF0ZUNoYW5nZVwiLGUpLGV9O2NsYXNzIG5Te2NvbnN0cnVjdG9yKGUpe3RoaXMuX2hhc2hOYW1lPWUmJmVuY29kZVVSSUNvbXBvbmVudChlKSxqKFtcIl9nZXRDdXJyZW50SGFzaFwiLFwiX29uSGFzaENoYW5nZVwiLFwiX3VwZGF0ZUhhc2hcIl0sdGhpcyksdGhpcy5fdXBkYXRlSGFzaD1yUyh0aGlzLl91cGRhdGVIYXNoVW50aHJvdHRsZWQuYmluZCh0aGlzKSwzMDApO31hZGRUbyhlKXtyZXR1cm4gdGhpcy5fbWFwPWUsdC5hZGRFdmVudExpc3RlbmVyKFwiaGFzaGNoYW5nZVwiLHRoaXMuX29uSGFzaENoYW5nZSwhMSksZS5vbihcIm1vdmVlbmRcIix0aGlzLl91cGRhdGVIYXNoKSx0aGlzfXJlbW92ZSgpe3JldHVybiB0aGlzLl9tYXA/KHRoaXMuX21hcC5vZmYoXCJtb3ZlZW5kXCIsdGhpcy5fdXBkYXRlSGFzaCksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiaGFzaGNoYW5nZVwiLHRoaXMuX29uSGFzaENoYW5nZSwhMSksY2xlYXJUaW1lb3V0KHRoaXMuX3VwZGF0ZUhhc2goKSksdGhpcy5fbWFwPXZvaWQgMCx0aGlzKTp0aGlzfWdldEhhc2hTdHJpbmcoKXtjb25zdCBlPXRoaXMuX21hcDtpZighZSlyZXR1cm4gXCJcIjtjb25zdCBpPW9TKGUpO2lmKHRoaXMuX2hhc2hOYW1lKXtjb25zdCBlPXRoaXMuX2hhc2hOYW1lO2xldCByPSExO2NvbnN0IG49dC5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpLnNwbGl0KFwiJlwiKS5tYXAoKHQ9Pntjb25zdCBuPXQuc3BsaXQoXCI9XCIpWzBdO3JldHVybiBuPT09ZT8ocj0hMCxgJHtufT0ke2l9YCk6dH0pKS5maWx0ZXIoKGU9PmUpKTtyZXR1cm4gcnx8bi5wdXNoKGAke2V9PSR7aX1gKSxgIyR7bi5qb2luKFwiJlwiKX1gfXJldHVybiBgIyR7aX1gfV9nZXRDdXJyZW50SGFzaCgpe2NvbnN0IGU9dC5sb2NhdGlvbi5oYXNoLnJlcGxhY2UoXCIjXCIsXCJcIik7aWYodGhpcy5faGFzaE5hbWUpe2xldCB0O3JldHVybiBlLnNwbGl0KFwiJlwiKS5tYXAoKGU9PmUuc3BsaXQoXCI9XCIpKSkuZm9yRWFjaCgoZT0+e2VbMF09PT10aGlzLl9oYXNoTmFtZSYmKHQ9ZSk7fSkpLCh0JiZ0WzFdfHxcIlwiKS5zcGxpdChcIi9cIil9cmV0dXJuIGUuc3BsaXQoXCIvXCIpfV9vbkhhc2hDaGFuZ2UoKXtjb25zdCBlPXRoaXMuX21hcDtpZighZSlyZXR1cm4gITE7Y29uc3QgdD10aGlzLl9nZXRDdXJyZW50SGFzaCgpO2lmKHQubGVuZ3RoPj0zJiYhdC5zb21lKChlPT5pc05hTihlKSkpKXtjb25zdCBpPWUuZHJhZ1JvdGF0ZS5pc0VuYWJsZWQoKSYmZS50b3VjaFpvb21Sb3RhdGUuaXNFbmFibGVkKCk/Kyh0WzNdfHwwKTplLmdldEJlYXJpbmcoKTtyZXR1cm4gZS5qdW1wVG8oe2NlbnRlcjpbK3RbMl0sK3RbMV1dLHpvb206K3RbMF0sYmVhcmluZzppLHBpdGNoOisodFs0XXx8MCl9KSwhMH1yZXR1cm4gITF9X3VwZGF0ZUhhc2hVbnRocm90dGxlZCgpe2NvbnN0IGU9dC5sb2NhdGlvbi5ocmVmLnJlcGxhY2UoLygjLispPyQvLHRoaXMuZ2V0SGFzaFN0cmluZygpKTt0Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHQuaGlzdG9yeS5zdGF0ZSxudWxsLGUpO319ZnVuY3Rpb24gb1MoZSx0KXtjb25zdCBpPWUuZ2V0Q2VudGVyKCkscj1NYXRoLnJvdW5kKDEwMCplLmdldFpvb20oKSkvMTAwLG49TWF0aC5jZWlsKChyKk1hdGguTE4yK01hdGgubG9nKDUxMi8zNjAvLjUpKS9NYXRoLkxOMTApLG89TWF0aC5wb3coMTAsbikscz1NYXRoLnJvdW5kKGkubG5nKm8pL28sYT1NYXRoLnJvdW5kKGkubGF0Km8pL28sbD1lLmdldEJlYXJpbmcoKSxjPWUuZ2V0UGl0Y2goKTtsZXQgaD10P2AvJHtzfS8ke2F9LyR7cn1gOmAke3J9LyR7YX0vJHtzfWA7cmV0dXJuIChsfHxjKSYmKGgrPVwiL1wiK01hdGgucm91bmQoMTAqbCkvMTApLGMmJihoKz1gLyR7TWF0aC5yb3VuZChjKX1gKSxofWNvbnN0IHNTPXtsaW5lYXJpdHk6LjMsZWFzaW5nOkkoMCwwLC4zLDEpfSxhUz1rKHtkZWNlbGVyYXRpb246MjUwMCxtYXhTcGVlZDoxNDAwfSxzUyksbFM9ayh7ZGVjZWxlcmF0aW9uOjIwLG1heFNwZWVkOjE0MDB9LHNTKSxjUz1rKHtkZWNlbGVyYXRpb246MWUzLG1heFNwZWVkOjM2MH0sc1MpLGhTPWsoe2RlY2VsZXJhdGlvbjoxZTMsbWF4U3BlZWQ6OTB9LHNTKTtjbGFzcyB1U3tjb25zdHJ1Y3RvcihlKXt0aGlzLl9tYXA9ZSx0aGlzLmNsZWFyKCk7fWNsZWFyKCl7dGhpcy5faW5lcnRpYUJ1ZmZlcj1bXTt9cmVjb3JkKGUpe3RoaXMuX2RyYWluSW5lcnRpYUJ1ZmZlcigpLHRoaXMuX2luZXJ0aWFCdWZmZXIucHVzaCh7dGltZTpkdC5ub3coKSxzZXR0aW5nczplfSk7fV9kcmFpbkluZXJ0aWFCdWZmZXIoKXtjb25zdCBlPXRoaXMuX2luZXJ0aWFCdWZmZXIsdD1kdC5ub3coKTtmb3IoO2UubGVuZ3RoPjAmJnQtZVswXS50aW1lPjE2MDspZS5zaGlmdCgpO31fb25Nb3ZlRW5kKGUpe2lmKHRoaXMuX21hcC5fcHJlZmVyc1JlZHVjZWRNb3Rpb24oKSlyZXR1cm47aWYodGhpcy5fZHJhaW5JbmVydGlhQnVmZmVyKCksdGhpcy5faW5lcnRpYUJ1ZmZlci5sZW5ndGg8MilyZXR1cm47Y29uc3QgdD17em9vbTowLGJlYXJpbmc6MCxwaXRjaDowLHBhbjpuZXcgeSgwLDApLHBpbmNoQXJvdW5kOnZvaWQgMCxhcm91bmQ6dm9pZCAwfTtmb3IoY29uc3R7c2V0dGluZ3M6ZX1vZiB0aGlzLl9pbmVydGlhQnVmZmVyKXQuem9vbSs9ZS56b29tRGVsdGF8fDAsdC5iZWFyaW5nKz1lLmJlYXJpbmdEZWx0YXx8MCx0LnBpdGNoKz1lLnBpdGNoRGVsdGF8fDAsZS5wYW5EZWx0YSYmdC5wYW4uX2FkZChlLnBhbkRlbHRhKSxlLmFyb3VuZCYmKHQuYXJvdW5kPWUuYXJvdW5kKSxlLnBpbmNoQXJvdW5kJiYodC5waW5jaEFyb3VuZD1lLnBpbmNoQXJvdW5kKTtjb25zdCBpPXRoaXMuX2luZXJ0aWFCdWZmZXJbdGhpcy5faW5lcnRpYUJ1ZmZlci5sZW5ndGgtMV0udGltZS10aGlzLl9pbmVydGlhQnVmZmVyWzBdLnRpbWUscj17fTtpZih0LnBhbi5tYWcoKSl7Y29uc3Qgbj1wUyh0LnBhbi5tYWcoKSxpLGsoe30sYVMsZXx8e30pKTtyLm9mZnNldD10LnBhbi5tdWx0KG4uYW1vdW50L3QucGFuLm1hZygpKSxyLmNlbnRlcj10aGlzLl9tYXAudHJhbnNmb3JtLmNlbnRlcixkUyhyLG4pO31pZih0Lnpvb20pe2NvbnN0IGU9cFModC56b29tLGksbFMpO3Iuem9vbT10aGlzLl9tYXAudHJhbnNmb3JtLnpvb20rZS5hbW91bnQsZFMocixlKTt9aWYodC5iZWFyaW5nKXtjb25zdCBlPXBTKHQuYmVhcmluZyxpLGNTKTtyLmJlYXJpbmc9dGhpcy5fbWFwLnRyYW5zZm9ybS5iZWFyaW5nK3ooZS5hbW91bnQsLTE3OSwxNzkpLGRTKHIsZSk7fWlmKHQucGl0Y2gpe2NvbnN0IGU9cFModC5waXRjaCxpLGhTKTtyLnBpdGNoPXRoaXMuX21hcC50cmFuc2Zvcm0ucGl0Y2grZS5hbW91bnQsZFMocixlKTt9aWYoci56b29tfHxyLmJlYXJpbmcpe2NvbnN0IGU9dm9pZCAwPT09dC5waW5jaEFyb3VuZD90LmFyb3VuZDp0LnBpbmNoQXJvdW5kO3IuYXJvdW5kPWU/dGhpcy5fbWFwLnVucHJvamVjdChlKTp0aGlzLl9tYXAuZ2V0Q2VudGVyKCk7fXJldHVybiB0aGlzLmNsZWFyKCksci5ub01vdmVTdGFydD0hMCxyfX1mdW5jdGlvbiBkUyhlLHQpeyghZS5kdXJhdGlvbnx8ZS5kdXJhdGlvbjx0LmR1cmF0aW9uKSYmKGUuZHVyYXRpb249dC5kdXJhdGlvbixlLmVhc2luZz10LmVhc2luZyk7fWZ1bmN0aW9uIHBTKGUsdCxpKXtjb25zdHttYXhTcGVlZDpyLGxpbmVhcml0eTpuLGRlY2VsZXJhdGlvbjpvfT1pLHM9eihlKm4vKHQvMWUzKSwtcixyKSxhPU1hdGguYWJzKHMpLyhvKm4pO3JldHVybiB7ZWFzaW5nOmkuZWFzaW5nLGR1cmF0aW9uOjFlMyphLGFtb3VudDpzKihhLzIpfX1jbGFzcyBmUyBleHRlbmRzIEl0e3ByZXZlbnREZWZhdWx0KCl7dGhpcy5fZGVmYXVsdFByZXZlbnRlZD0hMDt9Z2V0IGRlZmF1bHRQcmV2ZW50ZWQoKXtyZXR1cm4gdGhpcy5fZGVmYXVsdFByZXZlbnRlZH1jb25zdHJ1Y3RvcihlLHQsaSxyPXt9KXtjb25zdCBuPXd0KHQuZ2V0Q2FudmFzQ29udGFpbmVyKCksaSk7c3VwZXIoZSxrKHtwb2ludDpuLGxuZ0xhdDp0LnVucHJvamVjdChuKSxvcmlnaW5hbEV2ZW50Oml9LHIpKSx0aGlzLl9kZWZhdWx0UHJldmVudGVkPSExLHRoaXMudGFyZ2V0PXQ7fX1jbGFzcyBtUyBleHRlbmRzIEl0e3ByZXZlbnREZWZhdWx0KCl7dGhpcy5fZGVmYXVsdFByZXZlbnRlZD0hMDt9Z2V0IGRlZmF1bHRQcmV2ZW50ZWQoKXtyZXR1cm4gdGhpcy5fZGVmYXVsdFByZXZlbnRlZH1jb25zdHJ1Y3RvcihlLHQsaSl7Y29uc3Qgcj1cInRvdWNoZW5kXCI9PT1lP2kuY2hhbmdlZFRvdWNoZXM6aS50b3VjaGVzLG49VHQodC5nZXRDYW52YXNDb250YWluZXIoKSxyKSxvPW4ubWFwKChlPT50LnVucHJvamVjdChlKSkpLHM9bi5yZWR1Y2UoKChlLHQsaSxyKT0+ZS5hZGQodC5kaXYoci5sZW5ndGgpKSksbmV3IHkoMCwwKSk7c3VwZXIoZSx7cG9pbnRzOm4scG9pbnQ6cyxsbmdMYXRzOm8sbG5nTGF0OnQudW5wcm9qZWN0KHMpLG9yaWdpbmFsRXZlbnQ6aX0pLHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITE7fX1jbGFzcyBfUyBleHRlbmRzIEl0e3ByZXZlbnREZWZhdWx0KCl7dGhpcy5fZGVmYXVsdFByZXZlbnRlZD0hMDt9Z2V0IGRlZmF1bHRQcmV2ZW50ZWQoKXtyZXR1cm4gdGhpcy5fZGVmYXVsdFByZXZlbnRlZH1jb25zdHJ1Y3RvcihlLHQsaSl7c3VwZXIoZSx7b3JpZ2luYWxFdmVudDppfSksdGhpcy5fZGVmYXVsdFByZXZlbnRlZD0hMTt9fWNsYXNzIGdTe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fbWFwPWUsdGhpcy5fY2xpY2tUb2xlcmFuY2U9dC5jbGlja1RvbGVyYW5jZTt9cmVzZXQoKXt0aGlzLl9tb3VzZWRvd25Qb3M9dm9pZCAwO313aGVlbChlKXtyZXR1cm4gdGhpcy5fZmlyZVByZXZlbnRhYmxlKG5ldyBfUyhlLnR5cGUsdGhpcy5fbWFwLGUpKX1tb3VzZWRvd24oZSx0KXtyZXR1cm4gdGhpcy5fbW91c2Vkb3duUG9zPXQsdGhpcy5fZmlyZVByZXZlbnRhYmxlKG5ldyBmUyhlLnR5cGUsdGhpcy5fbWFwLGUpKX1tb3VzZXVwKGUpe3RoaXMuX21hcC5maXJlKG5ldyBmUyhlLnR5cGUsdGhpcy5fbWFwLGUpKTt9cHJlY2xpY2soZSl7Y29uc3QgdD1rKHt9LGUpO3QudHlwZT1cInByZWNsaWNrXCIsdGhpcy5fbWFwLmZpcmUobmV3IGZTKHQudHlwZSx0aGlzLl9tYXAsdCkpO31jbGljayhlLHQpe3RoaXMuX21vdXNlZG93blBvcyYmdGhpcy5fbW91c2Vkb3duUG9zLmRpc3QodCk+PXRoaXMuX2NsaWNrVG9sZXJhbmNlfHwodGhpcy5wcmVjbGljayhlKSx0aGlzLl9tYXAuZmlyZShuZXcgZlMoZS50eXBlLHRoaXMuX21hcCxlKSkpO31kYmxjbGljayhlKXtyZXR1cm4gdGhpcy5fZmlyZVByZXZlbnRhYmxlKG5ldyBmUyhlLnR5cGUsdGhpcy5fbWFwLGUpKX1tb3VzZW92ZXIoZSl7dGhpcy5fbWFwLmZpcmUobmV3IGZTKGUudHlwZSx0aGlzLl9tYXAsZSkpO31tb3VzZW91dChlKXt0aGlzLl9tYXAuZmlyZShuZXcgZlMoZS50eXBlLHRoaXMuX21hcCxlKSk7fXRvdWNoc3RhcnQoZSl7cmV0dXJuIHRoaXMuX2ZpcmVQcmV2ZW50YWJsZShuZXcgbVMoZS50eXBlLHRoaXMuX21hcCxlKSl9dG91Y2htb3ZlKGUpe3RoaXMuX21hcC5maXJlKG5ldyBtUyhlLnR5cGUsdGhpcy5fbWFwLGUpKTt9dG91Y2hlbmQoZSl7dGhpcy5fbWFwLmZpcmUobmV3IG1TKGUudHlwZSx0aGlzLl9tYXAsZSkpO310b3VjaGNhbmNlbChlKXt0aGlzLl9tYXAuZmlyZShuZXcgbVMoZS50eXBlLHRoaXMuX21hcCxlKSk7fV9maXJlUHJldmVudGFibGUoZSl7aWYodGhpcy5fbWFwLmZpcmUoZSksZS5kZWZhdWx0UHJldmVudGVkKXJldHVybiB7fX1pc0VuYWJsZWQoKXtyZXR1cm4gITB9aXNBY3RpdmUoKXtyZXR1cm4gITF9ZW5hYmxlKCl7fWRpc2FibGUoKXt9fWNsYXNzIHlTe2NvbnN0cnVjdG9yKGUpe3RoaXMuX21hcD1lO31yZXNldCgpe3RoaXMuX2RlbGF5Q29udGV4dE1lbnU9ITEsdGhpcy5fY29udGV4dE1lbnVFdmVudD12b2lkIDA7fW1vdXNlbW92ZShlKXt0aGlzLl9tYXAuZmlyZShuZXcgZlMoZS50eXBlLHRoaXMuX21hcCxlKSk7fW1vdXNlZG93bigpe3RoaXMuX2RlbGF5Q29udGV4dE1lbnU9ITA7fW1vdXNldXAoKXt0aGlzLl9kZWxheUNvbnRleHRNZW51PSExLHRoaXMuX2NvbnRleHRNZW51RXZlbnQmJih0aGlzLl9tYXAuZmlyZShuZXcgZlMoXCJjb250ZXh0bWVudVwiLHRoaXMuX21hcCx0aGlzLl9jb250ZXh0TWVudUV2ZW50KSksZGVsZXRlIHRoaXMuX2NvbnRleHRNZW51RXZlbnQpO31jb250ZXh0bWVudShlKXt0aGlzLl9kZWxheUNvbnRleHRNZW51P3RoaXMuX2NvbnRleHRNZW51RXZlbnQ9ZTp0aGlzLl9tYXAuZmlyZShuZXcgZlMoZS50eXBlLHRoaXMuX21hcCxlKSksdGhpcy5fbWFwLmxpc3RlbnMoXCJjb250ZXh0bWVudVwiKSYmZS5wcmV2ZW50RGVmYXVsdCgpO31pc0VuYWJsZWQoKXtyZXR1cm4gITB9aXNBY3RpdmUoKXtyZXR1cm4gITF9ZW5hYmxlKCl7fWRpc2FibGUoKXt9fWNsYXNzIHhTe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fbWFwPWUsdGhpcy5fZWw9ZS5nZXRDYW52YXNDb250YWluZXIoKSx0aGlzLl9jb250YWluZXI9ZS5nZXRDb250YWluZXIoKSx0aGlzLl9jbGlja1RvbGVyYW5jZT10LmNsaWNrVG9sZXJhbmNlfHwxO31pc0VuYWJsZWQoKXtyZXR1cm4gISF0aGlzLl9lbmFibGVkfWlzQWN0aXZlKCl7cmV0dXJuICEhdGhpcy5fYWN0aXZlfWVuYWJsZSgpe3RoaXMuaXNFbmFibGVkKCl8fCh0aGlzLl9lbmFibGVkPSEwKTt9ZGlzYWJsZSgpe3RoaXMuaXNFbmFibGVkKCkmJih0aGlzLl9lbmFibGVkPSExKTt9bW91c2Vkb3duKGUsdCl7dGhpcy5pc0VuYWJsZWQoKSYmZS5zaGlmdEtleSYmMD09PWUuYnV0dG9uJiYoeXQoKSx0aGlzLl9zdGFydFBvcz10aGlzLl9sYXN0UG9zPXQsdGhpcy5fYWN0aXZlPSEwKTt9bW91c2Vtb3ZlV2luZG93KGUsdCl7aWYoIXRoaXMuX2FjdGl2ZSlyZXR1cm47Y29uc3QgaT10LHI9dGhpcy5fc3RhcnRQb3Msbj10aGlzLl9sYXN0UG9zO2lmKCFyfHwhbnx8bi5lcXVhbHMoaSl8fCF0aGlzLl9ib3gmJmkuZGlzdChyKTx0aGlzLl9jbGlja1RvbGVyYW5jZSlyZXR1cm47dGhpcy5fbGFzdFBvcz1pLHRoaXMuX2JveHx8KHRoaXMuX2JveD1wdChcImRpdlwiLFwibWFwYm94Z2wtYm94em9vbVwiLHRoaXMuX2NvbnRhaW5lciksdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jcm9zc2hhaXJcIiksdGhpcy5fZmlyZUV2ZW50KFwiYm94em9vbXN0YXJ0XCIsZSkpO2NvbnN0IG89TWF0aC5taW4oci54LGkueCkscz1NYXRoLm1heChyLngsaS54KSxhPU1hdGgubWluKHIueSxpLnkpLGw9TWF0aC5tYXgoci55LGkueSk7dGhpcy5fbWFwLl9yZXF1ZXN0RG9tVGFzaygoKCk9Pnt0aGlzLl9ib3gmJih0aGlzLl9ib3guc3R5bGUudHJhbnNmb3JtPWB0cmFuc2xhdGUoJHtvfXB4LCR7YX1weClgLHRoaXMuX2JveC5zdHlsZS53aWR0aD1zLW8rXCJweFwiLHRoaXMuX2JveC5zdHlsZS5oZWlnaHQ9bC1hK1wicHhcIik7fSkpO31tb3VzZXVwV2luZG93KGUsdCl7aWYoIXRoaXMuX2FjdGl2ZSlyZXR1cm47Y29uc3QgaT10aGlzLl9zdGFydFBvcyxyPXQ7aWYoaSYmMD09PWUuYnV0dG9uKXtpZih0aGlzLnJlc2V0KCksYnQoKSxpLnghPT1yLnh8fGkueSE9PXIueSlyZXR1cm4gdGhpcy5fbWFwLmZpcmUobmV3IEl0KFwiYm94em9vbWVuZFwiLHtvcmlnaW5hbEV2ZW50OmV9KSkse2NhbWVyYUFuaW1hdGlvbjplPT5lLmZpdFNjcmVlbkNvb3JkaW5hdGVzKGkscix0aGlzLl9tYXAuZ2V0QmVhcmluZygpLHtsaW5lYXI6ITF9KX07dGhpcy5fZmlyZUV2ZW50KFwiYm94em9vbWNhbmNlbFwiLGUpO319a2V5ZG93bihlKXt0aGlzLl9hY3RpdmUmJjI3PT09ZS5rZXlDb2RlJiYodGhpcy5yZXNldCgpLHRoaXMuX2ZpcmVFdmVudChcImJveHpvb21jYW5jZWxcIixlKSk7fWJsdXIoKXt0aGlzLnJlc2V0KCk7fXJlc2V0KCl7dGhpcy5fYWN0aXZlPSExLHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3Jvc3NoYWlyXCIpLHRoaXMuX2JveCYmKHRoaXMuX2JveC5yZW1vdmUoKSx0aGlzLl9ib3g9bnVsbCkseHQoKSxkZWxldGUgdGhpcy5fc3RhcnRQb3MsZGVsZXRlIHRoaXMuX2xhc3RQb3M7fV9maXJlRXZlbnQoZSx0KXtyZXR1cm4gdGhpcy5fbWFwLmZpcmUobmV3IEl0KGUse29yaWdpbmFsRXZlbnQ6dH0pKX19ZnVuY3Rpb24gdlMoZSx0KXtjb25zdCBpPXt9O2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKWlbZVtyXS5pZGVudGlmaWVyXT10W3JdO3JldHVybiBpfWNsYXNzIGJTe2NvbnN0cnVjdG9yKGUpe3RoaXMucmVzZXQoKSx0aGlzLm51bVRvdWNoZXM9ZS5udW1Ub3VjaGVzO31yZXNldCgpe3RoaXMuY2VudHJvaWQ9dm9pZCAwLHRoaXMuc3RhcnRUaW1lPTAsdGhpcy50b3VjaGVzPXt9LHRoaXMuYWJvcnRlZD0hMTt9dG91Y2hzdGFydChlLHQsaSl7KHRoaXMuY2VudHJvaWR8fGkubGVuZ3RoPnRoaXMubnVtVG91Y2hlcykmJih0aGlzLmFib3J0ZWQ9ITApLHRoaXMuYWJvcnRlZHx8KDA9PT10aGlzLnN0YXJ0VGltZSYmKHRoaXMuc3RhcnRUaW1lPWUudGltZVN0YW1wKSxpLmxlbmd0aD09PXRoaXMubnVtVG91Y2hlcyYmKHRoaXMuY2VudHJvaWQ9ZnVuY3Rpb24oZSl7Y29uc3QgdD1uZXcgeSgwLDApO2Zvcihjb25zdCBpIG9mIGUpdC5fYWRkKGkpO3JldHVybiB0LmRpdihlLmxlbmd0aCl9KHQpLHRoaXMudG91Y2hlcz12UyhpLHQpKSk7fXRvdWNobW92ZShlLHQsaSl7aWYodGhpcy5hYm9ydGVkfHwhdGhpcy5jZW50cm9pZClyZXR1cm47Y29uc3Qgcj12UyhpLHQpO2Zvcihjb25zdCBlIGluIHRoaXMudG91Y2hlcyl7Y29uc3QgdD1yW2VdOyghdHx8dC5kaXN0KHRoaXMudG91Y2hlc1tlXSk+MzApJiYodGhpcy5hYm9ydGVkPSEwKTt9fXRvdWNoZW5kKGUsdCxpKXtpZigoIXRoaXMuY2VudHJvaWR8fGUudGltZVN0YW1wLXRoaXMuc3RhcnRUaW1lPjUwMCkmJih0aGlzLmFib3J0ZWQ9ITApLDA9PT1pLmxlbmd0aCl7Y29uc3QgZT0hdGhpcy5hYm9ydGVkJiZ0aGlzLmNlbnRyb2lkO2lmKHRoaXMucmVzZXQoKSxlKXJldHVybiBlfX19Y2xhc3Mgd1N7Y29uc3RydWN0b3IoZSl7dGhpcy5zaW5nbGVUYXA9bmV3IGJTKGUpLHRoaXMubnVtVGFwcz1lLm51bVRhcHMsdGhpcy5yZXNldCgpO31yZXNldCgpe3RoaXMubGFzdFRpbWU9MS8wLHRoaXMubGFzdFRhcD12b2lkIDAsdGhpcy5jb3VudD0wLHRoaXMuc2luZ2xlVGFwLnJlc2V0KCk7fXRvdWNoc3RhcnQoZSx0LGkpe3RoaXMuc2luZ2xlVGFwLnRvdWNoc3RhcnQoZSx0LGkpO310b3VjaG1vdmUoZSx0LGkpe3RoaXMuc2luZ2xlVGFwLnRvdWNobW92ZShlLHQsaSk7fXRvdWNoZW5kKGUsdCxpKXtjb25zdCByPXRoaXMuc2luZ2xlVGFwLnRvdWNoZW5kKGUsdCxpKTtpZihyKXtjb25zdCB0PWUudGltZVN0YW1wLXRoaXMubGFzdFRpbWU8NTAwLGk9IXRoaXMubGFzdFRhcHx8dGhpcy5sYXN0VGFwLmRpc3Qocik8MzA7aWYodCYmaXx8dGhpcy5yZXNldCgpLHRoaXMuY291bnQrKyx0aGlzLmxhc3RUaW1lPWUudGltZVN0YW1wLHRoaXMubGFzdFRhcD1yLHRoaXMuY291bnQ9PT10aGlzLm51bVRhcHMpcmV0dXJuIHRoaXMucmVzZXQoKSxyfX19Y2xhc3MgVFN7Y29uc3RydWN0b3IoKXt0aGlzLl96b29tSW49bmV3IHdTKHtudW1Ub3VjaGVzOjEsbnVtVGFwczoyfSksdGhpcy5fem9vbU91dD1uZXcgd1Moe251bVRvdWNoZXM6MixudW1UYXBzOjF9KSx0aGlzLnJlc2V0KCk7fXJlc2V0KCl7dGhpcy5fYWN0aXZlPSExLHRoaXMuX3pvb21Jbi5yZXNldCgpLHRoaXMuX3pvb21PdXQucmVzZXQoKTt9dG91Y2hzdGFydChlLHQsaSl7dGhpcy5fem9vbUluLnRvdWNoc3RhcnQoZSx0LGkpLHRoaXMuX3pvb21PdXQudG91Y2hzdGFydChlLHQsaSk7fXRvdWNobW92ZShlLHQsaSl7dGhpcy5fem9vbUluLnRvdWNobW92ZShlLHQsaSksdGhpcy5fem9vbU91dC50b3VjaG1vdmUoZSx0LGkpO310b3VjaGVuZChlLHQsaSl7Y29uc3Qgcj10aGlzLl96b29tSW4udG91Y2hlbmQoZSx0LGkpLG49dGhpcy5fem9vbU91dC50b3VjaGVuZChlLHQsaSk7cmV0dXJuIHI/KHRoaXMuX2FjdGl2ZT0hMCxlLnByZXZlbnREZWZhdWx0KCksc2V0VGltZW91dCgoKCk9PnRoaXMucmVzZXQoKSksMCkse2NhbWVyYUFuaW1hdGlvbjp0PT50LmVhc2VUbyh7ZHVyYXRpb246MzAwLHpvb206dC5nZXRab29tKCkrMSxhcm91bmQ6dC51bnByb2plY3Qocil9LHtvcmlnaW5hbEV2ZW50OmV9KX0pOm4/KHRoaXMuX2FjdGl2ZT0hMCxlLnByZXZlbnREZWZhdWx0KCksc2V0VGltZW91dCgoKCk9PnRoaXMucmVzZXQoKSksMCkse2NhbWVyYUFuaW1hdGlvbjp0PT50LmVhc2VUbyh7ZHVyYXRpb246MzAwLHpvb206dC5nZXRab29tKCktMSxhcm91bmQ6dC51bnByb2plY3Qobil9LHtvcmlnaW5hbEV2ZW50OmV9KX0pOnZvaWQgMH10b3VjaGNhbmNlbCgpe3RoaXMucmVzZXQoKTt9ZW5hYmxlKCl7dGhpcy5fZW5hYmxlZD0hMDt9ZGlzYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITEsdGhpcy5yZXNldCgpO31pc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH1pc0FjdGl2ZSgpe3JldHVybiB0aGlzLl9hY3RpdmV9fWNvbnN0IEVTPXswOjEsMjoyfTtjbGFzcyBNU3tjb25zdHJ1Y3RvcihlKXt0aGlzLnJlc2V0KCksdGhpcy5fY2xpY2tUb2xlcmFuY2U9ZS5jbGlja1RvbGVyYW5jZXx8MTt9Ymx1cigpe3RoaXMucmVzZXQoKTt9cmVzZXQoKXt0aGlzLl9hY3RpdmU9ITEsdGhpcy5fbW92ZWQ9ITEsdGhpcy5fbGFzdFBvaW50PXZvaWQgMCx0aGlzLl9ldmVudEJ1dHRvbj12b2lkIDA7fV9jb3JyZWN0QnV0dG9uKGUsdCl7cmV0dXJuICExfV9tb3ZlKGUsdCl7cmV0dXJuIHt9fW1vdXNlZG93bihlLHQpe2lmKHRoaXMuX2xhc3RQb2ludClyZXR1cm47Y29uc3QgaT1FdChlKTt0aGlzLl9jb3JyZWN0QnV0dG9uKGUsaSkmJih0aGlzLl9sYXN0UG9pbnQ9dCx0aGlzLl9ldmVudEJ1dHRvbj1pKTt9bW91c2Vtb3ZlV2luZG93KGUsdCl7Y29uc3QgaT10aGlzLl9sYXN0UG9pbnQ7aWYoaSlpZihlLnByZXZlbnREZWZhdWx0KCksbnVsbCE9dGhpcy5fZXZlbnRCdXR0b24mJmZ1bmN0aW9uKGUsdCl7Y29uc3QgaT1FU1t0XTtyZXR1cm4gdm9pZCAwPT09ZS5idXR0b25zfHwoZS5idXR0b25zJmkpIT09aX0oZSx0aGlzLl9ldmVudEJ1dHRvbikpdGhpcy5yZXNldCgpO2Vsc2UgaWYodGhpcy5fbW92ZWR8fCEodC5kaXN0KGkpPHRoaXMuX2NsaWNrVG9sZXJhbmNlKSlyZXR1cm4gdGhpcy5fbW92ZWQ9ITAsdGhpcy5fbGFzdFBvaW50PXQsdGhpcy5fbW92ZShpLHQpfW1vdXNldXBXaW5kb3coZSl7dGhpcy5fbGFzdFBvaW50JiZFdChlKT09PXRoaXMuX2V2ZW50QnV0dG9uJiYodGhpcy5fbW92ZWQmJmJ0KCksdGhpcy5yZXNldCgpKTt9ZW5hYmxlKCl7dGhpcy5fZW5hYmxlZD0hMDt9ZGlzYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITEsdGhpcy5yZXNldCgpO31pc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH1pc0FjdGl2ZSgpe3JldHVybiB0aGlzLl9hY3RpdmV9fWNsYXNzIEFTIGV4dGVuZHMgTVN7bW91c2Vkb3duKGUsdCl7c3VwZXIubW91c2Vkb3duKGUsdCksdGhpcy5fbGFzdFBvaW50JiYodGhpcy5fYWN0aXZlPSEwKTt9X2NvcnJlY3RCdXR0b24oZSx0KXtyZXR1cm4gMD09PXQmJiFlLmN0cmxLZXl9X21vdmUoZSx0KXtyZXR1cm4ge2Fyb3VuZDp0LHBhbkRlbHRhOnQuc3ViKGUpfX19Y2xhc3MgU1MgZXh0ZW5kcyBNU3tfY29ycmVjdEJ1dHRvbihlLHQpe3JldHVybiAwPT09dCYmZS5jdHJsS2V5fHwyPT09dH1fbW92ZShlLHQpe2NvbnN0IGk9LjgqKHQueC1lLngpO2lmKGkpcmV0dXJuIHRoaXMuX2FjdGl2ZT0hMCx7YmVhcmluZ0RlbHRhOml9fWNvbnRleHRtZW51KGUpe2UucHJldmVudERlZmF1bHQoKTt9fWNsYXNzIElTIGV4dGVuZHMgTVN7X2NvcnJlY3RCdXR0b24oZSx0KXtyZXR1cm4gMD09PXQmJmUuY3RybEtleXx8Mj09PXR9X21vdmUoZSx0KXtjb25zdCBpPS0uNSoodC55LWUueSk7aWYoaSlyZXR1cm4gdGhpcy5fYWN0aXZlPSEwLHtwaXRjaERlbHRhOml9fWNvbnRleHRtZW51KGUpe2UucHJldmVudERlZmF1bHQoKTt9fWNsYXNzIENTe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fbWFwPWUsdGhpcy5fZWw9ZS5nZXRDYW52YXNDb250YWluZXIoKSx0aGlzLl9taW5Ub3VjaGVzPTEsdGhpcy5fY2xpY2tUb2xlcmFuY2U9dC5jbGlja1RvbGVyYW5jZXx8MSx0aGlzLnJlc2V0KCksaihbXCJfYWRkVG91Y2hQYW5CbG9ja2VyXCIsXCJfc2hvd1RvdWNoUGFuQmxvY2tlckFsZXJ0XCJdLHRoaXMpO31yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMSx0aGlzLl90b3VjaGVzPXt9LHRoaXMuX3N1bT1uZXcgeSgwLDApO310b3VjaHN0YXJ0KGUsdCxpKXtyZXR1cm4gdGhpcy5fY2FsY3VsYXRlVHJhbnNmb3JtKGUsdCxpKX10b3VjaG1vdmUoZSx0LGkpe2lmKHRoaXMuX2FjdGl2ZSYmIShpLmxlbmd0aDx0aGlzLl9taW5Ub3VjaGVzKSl7aWYodGhpcy5fbWFwLl9jb29wZXJhdGl2ZUdlc3R1cmVzJiYhdGhpcy5fbWFwLmlzTW92aW5nKCkpe2lmKDE9PT1pLmxlbmd0aCYmIWllKCkpcmV0dXJuIHZvaWQgdGhpcy5fc2hvd1RvdWNoUGFuQmxvY2tlckFsZXJ0KCk7XCJoaWRkZW5cIiE9PXRoaXMuX2FsZXJ0Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkmJih0aGlzLl9hbGVydENvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIsY2xlYXJUaW1lb3V0KHRoaXMuX2FsZXJ0VGltZXIpKTt9cmV0dXJuIGUuY2FuY2VsYWJsZSYmZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX2NhbGN1bGF0ZVRyYW5zZm9ybShlLHQsaSl9fXRvdWNoZW5kKGUsdCxpKXt0aGlzLl9jYWxjdWxhdGVUcmFuc2Zvcm0oZSx0LGkpLHRoaXMuX2FjdGl2ZSYmaS5sZW5ndGg8dGhpcy5fbWluVG91Y2hlcyYmdGhpcy5yZXNldCgpO310b3VjaGNhbmNlbCgpe3RoaXMucmVzZXQoKTt9X2NhbGN1bGF0ZVRyYW5zZm9ybShlLHQsaSl7aS5sZW5ndGg+MCYmKHRoaXMuX2FjdGl2ZT0hMCk7Y29uc3Qgcj12UyhpLHQpLG49bmV3IHkoMCwwKSxvPW5ldyB5KDAsMCk7bGV0IHM9MDtmb3IoY29uc3QgZSBpbiByKXtjb25zdCB0PXJbZV0saT10aGlzLl90b3VjaGVzW2VdO2kmJihuLl9hZGQodCksby5fYWRkKHQuc3ViKGkpKSxzKysscltlXT10KTt9aWYodGhpcy5fdG91Y2hlcz1yLHM8dGhpcy5fbWluVG91Y2hlc3x8IW8ubWFnKCkpcmV0dXJuO2NvbnN0IGE9by5kaXYocyk7cmV0dXJuIHRoaXMuX3N1bS5fYWRkKGEpLHRoaXMuX3N1bS5tYWcoKTx0aGlzLl9jbGlja1RvbGVyYW5jZT92b2lkIDA6e2Fyb3VuZDpuLmRpdihzKSxwYW5EZWx0YTphfX1lbmFibGUoKXt0aGlzLl9lbmFibGVkPSEwLHRoaXMuX21hcC5fY29vcGVyYXRpdmVHZXN0dXJlcyYmKHRoaXMuX2FkZFRvdWNoUGFuQmxvY2tlcigpLHRoaXMuX2VsLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC10b3VjaC1wYW4tYmxvY2tlci1vdmVycmlkZVwiLFwibWFwYm94Z2wtc2Nyb2xsYWJsZS1wYWdlXCIpKTt9ZGlzYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITEsdGhpcy5fbWFwLl9jb29wZXJhdGl2ZUdlc3R1cmVzJiYoY2xlYXJUaW1lb3V0KHRoaXMuX2FsZXJ0VGltZXIpLHRoaXMuX2FsZXJ0Q29udGFpbmVyLnJlbW92ZSgpLHRoaXMuX2VsLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC10b3VjaC1wYW4tYmxvY2tlci1vdmVycmlkZVwiLFwibWFwYm94Z2wtc2Nyb2xsYWJsZS1wYWdlXCIpKSx0aGlzLnJlc2V0KCk7fWlzRW5hYmxlZCgpe3JldHVybiAhIXRoaXMuX2VuYWJsZWR9aXNBY3RpdmUoKXtyZXR1cm4gISF0aGlzLl9hY3RpdmV9X2FkZFRvdWNoUGFuQmxvY2tlcigpe3RoaXMuX21hcCYmIXRoaXMuX2FsZXJ0Q29udGFpbmVyJiYodGhpcy5fYWxlcnRDb250YWluZXI9cHQoXCJkaXZcIixcIm1hcGJveGdsLXRvdWNoLXBhbi1ibG9ja2VyXCIsdGhpcy5fbWFwLl9jb250YWluZXIpLHRoaXMuX2FsZXJ0Q29udGFpbmVyLnRleHRDb250ZW50PXRoaXMuX21hcC5fZ2V0VUlTdHJpbmcoXCJUb3VjaFBhbkJsb2NrZXIuTWVzc2FnZVwiKSx0aGlzLl9hbGVydENvbnRhaW5lci5zdHlsZS5mb250U2l6ZT1gJHtNYXRoLm1heCgxMCxNYXRoLm1pbigyNCxNYXRoLmZsb29yKC4wNSp0aGlzLl9lbC5jbGllbnRXaWR0aCkpKX1weGApO31fc2hvd1RvdWNoUGFuQmxvY2tlckFsZXJ0KCl7dGhpcy5fYWxlcnRDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eT1cInZpc2libGVcIix0aGlzLl9hbGVydENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtdG91Y2gtcGFuLWJsb2NrZXItc2hvd1wiKSx0aGlzLl9hbGVydENvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJhbGVydFwiKSxjbGVhclRpbWVvdXQodGhpcy5fYWxlcnRUaW1lciksdGhpcy5fYWxlcnRUaW1lcj1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuX2FsZXJ0Q29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC10b3VjaC1wYW4tYmxvY2tlci1zaG93XCIpLHRoaXMuX2FsZXJ0Q29udGFpbmVyLnNldEF0dHJpYnV0ZShcInJvbGVcIixcIm51bGxcIik7fSksNTAwKTt9fWNsYXNzIHpTe2NvbnN0cnVjdG9yKCl7dGhpcy5yZXNldCgpO31yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMSx0aGlzLl9maXJzdFR3b1RvdWNoZXM9dm9pZCAwO31fc3RhcnQoZSl7fV9tb3ZlKGUsdCxpKXtyZXR1cm4ge319dG91Y2hzdGFydChlLHQsaSl7dGhpcy5fZmlyc3RUd29Ub3VjaGVzfHxpLmxlbmd0aDwyfHwodGhpcy5fZmlyc3RUd29Ub3VjaGVzPVtpWzBdLmlkZW50aWZpZXIsaVsxXS5pZGVudGlmaWVyXSx0aGlzLl9zdGFydChbdFswXSx0WzFdXSkpO310b3VjaG1vdmUoZSx0LGkpe2NvbnN0IHI9dGhpcy5fZmlyc3RUd29Ub3VjaGVzO2lmKCFyKXJldHVybjtlLnByZXZlbnREZWZhdWx0KCk7Y29uc3RbbixvXT1yLHM9UFMoaSx0LG4pLGE9UFMoaSx0LG8pO2lmKCFzfHwhYSlyZXR1cm47Y29uc3QgbD10aGlzLl9hcm91bmRDZW50ZXI/bnVsbDpzLmFkZChhKS5kaXYoMik7cmV0dXJuIHRoaXMuX21vdmUoW3MsYV0sbCxlKX10b3VjaGVuZChlLHQsaSl7aWYoIXRoaXMuX2ZpcnN0VHdvVG91Y2hlcylyZXR1cm47Y29uc3RbcixuXT10aGlzLl9maXJzdFR3b1RvdWNoZXMsbz1QUyhpLHQscikscz1QUyhpLHQsbik7byYmc3x8KHRoaXMuX2FjdGl2ZSYmYnQoKSx0aGlzLnJlc2V0KCkpO310b3VjaGNhbmNlbCgpe3RoaXMucmVzZXQoKTt9ZW5hYmxlKGUpe3RoaXMuX2VuYWJsZWQ9ITAsdGhpcy5fYXJvdW5kQ2VudGVyPSEhZSYmXCJjZW50ZXJcIj09PWUuYXJvdW5kO31kaXNhYmxlKCl7dGhpcy5fZW5hYmxlZD0hMSx0aGlzLnJlc2V0KCk7fWlzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9lbmFibGVkfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZX19ZnVuY3Rpb24gUFMoZSx0LGkpe2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKGVbcl0uaWRlbnRpZmllcj09PWkpcmV0dXJuIHRbcl19ZnVuY3Rpb24gRFMoZSx0KXtyZXR1cm4gTWF0aC5sb2coZS90KS9NYXRoLkxOMn1jbGFzcyBSUyBleHRlbmRzIHpTe3Jlc2V0KCl7c3VwZXIucmVzZXQoKSx0aGlzLl9kaXN0YW5jZT0wLHRoaXMuX3N0YXJ0RGlzdGFuY2U9MDt9X3N0YXJ0KGUpe3RoaXMuX3N0YXJ0RGlzdGFuY2U9dGhpcy5fZGlzdGFuY2U9ZVswXS5kaXN0KGVbMV0pO31fbW92ZShlLHQpe2NvbnN0IGk9dGhpcy5fZGlzdGFuY2U7aWYodGhpcy5fZGlzdGFuY2U9ZVswXS5kaXN0KGVbMV0pLHRoaXMuX2FjdGl2ZXx8IShNYXRoLmFicyhEUyh0aGlzLl9kaXN0YW5jZSx0aGlzLl9zdGFydERpc3RhbmNlKSk8LjEpKXJldHVybiB0aGlzLl9hY3RpdmU9ITAse3pvb21EZWx0YTpEUyh0aGlzLl9kaXN0YW5jZSxpKSxwaW5jaEFyb3VuZDp0fX19ZnVuY3Rpb24gTFMoZSx0KXtyZXR1cm4gMTgwKmUuYW5nbGVXaXRoKHQpL01hdGguUEl9Y2xhc3Mga1MgZXh0ZW5kcyB6U3tyZXNldCgpe3N1cGVyLnJlc2V0KCksdGhpcy5fbWluRGlhbWV0ZXI9MCx0aGlzLl9zdGFydFZlY3Rvcj12b2lkIDAsdGhpcy5fdmVjdG9yPXZvaWQgMDt9X3N0YXJ0KGUpe3RoaXMuX3N0YXJ0VmVjdG9yPXRoaXMuX3ZlY3Rvcj1lWzBdLnN1YihlWzFdKSx0aGlzLl9taW5EaWFtZXRlcj1lWzBdLmRpc3QoZVsxXSk7fV9tb3ZlKGUsdCl7Y29uc3QgaT10aGlzLl92ZWN0b3I7aWYodGhpcy5fdmVjdG9yPWVbMF0uc3ViKGVbMV0pLGkmJih0aGlzLl9hY3RpdmV8fCF0aGlzLl9pc0JlbG93VGhyZXNob2xkKHRoaXMuX3ZlY3RvcikpKXJldHVybiB0aGlzLl9hY3RpdmU9ITAse2JlYXJpbmdEZWx0YTpMUyh0aGlzLl92ZWN0b3IsaSkscGluY2hBcm91bmQ6dH19X2lzQmVsb3dUaHJlc2hvbGQoZSl7dGhpcy5fbWluRGlhbWV0ZXI9TWF0aC5taW4odGhpcy5fbWluRGlhbWV0ZXIsZS5tYWcoKSk7Y29uc3QgdD0yNS8oTWF0aC5QSSp0aGlzLl9taW5EaWFtZXRlcikqMzYwLGk9dGhpcy5fc3RhcnRWZWN0b3I7aWYoIWkpcmV0dXJuICExO2NvbnN0IHI9TFMoZSxpKTtyZXR1cm4gTWF0aC5hYnMocik8dH19ZnVuY3Rpb24gT1MoZSl7cmV0dXJuIE1hdGguYWJzKGUueSk+TWF0aC5hYnMoZS54KX1jbGFzcyBCUyBleHRlbmRzIHpTe2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5fbWFwPWU7fXJlc2V0KCl7c3VwZXIucmVzZXQoKSx0aGlzLl92YWxpZD12b2lkIDAsdGhpcy5fZmlyc3RNb3ZlPXZvaWQgMCx0aGlzLl9sYXN0UG9pbnRzPXZvaWQgMDt9X3N0YXJ0KGUpe3RoaXMuX2xhc3RQb2ludHM9ZSxPUyhlWzBdLnN1YihlWzFdKSkmJih0aGlzLl92YWxpZD0hMSk7fV9tb3ZlKGUsdCxpKXtjb25zdCByPXRoaXMuX2xhc3RQb2ludHM7aWYoIXIpcmV0dXJuO2NvbnN0IG49ZVswXS5zdWIoclswXSksbz1lWzFdLnN1YihyWzFdKTtyZXR1cm4gdGhpcy5fbWFwLl9jb29wZXJhdGl2ZUdlc3R1cmVzJiYhaWUoKSYmaS50b3VjaGVzLmxlbmd0aDwzfHwodGhpcy5fdmFsaWQ9dGhpcy5nZXN0dXJlQmVnaW5zVmVydGljYWxseShuLG8saS50aW1lU3RhbXApLCF0aGlzLl92YWxpZCk/dm9pZCAwOih0aGlzLl9sYXN0UG9pbnRzPWUsdGhpcy5fYWN0aXZlPSEwLHtwaXRjaERlbHRhOihuLnkrby55KS8yKi0uNX0pfWdlc3R1cmVCZWdpbnNWZXJ0aWNhbGx5KGUsdCxpKXtpZih2b2lkIDAhPT10aGlzLl92YWxpZClyZXR1cm4gdGhpcy5fdmFsaWQ7Y29uc3Qgcj1lLm1hZygpPj0yLG49dC5tYWcoKT49MjtpZighciYmIW4pcmV0dXJuO2lmKCFyfHwhbilyZXR1cm4gbnVsbD09dGhpcy5fZmlyc3RNb3ZlJiYodGhpcy5fZmlyc3RNb3ZlPWkpLGktdGhpcy5fZmlyc3RNb3ZlPDEwMCYmdm9pZCAwO2NvbnN0IG89ZS55PjA9PXQueT4wO3JldHVybiBPUyhlKSYmT1ModCkmJm99fWNvbnN0IEZTPXtwYW5TdGVwOjEwMCxiZWFyaW5nU3RlcDoxNSxwaXRjaFN0ZXA6MTB9O2NsYXNzIE5Te2NvbnN0cnVjdG9yKCl7Y29uc3QgZT1GUzt0aGlzLl9wYW5TdGVwPWUucGFuU3RlcCx0aGlzLl9iZWFyaW5nU3RlcD1lLmJlYXJpbmdTdGVwLHRoaXMuX3BpdGNoU3RlcD1lLnBpdGNoU3RlcCx0aGlzLl9yb3RhdGlvbkRpc2FibGVkPSExO31ibHVyKCl7dGhpcy5yZXNldCgpO31yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMTt9a2V5ZG93bihlKXtpZihlLmFsdEtleXx8ZS5jdHJsS2V5fHxlLm1ldGFLZXkpcmV0dXJuO2xldCB0PTAsaT0wLHI9MCxuPTAsbz0wO3N3aXRjaChlLmtleUNvZGUpe2Nhc2UgNjE6Y2FzZSAxMDc6Y2FzZSAxNzE6Y2FzZSAxODc6dD0xO2JyZWFrO2Nhc2UgMTg5OmNhc2UgMTA5OmNhc2UgMTczOnQ9LTE7YnJlYWs7Y2FzZSAzNzplLnNoaWZ0S2V5P2k9LTE6KGUucHJldmVudERlZmF1bHQoKSxuPS0xKTticmVhaztjYXNlIDM5OmUuc2hpZnRLZXk/aT0xOihlLnByZXZlbnREZWZhdWx0KCksbj0xKTticmVhaztjYXNlIDM4OmUuc2hpZnRLZXk/cj0xOihlLnByZXZlbnREZWZhdWx0KCksbz0tMSk7YnJlYWs7Y2FzZSA0MDplLnNoaWZ0S2V5P3I9LTE6KGUucHJldmVudERlZmF1bHQoKSxvPTEpO2JyZWFrO2RlZmF1bHQ6cmV0dXJufXJldHVybiB0aGlzLl9yb3RhdGlvbkRpc2FibGVkJiYoaT0wLHI9MCkse2NhbWVyYUFuaW1hdGlvbjpzPT57Y29uc3QgYT1zLmdldFpvb20oKTtzLmVhc2VUbyh7ZHVyYXRpb246MzAwLGVhc2VJZDpcImtleWJvYXJkSGFuZGxlclwiLGVhc2luZzpVUyx6b29tOnQ/TWF0aC5yb3VuZChhKSt0KihlLnNoaWZ0S2V5PzI6MSk6YSxiZWFyaW5nOnMuZ2V0QmVhcmluZygpK2kqdGhpcy5fYmVhcmluZ1N0ZXAscGl0Y2g6cy5nZXRQaXRjaCgpK3IqdGhpcy5fcGl0Y2hTdGVwLG9mZnNldDpbLW4qdGhpcy5fcGFuU3RlcCwtbyp0aGlzLl9wYW5TdGVwXSxjZW50ZXI6cy5nZXRDZW50ZXIoKX0se29yaWdpbmFsRXZlbnQ6ZX0pO319fWVuYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITA7fWRpc2FibGUoKXt0aGlzLl9lbmFibGVkPSExLHRoaXMucmVzZXQoKTt9aXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9aXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5fYWN0aXZlfWRpc2FibGVSb3RhdGlvbigpe3RoaXMuX3JvdGF0aW9uRGlzYWJsZWQ9ITA7fWVuYWJsZVJvdGF0aW9uKCl7dGhpcy5fcm90YXRpb25EaXNhYmxlZD0hMTt9fWZ1bmN0aW9uIFVTKGUpe3JldHVybiBlKigyLWUpfWNvbnN0IFZTPTQuMDAwMjQ0MTQwNjI1O2NsYXNzIGpTe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fbWFwPWUsdGhpcy5fZWw9ZS5nZXRDYW52YXNDb250YWluZXIoKSx0aGlzLl9oYW5kbGVyPXQsdGhpcy5fZGVsdGE9MCx0aGlzLl9sYXN0RGVsdGE9MCx0aGlzLl9kZWZhdWx0Wm9vbVJhdGU9LjAxLHRoaXMuX3doZWVsWm9vbVJhdGU9LjAwMjIyMjIyMjIyMjIyMjIyMjIsaihbXCJfb25UaW1lb3V0XCIsXCJfYWRkU2Nyb2xsWm9vbUJsb2NrZXJcIixcIl9zaG93QmxvY2tlckFsZXJ0XCJdLHRoaXMpO31zZXRab29tUmF0ZShlKXt0aGlzLl9kZWZhdWx0Wm9vbVJhdGU9ZTt9c2V0V2hlZWxab29tUmF0ZShlKXt0aGlzLl93aGVlbFpvb21SYXRlPWU7fWlzRW5hYmxlZCgpe3JldHVybiAhIXRoaXMuX2VuYWJsZWR9aXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5fYWN0aXZlfHx2b2lkIDAhPT10aGlzLl9maW5pc2hUaW1lb3V0fWlzWm9vbWluZygpe3JldHVybiAhIXRoaXMuX3pvb21pbmd9ZW5hYmxlKGUpe3RoaXMuaXNFbmFibGVkKCl8fCh0aGlzLl9lbmFibGVkPSEwLHRoaXMuX2Fyb3VuZENlbnRlcj0hIWUmJlwiY2VudGVyXCI9PT1lLmFyb3VuZCx0aGlzLl9tYXAuX2Nvb3BlcmF0aXZlR2VzdHVyZXMmJnRoaXMuX2FkZFNjcm9sbFpvb21CbG9ja2VyKCkpO31kaXNhYmxlKCl7dGhpcy5pc0VuYWJsZWQoKSYmKHRoaXMuX2VuYWJsZWQ9ITEsdGhpcy5fbWFwLl9jb29wZXJhdGl2ZUdlc3R1cmVzJiYoY2xlYXJUaW1lb3V0KHRoaXMuX2FsZXJ0VGltZXIpLHRoaXMuX2FsZXJ0Q29udGFpbmVyLnJlbW92ZSgpKSk7fXdoZWVsKGUpe2lmKCF0aGlzLmlzRW5hYmxlZCgpKXJldHVybjtpZih0aGlzLl9tYXAuX2Nvb3BlcmF0aXZlR2VzdHVyZXMpe2lmKCEoZS5jdHJsS2V5fHxlLm1ldGFLZXl8fHRoaXMuaXNab29taW5nKCl8fGllKCkpKXJldHVybiB2b2lkIHRoaXMuX3Nob3dCbG9ja2VyQWxlcnQoKTtcImhpZGRlblwiIT09dGhpcy5fYWxlcnRDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSYmKHRoaXMuX2FsZXJ0Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIixjbGVhclRpbWVvdXQodGhpcy5fYWxlcnRUaW1lcikpO31sZXQgaT1lLmRlbHRhTW9kZT09PXQuV2hlZWxFdmVudC5ET01fREVMVEFfTElORT80MCplLmRlbHRhWTplLmRlbHRhWTtjb25zdCByPWR0Lm5vdygpLG49ci0odGhpcy5fbGFzdFdoZWVsRXZlbnRUaW1lfHwwKTt0aGlzLl9sYXN0V2hlZWxFdmVudFRpbWU9ciwwIT09aSYmaSVWUz09MD90aGlzLl90eXBlPVwid2hlZWxcIjowIT09aSYmTWF0aC5hYnMoaSk8ND90aGlzLl90eXBlPVwidHJhY2twYWRcIjpuPjQwMD8odGhpcy5fdHlwZT1udWxsLHRoaXMuX2xhc3RWYWx1ZT1pLHRoaXMuX3RpbWVvdXQ9c2V0VGltZW91dCh0aGlzLl9vblRpbWVvdXQsNDAsZSkpOnRoaXMuX3R5cGV8fCh0aGlzLl90eXBlPU1hdGguYWJzKG4qaSk8MjAwP1widHJhY2twYWRcIjpcIndoZWVsXCIsdGhpcy5fdGltZW91dCYmKGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KSx0aGlzLl90aW1lb3V0PW51bGwsaSs9dGhpcy5fbGFzdFZhbHVlKSksZS5zaGlmdEtleSYmaSYmKGkvPTQpLHRoaXMuX3R5cGUmJih0aGlzLl9sYXN0V2hlZWxFdmVudD1lLHRoaXMuX2RlbHRhLT1pLHRoaXMuX2FjdGl2ZXx8dGhpcy5fc3RhcnQoZSkpLGUucHJldmVudERlZmF1bHQoKTt9X29uVGltZW91dChlKXt0aGlzLl90eXBlPVwid2hlZWxcIix0aGlzLl9kZWx0YS09dGhpcy5fbGFzdFZhbHVlLHRoaXMuX2FjdGl2ZXx8dGhpcy5fc3RhcnQoZSk7fV9zdGFydChlKXtpZighdGhpcy5fZGVsdGEpcmV0dXJuO3RoaXMuX2ZyYW1lSWQmJih0aGlzLl9mcmFtZUlkPW51bGwpLHRoaXMuX2FjdGl2ZT0hMCx0aGlzLmlzWm9vbWluZygpfHwodGhpcy5fem9vbWluZz0hMCksdGhpcy5fZmluaXNoVGltZW91dCYmKGNsZWFyVGltZW91dCh0aGlzLl9maW5pc2hUaW1lb3V0KSxkZWxldGUgdGhpcy5fZmluaXNoVGltZW91dCk7Y29uc3QgdD13dCh0aGlzLl9lbCxlKTt0aGlzLl9hcm91bmRQb2ludD10aGlzLl9hcm91bmRDZW50ZXI/dGhpcy5fbWFwLnRyYW5zZm9ybS5jZW50ZXJQb2ludDp0LHRoaXMuX2Fyb3VuZENvb3JkPXRoaXMuX21hcC50cmFuc2Zvcm0ucG9pbnRDb29yZGluYXRlM0QodGhpcy5fYXJvdW5kUG9pbnQpLHRoaXMuX3RhcmdldFpvb209dm9pZCAwLHRoaXMuX2ZyYW1lSWR8fCh0aGlzLl9mcmFtZUlkPSEwLHRoaXMuX2hhbmRsZXIuX3RyaWdnZXJSZW5kZXJGcmFtZSgpKTt9cmVuZGVyRnJhbWUoKXtpZighdGhpcy5fZnJhbWVJZClyZXR1cm47aWYodGhpcy5fZnJhbWVJZD1udWxsLCF0aGlzLmlzQWN0aXZlKCkpcmV0dXJuO2NvbnN0IGU9dGhpcy5fbWFwLnRyYW5zZm9ybTtcIndoZWVsXCI9PT10aGlzLl90eXBlJiZlLnByb2plY3Rpb24ud3JhcCYmKGUuX2NlbnRlci5sbmc+PTE4MHx8ZS5fY2VudGVyLmxuZzw9LTE4MCkmJih0aGlzLl9wcmV2RWFzZT1udWxsLHRoaXMuX2Vhc2luZz1udWxsLHRoaXMuX2xhc3RXaGVlbEV2ZW50PW51bGwsdGhpcy5fbGFzdFdoZWVsRXZlbnRUaW1lPTApO2NvbnN0IHQ9KCk9PmUuX3RlcnJhaW5FbmFibGVkKCkmJnRoaXMuX2Fyb3VuZENvb3JkP2UuY29tcHV0ZVpvb21SZWxhdGl2ZVRvKHRoaXMuX2Fyb3VuZENvb3JkKTplLnpvb207aWYoMCE9PXRoaXMuX2RlbHRhKXtjb25zdCBpPVwid2hlZWxcIj09PXRoaXMuX3R5cGUmJk1hdGguYWJzKHRoaXMuX2RlbHRhKT5WUz90aGlzLl93aGVlbFpvb21SYXRlOnRoaXMuX2RlZmF1bHRab29tUmF0ZTtsZXQgcj0yLygxK01hdGguZXhwKC1NYXRoLmFicyh0aGlzLl9kZWx0YSppKSkpO3RoaXMuX2RlbHRhPDAmJjAhPT1yJiYocj0xL3IpO2NvbnN0IG49dCgpLG89TWF0aC5wb3coMixuKSxzPVwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLl90YXJnZXRab29tP2Uuem9vbVNjYWxlKHRoaXMuX3RhcmdldFpvb20pOm87dGhpcy5fdGFyZ2V0Wm9vbT1NYXRoLm1pbihlLm1heFpvb20sTWF0aC5tYXgoZS5taW5ab29tLGUuc2NhbGVab29tKHMqcikpKSxcIndoZWVsXCI9PT10aGlzLl90eXBlJiYodGhpcy5fc3RhcnRab29tPW4sdGhpcy5fZWFzaW5nPXRoaXMuX3Ntb290aE91dEVhc2luZygyMDApKSx0aGlzLl9sYXN0RGVsdGE9dGhpcy5fZGVsdGEsdGhpcy5fZGVsdGE9MDt9Y29uc3QgaT1cIm51bWJlclwiPT10eXBlb2YgdGhpcy5fdGFyZ2V0Wm9vbT90aGlzLl90YXJnZXRab29tOnQoKSxyPXRoaXMuX3N0YXJ0Wm9vbSxuPXRoaXMuX2Vhc2luZztsZXQgbyxzPSExO2lmKFwid2hlZWxcIj09PXRoaXMuX3R5cGUmJnImJm4pe2NvbnN0IGU9TWF0aC5taW4oKGR0Lm5vdygpLXRoaXMuX2xhc3RXaGVlbEV2ZW50VGltZSkvMjAwLDEpO289S3IocixpLG4oZSkpLGU8MT90aGlzLl9mcmFtZUlkfHwodGhpcy5fZnJhbWVJZD0hMCk6cz0hMDt9ZWxzZSBvPWkscz0hMDt0aGlzLl9hY3RpdmU9ITAscyYmKHRoaXMuX2FjdGl2ZT0hMSx0aGlzLl9maW5pc2hUaW1lb3V0PXNldFRpbWVvdXQoKCgpPT57dGhpcy5fem9vbWluZz0hMSx0aGlzLl9oYW5kbGVyLl90cmlnZ2VyUmVuZGVyRnJhbWUoKSxkZWxldGUgdGhpcy5fdGFyZ2V0Wm9vbSxkZWxldGUgdGhpcy5fZmluaXNoVGltZW91dDt9KSwyMDApKTtsZXQgYT1vLXQoKTtyZXR1cm4gYSp0aGlzLl9sYXN0RGVsdGE8MCYmKGE9MCkse25vSW5lcnRpYTohMCxuZWVkc1JlbmRlckZyYW1lOiFzLHpvb21EZWx0YTphLGFyb3VuZDp0aGlzLl9hcm91bmRQb2ludCxhcm91bmRDb29yZDp0aGlzLl9hcm91bmRDb29yZCxvcmlnaW5hbEV2ZW50OnRoaXMuX2xhc3RXaGVlbEV2ZW50fX1fc21vb3RoT3V0RWFzaW5nKGUpe2xldCB0PUM7aWYodGhpcy5fcHJldkVhc2Upe2NvbnN0IGU9dGhpcy5fcHJldkVhc2UsaT0oZHQubm93KCktZS5zdGFydCkvZS5kdXJhdGlvbixyPWUuZWFzaW5nKGkrLjAxKS1lLmVhc2luZyhpKSxuPS4yNy9NYXRoLnNxcnQocipyKzFlLTQpKi4wMTt0PUkobixNYXRoLnNxcnQoLjA3MjktbipuKSwuMjUsMSk7fXJldHVybiB0aGlzLl9wcmV2RWFzZT17c3RhcnQ6ZHQubm93KCksZHVyYXRpb246ZSxlYXNpbmc6dH0sdH1ibHVyKCl7dGhpcy5yZXNldCgpO31yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMTt9X2FkZFNjcm9sbFpvb21CbG9ja2VyKCl7dGhpcy5fbWFwJiYhdGhpcy5fYWxlcnRDb250YWluZXImJih0aGlzLl9hbGVydENvbnRhaW5lcj1wdChcImRpdlwiLFwibWFwYm94Z2wtc2Nyb2xsLXpvb20tYmxvY2tlclwiLHRoaXMuX21hcC5fY29udGFpbmVyKSx0aGlzLl9hbGVydENvbnRhaW5lci50ZXh0Q29udGVudD0vKE1hY3xpUGFkKS9pLnRlc3QodC5uYXZpZ2F0b3IudXNlckFnZW50KT90aGlzLl9tYXAuX2dldFVJU3RyaW5nKFwiU2Nyb2xsWm9vbUJsb2NrZXIuQ21kTWVzc2FnZVwiKTp0aGlzLl9tYXAuX2dldFVJU3RyaW5nKFwiU2Nyb2xsWm9vbUJsb2NrZXIuQ3RybE1lc3NhZ2VcIiksdGhpcy5fYWxlcnRDb250YWluZXIuc3R5bGUuZm9udFNpemU9YCR7TWF0aC5tYXgoMTAsTWF0aC5taW4oMjQsTWF0aC5mbG9vciguMDUqdGhpcy5fZWwuY2xpZW50V2lkdGgpKSl9cHhgKTt9X3Nob3dCbG9ja2VyQWxlcnQoKXt0aGlzLl9hbGVydENvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5PVwidmlzaWJsZVwiLHRoaXMuX2FsZXJ0Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1zY3JvbGwtem9vbS1ibG9ja2VyLXNob3dcIiksdGhpcy5fYWxlcnRDb250YWluZXIuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwiYWxlcnRcIiksY2xlYXJUaW1lb3V0KHRoaXMuX2FsZXJ0VGltZXIpLHRoaXMuX2FsZXJ0VGltZXI9c2V0VGltZW91dCgoKCk9Pnt0aGlzLl9hbGVydENvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtc2Nyb2xsLXpvb20tYmxvY2tlci1zaG93XCIpLHRoaXMuX2FsZXJ0Q29udGFpbmVyLnNldEF0dHJpYnV0ZShcInJvbGVcIixcIm51bGxcIik7fSksMjAwKTt9fWNsYXNzIEdTe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fY2xpY2tab29tPWUsdGhpcy5fdGFwWm9vbT10O31lbmFibGUoKXt0aGlzLl9jbGlja1pvb20uZW5hYmxlKCksdGhpcy5fdGFwWm9vbS5lbmFibGUoKTt9ZGlzYWJsZSgpe3RoaXMuX2NsaWNrWm9vbS5kaXNhYmxlKCksdGhpcy5fdGFwWm9vbS5kaXNhYmxlKCk7fWlzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9jbGlja1pvb20uaXNFbmFibGVkKCkmJnRoaXMuX3RhcFpvb20uaXNFbmFibGVkKCl9aXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5fY2xpY2tab29tLmlzQWN0aXZlKCl8fHRoaXMuX3RhcFpvb20uaXNBY3RpdmUoKX19Y2xhc3MgcVN7Y29uc3RydWN0b3IoKXt0aGlzLnJlc2V0KCk7fXJlc2V0KCl7dGhpcy5fYWN0aXZlPSExO31ibHVyKCl7dGhpcy5yZXNldCgpO31kYmxjbGljayhlLHQpe3JldHVybiBlLnByZXZlbnREZWZhdWx0KCkse2NhbWVyYUFuaW1hdGlvbjppPT57aS5lYXNlVG8oe2R1cmF0aW9uOjMwMCx6b29tOmkuZ2V0Wm9vbSgpKyhlLnNoaWZ0S2V5Py0xOjEpLGFyb3VuZDppLnVucHJvamVjdCh0KX0se29yaWdpbmFsRXZlbnQ6ZX0pO319fWVuYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITA7fWRpc2FibGUoKXt0aGlzLl9lbmFibGVkPSExLHRoaXMucmVzZXQoKTt9aXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9aXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5fYWN0aXZlfX1jbGFzcyBaU3tjb25zdHJ1Y3Rvcigpe3RoaXMuX3RhcD1uZXcgd1Moe251bVRvdWNoZXM6MSxudW1UYXBzOjF9KSx0aGlzLnJlc2V0KCk7fXJlc2V0KCl7dGhpcy5fYWN0aXZlPSExLHRoaXMuX3N3aXBlUG9pbnQ9dm9pZCAwLHRoaXMuX3N3aXBlVG91Y2g9MCx0aGlzLl90YXBUaW1lPTAsdGhpcy5fdGFwLnJlc2V0KCk7fXRvdWNoc3RhcnQoZSx0LGkpe3RoaXMuX3N3aXBlUG9pbnR8fCh0aGlzLl90YXBUaW1lJiZlLnRpbWVTdGFtcC10aGlzLl90YXBUaW1lPjUwMCYmdGhpcy5yZXNldCgpLHRoaXMuX3RhcFRpbWU/aS5sZW5ndGg+MCYmKHRoaXMuX3N3aXBlUG9pbnQ9dFswXSx0aGlzLl9zd2lwZVRvdWNoPWlbMF0uaWRlbnRpZmllcik6dGhpcy5fdGFwLnRvdWNoc3RhcnQoZSx0LGkpKTt9dG91Y2htb3ZlKGUsdCxpKXtpZih0aGlzLl90YXBUaW1lKXtpZih0aGlzLl9zd2lwZVBvaW50KXtpZihpWzBdLmlkZW50aWZpZXIhPT10aGlzLl9zd2lwZVRvdWNoKXJldHVybjtjb25zdCByPXRbMF0sbj1yLnktdGhpcy5fc3dpcGVQb2ludC55O3JldHVybiB0aGlzLl9zd2lwZVBvaW50PXIsZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX2FjdGl2ZT0hMCx7em9vbURlbHRhOm4vMTI4fX19ZWxzZSB0aGlzLl90YXAudG91Y2htb3ZlKGUsdCxpKTt9dG91Y2hlbmQoZSx0LGkpe3RoaXMuX3RhcFRpbWU/dGhpcy5fc3dpcGVQb2ludCYmMD09PWkubGVuZ3RoJiZ0aGlzLnJlc2V0KCk6dGhpcy5fdGFwLnRvdWNoZW5kKGUsdCxpKSYmKHRoaXMuX3RhcFRpbWU9ZS50aW1lU3RhbXApO310b3VjaGNhbmNlbCgpe3RoaXMucmVzZXQoKTt9ZW5hYmxlKCl7dGhpcy5fZW5hYmxlZD0hMDt9ZGlzYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITEsdGhpcy5yZXNldCgpO31pc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH1pc0FjdGl2ZSgpe3JldHVybiB0aGlzLl9hY3RpdmV9fWNsYXNzICRTe2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLl9lbD1lLHRoaXMuX21vdXNlUGFuPXQsdGhpcy5fdG91Y2hQYW49aTt9ZW5hYmxlKGUpe3RoaXMuX2luZXJ0aWFPcHRpb25zPWV8fHt9LHRoaXMuX21vdXNlUGFuLmVuYWJsZSgpLHRoaXMuX3RvdWNoUGFuLmVuYWJsZSgpLHRoaXMuX2VsLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC10b3VjaC1kcmFnLXBhblwiKTt9ZGlzYWJsZSgpe3RoaXMuX21vdXNlUGFuLmRpc2FibGUoKSx0aGlzLl90b3VjaFBhbi5kaXNhYmxlKCksdGhpcy5fZWwuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLXRvdWNoLWRyYWctcGFuXCIpO31pc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fbW91c2VQYW4uaXNFbmFibGVkKCkmJnRoaXMuX3RvdWNoUGFuLmlzRW5hYmxlZCgpfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX21vdXNlUGFuLmlzQWN0aXZlKCl8fHRoaXMuX3RvdWNoUGFuLmlzQWN0aXZlKCl9fWNsYXNzIFdTe2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLl9waXRjaFdpdGhSb3RhdGU9ZS5waXRjaFdpdGhSb3RhdGUsdGhpcy5fbW91c2VSb3RhdGU9dCx0aGlzLl9tb3VzZVBpdGNoPWk7fWVuYWJsZSgpe3RoaXMuX21vdXNlUm90YXRlLmVuYWJsZSgpLHRoaXMuX3BpdGNoV2l0aFJvdGF0ZSYmdGhpcy5fbW91c2VQaXRjaC5lbmFibGUoKTt9ZGlzYWJsZSgpe3RoaXMuX21vdXNlUm90YXRlLmRpc2FibGUoKSx0aGlzLl9tb3VzZVBpdGNoLmRpc2FibGUoKTt9aXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX21vdXNlUm90YXRlLmlzRW5hYmxlZCgpJiYoIXRoaXMuX3BpdGNoV2l0aFJvdGF0ZXx8dGhpcy5fbW91c2VQaXRjaC5pc0VuYWJsZWQoKSl9aXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5fbW91c2VSb3RhdGUuaXNBY3RpdmUoKXx8dGhpcy5fbW91c2VQaXRjaC5pc0FjdGl2ZSgpfX1jbGFzcyBIU3tjb25zdHJ1Y3RvcihlLHQsaSxyKXt0aGlzLl9lbD1lLHRoaXMuX3RvdWNoWm9vbT10LHRoaXMuX3RvdWNoUm90YXRlPWksdGhpcy5fdGFwRHJhZ1pvb209cix0aGlzLl9yb3RhdGlvbkRpc2FibGVkPSExLHRoaXMuX2VuYWJsZWQ9ITA7fWVuYWJsZShlKXt0aGlzLl90b3VjaFpvb20uZW5hYmxlKGUpLHRoaXMuX3JvdGF0aW9uRGlzYWJsZWR8fHRoaXMuX3RvdWNoUm90YXRlLmVuYWJsZShlKSx0aGlzLl90YXBEcmFnWm9vbS5lbmFibGUoKSx0aGlzLl9lbC5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtdG91Y2gtem9vbS1yb3RhdGVcIik7fWRpc2FibGUoKXt0aGlzLl90b3VjaFpvb20uZGlzYWJsZSgpLHRoaXMuX3RvdWNoUm90YXRlLmRpc2FibGUoKSx0aGlzLl90YXBEcmFnWm9vbS5kaXNhYmxlKCksdGhpcy5fZWwuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLXRvdWNoLXpvb20tcm90YXRlXCIpO31pc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fdG91Y2hab29tLmlzRW5hYmxlZCgpJiYodGhpcy5fcm90YXRpb25EaXNhYmxlZHx8dGhpcy5fdG91Y2hSb3RhdGUuaXNFbmFibGVkKCkpJiZ0aGlzLl90YXBEcmFnWm9vbS5pc0VuYWJsZWQoKX1pc0FjdGl2ZSgpe3JldHVybiB0aGlzLl90b3VjaFpvb20uaXNBY3RpdmUoKXx8dGhpcy5fdG91Y2hSb3RhdGUuaXNBY3RpdmUoKXx8dGhpcy5fdGFwRHJhZ1pvb20uaXNBY3RpdmUoKX1kaXNhYmxlUm90YXRpb24oKXt0aGlzLl9yb3RhdGlvbkRpc2FibGVkPSEwLHRoaXMuX3RvdWNoUm90YXRlLmRpc2FibGUoKTt9ZW5hYmxlUm90YXRpb24oKXt0aGlzLl9yb3RhdGlvbkRpc2FibGVkPSExLHRoaXMuX3RvdWNoWm9vbS5pc0VuYWJsZWQoKSYmdGhpcy5fdG91Y2hSb3RhdGUuZW5hYmxlKCk7fX1jb25zdCBYUz1lPT5lLnpvb218fGUuZHJhZ3x8ZS5waXRjaHx8ZS5yb3RhdGU7Y2xhc3MgWVMgZXh0ZW5kcyBJdHt9Y2xhc3MgS1N7Y29uc3RydWN0b3IoKXt0aGlzLmNvbnN0YW50cz1bMSwxLC4wMV0sdGhpcy5yYWRpdXM9MDt9c2V0dXAoZSx0KXtjb25zdCBpPUR1LnN1YihbXSx0LGUpO3RoaXMucmFkaXVzPUR1Lmxlbmd0aChpWzJdPDA/RHUuZGl2KFtdLGksdGhpcy5jb25zdGFudHMpOltpWzBdLGlbMV0sMF0pO31wcm9qZWN0UmF5KGUpe0R1LmRpdihlLGUsdGhpcy5jb25zdGFudHMpLER1Lm5vcm1hbGl6ZShlLGUpLER1Lm11bChlLGUsdGhpcy5jb25zdGFudHMpO2NvbnN0IHQ9RHUuc2NhbGUoW10sZSx0aGlzLnJhZGl1cyk7aWYodFsyXT4wKXtjb25zdCBlPUR1LnNjYWxlKFtdLFswLDAsMV0sRHUuZG90KHQsWzAsMCwxXSkpLGk9RHUuc2NhbGUoW10sRHUubm9ybWFsaXplKFtdLFt0WzBdLHRbMV0sMF0pLHRoaXMucmFkaXVzKSxyPUR1LmFkZChbXSx0LER1LnNjYWxlKFtdLER1LnN1YihbXSxEdS5hZGQoW10saSxlKSx0KSwyKSk7dFswXT1yWzBdLHRbMV09clsxXTt9cmV0dXJuIHR9fWZ1bmN0aW9uIEpTKGUpe3JldHVybiBlLnBhbkRlbHRhJiZlLnBhbkRlbHRhLm1hZygpfHxlLnpvb21EZWx0YXx8ZS5iZWFyaW5nRGVsdGF8fGUucGl0Y2hEZWx0YX1jbGFzcyBRU3tjb25zdHJ1Y3RvcihlLGkpe3RoaXMuX21hcD1lLHRoaXMuX2VsPXRoaXMuX21hcC5nZXRDYW52YXNDb250YWluZXIoKSx0aGlzLl9oYW5kbGVycz1bXSx0aGlzLl9oYW5kbGVyc0J5SWQ9e30sdGhpcy5fY2hhbmdlcz1bXSx0aGlzLl9pbmVydGlhPW5ldyB1UyhlKSx0aGlzLl9iZWFyaW5nU25hcD1pLmJlYXJpbmdTbmFwLHRoaXMuX3ByZXZpb3VzQWN0aXZlSGFuZGxlcnM9e30sdGhpcy5fdHJhY2tpbmdFbGxpcHNvaWQ9bmV3IEtTLHRoaXMuX2RyYWdPcmlnaW49bnVsbCx0aGlzLl9ldmVudHNJblByb2dyZXNzPXt9LHRoaXMuX2FkZERlZmF1bHRIYW5kbGVycyhpKSxqKFtcImhhbmRsZUV2ZW50XCIsXCJoYW5kbGVXaW5kb3dFdmVudFwiXSx0aGlzKTtjb25zdCByPXRoaXMuX2VsO3RoaXMuX2xpc3RlbmVycz1bW3IsXCJ0b3VjaHN0YXJ0XCIse3Bhc3NpdmU6ITB9XSxbcixcInRvdWNobW92ZVwiLHtwYXNzaXZlOiExfV0sW3IsXCJ0b3VjaGVuZFwiLHZvaWQgMF0sW3IsXCJ0b3VjaGNhbmNlbFwiLHZvaWQgMF0sW3IsXCJtb3VzZWRvd25cIix2b2lkIDBdLFtyLFwibW91c2Vtb3ZlXCIsdm9pZCAwXSxbcixcIm1vdXNldXBcIix2b2lkIDBdLFt0LmRvY3VtZW50LFwibW91c2Vtb3ZlXCIse2NhcHR1cmU6ITB9XSxbdC5kb2N1bWVudCxcIm1vdXNldXBcIix2b2lkIDBdLFtyLFwibW91c2VvdmVyXCIsdm9pZCAwXSxbcixcIm1vdXNlb3V0XCIsdm9pZCAwXSxbcixcImRibGNsaWNrXCIsdm9pZCAwXSxbcixcImNsaWNrXCIsdm9pZCAwXSxbcixcImtleWRvd25cIix7Y2FwdHVyZTohMX1dLFtyLFwia2V5dXBcIix2b2lkIDBdLFtyLFwid2hlZWxcIix7cGFzc2l2ZTohMX1dLFtyLFwiY29udGV4dG1lbnVcIix2b2lkIDBdLFt0LFwiYmx1clwiLHZvaWQgMF1dO2Zvcihjb25zdFtlLGkscl1vZiB0aGlzLl9saXN0ZW5lcnMpZS5hZGRFdmVudExpc3RlbmVyKGksZT09PXQuZG9jdW1lbnQ/dGhpcy5oYW5kbGVXaW5kb3dFdmVudDp0aGlzLmhhbmRsZUV2ZW50LHIpO31kZXN0cm95KCl7Zm9yKGNvbnN0W2UsaSxyXW9mIHRoaXMuX2xpc3RlbmVycyllLnJlbW92ZUV2ZW50TGlzdGVuZXIoaSxlPT09dC5kb2N1bWVudD90aGlzLmhhbmRsZVdpbmRvd0V2ZW50OnRoaXMuaGFuZGxlRXZlbnQscik7fV9hZGREZWZhdWx0SGFuZGxlcnMoZSl7Y29uc3QgdD10aGlzLl9tYXAsaT10LmdldENhbnZhc0NvbnRhaW5lcigpO3RoaXMuX2FkZChcIm1hcEV2ZW50XCIsbmV3IGdTKHQsZSkpO2NvbnN0IHI9dC5ib3hab29tPW5ldyB4Uyh0LGUpO3RoaXMuX2FkZChcImJveFpvb21cIixyKTtjb25zdCBuPW5ldyBUUyxvPW5ldyBxUzt0LmRvdWJsZUNsaWNrWm9vbT1uZXcgR1MobyxuKSx0aGlzLl9hZGQoXCJ0YXBab29tXCIsbiksdGhpcy5fYWRkKFwiY2xpY2tab29tXCIsbyk7Y29uc3Qgcz1uZXcgWlM7dGhpcy5fYWRkKFwidGFwRHJhZ1pvb21cIixzKTtjb25zdCBhPXQudG91Y2hQaXRjaD1uZXcgQlModCk7dGhpcy5fYWRkKFwidG91Y2hQaXRjaFwiLGEpO2NvbnN0IGw9bmV3IFNTKGUpLGM9bmV3IElTKGUpO3QuZHJhZ1JvdGF0ZT1uZXcgV1MoZSxsLGMpLHRoaXMuX2FkZChcIm1vdXNlUm90YXRlXCIsbCxbXCJtb3VzZVBpdGNoXCJdKSx0aGlzLl9hZGQoXCJtb3VzZVBpdGNoXCIsYyxbXCJtb3VzZVJvdGF0ZVwiXSk7Y29uc3QgaD1uZXcgQVMoZSksdT1uZXcgQ1ModCxlKTt0LmRyYWdQYW49bmV3ICRTKGksaCx1KSx0aGlzLl9hZGQoXCJtb3VzZVBhblwiLGgpLHRoaXMuX2FkZChcInRvdWNoUGFuXCIsdSxbXCJ0b3VjaFpvb21cIixcInRvdWNoUm90YXRlXCJdKTtjb25zdCBkPW5ldyBrUyxwPW5ldyBSUzt0LnRvdWNoWm9vbVJvdGF0ZT1uZXcgSFMoaSxwLGQscyksdGhpcy5fYWRkKFwidG91Y2hSb3RhdGVcIixkLFtcInRvdWNoUGFuXCIsXCJ0b3VjaFpvb21cIl0pLHRoaXMuX2FkZChcInRvdWNoWm9vbVwiLHAsW1widG91Y2hQYW5cIixcInRvdWNoUm90YXRlXCJdKSx0aGlzLl9hZGQoXCJibG9ja2FibGVNYXBFdmVudFwiLG5ldyB5Uyh0KSk7Y29uc3QgZj10LnNjcm9sbFpvb209bmV3IGpTKHQsdGhpcyk7dGhpcy5fYWRkKFwic2Nyb2xsWm9vbVwiLGYsW1wibW91c2VQYW5cIl0pO2NvbnN0IG09dC5rZXlib2FyZD1uZXcgTlM7dGhpcy5fYWRkKFwia2V5Ym9hcmRcIixtKTtmb3IoY29uc3QgaSBvZiBbXCJib3hab29tXCIsXCJkb3VibGVDbGlja1pvb21cIixcInRhcERyYWdab29tXCIsXCJ0b3VjaFBpdGNoXCIsXCJkcmFnUm90YXRlXCIsXCJkcmFnUGFuXCIsXCJ0b3VjaFpvb21Sb3RhdGVcIixcInNjcm9sbFpvb21cIixcImtleWJvYXJkXCJdKWUuaW50ZXJhY3RpdmUmJmVbaV0mJnRbaV0uZW5hYmxlKGVbaV0pO31fYWRkKGUsdCxpKXt0aGlzLl9oYW5kbGVycy5wdXNoKHtoYW5kbGVyTmFtZTplLGhhbmRsZXI6dCxhbGxvd2VkOml9KSx0aGlzLl9oYW5kbGVyc0J5SWRbZV09dDt9c3RvcChlKXtpZighdGhpcy5fdXBkYXRpbmdDYW1lcmEpe2Zvcihjb25zdHtoYW5kbGVyOmV9b2YgdGhpcy5faGFuZGxlcnMpZS5yZXNldCgpO3RoaXMuX2luZXJ0aWEuY2xlYXIoKSx0aGlzLl9maXJlRXZlbnRzKHt9LHt9LGUpLHRoaXMuX2NoYW5nZXM9W10sdGhpcy5fb3JpZ2luYWxab29tPXZvaWQgMDt9fWlzQWN0aXZlKCl7Zm9yKGNvbnN0e2hhbmRsZXI6ZX1vZiB0aGlzLl9oYW5kbGVycylpZihlLmlzQWN0aXZlKCkpcmV0dXJuICEwO3JldHVybiAhMX1pc1pvb21pbmcoKXtyZXR1cm4gISF0aGlzLl9ldmVudHNJblByb2dyZXNzLnpvb218fHRoaXMuX21hcC5zY3JvbGxab29tLmlzWm9vbWluZygpfWlzUm90YXRpbmcoKXtyZXR1cm4gISF0aGlzLl9ldmVudHNJblByb2dyZXNzLnJvdGF0ZX1pc01vdmluZygpe3JldHVybiAhIVhTKHRoaXMuX2V2ZW50c0luUHJvZ3Jlc3MpfHx0aGlzLmlzWm9vbWluZygpfV9pc0RyYWdnaW5nKCl7cmV0dXJuICEhdGhpcy5fZXZlbnRzSW5Qcm9ncmVzcy5kcmFnfV9ibG9ja2VkQnlBY3RpdmUoZSx0LGkpe2Zvcihjb25zdCByIGluIGUpaWYociE9PWkmJighdHx8dC5pbmRleE9mKHIpPDApKXJldHVybiAhMDtyZXR1cm4gITF9aGFuZGxlV2luZG93RXZlbnQoZSl7dGhpcy5oYW5kbGVFdmVudChlLGAke2UudHlwZX1XaW5kb3dgKTt9X2dldE1hcFRvdWNoZXMoZSl7Y29uc3QgdD1bXTtmb3IoY29uc3QgaSBvZiBlKXRoaXMuX2VsLmNvbnRhaW5zKGkudGFyZ2V0KSYmdC5wdXNoKGkpO3JldHVybiB0fWhhbmRsZUV2ZW50KGUsdCl7dGhpcy5fdXBkYXRpbmdDYW1lcmE9ITA7Y29uc3QgaT1cInJlbmRlckZyYW1lXCI9PT1lLnR5cGUscj1pP3ZvaWQgMDplLG49e25lZWRzUmVuZGVyRnJhbWU6ITF9LG89e30scz17fSxhPWUudG91Y2hlcz90aGlzLl9nZXRNYXBUb3VjaGVzKGUudG91Y2hlcyk6dm9pZCAwLGw9YT9UdCh0aGlzLl9lbCxhKTppP3ZvaWQgMDp3dCh0aGlzLl9lbCxlKTtmb3IoY29uc3R7aGFuZGxlck5hbWU6aSxoYW5kbGVyOmMsYWxsb3dlZDpofW9mIHRoaXMuX2hhbmRsZXJzKXtpZighYy5pc0VuYWJsZWQoKSljb250aW51ZTtsZXQgdTt0aGlzLl9ibG9ja2VkQnlBY3RpdmUocyxoLGkpP2MucmVzZXQoKTpjW3R8fGUudHlwZV0mJih1PWNbdHx8ZS50eXBlXShlLGwsYSksdGhpcy5tZXJnZUhhbmRsZXJSZXN1bHQobixvLHUsaSxyKSx1JiZ1Lm5lZWRzUmVuZGVyRnJhbWUmJnRoaXMuX3RyaWdnZXJSZW5kZXJGcmFtZSgpKSwodXx8Yy5pc0FjdGl2ZSgpKSYmKHNbaV09Yyk7fWNvbnN0IGM9e307Zm9yKGNvbnN0IGUgaW4gdGhpcy5fcHJldmlvdXNBY3RpdmVIYW5kbGVycylzW2VdfHwoY1tlXT1yKTt0aGlzLl9wcmV2aW91c0FjdGl2ZUhhbmRsZXJzPXMsKE9iamVjdC5rZXlzKGMpLmxlbmd0aHx8SlMobikpJiYodGhpcy5fY2hhbmdlcy5wdXNoKFtuLG8sY10pLHRoaXMuX3RyaWdnZXJSZW5kZXJGcmFtZSgpKSwoT2JqZWN0LmtleXMocykubGVuZ3RofHxKUyhuKSkmJnRoaXMuX21hcC5fc3RvcCghMCksdGhpcy5fdXBkYXRpbmdDYW1lcmE9ITE7Y29uc3R7Y2FtZXJhQW5pbWF0aW9uOmh9PW47aCYmKHRoaXMuX2luZXJ0aWEuY2xlYXIoKSx0aGlzLl9maXJlRXZlbnRzKHt9LHt9LCEwKSx0aGlzLl9jaGFuZ2VzPVtdLGgodGhpcy5fbWFwKSk7fW1lcmdlSGFuZGxlclJlc3VsdChlLHQsaSxyLG4pe2lmKCFpKXJldHVybjtrKGUsaSk7Y29uc3Qgbz17aGFuZGxlck5hbWU6cixvcmlnaW5hbEV2ZW50Omkub3JpZ2luYWxFdmVudHx8bn07dm9pZCAwIT09aS56b29tRGVsdGEmJih0Lnpvb209byksdm9pZCAwIT09aS5wYW5EZWx0YSYmKHQuZHJhZz1vKSx2b2lkIDAhPT1pLnBpdGNoRGVsdGEmJih0LnBpdGNoPW8pLHZvaWQgMCE9PWkuYmVhcmluZ0RlbHRhJiYodC5yb3RhdGU9byk7fV9hcHBseUNoYW5nZXMoKXtjb25zdCBlPXt9LHQ9e30saT17fTtmb3IoY29uc3RbcixuLG9db2YgdGhpcy5fY2hhbmdlcylyLnBhbkRlbHRhJiYoZS5wYW5EZWx0YT0oZS5wYW5EZWx0YXx8bmV3IHkoMCwwKSkuX2FkZChyLnBhbkRlbHRhKSksci56b29tRGVsdGEmJihlLnpvb21EZWx0YT0oZS56b29tRGVsdGF8fDApK3Iuem9vbURlbHRhKSxyLmJlYXJpbmdEZWx0YSYmKGUuYmVhcmluZ0RlbHRhPShlLmJlYXJpbmdEZWx0YXx8MCkrci5iZWFyaW5nRGVsdGEpLHIucGl0Y2hEZWx0YSYmKGUucGl0Y2hEZWx0YT0oZS5waXRjaERlbHRhfHwwKStyLnBpdGNoRGVsdGEpLHZvaWQgMCE9PXIuYXJvdW5kJiYoZS5hcm91bmQ9ci5hcm91bmQpLHZvaWQgMCE9PXIuYXJvdW5kQ29vcmQmJihlLmFyb3VuZENvb3JkPXIuYXJvdW5kQ29vcmQpLHZvaWQgMCE9PXIucGluY2hBcm91bmQmJihlLnBpbmNoQXJvdW5kPXIucGluY2hBcm91bmQpLHIubm9JbmVydGlhJiYoZS5ub0luZXJ0aWE9ci5ub0luZXJ0aWEpLGsodCxuKSxrKGksbyk7dGhpcy5fdXBkYXRlTWFwVHJhbnNmb3JtKGUsdCxpKSx0aGlzLl9jaGFuZ2VzPVtdO31fdXBkYXRlTWFwVHJhbnNmb3JtKGUsdCxpKXtjb25zdCByPXRoaXMuX21hcCxuPXIudHJhbnNmb3JtLG89ZT0+W2UueCxlLnksZS56XTtpZigoZT0+e2NvbnN0IHQ9dGhpcy5fZXZlbnRzSW5Qcm9ncmVzcy5kcmFnO3JldHVybiB0JiYhdGhpcy5faGFuZGxlcnNCeUlkW3QuaGFuZGxlck5hbWVdLmlzQWN0aXZlKCl9KSgpJiYhSlMoZSkpe2NvbnN0IGU9bi56b29tO24uY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlPVwic2VhXCIsbnVsbCE9dGhpcy5fb3JpZ2luYWxab29tJiZuLl9vcnRob2dyYXBoaWNQcm9qZWN0aW9uQXRMb3dQaXRjaCYmXCJnbG9iZVwiIT09bi5wcm9qZWN0aW9uLm5hbWUmJjA9PT1uLnBpdGNoPyhuLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZT1cImdyb3VuZFwiLG4uem9vbT10aGlzLl9vcmlnaW5hbFpvb20pOihuLnJlY2VudGVyT25UZXJyYWluKCksbi5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2U9XCJncm91bmRcIiksZSE9PW4uem9vbSYmdGhpcy5fbWFwLl91cGRhdGUoITApO31pZihuLl9pc0NhbWVyYUNvbnN0cmFpbmVkJiZyLl9zdG9wKCEwKSwhSlMoZSkpcmV0dXJuIHZvaWQgdGhpcy5fZmlyZUV2ZW50cyh0LGksITApO2xldHtwYW5EZWx0YTpzLHpvb21EZWx0YTphLGJlYXJpbmdEZWx0YTpsLHBpdGNoRGVsdGE6Yyxhcm91bmQ6aCxhcm91bmRDb29yZDp1LHBpbmNoQXJvdW5kOmR9PWU7bi5faXNDYW1lcmFDb25zdHJhaW5lZCYmKGE+MCYmKGE9MCksbi5faXNDYW1lcmFDb25zdHJhaW5lZD0hMSksdm9pZCAwIT09ZCYmKGg9ZCksKGF8fChlPT50W2VdJiYhdGhpcy5fZXZlbnRzSW5Qcm9ncmVzc1tlXSkoXCJkcmFnXCIpKSYmaCYmKHRoaXMuX2RyYWdPcmlnaW49byhuLnBvaW50Q29vcmRpbmF0ZTNEKGgpKSx0aGlzLl9vcmlnaW5hbFpvb209bi56b29tLHRoaXMuX3RyYWNraW5nRWxsaXBzb2lkLnNldHVwKG4uX2NhbWVyYS5wb3NpdGlvbix0aGlzLl9kcmFnT3JpZ2luKSksbi5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2U9XCJzZWFcIixyLl9zdG9wKCEwKSxoPWh8fHIudHJhbnNmb3JtLmNlbnRlclBvaW50LGwmJihuLmJlYXJpbmcrPWwpLGMmJihuLnBpdGNoKz1jKSxuLl91cGRhdGVDYW1lcmFTdGF0ZSgpO2NvbnN0IHA9WzAsMCwwXTtpZihzKWlmKFwibWVyY2F0b3JcIj09PW4ucHJvamVjdGlvbi5uYW1lKXtjb25zdCBlPXRoaXMuX3RyYWNraW5nRWxsaXBzb2lkLnByb2plY3RSYXkobi5zY3JlZW5Qb2ludFRvTWVyY2F0b3JSYXkoaCkuZGlyKSx0PXRoaXMuX3RyYWNraW5nRWxsaXBzb2lkLnByb2plY3RSYXkobi5zY3JlZW5Qb2ludFRvTWVyY2F0b3JSYXkoaC5zdWIocykpLmRpcik7cFswXT10WzBdLWVbMF0scFsxXT10WzFdLWVbMV07fWVsc2Uge2NvbnN0IGU9bi5wb2ludENvb3JkaW5hdGUoaCk7aWYoXCJnbG9iZVwiPT09bi5wcm9qZWN0aW9uLm5hbWUpe3M9cy5yb3RhdGUoLW4uYW5nbGUpO2NvbnN0IHQ9bi5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbC9uLndvcmxkU2l6ZTtwWzBdPS1zLngqc3AodHAoZS55KSkqdCxwWzFdPS1zLnkqc3Aobi5jZW50ZXIubGF0KSp0O31lbHNlIHtjb25zdCB0PW4ucG9pbnRDb29yZGluYXRlKGguc3ViKHMpKTtlJiZ0JiYocFswXT10LngtZS54LHBbMV09dC55LWUueSk7fX1jb25zdCBmPW4uem9vbSxtPVswLDAsMF07aWYoYSl7Y29uc3QgZT1vKHV8fG4ucG9pbnRDb29yZGluYXRlM0QoaCkpLHQ9e2RpcjpEdS5ub3JtYWxpemUoW10sRHUuc3ViKFtdLGUsbi5fY2FtZXJhLnBvc2l0aW9uKSl9O2lmKHQuZGlyWzJdPDApe2NvbnN0IGk9bi56b29tRGVsdGFUb01vdmVtZW50KGUsYSk7RHUuc2NhbGUobSx0LmRpcixpKTt9fWNvbnN0IF89RHUuYWRkKHAscCxtKTtuLl90cmFuc2xhdGVDYW1lcmFDb25zdHJhaW5lZChfKSxhJiZNYXRoLmFicyhuLnpvb20tZik+MWUtNCYmbi5yZWNlbnRlck9uVGVycmFpbigpLG4uY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlPVwiZ3JvdW5kXCIsdGhpcy5fbWFwLl91cGRhdGUoKSxlLm5vSW5lcnRpYXx8dGhpcy5faW5lcnRpYS5yZWNvcmQoZSksdGhpcy5fZmlyZUV2ZW50cyh0LGksITApO31fZmlyZUV2ZW50cyhlLHQsaSl7Y29uc3Qgcj1YUyh0aGlzLl9ldmVudHNJblByb2dyZXNzKSxuPVhTKGUpLG89e307Zm9yKGNvbnN0IHQgaW4gZSl7Y29uc3R7b3JpZ2luYWxFdmVudDppfT1lW3RdO3RoaXMuX2V2ZW50c0luUHJvZ3Jlc3NbdF18fChvW2Ake3R9c3RhcnRgXT1pKSx0aGlzLl9ldmVudHNJblByb2dyZXNzW3RdPWVbdF07fSFyJiZuJiZ0aGlzLl9maXJlRXZlbnQoXCJtb3Zlc3RhcnRcIixuLm9yaWdpbmFsRXZlbnQpO2Zvcihjb25zdCBlIGluIG8pdGhpcy5fZmlyZUV2ZW50KGUsb1tlXSk7biYmdGhpcy5fZmlyZUV2ZW50KFwibW92ZVwiLG4ub3JpZ2luYWxFdmVudCk7Zm9yKGNvbnN0IHQgaW4gZSl7Y29uc3R7b3JpZ2luYWxFdmVudDppfT1lW3RdO3RoaXMuX2ZpcmVFdmVudCh0LGkpO31jb25zdCBzPXt9O2xldCBhO2Zvcihjb25zdCBlIGluIHRoaXMuX2V2ZW50c0luUHJvZ3Jlc3Mpe2NvbnN0e2hhbmRsZXJOYW1lOmksb3JpZ2luYWxFdmVudDpyfT10aGlzLl9ldmVudHNJblByb2dyZXNzW2VdO3RoaXMuX2hhbmRsZXJzQnlJZFtpXS5pc0FjdGl2ZSgpfHwoZGVsZXRlIHRoaXMuX2V2ZW50c0luUHJvZ3Jlc3NbZV0sYT10W2ldfHxyLHNbYCR7ZX1lbmRgXT1hKTt9Zm9yKGNvbnN0IGUgaW4gcyl0aGlzLl9maXJlRXZlbnQoZSxzW2VdKTtjb25zdCBsPVhTKHRoaXMuX2V2ZW50c0luUHJvZ3Jlc3MpO2lmKGkmJihyfHxuKSYmIWwpe3RoaXMuX3VwZGF0aW5nQ2FtZXJhPSEwO2NvbnN0IGU9dGhpcy5faW5lcnRpYS5fb25Nb3ZlRW5kKHRoaXMuX21hcC5kcmFnUGFuLl9pbmVydGlhT3B0aW9ucyksdD1lPT4wIT09ZSYmLXRoaXMuX2JlYXJpbmdTbmFwPGUmJmU8dGhpcy5fYmVhcmluZ1NuYXA7ZT8odChlLmJlYXJpbmd8fHRoaXMuX21hcC5nZXRCZWFyaW5nKCkpJiYoZS5iZWFyaW5nPTApLHRoaXMuX21hcC5lYXNlVG8oZSx7b3JpZ2luYWxFdmVudDphfSkpOih0aGlzLl9tYXAuZmlyZShuZXcgSXQoXCJtb3ZlZW5kXCIse29yaWdpbmFsRXZlbnQ6YX0pKSx0KHRoaXMuX21hcC5nZXRCZWFyaW5nKCkpJiZ0aGlzLl9tYXAucmVzZXROb3J0aCgpKSx0aGlzLl91cGRhdGluZ0NhbWVyYT0hMTt9fV9maXJlRXZlbnQoZSx0KXt0aGlzLl9tYXAuZmlyZShuZXcgSXQoZSx0P3tvcmlnaW5hbEV2ZW50OnR9Ont9KSk7fV9yZXF1ZXN0RnJhbWUoKXtyZXR1cm4gdGhpcy5fbWFwLnRyaWdnZXJSZXBhaW50KCksdGhpcy5fbWFwLl9yZW5kZXJUYXNrUXVldWUuYWRkKChlPT57dGhpcy5fZnJhbWVJZD12b2lkIDAsdGhpcy5oYW5kbGVFdmVudChuZXcgWVMoXCJyZW5kZXJGcmFtZVwiLHt0aW1lU3RhbXA6ZX0pKSx0aGlzLl9hcHBseUNoYW5nZXMoKTt9KSl9X3RyaWdnZXJSZW5kZXJGcmFtZSgpe3ZvaWQgMD09PXRoaXMuX2ZyYW1lSWQmJih0aGlzLl9mcmFtZUlkPXRoaXMuX3JlcXVlc3RGcmFtZSgpKTt9fWNvbnN0IGVJPVwibWFwLnNldEZyZWVDYW1lcmFPcHRpb25zKC4uLikgYW5kIG1hcC5nZXRGcmVlQ2FtZXJhT3B0aW9ucygpIGFyZSBub3QgeWV0IHN1cHBvcnRlZCBmb3Igbm9uLW1lcmNhdG9yIHByb2plY3Rpb25zLlwiO2NsYXNzIHRJIGV4dGVuZHMgenR7Y29uc3RydWN0b3IoZSx0KXtzdXBlcigpLHRoaXMuX21vdmluZz0hMSx0aGlzLl96b29taW5nPSExLHRoaXMudHJhbnNmb3JtPWUsdGhpcy5fYmVhcmluZ1NuYXA9dC5iZWFyaW5nU25hcCx0aGlzLl9yZXNwZWN0UHJlZmVyc1JlZHVjZWRNb3Rpb249ITEhPT10LnJlc3BlY3RQcmVmZXJzUmVkdWNlZE1vdGlvbixqKFtcIl9yZW5kZXJGcmFtZUNhbGxiYWNrXCJdLHRoaXMpO31nZXRDZW50ZXIoKXtyZXR1cm4gbmV3IFdkKHRoaXMudHJhbnNmb3JtLmNlbnRlci5sbmcsdGhpcy50cmFuc2Zvcm0uY2VudGVyLmxhdCl9c2V0Q2VudGVyKGUsdCl7cmV0dXJuIHRoaXMuanVtcFRvKHtjZW50ZXI6ZX0sdCl9cGFuQnkoZSx0LGkpe3JldHVybiBlPXkuY29udmVydChlKS5tdWx0KC0xKSx0aGlzLnBhblRvKHRoaXMudHJhbnNmb3JtLmNlbnRlcixrKHtvZmZzZXQ6ZX0sdCksaSl9cGFuVG8oZSx0LGkpe3JldHVybiB0aGlzLmVhc2VUbyhrKHtjZW50ZXI6ZX0sdCksaSl9Z2V0Wm9vbSgpe3JldHVybiB0aGlzLnRyYW5zZm9ybS56b29tfXNldFpvb20oZSx0KXtyZXR1cm4gdGhpcy5qdW1wVG8oe3pvb206ZX0sdCksdGhpc316b29tVG8oZSx0LGkpe3JldHVybiB0aGlzLmVhc2VUbyhrKHt6b29tOmV9LHQpLGkpfXpvb21JbihlLHQpe3JldHVybiB0aGlzLnpvb21Ubyh0aGlzLmdldFpvb20oKSsxLGUsdCksdGhpc316b29tT3V0KGUsdCl7cmV0dXJuIHRoaXMuem9vbVRvKHRoaXMuZ2V0Wm9vbSgpLTEsZSx0KSx0aGlzfWdldEJlYXJpbmcoKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uYmVhcmluZ31zZXRCZWFyaW5nKGUsdCl7cmV0dXJuIHRoaXMuanVtcFRvKHtiZWFyaW5nOmV9LHQpLHRoaXN9Z2V0UGFkZGluZygpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5wYWRkaW5nfXNldFBhZGRpbmcoZSx0KXtyZXR1cm4gdGhpcy5qdW1wVG8oe3BhZGRpbmc6ZX0sdCksdGhpc31yb3RhdGVUbyhlLHQsaSl7cmV0dXJuIHRoaXMuZWFzZVRvKGsoe2JlYXJpbmc6ZX0sdCksaSl9cmVzZXROb3J0aChlLHQpe3JldHVybiB0aGlzLnJvdGF0ZVRvKDAsayh7ZHVyYXRpb246MWUzfSxlKSx0KSx0aGlzfXJlc2V0Tm9ydGhQaXRjaChlLHQpe3JldHVybiB0aGlzLmVhc2VUbyhrKHtiZWFyaW5nOjAscGl0Y2g6MCxkdXJhdGlvbjoxZTN9LGUpLHQpLHRoaXN9c25hcFRvTm9ydGgoZSx0KXtyZXR1cm4gTWF0aC5hYnModGhpcy5nZXRCZWFyaW5nKCkpPHRoaXMuX2JlYXJpbmdTbmFwP3RoaXMucmVzZXROb3J0aChlLHQpOnRoaXN9Z2V0UGl0Y2goKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ucGl0Y2h9c2V0UGl0Y2goZSx0KXtyZXR1cm4gdGhpcy5qdW1wVG8oe3BpdGNoOmV9LHQpLHRoaXN9Y2FtZXJhRm9yQm91bmRzKGUsdCl7ZT1zYy5jb252ZXJ0KGUpO2NvbnN0IGk9dCYmdC5iZWFyaW5nfHwwLHI9dCYmdC5waXRjaHx8MCxuPWUuZ2V0Tm9ydGhXZXN0KCksbz1lLmdldFNvdXRoRWFzdCgpO3JldHVybiB0aGlzLl9jYW1lcmFGb3JCb3VuZHModGhpcy50cmFuc2Zvcm0sbixvLGkscix0KX1fZXh0ZW5kQ2FtZXJhT3B0aW9ucyhlKXtjb25zdCB0PXt0b3A6MCxib3R0b206MCxyaWdodDowLGxlZnQ6MH07aWYoXCJudW1iZXJcIj09dHlwZW9mKGU9ayh7cGFkZGluZzp0LG9mZnNldDpbMCwwXSxtYXhab29tOnRoaXMudHJhbnNmb3JtLm1heFpvb219LGUpKS5wYWRkaW5nKXtjb25zdCB0PWUucGFkZGluZztlLnBhZGRpbmc9e3RvcDp0LGJvdHRvbTp0LHJpZ2h0OnQsbGVmdDp0fTt9cmV0dXJuIGUucGFkZGluZz1rKHQsZS5wYWRkaW5nKSxlfV9taW5pbXVtQUFCQkZydXN0dW1EaXN0YW5jZShlLHQpe2NvbnN0IGk9dC5tYXhbMF0tdC5taW5bMF0scj10Lm1heFsxXS10Lm1pblsxXTtyZXR1cm4gaS9yPmUuYXNwZWN0P2kvKDIqTWF0aC50YW4oLjUqZS5mb3ZYKSplLmFzcGVjdCk6ci8oMipNYXRoLnRhbiguNSplLmZvdlkpKmUuYXNwZWN0KX1fY2FtZXJhRm9yQm91bmRzT25HbG9iZShlLHQsaSxyLG4sbyl7Y29uc3Qgcz1lLmNsb25lKCksYT10aGlzLl9leHRlbmRDYW1lcmFPcHRpb25zKG8pO3MuYmVhcmluZz1yLHMucGl0Y2g9bjtjb25zdCBsPVdkLmNvbnZlcnQodCksYz1XZC5jb252ZXJ0KGkpLGg9LjUqKGwubGF0K2MubGF0KSx1PS41KihsLmxuZytjLmxuZyksZD13ZChoLHUpLHA9RHUubm9ybWFsaXplKFtdLGQpLGY9RHUubm9ybWFsaXplKFtdLER1LmNyb3NzKFtdLHAsWzAsMSwwXSkpLG09RHUuY3Jvc3MoW10sZixwKSxfPVtmWzBdLGZbMV0sZlsyXSwwLG1bMF0sbVsxXSxtWzJdLDAscFswXSxwWzFdLHBbMl0sMCwwLDAsMCwxXSxnPVtkLHdkKGwubGF0LGwubG5nKSx3ZChjLmxhdCxsLmxuZyksd2QoYy5sYXQsYy5sbmcpLHdkKGwubGF0LGMubG5nKSx3ZChoLGwubG5nKSx3ZChoLGMubG5nKSx3ZChsLmxhdCx1KSx3ZChjLmxhdCx1KV07bGV0IHk9ZWQuZnJvbVBvaW50cyhnLm1hcCgoZT0+W0R1LmRvdChmLGUpLER1LmRvdChtLGUpLER1LmRvdChwLGUpXSkpKTtjb25zdCB4PUR1LnRyYW5zZm9ybU1hdDQoW10seS5jZW50ZXIsXyk7MD09PUR1LnNxdWFyZWRMZW5ndGgoeCkmJkR1LnNldCh4LDAsMCwxKSxEdS5ub3JtYWxpemUoeCx4KSxEdS5zY2FsZSh4LHgscmQpLHMuY2VudGVyPWZ1bmN0aW9uKFtlLHQsaV0pe2NvbnN0IHI9TWF0aC5oeXBvdChlLHQsaSksbj1NYXRoLmF0YW4yKGUsaSksbz0uNSpNYXRoLlBJLU1hdGguYWNvcygtdC9yKTtyZXR1cm4gbmV3IFdkKFQobiksVChvKSl9KHgpO2NvbnN0IHY9cy5nZXRXb3JsZFRvQ2FtZXJhTWF0cml4KCksYj1BdS5pbnZlcnQobmV3IEZsb2F0NjRBcnJheSgxNiksdik7eT1lZC5hcHBseVRyYW5zZm9ybSh5LEF1Lm11bHRpcGx5KFtdLHYsXykpLER1LnRyYW5zZm9ybU1hdDQoeCx4LHYpO2NvbnN0IHc9LjUqKHkubWF4WzJdLXkubWluWzJdKSxFPXRoaXMuX21pbmltdW1BQUJCRnJ1c3R1bURpc3RhbmNlKHMseSksTT1EdS5zY2FsZShbXSxbMCwwLDFdLHcpLEE9RHUuYWRkKE0seCxNKSxTPUUrKDA9PT1zLnBpdGNoPzA6RHUuZGlzdGFuY2UoeCxBKSksST1zLmdsb2JlQ2VudGVySW5WaWV3U3BhY2UsQz1EdS5zdWIoW10seCxbSVswXSxJWzFdLElbMl1dKTtEdS5ub3JtYWxpemUoQyxDKSxEdS5zY2FsZShDLEMsUyk7Y29uc3Qgej1EdS5hZGQoW10seCxDKTtEdS50cmFuc2Zvcm1NYXQ0KHoseixiKTtjb25zdCBQPXFkL3JkLEQ9RHUubGVuZ3RoKHopLFI9UWQoTWF0aC5tYXgoRCpQLXFkLE51bWJlci5FUFNJTE9OKSwwKSxMPU1hdGgubWluKHMuem9vbUZyb21NZXJjYXRvclpBZGp1c3RlZChSKSxhLm1heFpvb20pO3JldHVybiBMPi41Kih0ZCtpZCk/KHMuc2V0UHJvamVjdGlvbih7bmFtZTpcIm1lcmNhdG9yXCJ9KSxzLnpvb209TCx0aGlzLl9jYW1lcmFGb3JCb3VuZHMocyx0LGkscixuLG8pKTp7Y2VudGVyOnMuY2VudGVyLHpvb206TCxiZWFyaW5nOnIscGl0Y2g6bn19cXVlcnlUZXJyYWluRWxldmF0aW9uKGUsdCl7Y29uc3QgaT10aGlzLnRyYW5zZm9ybS5lbGV2YXRpb247cmV0dXJuIGk/KHQ9ayh7fSx7ZXhhZ2dlcmF0ZWQ6ITB9LHQpLGkuZ2V0QXRQb2ludChscC5mcm9tTG5nTGF0KGUpLG51bGwsdC5leGFnZ2VyYXRlZCkpOm51bGx9X2NhbWVyYUZvckJvdW5kcyhlLHQsaSxyLG4sbyl7aWYoXCJnbG9iZVwiPT09ZS5wcm9qZWN0aW9uLm5hbWUpcmV0dXJuIHRoaXMuX2NhbWVyYUZvckJvdW5kc09uR2xvYmUoZSx0LGkscixuLG8pO2NvbnN0IHM9ZS5jbG9uZSgpLGE9dGhpcy5fZXh0ZW5kQ2FtZXJhT3B0aW9ucyhvKSxsPXMucGFkZGluZztzLmJlYXJpbmc9cixzLnBpdGNoPW47Y29uc3QgYz1XZC5jb252ZXJ0KHQpLGg9V2QuY29udmVydChpKSx1PW5ldyBXZChjLmxuZyxoLmxhdCksZD1uZXcgV2QoaC5sbmcsYy5sYXQpLHA9cy5wcm9qZWN0KGMpLGY9cy5wcm9qZWN0KGgpLG09dGhpcy5xdWVyeVRlcnJhaW5FbGV2YXRpb24oYyksXz10aGlzLnF1ZXJ5VGVycmFpbkVsZXZhdGlvbihoKSxnPXRoaXMucXVlcnlUZXJyYWluRWxldmF0aW9uKHUpLHg9dGhpcy5xdWVyeVRlcnJhaW5FbGV2YXRpb24oZCksdj1bW3AueCxwLnksTWF0aC5taW4obXx8MCxffHwwLGd8fDAseHx8MCldLFtmLngsZi55LE1hdGgubWF4KG18fDAsX3x8MCxnfHwwLHh8fDApXV07bGV0IGI9ZWQuZnJvbVBvaW50cyh2KTtjb25zdCBUPXMuZ2V0V29ybGRUb0NhbWVyYU1hdHJpeCgpLEU9QXUuaW52ZXJ0KG5ldyBGbG9hdDY0QXJyYXkoMTYpLFQpO2I9ZWQuYXBwbHlUcmFuc2Zvcm0oYixUKTtjb25zdCBNPUR1LnN1YihbXSxiLm1heCxiLm1pbiksQT1sLmxlZnR8fDAsUz1sLnJpZ2h0fHwwLEk9bC5ib3R0b218fDAsQz1sLnRvcHx8MCx7bGVmdDp6LHJpZ2h0OlAsdG9wOkQsYm90dG9tOlJ9PWEucGFkZGluZyxMPS41KihBK1MpLGs9LjUqKEMrSSksTz1NYXRoLm1pbihzLnNjYWxlWm9vbShzLnNjYWxlKk1hdGgubWluKChzLndpZHRoLShBK1MreitQKSkvTVswXSwocy5oZWlnaHQtKEkrQytSK0QpKS9NWzFdKSksYS5tYXhab29tKSxCPXMuc2NhbGUvcy56b29tU2NhbGUoTyk7Yj1uZXcgZWQoW2IubWluWzBdLSh6K0wpKkIsYi5taW5bMV0tKFIraykqQixiLm1pblsyXV0sW2IubWF4WzBdKyhQK0wpKkIsYi5tYXhbMV0rKEQraykqQixiLm1heFsyXV0pO2NvbnN0IEY9LjUqTVsyXSxOPXRoaXMuX21pbmltdW1BQUJCRnJ1c3R1bURpc3RhbmNlKHMsYiksVT1bMCwwLDEsMF07eXUudHJhbnNmb3JtTWF0NChVLFUsVCkseXUubm9ybWFsaXplKFUsVSk7Y29uc3QgVj1EdS5zY2FsZShbXSxVLE4rRiksaj1EdS5hZGQoW10sYi5jZW50ZXIsViksRz0oXCJudW1iZXJcIj09dHlwZW9mIGEub2Zmc2V0LngmJlwibnVtYmVyXCI9PXR5cGVvZiBhLm9mZnNldC55P25ldyB5KGEub2Zmc2V0LngsYS5vZmZzZXQueSk6eS5jb252ZXJ0KGEub2Zmc2V0KSkucm90YXRlKC13KHIpKTtiLmNlbnRlclswXS09Ry54KkIsYi5jZW50ZXJbMV0rPUcueSpCLER1LnRyYW5zZm9ybU1hdDQoYi5jZW50ZXIsYi5jZW50ZXIsRSksRHUudHJhbnNmb3JtTWF0NChqLGosRSk7Y29uc3QgcT1bYi5jZW50ZXJbMF0sYi5jZW50ZXJbMV0salsyXSpzLnBpeGVsc1Blck1ldGVyXTtEdS5zY2FsZShxLHEsMS9zLndvcmxkU2l6ZSk7Y29uc3QgWj1lcChxWzBdKSwkPXRwKHFbMV0pLFc9TWF0aC5taW4ocy5fem9vbUZyb21NZXJjYXRvcloocVsyXSksYS5tYXhab29tKSxIPW5ldyBXZChaLCQpO3JldHVybiBzLm1lcmNhdG9yRnJvbVRyYW5zaXRpb24mJlc8LjUqKHRkK2lkKT8ocy5zZXRQcm9qZWN0aW9uKHtuYW1lOlwiZ2xvYmVcIn0pLHMuem9vbT1XLHRoaXMuX2NhbWVyYUZvckJvdW5kcyhzLHQsaSxyLG4sbykpOntjZW50ZXI6SCx6b29tOlcsYmVhcmluZzpyLHBpdGNoOm59fWZpdEJvdW5kcyhlLHQsaSl7Y29uc3Qgcj10aGlzLmNhbWVyYUZvckJvdW5kcyhlLHQpO3JldHVybiB0aGlzLl9maXRJbnRlcm5hbChyLHQsaSl9Zml0U2NyZWVuQ29vcmRpbmF0ZXMoZSx0LGkscixuKXtjb25zdCBvPXkuY29udmVydChlKSxzPXkuY29udmVydCh0KSxhPW5ldyB5KE1hdGgubWluKG8ueCxzLngpLE1hdGgubWluKG8ueSxzLnkpKSxsPW5ldyB5KE1hdGgubWF4KG8ueCxzLngpLE1hdGgubWF4KG8ueSxzLnkpKTtpZihcIm1lcmNhdG9yXCI9PT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUmJnRoaXMudHJhbnNmb3JtLmFueUNvcm5lck9mZkVkZ2UobyxzKSlyZXR1cm4gdGhpcztjb25zdCBjPXRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24zRChhKSxoPXRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24zRChsKSx1PXRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24zRChuZXcgeShhLngsbC55KSksZD10aGlzLnRyYW5zZm9ybS5wb2ludExvY2F0aW9uM0QobmV3IHkobC54LGEueSkpLHA9W01hdGgubWluKGMubG5nLGgubG5nLHUubG5nLGQubG5nKSxNYXRoLm1pbihjLmxhdCxoLmxhdCx1LmxhdCxkLmxhdCldLGY9W01hdGgubWF4KGMubG5nLGgubG5nLHUubG5nLGQubG5nKSxNYXRoLm1heChjLmxhdCxoLmxhdCx1LmxhdCxkLmxhdCldLG09ciYmci5waXRjaD9yLnBpdGNoOnRoaXMuZ2V0UGl0Y2goKSxfPXRoaXMuX2NhbWVyYUZvckJvdW5kcyh0aGlzLnRyYW5zZm9ybSxwLGYsaSxtLHIpO3JldHVybiB0aGlzLl9maXRJbnRlcm5hbChfLHIsbil9X2ZpdEludGVybmFsKGUsdCxpKXtyZXR1cm4gZT8oZGVsZXRlKHQ9ayhlLHQpKS5wYWRkaW5nLHQubGluZWFyP3RoaXMuZWFzZVRvKHQsaSk6dGhpcy5mbHlUbyh0LGkpKTp0aGlzfWp1bXBUbyhlLHQpe3RoaXMuc3RvcCgpO2NvbnN0IGk9ZS5wcmVsb2FkT25seT90aGlzLnRyYW5zZm9ybS5jbG9uZSgpOnRoaXMudHJhbnNmb3JtO2xldCByPSExLG49ITEsbz0hMTtyZXR1cm4gXCJ6b29tXCJpbiBlJiZpLnpvb20hPT0rZS56b29tJiYocj0hMCxpLnpvb209K2Uuem9vbSksdm9pZCAwIT09ZS5jZW50ZXImJihpLmNlbnRlcj1XZC5jb252ZXJ0KGUuY2VudGVyKSksXCJiZWFyaW5nXCJpbiBlJiZpLmJlYXJpbmchPT0rZS5iZWFyaW5nJiYobj0hMCxpLmJlYXJpbmc9K2UuYmVhcmluZyksXCJwaXRjaFwiaW4gZSYmaS5waXRjaCE9PStlLnBpdGNoJiYobz0hMCxpLnBpdGNoPStlLnBpdGNoKSxudWxsPT1lLnBhZGRpbmd8fGkuaXNQYWRkaW5nRXF1YWwoZS5wYWRkaW5nKXx8KGkucGFkZGluZz1lLnBhZGRpbmcpLGUucHJlbG9hZE9ubHk/KHRoaXMuX3ByZWxvYWRUaWxlcyhpKSx0aGlzKToodGhpcy5maXJlKG5ldyBJdChcIm1vdmVzdGFydFwiLHQpKS5maXJlKG5ldyBJdChcIm1vdmVcIix0KSksciYmdGhpcy5maXJlKG5ldyBJdChcInpvb21zdGFydFwiLHQpKS5maXJlKG5ldyBJdChcInpvb21cIix0KSkuZmlyZShuZXcgSXQoXCJ6b29tZW5kXCIsdCkpLG4mJnRoaXMuZmlyZShuZXcgSXQoXCJyb3RhdGVzdGFydFwiLHQpKS5maXJlKG5ldyBJdChcInJvdGF0ZVwiLHQpKS5maXJlKG5ldyBJdChcInJvdGF0ZWVuZFwiLHQpKSxvJiZ0aGlzLmZpcmUobmV3IEl0KFwicGl0Y2hzdGFydFwiLHQpKS5maXJlKG5ldyBJdChcInBpdGNoXCIsdCkpLmZpcmUobmV3IEl0KFwicGl0Y2hlbmRcIix0KSksdGhpcy5maXJlKG5ldyBJdChcIm1vdmVlbmRcIix0KSkpfWdldEZyZWVDYW1lcmFPcHRpb25zKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24uc3VwcG9ydHNGcmVlQ2FtZXJhfHxIKGVJKSx0aGlzLnRyYW5zZm9ybS5nZXRGcmVlQ2FtZXJhT3B0aW9ucygpfXNldEZyZWVDYW1lcmFPcHRpb25zKGUsdCl7Y29uc3QgaT10aGlzLnRyYW5zZm9ybTtpZighaS5wcm9qZWN0aW9uLnN1cHBvcnRzRnJlZUNhbWVyYSlyZXR1cm4gSChlSSksdGhpczt0aGlzLnN0b3AoKTtjb25zdCByPWkuem9vbSxuPWkucGl0Y2gsbz1pLmJlYXJpbmc7aS5zZXRGcmVlQ2FtZXJhT3B0aW9ucyhlKTtjb25zdCBzPXIhPT1pLnpvb20sYT1uIT09aS5waXRjaCxsPW8hPT1pLmJlYXJpbmc7cmV0dXJuIHRoaXMuZmlyZShuZXcgSXQoXCJtb3Zlc3RhcnRcIix0KSkuZmlyZShuZXcgSXQoXCJtb3ZlXCIsdCkpLHMmJnRoaXMuZmlyZShuZXcgSXQoXCJ6b29tc3RhcnRcIix0KSkuZmlyZShuZXcgSXQoXCJ6b29tXCIsdCkpLmZpcmUobmV3IEl0KFwiem9vbWVuZFwiLHQpKSxsJiZ0aGlzLmZpcmUobmV3IEl0KFwicm90YXRlc3RhcnRcIix0KSkuZmlyZShuZXcgSXQoXCJyb3RhdGVcIix0KSkuZmlyZShuZXcgSXQoXCJyb3RhdGVlbmRcIix0KSksYSYmdGhpcy5maXJlKG5ldyBJdChcInBpdGNoc3RhcnRcIix0KSkuZmlyZShuZXcgSXQoXCJwaXRjaFwiLHQpKS5maXJlKG5ldyBJdChcInBpdGNoZW5kXCIsdCkpLHRoaXMuZmlyZShuZXcgSXQoXCJtb3ZlZW5kXCIsdCkpLHRoaXN9ZWFzZVRvKGUsdCl7dGhpcy5fc3RvcCghMSxlLmVhc2VJZCksKCExPT09KGU9ayh7b2Zmc2V0OlswLDBdLGR1cmF0aW9uOjUwMCxlYXNpbmc6Q30sZSkpLmFuaW1hdGV8fHRoaXMuX3ByZWZlcnNSZWR1Y2VkTW90aW9uKGUpKSYmKGUuZHVyYXRpb249MCk7Y29uc3QgaT10aGlzLnRyYW5zZm9ybSxyPXRoaXMuZ2V0Wm9vbSgpLG49dGhpcy5nZXRCZWFyaW5nKCksbz10aGlzLmdldFBpdGNoKCkscz10aGlzLmdldFBhZGRpbmcoKSxhPVwiem9vbVwiaW4gZT8rZS56b29tOnIsbD1cImJlYXJpbmdcImluIGU/dGhpcy5fbm9ybWFsaXplQmVhcmluZyhlLmJlYXJpbmcsbik6bixjPVwicGl0Y2hcImluIGU/K2UucGl0Y2g6byxoPVwicGFkZGluZ1wiaW4gZT9lLnBhZGRpbmc6aS5wYWRkaW5nLHU9eS5jb252ZXJ0KGUub2Zmc2V0KTtsZXQgZCxwLGY7aWYoXCJnbG9iZVwiPT09aS5wcm9qZWN0aW9uLm5hbWUpe2NvbnN0IHQ9bHAuZnJvbUxuZ0xhdChpLmNlbnRlcikscj11LnJvdGF0ZSgtaS5hbmdsZSk7dC54Kz1yLngvaS53b3JsZFNpemUsdC55Kz1yLnkvaS53b3JsZFNpemU7Y29uc3Qgbj10LnRvTG5nTGF0KCksbz1XZC5jb252ZXJ0KGUuY2VudGVyfHxuKTt0aGlzLl9ub3JtYWxpemVDZW50ZXIobyksZD1pLmNlbnRlclBvaW50LmFkZChyKSxwPW5ldyB5KHQueCx0LnkpLm11bHQoaS53b3JsZFNpemUpLGY9bmV3IHkoS2Qoby5sbmcpLEpkKG8ubGF0KSkubXVsdChpLndvcmxkU2l6ZSkuc3ViKHApO31lbHNlIHtkPWkuY2VudGVyUG9pbnQuYWRkKHUpO2NvbnN0IHQ9aS5wb2ludExvY2F0aW9uKGQpLHI9V2QuY29udmVydChlLmNlbnRlcnx8dCk7dGhpcy5fbm9ybWFsaXplQ2VudGVyKHIpLHA9aS5wcm9qZWN0KHQpLGY9aS5wcm9qZWN0KHIpLnN1YihwKTt9Y29uc3QgbT1pLnpvb21TY2FsZShhLXIpO2xldCBfLGc7ZS5hcm91bmQmJihfPVdkLmNvbnZlcnQoZS5hcm91bmQpLGc9aS5sb2NhdGlvblBvaW50KF8pKTtjb25zdCB4PXRoaXMuX3pvb21pbmd8fGEhPT1yLHY9dGhpcy5fcm90YXRpbmd8fG4hPT1sLGI9dGhpcy5fcGl0Y2hpbmd8fGMhPT1vLHc9IWkuaXNQYWRkaW5nRXF1YWwoaCksVD1pPT55PT57aWYoeCYmKGkuem9vbT1LcihyLGEseSkpLHYmJihpLmJlYXJpbmc9S3IobixsLHkpKSxiJiYoaS5waXRjaD1LcihvLGMseSkpLHcmJihpLmludGVycG9sYXRlUGFkZGluZyhzLGgseSksZD1pLmNlbnRlclBvaW50LmFkZCh1KSksXylpLnNldExvY2F0aW9uQXRQb2ludChfLGcpO2Vsc2Uge2NvbnN0IGU9aS56b29tU2NhbGUoaS56b29tLXIpLHQ9YT5yP01hdGgubWluKDIsbSk6TWF0aC5tYXgoLjUsbSksbj1NYXRoLnBvdyh0LDEteSksbz1pLnVucHJvamVjdChwLmFkZChmLm11bHQoeSpuKSkubXVsdChlKSk7aS5zZXRMb2NhdGlvbkF0UG9pbnQoaS5yZW5kZXJXb3JsZENvcGllcz9vLndyYXAoKTpvLGQpO31yZXR1cm4gZS5wcmVsb2FkT25seXx8dGhpcy5fZmlyZU1vdmVFdmVudHModCksaX07aWYoZS5wcmVsb2FkT25seSl7Y29uc3QgdD10aGlzLl9lbXVsYXRlKFQsZS5kdXJhdGlvbixpKTtyZXR1cm4gdGhpcy5fcHJlbG9hZFRpbGVzKHQpLHRoaXN9Y29uc3QgRT17bW92aW5nOnRoaXMuX21vdmluZyx6b29taW5nOnRoaXMuX3pvb21pbmcscm90YXRpbmc6dGhpcy5fcm90YXRpbmcscGl0Y2hpbmc6dGhpcy5fcGl0Y2hpbmd9O3JldHVybiB0aGlzLl96b29taW5nPXgsdGhpcy5fcm90YXRpbmc9dix0aGlzLl9waXRjaGluZz1iLHRoaXMuX3BhZGRpbmc9dyx0aGlzLl9lYXNlSWQ9ZS5lYXNlSWQsdGhpcy5fcHJlcGFyZUVhc2UodCxlLm5vTW92ZVN0YXJ0LEUpLHRoaXMuX2Vhc2UoVChpKSwoZT0+e1wic2VhXCI9PT1pLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZSYmaS5yZWNlbnRlck9uVGVycmFpbigpLHRoaXMuX2FmdGVyRWFzZSh0LGUpO30pLGUpLHRoaXN9X3ByZXBhcmVFYXNlKGUsdCxpPXt9KXt0aGlzLl9tb3Zpbmc9ITAsdGhpcy50cmFuc2Zvcm0uY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlPVwic2VhXCIsdGhpcy50cmFuc2Zvcm0uX29ydGhvZ3JhcGhpY1Byb2plY3Rpb25BdExvd1BpdGNoJiYwPT09dGhpcy50cmFuc2Zvcm0ucGl0Y2gmJlwiZ2xvYmVcIiE9PXRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSYmKHRoaXMudHJhbnNmb3JtLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZT1cImdyb3VuZFwiKSx0fHxpLm1vdmluZ3x8dGhpcy5maXJlKG5ldyBJdChcIm1vdmVzdGFydFwiLGUpKSx0aGlzLl96b29taW5nJiYhaS56b29taW5nJiZ0aGlzLmZpcmUobmV3IEl0KFwiem9vbXN0YXJ0XCIsZSkpLHRoaXMuX3JvdGF0aW5nJiYhaS5yb3RhdGluZyYmdGhpcy5maXJlKG5ldyBJdChcInJvdGF0ZXN0YXJ0XCIsZSkpLHRoaXMuX3BpdGNoaW5nJiYhaS5waXRjaGluZyYmdGhpcy5maXJlKG5ldyBJdChcInBpdGNoc3RhcnRcIixlKSk7fV9maXJlTW92ZUV2ZW50cyhlKXt0aGlzLmZpcmUobmV3IEl0KFwibW92ZVwiLGUpKSx0aGlzLl96b29taW5nJiZ0aGlzLmZpcmUobmV3IEl0KFwiem9vbVwiLGUpKSx0aGlzLl9yb3RhdGluZyYmdGhpcy5maXJlKG5ldyBJdChcInJvdGF0ZVwiLGUpKSx0aGlzLl9waXRjaGluZyYmdGhpcy5maXJlKG5ldyBJdChcInBpdGNoXCIsZSkpO31fYWZ0ZXJFYXNlKGUsdCl7aWYodGhpcy5fZWFzZUlkJiZ0JiZ0aGlzLl9lYXNlSWQ9PT10KXJldHVybjt0aGlzLl9lYXNlSWQ9dm9pZCAwLHRoaXMudHJhbnNmb3JtLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZT1cImdyb3VuZFwiO2NvbnN0IGk9dGhpcy5fem9vbWluZyxyPXRoaXMuX3JvdGF0aW5nLG49dGhpcy5fcGl0Y2hpbmc7dGhpcy5fbW92aW5nPSExLHRoaXMuX3pvb21pbmc9ITEsdGhpcy5fcm90YXRpbmc9ITEsdGhpcy5fcGl0Y2hpbmc9ITEsdGhpcy5fcGFkZGluZz0hMSxpJiZ0aGlzLmZpcmUobmV3IEl0KFwiem9vbWVuZFwiLGUpKSxyJiZ0aGlzLmZpcmUobmV3IEl0KFwicm90YXRlZW5kXCIsZSkpLG4mJnRoaXMuZmlyZShuZXcgSXQoXCJwaXRjaGVuZFwiLGUpKSx0aGlzLmZpcmUobmV3IEl0KFwibW92ZWVuZFwiLGUpKTt9Zmx5VG8oZSx0KXtpZih0aGlzLl9wcmVmZXJzUmVkdWNlZE1vdGlvbihlKSl7Y29uc3QgaT1PKGUsW1wiY2VudGVyXCIsXCJ6b29tXCIsXCJiZWFyaW5nXCIsXCJwaXRjaFwiLFwiYXJvdW5kXCJdKTtyZXR1cm4gdGhpcy5qdW1wVG8oaSx0KX10aGlzLnN0b3AoKSxlPWsoe29mZnNldDpbMCwwXSxzcGVlZDoxLjIsY3VydmU6MS40MixlYXNpbmc6Q30sZSk7Y29uc3QgaT10aGlzLnRyYW5zZm9ybSxyPXRoaXMuZ2V0Wm9vbSgpLG49dGhpcy5nZXRCZWFyaW5nKCksbz10aGlzLmdldFBpdGNoKCkscz10aGlzLmdldFBhZGRpbmcoKSxhPVwiem9vbVwiaW4gZT96KCtlLnpvb20saS5taW5ab29tLGkubWF4Wm9vbSk6cixsPVwiYmVhcmluZ1wiaW4gZT90aGlzLl9ub3JtYWxpemVCZWFyaW5nKGUuYmVhcmluZyxuKTpuLGM9XCJwaXRjaFwiaW4gZT8rZS5waXRjaDpvLGg9XCJwYWRkaW5nXCJpbiBlP2UucGFkZGluZzppLnBhZGRpbmcsdT1pLnpvb21TY2FsZShhLXIpLGQ9eS5jb252ZXJ0KGUub2Zmc2V0KTtsZXQgcD1pLmNlbnRlclBvaW50LmFkZChkKTtjb25zdCBmPWkucG9pbnRMb2NhdGlvbihwKSxtPVdkLmNvbnZlcnQoZS5jZW50ZXJ8fGYpO3RoaXMuX25vcm1hbGl6ZUNlbnRlcihtKTtjb25zdCBfPWkucHJvamVjdChmKSxnPWkucHJvamVjdChtKS5zdWIoXyk7bGV0IHg9ZS5jdXJ2ZTtjb25zdCB2PU1hdGgubWF4KGkud2lkdGgsaS5oZWlnaHQpLGI9di91LHc9Zy5tYWcoKTtpZihcIm1pblpvb21cImluIGUpe2NvbnN0IHQ9eihNYXRoLm1pbihlLm1pblpvb20scixhKSxpLm1pblpvb20saS5tYXhab29tKSxuPXYvaS56b29tU2NhbGUodC1yKTt4PU1hdGguc3FydChuL3cqMik7fWNvbnN0IFQ9eCp4O2Z1bmN0aW9uIEUoZSl7Y29uc3QgdD0oYipiLXYqdisoZT8tMToxKSpUKlQqdyp3KS8oMiooZT9iOnYpKlQqdyk7cmV0dXJuIE1hdGgubG9nKE1hdGguc3FydCh0KnQrMSktdCl9ZnVuY3Rpb24gTShlKXtyZXR1cm4gKE1hdGguZXhwKGUpLU1hdGguZXhwKC1lKSkvMn1mdW5jdGlvbiBBKGUpe3JldHVybiAoTWF0aC5leHAoZSkrTWF0aC5leHAoLWUpKS8yfWNvbnN0IFM9RSgwKTtsZXQgST1mdW5jdGlvbihlKXtyZXR1cm4gQShTKS9BKFMreCplKX0sUD1mdW5jdGlvbihlKXtyZXR1cm4gdiooKEEoUykqKE0odD1TK3gqZSkvQSh0KSktTShTKSkvVCkvdzt2YXIgdDt9LEQ9KEUoMSktUykveDtpZihNYXRoLmFicyh3KTwxZS02fHwhaXNGaW5pdGUoRCkpe2lmKE1hdGguYWJzKHYtYik8MWUtNilyZXR1cm4gdGhpcy5lYXNlVG8oZSx0KTtjb25zdCBpPWI8dj8tMToxO0Q9TWF0aC5hYnMoTWF0aC5sb2coYi92KSkveCxQPWZ1bmN0aW9uKCl7cmV0dXJuIDB9LEk9ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGguZXhwKGkqeCplKX07fWUuZHVyYXRpb249XCJkdXJhdGlvblwiaW4gZT8rZS5kdXJhdGlvbjoxZTMqRC8oXCJzY3JlZW5TcGVlZFwiaW4gZT8rZS5zY3JlZW5TcGVlZC94OitlLnNwZWVkKSxlLm1heER1cmF0aW9uJiZlLmR1cmF0aW9uPmUubWF4RHVyYXRpb24mJihlLmR1cmF0aW9uPTApO2NvbnN0IFI9biE9PWwsTD1jIT09byxCPSFpLmlzUGFkZGluZ0VxdWFsKGgpLEY9aT0+dT0+e2NvbnN0IGY9dSpELHk9MS9JKGYpO2kuem9vbT0xPT09dT9hOnIraS5zY2FsZVpvb20oeSksUiYmKGkuYmVhcmluZz1LcihuLGwsdSkpLEwmJihpLnBpdGNoPUtyKG8sYyx1KSksQiYmKGkuaW50ZXJwb2xhdGVQYWRkaW5nKHMsaCx1KSxwPWkuY2VudGVyUG9pbnQuYWRkKGQpKTtjb25zdCB4PTE9PT11P206aS51bnByb2plY3QoXy5hZGQoZy5tdWx0KFAoZikpKS5tdWx0KHkpKTtyZXR1cm4gaS5zZXRMb2NhdGlvbkF0UG9pbnQoaS5yZW5kZXJXb3JsZENvcGllcz94LndyYXAoKTp4LHApLGkuX3VwZGF0ZUNhbWVyYU9uVGVycmFpbigpLGUucHJlbG9hZE9ubHl8fHRoaXMuX2ZpcmVNb3ZlRXZlbnRzKHQpLGl9O2lmKGUucHJlbG9hZE9ubHkpe2NvbnN0IHQ9dGhpcy5fZW11bGF0ZShGLGUuZHVyYXRpb24saSk7cmV0dXJuIHRoaXMuX3ByZWxvYWRUaWxlcyh0KSx0aGlzfXJldHVybiB0aGlzLl96b29taW5nPSEwLHRoaXMuX3JvdGF0aW5nPVIsdGhpcy5fcGl0Y2hpbmc9TCx0aGlzLl9wYWRkaW5nPUIsdGhpcy5fcHJlcGFyZUVhc2UodCwhMSksdGhpcy5fZWFzZShGKGkpLCgoKT0+dGhpcy5fYWZ0ZXJFYXNlKHQpKSxlKSx0aGlzfWlzRWFzaW5nKCl7cmV0dXJuICEhdGhpcy5fZWFzZUZyYW1lSWR9c3RvcCgpe3JldHVybiB0aGlzLl9zdG9wKCl9X3N0b3AoZSx0KXtpZih0aGlzLl9lYXNlRnJhbWVJZCYmKHRoaXMuX2NhbmNlbFJlbmRlckZyYW1lKHRoaXMuX2Vhc2VGcmFtZUlkKSx0aGlzLl9lYXNlRnJhbWVJZD12b2lkIDAsdGhpcy5fb25FYXNlRnJhbWU9dm9pZCAwKSx0aGlzLl9vbkVhc2VFbmQpe2NvbnN0IGU9dGhpcy5fb25FYXNlRW5kO3RoaXMuX29uRWFzZUVuZD12b2lkIDAsZS5jYWxsKHRoaXMsdCk7fWlmKCFlKXtjb25zdCBlPXRoaXMuaGFuZGxlcnM7ZSYmZS5zdG9wKCExKTt9cmV0dXJuIHRoaXN9X2Vhc2UoZSx0LGkpeyExPT09aS5hbmltYXRlfHwwPT09aS5kdXJhdGlvbj8oZSgxKSx0KCkpOih0aGlzLl9lYXNlU3RhcnQ9ZHQubm93KCksdGhpcy5fZWFzZU9wdGlvbnM9aSx0aGlzLl9vbkVhc2VGcmFtZT1lLHRoaXMuX29uRWFzZUVuZD10LHRoaXMuX2Vhc2VGcmFtZUlkPXRoaXMuX3JlcXVlc3RSZW5kZXJGcmFtZSh0aGlzLl9yZW5kZXJGcmFtZUNhbGxiYWNrKSk7fV9yZW5kZXJGcmFtZUNhbGxiYWNrKCl7Y29uc3QgZT1NYXRoLm1pbigoZHQubm93KCktdGhpcy5fZWFzZVN0YXJ0KS90aGlzLl9lYXNlT3B0aW9ucy5kdXJhdGlvbiwxKSx0PXRoaXMuX29uRWFzZUZyYW1lO3QmJnQodGhpcy5fZWFzZU9wdGlvbnMuZWFzaW5nKGUpKSxlPDE/dGhpcy5fZWFzZUZyYW1lSWQ9dGhpcy5fcmVxdWVzdFJlbmRlckZyYW1lKHRoaXMuX3JlbmRlckZyYW1lQ2FsbGJhY2spOnRoaXMuc3RvcCgpO31fbm9ybWFsaXplQmVhcmluZyhlLHQpe2U9RChlLC0xODAsMTgwKTtjb25zdCBpPU1hdGguYWJzKGUtdCk7cmV0dXJuIE1hdGguYWJzKGUtMzYwLXQpPGkmJihlLT0zNjApLE1hdGguYWJzKGUrMzYwLXQpPGkmJihlKz0zNjApLGV9X25vcm1hbGl6ZUNlbnRlcihlKXtjb25zdCB0PXRoaXMudHJhbnNmb3JtO2lmKHQubWF4Qm91bmRzKXJldHVybjtpZihcImdsb2JlXCIhPT10LnByb2plY3Rpb24ubmFtZSYmIXQucmVuZGVyV29ybGRDb3BpZXMpcmV0dXJuO2NvbnN0IGk9ZS5sbmctdC5jZW50ZXIubG5nO2UubG5nKz1pPjE4MD8tMzYwOmk8LTE4MD8zNjA6MDt9X3ByZWZlcnNSZWR1Y2VkTW90aW9uKGUpe3JldHVybiB0aGlzLl9yZXNwZWN0UHJlZmVyc1JlZHVjZWRNb3Rpb24mJmR0LnByZWZlcnNSZWR1Y2VkTW90aW9uJiYhKGUmJmUuZXNzZW50aWFsKX1fZW11bGF0ZShlLHQsaSl7Y29uc3Qgcj1NYXRoLmNlaWwoMTUqdC8xZTMpLG49W10sbz1lKGkuY2xvbmUoKSk7Zm9yKGxldCBlPTA7ZTw9cjtlKyspe2NvbnN0IHQ9byhlL3IpO24ucHVzaCh0LmNsb25lKCkpO31yZXR1cm4gbn19Y2xhc3MgaUl7Y29uc3RydWN0b3IoZT17fSl7dGhpcy5vcHRpb25zPWUsaihbXCJfdG9nZ2xlQXR0cmlidXRpb25cIixcIl91cGRhdGVFZGl0TGlua1wiLFwiX3VwZGF0ZURhdGFcIixcIl91cGRhdGVDb21wYWN0XCJdLHRoaXMpO31nZXREZWZhdWx0UG9zaXRpb24oKXtyZXR1cm4gXCJib3R0b20tcmlnaHRcIn1vbkFkZChlKXtjb25zdCB0PXRoaXMub3B0aW9ucyYmdGhpcy5vcHRpb25zLmNvbXBhY3Q7cmV0dXJuIHRoaXMuX21hcD1lLHRoaXMuX2NvbnRhaW5lcj1wdChcImRpdlwiLFwibWFwYm94Z2wtY3RybCBtYXBib3hnbC1jdHJsLWF0dHJpYlwiKSx0aGlzLl9jb21wYWN0QnV0dG9uPXB0KFwiYnV0dG9uXCIsXCJtYXBib3hnbC1jdHJsLWF0dHJpYi1idXR0b25cIix0aGlzLl9jb250YWluZXIpLHB0KFwic3BhblwiLFwibWFwYm94Z2wtY3RybC1pY29uXCIsdGhpcy5fY29tcGFjdEJ1dHRvbikuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIiksdGhpcy5fY29tcGFjdEJ1dHRvbi50eXBlPVwiYnV0dG9uXCIsdGhpcy5fY29tcGFjdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLl90b2dnbGVBdHRyaWJ1dGlvbiksdGhpcy5fc2V0RWxlbWVudFRpdGxlKHRoaXMuX2NvbXBhY3RCdXR0b24sXCJUb2dnbGVBdHRyaWJ1dGlvblwiKSx0aGlzLl9pbm5lckNvbnRhaW5lcj1wdChcImRpdlwiLFwibWFwYm94Z2wtY3RybC1hdHRyaWItaW5uZXJcIix0aGlzLl9jb250YWluZXIpLHQmJnRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY29tcGFjdFwiKSx0aGlzLl91cGRhdGVBdHRyaWJ1dGlvbnMoKSx0aGlzLl91cGRhdGVFZGl0TGluaygpLHRoaXMuX21hcC5vbihcInN0eWxlZGF0YVwiLHRoaXMuX3VwZGF0ZURhdGEpLHRoaXMuX21hcC5vbihcInNvdXJjZWRhdGFcIix0aGlzLl91cGRhdGVEYXRhKSx0aGlzLl9tYXAub24oXCJtb3ZlZW5kXCIsdGhpcy5fdXBkYXRlRWRpdExpbmspLHZvaWQgMD09PXQmJih0aGlzLl9tYXAub24oXCJyZXNpemVcIix0aGlzLl91cGRhdGVDb21wYWN0KSx0aGlzLl91cGRhdGVDb21wYWN0KCkpLHRoaXMuX2NvbnRhaW5lcn1vblJlbW92ZSgpe3RoaXMuX2NvbnRhaW5lci5yZW1vdmUoKSx0aGlzLl9tYXAub2ZmKFwic3R5bGVkYXRhXCIsdGhpcy5fdXBkYXRlRGF0YSksdGhpcy5fbWFwLm9mZihcInNvdXJjZWRhdGFcIix0aGlzLl91cGRhdGVEYXRhKSx0aGlzLl9tYXAub2ZmKFwibW92ZWVuZFwiLHRoaXMuX3VwZGF0ZUVkaXRMaW5rKSx0aGlzLl9tYXAub2ZmKFwicmVzaXplXCIsdGhpcy5fdXBkYXRlQ29tcGFjdCksdGhpcy5fbWFwPXZvaWQgMCx0aGlzLl9hdHRyaWJIVE1MPXZvaWQgMDt9X3NldEVsZW1lbnRUaXRsZShlLHQpe2NvbnN0IGk9dGhpcy5fbWFwLl9nZXRVSVN0cmluZyhgQXR0cmlidXRpb25Db250cm9sLiR7dH1gKTtlLnJlbW92ZUF0dHJpYnV0ZShcInRpdGxlXCIpLGUuZmlyc3RFbGVtZW50Q2hpbGQmJmUuZmlyc3RFbGVtZW50Q2hpbGQuc2V0QXR0cmlidXRlKFwidGl0bGVcIixpKTt9X3RvZ2dsZUF0dHJpYnV0aW9uKCl7dGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucyhcIm1hcGJveGdsLWNvbXBhY3Qtc2hvd1wiKT8odGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jb21wYWN0LXNob3dcIiksdGhpcy5fY29tcGFjdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsXCJmYWxzZVwiKSk6KHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY29tcGFjdC1zaG93XCIpLHRoaXMuX2NvbXBhY3RCdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLFwidHJ1ZVwiKSk7fV91cGRhdGVFZGl0TGluaygpe2xldCBlPXRoaXMuX2VkaXRMaW5rO2V8fChlPXRoaXMuX2VkaXRMaW5rPXRoaXMuX2NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLm1hcGJveC1pbXByb3ZlLW1hcFwiKSk7Y29uc3QgdD1be2tleTpcIm93bmVyXCIsdmFsdWU6dGhpcy5zdHlsZU93bmVyfSx7a2V5OlwiaWRcIix2YWx1ZTp0aGlzLnN0eWxlSWR9LHtrZXk6XCJhY2Nlc3NfdG9rZW5cIix2YWx1ZTp0aGlzLl9tYXAuX3JlcXVlc3RNYW5hZ2VyLl9jdXN0b21BY2Nlc3NUb2tlbnx8bi5BQ0NFU1NfVE9LRU59XTtpZihlKXtjb25zdCBpPXQucmVkdWNlKCgoZSxpLHIpPT4oaS52YWx1ZSYmKGUrPWAke2kua2V5fT0ke2kudmFsdWV9JHtyPHQubGVuZ3RoLTE/XCImXCI6XCJcIn1gKSxlKSksXCI/XCIpO2UuaHJlZj1gJHtuLkZFRURCQUNLX1VSTH0vJHtpfSMke29TKHRoaXMuX21hcCwhMCl9YCxlLnJlbD1cIm5vb3BlbmVyIG5vZm9sbG93XCIsdGhpcy5fc2V0RWxlbWVudFRpdGxlKGUsXCJNYXBGZWVkYmFja1wiKTt9fV91cGRhdGVEYXRhKGUpeyFlfHxcIm1ldGFkYXRhXCIhPT1lLnNvdXJjZURhdGFUeXBlJiZcInZpc2liaWxpdHlcIiE9PWUuc291cmNlRGF0YVR5cGUmJlwic3R5bGVcIiE9PWUuZGF0YVR5cGV8fCh0aGlzLl91cGRhdGVBdHRyaWJ1dGlvbnMoKSx0aGlzLl91cGRhdGVFZGl0TGluaygpKTt9X3VwZGF0ZUF0dHJpYnV0aW9ucygpe2lmKCF0aGlzLl9tYXAuc3R5bGUpcmV0dXJuO2xldCBlPVtdO2lmKHRoaXMuX21hcC5zdHlsZS5zdHlsZXNoZWV0KXtjb25zdCBlPXRoaXMuX21hcC5zdHlsZS5zdHlsZXNoZWV0O3RoaXMuc3R5bGVPd25lcj1lLm93bmVyLHRoaXMuc3R5bGVJZD1lLmlkO31jb25zdCB0PXRoaXMuX21hcC5zdHlsZS5fbWVyZ2VkU291cmNlQ2FjaGVzO2Zvcihjb25zdCBpIGluIHQpe2NvbnN0IHI9dFtpXTtpZihyLnVzZWQpe2NvbnN0IHQ9ci5nZXRTb3VyY2UoKTt0LmF0dHJpYnV0aW9uJiZlLmluZGV4T2YodC5hdHRyaWJ1dGlvbik8MCYmZS5wdXNoKHQuYXR0cmlidXRpb24pO319ZS5zb3J0KCgoZSx0KT0+ZS5sZW5ndGgtdC5sZW5ndGgpKSxlPWUuZmlsdGVyKCgodCxpKT0+e2ZvcihsZXQgcj1pKzE7cjxlLmxlbmd0aDtyKyspaWYoZVtyXS5pbmRleE9mKHQpPj0wKXJldHVybiAhMTtyZXR1cm4gITB9KSksdGhpcy5vcHRpb25zLmN1c3RvbUF0dHJpYnV0aW9uJiYoQXJyYXkuaXNBcnJheSh0aGlzLm9wdGlvbnMuY3VzdG9tQXR0cmlidXRpb24pP2U9Wy4uLnRoaXMub3B0aW9ucy5jdXN0b21BdHRyaWJ1dGlvbiwuLi5lXTplLnVuc2hpZnQodGhpcy5vcHRpb25zLmN1c3RvbUF0dHJpYnV0aW9uKSk7Y29uc3QgaT1lLmpvaW4oXCIgfCBcIik7aSE9PXRoaXMuX2F0dHJpYkhUTUwmJih0aGlzLl9hdHRyaWJIVE1MPWksZS5sZW5ndGg/KHRoaXMuX2lubmVyQ29udGFpbmVyLmlubmVySFRNTD1pLHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtYXR0cmliLWVtcHR5XCIpKTp0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWF0dHJpYi1lbXB0eVwiKSx0aGlzLl9lZGl0TGluaz1udWxsKTt9X3VwZGF0ZUNvbXBhY3QoKXt0aGlzLl9tYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCkub2Zmc2V0V2lkdGg8PTY0MD90aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWNvbXBhY3RcIik6dGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jb21wYWN0XCIsXCJtYXBib3hnbC1jb21wYWN0LXNob3dcIik7fX1jbGFzcyBySXtjb25zdHJ1Y3Rvcigpe2ooW1wiX3VwZGF0ZUxvZ29cIixcIl91cGRhdGVDb21wYWN0XCJdLHRoaXMpO31vbkFkZChlKXt0aGlzLl9tYXA9ZSx0aGlzLl9jb250YWluZXI9cHQoXCJkaXZcIixcIm1hcGJveGdsLWN0cmxcIik7Y29uc3QgdD1wdChcImFcIixcIm1hcGJveGdsLWN0cmwtbG9nb1wiKTtyZXR1cm4gdC50YXJnZXQ9XCJfYmxhbmtcIix0LnJlbD1cIm5vb3BlbmVyIG5vZm9sbG93XCIsdC5ocmVmPVwiaHR0cHM6Ly93d3cubWFwYm94LmNvbS9cIix0LnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIix0aGlzLl9tYXAuX2dldFVJU3RyaW5nKFwiTG9nb0NvbnRyb2wuVGl0bGVcIikpLHQuc2V0QXR0cmlidXRlKFwicmVsXCIsXCJub29wZW5lciBub2ZvbGxvd1wiKSx0aGlzLl9jb250YWluZXIuYXBwZW5kQ2hpbGQodCksdGhpcy5fY29udGFpbmVyLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsdGhpcy5fbWFwLm9uKFwic291cmNlZGF0YVwiLHRoaXMuX3VwZGF0ZUxvZ28pLHRoaXMuX3VwZGF0ZUxvZ28oKSx0aGlzLl9tYXAub24oXCJyZXNpemVcIix0aGlzLl91cGRhdGVDb21wYWN0KSx0aGlzLl91cGRhdGVDb21wYWN0KCksdGhpcy5fY29udGFpbmVyfW9uUmVtb3ZlKCl7dGhpcy5fY29udGFpbmVyLnJlbW92ZSgpLHRoaXMuX21hcC5vZmYoXCJzb3VyY2VkYXRhXCIsdGhpcy5fdXBkYXRlTG9nbyksdGhpcy5fbWFwLm9mZihcInJlc2l6ZVwiLHRoaXMuX3VwZGF0ZUNvbXBhY3QpO31nZXREZWZhdWx0UG9zaXRpb24oKXtyZXR1cm4gXCJib3R0b20tbGVmdFwifV91cGRhdGVMb2dvKGUpe2UmJlwibWV0YWRhdGFcIiE9PWUuc291cmNlRGF0YVR5cGV8fCh0aGlzLl9jb250YWluZXIuc3R5bGUuZGlzcGxheT10aGlzLl9sb2dvUmVxdWlyZWQoKT9cImJsb2NrXCI6XCJub25lXCIpO31fbG9nb1JlcXVpcmVkKCl7aWYoIXRoaXMuX21hcC5zdHlsZSlyZXR1cm4gITA7Y29uc3QgZT10aGlzLl9tYXAuc3R5bGUuX3NvdXJjZUNhY2hlcztpZigwPT09T2JqZWN0LmVudHJpZXMoZSkubGVuZ3RoKXJldHVybiAhMDtmb3IoY29uc3QgdCBpbiBlKXtjb25zdCBpPWVbdF0uZ2V0U291cmNlKCk7aWYoaS5oYXNPd25Qcm9wZXJ0eShcIm1hcGJveF9sb2dvXCIpJiYhaS5tYXBib3hfbG9nbylyZXR1cm4gITF9cmV0dXJuICEwfV91cGRhdGVDb21wYWN0KCl7Y29uc3QgZT10aGlzLl9jb250YWluZXIuY2hpbGRyZW47aWYoZS5sZW5ndGgpe2NvbnN0IHQ9ZVswXTt0aGlzLl9tYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCkub2Zmc2V0V2lkdGg8MjUwP3QuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWNvbXBhY3RcIik6dC5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY29tcGFjdFwiKTt9fX1jbGFzcyBuSXtjb25zdHJ1Y3Rvcigpe3RoaXMuX3F1ZXVlPVtdLHRoaXMuX2lkPTAsdGhpcy5fY2xlYXJlZD0hMSx0aGlzLl9jdXJyZW50bHlSdW5uaW5nPSExO31hZGQoZSl7Y29uc3QgdD0rK3RoaXMuX2lkO3JldHVybiB0aGlzLl9xdWV1ZS5wdXNoKHtjYWxsYmFjazplLGlkOnQsY2FuY2VsbGVkOiExfSksdH1yZW1vdmUoZSl7Y29uc3QgdD10aGlzLl9jdXJyZW50bHlSdW5uaW5nLGk9dD90aGlzLl9xdWV1ZS5jb25jYXQodCk6dGhpcy5fcXVldWU7Zm9yKGNvbnN0IHQgb2YgaSlpZih0LmlkPT09ZSlyZXR1cm4gdm9pZCh0LmNhbmNlbGxlZD0hMCl9cnVuKGU9MCl7Y29uc3QgdD10aGlzLl9jdXJyZW50bHlSdW5uaW5nPXRoaXMuX3F1ZXVlO3RoaXMuX3F1ZXVlPVtdO2Zvcihjb25zdCBpIG9mIHQpaWYoIWkuY2FuY2VsbGVkJiYoaS5jYWxsYmFjayhlKSx0aGlzLl9jbGVhcmVkKSlicmVhazt0aGlzLl9jbGVhcmVkPSExLHRoaXMuX2N1cnJlbnRseVJ1bm5pbmc9ITE7fWNsZWFyKCl7dGhpcy5fY3VycmVudGx5UnVubmluZyYmKHRoaXMuX2NsZWFyZWQ9ITApLHRoaXMuX3F1ZXVlPVtdO319ZnVuY3Rpb24gb0koZSx0LGkpe2lmKGU9bmV3IFdkKGUubG5nLGUubGF0KSx0KXtjb25zdCByPW5ldyBXZChlLmxuZy0zNjAsZS5sYXQpLG49bmV3IFdkKGUubG5nKzM2MCxlLmxhdCksbz0zNjAqTWF0aC5jZWlsKE1hdGguYWJzKGUubG5nLWkuY2VudGVyLmxuZykvMzYwKSxzPWkubG9jYXRpb25Qb2ludChlKS5kaXN0U3FyKHQpLGE9dC54PDB8fHQueTwwfHx0Lng+aS53aWR0aHx8dC55PmkuaGVpZ2h0O2kubG9jYXRpb25Qb2ludChyKS5kaXN0U3FyKHQpPHMmJihhfHxNYXRoLmFicyhyLmxuZy1pLmNlbnRlci5sbmcpPG8pP2U9cjppLmxvY2F0aW9uUG9pbnQobikuZGlzdFNxcih0KTxzJiYoYXx8TWF0aC5hYnMobi5sbmctaS5jZW50ZXIubG5nKTxvKSYmKGU9bik7fWZvcig7TWF0aC5hYnMoZS5sbmctaS5jZW50ZXIubG5nKT4xODA7KXtjb25zdCB0PWkubG9jYXRpb25Qb2ludChlKTtpZih0Lng+PTAmJnQueT49MCYmdC54PD1pLndpZHRoJiZ0Lnk8PWkuaGVpZ2h0KWJyZWFrO2UubG5nPmkuY2VudGVyLmxuZz9lLmxuZy09MzYwOmUubG5nKz0zNjA7fXJldHVybiBlfWNvbnN0IHNJPXtjZW50ZXI6XCJ0cmFuc2xhdGUoLTUwJSwtNTAlKVwiLHRvcDpcInRyYW5zbGF0ZSgtNTAlLDApXCIsXCJ0b3AtbGVmdFwiOlwidHJhbnNsYXRlKDAsMClcIixcInRvcC1yaWdodFwiOlwidHJhbnNsYXRlKC0xMDAlLDApXCIsYm90dG9tOlwidHJhbnNsYXRlKC01MCUsLTEwMCUpXCIsXCJib3R0b20tbGVmdFwiOlwidHJhbnNsYXRlKDAsLTEwMCUpXCIsXCJib3R0b20tcmlnaHRcIjpcInRyYW5zbGF0ZSgtMTAwJSwtMTAwJSlcIixsZWZ0OlwidHJhbnNsYXRlKDAsLTUwJSlcIixyaWdodDpcInRyYW5zbGF0ZSgtMTAwJSwtNTAlKVwifTtjbGFzcyBhSSBleHRlbmRzIHp0e2NvbnN0cnVjdG9yKGUsaSl7aWYoc3VwZXIoKSwoZSBpbnN0YW5jZW9mIHQuSFRNTEVsZW1lbnR8fGkpJiYoZT1rKHtlbGVtZW50OmV9LGkpKSxqKFtcIl91cGRhdGVcIixcIl9vbk1vdmVcIixcIl9vblVwXCIsXCJfYWRkRHJhZ0hhbmRsZXJcIixcIl9vbk1hcENsaWNrXCIsXCJfb25LZXlQcmVzc1wiLFwiX2NsZWFyRmFkZVRpbWVyXCJdLHRoaXMpLHRoaXMuX2FuY2hvcj1lJiZlLmFuY2hvcnx8XCJjZW50ZXJcIix0aGlzLl9jb2xvcj1lJiZlLmNvbG9yfHxcIiMzRkIxQ0VcIix0aGlzLl9zY2FsZT1lJiZlLnNjYWxlfHwxLHRoaXMuX2RyYWdnYWJsZT1lJiZlLmRyYWdnYWJsZXx8ITEsdGhpcy5fY2xpY2tUb2xlcmFuY2U9ZSYmZS5jbGlja1RvbGVyYW5jZXx8MCx0aGlzLl9pc0RyYWdnaW5nPSExLHRoaXMuX3N0YXRlPVwiaW5hY3RpdmVcIix0aGlzLl9yb3RhdGlvbj1lJiZlLnJvdGF0aW9ufHwwLHRoaXMuX3JvdGF0aW9uQWxpZ25tZW50PWUmJmUucm90YXRpb25BbGlnbm1lbnR8fFwiYXV0b1wiLHRoaXMuX3BpdGNoQWxpZ25tZW50PWUmJmUucGl0Y2hBbGlnbm1lbnQmJmUucGl0Y2hBbGlnbm1lbnR8fFwiYXV0b1wiLHRoaXMuX3VwZGF0ZU1vdmluZz0oKT0+dGhpcy5fdXBkYXRlKCEwKSx0aGlzLl9vY2NsdWRlZE9wYWNpdHk9ZSYmZS5vY2NsdWRlZE9wYWNpdHl8fC4yLGUmJmUuZWxlbWVudCl0aGlzLl9lbGVtZW50PWUuZWxlbWVudCx0aGlzLl9vZmZzZXQ9eS5jb252ZXJ0KGUmJmUub2Zmc2V0fHxbMCwwXSk7ZWxzZSB7dGhpcy5fZGVmYXVsdE1hcmtlcj0hMCx0aGlzLl9lbGVtZW50PXB0KFwiZGl2XCIpO2NvbnN0IHQ9NDEsaT0yNyxyPWZ0KFwic3ZnXCIse2Rpc3BsYXk6XCJibG9ja1wiLGhlaWdodDp0KnRoaXMuX3NjYWxlK1wicHhcIix3aWR0aDppKnRoaXMuX3NjYWxlK1wicHhcIix2aWV3Qm94OmAwIDAgJHtpfSAke3R9YH0sdGhpcy5fZWxlbWVudCksbj1mdChcInJhZGlhbEdyYWRpZW50XCIse2lkOlwic2hhZG93R3JhZGllbnRcIn0sZnQoXCJkZWZzXCIse30scikpO2Z0KFwic3RvcFwiLHtvZmZzZXQ6XCIxMCVcIixcInN0b3Atb3BhY2l0eVwiOi40fSxuKSxmdChcInN0b3BcIix7b2Zmc2V0OlwiMTAwJVwiLFwic3RvcC1vcGFjaXR5XCI6LjA1fSxuKSxmdChcImVsbGlwc2VcIix7Y3g6MTMuNSxjeTozNC44LHJ4OjEwLjUscnk6NS4yNSxmaWxsOlwidXJsKCNzaGFkb3dHcmFkaWVudClcIn0sciksZnQoXCJwYXRoXCIse2ZpbGw6dGhpcy5fY29sb3IsZDpcIk0yNywxMy41QzI3LDE5LjA3IDIwLjI1LDI3IDE0Ljc1LDM0LjVDMTQuMDIsMzUuNSAxMi45OCwzNS41IDEyLjI1LDM0LjVDNi43NSwyNyAwLDE5LjIyIDAsMTMuNUMwLDYuMDQgNi4wNCwwIDEzLjUsMEMyMC45NiwwIDI3LDYuMDQgMjcsMTMuNVpcIn0sciksZnQoXCJwYXRoXCIse29wYWNpdHk6LjI1LGQ6XCJNMTMuNSwwQzYuMDQsMCAwLDYuMDQgMCwxMy41QzAsMTkuMjIgNi43NSwyNyAxMi4yNSwzNC41QzEzLDM1LjUyIDE0LjAyLDM1LjUgMTQuNzUsMzQuNUMyMC4yNSwyNyAyNywxOS4wNyAyNywxMy41QzI3LDYuMDQgMjAuOTYsMCAxMy41LDBaTTEzLjUsMUMyMC40MiwxIDI2LDYuNTggMjYsMTMuNUMyNiwxNS45IDI0LjUsMTkuMTggMjIuMjIsMjIuNzRDMTkuOTUsMjYuMyAxNi43MSwzMC4xNCAxMy45NCwzMy45MUMxMy43NCwzNC4xOCAxMy42MSwzNC4zMiAxMy41LDM0LjQ0QzEzLjM5LDM0LjMyIDEzLjI2LDM0LjE4IDEzLjA2LDMzLjkxQzEwLjI4LDMwLjEzIDcuNDEsMjYuMzEgNS4wMiwyMi43N0MyLjYyLDE5LjIzIDEsMTUuOTUgMSwxMy41QzEsNi41OCA2LjU4LDEgMTMuNSwxWlwifSxyKSxmdChcImNpcmNsZVwiLHtmaWxsOlwid2hpdGVcIixjeDoxMy41LGN5OjEzLjUscjo1LjV9LHIpLHRoaXMuX29mZnNldD15LmNvbnZlcnQoZSYmZS5vZmZzZXR8fFswLC0xNF0pO310aGlzLl9lbGVtZW50Lmhhc0F0dHJpYnV0ZShcImFyaWEtbGFiZWxcIil8fHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLFwiTWFwIG1hcmtlclwiKSx0aGlzLl9lbGVtZW50Lmhhc0F0dHJpYnV0ZShcInJvbGVcIil8fHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwiaW1nXCIpLHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLW1hcmtlclwiKSx0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnc3RhcnRcIiwoZT0+e2UucHJldmVudERlZmF1bHQoKTt9KSksdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsKGU9PntlLnByZXZlbnREZWZhdWx0KCk7fSkpO2NvbnN0IHI9dGhpcy5fZWxlbWVudC5jbGFzc0xpc3Q7Zm9yKGNvbnN0IGUgaW4gc0kpci5yZW1vdmUoYG1hcGJveGdsLW1hcmtlci1hbmNob3ItJHtlfWApO3IuYWRkKGBtYXBib3hnbC1tYXJrZXItYW5jaG9yLSR7dGhpcy5fYW5jaG9yfWApO2NvbnN0IG49ZSYmZS5jbGFzc05hbWU/ZS5jbGFzc05hbWUudHJpbSgpLnNwbGl0KC9cXHMrLyk6W107ci5hZGQoLi4ubiksdGhpcy5fcG9wdXA9bnVsbDt9YWRkVG8oZSl7cmV0dXJuIGU9PT10aGlzLl9tYXB8fCh0aGlzLnJlbW92ZSgpLHRoaXMuX21hcD1lLGUuZ2V0Q2FudmFzQ29udGFpbmVyKCkuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudCksZS5vbihcIm1vdmVcIix0aGlzLl91cGRhdGVNb3ZpbmcpLGUub24oXCJtb3ZlZW5kXCIsdGhpcy5fdXBkYXRlKSxlLm9uKFwicmVtb3ZlXCIsdGhpcy5fY2xlYXJGYWRlVGltZXIpLGUuX2FkZE1hcmtlcih0aGlzKSx0aGlzLnNldERyYWdnYWJsZSh0aGlzLl9kcmFnZ2FibGUpLHRoaXMuX3VwZGF0ZSgpLGUub24oXCJjbGlja1wiLHRoaXMuX29uTWFwQ2xpY2spKSx0aGlzfXJlbW92ZSgpe2NvbnN0IGU9dGhpcy5fbWFwO3JldHVybiBlJiYoZS5vZmYoXCJjbGlja1wiLHRoaXMuX29uTWFwQ2xpY2spLGUub2ZmKFwibW92ZVwiLHRoaXMuX3VwZGF0ZU1vdmluZyksZS5vZmYoXCJtb3ZlZW5kXCIsdGhpcy5fdXBkYXRlKSxlLm9mZihcIm1vdXNlZG93blwiLHRoaXMuX2FkZERyYWdIYW5kbGVyKSxlLm9mZihcInRvdWNoc3RhcnRcIix0aGlzLl9hZGREcmFnSGFuZGxlciksZS5vZmYoXCJtb3VzZXVwXCIsdGhpcy5fb25VcCksZS5vZmYoXCJ0b3VjaGVuZFwiLHRoaXMuX29uVXApLGUub2ZmKFwibW91c2Vtb3ZlXCIsdGhpcy5fb25Nb3ZlKSxlLm9mZihcInRvdWNobW92ZVwiLHRoaXMuX29uTW92ZSksZS5vZmYoXCJyZW1vdmVcIix0aGlzLl9jbGVhckZhZGVUaW1lciksZS5fcmVtb3ZlTWFya2VyKHRoaXMpLHRoaXMuX21hcD12b2lkIDApLHRoaXMuX2NsZWFyRmFkZVRpbWVyKCksdGhpcy5fZWxlbWVudC5yZW1vdmUoKSx0aGlzLl9wb3B1cCYmdGhpcy5fcG9wdXAucmVtb3ZlKCksdGhpc31nZXRMbmdMYXQoKXtyZXR1cm4gdGhpcy5fbG5nTGF0fXNldExuZ0xhdChlKXtyZXR1cm4gdGhpcy5fbG5nTGF0PVdkLmNvbnZlcnQoZSksdGhpcy5fcG9zPW51bGwsdGhpcy5fcG9wdXAmJnRoaXMuX3BvcHVwLnNldExuZ0xhdCh0aGlzLl9sbmdMYXQpLHRoaXMuX3VwZGF0ZSghMCksdGhpc31nZXRFbGVtZW50KCl7cmV0dXJuIHRoaXMuX2VsZW1lbnR9c2V0UG9wdXAoZSl7aWYodGhpcy5fcG9wdXAmJih0aGlzLl9wb3B1cC5yZW1vdmUoKSx0aGlzLl9wb3B1cD1udWxsLHRoaXMuX2VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwicm9sZVwiKSx0aGlzLl9lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlwcmVzc1wiLHRoaXMuX29uS2V5UHJlc3MpLHRoaXMuX29yaWdpbmFsVGFiSW5kZXh8fHRoaXMuX2VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwidGFiaW5kZXhcIikpLGUpe2lmKCEoXCJvZmZzZXRcImluIGUub3B0aW9ucykpe2NvbnN0IHQ9MzguMSxpPTEzLjUscj1NYXRoLnNxcnQoTWF0aC5wb3coaSwyKS8yKTtlLm9wdGlvbnMub2Zmc2V0PXRoaXMuX2RlZmF1bHRNYXJrZXI/e3RvcDpbMCwwXSxcInRvcC1sZWZ0XCI6WzAsMF0sXCJ0b3AtcmlnaHRcIjpbMCwwXSxib3R0b206WzAsLXRdLFwiYm90dG9tLWxlZnRcIjpbciwtMSoodC1pK3IpXSxcImJvdHRvbS1yaWdodFwiOlstciwtMSoodC1pK3IpXSxsZWZ0OltpLC0xKih0LWkpXSxyaWdodDpbLWksLTEqKHQtaSldfTp0aGlzLl9vZmZzZXQ7fXRoaXMuX3BvcHVwPWUsZS5fbWFya2VyPXRoaXMsdGhpcy5fbG5nTGF0JiZ0aGlzLl9wb3B1cC5zZXRMbmdMYXQodGhpcy5fbG5nTGF0KSx0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZShcInJvbGVcIixcImJ1dHRvblwiKSx0aGlzLl9vcmlnaW5hbFRhYkluZGV4PXRoaXMuX2VsZW1lbnQuZ2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIiksdGhpcy5fb3JpZ2luYWxUYWJJbmRleHx8dGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLFwiMFwiKSx0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlwcmVzc1wiLHRoaXMuX29uS2V5UHJlc3MpLHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLFwiZmFsc2VcIik7fXJldHVybiB0aGlzfV9vbktleVByZXNzKGUpe2NvbnN0IHQ9ZS5jb2RlLGk9ZS5jaGFyQ29kZXx8ZS5rZXlDb2RlO1wiU3BhY2VcIiE9PXQmJlwiRW50ZXJcIiE9PXQmJjMyIT09aSYmMTMhPT1pfHx0aGlzLnRvZ2dsZVBvcHVwKCk7fV9vbk1hcENsaWNrKGUpe2NvbnN0IHQ9ZS5vcmlnaW5hbEV2ZW50LnRhcmdldCxpPXRoaXMuX2VsZW1lbnQ7dGhpcy5fcG9wdXAmJih0PT09aXx8aS5jb250YWlucyh0KSkmJnRoaXMudG9nZ2xlUG9wdXAoKTt9Z2V0UG9wdXAoKXtyZXR1cm4gdGhpcy5fcG9wdXB9dG9nZ2xlUG9wdXAoKXtjb25zdCBlPXRoaXMuX3BvcHVwO3JldHVybiBlPyhlLmlzT3BlbigpPyhlLnJlbW92ZSgpLHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLFwiZmFsc2VcIikpOnRoaXMuX21hcCYmKGUuYWRkVG8odGhpcy5fbWFwKSx0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIixcInRydWVcIikpLHRoaXMpOnRoaXN9X2JlaGluZFRlcnJhaW4oKXtjb25zdCBlPXRoaXMuX21hcCx0PXRoaXMuX3BvcztpZighZXx8IXQpcmV0dXJuICExO2NvbnN0IGk9ZS51bnByb2plY3QodCkscj1lLmdldEZyZWVDYW1lcmFPcHRpb25zKCk7aWYoIXIucG9zaXRpb24pcmV0dXJuICExO2NvbnN0IG49ci5wb3NpdGlvbi50b0xuZ0xhdCgpO3JldHVybiBuLmRpc3RhbmNlVG8oaSk8Ljkqbi5kaXN0YW5jZVRvKHRoaXMuX2xuZ0xhdCl9X2V2YWx1YXRlT3BhY2l0eSgpe2NvbnN0IGU9dGhpcy5fbWFwO2lmKCFlKXJldHVybjtjb25zdCB0PXRoaXMuX3BvcztpZighdHx8dC54PDB8fHQueD5lLnRyYW5zZm9ybS53aWR0aHx8dC55PDB8fHQueT5lLnRyYW5zZm9ybS5oZWlnaHQpcmV0dXJuIHZvaWQgdGhpcy5fY2xlYXJGYWRlVGltZXIoKTtjb25zdCBpPWUudW5wcm9qZWN0KHQpO2xldCByO2UuX3Nob3dpbmdHbG9iZSgpJiZOZChlLnRyYW5zZm9ybSx0aGlzLl9sbmdMYXQpP3I9MDoocj0xLWUuX3F1ZXJ5Rm9nT3BhY2l0eShpKSxlLnRyYW5zZm9ybS5fdGVycmFpbkVuYWJsZWQoKSYmZS5nZXRUZXJyYWluKCkmJnRoaXMuX2JlaGluZFRlcnJhaW4oKSYmKHIqPXRoaXMuX29jY2x1ZGVkT3BhY2l0eSkpLHRoaXMuX2VsZW1lbnQuc3R5bGUub3BhY2l0eT1gJHtyfWAsdGhpcy5fZWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzPXI+MD9cImF1dG9cIjpcIm5vbmVcIix0aGlzLl9wb3B1cCYmdGhpcy5fcG9wdXAuX3NldE9wYWNpdHkociksdGhpcy5fZmFkZVRpbWVyPW51bGw7fV9jbGVhckZhZGVUaW1lcigpe3RoaXMuX2ZhZGVUaW1lciYmKGNsZWFyVGltZW91dCh0aGlzLl9mYWRlVGltZXIpLHRoaXMuX2ZhZGVUaW1lcj1udWxsKTt9X3VwZGF0ZURPTSgpe2NvbnN0IGU9dGhpcy5fcG9zO2lmKCFlfHwhdGhpcy5fbWFwKXJldHVybjtjb25zdCB0PXRoaXMuX29mZnNldC5tdWx0KHRoaXMuX3NjYWxlKTt0aGlzLl9lbGVtZW50LnN0eWxlLnRyYW5zZm9ybT1gXFxuICAgICAgICAgICAgdHJhbnNsYXRlKCR7ZS54fXB4LCR7ZS55fXB4KVxcbiAgICAgICAgICAgICR7c0lbdGhpcy5fYW5jaG9yXX1cXG4gICAgICAgICAgICAke3RoaXMuX2NhbGN1bGF0ZVhZVHJhbnNmb3JtKCl9ICR7dGhpcy5fY2FsY3VsYXRlWlRyYW5zZm9ybSgpfVxcbiAgICAgICAgICAgIHRyYW5zbGF0ZSgke3QueH1weCwke3QueX1weClcXG4gICAgICAgIGA7fV9jYWxjdWxhdGVYWVRyYW5zZm9ybSgpe2NvbnN0IGU9dGhpcy5fcG9zLHQ9dGhpcy5fbWFwLGk9dGhpcy5nZXRQaXRjaEFsaWdubWVudCgpO2lmKCF0fHwhZXx8XCJtYXBcIiE9PWkpcmV0dXJuIFwiXCI7aWYoIXQuX3Nob3dpbmdHbG9iZSgpKXtjb25zdCBlPXQuZ2V0UGl0Y2goKTtyZXR1cm4gZT9gcm90YXRlWCgke2V9ZGVnKWA6XCJcIn1jb25zdCByPVQoRmQodC50cmFuc2Zvcm0sdGhpcy5fbG5nTGF0KSksbj1lLnN1YihCZCh0LnRyYW5zZm9ybSkpLG89TWF0aC5hYnMobi54KStNYXRoLmFicyhuLnkpO2lmKDA9PT1vKXJldHVybiBcIlwiO2NvbnN0IHM9ci9vO3JldHVybiBgcm90YXRlWCgkey1uLnkqc31kZWcpIHJvdGF0ZVkoJHtuLngqc31kZWcpYH1fY2FsY3VsYXRlWlRyYW5zZm9ybSgpe2NvbnN0IGU9dGhpcy5fcG9zLHQ9dGhpcy5fbWFwO2lmKCF0fHwhZSlyZXR1cm4gXCJcIjtsZXQgaT0wO2NvbnN0IHI9dGhpcy5nZXRSb3RhdGlvbkFsaWdubWVudCgpO2lmKFwibWFwXCI9PT1yKWlmKHQuX3Nob3dpbmdHbG9iZSgpKXtjb25zdCBlPXQucHJvamVjdChuZXcgV2QodGhpcy5fbG5nTGF0LmxuZyx0aGlzLl9sbmdMYXQubGF0Ky4wMDEpKSxyPXQucHJvamVjdChuZXcgV2QodGhpcy5fbG5nTGF0LmxuZyx0aGlzLl9sbmdMYXQubGF0LS4wMDEpKS5zdWIoZSk7aT1UKE1hdGguYXRhbjIoci55LHIueCkpLTkwO31lbHNlIGk9LXQuZ2V0QmVhcmluZygpO2Vsc2UgaWYoXCJob3Jpem9uXCI9PT1yKXtjb25zdCByPVAoNCw2LHQuZ2V0Wm9vbSgpKSxuPUJkKHQudHJhbnNmb3JtKTtuLnkrPXIqdC50cmFuc2Zvcm0uaGVpZ2h0O2NvbnN0IG89ZS5zdWIobikscz1UKE1hdGguYXRhbjIoby55LG8ueCkpO2k9KHM+OTA/cy0yNzA6cys5MCkqKDEtcik7fXJldHVybiBpKz10aGlzLl9yb3RhdGlvbixpP2Byb3RhdGVaKCR7aX1kZWcpYDpcIlwifV91cGRhdGUoZSl7dC5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl91cGRhdGVGcmFtZUlkKTtjb25zdCBpPXRoaXMuX21hcDtpJiYoaS50cmFuc2Zvcm0ucmVuZGVyV29ybGRDb3BpZXMmJih0aGlzLl9sbmdMYXQ9b0kodGhpcy5fbG5nTGF0LHRoaXMuX3BvcyxpLnRyYW5zZm9ybSkpLHRoaXMuX3Bvcz1pLnByb2plY3QodGhpcy5fbG5nTGF0KSwhMD09PWU/dGhpcy5fdXBkYXRlRnJhbWVJZD10LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKCk9Pnt0aGlzLl9lbGVtZW50JiZ0aGlzLl9wb3MmJnRoaXMuX2FuY2hvciYmKHRoaXMuX3Bvcz10aGlzLl9wb3Mucm91bmQoKSx0aGlzLl91cGRhdGVET00oKSk7fSkpOnRoaXMuX3Bvcz10aGlzLl9wb3Mucm91bmQoKSxpLl9yZXF1ZXN0RG9tVGFzaygoKCk9Pnt0aGlzLl9tYXAmJih0aGlzLl9lbGVtZW50JiZ0aGlzLl9wb3MmJnRoaXMuX2FuY2hvciYmdGhpcy5fdXBkYXRlRE9NKCksKGkuX3Nob3dpbmdHbG9iZSgpfHxpLmdldFRlcnJhaW4oKXx8aS5nZXRGb2coKSkmJiF0aGlzLl9mYWRlVGltZXImJih0aGlzLl9mYWRlVGltZXI9c2V0VGltZW91dCh0aGlzLl9ldmFsdWF0ZU9wYWNpdHkuYmluZCh0aGlzKSw2MCkpKTt9KSkpO31nZXRPZmZzZXQoKXtyZXR1cm4gdGhpcy5fb2Zmc2V0fXNldE9mZnNldChlKXtyZXR1cm4gdGhpcy5fb2Zmc2V0PXkuY29udmVydChlKSx0aGlzLl91cGRhdGUoKSx0aGlzfWFkZENsYXNzTmFtZShlKXtyZXR1cm4gdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKGUpLHRoaXN9cmVtb3ZlQ2xhc3NOYW1lKGUpe3JldHVybiB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoZSksdGhpc310b2dnbGVDbGFzc05hbWUoZSl7cmV0dXJuIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShlKX1fb25Nb3ZlKGUpe2NvbnN0IHQ9dGhpcy5fbWFwO2lmKCF0KXJldHVybjtjb25zdCBpPXRoaXMuX3BvaW50ZXJkb3duUG9zLHI9dGhpcy5fcG9zaXRpb25EZWx0YTtpZihpJiZyKXtpZighdGhpcy5faXNEcmFnZ2luZyl7Y29uc3Qgcj10aGlzLl9jbGlja1RvbGVyYW5jZXx8dC5fY2xpY2tUb2xlcmFuY2U7aWYoZS5wb2ludC5kaXN0KGkpPHIpcmV0dXJuO3RoaXMuX2lzRHJhZ2dpbmc9ITA7fXRoaXMuX3Bvcz1lLnBvaW50LnN1YihyKSx0aGlzLl9sbmdMYXQ9dC51bnByb2plY3QodGhpcy5fcG9zKSx0aGlzLnNldExuZ0xhdCh0aGlzLl9sbmdMYXQpLHRoaXMuX2VsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cz1cIm5vbmVcIixcInBlbmRpbmdcIj09PXRoaXMuX3N0YXRlJiYodGhpcy5fc3RhdGU9XCJhY3RpdmVcIix0aGlzLmZpcmUobmV3IEl0KFwiZHJhZ3N0YXJ0XCIpKSksdGhpcy5maXJlKG5ldyBJdChcImRyYWdcIikpO319X29uVXAoKXt0aGlzLl9lbGVtZW50LnN0eWxlLnBvaW50ZXJFdmVudHM9XCJhdXRvXCIsdGhpcy5fcG9zaXRpb25EZWx0YT1udWxsLHRoaXMuX3BvaW50ZXJkb3duUG9zPW51bGwsdGhpcy5faXNEcmFnZ2luZz0hMTtjb25zdCBlPXRoaXMuX21hcDtlJiYoZS5vZmYoXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdmUpLGUub2ZmKFwidG91Y2htb3ZlXCIsdGhpcy5fb25Nb3ZlKSksXCJhY3RpdmVcIj09PXRoaXMuX3N0YXRlJiZ0aGlzLmZpcmUobmV3IEl0KFwiZHJhZ2VuZFwiKSksdGhpcy5fc3RhdGU9XCJpbmFjdGl2ZVwiO31fYWRkRHJhZ0hhbmRsZXIoZSl7Y29uc3QgdD10aGlzLl9tYXAsaT10aGlzLl9wb3M7dCYmaSYmdGhpcy5fZWxlbWVudC5jb250YWlucyhlLm9yaWdpbmFsRXZlbnQudGFyZ2V0KSYmKGUucHJldmVudERlZmF1bHQoKSx0aGlzLl9wb3NpdGlvbkRlbHRhPWUucG9pbnQuc3ViKGkpLHRoaXMuX3BvaW50ZXJkb3duUG9zPWUucG9pbnQsdGhpcy5fc3RhdGU9XCJwZW5kaW5nXCIsdC5vbihcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW92ZSksdC5vbihcInRvdWNobW92ZVwiLHRoaXMuX29uTW92ZSksdC5vbmNlKFwibW91c2V1cFwiLHRoaXMuX29uVXApLHQub25jZShcInRvdWNoZW5kXCIsdGhpcy5fb25VcCkpO31zZXREcmFnZ2FibGUoZSl7dGhpcy5fZHJhZ2dhYmxlPSEhZTtjb25zdCB0PXRoaXMuX21hcDtyZXR1cm4gdCYmKGU/KHQub24oXCJtb3VzZWRvd25cIix0aGlzLl9hZGREcmFnSGFuZGxlciksdC5vbihcInRvdWNoc3RhcnRcIix0aGlzLl9hZGREcmFnSGFuZGxlcikpOih0Lm9mZihcIm1vdXNlZG93blwiLHRoaXMuX2FkZERyYWdIYW5kbGVyKSx0Lm9mZihcInRvdWNoc3RhcnRcIix0aGlzLl9hZGREcmFnSGFuZGxlcikpKSx0aGlzfWlzRHJhZ2dhYmxlKCl7cmV0dXJuIHRoaXMuX2RyYWdnYWJsZX1zZXRSb3RhdGlvbihlKXtyZXR1cm4gdGhpcy5fcm90YXRpb249ZXx8MCx0aGlzLl91cGRhdGUoKSx0aGlzfWdldFJvdGF0aW9uKCl7cmV0dXJuIHRoaXMuX3JvdGF0aW9ufXNldFJvdGF0aW9uQWxpZ25tZW50KGUpe3JldHVybiB0aGlzLl9yb3RhdGlvbkFsaWdubWVudD1lfHxcImF1dG9cIix0aGlzLl91cGRhdGUoKSx0aGlzfWdldFJvdGF0aW9uQWxpZ25tZW50KCl7cmV0dXJuIFwiYXV0b1wiPT09dGhpcy5fcm90YXRpb25BbGlnbm1lbnR8fFwiaG9yaXpvblwiPT09dGhpcy5fcm90YXRpb25BbGlnbm1lbnQmJnRoaXMuX21hcCYmIXRoaXMuX21hcC5fc2hvd2luZ0dsb2JlKCk/XCJ2aWV3cG9ydFwiOnRoaXMuX3JvdGF0aW9uQWxpZ25tZW50fXNldFBpdGNoQWxpZ25tZW50KGUpe3JldHVybiB0aGlzLl9waXRjaEFsaWdubWVudD1lfHxcImF1dG9cIix0aGlzLl91cGRhdGUoKSx0aGlzfWdldFBpdGNoQWxpZ25tZW50KCl7cmV0dXJuIFwiYXV0b1wiPT09dGhpcy5fcGl0Y2hBbGlnbm1lbnQ/dGhpcy5nZXRSb3RhdGlvbkFsaWdubWVudCgpOnRoaXMuX3BpdGNoQWxpZ25tZW50fXNldE9jY2x1ZGVkT3BhY2l0eShlKXtyZXR1cm4gdGhpcy5fb2NjbHVkZWRPcGFjaXR5PWV8fC4yLHRoaXMuX3VwZGF0ZSgpLHRoaXN9Z2V0T2NjbHVkZWRPcGFjaXR5KCl7cmV0dXJuIHRoaXMuX29jY2x1ZGVkT3BhY2l0eX19Y29uc3QgbEk9e2Nsb3NlQnV0dG9uOiEwLGNsb3NlT25DbGljazohMCxmb2N1c0FmdGVyT3BlbjohMCxjbGFzc05hbWU6XCJcIixtYXhXaWR0aDpcIjI0MHB4XCJ9LGNJPVtcImFbaHJlZl1cIixcIlt0YWJpbmRleF06bm90KFt0YWJpbmRleD0nLTEnXSlcIixcIltjb250ZW50ZWRpdGFibGVdOm5vdChbY29udGVudGVkaXRhYmxlPSdmYWxzZSddKVwiLFwiYnV0dG9uOm5vdChbZGlzYWJsZWRdKVwiLFwiaW5wdXQ6bm90KFtkaXNhYmxlZF0pXCIsXCJzZWxlY3Q6bm90KFtkaXNhYmxlZF0pXCIsXCJ0ZXh0YXJlYTpub3QoW2Rpc2FibGVkXSlcIl0uam9pbihcIiwgXCIpO2Z1bmN0aW9uIGhJKGU9bmV3IHkoMCwwKSx0PVwiYm90dG9tXCIpe2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlKXtjb25zdCBpPU1hdGgucm91bmQoTWF0aC5zcXJ0KC41Kk1hdGgucG93KGUsMikpKTtzd2l0Y2godCl7Y2FzZVwidG9wXCI6cmV0dXJuIG5ldyB5KDAsZSk7Y2FzZVwidG9wLWxlZnRcIjpyZXR1cm4gbmV3IHkoaSxpKTtjYXNlXCJ0b3AtcmlnaHRcIjpyZXR1cm4gbmV3IHkoLWksaSk7Y2FzZVwiYm90dG9tXCI6cmV0dXJuIG5ldyB5KDAsLWUpO2Nhc2VcImJvdHRvbS1sZWZ0XCI6cmV0dXJuIG5ldyB5KGksLWkpO2Nhc2VcImJvdHRvbS1yaWdodFwiOnJldHVybiBuZXcgeSgtaSwtaSk7Y2FzZVwibGVmdFwiOnJldHVybiBuZXcgeShlLDApO2Nhc2VcInJpZ2h0XCI6cmV0dXJuIG5ldyB5KC1lLDApfXJldHVybiBuZXcgeSgwLDApfXJldHVybiBlIGluc3RhbmNlb2YgeXx8QXJyYXkuaXNBcnJheShlKT95LmNvbnZlcnQoZSk6eS5jb252ZXJ0KGVbdF18fFswLDBdKX1jbGFzcyB1SXtjb25zdHJ1Y3RvcihlKXt0aGlzLmp1bXBUbyhlKTt9Z2V0VmFsdWUoZSl7aWYoZTw9dGhpcy5fc3RhcnRUaW1lKXJldHVybiB0aGlzLl9zdGFydDtpZihlPj10aGlzLl9lbmRUaW1lKXJldHVybiB0aGlzLl9lbmQ7Y29uc3QgdD1NKChlLXRoaXMuX3N0YXJ0VGltZSkvKHRoaXMuX2VuZFRpbWUtdGhpcy5fc3RhcnRUaW1lKSk7cmV0dXJuIHRoaXMuX3N0YXJ0KigxLXQpK3RoaXMuX2VuZCp0fWlzRWFzaW5nKGUpe3JldHVybiBlPj10aGlzLl9zdGFydFRpbWUmJmU8PXRoaXMuX2VuZFRpbWV9anVtcFRvKGUpe3RoaXMuX3N0YXJ0VGltZT0tMS8wLHRoaXMuX2VuZFRpbWU9LTEvMCx0aGlzLl9zdGFydD1lLHRoaXMuX2VuZD1lO31lYXNlVG8oZSx0LGkpe3RoaXMuX3N0YXJ0PXRoaXMuZ2V0VmFsdWUodCksdGhpcy5fZW5kPWUsdGhpcy5fc3RhcnRUaW1lPXQsdGhpcy5fZW5kVGltZT10K2k7fX1jb25zdCBkST17XCJBdHRyaWJ1dGlvbkNvbnRyb2wuVG9nZ2xlQXR0cmlidXRpb25cIjpcIlRvZ2dsZSBhdHRyaWJ1dGlvblwiLFwiQXR0cmlidXRpb25Db250cm9sLk1hcEZlZWRiYWNrXCI6XCJNYXAgZmVlZGJhY2tcIixcIkZ1bGxzY3JlZW5Db250cm9sLkVudGVyXCI6XCJFbnRlciBmdWxsc2NyZWVuXCIsXCJGdWxsc2NyZWVuQ29udHJvbC5FeGl0XCI6XCJFeGl0IGZ1bGxzY3JlZW5cIixcIkdlb2xvY2F0ZUNvbnRyb2wuRmluZE15TG9jYXRpb25cIjpcIkZpbmQgbXkgbG9jYXRpb25cIixcIkdlb2xvY2F0ZUNvbnRyb2wuTG9jYXRpb25Ob3RBdmFpbGFibGVcIjpcIkxvY2F0aW9uIG5vdCBhdmFpbGFibGVcIixcIkxvZ29Db250cm9sLlRpdGxlXCI6XCJNYXBib3ggbG9nb1wiLFwiTWFwLlRpdGxlXCI6XCJNYXBcIixcIk5hdmlnYXRpb25Db250cm9sLlJlc2V0QmVhcmluZ1wiOlwiUmVzZXQgYmVhcmluZyB0byBub3J0aFwiLFwiTmF2aWdhdGlvbkNvbnRyb2wuWm9vbUluXCI6XCJab29tIGluXCIsXCJOYXZpZ2F0aW9uQ29udHJvbC5ab29tT3V0XCI6XCJab29tIG91dFwiLFwiU2Nyb2xsWm9vbUJsb2NrZXIuQ3RybE1lc3NhZ2VcIjpcIlVzZSBjdHJsICsgc2Nyb2xsIHRvIHpvb20gdGhlIG1hcFwiLFwiU2Nyb2xsWm9vbUJsb2NrZXIuQ21kTWVzc2FnZVwiOlwiVXNlIOKMmCArIHNjcm9sbCB0byB6b29tIHRoZSBtYXBcIixcIlRvdWNoUGFuQmxvY2tlci5NZXNzYWdlXCI6XCJVc2UgdHdvIGZpbmdlcnMgdG8gbW92ZSB0aGUgbWFwXCJ9LHBJPXtjZW50ZXI6WzAsMF0sem9vbTowLGJlYXJpbmc6MCxwaXRjaDowLG1pblpvb206LTIsbWF4Wm9vbToyMixtaW5QaXRjaDowLG1heFBpdGNoOjg1LGludGVyYWN0aXZlOiEwLHNjcm9sbFpvb206ITAsYm94Wm9vbTohMCxkcmFnUm90YXRlOiEwLGRyYWdQYW46ITAsa2V5Ym9hcmQ6ITAsZG91YmxlQ2xpY2tab29tOiEwLHRvdWNoWm9vbVJvdGF0ZTohMCx0b3VjaFBpdGNoOiEwLGNvb3BlcmF0aXZlR2VzdHVyZXM6ITEscGVyZm9ybWFuY2VNZXRyaWNzQ29sbGVjdGlvbjohMCxiZWFyaW5nU25hcDo3LGNsaWNrVG9sZXJhbmNlOjMscGl0Y2hXaXRoUm90YXRlOiEwLGhhc2g6ITEsYXR0cmlidXRpb25Db250cm9sOiEwLGFudGlhbGlhczohMSxmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiExLHByZXNlcnZlRHJhd2luZ0J1ZmZlcjohMSx0cmFja1Jlc2l6ZTohMCxyZW5kZXJXb3JsZENvcGllczohMCxyZWZyZXNoRXhwaXJlZFRpbGVzOiEwLG1pblRpbGVDYWNoZVNpemU6bnVsbCxtYXhUaWxlQ2FjaGVTaXplOm51bGwsbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5Olwic2Fucy1zZXJpZlwiLGxvY2FsRm9udEZhbWlseTpudWxsLHRyYW5zZm9ybVJlcXVlc3Q6bnVsbCxhY2Nlc3NUb2tlbjpudWxsLGZhZGVEdXJhdGlvbjozMDAscmVzcGVjdFByZWZlcnNSZWR1Y2VkTW90aW9uOiEwLGNyb3NzU291cmNlQ29sbGlzaW9uczohMCxjb2xsZWN0UmVzb3VyY2VUaW1pbmc6ITEsdGVzdE1vZGU6ITF9LGZJPXtzaG93Q29tcGFzczohMCxzaG93Wm9vbTohMCx2aXN1YWxpemVQaXRjaDohMX07Y2xhc3MgbUl7Y29uc3RydWN0b3IoZSx0LGk9ITEpe3RoaXMuX2NsaWNrVG9sZXJhbmNlPTEwLHRoaXMuZWxlbWVudD10LHRoaXMubW91c2VSb3RhdGU9bmV3IFNTKHtjbGlja1RvbGVyYW5jZTplLmRyYWdSb3RhdGUuX21vdXNlUm90YXRlLl9jbGlja1RvbGVyYW5jZX0pLHRoaXMubWFwPWUsaSYmKHRoaXMubW91c2VQaXRjaD1uZXcgSVMoe2NsaWNrVG9sZXJhbmNlOmUuZHJhZ1JvdGF0ZS5fbW91c2VQaXRjaC5fY2xpY2tUb2xlcmFuY2V9KSksaihbXCJtb3VzZWRvd25cIixcIm1vdXNlbW92ZVwiLFwibW91c2V1cFwiLFwidG91Y2hzdGFydFwiLFwidG91Y2htb3ZlXCIsXCJ0b3VjaGVuZFwiLFwicmVzZXRcIl0sdGhpcyksdC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsdGhpcy5tb3VzZWRvd24pLHQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0aGlzLnRvdWNoc3RhcnQse3Bhc3NpdmU6ITF9KSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIix0aGlzLnRvdWNobW92ZSksdC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIix0aGlzLnRvdWNoZW5kKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGNhbmNlbFwiLHRoaXMucmVzZXQpO31kb3duKGUsdCl7dGhpcy5tb3VzZVJvdGF0ZS5tb3VzZWRvd24oZSx0KSx0aGlzLm1vdXNlUGl0Y2gmJnRoaXMubW91c2VQaXRjaC5tb3VzZWRvd24oZSx0KSx5dCgpO31tb3ZlKGUsdCl7Y29uc3QgaT10aGlzLm1hcCxyPXRoaXMubW91c2VSb3RhdGUubW91c2Vtb3ZlV2luZG93KGUsdCksbj1yJiZyLmJlYXJpbmdEZWx0YTtpZihuJiZpLnNldEJlYXJpbmcoaS5nZXRCZWFyaW5nKCkrbiksdGhpcy5tb3VzZVBpdGNoKXtjb25zdCByPXRoaXMubW91c2VQaXRjaC5tb3VzZW1vdmVXaW5kb3coZSx0KSxuPXImJnIucGl0Y2hEZWx0YTtuJiZpLnNldFBpdGNoKGkuZ2V0UGl0Y2goKStuKTt9fW9mZigpe2NvbnN0IGU9dGhpcy5lbGVtZW50O2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMubW91c2Vkb3duKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdGhpcy50b3VjaHN0YXJ0LHtwYXNzaXZlOiExfSksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsdGhpcy50b3VjaG1vdmUpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy50b3VjaGVuZCksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hjYW5jZWxcIix0aGlzLnJlc2V0KSx0aGlzLm9mZlRlbXAoKTt9b2ZmVGVtcCgpe3h0KCksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsdGhpcy5tb3VzZW1vdmUpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLm1vdXNldXApO31tb3VzZWRvd24oZSl7dGhpcy5kb3duKGsoe30sZSx7Y3RybEtleTohMCxwcmV2ZW50RGVmYXVsdDooKT0+ZS5wcmV2ZW50RGVmYXVsdCgpfSksd3QodGhpcy5lbGVtZW50LGUpKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLm1vdXNlbW92ZSksdC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMubW91c2V1cCk7fW1vdXNlbW92ZShlKXt0aGlzLm1vdmUoZSx3dCh0aGlzLmVsZW1lbnQsZSkpO31tb3VzZXVwKGUpe3RoaXMubW91c2VSb3RhdGUubW91c2V1cFdpbmRvdyhlKSx0aGlzLm1vdXNlUGl0Y2gmJnRoaXMubW91c2VQaXRjaC5tb3VzZXVwV2luZG93KGUpLHRoaXMub2ZmVGVtcCgpO310b3VjaHN0YXJ0KGUpezEhPT1lLnRhcmdldFRvdWNoZXMubGVuZ3RoP3RoaXMucmVzZXQoKToodGhpcy5fc3RhcnRQb3M9dGhpcy5fbGFzdFBvcz1UdCh0aGlzLmVsZW1lbnQsZS50YXJnZXRUb3VjaGVzKVswXSx0aGlzLmRvd24oe3R5cGU6XCJtb3VzZWRvd25cIixidXR0b246MCxjdHJsS2V5OiEwLHByZXZlbnREZWZhdWx0OigpPT5lLnByZXZlbnREZWZhdWx0KCl9LHRoaXMuX3N0YXJ0UG9zKSk7fXRvdWNobW92ZShlKXsxIT09ZS50YXJnZXRUb3VjaGVzLmxlbmd0aD90aGlzLnJlc2V0KCk6KHRoaXMuX2xhc3RQb3M9VHQodGhpcy5lbGVtZW50LGUudGFyZ2V0VG91Y2hlcylbMF0sdGhpcy5tb3ZlKHtwcmV2ZW50RGVmYXVsdDooKT0+ZS5wcmV2ZW50RGVmYXVsdCgpfSx0aGlzLl9sYXN0UG9zKSk7fXRvdWNoZW5kKGUpezA9PT1lLnRhcmdldFRvdWNoZXMubGVuZ3RoJiZ0aGlzLl9zdGFydFBvcyYmdGhpcy5fbGFzdFBvcyYmdGhpcy5fc3RhcnRQb3MuZGlzdCh0aGlzLl9sYXN0UG9zKTx0aGlzLl9jbGlja1RvbGVyYW5jZSYmdGhpcy5lbGVtZW50LmNsaWNrKCksdGhpcy5yZXNldCgpO31yZXNldCgpe3RoaXMubW91c2VSb3RhdGUucmVzZXQoKSx0aGlzLm1vdXNlUGl0Y2gmJnRoaXMubW91c2VQaXRjaC5yZXNldCgpLGRlbGV0ZSB0aGlzLl9zdGFydFBvcyxkZWxldGUgdGhpcy5fbGFzdFBvcyx0aGlzLm9mZlRlbXAoKTt9fWNvbnN0IF9JPXtwb3NpdGlvbk9wdGlvbnM6e2VuYWJsZUhpZ2hBY2N1cmFjeTohMSxtYXhpbXVtQWdlOjAsdGltZW91dDo2ZTN9LGZpdEJvdW5kc09wdGlvbnM6e21heFpvb206MTV9LHRyYWNrVXNlckxvY2F0aW9uOiExLHNob3dBY2N1cmFjeUNpcmNsZTohMCxzaG93VXNlckxvY2F0aW9uOiEwLHNob3dVc2VySGVhZGluZzohMX0sZ0k9e21heFdpZHRoOjEwMCx1bml0OlwibWV0cmljXCJ9LHlJPXtraWxvbWV0ZXI6XCJrbVwiLG1ldGVyOlwibVwiLG1pbGU6XCJtaVwiLGZvb3Q6XCJmdFwiLFwibmF1dGljYWwtbWlsZVwiOlwibm1cIn0seEk9e3ZlcnNpb246aSxzdXBwb3J0ZWQ6cnQsc2V0UlRMVGV4dFBsdWdpbjpmdW5jdGlvbihlLHQsaT0hMSl7aWYoS3M9PT1Xc3x8S3M9PT1Ic3x8S3M9PT1Ycyl0aHJvdyBuZXcgRXJyb3IoXCJzZXRSVExUZXh0UGx1Z2luIGNhbm5vdCBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMuXCIpO0pzPWR0LnJlc29sdmVVUkwoZSksS3M9V3MsWXM9dCxlYSgpLGl8fHJhKCk7fSxnZXRSVExUZXh0UGx1Z2luU3RhdHVzOmlhLE1hcDpjbGFzcyBleHRlbmRzIHRJe2NvbnN0cnVjdG9yKGUpe1FlLm1hcmsoSmUuY3JlYXRlKTtjb25zdCBpPWU7aWYobnVsbCE9KGU9ayh7fSxwSSxlKSkubWluWm9vbSYmbnVsbCE9ZS5tYXhab29tJiZlLm1pblpvb20+ZS5tYXhab29tKXRocm93IG5ldyBFcnJvcihcIm1heFpvb20gbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gbWluWm9vbVwiKTtpZihudWxsIT1lLm1pblBpdGNoJiZudWxsIT1lLm1heFBpdGNoJiZlLm1pblBpdGNoPmUubWF4UGl0Y2gpdGhyb3cgbmV3IEVycm9yKFwibWF4UGl0Y2ggbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gbWluUGl0Y2hcIik7aWYobnVsbCE9ZS5taW5QaXRjaCYmZS5taW5QaXRjaDwwKXRocm93IG5ldyBFcnJvcihcIm1pblBpdGNoIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDBcIik7aWYobnVsbCE9ZS5tYXhQaXRjaCYmZS5tYXhQaXRjaD44NSl0aHJvdyBuZXcgRXJyb3IoXCJtYXhQaXRjaCBtdXN0IGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byA4NVwiKTtpZihlLmFudGlhbGlhcyYmZnVuY3Rpb24oZSl7Y29uc3QgdD1lLm5hdmlnYXRvcj9lLm5hdmlnYXRvci51c2VyQWdlbnQ6bnVsbDtyZXR1cm4gISFmdW5jdGlvbihlKXtpZihudWxsPT10ZSl7Y29uc3QgdD1lLm5hdmlnYXRvcj9lLm5hdmlnYXRvci51c2VyQWdlbnQ6bnVsbDt0ZT0hIWUuc2FmYXJpfHwhKCF0fHwhKC9cXGIoaVBhZHxpUGhvbmV8aVBvZClcXGIvLnRlc3QodCl8fHQubWF0Y2goXCJTYWZhcmlcIikmJiF0Lm1hdGNoKFwiQ2hyb21lXCIpKSk7fXJldHVybiB0ZX0oZSkmJnQmJih0Lm1hdGNoKFwiVmVyc2lvbi8xNS40XCIpfHx0Lm1hdGNoKFwiVmVyc2lvbi8xNS41XCIpfHx0Lm1hdGNoKC9DUFUgKE9TfGlQaG9uZSBPUykgKDE1XzR8MTVfNSkgbGlrZSBNYWMgT1MgWC8pKX0odCkmJihlLmFudGlhbGlhcz0hMSxIKFwiQW50aWFsaWFzaW5nIGlzIGRpc2FibGVkIGZvciB0aGlzIFdlYkdMIGNvbnRleHQgdG8gYXZvaWQgYnJvd3NlciBidWc6IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2lzc3Vlcy8xMTYwOVwiKSksc3VwZXIobmV3IFR2KGUubWluWm9vbSxlLm1heFpvb20sZS5taW5QaXRjaCxlLm1heFBpdGNoLGUucmVuZGVyV29ybGRDb3BpZXMpLGUpLHRoaXMuX2ludGVyYWN0aXZlPWUuaW50ZXJhY3RpdmUsdGhpcy5fbWluVGlsZUNhY2hlU2l6ZT1lLm1pblRpbGVDYWNoZVNpemUsdGhpcy5fbWF4VGlsZUNhY2hlU2l6ZT1lLm1heFRpbGVDYWNoZVNpemUsdGhpcy5fZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD1lLmZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQsdGhpcy5fcHJlc2VydmVEcmF3aW5nQnVmZmVyPWUucHJlc2VydmVEcmF3aW5nQnVmZmVyLHRoaXMuX2FudGlhbGlhcz1lLmFudGlhbGlhcyx0aGlzLl90cmFja1Jlc2l6ZT1lLnRyYWNrUmVzaXplLHRoaXMuX2JlYXJpbmdTbmFwPWUuYmVhcmluZ1NuYXAsdGhpcy5fcmVmcmVzaEV4cGlyZWRUaWxlcz1lLnJlZnJlc2hFeHBpcmVkVGlsZXMsdGhpcy5fZmFkZUR1cmF0aW9uPWUuZmFkZUR1cmF0aW9uLHRoaXMuX2lzSW5pdGlhbExvYWQ9ITAsdGhpcy5fY3Jvc3NTb3VyY2VDb2xsaXNpb25zPWUuY3Jvc3NTb3VyY2VDb2xsaXNpb25zLHRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZz1lLmNvbGxlY3RSZXNvdXJjZVRpbWluZyx0aGlzLl9sYW5ndWFnZT10aGlzLl9wYXJzZUxhbmd1YWdlKGUubGFuZ3VhZ2UpLHRoaXMuX3dvcmxkdmlldz1lLndvcmxkdmlldyx0aGlzLl9yZW5kZXJUYXNrUXVldWU9bmV3IG5JLHRoaXMuX2RvbVJlbmRlclRhc2tRdWV1ZT1uZXcgbkksdGhpcy5fY29udHJvbHM9W10sdGhpcy5fbWFya2Vycz1bXSx0aGlzLl9wb3B1cHM9W10sdGhpcy5fbWFwSWQ9RigpLHRoaXMuX2xvY2FsZT1rKHt9LGRJLGUubG9jYWxlKSx0aGlzLl9jbGlja1RvbGVyYW5jZT1lLmNsaWNrVG9sZXJhbmNlLHRoaXMuX2Nvb3BlcmF0aXZlR2VzdHVyZXM9ZS5jb29wZXJhdGl2ZUdlc3R1cmVzLHRoaXMuX3BlcmZvcm1hbmNlTWV0cmljc0NvbGxlY3Rpb249ZS5wZXJmb3JtYW5jZU1ldHJpY3NDb2xsZWN0aW9uLHRoaXMuX2NvbnRhaW5lcldpZHRoPTAsdGhpcy5fY29udGFpbmVySGVpZ2h0PTAsdGhpcy5fYXZlcmFnZUVsZXZhdGlvbkxhc3RTYW1wbGVkQXQ9LTEvMCx0aGlzLl9hdmVyYWdlRWxldmF0aW9uRXhhZ2dlcmF0aW9uPTAsdGhpcy5fYXZlcmFnZUVsZXZhdGlvbj1uZXcgdUkoMCksdGhpcy5faW50ZXJhY3Rpb25SYW5nZT1bMS8wLC0xLzBdLHRoaXMuX3Zpc2liaWxpdHlIaWRkZW49MCx0aGlzLl91c2VFeHBsaWNpdFByb2plY3Rpb249ITEsdGhpcy5fcmVxdWVzdE1hbmFnZXI9bmV3IHplKGUudHJhbnNmb3JtUmVxdWVzdCxlLmFjY2Vzc1Rva2VuLGUudGVzdE1vZGUpLHRoaXMuX3NpbGVuY2VBdXRoRXJyb3JzPSEhZS50ZXN0TW9kZSx0aGlzLl9jb250ZXh0Q3JlYXRlT3B0aW9ucz1lLmNvbnRleHRDcmVhdGVPcHRpb25zP3suLi5lLmNvbnRleHRDcmVhdGVPcHRpb25zfTp7fSxcInN0cmluZ1wiPT10eXBlb2YgZS5jb250YWluZXIpe2lmKHRoaXMuX2NvbnRhaW5lcj10LmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUuY29udGFpbmVyKSwhdGhpcy5fY29udGFpbmVyKXRocm93IG5ldyBFcnJvcihgQ29udGFpbmVyICcke2UuY29udGFpbmVyLnRvU3RyaW5nKCl9JyBub3QgZm91bmQuYCl9ZWxzZSB7aWYoIShlLmNvbnRhaW5lciBpbnN0YW5jZW9mIHQuSFRNTEVsZW1lbnQpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdHlwZTogJ2NvbnRhaW5lcicgbXVzdCBiZSBhIFN0cmluZyBvciBIVE1MRWxlbWVudC5cIik7dGhpcy5fY29udGFpbmVyPWUuY29udGFpbmVyO31pZih0aGlzLl9jb250YWluZXIuY2hpbGROb2Rlcy5sZW5ndGg+MCYmSChcIlRoZSBtYXAgY29udGFpbmVyIGVsZW1lbnQgc2hvdWxkIGJlIGVtcHR5LCBvdGhlcndpc2UgdGhlIG1hcCdzIGludGVyYWN0aXZpdHkgd2lsbCBiZSBuZWdhdGl2ZWx5IGltcGFjdGVkLiBJZiB5b3Ugd2FudCB0byBkaXNwbGF5IGEgbWVzc2FnZSB3aGVuIFdlYkdMIGlzIG5vdCBzdXBwb3J0ZWQsIHVzZSB0aGUgTWFwYm94IEdMIFN1cHBvcnRlZCBwbHVnaW4gaW5zdGVhZC5cIiksZS5tYXhCb3VuZHMmJnRoaXMuc2V0TWF4Qm91bmRzKGUubWF4Qm91bmRzKSxqKFtcIl9vbldpbmRvd09ubGluZVwiLFwiX29uV2luZG93UmVzaXplXCIsXCJfb25WaXNpYmlsaXR5Q2hhbmdlXCIsXCJfb25NYXBTY3JvbGxcIixcIl9jb250ZXh0TG9zdFwiLFwiX2NvbnRleHRSZXN0b3JlZFwiXSx0aGlzKSx0aGlzLl9zZXR1cENvbnRhaW5lcigpLHRoaXMuX3NldHVwUGFpbnRlcigpLHZvaWQgMD09PXRoaXMucGFpbnRlcil0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBXZWJHTC5cIik7aWYodGhpcy5vbihcIm1vdmVcIiwoKCk9PnRoaXMuX3VwZGF0ZSghMSkpKSx0aGlzLm9uKFwibW92ZWVuZFwiLCgoKT0+dGhpcy5fdXBkYXRlKCExKSkpLHRoaXMub24oXCJ6b29tXCIsKCgpPT50aGlzLl91cGRhdGUoITApKSksdm9pZCAwIT09dCYmKHRoaXMuX2Z1bGxzY3JlZW5jaGFuZ2VFdmVudD1cIm9uZnVsbHNjcmVlbmNoYW5nZVwiaW4gdC5kb2N1bWVudD9cImZ1bGxzY3JlZW5jaGFuZ2VcIjpcIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2VcIix0LmFkZEV2ZW50TGlzdGVuZXIoXCJvbmxpbmVcIix0aGlzLl9vbldpbmRvd09ubGluZSwhMSksdC5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsdGhpcy5fb25XaW5kb3dSZXNpemUsITEpLHQuYWRkRXZlbnRMaXN0ZW5lcihcIm9yaWVudGF0aW9uY2hhbmdlXCIsdGhpcy5fb25XaW5kb3dSZXNpemUsITEpLHQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl9mdWxsc2NyZWVuY2hhbmdlRXZlbnQsdGhpcy5fb25XaW5kb3dSZXNpemUsITEpLHQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIix0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2UsITEpKSx0aGlzLmhhbmRsZXJzPW5ldyBRUyh0aGlzLGUpLHRoaXMuX2xvY2FsRm9udEZhbWlseT1lLmxvY2FsRm9udEZhbWlseSx0aGlzLl9sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk9ZS5sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHksKGUuc3R5bGV8fCFlLnRlc3RNb2RlKSYmdGhpcy5zZXRTdHlsZShlLnN0eWxlfHxuLkRFRkFVTFRfU1RZTEUse2xvY2FsRm9udEZhbWlseTp0aGlzLl9sb2NhbEZvbnRGYW1pbHksbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5OnRoaXMuX2xvY2FsSWRlb2dyYXBoRm9udEZhbWlseX0pLGUucHJvamVjdGlvbiYmdGhpcy5zZXRQcm9qZWN0aW9uKGUucHJvamVjdGlvbiksZS5oYXNoJiYodGhpcy5faGFzaD1uZXcgblMoXCJzdHJpbmdcIj09dHlwZW9mIGUuaGFzaCYmZS5oYXNofHx2b2lkIDApLmFkZFRvKHRoaXMpKSwhdGhpcy5faGFzaHx8IXRoaXMuX2hhc2guX29uSGFzaENoYW5nZSgpKXtudWxsPT1pLmNlbnRlciYmbnVsbD09aS56b29tfHwodGhpcy50cmFuc2Zvcm0uX3VubW9kaWZpZWQ9ITEpLHRoaXMuanVtcFRvKHtjZW50ZXI6ZS5jZW50ZXIsem9vbTplLnpvb20sYmVhcmluZzplLmJlYXJpbmcscGl0Y2g6ZS5waXRjaH0pO2NvbnN0IHQ9ZS5ib3VuZHM7dCYmKHRoaXMucmVzaXplKCksdGhpcy5maXRCb3VuZHModCxrKHt9LGUuZml0Qm91bmRzT3B0aW9ucyx7ZHVyYXRpb246MH0pKSk7fXRoaXMucmVzaXplKCksZS5hdHRyaWJ1dGlvbkNvbnRyb2wmJnRoaXMuYWRkQ29udHJvbChuZXcgaUkoe2N1c3RvbUF0dHJpYnV0aW9uOmUuY3VzdG9tQXR0cmlidXRpb259KSksdGhpcy5fbG9nb0NvbnRyb2w9bmV3IHJJLHRoaXMuYWRkQ29udHJvbCh0aGlzLl9sb2dvQ29udHJvbCxlLmxvZ29Qb3NpdGlvbiksdGhpcy5vbihcInN0eWxlLmxvYWRcIiwoKCk9Pnt0aGlzLnRyYW5zZm9ybS51bm1vZGlmaWVkJiZ0aGlzLmp1bXBUbyh0aGlzLnN0eWxlLnN0eWxlc2hlZXQpO30pKSx0aGlzLm9uKFwiZGF0YVwiLChlPT57dGhpcy5fdXBkYXRlKFwic3R5bGVcIj09PWUuZGF0YVR5cGUpLHRoaXMuZmlyZShuZXcgSXQoYCR7ZS5kYXRhVHlwZX1kYXRhYCxlKSk7fSkpLHRoaXMub24oXCJkYXRhbG9hZGluZ1wiLChlPT57dGhpcy5maXJlKG5ldyBJdChgJHtlLmRhdGFUeXBlfWRhdGFsb2FkaW5nYCxlKSk7fSkpO31fZ2V0TWFwSWQoKXtyZXR1cm4gdGhpcy5fbWFwSWR9YWRkQ29udHJvbChlLHQpe2lmKHZvaWQgMD09PXQmJih0PWUuZ2V0RGVmYXVsdFBvc2l0aW9uP2UuZ2V0RGVmYXVsdFBvc2l0aW9uKCk6XCJ0b3AtcmlnaHRcIiksIWV8fCFlLm9uQWRkKXJldHVybiB0aGlzLmZpcmUobmV3IEN0KG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQgdG8gbWFwLmFkZENvbnRyb2woKS4gQXJndW1lbnQgbXVzdCBiZSBhIGNvbnRyb2wgd2l0aCBvbkFkZCBhbmQgb25SZW1vdmUgbWV0aG9kcy5cIikpKTtjb25zdCBpPWUub25BZGQodGhpcyk7dGhpcy5fY29udHJvbHMucHVzaChlKTtjb25zdCByPXRoaXMuX2NvbnRyb2xQb3NpdGlvbnNbdF07cmV0dXJuIC0xIT09dC5pbmRleE9mKFwiYm90dG9tXCIpP3IuaW5zZXJ0QmVmb3JlKGksci5maXJzdENoaWxkKTpyLmFwcGVuZENoaWxkKGkpLHRoaXN9cmVtb3ZlQ29udHJvbChlKXtpZighZXx8IWUub25SZW1vdmUpcmV0dXJuIHRoaXMuZmlyZShuZXcgQ3QobmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudCB0byBtYXAucmVtb3ZlQ29udHJvbCgpLiBBcmd1bWVudCBtdXN0IGJlIGEgY29udHJvbCB3aXRoIG9uQWRkIGFuZCBvblJlbW92ZSBtZXRob2RzLlwiKSkpO2NvbnN0IHQ9dGhpcy5fY29udHJvbHMuaW5kZXhPZihlKTtyZXR1cm4gdD4tMSYmdGhpcy5fY29udHJvbHMuc3BsaWNlKHQsMSksZS5vblJlbW92ZSh0aGlzKSx0aGlzfWhhc0NvbnRyb2woZSl7cmV0dXJuIHRoaXMuX2NvbnRyb2xzLmluZGV4T2YoZSk+LTF9Z2V0Q29udGFpbmVyKCl7cmV0dXJuIHRoaXMuX2NvbnRhaW5lcn1nZXRDYW52YXNDb250YWluZXIoKXtyZXR1cm4gdGhpcy5fY2FudmFzQ29udGFpbmVyfWdldENhbnZhcygpe3JldHVybiB0aGlzLl9jYW52YXN9cmVzaXplKGUpe2lmKHRoaXMuX3VwZGF0ZUNvbnRhaW5lckRpbWVuc2lvbnMoKSx0aGlzLl9jb250YWluZXJXaWR0aD09PXRoaXMudHJhbnNmb3JtLndpZHRoJiZ0aGlzLl9jb250YWluZXJIZWlnaHQ9PT10aGlzLnRyYW5zZm9ybS5oZWlnaHQpcmV0dXJuIHRoaXM7dGhpcy5fcmVzaXplQ2FudmFzKHRoaXMuX2NvbnRhaW5lcldpZHRoLHRoaXMuX2NvbnRhaW5lckhlaWdodCksdGhpcy50cmFuc2Zvcm0ucmVzaXplKHRoaXMuX2NvbnRhaW5lcldpZHRoLHRoaXMuX2NvbnRhaW5lckhlaWdodCksdGhpcy5wYWludGVyLnJlc2l6ZShNYXRoLmNlaWwodGhpcy5fY29udGFpbmVyV2lkdGgpLE1hdGguY2VpbCh0aGlzLl9jb250YWluZXJIZWlnaHQpKTtjb25zdCB0PSF0aGlzLl9tb3Zpbmc7cmV0dXJuIHQmJnRoaXMuZmlyZShuZXcgSXQoXCJtb3Zlc3RhcnRcIixlKSkuZmlyZShuZXcgSXQoXCJtb3ZlXCIsZSkpLHRoaXMuZmlyZShuZXcgSXQoXCJyZXNpemVcIixlKSksdCYmdGhpcy5maXJlKG5ldyBJdChcIm1vdmVlbmRcIixlKSksdGhpc31nZXRCb3VuZHMoKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uZ2V0Qm91bmRzKCl9Z2V0TWF4Qm91bmRzKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLmdldE1heEJvdW5kcygpfHxudWxsfXNldE1heEJvdW5kcyhlKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uc2V0TWF4Qm91bmRzKHNjLmNvbnZlcnQoZSkpLHRoaXMuX3VwZGF0ZSgpfXNldE1pblpvb20oZSl7aWYoKGU9bnVsbD09ZT8tMjplKT49LTImJmU8PXRoaXMudHJhbnNmb3JtLm1heFpvb20pcmV0dXJuIHRoaXMudHJhbnNmb3JtLm1pblpvb209ZSx0aGlzLl91cGRhdGUoKSx0aGlzLmdldFpvb20oKTxlP3RoaXMuc2V0Wm9vbShlKTp0aGlzLmZpcmUobmV3IEl0KFwiem9vbXN0YXJ0XCIpKS5maXJlKG5ldyBJdChcInpvb21cIikpLmZpcmUobmV3IEl0KFwiem9vbWVuZFwiKSksdGhpczt0aHJvdyBuZXcgRXJyb3IoXCJtaW5ab29tIG11c3QgYmUgYmV0d2VlbiAtMiBhbmQgdGhlIGN1cnJlbnQgbWF4Wm9vbSwgaW5jbHVzaXZlXCIpfWdldE1pblpvb20oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWluWm9vbX1zZXRNYXhab29tKGUpe2lmKChlPW51bGw9PWU/MjI6ZSk+PXRoaXMudHJhbnNmb3JtLm1pblpvb20pcmV0dXJuIHRoaXMudHJhbnNmb3JtLm1heFpvb209ZSx0aGlzLl91cGRhdGUoKSx0aGlzLmdldFpvb20oKT5lP3RoaXMuc2V0Wm9vbShlKTp0aGlzLmZpcmUobmV3IEl0KFwiem9vbXN0YXJ0XCIpKS5maXJlKG5ldyBJdChcInpvb21cIikpLmZpcmUobmV3IEl0KFwiem9vbWVuZFwiKSksdGhpczt0aHJvdyBuZXcgRXJyb3IoXCJtYXhab29tIG11c3QgYmUgZ3JlYXRlciB0aGFuIHRoZSBjdXJyZW50IG1pblpvb21cIil9Z2V0TWF4Wm9vbSgpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5tYXhab29tfXNldE1pblBpdGNoKGUpe2lmKChlPW51bGw9PWU/MDplKTwwKXRocm93IG5ldyBFcnJvcihcIm1pblBpdGNoIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDBcIik7aWYoZT49MCYmZTw9dGhpcy50cmFuc2Zvcm0ubWF4UGl0Y2gpcmV0dXJuIHRoaXMudHJhbnNmb3JtLm1pblBpdGNoPWUsdGhpcy5fdXBkYXRlKCksdGhpcy5nZXRQaXRjaCgpPGU/dGhpcy5zZXRQaXRjaChlKTp0aGlzLmZpcmUobmV3IEl0KFwicGl0Y2hzdGFydFwiKSkuZmlyZShuZXcgSXQoXCJwaXRjaFwiKSkuZmlyZShuZXcgSXQoXCJwaXRjaGVuZFwiKSksdGhpczt0aHJvdyBuZXcgRXJyb3IoXCJtaW5QaXRjaCBtdXN0IGJlIGJldHdlZW4gMCBhbmQgdGhlIGN1cnJlbnQgbWF4UGl0Y2gsIGluY2x1c2l2ZVwiKX1nZXRNaW5QaXRjaCgpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5taW5QaXRjaH1zZXRNYXhQaXRjaChlKXtpZigoZT1udWxsPT1lPzg1OmUpPjg1KXRocm93IG5ldyBFcnJvcihcIm1heFBpdGNoIG11c3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIDg1XCIpO2lmKGU+PXRoaXMudHJhbnNmb3JtLm1pblBpdGNoKXJldHVybiB0aGlzLnRyYW5zZm9ybS5tYXhQaXRjaD1lLHRoaXMuX3VwZGF0ZSgpLHRoaXMuZ2V0UGl0Y2goKT5lP3RoaXMuc2V0UGl0Y2goZSk6dGhpcy5maXJlKG5ldyBJdChcInBpdGNoc3RhcnRcIikpLmZpcmUobmV3IEl0KFwicGl0Y2hcIikpLmZpcmUobmV3IEl0KFwicGl0Y2hlbmRcIikpLHRoaXM7dGhyb3cgbmV3IEVycm9yKFwibWF4UGl0Y2ggbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gbWluUGl0Y2hcIil9Z2V0TWF4UGl0Y2goKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWF4UGl0Y2h9Z2V0UmVuZGVyV29ybGRDb3BpZXMoKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ucmVuZGVyV29ybGRDb3BpZXN9c2V0UmVuZGVyV29ybGRDb3BpZXMoZSl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLnJlbmRlcldvcmxkQ29waWVzPWUsdGhpcy50cmFuc2Zvcm0ucmVuZGVyV29ybGRDb3BpZXN8fHRoaXMuX2ZvcmNlTWFya2VyQW5kUG9wdXBVcGRhdGUoITApLHRoaXMuX3VwZGF0ZSgpfWdldExhbmd1YWdlKCl7cmV0dXJuIHRoaXMuX2xhbmd1YWdlfV9wYXJzZUxhbmd1YWdlKGUpe3JldHVybiBcImF1dG9cIj09PWU/dC5uYXZpZ2F0b3IubGFuZ3VhZ2U6QXJyYXkuaXNBcnJheShlKT8wPT09ZS5sZW5ndGg/dm9pZCAwOmUubWFwKChlPT5cImF1dG9cIj09PWU/dC5uYXZpZ2F0b3IubGFuZ3VhZ2U6ZSkpOmV9c2V0TGFuZ3VhZ2UoZSl7Y29uc3QgdD10aGlzLl9wYXJzZUxhbmd1YWdlKGUpO2lmKCF0aGlzLnN0eWxlfHx0PT09dGhpcy5fbGFuZ3VhZ2UpcmV0dXJuIHRoaXM7dGhpcy5fbGFuZ3VhZ2U9dCx0aGlzLnN0eWxlLnJlbG9hZFNvdXJjZXMoKTtmb3IoY29uc3QgZSBvZiB0aGlzLl9jb250cm9scyllLl9zZXRMYW5ndWFnZSYmZS5fc2V0TGFuZ3VhZ2UodGhpcy5fbGFuZ3VhZ2UpO3JldHVybiB0aGlzfWdldFdvcmxkdmlldygpe3JldHVybiB0aGlzLl93b3JsZHZpZXd9c2V0V29ybGR2aWV3KGUpe3JldHVybiB0aGlzLnN0eWxlJiZlIT09dGhpcy5fd29ybGR2aWV3Pyh0aGlzLl93b3JsZHZpZXc9ZSx0aGlzLnN0eWxlLnJlbG9hZFNvdXJjZXMoKSx0aGlzKTp0aGlzfWdldFByb2plY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWVyY2F0b3JGcm9tVHJhbnNpdGlvbj97bmFtZTpcImdsb2JlXCIsY2VudGVyOlswLDBdfTp0aGlzLnRyYW5zZm9ybS5nZXRQcm9qZWN0aW9uKCl9X3Nob3dpbmdHbG9iZSgpe3JldHVybiBcImdsb2JlXCI9PT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWV9c2V0UHJvamVjdGlvbihlKXtyZXR1cm4gdGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCksZT9cInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9e25hbWU6ZX0pOmU9bnVsbCx0aGlzLl91c2VFeHBsaWNpdFByb2plY3Rpb249ISFlLHRoaXMuX3ByaW9yaXRpemVBbmRVcGRhdGVQcm9qZWN0aW9uKGUsdGhpcy5zdHlsZS5wcm9qZWN0aW9uKX1fdXBkYXRlUHJvamVjdGlvblRyYW5zaXRpb24oKXtpZihcImdsb2JlXCIhPT10aGlzLmdldFByb2plY3Rpb24oKS5uYW1lKXJldHVybjtjb25zdCBlPXRoaXMudHJhbnNmb3JtLHQ9ZS5wcm9qZWN0aW9uLm5hbWU7bGV0IGk7XCJnbG9iZVwiPT09dCYmZS56b29tPj1pZD8oZS5zZXRNZXJjYXRvckZyb21UcmFuc2l0aW9uKCksaT0hMCk6XCJtZXJjYXRvclwiPT09dCYmZS56b29tPGlkJiYoZS5zZXRQcm9qZWN0aW9uKHtuYW1lOlwiZ2xvYmVcIn0pLGk9ITApLGkmJih0aGlzLnN0eWxlLmFwcGx5UHJvamVjdGlvblVwZGF0ZSgpLHRoaXMuc3R5bGUuX2ZvcmNlU3ltYm9sTGF5ZXJVcGRhdGUoKSk7fV9wcmlvcml0aXplQW5kVXBkYXRlUHJvamVjdGlvbihlLHQpe3JldHVybiB0aGlzLl91cGRhdGVQcm9qZWN0aW9uKGV8fHR8fHtuYW1lOlwibWVyY2F0b3JcIn0pfV91cGRhdGVQcm9qZWN0aW9uKGUpe2xldCB0O3JldHVybiB0PVwiZ2xvYmVcIj09PWUubmFtZSYmdGhpcy50cmFuc2Zvcm0uem9vbT49aWQ/dGhpcy50cmFuc2Zvcm0uc2V0TWVyY2F0b3JGcm9tVHJhbnNpdGlvbigpOnRoaXMudHJhbnNmb3JtLnNldFByb2plY3Rpb24oZSksdGhpcy5zdHlsZS5hcHBseVByb2plY3Rpb25VcGRhdGUoKSx0JiYodGhpcy5wYWludGVyLmNsZWFyQmFja2dyb3VuZFRpbGVzKCksdGhpcy5zdHlsZS5jbGVhclNvdXJjZXMoKSx0aGlzLl91cGRhdGUoITApLHRoaXMuX2ZvcmNlTWFya2VyQW5kUG9wdXBVcGRhdGUoITApKSx0aGlzfXByb2plY3QoZSl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLmxvY2F0aW9uUG9pbnQzRChXZC5jb252ZXJ0KGUpKX11bnByb2plY3QoZSl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24zRCh5LmNvbnZlcnQoZSkpfWlzTW92aW5nKCl7cmV0dXJuIHRoaXMuX21vdmluZ3x8dGhpcy5oYW5kbGVycyYmdGhpcy5oYW5kbGVycy5pc01vdmluZygpfHwhMX1pc1pvb21pbmcoKXtyZXR1cm4gdGhpcy5fem9vbWluZ3x8dGhpcy5oYW5kbGVycyYmdGhpcy5oYW5kbGVycy5pc1pvb21pbmcoKXx8ITF9aXNSb3RhdGluZygpe3JldHVybiB0aGlzLl9yb3RhdGluZ3x8dGhpcy5oYW5kbGVycyYmdGhpcy5oYW5kbGVycy5pc1JvdGF0aW5nKCl8fCExfV9pc0RyYWdnaW5nKCl7cmV0dXJuIHRoaXMuaGFuZGxlcnMmJnRoaXMuaGFuZGxlcnMuX2lzRHJhZ2dpbmcoKXx8ITF9X2NyZWF0ZURlbGVnYXRlZExpc3RlbmVyKGUsdCxpKXtpZihcIm1vdXNlZW50ZXJcIj09PWV8fFwibW91c2VvdmVyXCI9PT1lKXtsZXQgcj0hMTtjb25zdCBuPW49Pntjb25zdCBvPXQuZmlsdGVyKChlPT50aGlzLmdldExheWVyKGUpKSkscz1vLmxlbmd0aD90aGlzLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhuLnBvaW50LHtsYXllcnM6b30pOltdO3MubGVuZ3RoP3J8fChyPSEwLGkuY2FsbCh0aGlzLG5ldyBmUyhlLHRoaXMsbi5vcmlnaW5hbEV2ZW50LHtmZWF0dXJlczpzfSkpKTpyPSExO30sbz0oKT0+e3I9ITE7fTtyZXR1cm4ge2xheWVyczpuZXcgU2V0KHQpLGxpc3RlbmVyOmksZGVsZWdhdGVzOnttb3VzZW1vdmU6bixtb3VzZW91dDpvfX19aWYoXCJtb3VzZWxlYXZlXCI9PT1lfHxcIm1vdXNlb3V0XCI9PT1lKXtsZXQgcj0hMTtjb25zdCBuPW49Pntjb25zdCBvPXQuZmlsdGVyKChlPT50aGlzLmdldExheWVyKGUpKSk7KG8ubGVuZ3RoP3RoaXMucXVlcnlSZW5kZXJlZEZlYXR1cmVzKG4ucG9pbnQse2xheWVyczpvfSk6W10pLmxlbmd0aD9yPSEwOnImJihyPSExLGkuY2FsbCh0aGlzLG5ldyBmUyhlLHRoaXMsbi5vcmlnaW5hbEV2ZW50KSkpO30sbz10PT57ciYmKHI9ITEsaS5jYWxsKHRoaXMsbmV3IGZTKGUsdGhpcyx0Lm9yaWdpbmFsRXZlbnQpKSk7fTtyZXR1cm4ge2xheWVyczpuZXcgU2V0KHQpLGxpc3RlbmVyOmksZGVsZWdhdGVzOnttb3VzZW1vdmU6bixtb3VzZW91dDpvfX19e2NvbnN0IHI9ZT0+e2NvbnN0IHI9dC5maWx0ZXIoKGU9PnRoaXMuZ2V0TGF5ZXIoZSkpKSxuPXIubGVuZ3RoP3RoaXMucXVlcnlSZW5kZXJlZEZlYXR1cmVzKGUucG9pbnQse2xheWVyczpyfSk6W107bi5sZW5ndGgmJihlLmZlYXR1cmVzPW4saS5jYWxsKHRoaXMsZSksZGVsZXRlIGUuZmVhdHVyZXMpO307cmV0dXJuIHtsYXllcnM6bmV3IFNldCh0KSxsaXN0ZW5lcjppLGRlbGVnYXRlczp7W2VdOnJ9fX19b24oZSx0LGkpe2lmKHZvaWQgMD09PWkpcmV0dXJuIHN1cGVyLm9uKGUsdCk7aWYoQXJyYXkuaXNBcnJheSh0KXx8KHQ9W3RdKSx0KWZvcihjb25zdCBlIG9mIHQpaWYoIXRoaXMuX2lzVmFsaWRJZChlKSlyZXR1cm4gdGhpcztjb25zdCByPXRoaXMuX2NyZWF0ZURlbGVnYXRlZExpc3RlbmVyKGUsdCxpKTt0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnM9dGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzfHx7fSx0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnNbZV09dGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzW2VdfHxbXSx0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnNbZV0ucHVzaChyKTtmb3IoY29uc3QgZSBpbiByLmRlbGVnYXRlcyl0aGlzLm9uKGUsci5kZWxlZ2F0ZXNbZV0pO3JldHVybiB0aGlzfW9uY2UoZSx0LGkpe2lmKHZvaWQgMD09PWkpcmV0dXJuIHN1cGVyLm9uY2UoZSx0KTtpZihBcnJheS5pc0FycmF5KHQpfHwodD1bdF0pLHQpZm9yKGNvbnN0IGUgb2YgdClpZighdGhpcy5faXNWYWxpZElkKGUpKXJldHVybiB0aGlzO2NvbnN0IHI9dGhpcy5fY3JlYXRlRGVsZWdhdGVkTGlzdGVuZXIoZSx0LGkpO2Zvcihjb25zdCBlIGluIHIuZGVsZWdhdGVzKXRoaXMub25jZShlLHIuZGVsZWdhdGVzW2VdKTtyZXR1cm4gdGhpc31vZmYoZSx0LGkpe2lmKHZvaWQgMD09PWkpcmV0dXJuIHN1cGVyLm9mZihlLHQpO3Q9bmV3IFNldChBcnJheS5pc0FycmF5KHQpP3Q6W3RdKTtmb3IoY29uc3QgZSBvZiB0KWlmKCF0aGlzLl9pc1ZhbGlkSWQoZSkpcmV0dXJuIHRoaXM7Y29uc3Qgcj0oZSx0KT0+e2lmKGUuc2l6ZSE9PXQuc2l6ZSlyZXR1cm4gITE7Zm9yKGNvbnN0IGkgb2YgZSlpZighdC5oYXMoaSkpcmV0dXJuICExO3JldHVybiAhMH0sbj10aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnM/dGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzW2VdOnZvaWQgMDtyZXR1cm4gbiYmKGU9Pntmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl7Y29uc3Qgbz1lW25dO2lmKG8ubGlzdGVuZXI9PT1pJiZyKG8ubGF5ZXJzLHQpKXtmb3IoY29uc3QgZSBpbiBvLmRlbGVnYXRlcyl0aGlzLm9mZihlLG8uZGVsZWdhdGVzW2VdKTtyZXR1cm4gZS5zcGxpY2UobiwxKSx0aGlzfX19KShuKSx0aGlzfXF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhlLHQpe2lmKCF0aGlzLnN0eWxlKXJldHVybiBbXTtpZih2b2lkIDAhPT10fHx2b2lkIDA9PT1lfHxlIGluc3RhbmNlb2YgeXx8QXJyYXkuaXNBcnJheShlKXx8KHQ9ZSxlPXZvaWQgMCksZT1lfHxbWzAsMF0sW3RoaXMudHJhbnNmb3JtLndpZHRoLHRoaXMudHJhbnNmb3JtLmhlaWdodF1dLCh0PXR8fHt9KS5sYXllcnMmJkFycmF5LmlzQXJyYXkodC5sYXllcnMpKWZvcihjb25zdCBlIG9mIHQubGF5ZXJzKWlmKCF0aGlzLl9pc1ZhbGlkSWQoZSkpcmV0dXJuIFtdO3JldHVybiB0aGlzLnN0eWxlLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhlLHQsdGhpcy50cmFuc2Zvcm0pfXF1ZXJ5U291cmNlRmVhdHVyZXMoZSx0KXtyZXR1cm4gdGhpcy5faXNWYWxpZElkKGUpP3RoaXMuc3R5bGUucXVlcnlTb3VyY2VGZWF0dXJlcyhlLHQpOltdfWlzUG9pbnRPblN1cmZhY2UoZSl7Y29uc3R7bmFtZTp0fT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uO3JldHVybiBcImdsb2JlXCIhPT10JiZcIm1lcmNhdG9yXCIhPT10JiZIKGAke3R9IHByb2plY3Rpb24gZG9lcyBub3Qgc3VwcG9ydCBpc1BvaW50T25TdXJmYWNlLCB0aGlzIEFQSSBtYXkgYmVoYXZlIHVuZXhwZWN0ZWRseS5gKSx0aGlzLnRyYW5zZm9ybS5pc1BvaW50T25TdXJmYWNlKHkuY29udmVydChlKSl9c2V0U3R5bGUoZSx0KXtyZXR1cm4gITEhPT0odD1rKHt9LHtsb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk6dGhpcy5fbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5LGxvY2FsRm9udEZhbWlseTp0aGlzLl9sb2NhbEZvbnRGYW1pbHl9LHQpKS5kaWZmJiZ0LmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseT09PXRoaXMuX2xvY2FsSWRlb2dyYXBoRm9udEZhbWlseSYmdC5sb2NhbEZvbnRGYW1pbHk9PT10aGlzLl9sb2NhbEZvbnRGYW1pbHkmJnRoaXMuc3R5bGUmJmU/KHRoaXMuX2RpZmZTdHlsZShlLHQpLHRoaXMpOih0aGlzLl9sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk9dC5sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHksdGhpcy5fbG9jYWxGb250RmFtaWx5PXQubG9jYWxGb250RmFtaWx5LHRoaXMuX3VwZGF0ZVN0eWxlKGUsdCkpfV9nZXRVSVN0cmluZyhlKXtjb25zdCB0PXRoaXMuX2xvY2FsZVtlXTtpZihudWxsPT10KXRocm93IG5ldyBFcnJvcihgTWlzc2luZyBVSSBzdHJpbmcgJyR7ZX0nYCk7cmV0dXJuIHR9X3VwZGF0ZVN0eWxlKGUsdCl7cmV0dXJuIHRoaXMuc3R5bGUmJih0aGlzLnN0eWxlLnNldEV2ZW50ZWRQYXJlbnQobnVsbCksdGhpcy5zdHlsZS5fcmVtb3ZlKCksdGhpcy5zdHlsZT12b2lkIDApLGUmJih0aGlzLnN0eWxlPW5ldyBpUyh0aGlzLHR8fHt9KSx0aGlzLnN0eWxlLnNldEV2ZW50ZWRQYXJlbnQodGhpcyx7c3R5bGU6dGhpcy5zdHlsZX0pLFwic3RyaW5nXCI9PXR5cGVvZiBlP3RoaXMuc3R5bGUubG9hZFVSTChlKTp0aGlzLnN0eWxlLmxvYWRKU09OKGUpKSx0aGlzLl91cGRhdGVUZXJyYWluKCksdGhpc31fbGF6eUluaXRFbXB0eVN0eWxlKCl7dGhpcy5zdHlsZXx8KHRoaXMuc3R5bGU9bmV3IGlTKHRoaXMse30pLHRoaXMuc3R5bGUuc2V0RXZlbnRlZFBhcmVudCh0aGlzLHtzdHlsZTp0aGlzLnN0eWxlfSksdGhpcy5zdHlsZS5sb2FkRW1wdHkoKSk7fV9kaWZmU3R5bGUoZSx0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSl7Y29uc3QgaT10aGlzLl9yZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVTdHlsZVVSTChlKSxyPXRoaXMuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QoaSx5ZS5TdHlsZSk7d2UociwoKGUsaSk9PntlP3RoaXMuZmlyZShuZXcgQ3QoZSkpOmkmJnRoaXMuX3VwZGF0ZURpZmYoaSx0KTt9KSk7fWVsc2UgXCJvYmplY3RcIj09dHlwZW9mIGUmJnRoaXMuX3VwZGF0ZURpZmYoZSx0KTt9X3VwZGF0ZURpZmYoZSx0KXt0cnl7dGhpcy5zdHlsZS5zZXRTdGF0ZShlKSYmdGhpcy5fdXBkYXRlKCEwKTt9Y2F0Y2goaSl7SChgVW5hYmxlIHRvIHBlcmZvcm0gc3R5bGUgZGlmZjogJHtpLm1lc3NhZ2V8fGkuZXJyb3J8fGl9LiAgUmVidWlsZGluZyB0aGUgc3R5bGUgZnJvbSBzY3JhdGNoLmApLHRoaXMuX3VwZGF0ZVN0eWxlKGUsdCk7fX1nZXRTdHlsZSgpe2lmKHRoaXMuc3R5bGUpcmV0dXJuIHRoaXMuc3R5bGUuc2VyaWFsaXplKCl9aXNTdHlsZUxvYWRlZCgpe3JldHVybiB0aGlzLnN0eWxlP3RoaXMuc3R5bGUubG9hZGVkKCk6KEgoXCJUaGVyZSBpcyBubyBzdHlsZSBhZGRlZCB0byB0aGUgbWFwLlwiKSwhMSl9X2lzVmFsaWRJZChlKXtyZXR1cm4gbnVsbD09ZT8odGhpcy5maXJlKG5ldyBDdChuZXcgRXJyb3IoXCJJRHMgY2FuJ3QgYmUgZW1wdHkuXCIpKSksITEpOiF4YShlKXx8KHRoaXMuZmlyZShuZXcgQ3QobmV3IEVycm9yKGBJRHMgY2FuJ3QgY29udGFpbiBzcGVjaWFsIHN5bWJvbHM6IFwiJHtlfVwiLmApKSksITEpfWFkZFNvdXJjZShlLHQpe3JldHVybiB0aGlzLl9pc1ZhbGlkSWQoZSk/KHRoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpLHRoaXMuc3R5bGUuYWRkU291cmNlKGUsdCksdGhpcy5fdXBkYXRlKCEwKSk6dGhpc31pc1NvdXJjZUxvYWRlZChlKXtyZXR1cm4gISF0aGlzLl9pc1ZhbGlkSWQoZSkmJiEhdGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5faXNTb3VyY2VDYWNoZUxvYWRlZChlKX1hcmVUaWxlc0xvYWRlZCgpe2NvbnN0IGU9dGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5fc291cmNlQ2FjaGVzO2Zvcihjb25zdCB0IGluIGUpe2NvbnN0IGk9ZVt0XS5fdGlsZXM7Zm9yKGNvbnN0IGUgaW4gaSl7Y29uc3QgdD1pW2VdO2lmKFwibG9hZGVkXCIhPT10LnN0YXRlJiZcImVycm9yZWRcIiE9PXQuc3RhdGUpcmV0dXJuICExfX1yZXR1cm4gITB9YWRkU291cmNlVHlwZShlLHQsaSl7dGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCksdGhpcy5zdHlsZS5hZGRTb3VyY2VUeXBlKGUsdCxpKTt9cmVtb3ZlU291cmNlKGUpe3JldHVybiB0aGlzLl9pc1ZhbGlkSWQoZSk/KHRoaXMuc3R5bGUucmVtb3ZlU291cmNlKGUpLHRoaXMuX3VwZGF0ZVRlcnJhaW4oKSx0aGlzLl91cGRhdGUoITApKTp0aGlzfWdldFNvdXJjZShlKXtyZXR1cm4gdGhpcy5faXNWYWxpZElkKGUpP3RoaXMuc3R5bGUuZ2V0T3duU291cmNlKGUpOm51bGx9YWRkSW1hZ2UoZSxpLHtwaXhlbFJhdGlvOnI9MSxzZGY6bj0hMSxzdHJldGNoWDpvLHN0cmV0Y2hZOnMsY29udGVudDphfT17fSl7aWYodGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCksaSBpbnN0YW5jZW9mIHQuSFRNTEltYWdlRWxlbWVudHx8dC5JbWFnZUJpdG1hcCYmaSBpbnN0YW5jZW9mIHQuSW1hZ2VCaXRtYXApe2NvbnN0e3dpZHRoOnQsaGVpZ2h0OmwsZGF0YTpjfT1kdC5nZXRJbWFnZURhdGEoaSk7dGhpcy5zdHlsZS5hZGRJbWFnZShlLHtkYXRhOm5ldyBlZih7d2lkdGg6dCxoZWlnaHQ6bH0sYykscGl4ZWxSYXRpbzpyLHN0cmV0Y2hYOm8sc3RyZXRjaFk6cyxjb250ZW50OmEsc2RmOm4sdmVyc2lvbjowfSk7fWVsc2UgaWYodm9pZCAwPT09aS53aWR0aHx8dm9pZCAwPT09aS5oZWlnaHQpdGhpcy5maXJlKG5ldyBDdChuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyB0byBtYXAuYWRkSW1hZ2UoKS4gVGhlIHNlY29uZCBhcmd1bWVudCBtdXN0IGJlIGFuIGBIVE1MSW1hZ2VFbGVtZW50YCwgYEltYWdlRGF0YWAsIGBJbWFnZUJpdG1hcGAsIG9yIG9iamVjdCB3aXRoIGB3aWR0aGAsIGBoZWlnaHRgLCBhbmQgYGRhdGFgIHByb3BlcnRpZXMgd2l0aCB0aGUgc2FtZSBmb3JtYXQgYXMgYEltYWdlRGF0YWBcIikpKTtlbHNlIHtjb25zdHt3aWR0aDp0LGhlaWdodDpsfT1pLGM9aTt0aGlzLnN0eWxlLmFkZEltYWdlKGUse2RhdGE6bmV3IGVmKHt3aWR0aDp0LGhlaWdodDpsfSxuZXcgVWludDhBcnJheShjLmRhdGEpKSxwaXhlbFJhdGlvOnIsc3RyZXRjaFg6byxzdHJldGNoWTpzLGNvbnRlbnQ6YSxzZGY6bix2ZXJzaW9uOjAsdXNlckltYWdlOmN9KSxjLm9uQWRkJiZjLm9uQWRkKHRoaXMsZSk7fX11cGRhdGVJbWFnZShlLGkpe3RoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpO2NvbnN0IHI9dGhpcy5zdHlsZS5nZXRJbWFnZShlKTtpZighcilyZXR1cm4gdm9pZCB0aGlzLmZpcmUobmV3IEN0KG5ldyBFcnJvcihcIlRoZSBtYXAgaGFzIG5vIGltYWdlIHdpdGggdGhhdCBpZC4gSWYgeW91IGFyZSBhZGRpbmcgYSBuZXcgaW1hZ2UgdXNlIGBtYXAuYWRkSW1hZ2UoLi4uKWAgaW5zdGVhZC5cIikpKTtjb25zdCBuPWkgaW5zdGFuY2VvZiB0LkhUTUxJbWFnZUVsZW1lbnR8fHQuSW1hZ2VCaXRtYXAmJmkgaW5zdGFuY2VvZiB0LkltYWdlQml0bWFwP2R0LmdldEltYWdlRGF0YShpKTppLHt3aWR0aDpvLGhlaWdodDpzfT1uO3ZvaWQgMCE9PW8mJnZvaWQgMCE9PXM/bz09PXIuZGF0YS53aWR0aCYmcz09PXIuZGF0YS5oZWlnaHQ/KHIuZGF0YS5yZXBsYWNlKG4uZGF0YSwhKGkgaW5zdGFuY2VvZiB0LkhUTUxJbWFnZUVsZW1lbnR8fHQuSW1hZ2VCaXRtYXAmJmkgaW5zdGFuY2VvZiB0LkltYWdlQml0bWFwKSksdGhpcy5zdHlsZS51cGRhdGVJbWFnZShlLHIpKTp0aGlzLmZpcmUobmV3IEN0KG5ldyBFcnJvcihgVGhlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHVwZGF0ZWQgaW1hZ2UgKCR7b30sICR7c30pXFxuICAgICAgICAgICAgICAgIG11c3QgYmUgdGhhdCBzYW1lIGFzIHRoZSBwcmV2aW91cyB2ZXJzaW9uIG9mIHRoZSBpbWFnZVxcbiAgICAgICAgICAgICAgICAoJHtyLmRhdGEud2lkdGh9LCAke3IuZGF0YS5oZWlnaHR9KWApKSk6dGhpcy5maXJlKG5ldyBDdChuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyB0byBtYXAudXBkYXRlSW1hZ2UoKS4gVGhlIHNlY29uZCBhcmd1bWVudCBtdXN0IGJlIGFuIGBIVE1MSW1hZ2VFbGVtZW50YCwgYEltYWdlRGF0YWAsIGBJbWFnZUJpdG1hcGAsIG9yIG9iamVjdCB3aXRoIGB3aWR0aGAsIGBoZWlnaHRgLCBhbmQgYGRhdGFgIHByb3BlcnRpZXMgd2l0aCB0aGUgc2FtZSBmb3JtYXQgYXMgYEltYWdlRGF0YWBcIikpKTt9aGFzSW1hZ2UoZSl7cmV0dXJuIGU/ISF0aGlzLnN0eWxlJiYhIXRoaXMuc3R5bGUuZ2V0SW1hZ2UoZSk6KHRoaXMuZmlyZShuZXcgQ3QobmV3IEVycm9yKFwiTWlzc2luZyByZXF1aXJlZCBpbWFnZSBpZFwiKSkpLCExKX1yZW1vdmVJbWFnZShlKXt0aGlzLnN0eWxlLnJlbW92ZUltYWdlKGUpO31sb2FkSW1hZ2UoZSxpKXtJZSh0aGlzLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KGUseWUuSW1hZ2UpLCgoZSxyKT0+e2koZSxyIGluc3RhbmNlb2YgdC5IVE1MSW1hZ2VFbGVtZW50P2R0LmdldEltYWdlRGF0YShyKTpyKTt9KSk7fWxpc3RJbWFnZXMoKXtyZXR1cm4gdGhpcy5zdHlsZS5saXN0SW1hZ2VzKCl9YWRkTW9kZWwoZSx0KXt0aGlzLl9sYXp5SW5pdEVtcHR5U3R5bGUoKSx0aGlzLnN0eWxlLmFkZE1vZGVsKGUsdCk7fWhhc01vZGVsKGUpe3JldHVybiBlP3RoaXMuc3R5bGUuaGFzTW9kZWwoZSk6KHRoaXMuZmlyZShuZXcgQ3QobmV3IEVycm9yKFwiTWlzc2luZyByZXF1aXJlZCBtb2RlbCBpZFwiKSkpLCExKX1yZW1vdmVNb2RlbChlKXt0aGlzLnN0eWxlLnJlbW92ZU1vZGVsKGUpO31saXN0TW9kZWxzKCl7cmV0dXJuIHRoaXMuc3R5bGUubGlzdE1vZGVscygpfWFkZExheWVyKGUsdCl7cmV0dXJuIHRoaXMuX2lzVmFsaWRJZChlLmlkKT8odGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCksdGhpcy5zdHlsZS5hZGRMYXllcihlLHQpLHRoaXMuX3VwZGF0ZSghMCkpOnRoaXN9bW92ZUxheWVyKGUsdCl7cmV0dXJuIHRoaXMuX2lzVmFsaWRJZChlKT8odGhpcy5zdHlsZS5tb3ZlTGF5ZXIoZSx0KSx0aGlzLl91cGRhdGUoITApKTp0aGlzfXJlbW92ZUxheWVyKGUpe3JldHVybiB0aGlzLl9pc1ZhbGlkSWQoZSk/KHRoaXMuc3R5bGUucmVtb3ZlTGF5ZXIoZSksdGhpcy5fdXBkYXRlKCEwKSk6dGhpc31nZXRMYXllcihlKXtyZXR1cm4gdGhpcy5faXNWYWxpZElkKGUpP3RoaXMuc3R5bGUuZ2V0T3duTGF5ZXIoZSk6bnVsbH1zZXRMYXllclpvb21SYW5nZShlLHQsaSl7cmV0dXJuIHRoaXMuX2lzVmFsaWRJZChlKT8odGhpcy5zdHlsZS5zZXRMYXllclpvb21SYW5nZShlLHQsaSksdGhpcy5fdXBkYXRlKCEwKSk6dGhpc31zZXRGaWx0ZXIoZSx0LGk9e30pe3JldHVybiB0aGlzLl9pc1ZhbGlkSWQoZSk/KHRoaXMuc3R5bGUuc2V0RmlsdGVyKGUsdCxpKSx0aGlzLl91cGRhdGUoITApKTp0aGlzfWdldEZpbHRlcihlKXtyZXR1cm4gdGhpcy5faXNWYWxpZElkKGUpP3RoaXMuc3R5bGUuZ2V0RmlsdGVyKGUpOm51bGx9c2V0UGFpbnRQcm9wZXJ0eShlLHQsaSxyPXt9KXtyZXR1cm4gdGhpcy5faXNWYWxpZElkKGUpPyh0aGlzLnN0eWxlLnNldFBhaW50UHJvcGVydHkoZSx0LGksciksdGhpcy5fdXBkYXRlKCEwKSk6dGhpc31nZXRQYWludFByb3BlcnR5KGUsdCl7cmV0dXJuIHRoaXMuX2lzVmFsaWRJZChlKT90aGlzLnN0eWxlLmdldFBhaW50UHJvcGVydHkoZSx0KTpudWxsfXNldExheW91dFByb3BlcnR5KGUsdCxpLHI9e30pe3JldHVybiB0aGlzLl9pc1ZhbGlkSWQoZSk/KHRoaXMuc3R5bGUuc2V0TGF5b3V0UHJvcGVydHkoZSx0LGksciksdGhpcy5fdXBkYXRlKCEwKSk6dGhpc31nZXRMYXlvdXRQcm9wZXJ0eShlLHQpe3JldHVybiB0aGlzLl9pc1ZhbGlkSWQoZSk/dGhpcy5zdHlsZS5nZXRMYXlvdXRQcm9wZXJ0eShlLHQpOm51bGx9Z2V0Q29uZmlnUHJvcGVydHkoZSx0KXtyZXR1cm4gdGhpcy5zdHlsZS5nZXRDb25maWdQcm9wZXJ0eShlLHQpfXNldENvbmZpZ1Byb3BlcnR5KGUsdCxpKXtyZXR1cm4gdGhpcy5zdHlsZS5zZXRDb25maWdQcm9wZXJ0eShlLHQsaSksdGhpcy5fdXBkYXRlKCEwKX1zZXRMaWdodHMoZSl7aWYodGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCksZSYmMT09PWUubGVuZ3RoJiZcImZsYXRcIj09PWVbMF0udHlwZSl7Y29uc3QgdD1lWzBdO3QucHJvcGVydGllcz90aGlzLnN0eWxlLnNldEZsYXRMaWdodCh0LnByb3BlcnRpZXMsdC5pZCx7fSk6dGhpcy5zdHlsZS5zZXRGbGF0TGlnaHQoe30sXCJmbGF0XCIpO31lbHNlIHRoaXMuc3R5bGUuc2V0TGlnaHRzKGUpLHRoaXMucGFpbnRlci50ZXJyYWluJiYodGhpcy5wYWludGVyLnRlcnJhaW4uaW52YWxpZGF0ZVJlbmRlckNhY2hlPSEwKTtyZXR1cm4gdGhpcy5fdXBkYXRlKCEwKX1nZXRMaWdodHMoKXtjb25zdCBlPXRoaXMuc3R5bGUuZ2V0TGlnaHRzKCl8fFtdO3JldHVybiAwPT09ZS5sZW5ndGgmJmUucHVzaCh7aWQ6dGhpcy5zdHlsZS5saWdodC5pZCx0eXBlOlwiZmxhdFwiLHByb3BlcnRpZXM6dGhpcy5zdHlsZS5nZXRGbGF0TGlnaHQoKX0pLGV9c2V0TGlnaHQoZSx0PXt9KXtyZXR1cm4gY29uc29sZS5sb2coXCJUaGUgYG1hcC5zZXRMaWdodGAgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZCwgcHJlZmVyIHVzaW5nIGBtYXAuc2V0TGlnaHRzYCB3aXRoIGBmbGF0YCBsaWdodCB0eXBlIGluc3RlYWQuXCIpLHRoaXMuc2V0TGlnaHRzKFt7aWQ6XCJmbGF0XCIsdHlwZTpcImZsYXRcIixwcm9wZXJ0aWVzOmV9XSl9Z2V0TGlnaHQoKXtyZXR1cm4gY29uc29sZS5sb2coXCJUaGUgYG1hcC5nZXRMaWdodGAgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZCwgcHJlZmVyIHVzaW5nIGBtYXAuZ2V0TGlnaHRzYCBpbnN0ZWFkLlwiKSx0aGlzLnN0eWxlLmdldEZsYXRMaWdodCgpfXNldFRlcnJhaW4oZSl7cmV0dXJuIHRoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpLCFlJiZ0aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnJlcXVpcmVzRHJhcGluZz90aGlzLnN0eWxlLnNldFRlcnJhaW5Gb3JEcmFwaW5nKCk6dGhpcy5zdHlsZS5zZXRUZXJyYWluKGUpLHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb25MYXN0U2FtcGxlZEF0PS0xLzAsdGhpcy5fdXBkYXRlKCEwKX1nZXRUZXJyYWluKCl7cmV0dXJuIHRoaXMuc3R5bGU/dGhpcy5zdHlsZS5nZXRUZXJyYWluKCk6bnVsbH1zZXRGb2coZSl7cmV0dXJuIHRoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpLHRoaXMuc3R5bGUuc2V0Rm9nKGUpLHRoaXMuX3VwZGF0ZSghMCl9Z2V0Rm9nKCl7cmV0dXJuIHRoaXMuc3R5bGU/dGhpcy5zdHlsZS5nZXRGb2coKTpudWxsfXNldENhbWVyYShlKXtyZXR1cm4gdGhpcy5zdHlsZS5zZXRDYW1lcmEoZSksdGhpcy5fdHJpZ2dlckNhbWVyYVVwZGF0ZShlKX1fdHJpZ2dlckNhbWVyYVVwZGF0ZShlKXtyZXR1cm4gdGhpcy5fdXBkYXRlKHRoaXMudHJhbnNmb3JtLnNldE9ydGhvZ3JhcGhpY1Byb2plY3Rpb25BdExvd1BpdGNoKFwib3J0aG9ncmFwaGljXCI9PT1lW1wiY2FtZXJhLXByb2plY3Rpb25cIl0pKX1nZXRDYW1lcmEoKXtyZXR1cm4gdGhpcy5zdHlsZS5jYW1lcmF9X3F1ZXJ5Rm9nT3BhY2l0eShlKXtyZXR1cm4gdGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5mb2c/dGhpcy5zdHlsZS5mb2cuZ2V0T3BhY2l0eUF0TGF0TG5nKFdkLmNvbnZlcnQoZSksdGhpcy50cmFuc2Zvcm0pOjB9c2V0RmVhdHVyZVN0YXRlKGUsdCl7cmV0dXJuIHRoaXMuX2lzVmFsaWRJZChlLnNvdXJjZSk/KHRoaXMuc3R5bGUuc2V0RmVhdHVyZVN0YXRlKGUsdCksdGhpcy5fdXBkYXRlKCkpOnRoaXN9cmVtb3ZlRmVhdHVyZVN0YXRlKGUsdCl7cmV0dXJuIHRoaXMuX2lzVmFsaWRJZChlLnNvdXJjZSk/KHRoaXMuc3R5bGUucmVtb3ZlRmVhdHVyZVN0YXRlKGUsdCksdGhpcy5fdXBkYXRlKCkpOnRoaXN9Z2V0RmVhdHVyZVN0YXRlKGUpe3JldHVybiB0aGlzLl9pc1ZhbGlkSWQoZS5zb3VyY2UpP3RoaXMuc3R5bGUuZ2V0RmVhdHVyZVN0YXRlKGUpOm51bGx9X3VwZGF0ZUNvbnRhaW5lckRpbWVuc2lvbnMoKXtpZighdGhpcy5fY29udGFpbmVyKXJldHVybjtjb25zdCBlPXRoaXMuX2NvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aHx8NDAwLGk9dGhpcy5fY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodHx8MzAwO2xldCByLG4sbyxzPXRoaXMuX2NvbnRhaW5lcjtmb3IoO3MmJighbnx8IW8pOyl7Y29uc3QgZT10LmdldENvbXB1dGVkU3R5bGUocykudHJhbnNmb3JtO2UmJlwibm9uZVwiIT09ZSYmKHI9ZS5tYXRjaCgvbWF0cml4LipcXCgoLispXFwpLylbMV0uc3BsaXQoXCIsIFwiKSxyWzBdJiZcIjBcIiE9PXJbMF0mJlwiMVwiIT09clswXSYmKG49clswXSksclszXSYmXCIwXCIhPT1yWzNdJiZcIjFcIiE9PXJbM10mJihvPXJbM10pKSxzPXMucGFyZW50RWxlbWVudDt9dGhpcy5fY29udGFpbmVyV2lkdGg9bj9NYXRoLmFicyhlL24pOmUsdGhpcy5fY29udGFpbmVySGVpZ2h0PW8/TWF0aC5hYnMoaS9vKTppO31fZGV0ZWN0TWlzc2luZ0NTUygpe1wicmdiKDI1MCwgMTI4LCAxMTQpXCIhPT10LmdldENvbXB1dGVkU3R5bGUodGhpcy5fbWlzc2luZ0NTU0NhbmFyeSkuZ2V0UHJvcGVydHlWYWx1ZShcImJhY2tncm91bmQtY29sb3JcIikmJkgoXCJUaGlzIHBhZ2UgYXBwZWFycyB0byBiZSBtaXNzaW5nIENTUyBkZWNsYXJhdGlvbnMgZm9yIE1hcGJveCBHTCBKUywgd2hpY2ggbWF5IGNhdXNlIHRoZSBtYXAgdG8gZGlzcGxheSBpbmNvcnJlY3RseS4gUGxlYXNlIGVuc3VyZSB5b3VyIHBhZ2UgaW5jbHVkZXMgbWFwYm94LWdsLmNzcywgYXMgZGVzY3JpYmVkIGluIGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2FwaS8uXCIpO31fc2V0dXBDb250YWluZXIoKXtjb25zdCBlPXRoaXMuX2NvbnRhaW5lcjtlLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1tYXBcIiksKHRoaXMuX21pc3NpbmdDU1NDYW5hcnk9cHQoXCJkaXZcIixcIm1hcGJveGdsLWNhbmFyeVwiLGUpKS5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIsdGhpcy5fZGV0ZWN0TWlzc2luZ0NTUygpO2NvbnN0IHQ9dGhpcy5fY2FudmFzQ29udGFpbmVyPXB0KFwiZGl2XCIsXCJtYXBib3hnbC1jYW52YXMtY29udGFpbmVyXCIsZSk7dGhpcy5fY2FudmFzPXB0KFwiY2FudmFzXCIsXCJtYXBib3hnbC1jYW52YXNcIix0KSx0aGlzLl9pbnRlcmFjdGl2ZSYmKHQuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWludGVyYWN0aXZlXCIpLHRoaXMuX2NhbnZhcy5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLFwiMFwiKSksdGhpcy5fY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJ3ZWJnbGNvbnRleHRsb3N0XCIsdGhpcy5fY29udGV4dExvc3QsITEpLHRoaXMuX2NhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwid2ViZ2xjb250ZXh0cmVzdG9yZWRcIix0aGlzLl9jb250ZXh0UmVzdG9yZWQsITEpLHRoaXMuX2NhbnZhcy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsdGhpcy5fZ2V0VUlTdHJpbmcoXCJNYXAuVGl0bGVcIikpLHRoaXMuX2NhbnZhcy5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJyZWdpb25cIiksdGhpcy5fdXBkYXRlQ29udGFpbmVyRGltZW5zaW9ucygpLHRoaXMuX3Jlc2l6ZUNhbnZhcyh0aGlzLl9jb250YWluZXJXaWR0aCx0aGlzLl9jb250YWluZXJIZWlnaHQpO2NvbnN0IGk9dGhpcy5fY29udHJvbENvbnRhaW5lcj1wdChcImRpdlwiLFwibWFwYm94Z2wtY29udHJvbC1jb250YWluZXJcIixlKSxyPXRoaXMuX2NvbnRyb2xQb3NpdGlvbnM9e307W1widG9wLWxlZnRcIixcInRvcC1yaWdodFwiLFwiYm90dG9tLWxlZnRcIixcImJvdHRvbS1yaWdodFwiXS5mb3JFYWNoKChlPT57cltlXT1wdChcImRpdlwiLGBtYXBib3hnbC1jdHJsLSR7ZX1gLGkpO30pKSx0aGlzLl9jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLHRoaXMuX29uTWFwU2Nyb2xsLCExKTt9X3Jlc2l6ZUNhbnZhcyhlLHQpe2NvbnN0IGk9ZHQuZGV2aWNlUGl4ZWxSYXRpb3x8MTt0aGlzLl9jYW52YXMud2lkdGg9aSpNYXRoLmNlaWwoZSksdGhpcy5fY2FudmFzLmhlaWdodD1pKk1hdGguY2VpbCh0KSx0aGlzLl9jYW52YXMuc3R5bGUud2lkdGg9YCR7ZX1weGAsdGhpcy5fY2FudmFzLnN0eWxlLmhlaWdodD1gJHt0fXB4YDt9X2FkZE1hcmtlcihlKXt0aGlzLl9tYXJrZXJzLnB1c2goZSk7fV9yZW1vdmVNYXJrZXIoZSl7Y29uc3QgdD10aGlzLl9tYXJrZXJzLmluZGV4T2YoZSk7LTEhPT10JiZ0aGlzLl9tYXJrZXJzLnNwbGljZSh0LDEpO31fYWRkUG9wdXAoZSl7dGhpcy5fcG9wdXBzLnB1c2goZSk7fV9yZW1vdmVQb3B1cChlKXtjb25zdCB0PXRoaXMuX3BvcHVwcy5pbmRleE9mKGUpOy0xIT09dCYmdGhpcy5fcG9wdXBzLnNwbGljZSh0LDEpO31fc2V0dXBQYWludGVyKCl7Y29uc3QgZT1rKHt9LHJ0LndlYkdMQ29udGV4dEF0dHJpYnV0ZXMse2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6dGhpcy5fZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCxwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6dGhpcy5fcHJlc2VydmVEcmF3aW5nQnVmZmVyLGFudGlhbGlhczp0aGlzLl9hbnRpYWxpYXN8fCExfSksdD10aGlzLl9jYW52YXMuZ2V0Q29udGV4dChcIndlYmdsMlwiLGUpO3Q/KEtlKHQsITApLHRoaXMucGFpbnRlcj1uZXcgVUEodCx0aGlzLl9jb250ZXh0Q3JlYXRlT3B0aW9ucyx0aGlzLnRyYW5zZm9ybSksdGhpcy5vbihcImRhdGFcIiwoZT0+e1wic291cmNlXCI9PT1lLmRhdGFUeXBlJiZ0aGlzLnBhaW50ZXIuc2V0VGlsZUxvYWRlZEZsYWcoITApO30pKSxvLnRlc3RTdXBwb3J0KHQpKTp0aGlzLmZpcmUobmV3IEN0KG5ldyBFcnJvcihcIkZhaWxlZCB0byBpbml0aWFsaXplIFdlYkdMXCIpKSk7fV9jb250ZXh0TG9zdChlKXtlLnByZXZlbnREZWZhdWx0KCksdGhpcy5fZnJhbWUmJih0aGlzLl9mcmFtZS5jYW5jZWwoKSx0aGlzLl9mcmFtZT1udWxsKSx0aGlzLmZpcmUobmV3IEl0KFwid2ViZ2xjb250ZXh0bG9zdFwiLHtvcmlnaW5hbEV2ZW50OmV9KSk7fV9jb250ZXh0UmVzdG9yZWQoZSl7dGhpcy5fc2V0dXBQYWludGVyKCksdGhpcy5yZXNpemUoKSx0aGlzLl91cGRhdGUoKSx0aGlzLmZpcmUobmV3IEl0KFwid2ViZ2xjb250ZXh0cmVzdG9yZWRcIix7b3JpZ2luYWxFdmVudDplfSkpO31fb25NYXBTY3JvbGwoZSl7aWYoZS50YXJnZXQ9PT10aGlzLl9jb250YWluZXIpcmV0dXJuIHRoaXMuX2NvbnRhaW5lci5zY3JvbGxUb3A9MCx0aGlzLl9jb250YWluZXIuc2Nyb2xsTGVmdD0wLCExfWxvYWRlZCgpe3JldHVybiAhdGhpcy5fc3R5bGVEaXJ0eSYmIXRoaXMuX3NvdXJjZXNEaXJ0eSYmISF0aGlzLnN0eWxlJiZ0aGlzLnN0eWxlLmxvYWRlZCgpfV91cGRhdGUoZSl7cmV0dXJuIHRoaXMuc3R5bGU/KHRoaXMuX3N0eWxlRGlydHk9dGhpcy5fc3R5bGVEaXJ0eXx8ZSx0aGlzLl9zb3VyY2VzRGlydHk9ITAsdGhpcy50cmlnZ2VyUmVwYWludCgpLHRoaXMpOnRoaXN9X3JlcXVlc3RSZW5kZXJGcmFtZShlKXtyZXR1cm4gdGhpcy5fdXBkYXRlKCksdGhpcy5fcmVuZGVyVGFza1F1ZXVlLmFkZChlKX1fY2FuY2VsUmVuZGVyRnJhbWUoZSl7dGhpcy5fcmVuZGVyVGFza1F1ZXVlLnJlbW92ZShlKTt9X3JlcXVlc3REb21UYXNrKGUpeyF0aGlzLmxvYWRlZCgpfHx0aGlzLmxvYWRlZCgpJiYhdGhpcy5pc01vdmluZygpP2UoKTp0aGlzLl9kb21SZW5kZXJUYXNrUXVldWUuYWRkKGUpO31fcmVuZGVyKGUpe2xldCBpO3RoaXMuZmlyZShuZXcgSXQoXCJyZW5kZXJzdGFydFwiKSk7Y29uc3Qgcj10aGlzLnBhaW50ZXIuY29udGV4dC5leHRUaW1lclF1ZXJ5LG49ZHQubm93KCksbz10aGlzLnBhaW50ZXIuY29udGV4dC5nbDtpZih0aGlzLmxpc3RlbnMoXCJncHUtdGltaW5nLWZyYW1lXCIpJiYoaT1vLmNyZWF0ZVF1ZXJ5KCksby5iZWdpblF1ZXJ5KHIuVElNRV9FTEFQU0VEX0VYVCxpKSksdGhpcy5wYWludGVyLmNvbnRleHQuc2V0RGlydHkoKSx0aGlzLnBhaW50ZXIuc2V0QmFzZVN0YXRlKCksKHRoaXMuaXNNb3ZpbmcoKXx8dGhpcy5pc1JvdGF0aW5nKCl8fHRoaXMuaXNab29taW5nKCkpJiYodGhpcy5faW50ZXJhY3Rpb25SYW5nZVswXT1NYXRoLm1pbih0aGlzLl9pbnRlcmFjdGlvblJhbmdlWzBdLHQucGVyZm9ybWFuY2Uubm93KCkpLHRoaXMuX2ludGVyYWN0aW9uUmFuZ2VbMV09TWF0aC5tYXgodGhpcy5faW50ZXJhY3Rpb25SYW5nZVsxXSx0LnBlcmZvcm1hbmNlLm5vdygpKSksdGhpcy5fcmVuZGVyVGFza1F1ZXVlLnJ1bihlKSx0aGlzLl9kb21SZW5kZXJUYXNrUXVldWUucnVuKGUpLHRoaXMuX3JlbW92ZWQpcmV0dXJuO3RoaXMuX3VwZGF0ZVByb2plY3Rpb25UcmFuc2l0aW9uKCk7Y29uc3Qgcz10aGlzLl9pc0luaXRpYWxMb2FkPzA6dGhpcy5fZmFkZUR1cmF0aW9uO2lmKHRoaXMuc3R5bGUmJnRoaXMuX3N0eWxlRGlydHkpe3RoaXMuX3N0eWxlRGlydHk9ITE7Y29uc3QgZT10aGlzLnRyYW5zZm9ybS56b29tLHQ9dGhpcy50cmFuc2Zvcm0ucGl0Y2gsaT1kdC5ub3coKSxyPW5ldyBvYShlLHtub3c6aSxmYWRlRHVyYXRpb246cyxwaXRjaDp0LHRyYW5zaXRpb246dGhpcy5zdHlsZS50cmFuc2l0aW9ufSk7dGhpcy5zdHlsZS51cGRhdGUocik7fXRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuaGFzRm9nVHJhbnNpdGlvbigpJiYodGhpcy5zdHlsZS5fbWFya2Vyc05lZWRVcGRhdGU9ITAsdGhpcy5fc291cmNlc0RpcnR5PSEwKTtsZXQgYT0hMTtpZih0aGlzLnN0eWxlJiZ0aGlzLl9zb3VyY2VzRGlydHk/KHRoaXMuX3NvdXJjZXNEaXJ0eT0hMSx0aGlzLnBhaW50ZXIuX3VwZGF0ZUZvZyh0aGlzLnN0eWxlKSx0aGlzLl91cGRhdGVUZXJyYWluKCksYT10aGlzLl91cGRhdGVBdmVyYWdlRWxldmF0aW9uKG4pLHRoaXMuc3R5bGUudXBkYXRlU291cmNlcyh0aGlzLnRyYW5zZm9ybSksdGhpcy5fZm9yY2VNYXJrZXJBbmRQb3B1cFVwZGF0ZSgpKTphPXRoaXMuX3VwZGF0ZUF2ZXJhZ2VFbGV2YXRpb24obiksdGhpcy5fcGxhY2VtZW50RGlydHk9dGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5fdXBkYXRlUGxhY2VtZW50KHRoaXMucGFpbnRlci50cmFuc2Zvcm0sdGhpcy5zaG93Q29sbGlzaW9uQm94ZXMscyx0aGlzLl9jcm9zc1NvdXJjZUNvbGxpc2lvbnMpLHRoaXMuc3R5bGUmJnRoaXMucGFpbnRlci5yZW5kZXIodGhpcy5zdHlsZSx7c2hvd1RpbGVCb3VuZGFyaWVzOnRoaXMuc2hvd1RpbGVCb3VuZGFyaWVzLHdpcmVmcmFtZTp7dGVycmFpbjp0aGlzLnNob3dUZXJyYWluV2lyZWZyYW1lLGxheWVyczJEOnRoaXMuc2hvd0xheWVyczJEV2lyZWZyYW1lLGxheWVyczNEOnRoaXMuc2hvd0xheWVyczNEV2lyZWZyYW1lfSxzaG93T3ZlcmRyYXdJbnNwZWN0b3I6dGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yLHNob3dRdWVyeUdlb21ldHJ5OiEhdGhpcy5fc2hvd1F1ZXJ5R2VvbWV0cnksc2hvd1RpbGVBQUJCczp0aGlzLnNob3dUaWxlQUFCQnMscm90YXRpbmc6dGhpcy5pc1JvdGF0aW5nKCksem9vbWluZzp0aGlzLmlzWm9vbWluZygpLG1vdmluZzp0aGlzLmlzTW92aW5nKCksZmFkZUR1cmF0aW9uOnMsaXNJbml0aWFsTG9hZDp0aGlzLl9pc0luaXRpYWxMb2FkLHNob3dQYWRkaW5nOnRoaXMuc2hvd1BhZGRpbmcsZ3B1VGltaW5nOiEhdGhpcy5saXN0ZW5zKFwiZ3B1LXRpbWluZy1sYXllclwiKSxncHVUaW1pbmdEZWZlcnJlZFJlbmRlcjohIXRoaXMubGlzdGVucyhcImdwdS10aW1pbmctZGVmZXJyZWQtcmVuZGVyXCIpLHNwZWVkSW5kZXhUaW1pbmc6dGhpcy5zcGVlZEluZGV4VGltaW5nfSksdGhpcy5maXJlKG5ldyBJdChcInJlbmRlclwiKSksdGhpcy5sb2FkZWQoKSYmIXRoaXMuX2xvYWRlZCYmKHRoaXMuX2xvYWRlZD0hMCx0aGlzLmZpcmUobmV3IEl0KFwibG9hZFwiKSkpLHRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuaGFzVHJhbnNpdGlvbnMoKSYmKHRoaXMuX3N0eWxlRGlydHk9ITApLHRoaXMuc3R5bGUmJiF0aGlzLl9wbGFjZW1lbnREaXJ0eSYmdGhpcy5zdHlsZS5fcmVsZWFzZVN5bWJvbEZhZGVUaWxlcygpLGkpe2NvbnN0IGU9ZHQubm93KCktbjtvLmVuZFF1ZXJ5KHIuVElNRV9FTEFQU0VEX0VYVCksc2V0VGltZW91dCgoKCk9Pntjb25zdCByPW8uZ2V0UXVlcnlQYXJhbWV0ZXIoaSxvLlFVRVJZX1JFU1VMVCkvMWU2O28uZGVsZXRlUXVlcnkoaSksdGhpcy5maXJlKG5ldyBJdChcImdwdS10aW1pbmctZnJhbWVcIix7Y3B1VGltZTplLGdwdVRpbWU6cn0pKSx0LnBlcmZvcm1hbmNlLm1hcmsoXCJmcmFtZS1ncHVcIix7c3RhcnRUaW1lOm4sZGV0YWlsOntncHVUaW1lOnJ9fSk7fSksNTApO31pZih0aGlzLmxpc3RlbnMoXCJncHUtdGltaW5nLWxheWVyXCIpKXtjb25zdCBlPXRoaXMucGFpbnRlci5jb2xsZWN0R3B1VGltZXJzKCk7c2V0VGltZW91dCgoKCk9Pntjb25zdCB0PXRoaXMucGFpbnRlci5xdWVyeUdwdVRpbWVycyhlKTt0aGlzLmZpcmUobmV3IEl0KFwiZ3B1LXRpbWluZy1sYXllclwiLHtsYXllclRpbWVzOnR9KSk7fSksNTApO31pZih0aGlzLmxpc3RlbnMoXCJncHUtdGltaW5nLWRlZmVycmVkLXJlbmRlclwiKSl7Y29uc3QgZT10aGlzLnBhaW50ZXIuY29sbGVjdERlZmVycmVkUmVuZGVyR3B1UXVlcmllcygpO3NldFRpbWVvdXQoKCgpPT57Y29uc3QgdD10aGlzLnBhaW50ZXIucXVlcnlHcHVUaW1lRGVmZXJyZWRSZW5kZXIoZSk7dGhpcy5maXJlKG5ldyBJdChcImdwdS10aW1pbmctZGVmZXJyZWQtcmVuZGVyXCIse2dwdVRpbWU6dH0pKTt9KSw1MCk7fWNvbnN0IGw9dGhpcy5fc291cmNlc0RpcnR5fHx0aGlzLl9zdHlsZURpcnR5fHx0aGlzLl9wbGFjZW1lbnREaXJ0eXx8YTtpZihsfHx0aGlzLl9yZXBhaW50KXRoaXMudHJpZ2dlclJlcGFpbnQoKTtlbHNlIHtjb25zdCBlPSF0aGlzLmlzTW92aW5nKCkmJnRoaXMubG9hZGVkKCk7aWYoZSYmKGE9dGhpcy5fdXBkYXRlQXZlcmFnZUVsZXZhdGlvbihuLCEwKSksYSl0aGlzLnRyaWdnZXJSZXBhaW50KCk7ZWxzZSBpZih0aGlzLl90cmlnZ2VyRnJhbWUoITEpLGUmJih0aGlzLmZpcmUobmV3IEl0KFwiaWRsZVwiKSksdGhpcy5faXNJbml0aWFsTG9hZD0hMSx0aGlzLnNwZWVkSW5kZXhUaW1pbmcpKXtjb25zdCBlPXRoaXMuX2NhbGN1bGF0ZVNwZWVkSW5kZXgoKTt0aGlzLmZpcmUobmV3IEl0KFwic3BlZWRpbmRleGNvbXBsZXRlZFwiLHtzcGVlZEluZGV4OmV9KSksdGhpcy5zcGVlZEluZGV4VGltaW5nPSExO319IXRoaXMuX2xvYWRlZHx8dGhpcy5fZnVsbHlMb2FkZWR8fGx8fCh0aGlzLl9mdWxseUxvYWRlZD0hMCxRZS5tYXJrKEplLmZ1bGxMb2FkKSx0aGlzLl9wZXJmb3JtYW5jZU1ldHJpY3NDb2xsZWN0aW9uJiZXZSh0aGlzLl9yZXF1ZXN0TWFuYWdlci5fY3VzdG9tQWNjZXNzVG9rZW4se3dpZHRoOnRoaXMucGFpbnRlci53aWR0aCxoZWlnaHQ6dGhpcy5wYWludGVyLmhlaWdodCxpbnRlcmFjdGlvblJhbmdlOnRoaXMuX2ludGVyYWN0aW9uUmFuZ2UsdmlzaWJpbGl0eUhpZGRlbjp0aGlzLl92aXNpYmlsaXR5SGlkZGVuLHRlcnJhaW5FbmFibGVkOiEhdGhpcy5wYWludGVyLnN0eWxlLmdldFRlcnJhaW4oKSxmb2dFbmFibGVkOiEhdGhpcy5wYWludGVyLnN0eWxlLmdldEZvZygpLHByb2plY3Rpb246dGhpcy5nZXRQcm9qZWN0aW9uKCkubmFtZSx6b29tOnRoaXMudHJhbnNmb3JtLnpvb20scmVuZGVyZXI6dGhpcy5wYWludGVyLmNvbnRleHQucmVuZGVyZXIsdmVuZG9yOnRoaXMucGFpbnRlci5jb250ZXh0LnZlbmRvcn0pLHRoaXMuX2F1dGhlbnRpY2F0ZSgpKTt9X2ZvcmNlTWFya2VyQW5kUG9wdXBVcGRhdGUoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fbWFya2VycyllJiYhdGhpcy5nZXRSZW5kZXJXb3JsZENvcGllcygpJiYodC5fbG5nTGF0PXQuX2xuZ0xhdC53cmFwKCkpLHQuX3VwZGF0ZSgpO2Zvcihjb25zdCB0IG9mIHRoaXMuX3BvcHVwcykhZXx8dGhpcy5nZXRSZW5kZXJXb3JsZENvcGllcygpfHx0Ll90cmFja1BvaW50ZXJ8fCh0Ll9sbmdMYXQ9dC5fbG5nTGF0LndyYXAoKSksdC5fdXBkYXRlKCk7fV91cGRhdGVBdmVyYWdlRWxldmF0aW9uKGUsdD0hMSl7Y29uc3QgaT1lPT4odGhpcy50cmFuc2Zvcm0uYXZlcmFnZUVsZXZhdGlvbj1lLHRoaXMuX3VwZGF0ZSghMSksITApO2lmKCF0aGlzLnBhaW50ZXIuYXZlcmFnZUVsZXZhdGlvbk5lZWRzRWFzaW5nKCkpcmV0dXJuIDAhPT10aGlzLnRyYW5zZm9ybS5hdmVyYWdlRWxldmF0aW9uJiZpKDApO2NvbnN0IHI9dGhpcy50cmFuc2Zvcm0uZWxldmF0aW9uJiZ0aGlzLnRyYW5zZm9ybS5lbGV2YXRpb24uZXhhZ2dlcmF0aW9uKCkhPT10aGlzLl9hdmVyYWdlRWxldmF0aW9uRXhhZ2dlcmF0aW9uO2lmKHJ8fCh0fHxlLXRoaXMuX2F2ZXJhZ2VFbGV2YXRpb25MYXN0U2FtcGxlZEF0PjUwMCkmJiF0aGlzLl9hdmVyYWdlRWxldmF0aW9uLmlzRWFzaW5nKGUpKXtjb25zdCB0PXRoaXMudHJhbnNmb3JtLmF2ZXJhZ2VFbGV2YXRpb247bGV0IG49dGhpcy50cmFuc2Zvcm0uc2FtcGxlQXZlcmFnZUVsZXZhdGlvbigpO3RoaXMudHJhbnNmb3JtLmVsZXZhdGlvbiYmKHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb25FeGFnZ2VyYXRpb249dGhpcy50cmFuc2Zvcm0uZWxldmF0aW9uLmV4YWdnZXJhdGlvbigpKSxpc05hTihuKT9uPTA6dGhpcy5fYXZlcmFnZUVsZXZhdGlvbkxhc3RTYW1wbGVkQXQ9ZTtjb25zdCBvPU1hdGguYWJzKHQtbik7aWYobz4xKXtpZih0aGlzLl9pc0luaXRpYWxMb2FkfHxyKXJldHVybiB0aGlzLl9hdmVyYWdlRWxldmF0aW9uLmp1bXBUbyhuKSxpKG4pO3RoaXMuX2F2ZXJhZ2VFbGV2YXRpb24uZWFzZVRvKG4sZSwzMDApO31lbHNlIGlmKG8+MWUtNClyZXR1cm4gdGhpcy5fYXZlcmFnZUVsZXZhdGlvbi5qdW1wVG8obiksaShuKX1yZXR1cm4gISF0aGlzLl9hdmVyYWdlRWxldmF0aW9uLmlzRWFzaW5nKGUpJiZpKHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb24uZ2V0VmFsdWUoZSkpfV9hdXRoZW50aWNhdGUoKXtYZSh0aGlzLl9nZXRNYXBJZCgpLHRoaXMuX3JlcXVlc3RNYW5hZ2VyLl9za3VUb2tlbix0aGlzLl9yZXF1ZXN0TWFuYWdlci5fY3VzdG9tQWNjZXNzVG9rZW4sKGU9PntpZihlJiYoZS5tZXNzYWdlPT09Q2V8fDQwMT09PWUuc3RhdHVzKSl7Y29uc3QgZT10aGlzLnBhaW50ZXIuY29udGV4dC5nbDtLZShlLCExKSx0aGlzLl9sb2dvQ29udHJvbCBpbnN0YW5jZW9mIHJJJiZ0aGlzLl9sb2dvQ29udHJvbC5fdXBkYXRlTG9nbygpLGUmJmUuY2xlYXIoZS5ERVBUSF9CVUZGRVJfQklUfGUuQ09MT1JfQlVGRkVSX0JJVHxlLlNURU5DSUxfQlVGRkVSX0JJVCksdGhpcy5fc2lsZW5jZUF1dGhFcnJvcnN8fHRoaXMuZmlyZShuZXcgQ3QobmV3IEVycm9yKFwiQSB2YWxpZCBNYXBib3ggYWNjZXNzIHRva2VuIGlzIHJlcXVpcmVkIHRvIHVzZSBNYXBib3ggR0wgSlMuIFRvIGNyZWF0ZSBhbiBhY2NvdW50IG9yIGEgbmV3IGFjY2VzcyB0b2tlbiwgdmlzaXQgaHR0cHM6Ly9hY2NvdW50Lm1hcGJveC5jb20vXCIpKSk7fX0pKSxaZSh0aGlzLl9nZXRNYXBJZCgpLHRoaXMuX3JlcXVlc3RNYW5hZ2VyLl9za3VUb2tlbix0aGlzLl9yZXF1ZXN0TWFuYWdlci5fY3VzdG9tQWNjZXNzVG9rZW4sKCgpPT57fSkpO31fdXBkYXRlVGVycmFpbigpe2NvbnN0IGU9dGhpcy5faXNEcmFnZ2luZygpO3RoaXMucGFpbnRlci51cGRhdGVUZXJyYWluKHRoaXMuc3R5bGUsZSk7fV9jYWxjdWxhdGVTcGVlZEluZGV4KCl7Y29uc3QgZT10aGlzLnBhaW50ZXIuY2FudmFzQ29weSgpLHQ9dGhpcy5wYWludGVyLmdldENhbnZhc0NvcGllc0FuZFRpbWVzdGFtcHMoKTt0LnRpbWVTdGFtcHMucHVzaChwZXJmb3JtYW5jZS5ub3coKSk7Y29uc3QgaT10aGlzLnBhaW50ZXIuY29udGV4dC5nbCxyPWkuY3JlYXRlRnJhbWVidWZmZXIoKTtmdW5jdGlvbiBuKGUpe2kuZnJhbWVidWZmZXJUZXh0dXJlMkQoaS5GUkFNRUJVRkZFUixpLkNPTE9SX0FUVEFDSE1FTlQwLGkuVEVYVFVSRV8yRCxlLDApO2NvbnN0IHQ9bmV3IFVpbnQ4QXJyYXkoaS5kcmF3aW5nQnVmZmVyV2lkdGgqaS5kcmF3aW5nQnVmZmVySGVpZ2h0KjQpO3JldHVybiBpLnJlYWRQaXhlbHMoMCwwLGkuZHJhd2luZ0J1ZmZlcldpZHRoLGkuZHJhd2luZ0J1ZmZlckhlaWdodCxpLlJHQkEsaS5VTlNJR05FRF9CWVRFLHQpLHR9cmV0dXJuIGkuYmluZEZyYW1lYnVmZmVyKGkuRlJBTUVCVUZGRVIsciksdGhpcy5fY2FudmFzUGl4ZWxDb21wYXJpc29uKG4oZSksdC5jYW52YXNDb3BpZXMubWFwKG4pLHQudGltZVN0YW1wcyl9X2NhbnZhc1BpeGVsQ29tcGFyaXNvbihlLHQsaSl7bGV0IHI9aVsxXS1pWzBdO2NvbnN0IG49ZS5sZW5ndGgvNDtmb3IobGV0IG89MDtvPHQubGVuZ3RoO28rKyl7Y29uc3Qgcz10W29dO2xldCBhPTA7Zm9yKGxldCB0PTA7dDxzLmxlbmd0aDt0Kz00KXNbdF09PT1lW3RdJiZzW3QrMV09PT1lW3QrMV0mJnNbdCsyXT09PWVbdCsyXSYmc1t0KzNdPT09ZVt0KzNdJiYoYSs9MSk7cis9KGlbbysyXS1pW28rMV0pKigxLWEvbik7fXJldHVybiByfXJlbW92ZSgpe3RoaXMuX2hhc2gmJnRoaXMuX2hhc2gucmVtb3ZlKCk7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fY29udHJvbHMpZS5vblJlbW92ZSh0aGlzKTt0aGlzLl9jb250cm9scz1bXSx0aGlzLl9mcmFtZSYmKHRoaXMuX2ZyYW1lLmNhbmNlbCgpLHRoaXMuX2ZyYW1lPW51bGwpLHRoaXMuX3JlbmRlclRhc2tRdWV1ZS5jbGVhcigpLHRoaXMuX2RvbVJlbmRlclRhc2tRdWV1ZS5jbGVhcigpLHRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuZGVzdHJveSgpLHRoaXMucGFpbnRlci5kZXN0cm95KCksdGhpcy5oYW5kbGVycyYmdGhpcy5oYW5kbGVycy5kZXN0cm95KCksdGhpcy5oYW5kbGVycz12b2lkIDAsdGhpcy5zZXRTdHlsZShudWxsKSx2b2lkIDAhPT10JiYodC5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsdGhpcy5fb25XaW5kb3dSZXNpemUsITEpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9yaWVudGF0aW9uY2hhbmdlXCIsdGhpcy5fb25XaW5kb3dSZXNpemUsITEpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl9mdWxsc2NyZWVuY2hhbmdlRXZlbnQsdGhpcy5fb25XaW5kb3dSZXNpemUsITEpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9ubGluZVwiLHRoaXMuX29uV2luZG93T25saW5lLCExKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlLCExKSk7Y29uc3QgZT10aGlzLnBhaW50ZXIuY29udGV4dC5nbC5nZXRFeHRlbnNpb24oXCJXRUJHTF9sb3NlX2NvbnRleHRcIik7ZSYmZS5sb3NlQ29udGV4dCgpLHRoaXMuX2NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKFwid2ViZ2xjb250ZXh0bG9zdFwiLHRoaXMuX2NvbnRleHRMb3N0LCExKSx0aGlzLl9jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIndlYmdsY29udGV4dHJlc3RvcmVkXCIsdGhpcy5fY29udGV4dFJlc3RvcmVkLCExKSx0aGlzLl9jYW52YXNDb250YWluZXIucmVtb3ZlKCksdGhpcy5fY29udHJvbENvbnRhaW5lci5yZW1vdmUoKSx0aGlzLl9taXNzaW5nQ1NTQ2FuYXJ5LnJlbW92ZSgpLHRoaXMuX2NhbnZhcz12b2lkIDAsdGhpcy5fY2FudmFzQ29udGFpbmVyPXZvaWQgMCx0aGlzLl9jb250cm9sQ29udGFpbmVyPXZvaWQgMCx0aGlzLl9taXNzaW5nQ1NTQ2FuYXJ5PXZvaWQgMCx0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLW1hcFwiKSx0aGlzLl9jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLHRoaXMuX29uTWFwU2Nyb2xsLCExKSxZZS5kZWxldGUodGhpcy5wYWludGVyLmNvbnRleHQuZ2wpLHRoaXMuX3JlbW92ZWQ9ITAsdGhpcy5maXJlKG5ldyBJdChcInJlbW92ZVwiKSk7fXRyaWdnZXJSZXBhaW50KCl7dGhpcy5fdHJpZ2dlckZyYW1lKCEwKTt9X3RyaWdnZXJGcmFtZShlKXt0aGlzLl9yZW5kZXJOZXh0RnJhbWU9dGhpcy5fcmVuZGVyTmV4dEZyYW1lfHxlLHRoaXMuc3R5bGUmJiF0aGlzLl9mcmFtZSYmKHRoaXMuX2ZyYW1lPWR0LmZyYW1lKChlPT57Y29uc3QgdD0hIXRoaXMuX3JlbmRlck5leHRGcmFtZTt0aGlzLl9mcmFtZT1udWxsLHRoaXMuX3JlbmRlck5leHRGcmFtZT1udWxsLHQmJnRoaXMuX3JlbmRlcihlKTt9KSkpO31fcHJlbG9hZFRpbGVzKGUpe3JldHVybiBSKHRoaXMuc3R5bGU/T2JqZWN0LnZhbHVlcyh0aGlzLnN0eWxlLl9zb3VyY2VDYWNoZXMpOltdLCgodCxpKT0+dC5fcHJlbG9hZFRpbGVzKGUsaSkpLCgoKT0+e3RoaXMudHJpZ2dlclJlcGFpbnQoKTt9KSksdGhpc31fb25XaW5kb3dPbmxpbmUoKXt0aGlzLl91cGRhdGUoKTt9X29uV2luZG93UmVzaXplKGUpe3RoaXMuX3RyYWNrUmVzaXplJiZ0aGlzLnJlc2l6ZSh7b3JpZ2luYWxFdmVudDplfSkuX3VwZGF0ZSgpO31fb25WaXNpYmlsaXR5Q2hhbmdlKCl7XCJoaWRkZW5cIj09PXQuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlJiZ0aGlzLl92aXNpYmlsaXR5SGlkZGVuKys7fWdldCBzaG93VGlsZUJvdW5kYXJpZXMoKXtyZXR1cm4gISF0aGlzLl9zaG93VGlsZUJvdW5kYXJpZXN9c2V0IHNob3dUaWxlQm91bmRhcmllcyhlKXt0aGlzLl9zaG93VGlsZUJvdW5kYXJpZXMhPT1lJiYodGhpcy5fc2hvd1RpbGVCb3VuZGFyaWVzPWUsdGhpcy5fdXBkYXRlKCkpO31nZXQgc2hvd1RlcnJhaW5XaXJlZnJhbWUoKXtyZXR1cm4gISF0aGlzLl9zaG93VGVycmFpbldpcmVmcmFtZX1zZXQgc2hvd1RlcnJhaW5XaXJlZnJhbWUoZSl7dGhpcy5fc2hvd1RlcnJhaW5XaXJlZnJhbWUhPT1lJiYodGhpcy5fc2hvd1RlcnJhaW5XaXJlZnJhbWU9ZSx0aGlzLl91cGRhdGUoKSk7fWdldCBzaG93TGF5ZXJzMkRXaXJlZnJhbWUoKXtyZXR1cm4gISF0aGlzLl9zaG93TGF5ZXJzMkRXaXJlZnJhbWV9c2V0IHNob3dMYXllcnMyRFdpcmVmcmFtZShlKXt0aGlzLl9zaG93TGF5ZXJzMkRXaXJlZnJhbWUhPT1lJiYodGhpcy5fc2hvd0xheWVyczJEV2lyZWZyYW1lPWUsdGhpcy5fdXBkYXRlKCkpO31nZXQgc2hvd0xheWVyczNEV2lyZWZyYW1lKCl7cmV0dXJuICEhdGhpcy5fc2hvd0xheWVyczNEV2lyZWZyYW1lfXNldCBzaG93TGF5ZXJzM0RXaXJlZnJhbWUoZSl7dGhpcy5fc2hvd0xheWVyczNEV2lyZWZyYW1lIT09ZSYmKHRoaXMuX3Nob3dMYXllcnMzRFdpcmVmcmFtZT1lLHRoaXMuX3VwZGF0ZSgpKTt9Z2V0IHNwZWVkSW5kZXhUaW1pbmcoKXtyZXR1cm4gISF0aGlzLl9zcGVlZEluZGV4VGltaW5nfXNldCBzcGVlZEluZGV4VGltaW5nKGUpe3RoaXMuX3NwZWVkSW5kZXhUaW1pbmchPT1lJiYodGhpcy5fc3BlZWRJbmRleFRpbWluZz1lLHRoaXMuX3VwZGF0ZSgpKTt9Z2V0IHNob3dQYWRkaW5nKCl7cmV0dXJuICEhdGhpcy5fc2hvd1BhZGRpbmd9c2V0IHNob3dQYWRkaW5nKGUpe3RoaXMuX3Nob3dQYWRkaW5nIT09ZSYmKHRoaXMuX3Nob3dQYWRkaW5nPWUsdGhpcy5fdXBkYXRlKCkpO31nZXQgc2hvd0NvbGxpc2lvbkJveGVzKCl7cmV0dXJuICEhdGhpcy5fc2hvd0NvbGxpc2lvbkJveGVzfXNldCBzaG93Q29sbGlzaW9uQm94ZXMoZSl7dGhpcy5fc2hvd0NvbGxpc2lvbkJveGVzIT09ZSYmKHRoaXMuX3Nob3dDb2xsaXNpb25Cb3hlcz1lLGU/dGhpcy5zdHlsZS5fZ2VuZXJhdGVDb2xsaXNpb25Cb3hlcygpOnRoaXMuX3VwZGF0ZSgpKTt9Z2V0IHNob3dPdmVyZHJhd0luc3BlY3Rvcigpe3JldHVybiAhIXRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3Rvcn1zZXQgc2hvd092ZXJkcmF3SW5zcGVjdG9yKGUpe3RoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3RvciE9PWUmJih0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3I9ZSx0aGlzLl91cGRhdGUoKSk7fWdldCByZXBhaW50KCl7cmV0dXJuICEhdGhpcy5fcmVwYWludH1zZXQgcmVwYWludChlKXt0aGlzLl9yZXBhaW50IT09ZSYmKHRoaXMuX3JlcGFpbnQ9ZSx0aGlzLnRyaWdnZXJSZXBhaW50KCkpO31nZXQgdmVydGljZXMoKXtyZXR1cm4gISF0aGlzLl92ZXJ0aWNlc31zZXQgdmVydGljZXMoZSl7dGhpcy5fdmVydGljZXM9ZSx0aGlzLl91cGRhdGUoKTt9Z2V0IHNob3dUaWxlQUFCQnMoKXtyZXR1cm4gISF0aGlzLl9zaG93VGlsZUFBQkJzfXNldCBzaG93VGlsZUFBQkJzKGUpe3RoaXMuX3Nob3dUaWxlQUFCQnMhPT1lJiYodGhpcy5fc2hvd1RpbGVBQUJCcz1lLGUmJnRoaXMuX3VwZGF0ZSgpKTt9X3NldENhY2hlTGltaXRzKGUsdCl7IWZ1bmN0aW9uKGUsdCl7Y2U9ZSxoZT10O30oZSx0KTt9Z2V0IHZlcnNpb24oKXtyZXR1cm4gaX19LE5hdmlnYXRpb25Db250cm9sOmNsYXNze2NvbnN0cnVjdG9yKGUpe3RoaXMub3B0aW9ucz1rKHt9LGZJLGUpLHRoaXMuX2NvbnRhaW5lcj1wdChcImRpdlwiLFwibWFwYm94Z2wtY3RybCBtYXBib3hnbC1jdHJsLWdyb3VwXCIpLHRoaXMuX2NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIiwoZT0+ZS5wcmV2ZW50RGVmYXVsdCgpKSksdGhpcy5vcHRpb25zLnNob3dab29tJiYoaihbXCJfc2V0QnV0dG9uVGl0bGVcIixcIl91cGRhdGVab29tQnV0dG9uc1wiXSx0aGlzKSx0aGlzLl96b29tSW5CdXR0b249dGhpcy5fY3JlYXRlQnV0dG9uKFwibWFwYm94Z2wtY3RybC16b29tLWluXCIsKGU9Pnt0aGlzLl9tYXAmJnRoaXMuX21hcC56b29tSW4oe30se29yaWdpbmFsRXZlbnQ6ZX0pO30pKSxwdChcInNwYW5cIixcIm1hcGJveGdsLWN0cmwtaWNvblwiLHRoaXMuX3pvb21JbkJ1dHRvbikuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIiksdGhpcy5fem9vbU91dEJ1dHRvbj10aGlzLl9jcmVhdGVCdXR0b24oXCJtYXBib3hnbC1jdHJsLXpvb20tb3V0XCIsKGU9Pnt0aGlzLl9tYXAmJnRoaXMuX21hcC56b29tT3V0KHt9LHtvcmlnaW5hbEV2ZW50OmV9KTt9KSkscHQoXCJzcGFuXCIsXCJtYXBib3hnbC1jdHJsLWljb25cIix0aGlzLl96b29tT3V0QnV0dG9uKS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSksdGhpcy5vcHRpb25zLnNob3dDb21wYXNzJiYoaihbXCJfcm90YXRlQ29tcGFzc0Fycm93XCJdLHRoaXMpLHRoaXMuX2NvbXBhc3M9dGhpcy5fY3JlYXRlQnV0dG9uKFwibWFwYm94Z2wtY3RybC1jb21wYXNzXCIsKGU9Pntjb25zdCB0PXRoaXMuX21hcDt0JiYodGhpcy5vcHRpb25zLnZpc3VhbGl6ZVBpdGNoP3QucmVzZXROb3J0aFBpdGNoKHt9LHtvcmlnaW5hbEV2ZW50OmV9KTp0LnJlc2V0Tm9ydGgoe30se29yaWdpbmFsRXZlbnQ6ZX0pKTt9KSksdGhpcy5fY29tcGFzc0ljb249cHQoXCJzcGFuXCIsXCJtYXBib3hnbC1jdHJsLWljb25cIix0aGlzLl9jb21wYXNzKSx0aGlzLl9jb21wYXNzSWNvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSk7fV91cGRhdGVab29tQnV0dG9ucygpe2NvbnN0IGU9dGhpcy5fbWFwO2lmKCFlKXJldHVybjtjb25zdCB0PWUuZ2V0Wm9vbSgpLGk9dD09PWUuZ2V0TWF4Wm9vbSgpLHI9dD09PWUuZ2V0TWluWm9vbSgpO3RoaXMuX3pvb21JbkJ1dHRvbi5kaXNhYmxlZD1pLHRoaXMuX3pvb21PdXRCdXR0b24uZGlzYWJsZWQ9cix0aGlzLl96b29tSW5CdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiLGkudG9TdHJpbmcoKSksdGhpcy5fem9vbU91dEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIsci50b1N0cmluZygpKTt9X3JvdGF0ZUNvbXBhc3NBcnJvdygpe2NvbnN0IGU9dGhpcy5fbWFwO2lmKCFlKXJldHVybjtjb25zdCB0PXRoaXMub3B0aW9ucy52aXN1YWxpemVQaXRjaD9gc2NhbGUoJHsxL01hdGgucG93KE1hdGguY29zKGUudHJhbnNmb3JtLnBpdGNoKihNYXRoLlBJLzE4MCkpLC41KX0pIHJvdGF0ZVgoJHtlLnRyYW5zZm9ybS5waXRjaH1kZWcpIHJvdGF0ZVooJHtlLnRyYW5zZm9ybS5hbmdsZSooMTgwL01hdGguUEkpfWRlZylgOmByb3RhdGUoJHtlLnRyYW5zZm9ybS5hbmdsZSooMTgwL01hdGguUEkpfWRlZylgO2UuX3JlcXVlc3REb21UYXNrKCgoKT0+e3RoaXMuX2NvbXBhc3NJY29uJiYodGhpcy5fY29tcGFzc0ljb24uc3R5bGUudHJhbnNmb3JtPXQpO30pKTt9b25BZGQoZSl7cmV0dXJuIHRoaXMuX21hcD1lLHRoaXMub3B0aW9ucy5zaG93Wm9vbSYmKHRoaXMuX3NldEJ1dHRvblRpdGxlKHRoaXMuX3pvb21JbkJ1dHRvbixcIlpvb21JblwiKSx0aGlzLl9zZXRCdXR0b25UaXRsZSh0aGlzLl96b29tT3V0QnV0dG9uLFwiWm9vbU91dFwiKSxlLm9uKFwiem9vbVwiLHRoaXMuX3VwZGF0ZVpvb21CdXR0b25zKSx0aGlzLl91cGRhdGVab29tQnV0dG9ucygpKSx0aGlzLm9wdGlvbnMuc2hvd0NvbXBhc3MmJih0aGlzLl9zZXRCdXR0b25UaXRsZSh0aGlzLl9jb21wYXNzLFwiUmVzZXRCZWFyaW5nXCIpLHRoaXMub3B0aW9ucy52aXN1YWxpemVQaXRjaCYmZS5vbihcInBpdGNoXCIsdGhpcy5fcm90YXRlQ29tcGFzc0Fycm93KSxlLm9uKFwicm90YXRlXCIsdGhpcy5fcm90YXRlQ29tcGFzc0Fycm93KSx0aGlzLl9yb3RhdGVDb21wYXNzQXJyb3coKSx0aGlzLl9oYW5kbGVyPW5ldyBtSShlLHRoaXMuX2NvbXBhc3MsdGhpcy5vcHRpb25zLnZpc3VhbGl6ZVBpdGNoKSksdGhpcy5fY29udGFpbmVyfW9uUmVtb3ZlKCl7Y29uc3QgZT10aGlzLl9tYXA7ZSYmKHRoaXMuX2NvbnRhaW5lci5yZW1vdmUoKSx0aGlzLm9wdGlvbnMuc2hvd1pvb20mJmUub2ZmKFwiem9vbVwiLHRoaXMuX3VwZGF0ZVpvb21CdXR0b25zKSx0aGlzLm9wdGlvbnMuc2hvd0NvbXBhc3MmJih0aGlzLm9wdGlvbnMudmlzdWFsaXplUGl0Y2gmJmUub2ZmKFwicGl0Y2hcIix0aGlzLl9yb3RhdGVDb21wYXNzQXJyb3cpLGUub2ZmKFwicm90YXRlXCIsdGhpcy5fcm90YXRlQ29tcGFzc0Fycm93KSx0aGlzLl9oYW5kbGVyJiZ0aGlzLl9oYW5kbGVyLm9mZigpLHRoaXMuX2hhbmRsZXI9dm9pZCAwKSx0aGlzLl9tYXA9dm9pZCAwKTt9X2NyZWF0ZUJ1dHRvbihlLHQpe2NvbnN0IGk9cHQoXCJidXR0b25cIixlLHRoaXMuX2NvbnRhaW5lcik7cmV0dXJuIGkudHlwZT1cImJ1dHRvblwiLGkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdCksaX1fc2V0QnV0dG9uVGl0bGUoZSx0KXtpZighdGhpcy5fbWFwKXJldHVybjtjb25zdCBpPXRoaXMuX21hcC5fZ2V0VUlTdHJpbmcoYE5hdmlnYXRpb25Db250cm9sLiR7dH1gKTtlLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixpKSxlLmZpcnN0RWxlbWVudENoaWxkJiZlLmZpcnN0RWxlbWVudENoaWxkLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsaSk7fX0sR2VvbG9jYXRlQ29udHJvbDpjbGFzcyBleHRlbmRzIHp0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5vcHRpb25zPWsoe2dlb2xvY2F0aW9uOnQubmF2aWdhdG9yLmdlb2xvY2F0aW9ufSxfSSxlKSxqKFtcIl9vblN1Y2Nlc3NcIixcIl9vbkVycm9yXCIsXCJfb25ab29tXCIsXCJfZmluaXNoXCIsXCJfc2V0dXBVSVwiLFwiX3VwZGF0ZUNhbWVyYVwiLFwiX3VwZGF0ZU1hcmtlclwiLFwiX3VwZGF0ZU1hcmtlclJvdGF0aW9uXCIsXCJfb25EZXZpY2VPcmllbnRhdGlvblwiXSx0aGlzKSx0aGlzLl91cGRhdGVNYXJrZXJSb3RhdGlvblRocm90dGxlZD1yUyh0aGlzLl91cGRhdGVNYXJrZXJSb3RhdGlvbiwyMCksdGhpcy5fbnVtYmVyT2ZXYXRjaGVzPTA7fW9uQWRkKGUpe3JldHVybiB0aGlzLl9tYXA9ZSx0aGlzLl9jb250YWluZXI9cHQoXCJkaXZcIixcIm1hcGJveGdsLWN0cmwgbWFwYm94Z2wtY3RybC1ncm91cFwiKSx0aGlzLl9jaGVja0dlb2xvY2F0aW9uU3VwcG9ydCh0aGlzLl9zZXR1cFVJKSx0aGlzLl9jb250YWluZXJ9b25SZW1vdmUoKXt2b2lkIDAhPT10aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQmJih0aGlzLm9wdGlvbnMuZ2VvbG9jYXRpb24uY2xlYXJXYXRjaCh0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQpLHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRD12b2lkIDApLHRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uJiZ0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXImJnRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5yZW1vdmUoKSx0aGlzLm9wdGlvbnMuc2hvd0FjY3VyYWN5Q2lyY2xlJiZ0aGlzLl9hY2N1cmFjeUNpcmNsZU1hcmtlciYmdGhpcy5fYWNjdXJhY3lDaXJjbGVNYXJrZXIucmVtb3ZlKCksdGhpcy5fY29udGFpbmVyLnJlbW92ZSgpLHRoaXMuX21hcC5vZmYoXCJ6b29tXCIsdGhpcy5fb25ab29tKSx0aGlzLl9tYXA9dm9pZCAwLHRoaXMuX251bWJlck9mV2F0Y2hlcz0wLHRoaXMuX25vVGltZW91dD0hMTt9X2NoZWNrR2VvbG9jYXRpb25TdXBwb3J0KGUpe2NvbnN0IGk9KHQ9ISF0aGlzLm9wdGlvbnMuZ2VvbG9jYXRpb24pPT57dGhpcy5fc3VwcG9ydHNHZW9sb2NhdGlvbj10LGUodCk7fTt2b2lkIDAhPT10aGlzLl9zdXBwb3J0c0dlb2xvY2F0aW9uP2UodGhpcy5fc3VwcG9ydHNHZW9sb2NhdGlvbik6dm9pZCAwIT09dC5uYXZpZ2F0b3IucGVybWlzc2lvbnM/dC5uYXZpZ2F0b3IucGVybWlzc2lvbnMucXVlcnkoe25hbWU6XCJnZW9sb2NhdGlvblwifSkudGhlbigoZT0+aShcImRlbmllZFwiIT09ZS5zdGF0ZSkpKS5jYXRjaCgoKCk9PmkoKSkpOmkoKTt9X2lzT3V0T2ZNYXBNYXhCb3VuZHMoZSl7Y29uc3QgdD10aGlzLl9tYXAuZ2V0TWF4Qm91bmRzKCksaT1lLmNvb3JkcztyZXR1cm4gISF0JiYoaS5sb25naXR1ZGU8dC5nZXRXZXN0KCl8fGkubG9uZ2l0dWRlPnQuZ2V0RWFzdCgpfHxpLmxhdGl0dWRlPHQuZ2V0U291dGgoKXx8aS5sYXRpdHVkZT50LmdldE5vcnRoKCkpfV9zZXRFcnJvclN0YXRlKCl7c3dpdGNoKHRoaXMuX3dhdGNoU3RhdGUpe2Nhc2VcIldBSVRJTkdfQUNUSVZFXCI6dGhpcy5fd2F0Y2hTdGF0ZT1cIkFDVElWRV9FUlJPUlwiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yXCIpO2JyZWFrO2Nhc2VcIkFDVElWRV9MT0NLXCI6dGhpcy5fd2F0Y2hTdGF0ZT1cIkFDVElWRV9FUlJPUlwiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKTticmVhaztjYXNlXCJCQUNLR1JPVU5EXCI6dGhpcy5fd2F0Y2hTdGF0ZT1cIkJBQ0tHUk9VTkRfRVJST1JcIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmRcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKTt9fV9vblN1Y2Nlc3MoZSl7aWYodGhpcy5fbWFwKXtpZih0aGlzLl9pc091dE9mTWFwTWF4Qm91bmRzKGUpKXJldHVybiB0aGlzLl9zZXRFcnJvclN0YXRlKCksdGhpcy5maXJlKG5ldyBJdChcIm91dG9mbWF4Ym91bmRzXCIsZSkpLHRoaXMuX3VwZGF0ZU1hcmtlcigpLHZvaWQgdGhpcy5fZmluaXNoKCk7aWYodGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uKXN3aXRjaCh0aGlzLl9sYXN0S25vd25Qb3NpdGlvbj1lLHRoaXMuX3dhdGNoU3RhdGUpe2Nhc2VcIldBSVRJTkdfQUNUSVZFXCI6Y2FzZVwiQUNUSVZFX0xPQ0tcIjpjYXNlXCJBQ1RJVkVfRVJST1JcIjp0aGlzLl93YXRjaFN0YXRlPVwiQUNUSVZFX0xPQ0tcIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUtZXJyb3JcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmVcIik7YnJlYWs7Y2FzZVwiQkFDS0dST1VORFwiOmNhc2VcIkJBQ0tHUk9VTkRfRVJST1JcIjp0aGlzLl93YXRjaFN0YXRlPVwiQkFDS0dST1VORFwiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3JcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kXCIpO310aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiYmXCJPRkZcIiE9PXRoaXMuX3dhdGNoU3RhdGUmJnRoaXMuX3VwZGF0ZU1hcmtlcihlKSx0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24mJlwiQUNUSVZFX0xPQ0tcIiE9PXRoaXMuX3dhdGNoU3RhdGV8fHRoaXMuX3VwZGF0ZUNhbWVyYShlKSx0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiYmdGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyLnJlbW92ZUNsYXNzTmFtZShcIm1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90LXN0YWxlXCIpLHRoaXMuZmlyZShuZXcgSXQoXCJnZW9sb2NhdGVcIixlKSksdGhpcy5fZmluaXNoKCk7fX1fdXBkYXRlQ2FtZXJhKGUpe2NvbnN0IHQ9bmV3IFdkKGUuY29vcmRzLmxvbmdpdHVkZSxlLmNvb3Jkcy5sYXRpdHVkZSksaT1lLmNvb3Jkcy5hY2N1cmFjeSxyPWsoe2JlYXJpbmc6dGhpcy5fbWFwLmdldEJlYXJpbmcoKX0sdGhpcy5vcHRpb25zLmZpdEJvdW5kc09wdGlvbnMpO3RoaXMuX21hcC5maXRCb3VuZHModC50b0JvdW5kcyhpKSxyLHtnZW9sb2NhdGVTb3VyY2U6ITB9KTt9X3VwZGF0ZU1hcmtlcihlKXtpZihlKXtjb25zdCB0PW5ldyBXZChlLmNvb3Jkcy5sb25naXR1ZGUsZS5jb29yZHMubGF0aXR1ZGUpO3RoaXMuX2FjY3VyYWN5Q2lyY2xlTWFya2VyLnNldExuZ0xhdCh0KS5hZGRUbyh0aGlzLl9tYXApLHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5zZXRMbmdMYXQodCkuYWRkVG8odGhpcy5fbWFwKSx0aGlzLl9hY2N1cmFjeT1lLmNvb3Jkcy5hY2N1cmFjeSx0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiYmdGhpcy5vcHRpb25zLnNob3dBY2N1cmFjeUNpcmNsZSYmdGhpcy5fdXBkYXRlQ2lyY2xlUmFkaXVzKCk7fWVsc2UgdGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyLnJlbW92ZSgpLHRoaXMuX2FjY3VyYWN5Q2lyY2xlTWFya2VyLnJlbW92ZSgpO31fdXBkYXRlQ2lyY2xlUmFkaXVzKCl7Y29uc3QgZT10aGlzLl9tYXAudHJhbnNmb3JtLHQ9UWQoMSxlLl9jZW50ZXIubGF0KSplLndvcmxkU2l6ZSxpPU1hdGguY2VpbCgyKnRoaXMuX2FjY3VyYWN5KnQpO3RoaXMuX2NpcmNsZUVsZW1lbnQuc3R5bGUud2lkdGg9YCR7aX1weGAsdGhpcy5fY2lyY2xlRWxlbWVudC5zdHlsZS5oZWlnaHQ9YCR7aX1weGA7fV9vblpvb20oKXt0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiYmdGhpcy5vcHRpb25zLnNob3dBY2N1cmFjeUNpcmNsZSYmdGhpcy5fdXBkYXRlQ2lyY2xlUmFkaXVzKCk7fV91cGRhdGVNYXJrZXJSb3RhdGlvbigpe3RoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlciYmXCJudW1iZXJcIj09dHlwZW9mIHRoaXMuX2hlYWRpbmc/KHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5zZXRSb3RhdGlvbih0aGlzLl9oZWFkaW5nKSx0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIuYWRkQ2xhc3NOYW1lKFwibWFwYm94Z2wtdXNlci1sb2NhdGlvbi1zaG93LWhlYWRpbmdcIikpOih0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIucmVtb3ZlQ2xhc3NOYW1lKFwibWFwYm94Z2wtdXNlci1sb2NhdGlvbi1zaG93LWhlYWRpbmdcIiksdGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyLnNldFJvdGF0aW9uKDApKTt9X29uRXJyb3IoZSl7aWYodGhpcy5fbWFwKXtpZih0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24paWYoMT09PWUuY29kZSl7dGhpcy5fd2F0Y2hTdGF0ZT1cIk9GRlwiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZVwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvclwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmRcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5kaXNhYmxlZD0hMDtjb25zdCBlPXRoaXMuX21hcC5fZ2V0VUlTdHJpbmcoXCJHZW9sb2NhdGVDb250cm9sLkxvY2F0aW9uTm90QXZhaWxhYmxlXCIpO3RoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsZSksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmZpcnN0RWxlbWVudENoaWxkJiZ0aGlzLl9nZW9sb2NhdGVCdXR0b24uZmlyc3RFbGVtZW50Q2hpbGQuc2V0QXR0cmlidXRlKFwidGl0bGVcIixlKSx2b2lkIDAhPT10aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQmJnRoaXMuX2NsZWFyV2F0Y2goKTt9ZWxzZSB7aWYoMz09PWUuY29kZSYmdGhpcy5fbm9UaW1lb3V0KXJldHVybjt0aGlzLl9zZXRFcnJvclN0YXRlKCk7fVwiT0ZGXCIhPT10aGlzLl93YXRjaFN0YXRlJiZ0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiYmdGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyLmFkZENsYXNzTmFtZShcIm1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90LXN0YWxlXCIpLHRoaXMuZmlyZShuZXcgSXQoXCJlcnJvclwiLGUpKSx0aGlzLl9maW5pc2goKTt9fV9maW5pc2goKXt0aGlzLl90aW1lb3V0SWQmJmNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0SWQpLHRoaXMuX3RpbWVvdXRJZD12b2lkIDA7fV9zZXR1cFVJKGUpe2lmKHZvaWQgMCE9PXRoaXMuX21hcCl7aWYodGhpcy5fY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLChlPT5lLnByZXZlbnREZWZhdWx0KCkpKSx0aGlzLl9nZW9sb2NhdGVCdXR0b249cHQoXCJidXR0b25cIixcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlXCIsdGhpcy5fY29udGFpbmVyKSxwdChcInNwYW5cIixcIm1hcGJveGdsLWN0cmwtaWNvblwiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbikuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnR5cGU9XCJidXR0b25cIiwhMT09PWUpe0goXCJHZW9sb2NhdGlvbiBzdXBwb3J0IGlzIG5vdCBhdmFpbGFibGUgc28gdGhlIEdlb2xvY2F0ZUNvbnRyb2wgd2lsbCBiZSBkaXNhYmxlZC5cIik7Y29uc3QgZT10aGlzLl9tYXAuX2dldFVJU3RyaW5nKFwiR2VvbG9jYXRlQ29udHJvbC5Mb2NhdGlvbk5vdEF2YWlsYWJsZVwiKTt0aGlzLl9nZW9sb2NhdGVCdXR0b24uZGlzYWJsZWQ9ITAsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixlKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uZmlyc3RFbGVtZW50Q2hpbGQmJnRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZC5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLGUpO31lbHNlIHtjb25zdCBlPXRoaXMuX21hcC5fZ2V0VUlTdHJpbmcoXCJHZW9sb2NhdGVDb250cm9sLkZpbmRNeUxvY2F0aW9uXCIpO3RoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsZSksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmZpcnN0RWxlbWVudENoaWxkJiZ0aGlzLl9nZW9sb2NhdGVCdXR0b24uZmlyc3RFbGVtZW50Q2hpbGQuc2V0QXR0cmlidXRlKFwidGl0bGVcIixlKTt9dGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uJiYodGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiLFwiZmFsc2VcIiksdGhpcy5fd2F0Y2hTdGF0ZT1cIk9GRlwiKSx0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiYmKHRoaXMuX2RvdEVsZW1lbnQ9cHQoXCJkaXZcIixcIm1hcGJveGdsLXVzZXItbG9jYXRpb25cIiksdGhpcy5fZG90RWxlbWVudC5hcHBlbmRDaGlsZChwdChcImRpdlwiLFwibWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3RcIikpLHRoaXMuX2RvdEVsZW1lbnQuYXBwZW5kQ2hpbGQocHQoXCJkaXZcIixcIm1hcGJveGdsLXVzZXItbG9jYXRpb24taGVhZGluZ1wiKSksdGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyPW5ldyBhSSh7ZWxlbWVudDp0aGlzLl9kb3RFbGVtZW50LHJvdGF0aW9uQWxpZ25tZW50OlwibWFwXCIscGl0Y2hBbGlnbm1lbnQ6XCJtYXBcIn0pLHRoaXMuX2NpcmNsZUVsZW1lbnQ9cHQoXCJkaXZcIixcIm1hcGJveGdsLXVzZXItbG9jYXRpb24tYWNjdXJhY3ktY2lyY2xlXCIpLHRoaXMuX2FjY3VyYWN5Q2lyY2xlTWFya2VyPW5ldyBhSSh7ZWxlbWVudDp0aGlzLl9jaXJjbGVFbGVtZW50LHBpdGNoQWxpZ25tZW50OlwibWFwXCJ9KSx0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24mJih0aGlzLl93YXRjaFN0YXRlPVwiT0ZGXCIpLHRoaXMuX21hcC5vbihcInpvb21cIix0aGlzLl9vblpvb20pKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy50cmlnZ2VyLmJpbmQodGhpcykpLHRoaXMuX3NldHVwPSEwLHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbiYmdGhpcy5fbWFwLm9uKFwibW92ZXN0YXJ0XCIsKGU9PntlLmdlb2xvY2F0ZVNvdXJjZXx8XCJBQ1RJVkVfTE9DS1wiIT09dGhpcy5fd2F0Y2hTdGF0ZXx8ZS5vcmlnaW5hbEV2ZW50JiZcInJlc2l6ZVwiPT09ZS5vcmlnaW5hbEV2ZW50LnR5cGV8fCh0aGlzLl93YXRjaFN0YXRlPVwiQkFDS0dST1VORFwiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZFwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZVwiKSx0aGlzLmZpcmUobmV3IEl0KFwidHJhY2t1c2VybG9jYXRpb25lbmRcIikpKTt9KSk7fX1fb25EZXZpY2VPcmllbnRhdGlvbihlKXt0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXImJihlLndlYmtpdENvbXBhc3NIZWFkaW5nP3RoaXMuX2hlYWRpbmc9ZS53ZWJraXRDb21wYXNzSGVhZGluZzohMD09PWUuYWJzb2x1dGUmJih0aGlzLl9oZWFkaW5nPS0xKmUuYWxwaGEpLHRoaXMuX3VwZGF0ZU1hcmtlclJvdGF0aW9uVGhyb3R0bGVkKCkpO310cmlnZ2VyKCl7aWYoIXRoaXMuX3NldHVwKXJldHVybiBIKFwiR2VvbG9jYXRlIGNvbnRyb2wgdHJpZ2dlcmVkIGJlZm9yZSBhZGRlZCB0byBhIG1hcFwiKSwhMTtpZih0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24pe3N3aXRjaCh0aGlzLl93YXRjaFN0YXRlKXtjYXNlXCJPRkZcIjp0aGlzLl93YXRjaFN0YXRlPVwiV0FJVElOR19BQ1RJVkVcIix0aGlzLmZpcmUobmV3IEl0KFwidHJhY2t1c2VybG9jYXRpb25zdGFydFwiKSk7YnJlYWs7Y2FzZVwiV0FJVElOR19BQ1RJVkVcIjpjYXNlXCJBQ1RJVkVfTE9DS1wiOmNhc2VcIkFDVElWRV9FUlJPUlwiOmNhc2VcIkJBQ0tHUk9VTkRfRVJST1JcIjp0aGlzLl9udW1iZXJPZldhdGNoZXMtLSx0aGlzLl9ub1RpbWVvdXQ9ITEsdGhpcy5fd2F0Y2hTdGF0ZT1cIk9GRlwiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZVwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvclwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmRcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yXCIpLHRoaXMuZmlyZShuZXcgSXQoXCJ0cmFja3VzZXJsb2NhdGlvbmVuZFwiKSk7YnJlYWs7Y2FzZVwiQkFDS0dST1VORFwiOnRoaXMuX3dhdGNoU3RhdGU9XCJBQ1RJVkVfTE9DS1wiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZFwiKSx0aGlzLl9sYXN0S25vd25Qb3NpdGlvbiYmdGhpcy5fdXBkYXRlQ2FtZXJhKHRoaXMuX2xhc3RLbm93blBvc2l0aW9uKSx0aGlzLmZpcmUobmV3IEl0KFwidHJhY2t1c2VybG9jYXRpb25zdGFydFwiKSk7fXN3aXRjaCh0aGlzLl93YXRjaFN0YXRlKXtjYXNlXCJXQUlUSU5HX0FDVElWRVwiOnRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZVwiKTticmVhaztjYXNlXCJBQ1RJVkVfTE9DS1wiOnRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlXCIpO2JyZWFrO2Nhc2VcIkFDVElWRV9FUlJPUlwiOnRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvclwiKTticmVhaztjYXNlXCJCQUNLR1JPVU5EXCI6dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kXCIpO2JyZWFrO2Nhc2VcIkJBQ0tHUk9VTkRfRVJST1JcIjp0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yXCIpO31pZihcIk9GRlwiPT09dGhpcy5fd2F0Y2hTdGF0ZSYmdm9pZCAwIT09dGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEKXRoaXMuX2NsZWFyV2F0Y2goKTtlbHNlIGlmKHZvaWQgMD09PXRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRCl7bGV0IGU7dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLXByZXNzZWRcIixcInRydWVcIiksdGhpcy5fbnVtYmVyT2ZXYXRjaGVzKyssdGhpcy5fbnVtYmVyT2ZXYXRjaGVzPjE/KGU9e21heGltdW1BZ2U6NmU1LHRpbWVvdXQ6MH0sdGhpcy5fbm9UaW1lb3V0PSEwKTooZT10aGlzLm9wdGlvbnMucG9zaXRpb25PcHRpb25zLHRoaXMuX25vVGltZW91dD0hMSksdGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEPXRoaXMub3B0aW9ucy5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uKHRoaXMuX29uU3VjY2Vzcyx0aGlzLl9vbkVycm9yLGUpLHRoaXMub3B0aW9ucy5zaG93VXNlckhlYWRpbmcmJnRoaXMuX2FkZERldmljZU9yaWVudGF0aW9uTGlzdGVuZXIoKTt9fWVsc2UgdGhpcy5vcHRpb25zLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbih0aGlzLl9vblN1Y2Nlc3MsdGhpcy5fb25FcnJvcix0aGlzLm9wdGlvbnMucG9zaXRpb25PcHRpb25zKSx0aGlzLl90aW1lb3V0SWQ9c2V0VGltZW91dCh0aGlzLl9maW5pc2gsMWU0KTtyZXR1cm4gITB9X2FkZERldmljZU9yaWVudGF0aW9uTGlzdGVuZXIoKXtjb25zdCBlPSgpPT57dC5hZGRFdmVudExpc3RlbmVyKFwib25kZXZpY2VvcmllbnRhdGlvbmFic29sdXRlXCJpbiB0P1wiZGV2aWNlb3JpZW50YXRpb25hYnNvbHV0ZVwiOlwiZGV2aWNlb3JpZW50YXRpb25cIix0aGlzLl9vbkRldmljZU9yaWVudGF0aW9uKTt9O3ZvaWQgMCE9PXQuRGV2aWNlTW90aW9uRXZlbnQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuRGV2aWNlTW90aW9uRXZlbnQucmVxdWVzdFBlcm1pc3Npb24/RGV2aWNlT3JpZW50YXRpb25FdmVudC5yZXF1ZXN0UGVybWlzc2lvbigpLnRoZW4oKHQ9PntcImdyYW50ZWRcIj09PXQmJmUoKTt9KSkuY2F0Y2goY29uc29sZS5lcnJvcik6ZSgpO31fY2xlYXJXYXRjaCgpe3RoaXMub3B0aW9ucy5nZW9sb2NhdGlvbi5jbGVhcldhdGNoKHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRCksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGV2aWNlb3JpZW50YXRpb25cIix0aGlzLl9vbkRldmljZU9yaWVudGF0aW9uKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkZXZpY2VvcmllbnRhdGlvbmFic29sdXRlXCIsdGhpcy5fb25EZXZpY2VPcmllbnRhdGlvbiksdGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEPXZvaWQgMCx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiLFwiZmFsc2VcIiksdGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJnRoaXMuX3VwZGF0ZU1hcmtlcihudWxsKTt9fSxBdHRyaWJ1dGlvbkNvbnRyb2w6aUksU2NhbGVDb250cm9sOmNsYXNze2NvbnN0cnVjdG9yKGUpe3RoaXMub3B0aW9ucz1rKHt9LGdJLGUpLHRoaXMuX2lzTnVtYmVyRm9ybWF0U3VwcG9ydGVkPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuZXcgSW50bC5OdW1iZXJGb3JtYXQoXCJlblwiLHtzdHlsZTpcInVuaXRcIix1bml0RGlzcGxheTpcInNob3J0XCIsdW5pdDpcIm1ldGVyXCJ9KSwhMH1jYXRjaChlKXtyZXR1cm4gITF9fSgpLGooW1wiX3VwZGF0ZVwiLFwiX3NldFNjYWxlXCIsXCJzZXRVbml0XCJdLHRoaXMpO31nZXREZWZhdWx0UG9zaXRpb24oKXtyZXR1cm4gXCJib3R0b20tbGVmdFwifV91cGRhdGUoKXtjb25zdCBlPXRoaXMub3B0aW9ucy5tYXhXaWR0aHx8MTAwLHQ9dGhpcy5fbWFwLGk9dC5fY29udGFpbmVySGVpZ2h0LzIscj10Ll9jb250YWluZXJXaWR0aC8yLWUvMixuPXQudW5wcm9qZWN0KFtyLGldKSxvPXQudW5wcm9qZWN0KFtyK2UsaV0pLHM9bi5kaXN0YW5jZVRvKG8pO2lmKFwiaW1wZXJpYWxcIj09PXRoaXMub3B0aW9ucy51bml0KXtjb25zdCB0PTMuMjgwOCpzO3Q+NTI4MD90aGlzLl9zZXRTY2FsZShlLHQvNTI4MCxcIm1pbGVcIik6dGhpcy5fc2V0U2NhbGUoZSx0LFwiZm9vdFwiKTt9ZWxzZSBcIm5hdXRpY2FsXCI9PT10aGlzLm9wdGlvbnMudW5pdD90aGlzLl9zZXRTY2FsZShlLHMvMTg1MixcIm5hdXRpY2FsLW1pbGVcIik6cz49MWUzP3RoaXMuX3NldFNjYWxlKGUscy8xZTMsXCJraWxvbWV0ZXJcIik6dGhpcy5fc2V0U2NhbGUoZSxzLFwibWV0ZXJcIik7fV9zZXRTY2FsZShlLHQsaSl7dGhpcy5fbWFwLl9yZXF1ZXN0RG9tVGFzaygoKCk9Pntjb25zdCByPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9TWF0aC5wb3coMTAsYCR7TWF0aC5mbG9vcihlKX1gLmxlbmd0aC0xKTtsZXQgaT1lL3Q7cmV0dXJuIGk9aT49MTA/MTA6aT49NT81Omk+PTM/MzppPj0yPzI6aT49MT8xOmZ1bmN0aW9uKGUpe2NvbnN0IHQ9TWF0aC5wb3coMTAsTWF0aC5jZWlsKC1NYXRoLmxvZyhlKS9NYXRoLkxOMTApKTtyZXR1cm4gTWF0aC5yb3VuZChlKnQpL3R9KGkpLHQqaX0odCksbj1yL3Q7dGhpcy5fY29udGFpbmVyLmlubmVySFRNTD10aGlzLl9pc051bWJlckZvcm1hdFN1cHBvcnRlZCYmXCJuYXV0aWNhbC1taWxlXCIhPT1pP25ldyBJbnRsLk51bWJlckZvcm1hdCh0aGlzLl9sYW5ndWFnZSx7c3R5bGU6XCJ1bml0XCIsdW5pdERpc3BsYXk6XCJzaG9ydFwiLHVuaXQ6aX0pLmZvcm1hdChyKTpgJHtyfSZuYnNwOyR7eUlbaV19YCx0aGlzLl9jb250YWluZXIuc3R5bGUud2lkdGg9ZSpuK1wicHhcIjt9KSk7fW9uQWRkKGUpe3JldHVybiB0aGlzLl9tYXA9ZSx0aGlzLl9sYW5ndWFnZT1lLmdldExhbmd1YWdlKCksdGhpcy5fY29udGFpbmVyPXB0KFwiZGl2XCIsXCJtYXBib3hnbC1jdHJsIG1hcGJveGdsLWN0cmwtc2NhbGVcIixlLmdldENvbnRhaW5lcigpKSx0aGlzLl9jb250YWluZXIuZGlyPVwiYXV0b1wiLHRoaXMuX21hcC5vbihcIm1vdmVcIix0aGlzLl91cGRhdGUpLHRoaXMuX3VwZGF0ZSgpLHRoaXMuX2NvbnRhaW5lcn1vblJlbW92ZSgpe3RoaXMuX2NvbnRhaW5lci5yZW1vdmUoKSx0aGlzLl9tYXAub2ZmKFwibW92ZVwiLHRoaXMuX3VwZGF0ZSksdGhpcy5fbWFwPXZvaWQgMDt9X3NldExhbmd1YWdlKGUpe3RoaXMuX2xhbmd1YWdlPWUsdGhpcy5fdXBkYXRlKCk7fXNldFVuaXQoZSl7dGhpcy5vcHRpb25zLnVuaXQ9ZSx0aGlzLl91cGRhdGUoKTt9fSxGdWxsc2NyZWVuQ29udHJvbDpjbGFzc3tjb25zdHJ1Y3RvcihlKXt0aGlzLl9mdWxsc2NyZWVuPSExLGUmJmUuY29udGFpbmVyJiYoZS5jb250YWluZXIgaW5zdGFuY2VvZiB0LkhUTUxFbGVtZW50P3RoaXMuX2NvbnRhaW5lcj1lLmNvbnRhaW5lcjpIKFwiRnVsbCBzY3JlZW4gY29udHJvbCAnY29udGFpbmVyJyBtdXN0IGJlIGEgRE9NIGVsZW1lbnQuXCIpKSxqKFtcIl9vbkNsaWNrRnVsbHNjcmVlblwiLFwiX2NoYW5nZUljb25cIl0sdGhpcyksXCJvbmZ1bGxzY3JlZW5jaGFuZ2VcImluIHQuZG9jdW1lbnQ/dGhpcy5fZnVsbHNjcmVlbmNoYW5nZT1cImZ1bGxzY3JlZW5jaGFuZ2VcIjpcIm9ud2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiaW4gdC5kb2N1bWVudCYmKHRoaXMuX2Z1bGxzY3JlZW5jaGFuZ2U9XCJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlXCIpO31vbkFkZChlKXtyZXR1cm4gdGhpcy5fbWFwPWUsdGhpcy5fY29udGFpbmVyfHwodGhpcy5fY29udGFpbmVyPXRoaXMuX21hcC5nZXRDb250YWluZXIoKSksdGhpcy5fY29udHJvbENvbnRhaW5lcj1wdChcImRpdlwiLFwibWFwYm94Z2wtY3RybCBtYXBib3hnbC1jdHJsLWdyb3VwXCIpLHRoaXMuX2NoZWNrRnVsbHNjcmVlblN1cHBvcnQoKT90aGlzLl9zZXR1cFVJKCk6KHRoaXMuX2NvbnRyb2xDb250YWluZXIuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixIKFwiVGhpcyBkZXZpY2UgZG9lcyBub3Qgc3VwcG9ydCBmdWxsc2NyZWVuIG1vZGUuXCIpKSx0aGlzLl9jb250cm9sQ29udGFpbmVyfW9uUmVtb3ZlKCl7dGhpcy5fY29udHJvbENvbnRhaW5lci5yZW1vdmUoKSx0aGlzLl9tYXA9bnVsbCx0LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5fZnVsbHNjcmVlbmNoYW5nZSx0aGlzLl9jaGFuZ2VJY29uKTt9X2NoZWNrRnVsbHNjcmVlblN1cHBvcnQoKXtyZXR1cm4gISghdC5kb2N1bWVudC5mdWxsc2NyZWVuRW5hYmxlZCYmIXQuZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVuYWJsZWQpfV9zZXR1cFVJKCl7Y29uc3QgZT10aGlzLl9mdWxsc2NyZWVuQnV0dG9uPXB0KFwiYnV0dG9uXCIsXCJtYXBib3hnbC1jdHJsLWZ1bGxzY3JlZW5cIix0aGlzLl9jb250cm9sQ29udGFpbmVyKTtwdChcInNwYW5cIixcIm1hcGJveGdsLWN0cmwtaWNvblwiLGUpLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpLGUudHlwZT1cImJ1dHRvblwiLHRoaXMuX3VwZGF0ZVRpdGxlKCksdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLl9vbkNsaWNrRnVsbHNjcmVlbiksdC5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHRoaXMuX2Z1bGxzY3JlZW5jaGFuZ2UsdGhpcy5fY2hhbmdlSWNvbik7fV91cGRhdGVUaXRsZSgpe2NvbnN0IGU9dGhpcy5fZ2V0VGl0bGUoKTt0aGlzLl9mdWxsc2NyZWVuQnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixlKSx0aGlzLl9mdWxsc2NyZWVuQnV0dG9uLmZpcnN0RWxlbWVudENoaWxkJiZ0aGlzLl9mdWxsc2NyZWVuQnV0dG9uLmZpcnN0RWxlbWVudENoaWxkLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsZSk7fV9nZXRUaXRsZSgpe3JldHVybiB0aGlzLl9tYXAuX2dldFVJU3RyaW5nKHRoaXMuX2lzRnVsbHNjcmVlbigpP1wiRnVsbHNjcmVlbkNvbnRyb2wuRXhpdFwiOlwiRnVsbHNjcmVlbkNvbnRyb2wuRW50ZXJcIil9X2lzRnVsbHNjcmVlbigpe3JldHVybiB0aGlzLl9mdWxsc2NyZWVufV9jaGFuZ2VJY29uKCl7KHQuZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnR8fHQuZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVsZW1lbnQpPT09dGhpcy5fY29udGFpbmVyIT09dGhpcy5fZnVsbHNjcmVlbiYmKHRoaXMuX2Z1bGxzY3JlZW49IXRoaXMuX2Z1bGxzY3JlZW4sdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwibWFwYm94Z2wtY3RybC1zaHJpbmtcIiksdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwibWFwYm94Z2wtY3RybC1mdWxsc2NyZWVuXCIpLHRoaXMuX3VwZGF0ZVRpdGxlKCkpO31fb25DbGlja0Z1bGxzY3JlZW4oKXt0aGlzLl9pc0Z1bGxzY3JlZW4oKT90LmRvY3VtZW50LmV4aXRGdWxsc2NyZWVuP3QuZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKTp0LmRvY3VtZW50LndlYmtpdENhbmNlbEZ1bGxTY3JlZW4mJnQuZG9jdW1lbnQud2Via2l0Q2FuY2VsRnVsbFNjcmVlbigpOnRoaXMuX2NvbnRhaW5lci5yZXF1ZXN0RnVsbHNjcmVlbj90aGlzLl9jb250YWluZXIucmVxdWVzdEZ1bGxzY3JlZW4oKTp0aGlzLl9jb250YWluZXIud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4mJnRoaXMuX2NvbnRhaW5lci53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbigpO319LFBvcHVwOmNsYXNzIGV4dGVuZHMgenR7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLm9wdGlvbnM9ayhPYmplY3QuY3JlYXRlKGxJKSxlKSxqKFtcIl91cGRhdGVcIixcIl9vbkNsb3NlXCIsXCJyZW1vdmVcIixcIl9vbk1vdXNlRXZlbnRcIl0sdGhpcyksdGhpcy5fY2xhc3NMaXN0PW5ldyBTZXQoZSYmZS5jbGFzc05hbWU/ZS5jbGFzc05hbWUudHJpbSgpLnNwbGl0KC9cXHMrLyk6W10pO31hZGRUbyhlKXtyZXR1cm4gdGhpcy5fbWFwJiZ0aGlzLnJlbW92ZSgpLHRoaXMuX21hcD1lLHRoaXMub3B0aW9ucy5jbG9zZU9uQ2xpY2smJmUub24oXCJwcmVjbGlja1wiLHRoaXMuX29uQ2xvc2UpLHRoaXMub3B0aW9ucy5jbG9zZU9uTW92ZSYmZS5vbihcIm1vdmVcIix0aGlzLl9vbkNsb3NlKSxlLm9uKFwicmVtb3ZlXCIsdGhpcy5yZW1vdmUpLHRoaXMuX3VwZGF0ZSgpLGUuX2FkZFBvcHVwKHRoaXMpLHRoaXMuX2ZvY3VzRmlyc3RFbGVtZW50KCksdGhpcy5fdHJhY2tQb2ludGVyPyhlLm9uKFwibW91c2Vtb3ZlXCIsdGhpcy5fb25Nb3VzZUV2ZW50KSxlLm9uKFwibW91c2V1cFwiLHRoaXMuX29uTW91c2VFdmVudCksZS5fY2FudmFzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC10cmFjay1wb2ludGVyXCIpKTplLm9uKFwibW92ZVwiLHRoaXMuX3VwZGF0ZSksdGhpcy5maXJlKG5ldyBJdChcIm9wZW5cIikpLHRoaXN9aXNPcGVuKCl7cmV0dXJuICEhdGhpcy5fbWFwfXJlbW92ZSgpe3RoaXMuX2NvbnRlbnQmJnRoaXMuX2NvbnRlbnQucmVtb3ZlKCksdGhpcy5fY29udGFpbmVyJiYodGhpcy5fY29udGFpbmVyLnJlbW92ZSgpLHRoaXMuX2NvbnRhaW5lcj12b2lkIDApO2NvbnN0IGU9dGhpcy5fbWFwO3JldHVybiBlJiYoZS5vZmYoXCJtb3ZlXCIsdGhpcy5fdXBkYXRlKSxlLm9mZihcIm1vdmVcIix0aGlzLl9vbkNsb3NlKSxlLm9mZihcInByZWNsaWNrXCIsdGhpcy5fb25DbG9zZSksZS5vZmYoXCJjbGlja1wiLHRoaXMuX29uQ2xvc2UpLGUub2ZmKFwicmVtb3ZlXCIsdGhpcy5yZW1vdmUpLGUub2ZmKFwibW91c2Vtb3ZlXCIsdGhpcy5fb25Nb3VzZUV2ZW50KSxlLm9mZihcIm1vdXNldXBcIix0aGlzLl9vbk1vdXNlRXZlbnQpLGUub2ZmKFwiZHJhZ1wiLHRoaXMuX29uTW91c2VFdmVudCksZS5fY2FudmFzQ29udGFpbmVyJiZlLl9jYW52YXNDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLXRyYWNrLXBvaW50ZXJcIiksZS5fcmVtb3ZlUG9wdXAodGhpcyksdGhpcy5fbWFwPXZvaWQgMCksdGhpcy5maXJlKG5ldyBJdChcImNsb3NlXCIpKSx0aGlzfWdldExuZ0xhdCgpe3JldHVybiB0aGlzLl9sbmdMYXR9c2V0TG5nTGF0KGUpe3RoaXMuX2xuZ0xhdD1XZC5jb252ZXJ0KGUpLHRoaXMuX3Bvcz1udWxsLHRoaXMuX3RyYWNrUG9pbnRlcj0hMSx0aGlzLl91cGRhdGUoKTtjb25zdCB0PXRoaXMuX21hcDtyZXR1cm4gdCYmKHQub24oXCJtb3ZlXCIsdGhpcy5fdXBkYXRlKSx0Lm9mZihcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW91c2VFdmVudCksdC5fY2FudmFzQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC10cmFjay1wb2ludGVyXCIpKSx0aGlzfXRyYWNrUG9pbnRlcigpe3RoaXMuX3RyYWNrUG9pbnRlcj0hMCx0aGlzLl9wb3M9bnVsbCx0aGlzLl91cGRhdGUoKTtjb25zdCBlPXRoaXMuX21hcDtyZXR1cm4gZSYmKGUub2ZmKFwibW92ZVwiLHRoaXMuX3VwZGF0ZSksZS5vbihcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW91c2VFdmVudCksZS5vbihcImRyYWdcIix0aGlzLl9vbk1vdXNlRXZlbnQpLGUuX2NhbnZhc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtdHJhY2stcG9pbnRlclwiKSksdGhpc31nZXRFbGVtZW50KCl7cmV0dXJuIHRoaXMuX2NvbnRhaW5lcn1zZXRUZXh0KGUpe3JldHVybiB0aGlzLnNldERPTUNvbnRlbnQodC5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShlKSl9c2V0SFRNTChlKXtjb25zdCBpPXQuZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHI9dC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYm9keVwiKTtsZXQgbjtmb3Ioci5pbm5lckhUTUw9ZTtuPXIuZmlyc3RDaGlsZCxuOylpLmFwcGVuZENoaWxkKG4pO3JldHVybiB0aGlzLnNldERPTUNvbnRlbnQoaSl9Z2V0TWF4V2lkdGgoKXtyZXR1cm4gdGhpcy5fY29udGFpbmVyJiZ0aGlzLl9jb250YWluZXIuc3R5bGUubWF4V2lkdGh9c2V0TWF4V2lkdGgoZSl7cmV0dXJuIHRoaXMub3B0aW9ucy5tYXhXaWR0aD1lLHRoaXMuX3VwZGF0ZSgpLHRoaXN9c2V0RE9NQ29udGVudChlKXtsZXQgdD10aGlzLl9jb250ZW50O2lmKHQpZm9yKDt0Lmhhc0NoaWxkTm9kZXMoKTspdC5maXJzdENoaWxkJiZ0LnJlbW92ZUNoaWxkKHQuZmlyc3RDaGlsZCk7ZWxzZSB0PXRoaXMuX2NvbnRlbnQ9cHQoXCJkaXZcIixcIm1hcGJveGdsLXBvcHVwLWNvbnRlbnRcIix0aGlzLl9jb250YWluZXJ8fHZvaWQgMCk7aWYodC5hcHBlbmRDaGlsZChlKSx0aGlzLm9wdGlvbnMuY2xvc2VCdXR0b24pe2NvbnN0IGU9dGhpcy5fY2xvc2VCdXR0b249cHQoXCJidXR0b25cIixcIm1hcGJveGdsLXBvcHVwLWNsb3NlLWJ1dHRvblwiLHQpO2UudHlwZT1cImJ1dHRvblwiLGUuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLFwiQ2xvc2UgcG9wdXBcIiksZS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSxlLmlubmVySFRNTD1cIiYjMjE1O1wiLGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5fb25DbG9zZSk7fXJldHVybiB0aGlzLl91cGRhdGUoKSx0aGlzLl9mb2N1c0ZpcnN0RWxlbWVudCgpLHRoaXN9YWRkQ2xhc3NOYW1lKGUpe3JldHVybiB0aGlzLl9jbGFzc0xpc3QuYWRkKGUpLHRoaXMuX3VwZGF0ZUNsYXNzTGlzdCgpLHRoaXN9cmVtb3ZlQ2xhc3NOYW1lKGUpe3JldHVybiB0aGlzLl9jbGFzc0xpc3QuZGVsZXRlKGUpLHRoaXMuX3VwZGF0ZUNsYXNzTGlzdCgpLHRoaXN9c2V0T2Zmc2V0KGUpe3JldHVybiB0aGlzLm9wdGlvbnMub2Zmc2V0PWUsdGhpcy5fdXBkYXRlKCksdGhpc310b2dnbGVDbGFzc05hbWUoZSl7bGV0IHQ7cmV0dXJuIHRoaXMuX2NsYXNzTGlzdC5kZWxldGUoZSk/dD0hMToodGhpcy5fY2xhc3NMaXN0LmFkZChlKSx0PSEwKSx0aGlzLl91cGRhdGVDbGFzc0xpc3QoKSx0fV9vbk1vdXNlRXZlbnQoZSl7dGhpcy5fdXBkYXRlKGUucG9pbnQpO31fZ2V0QW5jaG9yKGUpe2lmKHRoaXMub3B0aW9ucy5hbmNob3IpcmV0dXJuIHRoaXMub3B0aW9ucy5hbmNob3I7Y29uc3QgdD10aGlzLl9tYXAsaT10aGlzLl9jb250YWluZXIscj10aGlzLl9wb3M7aWYoIXR8fCFpfHwhcilyZXR1cm4gXCJib3R0b21cIjtjb25zdCBuPWkub2Zmc2V0V2lkdGgsbz1pLm9mZnNldEhlaWdodCxzPXIueDxuLzIsYT1yLng+dC50cmFuc2Zvcm0ud2lkdGgtbi8yO2lmKHIueStlPG8pcmV0dXJuIHM/XCJ0b3AtbGVmdFwiOmE/XCJ0b3AtcmlnaHRcIjpcInRvcFwiO2lmKHIueT50LnRyYW5zZm9ybS5oZWlnaHQtbyl7aWYocylyZXR1cm4gXCJib3R0b20tbGVmdFwiO2lmKGEpcmV0dXJuIFwiYm90dG9tLXJpZ2h0XCJ9cmV0dXJuIHM/XCJsZWZ0XCI6YT9cInJpZ2h0XCI6XCJib3R0b21cIn1fdXBkYXRlQ2xhc3NMaXN0KCl7Y29uc3QgZT10aGlzLl9jb250YWluZXI7aWYoIWUpcmV0dXJuO2NvbnN0IHQ9Wy4uLnRoaXMuX2NsYXNzTGlzdF07dC5wdXNoKFwibWFwYm94Z2wtcG9wdXBcIiksdGhpcy5fYW5jaG9yJiZ0LnB1c2goYG1hcGJveGdsLXBvcHVwLWFuY2hvci0ke3RoaXMuX2FuY2hvcn1gKSx0aGlzLl90cmFja1BvaW50ZXImJnQucHVzaChcIm1hcGJveGdsLXBvcHVwLXRyYWNrLXBvaW50ZXJcIiksZS5jbGFzc05hbWU9dC5qb2luKFwiIFwiKTt9X3VwZGF0ZShlKXtjb25zdCB0PXRoaXMuX21hcCxpPXRoaXMuX2NvbnRlbnQ7aWYoIXR8fCF0aGlzLl9sbmdMYXQmJiF0aGlzLl90cmFja1BvaW50ZXJ8fCFpKXJldHVybjtsZXQgcj10aGlzLl9jb250YWluZXI7aWYocnx8KHI9dGhpcy5fY29udGFpbmVyPXB0KFwiZGl2XCIsXCJtYXBib3hnbC1wb3B1cFwiLHQuZ2V0Q29udGFpbmVyKCkpLHRoaXMuX3RpcD1wdChcImRpdlwiLFwibWFwYm94Z2wtcG9wdXAtdGlwXCIsciksci5hcHBlbmRDaGlsZChpKSksdGhpcy5vcHRpb25zLm1heFdpZHRoJiZyLnN0eWxlLm1heFdpZHRoIT09dGhpcy5vcHRpb25zLm1heFdpZHRoJiYoci5zdHlsZS5tYXhXaWR0aD10aGlzLm9wdGlvbnMubWF4V2lkdGgpLHQudHJhbnNmb3JtLnJlbmRlcldvcmxkQ29waWVzJiYhdGhpcy5fdHJhY2tQb2ludGVyJiYodGhpcy5fbG5nTGF0PW9JKHRoaXMuX2xuZ0xhdCx0aGlzLl9wb3MsdC50cmFuc2Zvcm0pKSwhdGhpcy5fdHJhY2tQb2ludGVyfHxlKXtjb25zdCBpPXRoaXMuX3Bvcz10aGlzLl90cmFja1BvaW50ZXImJmU/ZTp0LnByb2plY3QodGhpcy5fbG5nTGF0KSxyPWhJKHRoaXMub3B0aW9ucy5vZmZzZXQpLG49dGhpcy5fYW5jaG9yPXRoaXMuX2dldEFuY2hvcihyLnkpLG89aEkodGhpcy5vcHRpb25zLm9mZnNldCxuKSxzPWkuYWRkKG8pLnJvdW5kKCk7dC5fcmVxdWVzdERvbVRhc2soKCgpPT57dGhpcy5fY29udGFpbmVyJiZuJiYodGhpcy5fY29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybT1gJHtzSVtuXX0gdHJhbnNsYXRlKCR7cy54fXB4LCR7cy55fXB4KWApO30pKTt9aWYoIXRoaXMuX21hcmtlciYmdC5fc2hvd2luZ0dsb2JlKCkpe2NvbnN0IGU9TmQodC50cmFuc2Zvcm0sdGhpcy5fbG5nTGF0KT8wOjE7dGhpcy5fc2V0T3BhY2l0eShlKTt9dGhpcy5fdXBkYXRlQ2xhc3NMaXN0KCk7fV9mb2N1c0ZpcnN0RWxlbWVudCgpe2lmKCF0aGlzLm9wdGlvbnMuZm9jdXNBZnRlck9wZW58fCF0aGlzLl9jb250YWluZXIpcmV0dXJuO2NvbnN0IGU9dGhpcy5fY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoY0kpO2UmJmUuZm9jdXMoKTt9X29uQ2xvc2UoKXt0aGlzLnJlbW92ZSgpO31fc2V0T3BhY2l0eShlKXt0aGlzLl9jb250YWluZXImJih0aGlzLl9jb250YWluZXIuc3R5bGUub3BhY2l0eT1gJHtlfWApLHRoaXMuX2NvbnRlbnQmJih0aGlzLl9jb250ZW50LnN0eWxlLnBvaW50ZXJFdmVudHM9ZT9cImF1dG9cIjpcIm5vbmVcIik7fX0sTWFya2VyOmFJLFN0eWxlOmlTLExuZ0xhdDpXZCxMbmdMYXRCb3VuZHM6c2MsUG9pbnQ6eSxNZXJjYXRvckNvb3JkaW5hdGU6bHAsRnJlZUNhbWVyYU9wdGlvbnM6WHgsRXZlbnRlZDp6dCxjb25maWc6bixwcmV3YXJtOmZ1bmN0aW9uKCl7V3coKS5hY3F1aXJlKHF3KTt9LGNsZWFyUHJld2FybWVkUmVzb3VyY2VzOmZ1bmN0aW9uKCl7Y29uc3QgZT0kdztlJiYoZS5pc1ByZWxvYWRlZCgpJiYxPT09ZS5udW1BY3RpdmUoKT8oZS5yZWxlYXNlKHF3KSwkdz1udWxsKTpjb25zb2xlLndhcm4oXCJDb3VsZCBub3QgY2xlYXIgV2ViV29ya2VycyBzaW5jZSB0aGVyZSBhcmUgYWN0aXZlIE1hcCBpbnN0YW5jZXMgdGhhdCBzdGlsbCByZWZlcmVuY2UgaXQuIFRoZSBwcmUtd2FybWVkIFdlYldvcmtlciBwb29sIGNhbiBvbmx5IGJlIGNsZWFyZWQgd2hlbiBhbGwgbWFwIGluc3RhbmNlcyBoYXZlIGJlZW4gcmVtb3ZlZCB3aXRoIG1hcC5yZW1vdmUoKVwiKSk7fSxnZXQgYWNjZXNzVG9rZW4oKXtyZXR1cm4gbi5BQ0NFU1NfVE9LRU59LHNldCBhY2Nlc3NUb2tlbihlKXtuLkFDQ0VTU19UT0tFTj1lO30sZ2V0IGJhc2VBcGlVcmwoKXtyZXR1cm4gbi5BUElfVVJMfSxzZXQgYmFzZUFwaVVybChlKXtuLkFQSV9VUkw9ZTt9LGdldCB3b3JrZXJDb3VudCgpe3JldHVybiBady53b3JrZXJDb3VudH0sc2V0IHdvcmtlckNvdW50KGUpe1p3LndvcmtlckNvdW50PWU7fSxnZXQgbWF4UGFyYWxsZWxJbWFnZVJlcXVlc3RzKCl7cmV0dXJuIG4uTUFYX1BBUkFMTEVMX0lNQUdFX1JFUVVFU1RTfSxzZXQgbWF4UGFyYWxsZWxJbWFnZVJlcXVlc3RzKGUpe24uTUFYX1BBUkFMTEVMX0lNQUdFX1JFUVVFU1RTPWU7fSxjbGVhclN0b3JhZ2UoZSl7IWZ1bmN0aW9uKGUpe2lmKCFwZSgpKXJldHVybjtjb25zdCBpPXQuY2FjaGVzLmRlbGV0ZShsZSk7ZSYmaS5jYXRjaChlKS50aGVuKCgoKT0+ZSgpKSk7fShlKTt9LHdvcmtlclVybDpcIlwiLHdvcmtlckNsYXNzOm51bGwsZ2V0IGRyYWNvVXJsKCl7cmV0dXJuIEp3KCl9LHNldCBkcmFjb1VybChlKXshZnVuY3Rpb24oZSl7WHc9ZHQucmVzb2x2ZVVSTChlKSxLd3x8KEt3PW5ldyBFdyhXdygpLG5ldyB6dCkpLEt3LmJyb2FkY2FzdChcInNldERyYWNvVXJsXCIsWHcpO30oZSk7fSxzZXROb3c6ZHQuc2V0Tm93LHJlc3RvcmVOb3c6ZHQucmVzdG9yZU5vd307ZS5BPVR3LGUuRD1ZbSxlLkU9Y3IsZS5GPVFtLGUuSz14RSxlLk89cXUsZS5QPXksZS5UPVp2LGUuVj1obSxlLmE9S2YsZS5iPWZtLGUuYz1vdyxlLmQ9Y2xhc3MgZXh0ZW5kcyB6dHtjb25zdHJ1Y3RvcihlLHQsaSxyLG4sbyl7c3VwZXIoKSx0aGlzLmFjdG9yPWUsdGhpcy5sYXllckluZGV4PXQsdGhpcy5hdmFpbGFibGVJbWFnZXM9aSx0aGlzLmxvYWRWZWN0b3JEYXRhPW58fFV3LHRoaXMubG9hZGluZz17fSx0aGlzLmxvYWRlZD17fSx0aGlzLmRlZHVwZWQ9bmV3IE53KGUuc2NoZWR1bGVyKSx0aGlzLmlzU3ByaXRlTG9hZGVkPXIsdGhpcy5zY2hlZHVsZXI9ZS5zY2hlZHVsZXIsdGhpcy5icmlnaHRuZXNzPW87fWxvYWRUaWxlKGUsdCl7Y29uc3QgaT1lLnVpZCxyPWUmJmUucmVxdWVzdCxuPXImJnIuY29sbGVjdFJlc291cmNlVGltaW5nLG89dGhpcy5sb2FkaW5nW2ldPW5ldyBCdyhlKTtvLmFib3J0PXRoaXMubG9hZFZlY3RvckRhdGEoZSwoKHMsYSk9Pntjb25zdCBsPSF0aGlzLmxvYWRpbmdbaV07aWYoZGVsZXRlIHRoaXMubG9hZGluZ1tpXSxsfHxzfHwhYSlyZXR1cm4gby5zdGF0dXM9XCJkb25lXCIsbHx8KHRoaXMubG9hZGVkW2ldPW8pLHQocyk7Y29uc3QgYz1hLnJhd0RhdGEsaD17fTthLmV4cGlyZXMmJihoLmV4cGlyZXM9YS5leHBpcmVzKSxhLmNhY2hlQ29udHJvbCYmKGguY2FjaGVDb250cm9sPWEuY2FjaGVDb250cm9sKSxvLnZlY3RvclRpbGU9YS52ZWN0b3JUaWxlfHxuZXcgY20obmV3IGttKGMpKTtjb25zdCB1PSgpPT57by5wYXJzZShvLnZlY3RvclRpbGUsdGhpcy5sYXllckluZGV4LHRoaXMuYXZhaWxhYmxlSW1hZ2VzLHRoaXMuYWN0b3IsKChlLGkpPT57aWYoZXx8IWkpcmV0dXJuIHQoZSk7Y29uc3Qgbz17fTtpZihuKXtjb25zdCBlPWl0KHIpO2UubGVuZ3RoPjAmJihvLnJlc291cmNlVGltaW5nPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpKTt9dChudWxsLGsoe3Jhd1RpbGVEYXRhOmMuc2xpY2UoMCl9LGksaCxvKSk7fSkpO307dGhpcy5pc1Nwcml0ZUxvYWRlZD91KCk6dGhpcy5vbmNlKFwiaXNTcHJpdGVMb2FkZWRcIiwoKCk9Pnt0aGlzLnNjaGVkdWxlcj90aGlzLnNjaGVkdWxlci5hZGQodSx7dHlwZTpcInBhcnNlVGlsZVwiLGlzU3ltYm9sVGlsZTplLmlzU3ltYm9sVGlsZSx6b29tOmUudGlsZVpvb219KTp1KCk7fSkpLHRoaXMubG9hZGVkPXRoaXMubG9hZGVkfHx7fSx0aGlzLmxvYWRlZFtpXT1vO30pKTt9cmVsb2FkVGlsZShlLHQpe2NvbnN0IGk9dGhpcy5sb2FkZWQscj1lLnVpZCxuPXRoaXM7aWYoaSYmaVtyXSl7Y29uc3Qgbz1pW3JdO28uc2hvd0NvbGxpc2lvbkJveGVzPWUuc2hvd0NvbGxpc2lvbkJveGVzLG8ucHJvamVjdGlvbj1lLnByb2plY3Rpb24sby5icmlnaHRuZXNzPWUuYnJpZ2h0bmVzcyxvLnRpbGVUcmFuc2Zvcm09UGcoZS50aWxlSUQuY2Fub25pY2FsLGUucHJvamVjdGlvbiksby5leHRyYVNoYWRvd0Nhc3Rlcj1lLmV4dHJhU2hhZG93Q2FzdGVyO2NvbnN0IHM9KGUsaSk9Pntjb25zdCByPW8ucmVsb2FkQ2FsbGJhY2s7ciYmKGRlbGV0ZSBvLnJlbG9hZENhbGxiYWNrLG8ucGFyc2Uoby52ZWN0b3JUaWxlLG4ubGF5ZXJJbmRleCx0aGlzLmF2YWlsYWJsZUltYWdlcyxuLmFjdG9yLHIpKSx0KGUsaSk7fTtcInBhcnNpbmdcIj09PW8uc3RhdHVzP28ucmVsb2FkQ2FsbGJhY2s9czpcImRvbmVcIj09PW8uc3RhdHVzJiYoby52ZWN0b3JUaWxlP28ucGFyc2Uoby52ZWN0b3JUaWxlLHRoaXMubGF5ZXJJbmRleCx0aGlzLmF2YWlsYWJsZUltYWdlcyx0aGlzLmFjdG9yLHMpOnMoKSk7fWVsc2UgdChudWxsLHZvaWQgMCk7fWFib3J0VGlsZShlLHQpe2NvbnN0IGk9ZS51aWQscj10aGlzLmxvYWRpbmdbaV07ciYmKHIuYWJvcnQmJnIuYWJvcnQoKSxkZWxldGUgdGhpcy5sb2FkaW5nW2ldKSx0KCk7fXJlbW92ZVRpbGUoZSx0KXtjb25zdCBpPXRoaXMubG9hZGVkLHI9ZS51aWQ7aSYmaVtyXSYmZGVsZXRlIGlbcl0sdCgpO319LGUuZT1FbyxlLmY9aXQsZS5nPWQsZS5oPXdlLGUuaT1UZSxlLmo9ZnVuY3Rpb24oZSx0KXtjb25zdCBpPVRUKGUpO2Zvcihjb25zdCBlIG9mIGkpe2Zvcihjb25zdCB0IG9mIGUubWVzaGVzKUVUKHQpO2UubGlnaHRzJiYoZS5saWdodE1lc2hJbmRleD1lLm1lc2hlcy5sZW5ndGgsZS5tZXNoZXMucHVzaChNVChlLmxpZ2h0cyx0KSkpO31yZXR1cm4gaX0sZS5rPW9hLGUubD1mdW5jdGlvbihlKXtsZXQgdD0wO2lmKG5ldyBVaW50MzJBcnJheShlLDAsMSlbMF0hPT1hVCl7Y29uc3QgaT1uZXcgVWludDMyQXJyYXkoZSwwLDcpLFssLHIsbixvLHNdPWk7dD1pLmJ5dGVMZW5ndGgrbitvK3MrbywociE9PWUuYnl0ZUxlbmd0aHx8dD49ZS5ieXRlTGVuZ3RoKSYmSChcIkludmFsaWQgYjNkbSBoZWFkZXIgaW5mb3JtYXRpb24uXCIpO31yZXR1cm4gcFQoZSx0KX0sZS5tPXR5LGUubj1uYSxlLm89SXQsZS5wPV8sZS5xPWZ1bmN0aW9uKGUpe2ZlKCksdWUmJnVlLnRoZW4oKHQ9Pnt0LmtleXMoKS50aGVuKChpPT57Zm9yKGxldCByPTA7cjxpLmxlbmd0aC1lO3IrKyl0LmRlbGV0ZShpW3JdKTt9KSk7fSkpO30sZS5yPVJULGUucz14SSxlLnQ9YXAsZS52PUwsZS53PXQ7fSkpO1xuXG5kZWZpbmUoW1wiLi9zaGFyZWRcIl0sKGZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQoZSl7aWYoXCJudW1iZXJcIj09dHlwZW9mIGV8fFwiYm9vbGVhblwiPT10eXBlb2YgZXx8XCJzdHJpbmdcIj09dHlwZW9mIGV8fG51bGw9PWUpcmV0dXJuIEpTT04uc3RyaW5naWZ5KGUpO2lmKEFycmF5LmlzQXJyYXkoZSkpe2xldCByPVwiW1wiO2Zvcihjb25zdCBvIG9mIGUpcis9YCR7dChvKX0sYDtyZXR1cm4gYCR7cn1dYH1sZXQgcj1cIntcIjtmb3IoY29uc3QgbyBvZiBPYmplY3Qua2V5cyhlKS5zb3J0KCkpcis9YCR7b306JHt0KGVbb10pfSxgO3JldHVybiBgJHtyfX1gfWZ1bmN0aW9uIHIocil7bGV0IG89XCJcIjtmb3IoY29uc3QgaSBvZiBlLnIpbys9YC8ke3QocltpXSl9YDtyZXR1cm4gb31jbGFzcyBve2NvbnN0cnVjdG9yKGUpe3RoaXMua2V5Q2FjaGU9e30sdGhpcy5fbGF5ZXJzPXt9LHRoaXMuX2xheWVyQ29uZmlncz17fSxlJiZ0aGlzLnJlcGxhY2UoZSk7fXJlcGxhY2UoZSx0KXt0aGlzLl9sYXllckNvbmZpZ3M9e30sdGhpcy5fbGF5ZXJzPXt9LHRoaXMudXBkYXRlKGUsW10sdCk7fXVwZGF0ZSh0LG8saSl7dGhpcy5fb3B0aW9ucz1pO2Zvcihjb25zdCByIG9mIHQpe3RoaXMuX2xheWVyQ29uZmlnc1tyLmlkXT1yO2NvbnN0IHQ9dGhpcy5fbGF5ZXJzW3IuaWRdPWUuYyhyLHRoaXMuX29wdGlvbnMpO3Quc2V0U2NvcGUodGhpcy5zY29wZSksdC5jb21waWxlRmlsdGVyKCksdGhpcy5rZXlDYWNoZVtyLmlkXSYmZGVsZXRlIHRoaXMua2V5Q2FjaGVbci5pZF07fWZvcihjb25zdCBlIG9mIG8pZGVsZXRlIHRoaXMua2V5Q2FjaGVbZV0sZGVsZXRlIHRoaXMuX2xheWVyQ29uZmlnc1tlXSxkZWxldGUgdGhpcy5fbGF5ZXJzW2VdO3RoaXMuZmFtaWxpZXNCeVNvdXJjZT17fTtjb25zdCBzPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbz17fTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7Y29uc3Qgcz10JiZ0W2VbaV0uaWRdfHxyKGVbaV0pO3QmJih0W2VbaV0uaWRdPXMpO2xldCBuPW9bc107bnx8KG49b1tzXT1bXSksbi5wdXNoKGVbaV0pO31jb25zdCBpPVtdO2Zvcihjb25zdCBlIGluIG8paS5wdXNoKG9bZV0pO3JldHVybiBpfShlLnYodGhpcy5fbGF5ZXJDb25maWdzKSx0aGlzLmtleUNhY2hlKTtmb3IoY29uc3QgZSBvZiBzKXtjb25zdCB0PWUubWFwKChlPT50aGlzLl9sYXllcnNbZS5pZF0pKSxyPXRbMF07aWYoXCJub25lXCI9PT1yLnZpc2liaWxpdHkpY29udGludWU7Y29uc3Qgbz1yLnNvdXJjZXx8XCJcIjtsZXQgaT10aGlzLmZhbWlsaWVzQnlTb3VyY2Vbb107aXx8KGk9dGhpcy5mYW1pbGllc0J5U291cmNlW29dPXt9KTtjb25zdCBzPXIuc291cmNlTGF5ZXJ8fFwiX2dlb2pzb25UaWxlTGF5ZXJcIjtsZXQgbj1pW3NdO258fChuPWlbc109W10pLG4ucHVzaCh0KTt9fX1jbGFzcyBpe2xvYWRUaWxlKHQscil7Y29uc3R7dWlkOm8sZW5jb2Rpbmc6aSxyYXdJbWFnZURhdGE6cyxwYWRkaW5nOm59PXQsYT1lLncuSW1hZ2VCaXRtYXAmJnMgaW5zdGFuY2VvZiBlLncuSW1hZ2VCaXRtYXA/dGhpcy5nZXRJbWFnZURhdGEocyxuKTpzO3IobnVsbCxuZXcgZS5EKG8sYSxpLG48MSkpO31nZXRJbWFnZURhdGEoZSx0KXt0aGlzLm9mZnNjcmVlbkNhbnZhcyYmdGhpcy5vZmZzY3JlZW5DYW52YXNDb250ZXh0fHwodGhpcy5vZmZzY3JlZW5DYW52YXM9bmV3IE9mZnNjcmVlbkNhbnZhcyhlLndpZHRoLGUuaGVpZ2h0KSx0aGlzLm9mZnNjcmVlbkNhbnZhc0NvbnRleHQ9dGhpcy5vZmZzY3JlZW5DYW52YXMuZ2V0Q29udGV4dChcIjJkXCIse3dpbGxSZWFkRnJlcXVlbnRseTohMH0pKSx0aGlzLm9mZnNjcmVlbkNhbnZhcy53aWR0aD1lLndpZHRoLHRoaXMub2Zmc2NyZWVuQ2FudmFzLmhlaWdodD1lLmhlaWdodCx0aGlzLm9mZnNjcmVlbkNhbnZhc0NvbnRleHQuZHJhd0ltYWdlKGUsMCwwLGUud2lkdGgsZS5oZWlnaHQpO2NvbnN0IHI9dGhpcy5vZmZzY3JlZW5DYW52YXNDb250ZXh0LmdldEltYWdlRGF0YSgtdCwtdCxlLndpZHRoKzIqdCxlLmhlaWdodCsyKnQpO3JldHVybiB0aGlzLm9mZnNjcmVlbkNhbnZhc0NvbnRleHQuY2xlYXJSZWN0KDAsMCx0aGlzLm9mZnNjcmVlbkNhbnZhcy53aWR0aCx0aGlzLm9mZnNjcmVlbkNhbnZhcy5oZWlnaHQpLHJ9fWZ1bmN0aW9uIHMoZSx0KXtpZigwIT09ZS5sZW5ndGgpe24oZVswXSx0KTtmb3IodmFyIHI9MTtyPGUubGVuZ3RoO3IrKyluKGVbcl0sIXQpO319ZnVuY3Rpb24gbihlLHQpe2Zvcih2YXIgcj0wLG89MCxpPTAscz1lLmxlbmd0aCxuPXMtMTtpPHM7bj1pKyspe3ZhciBhPShlW2ldWzBdLWVbbl1bMF0pKihlW25dWzFdK2VbaV1bMV0pLGw9cithO28rPU1hdGguYWJzKHIpPj1NYXRoLmFicyhhKT9yLWwrYTphLWwrcixyPWw7fXIrbz49MCE9ISF0JiZlLnJldmVyc2UoKTt9dmFyIGE9ZS5nKChmdW5jdGlvbiBlKHQscil7dmFyIG8saT10JiZ0LnR5cGU7aWYoXCJGZWF0dXJlQ29sbGVjdGlvblwiPT09aSlmb3Iobz0wO288dC5mZWF0dXJlcy5sZW5ndGg7bysrKWUodC5mZWF0dXJlc1tvXSxyKTtlbHNlIGlmKFwiR2VvbWV0cnlDb2xsZWN0aW9uXCI9PT1pKWZvcihvPTA7bzx0Lmdlb21ldHJpZXMubGVuZ3RoO28rKyllKHQuZ2VvbWV0cmllc1tvXSxyKTtlbHNlIGlmKFwiRmVhdHVyZVwiPT09aSllKHQuZ2VvbWV0cnkscik7ZWxzZSBpZihcIlBvbHlnb25cIj09PWkpcyh0LmNvb3JkaW5hdGVzLHIpO2Vsc2UgaWYoXCJNdWx0aVBvbHlnb25cIj09PWkpZm9yKG89MDtvPHQuY29vcmRpbmF0ZXMubGVuZ3RoO28rKylzKHQuY29vcmRpbmF0ZXNbb10scik7cmV0dXJuIHR9KSk7Y29uc3QgbD1lLlYucHJvdG90eXBlLnRvR2VvSlNPTjt2YXIgaD17ZXhwb3J0czp7fX0sdT1lLnAsYz1lLmEuVmVjdG9yVGlsZUZlYXR1cmUsZj1kO2Z1bmN0aW9uIGQoZSx0KXt0aGlzLm9wdGlvbnM9dHx8e30sdGhpcy5mZWF0dXJlcz1lLHRoaXMubGVuZ3RoPWUubGVuZ3RoO31mdW5jdGlvbiBwKGUsdCl7dGhpcy5pZD1cIm51bWJlclwiPT10eXBlb2YgZS5pZD9lLmlkOnZvaWQgMCx0aGlzLnR5cGU9ZS50eXBlLHRoaXMucmF3R2VvbWV0cnk9MT09PWUudHlwZT9bZS5nZW9tZXRyeV06ZS5nZW9tZXRyeSx0aGlzLnByb3BlcnRpZXM9ZS50YWdzLHRoaXMuZXh0ZW50PXR8fDQwOTY7fWQucHJvdG90eXBlLmZlYXR1cmU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBwKHRoaXMuZmVhdHVyZXNbZV0sdGhpcy5vcHRpb25zLmV4dGVudCl9LHAucHJvdG90eXBlLmxvYWRHZW9tZXRyeT1mdW5jdGlvbigpe3ZhciBlPXRoaXMucmF3R2VvbWV0cnk7dGhpcy5nZW9tZXRyeT1bXTtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7Zm9yKHZhciByPWVbdF0sbz1bXSxpPTA7aTxyLmxlbmd0aDtpKyspby5wdXNoKG5ldyB1KHJbaV1bMF0scltpXVsxXSkpO3RoaXMuZ2VvbWV0cnkucHVzaChvKTt9cmV0dXJuIHRoaXMuZ2VvbWV0cnl9LHAucHJvdG90eXBlLmJib3g9ZnVuY3Rpb24oKXt0aGlzLmdlb21ldHJ5fHx0aGlzLmxvYWRHZW9tZXRyeSgpO2Zvcih2YXIgZT10aGlzLmdlb21ldHJ5LHQ9MS8wLHI9LTEvMCxvPTEvMCxpPS0xLzAscz0wO3M8ZS5sZW5ndGg7cysrKWZvcih2YXIgbj1lW3NdLGE9MDthPG4ubGVuZ3RoO2ErKyl7dmFyIGw9blthXTt0PU1hdGgubWluKHQsbC54KSxyPU1hdGgubWF4KHIsbC54KSxvPU1hdGgubWluKG8sbC55KSxpPU1hdGgubWF4KGksbC55KTt9cmV0dXJuIFt0LG8scixpXX0scC5wcm90b3R5cGUudG9HZW9KU09OPWMucHJvdG90eXBlLnRvR2VvSlNPTjt2YXIgZz1lLmIsbT1mO2Z1bmN0aW9uIHkoZSl7dmFyIHQ9bmV3IGc7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIGUubGF5ZXJzKXQud3JpdGVNZXNzYWdlKDMsdixlLmxheWVyc1tyXSk7fShlLHQpLHQuZmluaXNoKCl9ZnVuY3Rpb24gdihlLHQpe3ZhciByO3Qud3JpdGVWYXJpbnRGaWVsZCgxNSxlLnZlcnNpb258fDEpLHQud3JpdGVTdHJpbmdGaWVsZCgxLGUubmFtZXx8XCJcIiksdC53cml0ZVZhcmludEZpZWxkKDUsZS5leHRlbnR8fDQwOTYpO3ZhciBvPXtrZXlzOltdLHZhbHVlczpbXSxrZXljYWNoZTp7fSx2YWx1ZWNhY2hlOnt9fTtmb3Iocj0wO3I8ZS5sZW5ndGg7cisrKW8uZmVhdHVyZT1lLmZlYXR1cmUociksdC53cml0ZU1lc3NhZ2UoMix3LG8pO3ZhciBpPW8ua2V5cztmb3Iocj0wO3I8aS5sZW5ndGg7cisrKXQud3JpdGVTdHJpbmdGaWVsZCgzLGlbcl0pO3ZhciBzPW8udmFsdWVzO2ZvcihyPTA7cjxzLmxlbmd0aDtyKyspdC53cml0ZU1lc3NhZ2UoNCxJLHNbcl0pO31mdW5jdGlvbiB3KGUsdCl7dmFyIHI9ZS5mZWF0dXJlO3ZvaWQgMCE9PXIuaWQmJnQud3JpdGVWYXJpbnRGaWVsZCgxLHIuaWQpLHQud3JpdGVNZXNzYWdlKDIseCxlKSx0LndyaXRlVmFyaW50RmllbGQoMyxyLnR5cGUpLHQud3JpdGVNZXNzYWdlKDQsYixyKTt9ZnVuY3Rpb24geChlLHQpe3ZhciByPWUuZmVhdHVyZSxvPWUua2V5cyxpPWUudmFsdWVzLHM9ZS5rZXljYWNoZSxuPWUudmFsdWVjYWNoZTtmb3IodmFyIGEgaW4gci5wcm9wZXJ0aWVzKXt2YXIgbD1yLnByb3BlcnRpZXNbYV0saD1zW2FdO2lmKG51bGwhPT1sKXt2b2lkIDA9PT1oJiYoby5wdXNoKGEpLHNbYV09aD1vLmxlbmd0aC0xKSx0LndyaXRlVmFyaW50KGgpO3ZhciB1PXR5cGVvZiBsO1wic3RyaW5nXCIhPT11JiZcImJvb2xlYW5cIiE9PXUmJlwibnVtYmVyXCIhPT11JiYobD1KU09OLnN0cmluZ2lmeShsKSk7dmFyIGM9dStcIjpcIitsLGY9bltjXTt2b2lkIDA9PT1mJiYoaS5wdXNoKGwpLG5bY109Zj1pLmxlbmd0aC0xKSx0LndyaXRlVmFyaW50KGYpO319fWZ1bmN0aW9uIFMoZSx0KXtyZXR1cm4gKHQ8PDMpKyg3JmUpfWZ1bmN0aW9uIE0oZSl7cmV0dXJuIGU8PDFeZT4+MzF9ZnVuY3Rpb24gYihlLHQpe2Zvcih2YXIgcj1lLmxvYWRHZW9tZXRyeSgpLG89ZS50eXBlLGk9MCxzPTAsbj1yLmxlbmd0aCxhPTA7YTxuO2ErKyl7dmFyIGw9clthXSxoPTE7MT09PW8mJihoPWwubGVuZ3RoKSx0LndyaXRlVmFyaW50KFMoMSxoKSk7Zm9yKHZhciB1PTM9PT1vP2wubGVuZ3RoLTE6bC5sZW5ndGgsYz0wO2M8dTtjKyspezE9PT1jJiYxIT09byYmdC53cml0ZVZhcmludChTKDIsdS0xKSk7dmFyIGY9bFtjXS54LWksZD1sW2NdLnktczt0LndyaXRlVmFyaW50KE0oZikpLHQud3JpdGVWYXJpbnQoTShkKSksaSs9ZixzKz1kO30zPT09byYmdC53cml0ZVZhcmludChTKDcsMSkpO319ZnVuY3Rpb24gSShlLHQpe3ZhciByPXR5cGVvZiBlO1wic3RyaW5nXCI9PT1yP3Qud3JpdGVTdHJpbmdGaWVsZCgxLGUpOlwiYm9vbGVhblwiPT09cj90LndyaXRlQm9vbGVhbkZpZWxkKDcsZSk6XCJudW1iZXJcIj09PXImJihlJTEhPTA/dC53cml0ZURvdWJsZUZpZWxkKDMsZSk6ZTwwP3Qud3JpdGVTVmFyaW50RmllbGQoNixlKTp0LndyaXRlVmFyaW50RmllbGQoNSxlKSk7fWguZXhwb3J0cz15LGguZXhwb3J0cy5mcm9tVmVjdG9yVGlsZUpzPXksaC5leHBvcnRzLmZyb21HZW9qc29uVnQ9ZnVuY3Rpb24oZSx0KXt0PXR8fHt9O3ZhciByPXt9O2Zvcih2YXIgbyBpbiBlKXJbb109bmV3IG0oZVtvXS5mZWF0dXJlcyx0KSxyW29dLm5hbWU9byxyW29dLnZlcnNpb249dC52ZXJzaW9uLHJbb10uZXh0ZW50PXQuZXh0ZW50O3JldHVybiB5KHtsYXllcnM6cn0pfSxoLmV4cG9ydHMuR2VvSlNPTldyYXBwZXI9bTt2YXIgaz1lLmcoaC5leHBvcnRzKTtjb25zdCBQPXttaW5ab29tOjAsbWF4Wm9vbToxNixtaW5Qb2ludHM6MixyYWRpdXM6NDAsZXh0ZW50OjUxMixub2RlU2l6ZTo2NCxsb2c6ITEsZ2VuZXJhdGVJZDohMSxyZWR1Y2U6bnVsbCxtYXA6ZT0+ZX0sXz1NYXRoLmZyb3VuZHx8KEw9bmV3IEZsb2F0MzJBcnJheSgxKSxlPT4oTFswXT0rZSxMWzBdKSk7dmFyIEw7Y29uc3QgVD0zLEM9NSxPPTY7Y2xhc3Mgantjb25zdHJ1Y3RvcihlKXt0aGlzLm9wdGlvbnM9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKFApLGUpLHRoaXMudHJlZXM9bmV3IEFycmF5KHRoaXMub3B0aW9ucy5tYXhab29tKzEpLHRoaXMuc3RyaWRlPXRoaXMub3B0aW9ucy5yZWR1Y2U/Nzo2LHRoaXMuY2x1c3RlclByb3BzPVtdO31sb2FkKGUpe2NvbnN0e2xvZzp0LG1pblpvb206cixtYXhab29tOm99PXRoaXMub3B0aW9uczt0JiZjb25zb2xlLnRpbWUoXCJ0b3RhbCB0aW1lXCIpO2NvbnN0IGk9YHByZXBhcmUgJHtlLmxlbmd0aH0gcG9pbnRzYDt0JiZjb25zb2xlLnRpbWUoaSksdGhpcy5wb2ludHM9ZTtjb25zdCBzPVtdO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCByPWVbdF07aWYoIXIuZ2VvbWV0cnkpY29udGludWU7Y29uc3RbbyxpXT1yLmdlb21ldHJ5LmNvb3JkaW5hdGVzLG49Xyh6KG8pKSxhPV8oRChpKSk7cy5wdXNoKG4sYSwxLzAsdCwtMSwxKSx0aGlzLm9wdGlvbnMucmVkdWNlJiZzLnB1c2goMCk7fWxldCBuPXRoaXMudHJlZXNbbysxXT10aGlzLl9jcmVhdGVUcmVlKHMpO3QmJmNvbnNvbGUudGltZUVuZChpKTtmb3IobGV0IGU9bztlPj1yO2UtLSl7Y29uc3Qgcj0rRGF0ZS5ub3coKTtuPXRoaXMudHJlZXNbZV09dGhpcy5fY3JlYXRlVHJlZSh0aGlzLl9jbHVzdGVyKG4sZSkpLHQmJmNvbnNvbGUubG9nKFwieiVkOiAlZCBjbHVzdGVycyBpbiAlZG1zXCIsZSxuLm51bUl0ZW1zLCtEYXRlLm5vdygpLXIpO31yZXR1cm4gdCYmY29uc29sZS50aW1lRW5kKFwidG90YWwgdGltZVwiKSx0aGlzfWdldENsdXN0ZXJzKGUsdCl7bGV0IHI9KChlWzBdKzE4MCklMzYwKzM2MCklMzYwLTE4MDtjb25zdCBvPU1hdGgubWF4KC05MCxNYXRoLm1pbig5MCxlWzFdKSk7bGV0IGk9MTgwPT09ZVsyXT8xODA6KChlWzJdKzE4MCklMzYwKzM2MCklMzYwLTE4MDtjb25zdCBzPU1hdGgubWF4KC05MCxNYXRoLm1pbig5MCxlWzNdKSk7aWYoZVsyXS1lWzBdPj0zNjApcj0tMTgwLGk9MTgwO2Vsc2UgaWYocj5pKXtjb25zdCBlPXRoaXMuZ2V0Q2x1c3RlcnMoW3IsbywxODAsc10sdCksbj10aGlzLmdldENsdXN0ZXJzKFstMTgwLG8saSxzXSx0KTtyZXR1cm4gZS5jb25jYXQobil9Y29uc3Qgbj10aGlzLnRyZWVzW3RoaXMuX2xpbWl0Wm9vbSh0KV0sYT1uLnJhbmdlKHoociksRChzKSx6KGkpLEQobykpLGw9bi5kYXRhLGg9W107Zm9yKGNvbnN0IGUgb2YgYSl7Y29uc3QgdD10aGlzLnN0cmlkZSplO2gucHVzaChsW3QrQ10+MT9GKGwsdCx0aGlzLmNsdXN0ZXJQcm9wcyk6dGhpcy5wb2ludHNbbFt0K1RdXSk7fXJldHVybiBofWdldENoaWxkcmVuKGUpe2NvbnN0IHQ9dGhpcy5fZ2V0T3JpZ2luSWQoZSkscj10aGlzLl9nZXRPcmlnaW5ab29tKGUpLG89XCJObyBjbHVzdGVyIHdpdGggdGhlIHNwZWNpZmllZCBpZC5cIixpPXRoaXMudHJlZXNbcl07aWYoIWkpdGhyb3cgbmV3IEVycm9yKG8pO2NvbnN0IHM9aS5kYXRhO2lmKHQqdGhpcy5zdHJpZGU+PXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihvKTtjb25zdCBuPXRoaXMub3B0aW9ucy5yYWRpdXMvKHRoaXMub3B0aW9ucy5leHRlbnQqTWF0aC5wb3coMixyLTEpKSxhPWkud2l0aGluKHNbdCp0aGlzLnN0cmlkZV0sc1t0KnRoaXMuc3RyaWRlKzFdLG4pLGw9W107Zm9yKGNvbnN0IHQgb2YgYSl7Y29uc3Qgcj10KnRoaXMuc3RyaWRlO3Nbcis0XT09PWUmJmwucHVzaChzW3IrQ10+MT9GKHMscix0aGlzLmNsdXN0ZXJQcm9wcyk6dGhpcy5wb2ludHNbc1tyK1RdXSk7fWlmKDA9PT1sLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3Iobyk7cmV0dXJuIGx9Z2V0TGVhdmVzKGUsdCxyKXtjb25zdCBvPVtdO3JldHVybiB0aGlzLl9hcHBlbmRMZWF2ZXMobyxlLHQ9dHx8MTAscj1yfHwwLDApLG99Z2V0VGlsZShlLHQscil7Y29uc3Qgbz10aGlzLnRyZWVzW3RoaXMuX2xpbWl0Wm9vbShlKV0saT1NYXRoLnBvdygyLGUpLHtleHRlbnQ6cyxyYWRpdXM6bn09dGhpcy5vcHRpb25zLGE9bi9zLGw9KHItYSkvaSxoPShyKzErYSkvaSx1PXtmZWF0dXJlczpbXX07cmV0dXJuIHRoaXMuX2FkZFRpbGVGZWF0dXJlcyhvLnJhbmdlKCh0LWEpL2ksbCwodCsxK2EpL2ksaCksby5kYXRhLHQscixpLHUpLDA9PT10JiZ0aGlzLl9hZGRUaWxlRmVhdHVyZXMoby5yYW5nZSgxLWEvaSxsLDEsaCksby5kYXRhLGkscixpLHUpLHQ9PT1pLTEmJnRoaXMuX2FkZFRpbGVGZWF0dXJlcyhvLnJhbmdlKDAsbCxhL2ksaCksby5kYXRhLC0xLHIsaSx1KSx1LmZlYXR1cmVzLmxlbmd0aD91Om51bGx9Z2V0Q2x1c3RlckV4cGFuc2lvblpvb20oZSl7bGV0IHQ9dGhpcy5fZ2V0T3JpZ2luWm9vbShlKS0xO2Zvcig7dDw9dGhpcy5vcHRpb25zLm1heFpvb207KXtjb25zdCByPXRoaXMuZ2V0Q2hpbGRyZW4oZSk7aWYodCsrLDEhPT1yLmxlbmd0aClicmVhaztlPXJbMF0ucHJvcGVydGllcy5jbHVzdGVyX2lkO31yZXR1cm4gdH1fYXBwZW5kTGVhdmVzKGUsdCxyLG8saSl7Y29uc3Qgcz10aGlzLmdldENoaWxkcmVuKHQpO2Zvcihjb25zdCB0IG9mIHMpe2NvbnN0IHM9dC5wcm9wZXJ0aWVzO2lmKHMmJnMuY2x1c3Rlcj9pK3MucG9pbnRfY291bnQ8PW8/aSs9cy5wb2ludF9jb3VudDppPXRoaXMuX2FwcGVuZExlYXZlcyhlLHMuY2x1c3Rlcl9pZCxyLG8saSk6aTxvP2krKzplLnB1c2godCksZS5sZW5ndGg9PT1yKWJyZWFrfXJldHVybiBpfV9jcmVhdGVUcmVlKHQpe2NvbnN0IHI9bmV3IGUuSyh0Lmxlbmd0aC90aGlzLnN0cmlkZXwwLHRoaXMub3B0aW9ucy5ub2RlU2l6ZSxGbG9hdDMyQXJyYXkpO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSs9dGhpcy5zdHJpZGUpci5hZGQodFtlXSx0W2UrMV0pO3JldHVybiByLmZpbmlzaCgpLHIuZGF0YT10LHJ9X2FkZFRpbGVGZWF0dXJlcyhlLHQscixvLGkscyl7Zm9yKGNvbnN0IG4gb2YgZSl7Y29uc3QgZT1uKnRoaXMuc3RyaWRlLGE9dFtlK0NdPjE7bGV0IGwsaCx1O2lmKGEpbD1aKHQsZSx0aGlzLmNsdXN0ZXJQcm9wcyksaD10W2VdLHU9dFtlKzFdO2Vsc2Uge2NvbnN0IHI9dGhpcy5wb2ludHNbdFtlK1RdXTtsPXIucHJvcGVydGllcztjb25zdFtvLGldPXIuZ2VvbWV0cnkuY29vcmRpbmF0ZXM7aD16KG8pLHU9RChpKTt9Y29uc3QgYz17dHlwZToxLGdlb21ldHJ5OltbTWF0aC5yb3VuZCh0aGlzLm9wdGlvbnMuZXh0ZW50KihoKmktcikpLE1hdGgucm91bmQodGhpcy5vcHRpb25zLmV4dGVudCoodSppLW8pKV1dLHRhZ3M6bH07bGV0IGY7Zj1hfHx0aGlzLm9wdGlvbnMuZ2VuZXJhdGVJZD90W2UrVF06dGhpcy5wb2ludHNbdFtlK1RdXS5pZCx2b2lkIDAhPT1mJiYoYy5pZD1mKSxzLmZlYXR1cmVzLnB1c2goYyk7fX1fbGltaXRab29tKGUpe3JldHVybiBNYXRoLm1heCh0aGlzLm9wdGlvbnMubWluWm9vbSxNYXRoLm1pbihNYXRoLmZsb29yKCtlKSx0aGlzLm9wdGlvbnMubWF4Wm9vbSsxKSl9X2NsdXN0ZXIoZSx0KXtjb25zdHtyYWRpdXM6cixleHRlbnQ6byxyZWR1Y2U6aSxtaW5Qb2ludHM6c309dGhpcy5vcHRpb25zLG49ci8obypNYXRoLnBvdygyLHQpKSxhPWUuZGF0YSxsPVtdLGg9dGhpcy5zdHJpZGU7Zm9yKGxldCByPTA7cjxhLmxlbmd0aDtyKz1oKXtpZihhW3IrMl08PXQpY29udGludWU7YVtyKzJdPXQ7Y29uc3Qgbz1hW3JdLHU9YVtyKzFdLGM9ZS53aXRoaW4oYVtyXSxhW3IrMV0sbiksZj1hW3IrQ107bGV0IGQ9Zjtmb3IoY29uc3QgZSBvZiBjKXtjb25zdCByPWUqaDthW3IrMl0+dCYmKGQrPWFbcitDXSk7fWlmKGQ+ZiYmZD49cyl7bGV0IGUscz1vKmYsbj11KmYscD0tMTtjb25zdCBnPSgoci9ofDApPDw1KSsodCsxKSt0aGlzLnBvaW50cy5sZW5ndGg7Zm9yKGNvbnN0IG8gb2YgYyl7Y29uc3QgbD1vKmg7aWYoYVtsKzJdPD10KWNvbnRpbnVlO2FbbCsyXT10O2NvbnN0IHU9YVtsK0NdO3MrPWFbbF0qdSxuKz1hW2wrMV0qdSxhW2wrNF09ZyxpJiYoZXx8KGU9dGhpcy5fbWFwKGEsciwhMCkscD10aGlzLmNsdXN0ZXJQcm9wcy5sZW5ndGgsdGhpcy5jbHVzdGVyUHJvcHMucHVzaChlKSksaShlLHRoaXMuX21hcChhLGwpKSk7fWFbcis0XT1nLGwucHVzaChzL2Qsbi9kLDEvMCxnLC0xLGQpLGkmJmwucHVzaChwKTt9ZWxzZSB7Zm9yKGxldCBlPTA7ZTxoO2UrKylsLnB1c2goYVtyK2VdKTtpZihkPjEpZm9yKGNvbnN0IGUgb2YgYyl7Y29uc3Qgcj1lKmg7aWYoIShhW3IrMl08PXQpKXthW3IrMl09dDtmb3IobGV0IGU9MDtlPGg7ZSsrKWwucHVzaChhW3IrZV0pO319fX1yZXR1cm4gbH1fZ2V0T3JpZ2luSWQoZSl7cmV0dXJuIGUtdGhpcy5wb2ludHMubGVuZ3RoPj41fV9nZXRPcmlnaW5ab29tKGUpe3JldHVybiAoZS10aGlzLnBvaW50cy5sZW5ndGgpJTMyfV9tYXAoZSx0LHIpe2lmKGVbdCtDXT4xKXtjb25zdCBvPXRoaXMuY2x1c3RlclByb3BzW2VbdCtPXV07cmV0dXJuIHI/T2JqZWN0LmFzc2lnbih7fSxvKTpvfWNvbnN0IG89dGhpcy5wb2ludHNbZVt0K1RdXS5wcm9wZXJ0aWVzLGk9dGhpcy5vcHRpb25zLm1hcChvKTtyZXR1cm4gciYmaT09PW8/T2JqZWN0LmFzc2lnbih7fSxpKTppfX1mdW5jdGlvbiBGKGUsdCxyKXtyZXR1cm4ge3R5cGU6XCJGZWF0dXJlXCIsaWQ6ZVt0K1RdLHByb3BlcnRpZXM6WihlLHQsciksZ2VvbWV0cnk6e3R5cGU6XCJQb2ludFwiLGNvb3JkaW5hdGVzOlsobz1lW3RdLDM2MCooby0uNSkpLEUoZVt0KzFdKV19fTt2YXIgbzt9ZnVuY3Rpb24gWihlLHQscil7Y29uc3Qgbz1lW3QrQ10saT1vPj0xZTQ/YCR7TWF0aC5yb3VuZChvLzFlMyl9a2A6bz49MWUzP01hdGgucm91bmQoby8xMDApLzEwK1wia1wiOm8scz1lW3QrT10sbj0tMT09PXM/e306T2JqZWN0LmFzc2lnbih7fSxyW3NdKTtyZXR1cm4gT2JqZWN0LmFzc2lnbihuLHtjbHVzdGVyOiEwLGNsdXN0ZXJfaWQ6ZVt0K1RdLHBvaW50X2NvdW50Om8scG9pbnRfY291bnRfYWJicmV2aWF0ZWQ6aX0pfWZ1bmN0aW9uIHooZSl7cmV0dXJuIGUvMzYwKy41fWZ1bmN0aW9uIEQoZSl7Y29uc3QgdD1NYXRoLnNpbihlKk1hdGguUEkvMTgwKSxyPS41LS4yNSpNYXRoLmxvZygoMSt0KS8oMS10KSkvTWF0aC5QSTtyZXR1cm4gcjwwPzA6cj4xPzE6cn1mdW5jdGlvbiBFKGUpe2NvbnN0IHQ9KDE4MC0zNjAqZSkqTWF0aC5QSS8xODA7cmV0dXJuIDM2MCpNYXRoLmF0YW4oTWF0aC5leHAodCkpL01hdGguUEktOTB9dmFyIE49e2V4cG9ydHM6e319O04uZXhwb3J0cz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUocixvLGkscyl7Zm9yKHZhciBuLGE9cyxsPWktbz4+MSxoPWktbyx1PXJbb10sYz1yW28rMV0sZj1yW2ldLGQ9cltpKzFdLHA9byszO3A8aTtwKz0zKXt2YXIgZz10KHJbcF0scltwKzFdLHUsYyxmLGQpO2lmKGc+YSluPXAsYT1nO2Vsc2UgaWYoZz09PWEpe3ZhciBtPU1hdGguYWJzKHAtbCk7bTxoJiYobj1wLGg9bSk7fX1hPnMmJihuLW8+MyYmZShyLG8sbixzKSxyW24rMl09YSxpLW4+MyYmZShyLG4saSxzKSk7fWZ1bmN0aW9uIHQoZSx0LHIsbyxpLHMpe3ZhciBuPWktcixhPXMtbztpZigwIT09bnx8MCE9PWEpe3ZhciBsPSgoZS1yKSpuKyh0LW8pKmEpLyhuKm4rYSphKTtsPjE/KHI9aSxvPXMpOmw+MCYmKHIrPW4qbCxvKz1hKmwpO31yZXR1cm4gKG49ZS1yKSpuKyhhPXQtbykqYX1mdW5jdGlvbiByKGUsdCxyLGkpe3ZhciBzPXtpZDp2b2lkIDA9PT1lP251bGw6ZSx0eXBlOnQsZ2VvbWV0cnk6cix0YWdzOmksbWluWDoxLzAsbWluWToxLzAsbWF4WDotMS8wLG1heFk6LTEvMH07cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2VvbWV0cnkscj1lLnR5cGU7aWYoXCJQb2ludFwiPT09cnx8XCJNdWx0aVBvaW50XCI9PT1yfHxcIkxpbmVTdHJpbmdcIj09PXIpbyhlLHQpO2Vsc2UgaWYoXCJQb2x5Z29uXCI9PT1yfHxcIk11bHRpTGluZVN0cmluZ1wiPT09cilmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKylvKGUsdFtpXSk7ZWxzZSBpZihcIk11bHRpUG9seWdvblwiPT09cilmb3IoaT0wO2k8dC5sZW5ndGg7aSsrKWZvcih2YXIgcz0wO3M8dFtpXS5sZW5ndGg7cysrKW8oZSx0W2ldW3NdKTt9KHMpLHN9ZnVuY3Rpb24gbyhlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cis9MyllLm1pblg9TWF0aC5taW4oZS5taW5YLHRbcl0pLGUubWluWT1NYXRoLm1pbihlLm1pblksdFtyKzFdKSxlLm1heFg9TWF0aC5tYXgoZS5tYXhYLHRbcl0pLGUubWF4WT1NYXRoLm1heChlLm1heFksdFtyKzFdKTt9ZnVuY3Rpb24gaShlLHQsbyxsKXtpZih0Lmdlb21ldHJ5KXt2YXIgaD10Lmdlb21ldHJ5LmNvb3JkaW5hdGVzLHU9dC5nZW9tZXRyeS50eXBlLGM9TWF0aC5wb3coby50b2xlcmFuY2UvKCgxPDxvLm1heFpvb20pKm8uZXh0ZW50KSwyKSxmPVtdLGQ9dC5pZDtpZihvLnByb21vdGVJZD9kPXQucHJvcGVydGllc1tvLnByb21vdGVJZF06by5nZW5lcmF0ZUlkJiYoZD1sfHwwKSxcIlBvaW50XCI9PT11KXMoaCxmKTtlbHNlIGlmKFwiTXVsdGlQb2ludFwiPT09dSlmb3IodmFyIHA9MDtwPGgubGVuZ3RoO3ArKylzKGhbcF0sZik7ZWxzZSBpZihcIkxpbmVTdHJpbmdcIj09PXUpbihoLGYsYywhMSk7ZWxzZSBpZihcIk11bHRpTGluZVN0cmluZ1wiPT09dSl7aWYoby5saW5lTWV0cmljcyl7Zm9yKHA9MDtwPGgubGVuZ3RoO3ArKyluKGhbcF0sZj1bXSxjLCExKSxlLnB1c2gocihkLFwiTGluZVN0cmluZ1wiLGYsdC5wcm9wZXJ0aWVzKSk7cmV0dXJufWEoaCxmLGMsITEpO31lbHNlIGlmKFwiUG9seWdvblwiPT09dSlhKGgsZixjLCEwKTtlbHNlIHtpZihcIk11bHRpUG9seWdvblwiIT09dSl7aWYoXCJHZW9tZXRyeUNvbGxlY3Rpb25cIj09PXUpe2ZvcihwPTA7cDx0Lmdlb21ldHJ5Lmdlb21ldHJpZXMubGVuZ3RoO3ArKylpKGUse2lkOmQsZ2VvbWV0cnk6dC5nZW9tZXRyeS5nZW9tZXRyaWVzW3BdLHByb3BlcnRpZXM6dC5wcm9wZXJ0aWVzfSxvLGwpO3JldHVybn10aHJvdyBuZXcgRXJyb3IoXCJJbnB1dCBkYXRhIGlzIG5vdCBhIHZhbGlkIEdlb0pTT04gb2JqZWN0LlwiKX1mb3IocD0wO3A8aC5sZW5ndGg7cCsrKXt2YXIgZz1bXTthKGhbcF0sZyxjLCEwKSxmLnB1c2goZyk7fX1lLnB1c2gocihkLHUsZix0LnByb3BlcnRpZXMpKTt9fWZ1bmN0aW9uIHMoZSx0KXt0LnB1c2gobChlWzBdKSksdC5wdXNoKGgoZVsxXSkpLHQucHVzaCgwKTt9ZnVuY3Rpb24gbih0LHIsbyxpKXtmb3IodmFyIHMsbixhPTAsdT0wO3U8dC5sZW5ndGg7dSsrKXt2YXIgYz1sKHRbdV1bMF0pLGY9aCh0W3VdWzFdKTtyLnB1c2goYyksci5wdXNoKGYpLHIucHVzaCgwKSx1PjAmJihhKz1pPyhzKmYtYypuKS8yOk1hdGguc3FydChNYXRoLnBvdyhjLXMsMikrTWF0aC5wb3coZi1uLDIpKSkscz1jLG49Zjt9dmFyIGQ9ci5sZW5ndGgtMztyWzJdPTEsZShyLDAsZCxvKSxyW2QrMl09MSxyLnNpemU9TWF0aC5hYnMoYSksci5zdGFydD0wLHIuZW5kPXIuc2l6ZTt9ZnVuY3Rpb24gYShlLHQscixvKXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIHM9W107bihlW2ldLHMscixvKSx0LnB1c2gocyk7fX1mdW5jdGlvbiBsKGUpe3JldHVybiBlLzM2MCsuNX1mdW5jdGlvbiBoKGUpe3ZhciB0PU1hdGguc2luKGUqTWF0aC5QSS8xODApLHI9LjUtLjI1Kk1hdGgubG9nKCgxK3QpLygxLXQpKS9NYXRoLlBJO3JldHVybiByPDA/MDpyPjE/MTpyfWZ1bmN0aW9uIHUoZSx0LG8saSxzLG4sYSxsKXtpZihpLz10LG4+PShvLz10KSYmYTxpKXJldHVybiBlO2lmKGE8b3x8bj49aSlyZXR1cm4gbnVsbDtmb3IodmFyIGg9W10sdT0wO3U8ZS5sZW5ndGg7dSsrKXt2YXIgZD1lW3VdLGc9ZC5nZW9tZXRyeSxtPWQudHlwZSx5PTA9PT1zP2QubWluWDpkLm1pblksdj0wPT09cz9kLm1heFg6ZC5tYXhZO2lmKHk+PW8mJnY8aSloLnB1c2goZCk7ZWxzZSBpZighKHY8b3x8eT49aSkpe3ZhciB3PVtdO2lmKFwiUG9pbnRcIj09PW18fFwiTXVsdGlQb2ludFwiPT09bSljKGcsdyxvLGkscyk7ZWxzZSBpZihcIkxpbmVTdHJpbmdcIj09PW0pZihnLHcsbyxpLHMsITEsbC5saW5lTWV0cmljcyk7ZWxzZSBpZihcIk11bHRpTGluZVN0cmluZ1wiPT09bSlwKGcsdyxvLGkscywhMSk7ZWxzZSBpZihcIlBvbHlnb25cIj09PW0pcChnLHcsbyxpLHMsITApO2Vsc2UgaWYoXCJNdWx0aVBvbHlnb25cIj09PW0pZm9yKHZhciB4PTA7eDxnLmxlbmd0aDt4Kyspe3ZhciBTPVtdO3AoZ1t4XSxTLG8saSxzLCEwKSxTLmxlbmd0aCYmdy5wdXNoKFMpO31pZih3Lmxlbmd0aCl7aWYobC5saW5lTWV0cmljcyYmXCJMaW5lU3RyaW5nXCI9PT1tKXtmb3IoeD0wO3g8dy5sZW5ndGg7eCsrKWgucHVzaChyKGQuaWQsbSx3W3hdLGQudGFncykpO2NvbnRpbnVlfVwiTGluZVN0cmluZ1wiIT09bSYmXCJNdWx0aUxpbmVTdHJpbmdcIiE9PW18fCgxPT09dy5sZW5ndGg/KG09XCJMaW5lU3RyaW5nXCIsdz13WzBdKTptPVwiTXVsdGlMaW5lU3RyaW5nXCIpLFwiUG9pbnRcIiE9PW0mJlwiTXVsdGlQb2ludFwiIT09bXx8KG09Mz09PXcubGVuZ3RoP1wiUG9pbnRcIjpcIk11bHRpUG9pbnRcIiksaC5wdXNoKHIoZC5pZCxtLHcsZC50YWdzKSk7fX19cmV0dXJuIGgubGVuZ3RoP2g6bnVsbH1mdW5jdGlvbiBjKGUsdCxyLG8saSl7Zm9yKHZhciBzPTA7czxlLmxlbmd0aDtzKz0zKXt2YXIgbj1lW3MraV07bj49ciYmbjw9byYmKHQucHVzaChlW3NdKSx0LnB1c2goZVtzKzFdKSx0LnB1c2goZVtzKzJdKSk7fX1mdW5jdGlvbiBmKGUsdCxyLG8saSxzLG4pe2Zvcih2YXIgYSxsLGg9ZChlKSx1PTA9PT1pP206eSxjPWUuc3RhcnQsZj0wO2Y8ZS5sZW5ndGgtMztmKz0zKXt2YXIgcD1lW2ZdLHY9ZVtmKzFdLHc9ZVtmKzJdLHg9ZVtmKzNdLFM9ZVtmKzRdLE09MD09PWk/cDp2LGI9MD09PWk/eDpTLEk9ITE7biYmKGE9TWF0aC5zcXJ0KE1hdGgucG93KHAteCwyKStNYXRoLnBvdyh2LVMsMikpKSxNPHI/Yj5yJiYobD11KGgscCx2LHgsUyxyKSxuJiYoaC5zdGFydD1jK2EqbCkpOk0+bz9iPG8mJihsPXUoaCxwLHYseCxTLG8pLG4mJihoLnN0YXJ0PWMrYSpsKSk6ZyhoLHAsdix3KSxiPHImJk0+PXImJihsPXUoaCxwLHYseCxTLHIpLEk9ITApLGI+byYmTTw9byYmKGw9dShoLHAsdix4LFMsbyksST0hMCksIXMmJkkmJihuJiYoaC5lbmQ9YythKmwpLHQucHVzaChoKSxoPWQoZSkpLG4mJihjKz1hKTt9dmFyIGs9ZS5sZW5ndGgtMztwPWVba10sdj1lW2srMV0sdz1lW2srMl0sKE09MD09PWk/cDp2KT49ciYmTTw9byYmZyhoLHAsdix3KSxrPWgubGVuZ3RoLTMscyYmaz49MyYmKGhba10hPT1oWzBdfHxoW2srMV0hPT1oWzFdKSYmZyhoLGhbMF0saFsxXSxoWzJdKSxoLmxlbmd0aCYmdC5wdXNoKGgpO31mdW5jdGlvbiBkKGUpe3ZhciB0PVtdO3JldHVybiB0LnNpemU9ZS5zaXplLHQuc3RhcnQ9ZS5zdGFydCx0LmVuZD1lLmVuZCx0fWZ1bmN0aW9uIHAoZSx0LHIsbyxpLHMpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKWYoZVtuXSx0LHIsbyxpLHMsITEpO31mdW5jdGlvbiBnKGUsdCxyLG8pe2UucHVzaCh0KSxlLnB1c2gociksZS5wdXNoKG8pO31mdW5jdGlvbiBtKGUsdCxyLG8saSxzKXt2YXIgbj0ocy10KS8oby10KTtyZXR1cm4gZS5wdXNoKHMpLGUucHVzaChyKyhpLXIpKm4pLGUucHVzaCgxKSxufWZ1bmN0aW9uIHkoZSx0LHIsbyxpLHMpe3ZhciBuPShzLXIpLyhpLXIpO3JldHVybiBlLnB1c2godCsoby10KSpuKSxlLnB1c2gocyksZS5wdXNoKDEpLG59ZnVuY3Rpb24gdihlLHQpe2Zvcih2YXIgbz1bXSxpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBzLG49ZVtpXSxhPW4udHlwZTtpZihcIlBvaW50XCI9PT1hfHxcIk11bHRpUG9pbnRcIj09PWF8fFwiTGluZVN0cmluZ1wiPT09YSlzPXcobi5nZW9tZXRyeSx0KTtlbHNlIGlmKFwiTXVsdGlMaW5lU3RyaW5nXCI9PT1hfHxcIlBvbHlnb25cIj09PWEpe3M9W107Zm9yKHZhciBsPTA7bDxuLmdlb21ldHJ5Lmxlbmd0aDtsKyspcy5wdXNoKHcobi5nZW9tZXRyeVtsXSx0KSk7fWVsc2UgaWYoXCJNdWx0aVBvbHlnb25cIj09PWEpZm9yKHM9W10sbD0wO2w8bi5nZW9tZXRyeS5sZW5ndGg7bCsrKXtmb3IodmFyIGg9W10sdT0wO3U8bi5nZW9tZXRyeVtsXS5sZW5ndGg7dSsrKWgucHVzaCh3KG4uZ2VvbWV0cnlbbF1bdV0sdCkpO3MucHVzaChoKTt9by5wdXNoKHIobi5pZCxhLHMsbi50YWdzKSk7fXJldHVybiBvfWZ1bmN0aW9uIHcoZSx0KXt2YXIgcj1bXTtyLnNpemU9ZS5zaXplLHZvaWQgMCE9PWUuc3RhcnQmJihyLnN0YXJ0PWUuc3RhcnQsci5lbmQ9ZS5lbmQpO2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7bys9MylyLnB1c2goZVtvXSt0LGVbbysxXSxlW28rMl0pO3JldHVybiByfWZ1bmN0aW9uIHgoZSx0KXtpZihlLnRyYW5zZm9ybWVkKXJldHVybiBlO3ZhciByLG8saSxzPTE8PGUueixuPWUueCxhPWUueTtmb3Iocj0wO3I8ZS5mZWF0dXJlcy5sZW5ndGg7cisrKXt2YXIgbD1lLmZlYXR1cmVzW3JdLGg9bC5nZW9tZXRyeSx1PWwudHlwZTtpZihsLmdlb21ldHJ5PVtdLDE9PT11KWZvcihvPTA7bzxoLmxlbmd0aDtvKz0yKWwuZ2VvbWV0cnkucHVzaChTKGhbb10saFtvKzFdLHQscyxuLGEpKTtlbHNlIGZvcihvPTA7bzxoLmxlbmd0aDtvKyspe3ZhciBjPVtdO2ZvcihpPTA7aTxoW29dLmxlbmd0aDtpKz0yKWMucHVzaChTKGhbb11baV0saFtvXVtpKzFdLHQscyxuLGEpKTtsLmdlb21ldHJ5LnB1c2goYyk7fX1yZXR1cm4gZS50cmFuc2Zvcm1lZD0hMCxlfWZ1bmN0aW9uIFMoZSx0LHIsbyxpLHMpe3JldHVybiBbTWF0aC5yb3VuZChyKihlKm8taSkpLE1hdGgucm91bmQocioodCpvLXMpKV19ZnVuY3Rpb24gTShlLHQscixvLGkpe2Zvcih2YXIgcz10PT09aS5tYXhab29tPzA6aS50b2xlcmFuY2UvKCgxPDx0KSppLmV4dGVudCksbj17ZmVhdHVyZXM6W10sbnVtUG9pbnRzOjAsbnVtU2ltcGxpZmllZDowLG51bUZlYXR1cmVzOjAsc291cmNlOm51bGwseDpyLHk6byx6OnQsdHJhbnNmb3JtZWQ6ITEsbWluWDoyLG1pblk6MSxtYXhYOi0xLG1heFk6MH0sYT0wO2E8ZS5sZW5ndGg7YSsrKXtuLm51bUZlYXR1cmVzKyssYihuLGVbYV0scyxpKTt2YXIgbD1lW2FdLm1pblgsaD1lW2FdLm1pblksdT1lW2FdLm1heFgsYz1lW2FdLm1heFk7bDxuLm1pblgmJihuLm1pblg9bCksaDxuLm1pblkmJihuLm1pblk9aCksdT5uLm1heFgmJihuLm1heFg9dSksYz5uLm1heFkmJihuLm1heFk9Yyk7fXJldHVybiBufWZ1bmN0aW9uIGIoZSx0LHIsbyl7dmFyIGk9dC5nZW9tZXRyeSxzPXQudHlwZSxuPVtdO2lmKFwiUG9pbnRcIj09PXN8fFwiTXVsdGlQb2ludFwiPT09cylmb3IodmFyIGE9MDthPGkubGVuZ3RoO2ErPTMpbi5wdXNoKGlbYV0pLG4ucHVzaChpW2ErMV0pLGUubnVtUG9pbnRzKyssZS5udW1TaW1wbGlmaWVkKys7ZWxzZSBpZihcIkxpbmVTdHJpbmdcIj09PXMpSShuLGksZSxyLCExLCExKTtlbHNlIGlmKFwiTXVsdGlMaW5lU3RyaW5nXCI9PT1zfHxcIlBvbHlnb25cIj09PXMpZm9yKGE9MDthPGkubGVuZ3RoO2ErKylJKG4saVthXSxlLHIsXCJQb2x5Z29uXCI9PT1zLDA9PT1hKTtlbHNlIGlmKFwiTXVsdGlQb2x5Z29uXCI9PT1zKWZvcih2YXIgbD0wO2w8aS5sZW5ndGg7bCsrKXt2YXIgaD1pW2xdO2ZvcihhPTA7YTxoLmxlbmd0aDthKyspSShuLGhbYV0sZSxyLCEwLDA9PT1hKTt9aWYobi5sZW5ndGgpe3ZhciB1PXQudGFnc3x8bnVsbDtpZihcIkxpbmVTdHJpbmdcIj09PXMmJm8ubGluZU1ldHJpY3Mpe2Zvcih2YXIgYyBpbiB1PXt9LHQudGFncyl1W2NdPXQudGFnc1tjXTt1Lm1hcGJveF9jbGlwX3N0YXJ0PWkuc3RhcnQvaS5zaXplLHUubWFwYm94X2NsaXBfZW5kPWkuZW5kL2kuc2l6ZTt9dmFyIGY9e2dlb21ldHJ5Om4sdHlwZTpcIlBvbHlnb25cIj09PXN8fFwiTXVsdGlQb2x5Z29uXCI9PT1zPzM6XCJMaW5lU3RyaW5nXCI9PT1zfHxcIk11bHRpTGluZVN0cmluZ1wiPT09cz8yOjEsdGFnczp1fTtudWxsIT09dC5pZCYmKGYuaWQ9dC5pZCksZS5mZWF0dXJlcy5wdXNoKGYpO319ZnVuY3Rpb24gSShlLHQscixvLGkscyl7dmFyIG49bypvO2lmKG8+MCYmdC5zaXplPChpP246bykpci5udW1Qb2ludHMrPXQubGVuZ3RoLzM7ZWxzZSB7Zm9yKHZhciBhPVtdLGw9MDtsPHQubGVuZ3RoO2wrPTMpKDA9PT1vfHx0W2wrMl0+bikmJihyLm51bVNpbXBsaWZpZWQrKyxhLnB1c2godFtsXSksYS5wdXNoKHRbbCsxXSkpLHIubnVtUG9pbnRzKys7aSYmZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MCxvPTAsaT1lLmxlbmd0aCxzPWktMjtvPGk7cz1vLG8rPTIpcis9KGVbb10tZVtzXSkqKGVbbysxXStlW3MrMV0pO2lmKHI+MD09PXQpZm9yKG89MCxpPWUubGVuZ3RoO288aS8yO28rPTIpe3ZhciBuPWVbb10sYT1lW28rMV07ZVtvXT1lW2ktMi1vXSxlW28rMV09ZVtpLTEtb10sZVtpLTItb109bixlW2ktMS1vXT1hO319KGEscyksZS5wdXNoKGEpO319ZnVuY3Rpb24gayhlLHQpe3ZhciByPSh0PXRoaXMub3B0aW9ucz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KWVbcl09dFtyXTtyZXR1cm4gZX0oT2JqZWN0LmNyZWF0ZSh0aGlzLm9wdGlvbnMpLHQpKS5kZWJ1ZztpZihyJiZjb25zb2xlLnRpbWUoXCJwcmVwcm9jZXNzIGRhdGFcIiksdC5tYXhab29tPDB8fHQubWF4Wm9vbT4yNCl0aHJvdyBuZXcgRXJyb3IoXCJtYXhab29tIHNob3VsZCBiZSBpbiB0aGUgMC0yNCByYW5nZVwiKTtpZih0LnByb21vdGVJZCYmdC5nZW5lcmF0ZUlkKXRocm93IG5ldyBFcnJvcihcInByb21vdGVJZCBhbmQgZ2VuZXJhdGVJZCBjYW5ub3QgYmUgdXNlZCB0b2dldGhlci5cIik7dmFyIG89ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXTtpZihcIkZlYXR1cmVDb2xsZWN0aW9uXCI9PT1lLnR5cGUpZm9yKHZhciBvPTA7bzxlLmZlYXR1cmVzLmxlbmd0aDtvKyspaShyLGUuZmVhdHVyZXNbb10sdCxvKTtlbHNlIGkocixcIkZlYXR1cmVcIj09PWUudHlwZT9lOntnZW9tZXRyeTplfSx0KTtyZXR1cm4gcn0oZSx0KTt0aGlzLnRpbGVzPXt9LHRoaXMudGlsZUNvb3Jkcz1bXSxyJiYoY29uc29sZS50aW1lRW5kKFwicHJlcHJvY2VzcyBkYXRhXCIpLGNvbnNvbGUubG9nKFwiaW5kZXg6IG1heFpvb206ICVkLCBtYXhQb2ludHM6ICVkXCIsdC5pbmRleE1heFpvb20sdC5pbmRleE1heFBvaW50cyksY29uc29sZS50aW1lKFwiZ2VuZXJhdGUgdGlsZXNcIiksdGhpcy5zdGF0cz17fSx0aGlzLnRvdGFsPTApLChvPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5idWZmZXIvdC5leHRlbnQsbz1lLGk9dShlLDEsLTEtcixyLDAsLTEsMix0KSxzPXUoZSwxLDEtciwyK3IsMCwtMSwyLHQpO3JldHVybiAoaXx8cykmJihvPXUoZSwxLC1yLDErciwwLC0xLDIsdCl8fFtdLGkmJihvPXYoaSwxKS5jb25jYXQobykpLHMmJihvPW8uY29uY2F0KHYocywtMSkpKSksb30obyx0KSkubGVuZ3RoJiZ0aGlzLnNwbGl0VGlsZShvLDAsMCwwKSxyJiYoby5sZW5ndGgmJmNvbnNvbGUubG9nKFwiZmVhdHVyZXM6ICVkLCBwb2ludHM6ICVkXCIsdGhpcy50aWxlc1swXS5udW1GZWF0dXJlcyx0aGlzLnRpbGVzWzBdLm51bVBvaW50cyksY29uc29sZS50aW1lRW5kKFwiZ2VuZXJhdGUgdGlsZXNcIiksY29uc29sZS5sb2coXCJ0aWxlcyBnZW5lcmF0ZWQ6XCIsdGhpcy50b3RhbCxKU09OLnN0cmluZ2lmeSh0aGlzLnN0YXRzKSkpO31mdW5jdGlvbiBQKGUsdCxyKXtyZXR1cm4gMzIqKCgxPDxlKSpyK3QpK2V9cmV0dXJuIGsucHJvdG90eXBlLm9wdGlvbnM9e21heFpvb206MTQsaW5kZXhNYXhab29tOjUsaW5kZXhNYXhQb2ludHM6MWU1LHRvbGVyYW5jZTozLGV4dGVudDo0MDk2LGJ1ZmZlcjo2NCxsaW5lTWV0cmljczohMSxwcm9tb3RlSWQ6bnVsbCxnZW5lcmF0ZUlkOiExLGRlYnVnOjB9LGsucHJvdG90eXBlLnNwbGl0VGlsZT1mdW5jdGlvbihlLHQscixvLGkscyxuKXtmb3IodmFyIGE9W2UsdCxyLG9dLGw9dGhpcy5vcHRpb25zLGg9bC5kZWJ1ZzthLmxlbmd0aDspe289YS5wb3AoKSxyPWEucG9wKCksdD1hLnBvcCgpLGU9YS5wb3AoKTt2YXIgYz0xPDx0LGY9UCh0LHIsbyksZD10aGlzLnRpbGVzW2ZdO2lmKCFkJiYoaD4xJiZjb25zb2xlLnRpbWUoXCJjcmVhdGlvblwiKSxkPXRoaXMudGlsZXNbZl09TShlLHQscixvLGwpLHRoaXMudGlsZUNvb3Jkcy5wdXNoKHt6OnQseDpyLHk6b30pLGgpKXtoPjEmJihjb25zb2xlLmxvZyhcInRpbGUgeiVkLSVkLSVkIChmZWF0dXJlczogJWQsIHBvaW50czogJWQsIHNpbXBsaWZpZWQ6ICVkKVwiLHQscixvLGQubnVtRmVhdHVyZXMsZC5udW1Qb2ludHMsZC5udW1TaW1wbGlmaWVkKSxjb25zb2xlLnRpbWVFbmQoXCJjcmVhdGlvblwiKSk7dmFyIHA9XCJ6XCIrdDt0aGlzLnN0YXRzW3BdPSh0aGlzLnN0YXRzW3BdfHwwKSsxLHRoaXMudG90YWwrKzt9aWYoZC5zb3VyY2U9ZSxpKXtpZih0PT09bC5tYXhab29tfHx0PT09aSljb250aW51ZTt2YXIgZz0xPDxpLXQ7aWYociE9PU1hdGguZmxvb3Iocy9nKXx8byE9PU1hdGguZmxvb3Iobi9nKSljb250aW51ZX1lbHNlIGlmKHQ9PT1sLmluZGV4TWF4Wm9vbXx8ZC5udW1Qb2ludHM8PWwuaW5kZXhNYXhQb2ludHMpY29udGludWU7aWYoZC5zb3VyY2U9bnVsbCwwIT09ZS5sZW5ndGgpe2g+MSYmY29uc29sZS50aW1lKFwiY2xpcHBpbmdcIik7dmFyIG0seSx2LHcseCxTLGI9LjUqbC5idWZmZXIvbC5leHRlbnQsST0uNS1iLGs9LjUrYixfPTErYjttPXk9dj13PW51bGwseD11KGUsYyxyLWIscitrLDAsZC5taW5YLGQubWF4WCxsKSxTPXUoZSxjLHIrSSxyK18sMCxkLm1pblgsZC5tYXhYLGwpLGU9bnVsbCx4JiYobT11KHgsYyxvLWIsbytrLDEsZC5taW5ZLGQubWF4WSxsKSx5PXUoeCxjLG8rSSxvK18sMSxkLm1pblksZC5tYXhZLGwpLHg9bnVsbCksUyYmKHY9dShTLGMsby1iLG8raywxLGQubWluWSxkLm1heFksbCksdz11KFMsYyxvK0ksbytfLDEsZC5taW5ZLGQubWF4WSxsKSxTPW51bGwpLGg+MSYmY29uc29sZS50aW1lRW5kKFwiY2xpcHBpbmdcIiksYS5wdXNoKG18fFtdLHQrMSwyKnIsMipvKSxhLnB1c2goeXx8W10sdCsxLDIqciwyKm8rMSksYS5wdXNoKHZ8fFtdLHQrMSwyKnIrMSwyKm8pLGEucHVzaCh3fHxbXSx0KzEsMipyKzEsMipvKzEpO319fSxrLnByb3RvdHlwZS5nZXRUaWxlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz10aGlzLm9wdGlvbnMsaT1vLmV4dGVudCxzPW8uZGVidWc7aWYoZTwwfHxlPjI0KXJldHVybiBudWxsO3ZhciBuPTE8PGUsYT1QKGUsdD0odCVuK24pJW4scik7aWYodGhpcy50aWxlc1thXSlyZXR1cm4geCh0aGlzLnRpbGVzW2FdLGkpO3M+MSYmY29uc29sZS5sb2coXCJkcmlsbGluZyBkb3duIHRvIHolZC0lZC0lZFwiLGUsdCxyKTtmb3IodmFyIGwsaD1lLHU9dCxjPXI7IWwmJmg+MDspaC0tLHU9TWF0aC5mbG9vcih1LzIpLGM9TWF0aC5mbG9vcihjLzIpLGw9dGhpcy50aWxlc1tQKGgsdSxjKV07cmV0dXJuIGwmJmwuc291cmNlPyhzPjEmJmNvbnNvbGUubG9nKFwiZm91bmQgcGFyZW50IHRpbGUgeiVkLSVkLSVkXCIsaCx1LGMpLHM+MSYmY29uc29sZS50aW1lKFwiZHJpbGxpbmcgZG93blwiKSx0aGlzLnNwbGl0VGlsZShsLnNvdXJjZSxoLHUsYyxlLHQscikscz4xJiZjb25zb2xlLnRpbWVFbmQoXCJkcmlsbGluZyBkb3duXCIpLHRoaXMudGlsZXNbYV0/eCh0aGlzLnRpbGVzW2FdLGkpOm51bGwpOm51bGx9LGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBrKGUsdCl9fSgpO3ZhciBKPWUuZyhOLmV4cG9ydHMpO2Z1bmN0aW9uIFkodCxyKXtjb25zdCBvPXQudGlsZUlELmNhbm9uaWNhbDtpZighdGhpcy5fZ2VvSlNPTkluZGV4KXJldHVybiByKG51bGwsbnVsbCk7Y29uc3QgaT10aGlzLl9nZW9KU09OSW5kZXguZ2V0VGlsZShvLnosby54LG8ueSk7aWYoIWkpcmV0dXJuIHIobnVsbCxudWxsKTtjb25zdCBzPW5ldyBjbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLmxheWVycz17X2dlb2pzb25UaWxlTGF5ZXI6dGhpc30sdGhpcy5uYW1lPVwiX2dlb2pzb25UaWxlTGF5ZXJcIix0aGlzLmV4dGVudD1lLkUsdGhpcy5sZW5ndGg9dC5sZW5ndGgsdGhpcy5fZmVhdHVyZXM9dDt9ZmVhdHVyZSh0KXtyZXR1cm4gbmV3IGNsYXNze2NvbnN0cnVjdG9yKHQpe3RoaXMuX2ZlYXR1cmU9dCx0aGlzLmV4dGVudD1lLkUsdGhpcy50eXBlPXQudHlwZSx0aGlzLnByb3BlcnRpZXM9dC50YWdzLFwiaWRcImluIHQmJiFpc05hTih0LmlkKSYmKHRoaXMuaWQ9cGFyc2VJbnQodC5pZCwxMCkpO31sb2FkR2VvbWV0cnkoKXtpZigxPT09dGhpcy5fZmVhdHVyZS50eXBlKXtjb25zdCB0PVtdO2Zvcihjb25zdCByIG9mIHRoaXMuX2ZlYXR1cmUuZ2VvbWV0cnkpdC5wdXNoKFtuZXcgZS5QKHJbMF0sclsxXSldKTtyZXR1cm4gdH17Y29uc3QgdD1bXTtmb3IoY29uc3QgciBvZiB0aGlzLl9mZWF0dXJlLmdlb21ldHJ5KXtjb25zdCBvPVtdO2Zvcihjb25zdCB0IG9mIHIpby5wdXNoKG5ldyBlLlAodFswXSx0WzFdKSk7dC5wdXNoKG8pO31yZXR1cm4gdH19dG9HZW9KU09OKGUsdCxyKXtyZXR1cm4gbC5jYWxsKHRoaXMsZSx0LHIpfX0odGhpcy5fZmVhdHVyZXNbdF0pfX0oaS5mZWF0dXJlcyk7bGV0IG49ayhzKTswPT09bi5ieXRlT2Zmc2V0JiZuLmJ5dGVMZW5ndGg9PT1uLmJ1ZmZlci5ieXRlTGVuZ3RofHwobj1uZXcgVWludDhBcnJheShuKSkscihudWxsLHt2ZWN0b3JUaWxlOnMscmF3RGF0YTpuLmJ1ZmZlcn0pO31jbGFzcyBHIGV4dGVuZHMgZS5ke2NvbnN0cnVjdG9yKGUsdCxyLG8saSxzKXtzdXBlcihlLHQscixvLFkscyksaSYmKHRoaXMubG9hZEdlb0pTT049aSk7fWxvYWREYXRhKHQscil7Y29uc3Qgbz10JiZ0LnJlcXVlc3QsaT1vJiZvLmNvbGxlY3RSZXNvdXJjZVRpbWluZzt0aGlzLmxvYWRHZW9KU09OKHQsKChzLG4pPT57aWYoc3x8IW4pcmV0dXJuIHIocyk7aWYoXCJvYmplY3RcIiE9dHlwZW9mIG4pcmV0dXJuIHIobmV3IEVycm9yKGBJbnB1dCBkYXRhIGdpdmVuIHRvICcke3Quc291cmNlfScgaXMgbm90IGEgdmFsaWQgR2VvSlNPTiBvYmplY3QuYCkpO3thKG4sITApO3RyeXtpZih0LmZpbHRlcil7Y29uc3Qgcj1lLmUodC5maWx0ZXIse3R5cGU6XCJib29sZWFuXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwiLG92ZXJyaWRhYmxlOiExLHRyYW5zaXRpb246ITF9KTtpZihcImVycm9yXCI9PT1yLnJlc3VsdCl0aHJvdyBuZXcgRXJyb3Ioci52YWx1ZS5tYXAoKGU9PmAke2Uua2V5fTogJHtlLm1lc3NhZ2V9YCkpLmpvaW4oXCIsIFwiKSk7Y29uc3Qgbz1uLmZlYXR1cmVzLmZpbHRlcigoZT0+ci52YWx1ZS5ldmFsdWF0ZSh7em9vbTowfSxlKSkpO249e3R5cGU6XCJGZWF0dXJlQ29sbGVjdGlvblwiLGZlYXR1cmVzOm99O310aGlzLl9nZW9KU09OSW5kZXg9dC5jbHVzdGVyP25ldyBqKGZ1bmN0aW9uKHtzdXBlcmNsdXN0ZXJPcHRpb25zOnQsY2x1c3RlclByb3BlcnRpZXM6cn0pe2lmKCFyfHwhdClyZXR1cm4gdDtjb25zdCBvPXt9LGk9e30scz17YWNjdW11bGF0ZWQ6bnVsbCx6b29tOjB9LG49e3Byb3BlcnRpZXM6bnVsbH0sYT1PYmplY3Qua2V5cyhyKTtmb3IoY29uc3QgdCBvZiBhKXtjb25zdFtzLG5dPXJbdF0sYT1lLmUobiksbD1lLmUoXCJzdHJpbmdcIj09dHlwZW9mIHM/W3MsW1wiYWNjdW11bGF0ZWRcIl0sW1wiZ2V0XCIsdF1dOnMpO29bdF09YS52YWx1ZSxpW3RdPWwudmFsdWU7fXJldHVybiB0Lm1hcD1lPT57bi5wcm9wZXJ0aWVzPWU7Y29uc3QgdD17fTtmb3IoY29uc3QgZSBvZiBhKXRbZV09b1tlXS5ldmFsdWF0ZShzLG4pO3JldHVybiB0fSx0LnJlZHVjZT0oZSx0KT0+e24ucHJvcGVydGllcz10O2Zvcihjb25zdCB0IG9mIGEpcy5hY2N1bXVsYXRlZD1lW3RdLGVbdF09aVt0XS5ldmFsdWF0ZShzLG4pO30sdH0odCkpLmxvYWQobi5mZWF0dXJlcyk6SihuLHQuZ2VvanNvblZ0T3B0aW9ucyk7fWNhdGNoKHMpe3JldHVybiByKHMpfXRoaXMubG9hZGVkPXt9O2NvbnN0IGw9e307aWYoaSl7Y29uc3Qgcj1lLmYobyk7ciYmKGwucmVzb3VyY2VUaW1pbmc9e30sbC5yZXNvdXJjZVRpbWluZ1t0LnNvdXJjZV09SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyKSkpO31yKG51bGwsbCk7fX0pKTt9cmVsb2FkVGlsZShlLHQpe2NvbnN0IHI9dGhpcy5sb2FkZWQ7cmV0dXJuIHImJnJbZS51aWRdP3N1cGVyLnJlbG9hZFRpbGUoZSx0KTp0aGlzLmxvYWRUaWxlKGUsdCl9bG9hZEdlb0pTT04odCxyKXtpZih0LnJlcXVlc3QpZS5oKHQucmVxdWVzdCxyKTtlbHNlIHtpZihcInN0cmluZ1wiIT10eXBlb2YgdC5kYXRhKXJldHVybiByKG5ldyBFcnJvcihgSW5wdXQgZGF0YSBnaXZlbiB0byAnJHt0LnNvdXJjZX0nIGlzIG5vdCBhIHZhbGlkIEdlb0pTT04gb2JqZWN0LmApKTt0cnl7cmV0dXJuIHIobnVsbCxKU09OLnBhcnNlKHQuZGF0YSkpfWNhdGNoKGUpe3JldHVybiByKG5ldyBFcnJvcihgSW5wdXQgZGF0YSBnaXZlbiB0byAnJHt0LnNvdXJjZX0nIGlzIG5vdCBhIHZhbGlkIEdlb0pTT04gb2JqZWN0LmApKX19fWdldENsdXN0ZXJFeHBhbnNpb25ab29tKGUsdCl7dHJ5e3QobnVsbCx0aGlzLl9nZW9KU09OSW5kZXguZ2V0Q2x1c3RlckV4cGFuc2lvblpvb20oZS5jbHVzdGVySWQpKTt9Y2F0Y2goZSl7dChlKTt9fWdldENsdXN0ZXJDaGlsZHJlbihlLHQpe3RyeXt0KG51bGwsdGhpcy5fZ2VvSlNPTkluZGV4LmdldENoaWxkcmVuKGUuY2x1c3RlcklkKSk7fWNhdGNoKGUpe3QoZSk7fX1nZXRDbHVzdGVyTGVhdmVzKGUsdCl7dHJ5e3QobnVsbCx0aGlzLl9nZW9KU09OSW5kZXguZ2V0TGVhdmVzKGUuY2x1c3RlcklkLGUubGltaXQsZS5vZmZzZXQpKTt9Y2F0Y2goZSl7dChlKTt9fX1jbGFzcyBXe2NvbnN0cnVjdG9yKHQscil7dGhpcy50aWxlSUQ9bmV3IGUuTyh0LnRpbGVJRC5vdmVyc2NhbGVkWix0LnRpbGVJRC53cmFwLHQudGlsZUlELmNhbm9uaWNhbC56LHQudGlsZUlELmNhbm9uaWNhbC54LHQudGlsZUlELmNhbm9uaWNhbC55KSx0aGlzLnRpbGVab29tPXQudGlsZVpvb20sdGhpcy51aWQ9dC51aWQsdGhpcy56b29tPXQuem9vbSx0aGlzLmNhbm9uaWNhbD10LnRpbGVJRC5jYW5vbmljYWwsdGhpcy5waXhlbFJhdGlvPXQucGl4ZWxSYXRpbyx0aGlzLnRpbGVTaXplPXQudGlsZVNpemUsdGhpcy5zb3VyY2U9dC5zb3VyY2UsdGhpcy5vdmVyc2NhbGluZz10aGlzLnRpbGVJRC5vdmVyc2NhbGVGYWN0b3IoKSx0aGlzLnByb2plY3Rpb249dC5wcm9qZWN0aW9uLHRoaXMuYnJpZ2h0bmVzcz1yO31wYXJzZSh0LHIsbyxpKXt0aGlzLnN0YXR1cz1cInBhcnNpbmdcIjtjb25zdCBzPW5ldyBlLk8oby50aWxlSUQub3ZlcnNjYWxlZFosby50aWxlSUQud3JhcCxvLnRpbGVJRC5jYW5vbmljYWwueixvLnRpbGVJRC5jYW5vbmljYWwueCxvLnRpbGVJRC5jYW5vbmljYWwueSksbj17fSxhPXIuZmFtaWxpZXNCeVNvdXJjZVtvLnNvdXJjZV0sbD1uZXcgZS5GKHMsby5wcm9tb3RlSWQpO3JldHVybiBsLmJ1Y2tldExheWVySURzPVtdLGUubCh0KS50aGVuKCh0PT57aWYoIXQpcmV0dXJuIGkobmV3IEVycm9yKFwiQ291bGQgbm90IHBhcnNlIHRpbGVcIikpO2NvbnN0IHI9ZS5qKHQsMS9lLnQoby50aWxlSUQuY2Fub25pY2FsKSksaD10Lmpzb24uZXh0ZW5zaW9uc1VzZWQmJnQuanNvbi5leHRlbnNpb25zVXNlZC5pbmNsdWRlcyhcIk1BUEJPWF9tZXNoX2ZlYXR1cmVzXCIpLHU9bmV3IGUuayh0aGlzLnpvb20se2JyaWdodG5lc3M6dGhpcy5icmlnaHRuZXNzfSk7Zm9yKGNvbnN0IG8gaW4gYSlmb3IoY29uc3QgaSBvZiBhW29dKXtjb25zdCBvPWlbMF0sYT10Lmpzb24uZXh0ZW5zaW9uc1VzZWQ7by5yZWNhbGN1bGF0ZSh1LFtdKTtjb25zdCBsPW5ldyBlLlQocixzLGEmJmEuaW5jbHVkZXMoXCJNQVBCT1hfbWVzaF9mZWF0dXJlc1wiKSx0aGlzLmJyaWdodG5lc3MpO2h8fChsLm5lZWRzVXBsb2FkPSEwKSxuW28uZnFpZF09bCxsLmV2YWx1YXRlKG8pO310aGlzLnN0YXR1cz1cImRvbmVcIixpKG51bGwse2J1Y2tldHM6bixmZWF0dXJlSW5kZXg6bH0pO30pKS5jYXRjaCgoZT0+aShuZXcgRXJyb3IoZS5tZXNzYWdlKSkpKX19Y2xhc3MgWHtjb25zdHJ1Y3RvcihlLHQscixvLGkscyl7dGhpcy5hY3Rvcj1lLHRoaXMubGF5ZXJJbmRleD10LHRoaXMuYnJpZ2h0bmVzcz1zLHRoaXMubG9hZGluZz17fSx0aGlzLmxvYWRlZD17fTt9bG9hZFRpbGUodCxyKXtjb25zdCBvPXQudWlkLGk9dGhpcy5sb2FkaW5nW29dPW5ldyBXKHQsdGhpcy5icmlnaHRuZXNzKTtlLmkodC5yZXF1ZXN0LCgoZSxzKT0+e2NvbnN0IG49IXRoaXMubG9hZGluZ1tvXTtyZXR1cm4gZGVsZXRlIHRoaXMubG9hZGluZ1tvXSxufHxlPyhpLnN0YXR1cz1cImRvbmVcIixufHwodGhpcy5sb2FkZWRbb109aSkscihlKSk6cyYmMCE9PXMuYnl0ZUxlbmd0aD92b2lkIGkucGFyc2Uocyx0aGlzLmxheWVySW5kZXgsdCwoKGUsdCk9PntpLnN0YXR1cz1cImRvbmVcIix0aGlzLmxvYWRlZD10aGlzLmxvYWRlZHx8e30sdGhpcy5sb2FkZWRbb109aSxlfHwhdD9yKGUpOnIobnVsbCx0KTt9KSk6KGkuc3RhdHVzPVwiZG9uZVwiLHRoaXMubG9hZGVkW29dPWkscigpKX0pKTt9cmVsb2FkVGlsZShlLHQpe2NvbnN0IHI9dGhpcy5sb2FkZWQsbz1lLnVpZDtpZihyJiZyW29dKXtjb25zdCBpPXJbb107aS5wcm9qZWN0aW9uPWUucHJvamVjdGlvbixpLmJyaWdodG5lc3M9ZS5icmlnaHRuZXNzO2NvbnN0IHM9KHIsbyk9PntpLnJlbG9hZENhbGxiYWNrJiYoZGVsZXRlIGkucmVsb2FkQ2FsbGJhY2ssdGhpcy5sb2FkVGlsZShlLHQpKSx0KHIsbyk7fTtcInBhcnNpbmdcIj09PWkuc3RhdHVzP2kucmVsb2FkQ2FsbGJhY2s9czpcImRvbmVcIj09PWkuc3RhdHVzJiZ0aGlzLmxvYWRUaWxlKGUsdCk7fX1hYm9ydFRpbGUoZSx0KXtjb25zdCByPWUudWlkO3RoaXMubG9hZGluZ1tyXSYmZGVsZXRlIHRoaXMubG9hZGluZ1tyXSx0KCk7fXJlbW92ZVRpbGUoZSx0KXtjb25zdCByPXRoaXMubG9hZGVkLG89ZS51aWQ7ciYmcltvXSYmZGVsZXRlIHJbb10sdCgpO319Y2xhc3MgVntjb25zdHJ1Y3Rvcih0KXt0aGlzLnNlbGY9dCx0aGlzLmFjdG9yPW5ldyBlLkEodCx0aGlzKSx0aGlzLmxheWVySW5kZXhlcz17fSx0aGlzLmF2YWlsYWJsZUltYWdlcz17fSx0aGlzLmlzU3ByaXRlTG9hZGVkPXt9LHRoaXMucHJvamVjdGlvbnM9e30sdGhpcy5kZWZhdWx0UHJvamVjdGlvbj1lLm0oe25hbWU6XCJtZXJjYXRvclwifSksdGhpcy53b3JrZXJTb3VyY2VUeXBlcz17dmVjdG9yOmUuZCxnZW9qc29uOkcsXCJiYXRjaGVkLW1vZGVsXCI6WH0sdGhpcy53b3JrZXJTb3VyY2VzPXt9LHRoaXMuZGVtV29ya2VyU291cmNlcz17fSx0aGlzLnNlbGYucmVnaXN0ZXJXb3JrZXJTb3VyY2U9KGUsdCk9PntpZih0aGlzLndvcmtlclNvdXJjZVR5cGVzW2VdKXRocm93IG5ldyBFcnJvcihgV29ya2VyIHNvdXJjZSB3aXRoIG5hbWUgXCIke2V9XCIgYWxyZWFkeSByZWdpc3RlcmVkLmApO3RoaXMud29ya2VyU291cmNlVHlwZXNbZV09dDt9LHRoaXMuc2VsZi5yZWdpc3RlclJUTFRleHRQbHVnaW49dD0+e2lmKGUubi5pc1BhcnNlZCgpKXRocm93IG5ldyBFcnJvcihcIlJUTCB0ZXh0IHBsdWdpbiBhbHJlYWR5IHJlZ2lzdGVyZWQuXCIpO2Uubi5hcHBseUFyYWJpY1NoYXBpbmc9dC5hcHBseUFyYWJpY1NoYXBpbmcsZS5uLnByb2Nlc3NCaWRpcmVjdGlvbmFsVGV4dD10LnByb2Nlc3NCaWRpcmVjdGlvbmFsVGV4dCxlLm4ucHJvY2Vzc1N0eWxlZEJpZGlyZWN0aW9uYWxUZXh0PXQucHJvY2Vzc1N0eWxlZEJpZGlyZWN0aW9uYWxUZXh0O307fWNsZWFyQ2FjaGVzKGUsdCxyKXtkZWxldGUgdGhpcy5sYXllckluZGV4ZXNbZV0sZGVsZXRlIHRoaXMuYXZhaWxhYmxlSW1hZ2VzW2VdLGRlbGV0ZSB0aGlzLndvcmtlclNvdXJjZXNbZV0sZGVsZXRlIHRoaXMuZGVtV29ya2VyU291cmNlc1tlXSxyKCk7fWNoZWNrSWZSZWFkeShlLHQscil7cigpO31zZXRSZWZlcnJlcihlLHQpe3RoaXMucmVmZXJyZXI9dDt9c3ByaXRlTG9hZGVkKHQse3Njb3BlOnIsaXNMb2FkZWQ6b30pe2lmKHRoaXMuaXNTcHJpdGVMb2FkZWRbdF18fCh0aGlzLmlzU3ByaXRlTG9hZGVkW3RdPXt9KSx0aGlzLmlzU3ByaXRlTG9hZGVkW3RdW3JdPW8sdGhpcy53b3JrZXJTb3VyY2VzW3RdJiZ0aGlzLndvcmtlclNvdXJjZXNbdF1bcl0pZm9yKGNvbnN0IGkgaW4gdGhpcy53b3JrZXJTb3VyY2VzW3RdW3JdKXtjb25zdCBzPXRoaXMud29ya2VyU291cmNlc1t0XVtyXVtpXTtmb3IoY29uc3QgdCBpbiBzKXNbdF1pbnN0YW5jZW9mIGUuZCYmKHNbdF0uaXNTcHJpdGVMb2FkZWQ9byxzW3RdLmZpcmUobmV3IGUubyhcImlzU3ByaXRlTG9hZGVkXCIpKSk7fX1zZXRJbWFnZXMoZSx7c2NvcGU6dCxpbWFnZXM6cn0sbyl7aWYodGhpcy5hdmFpbGFibGVJbWFnZXNbZV18fCh0aGlzLmF2YWlsYWJsZUltYWdlc1tlXT17fSksdGhpcy5hdmFpbGFibGVJbWFnZXNbZV1bdF09cix0aGlzLndvcmtlclNvdXJjZXNbZV0mJnRoaXMud29ya2VyU291cmNlc1tlXVt0XSl7Zm9yKGNvbnN0IG8gaW4gdGhpcy53b3JrZXJTb3VyY2VzW2VdW3RdKXtjb25zdCBpPXRoaXMud29ya2VyU291cmNlc1tlXVt0XVtvXTtmb3IoY29uc3QgZSBpbiBpKWlbZV0uYXZhaWxhYmxlSW1hZ2VzPXI7fW8oKTt9ZWxzZSBvKCk7fXNldFByb2plY3Rpb24odCxyKXt0aGlzLnByb2plY3Rpb25zW3RdPWUubShyKTt9c2V0QnJpZ2h0bmVzcyhlLHQscil7dGhpcy5icmlnaHRuZXNzPXQscigpO31zZXRMYXllcnMoZSx0LHIpe3RoaXMuZ2V0TGF5ZXJJbmRleChlLHQuc2NvcGUpLnJlcGxhY2UodC5sYXllcnMsdC5vcHRpb25zKSxyKCk7fXVwZGF0ZUxheWVycyhlLHQscil7dGhpcy5nZXRMYXllckluZGV4KGUsdC5zY29wZSkudXBkYXRlKHQubGF5ZXJzLHQucmVtb3ZlZElkcyx0Lm9wdGlvbnMpLHIoKTt9bG9hZFRpbGUoZSx0LHIpe3QucHJvamVjdGlvbj10aGlzLnByb2plY3Rpb25zW2VdfHx0aGlzLmRlZmF1bHRQcm9qZWN0aW9uLHRoaXMuZ2V0V29ya2VyU291cmNlKGUsdC50eXBlLHQuc291cmNlLHQuc2NvcGUpLmxvYWRUaWxlKHQscik7fWxvYWRERU1UaWxlKGUsdCxyKXt0aGlzLmdldERFTVdvcmtlclNvdXJjZShlLHQuc291cmNlLHQuc2NvcGUpLmxvYWRUaWxlKHQscik7fXJlbG9hZFRpbGUoZSx0LHIpe3QucHJvamVjdGlvbj10aGlzLnByb2plY3Rpb25zW2VdfHx0aGlzLmRlZmF1bHRQcm9qZWN0aW9uLHRoaXMuZ2V0V29ya2VyU291cmNlKGUsdC50eXBlLHQuc291cmNlLHQuc2NvcGUpLnJlbG9hZFRpbGUodCxyKTt9YWJvcnRUaWxlKGUsdCxyKXt0aGlzLmdldFdvcmtlclNvdXJjZShlLHQudHlwZSx0LnNvdXJjZSx0LnNjb3BlKS5hYm9ydFRpbGUodCxyKTt9cmVtb3ZlVGlsZShlLHQscil7dGhpcy5nZXRXb3JrZXJTb3VyY2UoZSx0LnR5cGUsdC5zb3VyY2UsdC5zY29wZSkucmVtb3ZlVGlsZSh0LHIpO31yZW1vdmVTb3VyY2UoZSx0LHIpe2lmKCEodGhpcy53b3JrZXJTb3VyY2VzW2VdJiZ0aGlzLndvcmtlclNvdXJjZXNbZV1bdC5zY29wZV0mJnRoaXMud29ya2VyU291cmNlc1tlXVt0LnNjb3BlXVt0LnR5cGVdJiZ0aGlzLndvcmtlclNvdXJjZXNbZV1bdC5zY29wZV1bdC50eXBlXVt0LnNvdXJjZV0pKXJldHVybjtjb25zdCBvPXRoaXMud29ya2VyU291cmNlc1tlXVt0LnNjb3BlXVt0LnR5cGVdW3Quc291cmNlXTtkZWxldGUgdGhpcy53b3JrZXJTb3VyY2VzW2VdW3Quc2NvcGVdW3QudHlwZV1bdC5zb3VyY2VdLHZvaWQgMCE9PW8ucmVtb3ZlU291cmNlP28ucmVtb3ZlU291cmNlKHQscik6cigpO31sb2FkV29ya2VyU291cmNlKGUsdCxyKXt0cnl7dGhpcy5zZWxmLmltcG9ydFNjcmlwdHModC51cmwpLHIoKTt9Y2F0Y2goZSl7cihlLnRvU3RyaW5nKCkpO319c3luY1JUTFBsdWdpblN0YXRlKHQscixvKXt0cnl7ZS5uLnNldFN0YXRlKHIpO2NvbnN0IHQ9ZS5uLmdldFBsdWdpblVSTCgpO2lmKGUubi5pc0xvYWRlZCgpJiYhZS5uLmlzUGFyc2VkKCkmJm51bGwhPXQpe3RoaXMuc2VsZi5pbXBvcnRTY3JpcHRzKHQpO2NvbnN0IHI9ZS5uLmlzUGFyc2VkKCk7byhyP3ZvaWQgMDpuZXcgRXJyb3IoYFJUTCBUZXh0IFBsdWdpbiBmYWlsZWQgdG8gaW1wb3J0IHNjcmlwdHMgZnJvbSAke3R9YCkscik7fX1jYXRjaChlKXtvKGUudG9TdHJpbmcoKSk7fX1zZXREcmFjb1VybChlLHQpe3RoaXMuZHJhY29Vcmw9dDt9Z2V0QXZhaWxhYmxlSW1hZ2VzKGUsdCl7dGhpcy5hdmFpbGFibGVJbWFnZXNbZV18fCh0aGlzLmF2YWlsYWJsZUltYWdlc1tlXT17fSk7bGV0IHI9dGhpcy5hdmFpbGFibGVJbWFnZXNbZV1bdF07cmV0dXJuIHJ8fChyPVtdKSxyfWdldExheWVySW5kZXgoZSx0KXt0aGlzLmxheWVySW5kZXhlc1tlXXx8KHRoaXMubGF5ZXJJbmRleGVzW2VdPXt9KTtsZXQgcj10aGlzLmxheWVySW5kZXhlc1tlXVt0XTtyZXR1cm4gcnx8KHI9dGhpcy5sYXllckluZGV4ZXNbZV1bdF09bmV3IG8sci5zY29wZT10KSxyfWdldFdvcmtlclNvdXJjZShlLHQscixvKXtpZih0aGlzLndvcmtlclNvdXJjZXNbZV18fCh0aGlzLndvcmtlclNvdXJjZXNbZV09e30pLHRoaXMud29ya2VyU291cmNlc1tlXVtvXXx8KHRoaXMud29ya2VyU291cmNlc1tlXVtvXT17fSksdGhpcy53b3JrZXJTb3VyY2VzW2VdW29dW3RdfHwodGhpcy53b3JrZXJTb3VyY2VzW2VdW29dW3RdPXt9KSx0aGlzLmlzU3ByaXRlTG9hZGVkW2VdfHwodGhpcy5pc1Nwcml0ZUxvYWRlZFtlXT17fSksIXRoaXMud29ya2VyU291cmNlc1tlXVtvXVt0XVtyXSl7Y29uc3QgaT17c2VuZDoodCxyLG8saSxzLG4pPT57dGhpcy5hY3Rvci5zZW5kKHQscixvLGUscyxuKTt9LHNjaGVkdWxlcjp0aGlzLmFjdG9yLnNjaGVkdWxlcn07dGhpcy53b3JrZXJTb3VyY2VzW2VdW29dW3RdW3JdPW5ldyB0aGlzLndvcmtlclNvdXJjZVR5cGVzW3RdKGksdGhpcy5nZXRMYXllckluZGV4KGUsbyksdGhpcy5nZXRBdmFpbGFibGVJbWFnZXMoZSxvKSx0aGlzLmlzU3ByaXRlTG9hZGVkW2VdW29dLHZvaWQgMCx0aGlzLmJyaWdodG5lc3MpO31yZXR1cm4gdGhpcy53b3JrZXJTb3VyY2VzW2VdW29dW3RdW3JdfWdldERFTVdvcmtlclNvdXJjZShlLHQscil7cmV0dXJuIHRoaXMuZGVtV29ya2VyU291cmNlc1tlXXx8KHRoaXMuZGVtV29ya2VyU291cmNlc1tlXT17fSksdGhpcy5kZW1Xb3JrZXJTb3VyY2VzW2VdW3JdfHwodGhpcy5kZW1Xb3JrZXJTb3VyY2VzW2VdW3JdPXt9KSx0aGlzLmRlbVdvcmtlclNvdXJjZXNbZV1bcl1bdF18fCh0aGlzLmRlbVdvcmtlclNvdXJjZXNbZV1bcl1bdF09bmV3IGkpLHRoaXMuZGVtV29ya2VyU291cmNlc1tlXVtyXVt0XX1lbmZvcmNlQ2FjaGVTaXplTGltaXQodCxyKXtlLnEocik7fWdldFdvcmtlclBlcmZvcm1hbmNlTWV0cmljcyhlLHQscil7cih2b2lkIDAsdm9pZCAwKTt9fXJldHVybiBcInVuZGVmaW5lZFwiIT10eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGUmJihzZWxmLndvcmtlcj1uZXcgVihzZWxmKSksVn0pKTtcblxuZGVmaW5lKFtcIi4vc2hhcmVkXCJdLChmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gZS5zfSkpO1xuXG4vL1xuLy8gT3VyIGN1c3RvbSBpbnRybyBwcm92aWRlcyBhIHNwZWNpYWxpemVkIFwiZGVmaW5lKClcIiBmdW5jdGlvbiwgY2FsbGVkIGJ5IHRoZVxuLy8gQU1EIG1vZHVsZXMgYmVsb3csIHRoYXQgc2V0cyB1cCB0aGUgd29ya2VyIGJsb2IgVVJMIGFuZCB0aGVuIGV4ZWN1dGVzIHRoZVxuLy8gbWFpbiBtb2R1bGUsIHN0b3JpbmcgaXRzIGV4cG9ydGVkIHZhbHVlIGFzICdtYXBib3hnbCdcblxuXG52YXIgbWFwYm94Z2wkMSA9IG1hcGJveGdsO1xuXG5yZXR1cm4gbWFwYm94Z2wkMTtcblxufSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwYm94LWdsLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/mapbox-gl/dist/mapbox-gl.js\n");

/***/ })

};
;